!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=597)}([function(e,t,n){e.exports=n(176)()},function(e,t,n){"use strict";e.exports=n(179)},function(e,t,n){"use strict";t.__esModule=!0;var i,r=n(52),o=(i=r)&&i.__esModule?i:{default:i};t.default=o.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";t.__esModule=!0;var i,r=n(63),o=(i=r)&&i.__esModule?i:{default:i};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,o.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){"use strict";t.__esModule=!0;var i=s(n(258)),r=s(n(262)),o=s(n(63));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,o.default)(t)));e.prototype=(0,r.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i.default?(0,i.default)(e,t):e.__proto__=t)}},function(e,t,n){var i;
/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];if(i){var o=typeof i;if("string"===o||"number"===o)e.push(i);else if(Array.isArray(i))e.push(r.apply(null,i));else if("object"===o)for(var s in i)n.call(i,s)&&i[s]&&e.push(s)}}return e.join(" ")}e.exports?e.exports=r:void 0===(i=function(){return r}.apply(t,[]))||(e.exports=i)}()},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}},function(e,t){var n,i;n=this,i=function(){"use strict";var e=navigator.userAgent,t=navigator.platform,n=/gecko\/\d/i.test(e),i=/MSIE \d/.test(e),r=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),o=/Edge\/(\d+)/.exec(e),s=i||r||o,a=s&&(i?document.documentMode||6:+(o||r)[1]),l=!o&&/WebKit\//.test(e),u=l&&/Qt\/\d+\.\d+/.test(e),c=!o&&/Chrome\//.test(e),p=/Opera\//.test(e),f=/Apple Computer/.test(navigator.vendor),d=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),h=/PhantomJS/.test(e),m=!o&&/AppleWebKit/.test(e)&&/Mobile\/\w+/.test(e),g=/Android/.test(e),b=m||g||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),y=m||/Mac/.test(t),v=/\bCrOS\b/.test(e),_=/win/i.test(t),x=p&&e.match(/Version\/(\d*\.\d*)/);x&&(x=Number(x[1])),x&&x>=15&&(p=!1,l=!0);var w=y&&(u||p&&(null==x||x<12.11)),k=n||s&&a>=9;function S(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var C,E=function(e,t){var n=e.className,i=S(t).exec(n);if(i){var r=n.slice(i.index+i[0].length);e.className=n.slice(0,i.index)+(r?i[1]+r:"")}};function T(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function A(e,t){return T(e).appendChild(t)}function N(e,t,n,i){var r=document.createElement(e);if(n&&(r.className=n),i&&(r.style.cssText=i),"string"==typeof t)r.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)r.appendChild(t[o]);return r}function M(e,t,n,i){var r=N(e,t,n,i);return r.setAttribute("role","presentation"),r}function R(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function O(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function L(e,t){var n=e.className;S(t).test(n)||(e.className+=(n?" ":"")+t)}function P(e,t){for(var n=e.split(" "),i=0;i<n.length;i++)n[i]&&!S(n[i]).test(t)&&(t+=" "+n[i]);return t}C=document.createRange?function(e,t,n,i){var r=document.createRange();return r.setEnd(i||e,n),r.setStart(e,t),r}:function(e,t,n){var i=document.body.createTextRange();try{i.moveToElementText(e.parentNode)}catch(e){return i}return i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",t),i};var D=function(e){e.select()};function I(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function F(e,t,n){for(var i in t||(t={}),e)!e.hasOwnProperty(i)||!1===n&&t.hasOwnProperty(i)||(t[i]=e[i]);return t}function $(e,t,n,i,r){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=i||0,s=r||0;;){var a=e.indexOf("\t",o);if(a<0||a>=t)return s+(t-o);s+=a-o,s+=n-s%n,o=a+1}}m?D=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:s&&(D=function(e){try{e.select()}catch(e){}});var j=function(){this.id=null};function B(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}j.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var z=30,q={toString:function(){return"CodeMirror.Pass"}},H={scroll:!1},U={origin:"*mouse"},W={origin:"+move"};function V(e,t,n){for(var i=0,r=0;;){var o=e.indexOf("\t",i);-1==o&&(o=e.length);var s=o-i;if(o==e.length||r+s>=t)return i+Math.min(s,t-r);if(r+=o-i,i=o+1,(r+=n-r%n)>=t)return i}}var G=[""];function K(e){for(;G.length<=e;)G.push(Y(G)+" ");return G[e]}function Y(e){return e[e.length-1]}function X(e,t){for(var n=[],i=0;i<e.length;i++)n[i]=t(e[i],i);return n}function Q(){}function Z(e,t){var n;return Object.create?n=Object.create(e):(Q.prototype=e,n=new Q),t&&F(t,n),n}var J=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function ee(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||J.test(e))}function te(e,t){return t?!!(t.source.indexOf("\\w")>-1&&ee(e))||t.test(e):ee(e)}function ne(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var ie=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function re(e){return e.charCodeAt(0)>=768&&ie.test(e)}function oe(e,t,n){for(;(n<0?t>0:t<e.length)&&re(e.charAt(t));)t+=n;return t}function se(e,t,n){for(var i=t>n?-1:1;;){if(t==n)return t;var r=(t+n)/2,o=i<0?Math.ceil(r):Math.floor(r);if(o==t)return e(o)?t:n;e(o)?n=o:t=o+i}}function ae(e,t,i){var r=this;this.input=i,r.scrollbarFiller=N("div",null,"CodeMirror-scrollbar-filler"),r.scrollbarFiller.setAttribute("cm-not-content","true"),r.gutterFiller=N("div",null,"CodeMirror-gutter-filler"),r.gutterFiller.setAttribute("cm-not-content","true"),r.lineDiv=M("div",null,"CodeMirror-code"),r.selectionDiv=N("div",null,null,"position: relative; z-index: 1"),r.cursorDiv=N("div",null,"CodeMirror-cursors"),r.measure=N("div",null,"CodeMirror-measure"),r.lineMeasure=N("div",null,"CodeMirror-measure"),r.lineSpace=M("div",[r.measure,r.lineMeasure,r.selectionDiv,r.cursorDiv,r.lineDiv],null,"position: relative; outline: none");var o=M("div",[r.lineSpace],"CodeMirror-lines");r.mover=N("div",[o],null,"position: relative"),r.sizer=N("div",[r.mover],"CodeMirror-sizer"),r.sizerWidth=null,r.heightForcer=N("div",null,null,"position: absolute; height: "+z+"px; width: 1px;"),r.gutters=N("div",null,"CodeMirror-gutters"),r.lineGutter=null,r.scroller=N("div",[r.sizer,r.heightForcer,r.gutters],"CodeMirror-scroll"),r.scroller.setAttribute("tabIndex","-1"),r.wrapper=N("div",[r.scrollbarFiller,r.gutterFiller,r.scroller],"CodeMirror"),s&&a<8&&(r.gutters.style.zIndex=-1,r.scroller.style.paddingRight=0),l||n&&b||(r.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(r.wrapper):e(r.wrapper)),r.viewFrom=r.viewTo=t.first,r.reportedViewFrom=r.reportedViewTo=t.first,r.view=[],r.renderedView=null,r.externalMeasured=null,r.viewOffset=0,r.lastWrapHeight=r.lastWrapWidth=0,r.updateLineNumbers=null,r.nativeBarWidth=r.barHeight=r.barWidth=0,r.scrollbarsClipped=!1,r.lineNumWidth=r.lineNumInnerWidth=r.lineNumChars=null,r.alignWidgets=!1,r.cachedCharWidth=r.cachedTextHeight=r.cachedPaddingH=null,r.maxLine=null,r.maxLineLength=0,r.maxLineChanged=!1,r.wheelDX=r.wheelDY=r.wheelStartX=r.wheelStartY=null,r.shift=!1,r.selForContextMenu=null,r.activeTouch=null,i.init(r)}function le(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var i=0;;++i){var r=n.children[i],o=r.chunkSize();if(t<o){n=r;break}t-=o}return n.lines[t]}function ue(e,t,n){var i=[],r=t.line;return e.iter(t.line,n.line+1,function(e){var o=e.text;r==n.line&&(o=o.slice(0,n.ch)),r==t.line&&(o=o.slice(t.ch)),i.push(o),++r}),i}function ce(e,t,n){var i=[];return e.iter(t,n,function(e){i.push(e.text)}),i}function pe(e,t){var n=t-e.height;if(n)for(var i=e;i;i=i.parent)i.height+=n}function fe(e){if(null==e.parent)return null;for(var t=e.parent,n=B(t.lines,e),i=t.parent;i;t=i,i=i.parent)for(var r=0;i.children[r]!=t;++r)n+=i.children[r].chunkSize();return n+t.first}function de(e,t){var n=e.first;e:do{for(var i=0;i<e.children.length;++i){var r=e.children[i],o=r.height;if(t<o){e=r;continue e}t-=o,n+=r.chunkSize()}return n}while(!e.lines);for(var s=0;s<e.lines.length;++s){var a=e.lines[s].height;if(t<a)break;t-=a}return n+s}function he(e,t){return t>=e.first&&t<e.first+e.size}function me(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function ge(e,t,n){if(void 0===n&&(n=null),!(this instanceof ge))return new ge(e,t,n);this.line=e,this.ch=t,this.sticky=n}function be(e,t){return e.line-t.line||e.ch-t.ch}function ye(e,t){return e.sticky==t.sticky&&0==be(e,t)}function ve(e){return ge(e.line,e.ch)}function _e(e,t){return be(e,t)<0?t:e}function xe(e,t){return be(e,t)<0?e:t}function we(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function ke(e,t){if(t.line<e.first)return ge(e.first,0);var n=e.first+e.size-1;return t.line>n?ge(n,le(e,n).text.length):function(e,t){var n=e.ch;return null==n||n>t?ge(e.line,t):n<0?ge(e.line,0):e}(t,le(e,t.line).text.length)}function Se(e,t){for(var n=[],i=0;i<t.length;i++)n[i]=ke(e,t[i]);return n}var Ce=!1,Ee=!1;function Te(e,t,n){this.marker=e,this.from=t,this.to=n}function Ae(e,t){if(e)for(var n=0;n<e.length;++n){var i=e[n];if(i.marker==t)return i}}function Ne(e,t){for(var n,i=0;i<e.length;++i)e[i]!=t&&(n||(n=[])).push(e[i]);return n}function Me(e,t){if(t.full)return null;var n=he(e,t.from.line)&&le(e,t.from.line).markedSpans,i=he(e,t.to.line)&&le(e,t.to.line).markedSpans;if(!n&&!i)return null;var r=t.from.ch,o=t.to.ch,s=0==be(t.from,t.to),a=function(e,t,n){var i;if(e)for(var r=0;r<e.length;++r){var o=e[r],s=o.marker;if(null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t)||o.from==t&&"bookmark"==s.type&&(!n||!o.marker.insertLeft)){var a=null==o.to||(s.inclusiveRight?o.to>=t:o.to>t);(i||(i=[])).push(new Te(s,o.from,a?null:o.to))}}return i}(n,r,s),l=function(e,t,n){var i;if(e)for(var r=0;r<e.length;++r){var o=e[r],s=o.marker;if(null==o.to||(s.inclusiveRight?o.to>=t:o.to>t)||o.from==t&&"bookmark"==s.type&&(!n||o.marker.insertLeft)){var a=null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t);(i||(i=[])).push(new Te(s,a?null:o.from-t,null==o.to?null:o.to-t))}}return i}(i,o,s),u=1==t.text.length,c=Y(t.text).length+(u?r:0);if(a)for(var p=0;p<a.length;++p){var f=a[p];if(null==f.to){var d=Ae(l,f.marker);d?u&&(f.to=null==d.to?null:d.to+c):f.to=r}}if(l)for(var h=0;h<l.length;++h){var m=l[h];if(null!=m.to&&(m.to+=c),null==m.from)Ae(a,m.marker)||(m.from=c,u&&(a||(a=[])).push(m));else m.from+=c,u&&(a||(a=[])).push(m)}a&&(a=Re(a)),l&&l!=a&&(l=Re(l));var g=[a];if(!u){var b,y=t.text.length-2;if(y>0&&a)for(var v=0;v<a.length;++v)null==a[v].to&&(b||(b=[])).push(new Te(a[v].marker,null,null));for(var _=0;_<y;++_)g.push(b);g.push(l)}return g}function Re(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Oe(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function Le(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function Pe(e){return e.inclusiveLeft?-1:0}function De(e){return e.inclusiveRight?1:0}function Ie(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var i=e.find(),r=t.find(),o=be(i.from,r.from)||Pe(e)-Pe(t);if(o)return-o;var s=be(i.to,r.to)||De(e)-De(t);return s||t.id-e.id}function Fe(e,t){var n,i=Ee&&e.markedSpans;if(i)for(var r=void 0,o=0;o<i.length;++o)(r=i[o]).marker.collapsed&&null==(t?r.from:r.to)&&(!n||Ie(n,r.marker)<0)&&(n=r.marker);return n}function $e(e){return Fe(e,!0)}function je(e){return Fe(e,!1)}function Be(e,t){var n,i=Ee&&e.markedSpans;if(i)for(var r=0;r<i.length;++r){var o=i[r];o.marker.collapsed&&(null==o.from||o.from<t)&&(null==o.to||o.to>t)&&(!n||Ie(n,o.marker)<0)&&(n=o.marker)}return n}function ze(e,t,n,i,r){var o=le(e,t),s=Ee&&o.markedSpans;if(s)for(var a=0;a<s.length;++a){var l=s[a];if(l.marker.collapsed){var u=l.marker.find(0),c=be(u.from,n)||Pe(l.marker)-Pe(r),p=be(u.to,i)||De(l.marker)-De(r);if(!(c>=0&&p<=0||c<=0&&p>=0)&&(c<=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?be(u.to,n)>=0:be(u.to,n)>0)||c>=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?be(u.from,i)<=0:be(u.from,i)<0)))return!0}}}function qe(e){for(var t;t=$e(e);)e=t.find(-1,!0).line;return e}function He(e,t){var n=le(e,t),i=qe(n);return n==i?t:fe(i)}function Ue(e,t){if(t>e.lastLine())return t;var n,i=le(e,t);if(!We(e,i))return t;for(;n=je(i);)i=n.find(1,!0).line;return fe(i)+1}function We(e,t){var n=Ee&&t.markedSpans;if(n)for(var i=void 0,r=0;r<n.length;++r)if((i=n[r]).marker.collapsed){if(null==i.from)return!0;if(!i.marker.widgetNode&&0==i.from&&i.marker.inclusiveLeft&&Ve(e,t,i))return!0}}function Ve(e,t,n){if(null==n.to){var i=n.marker.find(1,!0);return Ve(e,i.line,Ae(i.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var r=void 0,o=0;o<t.markedSpans.length;++o)if((r=t.markedSpans[o]).marker.collapsed&&!r.marker.widgetNode&&r.from==n.to&&(null==r.to||r.to!=n.from)&&(r.marker.inclusiveLeft||n.marker.inclusiveRight)&&Ve(e,t,r))return!0}function Ge(e){for(var t=0,n=(e=qe(e)).parent,i=0;i<n.lines.length;++i){var r=n.lines[i];if(r==e)break;t+=r.height}for(var o=n.parent;o;o=(n=o).parent)for(var s=0;s<o.children.length;++s){var a=o.children[s];if(a==n)break;t+=a.height}return t}function Ke(e){if(0==e.height)return 0;for(var t,n=e.text.length,i=e;t=$e(i);){var r=t.find(0,!0);i=r.from.line,n+=r.from.ch-r.to.ch}for(i=e;t=je(i);){var o=t.find(0,!0);n-=i.text.length-o.from.ch,n+=(i=o.to.line).text.length-o.to.ch}return n}function Ye(e){var t=e.display,n=e.doc;t.maxLine=le(n,n.first),t.maxLineLength=Ke(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=Ke(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}var Xe=null;function Qe(e,t,n){var i;Xe=null;for(var r=0;r<e.length;++r){var o=e[r];if(o.from<t&&o.to>t)return r;o.to==t&&(o.from!=o.to&&"before"==n?i=r:Xe=r),o.from==t&&(o.from!=o.to&&"before"!=n?i=r:Xe=r)}return null!=i?i:Xe}var Ze=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";var n=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,i=/[stwN]/,r=/[LRr]/,o=/[Lb1n]/,s=/[1n]/;function a(e,t,n){this.level=e,this.from=t,this.to=n}return function(l,u){var c="ltr"==u?"L":"R";if(0==l.length||"ltr"==u&&!n.test(l))return!1;for(var p,f=l.length,d=[],h=0;h<f;++h)d.push((p=l.charCodeAt(h))<=247?e.charAt(p):1424<=p&&p<=1524?"R":1536<=p&&p<=1785?t.charAt(p-1536):1774<=p&&p<=2220?"r":8192<=p&&p<=8203?"w":8204==p?"b":"L");for(var m=0,g=c;m<f;++m){var b=d[m];"m"==b?d[m]=g:g=b}for(var y=0,v=c;y<f;++y){var _=d[y];"1"==_&&"r"==v?d[y]="n":r.test(_)&&(v=_,"r"==_&&(d[y]="R"))}for(var x=1,w=d[0];x<f-1;++x){var k=d[x];"+"==k&&"1"==w&&"1"==d[x+1]?d[x]="1":","!=k||w!=d[x+1]||"1"!=w&&"n"!=w||(d[x]=w),w=k}for(var S=0;S<f;++S){var C=d[S];if(","==C)d[S]="N";else if("%"==C){var E=void 0;for(E=S+1;E<f&&"%"==d[E];++E);for(var T=S&&"!"==d[S-1]||E<f&&"1"==d[E]?"1":"N",A=S;A<E;++A)d[A]=T;S=E-1}}for(var N=0,M=c;N<f;++N){var R=d[N];"L"==M&&"1"==R?d[N]="L":r.test(R)&&(M=R)}for(var O=0;O<f;++O)if(i.test(d[O])){var L=void 0;for(L=O+1;L<f&&i.test(d[L]);++L);for(var P="L"==(O?d[O-1]:c),D=P==("L"==(L<f?d[L]:c))?P?"L":"R":c,I=O;I<L;++I)d[I]=D;O=L-1}for(var F,$=[],j=0;j<f;)if(o.test(d[j])){var B=j;for(++j;j<f&&o.test(d[j]);++j);$.push(new a(0,B,j))}else{var z=j,q=$.length;for(++j;j<f&&"L"!=d[j];++j);for(var H=z;H<j;)if(s.test(d[H])){z<H&&$.splice(q,0,new a(1,z,H));var U=H;for(++H;H<j&&s.test(d[H]);++H);$.splice(q,0,new a(2,U,H)),z=H}else++H;z<j&&$.splice(q,0,new a(1,z,j))}return"ltr"==u&&(1==$[0].level&&(F=l.match(/^\s+/))&&($[0].from=F[0].length,$.unshift(new a(0,0,F[0].length))),1==Y($).level&&(F=l.match(/\s+$/))&&(Y($).to-=F[0].length,$.push(new a(0,f-F[0].length,f)))),"rtl"==u?$.reverse():$}}();function Je(e,t){var n=e.order;return null==n&&(n=e.order=Ze(e.text,t)),n}var et=[],tt=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var i=e._handlers||(e._handlers={});i[t]=(i[t]||et).concat(n)}};function nt(e,t){return e._handlers&&e._handlers[t]||et}function it(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var i=e._handlers,r=i&&i[t];if(r){var o=B(r,n);o>-1&&(i[t]=r.slice(0,o).concat(r.slice(o+1)))}}}function rt(e,t){var n=nt(e,t);if(n.length)for(var i=Array.prototype.slice.call(arguments,2),r=0;r<n.length;++r)n[r].apply(null,i)}function ot(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),rt(e,n||t.type,e,t),pt(t)||t.codemirrorIgnore}function st(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),i=0;i<t.length;++i)-1==B(n,t[i])&&n.push(t[i])}function at(e,t){return nt(e,t).length>0}function lt(e){e.prototype.on=function(e,t){tt(this,e,t)},e.prototype.off=function(e,t){it(this,e,t)}}function ut(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function ct(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function pt(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function ft(e){ut(e),ct(e)}function dt(e){return e.target||e.srcElement}function ht(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),y&&e.ctrlKey&&1==t&&(t=3),t}var mt,gt,bt=function(){if(s&&a<9)return!1;var e=N("div");return"draggable"in e||"dragDrop"in e}();function yt(e){if(null==mt){var t=N("span","​");A(e,N("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(mt=t.offsetWidth<=1&&t.offsetHeight>2&&!(s&&a<8))}var n=mt?N("span","​"):N("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function vt(e){if(null!=gt)return gt;var t=A(e,document.createTextNode("AخA")),n=C(t,0,1).getBoundingClientRect(),i=C(t,1,2).getBoundingClientRect();return T(e),!(!n||n.left==n.right)&&(gt=i.right-n.right<3)}var _t,xt=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],i=e.length;t<=i;){var r=e.indexOf("\n",t);-1==r&&(r=e.length);var o=e.slice(t,"\r"==e.charAt(r-1)?r-1:r),s=o.indexOf("\r");-1!=s?(n.push(o.slice(0,s)),t+=s+1):(n.push(o),t=r+1)}return n}:function(e){return e.split(/\r\n?|\n/)},wt=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},kt="oncopy"in(_t=N("div"))||(_t.setAttribute("oncopy","return;"),"function"==typeof _t.oncopy),St=null,Ct={},Et={};function Tt(e){if("string"==typeof e&&Et.hasOwnProperty(e))e=Et[e];else if(e&&"string"==typeof e.name&&Et.hasOwnProperty(e.name)){var t=Et[e.name];"string"==typeof t&&(t={name:t}),(e=Z(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Tt("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Tt("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function At(e,t){t=Tt(t);var n=Ct[t.name];if(!n)return At(e,"text/plain");var i=n(e,t);if(Nt.hasOwnProperty(t.name)){var r=Nt[t.name];for(var o in r)r.hasOwnProperty(o)&&(i.hasOwnProperty(o)&&(i["_"+o]=i[o]),i[o]=r[o])}if(i.name=t.name,t.helperType&&(i.helperType=t.helperType),t.modeProps)for(var s in t.modeProps)i[s]=t.modeProps[s];return i}var Nt={};function Mt(e,t){F(t,Nt.hasOwnProperty(e)?Nt[e]:Nt[e]={})}function Rt(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var i in t){var r=t[i];r instanceof Array&&(r=r.concat([])),n[i]=r}return n}function Ot(e,t){for(var n;e.innerMode&&(n=e.innerMode(t))&&n.mode!=e;)t=n.state,e=n.mode;return n||{mode:e,state:t}}function Lt(e,t,n){return!e.startState||e.startState(t,n)}var Pt=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};Pt.prototype.eol=function(){return this.pos>=this.string.length},Pt.prototype.sol=function(){return this.pos==this.lineStart},Pt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Pt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Pt.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},Pt.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Pt.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},Pt.prototype.skipToEnd=function(){this.pos=this.string.length},Pt.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Pt.prototype.backUp=function(e){this.pos-=e},Pt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=$(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?$(this.string,this.lineStart,this.tabSize):0)},Pt.prototype.indentation=function(){return $(this.string,null,this.tabSize)-(this.lineStart?$(this.string,this.lineStart,this.tabSize):0)},Pt.prototype.match=function(e,t,n){if("string"!=typeof e){var i=this.string.slice(this.pos).match(e);return i&&i.index>0?null:(i&&!1!==t&&(this.pos+=i[0].length),i)}var r=function(e){return n?e.toLowerCase():e};if(r(this.string.substr(this.pos,e.length))==r(e))return!1!==t&&(this.pos+=e.length),!0},Pt.prototype.current=function(){return this.string.slice(this.start,this.pos)},Pt.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Pt.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Pt.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var Dt=function(e,t){this.state=e,this.lookAhead=t},It=function(e,t,n,i){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=i||0,this.baseTokens=null,this.baseTokenPos=1};function Ft(e,t,n,i){var r=[e.state.modeGen],o={};Vt(e,t.text,e.doc.mode,n,function(e,t){return r.push(e,t)},o,i);for(var s=n.state,a=function(i){n.baseTokens=r;var a=e.state.overlays[i],l=1,u=0;n.state=!0,Vt(e,t.text,a.mode,n,function(e,t){for(var n=l;u<e;){var i=r[l];i>e&&r.splice(l,1,e,r[l+1],i),l+=2,u=Math.min(e,i)}if(t)if(a.opaque)r.splice(n,l-n,e,"overlay "+t),l=n+2;else for(;n<l;n+=2){var o=r[n+1];r[n+1]=(o?o+" ":"")+"overlay "+t}},o),n.state=s,n.baseTokens=null,n.baseTokenPos=1},l=0;l<e.state.overlays.length;++l)a(l);return{styles:r,classes:o.bgClass||o.textClass?o:null}}function $t(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var i=jt(e,fe(t)),r=t.text.length>e.options.maxHighlightLength&&Rt(e.doc.mode,i.state),o=Ft(e,t,i);r&&(i.state=r),t.stateAfter=i.save(!r),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function jt(e,t,n){var i=e.doc,r=e.display;if(!i.mode.startState)return new It(i,!0,t);var o=function(e,t,n){for(var i,r,o=e.doc,s=n?-1:t-(e.doc.mode.innerMode?1e3:100),a=t;a>s;--a){if(a<=o.first)return o.first;var l=le(o,a-1),u=l.stateAfter;if(u&&(!n||a+(u instanceof Dt?u.lookAhead:0)<=o.modeFrontier))return a;var c=$(l.text,null,e.options.tabSize);(null==r||i>c)&&(r=a-1,i=c)}return r}(e,t,n),s=o>i.first&&le(i,o-1).stateAfter,a=s?It.fromSaved(i,s,o):new It(i,Lt(i.mode),o);return i.iter(o,t,function(n){Bt(e,n.text,a);var i=a.line;n.stateAfter=i==t-1||i%5==0||i>=r.viewFrom&&i<r.viewTo?a.save():null,a.nextLine()}),n&&(i.modeFrontier=a.line),a}function Bt(e,t,n,i){var r=e.doc.mode,o=new Pt(t,e.options.tabSize,n);for(o.start=o.pos=i||0,""==t&&zt(r,n.state);!o.eol();)qt(r,o,n.state),o.start=o.pos}function zt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=Ot(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function qt(e,t,n,i){for(var r=0;r<10;r++){i&&(i[0]=Ot(e,n).mode);var o=e.token(t,n);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}It.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},It.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},It.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},It.fromSaved=function(e,t,n){return t instanceof Dt?new It(e,Rt(e.mode,t.state),n,t.lookAhead):new It(e,Rt(e.mode,t),n)},It.prototype.save=function(e){var t=!1!==e?Rt(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Dt(t,this.maxLookAhead):t};var Ht=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n};function Ut(e,t,n,i){var r,o,s=e.doc,a=s.mode,l=le(s,(t=ke(s,t)).line),u=jt(e,t.line,n),c=new Pt(l.text,e.options.tabSize,u);for(i&&(o=[]);(i||c.pos<t.ch)&&!c.eol();)c.start=c.pos,r=qt(a,c,u.state),i&&o.push(new Ht(c,r,Rt(s.mode,u.state)));return i?o:new Ht(c,r,u.state)}function Wt(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var i=n[1]?"bgClass":"textClass";null==t[i]?t[i]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[i])||(t[i]+=" "+n[2])}return e}function Vt(e,t,n,i,r,o,s){var a=n.flattenSpans;null==a&&(a=e.options.flattenSpans);var l,u=0,c=null,p=new Pt(t,e.options.tabSize,i),f=e.options.addModeClass&&[null];for(""==t&&Wt(zt(n,i.state),o);!p.eol();){if(p.pos>e.options.maxHighlightLength?(a=!1,s&&Bt(e,t,i,p.pos),p.pos=t.length,l=null):l=Wt(qt(n,p,i.state,f),o),f){var d=f[0].name;d&&(l="m-"+(l?d+" "+l:d))}if(!a||c!=l){for(;u<p.start;)r(u=Math.min(p.start,u+5e3),c);c=l}p.start=p.pos}for(;u<p.pos;){var h=Math.min(p.pos,u+5e3);r(h,c),u=h}}var Gt=function(e,t,n){this.text=e,Le(this,t),this.height=n?n(this):1};function Kt(e){e.parent=null,Oe(e)}Gt.prototype.lineNo=function(){return fe(this)},lt(Gt);var Yt={},Xt={};function Qt(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?Xt:Yt;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function Zt(e,t){var n=M("span",null,null,l?"padding-right: .1px":null),i={pre:M("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var r=0;r<=(t.rest?t.rest.length:0);r++){var o=r?t.rest[r-1]:t.line,s=void 0;i.pos=0,i.addToken=en,vt(e.display.measure)&&(s=Je(o,e.doc.direction))&&(i.addToken=tn(i.addToken,s)),i.map=[],rn(o,i,$t(e,o,t!=e.display.externalMeasured&&fe(o))),o.styleClasses&&(o.styleClasses.bgClass&&(i.bgClass=P(o.styleClasses.bgClass,i.bgClass||"")),o.styleClasses.textClass&&(i.textClass=P(o.styleClasses.textClass,i.textClass||""))),0==i.map.length&&i.map.push(0,0,i.content.appendChild(yt(e.display.measure))),0==r?(t.measure.map=i.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(i.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(l){var a=i.content.lastChild;(/\bcm-tab\b/.test(a.className)||a.querySelector&&a.querySelector(".cm-tab"))&&(i.content.className="cm-tab-wrap-hack")}return rt(e,"renderLine",e,t.line,i.pre),i.pre.className&&(i.textClass=P(i.pre.className,i.textClass||"")),i}function Jt(e){var t=N("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function en(e,t,n,i,r,o,l){if(t){var u,c=e.splitSpaces?function(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,i="",r=0;r<e.length;r++){var o=e.charAt(r);" "!=o||!n||r!=e.length-1&&32!=e.charCodeAt(r+1)||(o=" "),i+=o,n=" "==o}return i}(t,e.trailingSpace):t,p=e.cm.state.specialChars,f=!1;if(p.test(t)){u=document.createDocumentFragment();for(var d=0;;){p.lastIndex=d;var h=p.exec(t),m=h?h.index-d:t.length-d;if(m){var g=document.createTextNode(c.slice(d,d+m));s&&a<9?u.appendChild(N("span",[g])):u.appendChild(g),e.map.push(e.pos,e.pos+m,g),e.col+=m,e.pos+=m}if(!h)break;d+=m+1;var b=void 0;if("\t"==h[0]){var y=e.cm.options.tabSize,v=y-e.col%y;(b=u.appendChild(N("span",K(v),"cm-tab"))).setAttribute("role","presentation"),b.setAttribute("cm-text","\t"),e.col+=v}else"\r"==h[0]||"\n"==h[0]?((b=u.appendChild(N("span","\r"==h[0]?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",h[0]),e.col+=1):((b=e.cm.options.specialCharPlaceholder(h[0])).setAttribute("cm-text",h[0]),s&&a<9?u.appendChild(N("span",[b])):u.appendChild(b),e.col+=1);e.map.push(e.pos,e.pos+1,b),e.pos++}}else e.col+=t.length,u=document.createTextNode(c),e.map.push(e.pos,e.pos+t.length,u),s&&a<9&&(f=!0),e.pos+=t.length;if(e.trailingSpace=32==c.charCodeAt(t.length-1),n||i||r||f||o){var _=n||"";i&&(_+=i),r&&(_+=r);var x=N("span",[u],_,o);if(l)for(var w in l)l.hasOwnProperty(w)&&"style"!=w&&"class"!=w&&x.setAttribute(w,l[w]);return e.content.appendChild(x)}e.content.appendChild(u)}}function tn(e,t){return function(n,i,r,o,s,a,l){r=r?r+" cm-force-border":"cm-force-border";for(var u=n.pos,c=u+i.length;;){for(var p=void 0,f=0;f<t.length&&!((p=t[f]).to>u&&p.from<=u);f++);if(p.to>=c)return e(n,i,r,o,s,a,l);e(n,i.slice(0,p.to-u),r,o,null,a,l),o=null,i=i.slice(p.to-u),u=p.to}}}function nn(e,t,n,i){var r=!i&&n.widgetNode;r&&e.map.push(e.pos,e.pos+t,r),!i&&e.cm.display.input.needsContentAttribute&&(r||(r=e.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",n.id)),r&&(e.cm.display.input.setUneditable(r),e.content.appendChild(r)),e.pos+=t,e.trailingSpace=!1}function rn(e,t,n){var i=e.markedSpans,r=e.text,o=0;if(i)for(var s,a,l,u,c,p,f,d=r.length,h=0,m=1,g="",b=0;;){if(b==h){l=u=c=a="",f=null,p=null,b=1/0;for(var y=[],v=void 0,_=0;_<i.length;++_){var x=i[_],w=x.marker;if("bookmark"==w.type&&x.from==h&&w.widgetNode)y.push(w);else if(x.from<=h&&(null==x.to||x.to>h||w.collapsed&&x.to==h&&x.from==h)){if(null!=x.to&&x.to!=h&&b>x.to&&(b=x.to,u=""),w.className&&(l+=" "+w.className),w.css&&(a=(a?a+";":"")+w.css),w.startStyle&&x.from==h&&(c+=" "+w.startStyle),w.endStyle&&x.to==b&&(v||(v=[])).push(w.endStyle,x.to),w.title&&((f||(f={})).title=w.title),w.attributes)for(var k in w.attributes)(f||(f={}))[k]=w.attributes[k];w.collapsed&&(!p||Ie(p.marker,w)<0)&&(p=x)}else x.from>h&&b>x.from&&(b=x.from)}if(v)for(var S=0;S<v.length;S+=2)v[S+1]==b&&(u+=" "+v[S]);if(!p||p.from==h)for(var C=0;C<y.length;++C)nn(t,0,y[C]);if(p&&(p.from||0)==h){if(nn(t,(null==p.to?d+1:p.to)-h,p.marker,null==p.from),null==p.to)return;p.to==h&&(p=!1)}}if(h>=d)break;for(var E=Math.min(d,b);;){if(g){var T=h+g.length;if(!p){var A=T>E?g.slice(0,E-h):g;t.addToken(t,A,s?s+l:l,c,h+A.length==b?u:"",a,f)}if(T>=E){g=g.slice(E-h),h=E;break}h=T,c=""}g=r.slice(o,o=n[m++]),s=Qt(n[m++],t.cm.options)}}else for(var N=1;N<n.length;N+=2)t.addToken(t,r.slice(o,o=n[N]),Qt(n[N+1],t.cm.options))}function on(e,t,n){this.line=t,this.rest=function(e){for(var t,n;t=je(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}(t),this.size=this.rest?fe(Y(this.rest))-n+1:1,this.node=this.text=null,this.hidden=We(e,t)}function sn(e,t,n){for(var i,r=[],o=t;o<n;o=i){var s=new on(e.doc,le(e.doc,o),o);i=o+s.size,r.push(s)}return r}var an=null,ln=null;function un(e,t){var n=nt(e,t);if(n.length){var i,r=Array.prototype.slice.call(arguments,2);an?i=an.delayedCallbacks:ln?i=ln:(i=ln=[],setTimeout(cn,0));for(var o=function(e){i.push(function(){return n[e].apply(null,r)})},s=0;s<n.length;++s)o(s)}}function cn(){var e=ln;ln=null;for(var t=0;t<e.length;++t)e[t]()}function pn(e,t,n,i){for(var r=0;r<t.changes.length;r++){var o=t.changes[r];"text"==o?hn(e,t):"gutter"==o?gn(e,t,n,i):"class"==o?mn(e,t):"widget"==o&&bn(e,t,i)}t.changes=null}function fn(e){return e.node==e.text&&(e.node=N("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),s&&a<8&&(e.node.style.zIndex=2)),e.node}function dn(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):Zt(e,t)}function hn(e,t){var n=t.text.className,i=dn(e,t);t.text==t.node&&(t.node=i.pre),t.text.parentNode.replaceChild(i.pre,t.text),t.text=i.pre,i.bgClass!=t.bgClass||i.textClass!=t.textClass?(t.bgClass=i.bgClass,t.textClass=i.textClass,mn(e,t)):n&&(t.text.className=n)}function mn(e,t){!function(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var i=fn(t);t.background=i.insertBefore(N("div",null,n),i.firstChild),e.display.input.setUneditable(t.background)}}(e,t),t.line.wrapClass?fn(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function gn(e,t,n,i){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var r=fn(t);t.gutterBackground=N("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),r.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var s=fn(t),a=t.gutter=N("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px");if(e.display.input.setUneditable(a),s.insertBefore(a,t.text),t.line.gutterClass&&(a.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=a.appendChild(N("div",me(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var l=0;l<e.options.gutters.length;++l){var u=e.options.gutters[l],c=o.hasOwnProperty(u)&&o[u];c&&a.appendChild(N("div",[c],"CodeMirror-gutter-elt","left: "+i.gutterLeft[u]+"px; width: "+i.gutterWidth[u]+"px"))}}}function bn(e,t,n){t.alignable&&(t.alignable=null);for(var i=t.node.firstChild,r=void 0;i;i=r)r=i.nextSibling,"CodeMirror-linewidget"==i.className&&t.node.removeChild(i);vn(e,t,n)}function yn(e,t,n,i){var r=dn(e,t);return t.text=t.node=r.pre,r.bgClass&&(t.bgClass=r.bgClass),r.textClass&&(t.textClass=r.textClass),mn(e,t),gn(e,t,n,i),vn(e,t,i),t.node}function vn(e,t,n){if(_n(e,t.line,t,n,!0),t.rest)for(var i=0;i<t.rest.length;i++)_n(e,t.rest[i],t,n,!1)}function _n(e,t,n,i,r){if(t.widgets)for(var o=fn(n),s=0,a=t.widgets;s<a.length;++s){var l=a[s],u=N("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),xn(l,u,n,i),e.display.input.setUneditable(u),r&&l.above?o.insertBefore(u,n.gutter||n.text):o.appendChild(u),un(l,"redraw")}}function xn(e,t,n,i){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var r=i.wrapperWidth;t.style.left=i.fixedPos+"px",e.coverGutter||(r-=i.gutterTotalWidth,t.style.paddingLeft=i.gutterTotalWidth+"px"),t.style.width=r+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-i.gutterTotalWidth+"px"))}function wn(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!R(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),A(t.display.measure,N("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function kn(e,t){for(var n=dt(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function Sn(e){return e.lineSpace.offsetTop}function Cn(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function En(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=A(e.measure,N("pre","x")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,i={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(i.left)||isNaN(i.right)||(e.cachedPaddingH=i),i}function Tn(e){return z-e.display.nativeBarWidth}function An(e){return e.display.scroller.clientWidth-Tn(e)-e.display.barWidth}function Nn(e){return e.display.scroller.clientHeight-Tn(e)-e.display.barHeight}function Mn(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var i=0;i<e.rest.length;i++)if(e.rest[i]==t)return{map:e.measure.maps[i],cache:e.measure.caches[i]};for(var r=0;r<e.rest.length;r++)if(fe(e.rest[r])>n)return{map:e.measure.maps[r],cache:e.measure.caches[r],before:!0}}function Rn(e,t,n,i){return Pn(e,Ln(e,t),n,i)}function On(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[ui(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function Ln(e,t){var n=fe(t),i=On(e,n);i&&!i.text?i=null:i&&i.changes&&(pn(e,i,n,ri(e)),e.curOp.forceUpdate=!0),i||(i=function(e,t){var n=fe(t=qe(t)),i=e.display.externalMeasured=new on(e.doc,t,n);i.lineN=n;var r=i.built=Zt(e,i);return i.text=r.pre,A(e.display.lineMeasure,r.pre),i}(e,t));var r=Mn(i,t,n);return{line:t,view:i,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function Pn(e,t,n,i,r){t.before&&(n=-1);var o,l=n+(i||"");return t.cache.hasOwnProperty(l)?o=t.cache[l]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(!function(e,t,n){var i=e.options.lineWrapping,r=i&&An(e);if(!t.measure.heights||i&&t.measure.width!=r){var o=t.measure.heights=[];if(i){t.measure.width=r;for(var s=t.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var l=s[a],u=s[a+1];Math.abs(l.bottom-u.bottom)>2&&o.push((l.bottom+u.top)/2-n.top)}}o.push(n.bottom-n.top)}}(e,t.view,t.rect),t.hasHeights=!0),(o=function(e,t,n,i){var r,o=Fn(t.map,n,i),l=o.node,u=o.start,c=o.end,p=o.collapse;if(3==l.nodeType){for(var f=0;f<4;f++){for(;u&&re(t.line.text.charAt(o.coverStart+u));)--u;for(;o.coverStart+c<o.coverEnd&&re(t.line.text.charAt(o.coverStart+c));)++c;if((r=s&&a<9&&0==u&&c==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():$n(C(l,u,c).getClientRects(),i)).left||r.right||0==u)break;c=u,u-=1,p="right"}s&&a<11&&(r=function(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(e){if(null!=St)return St;var t=A(e,N("span","x")),n=t.getBoundingClientRect(),i=C(t,0,1).getBoundingClientRect();return St=Math.abs(n.left-i.left)>1}(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,i=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*i,bottom:t.bottom*i}}(e.display.measure,r))}else{var d;u>0&&(p=i="right"),r=e.options.lineWrapping&&(d=l.getClientRects()).length>1?d["right"==i?d.length-1:0]:l.getBoundingClientRect()}if(s&&a<9&&!u&&(!r||!r.left&&!r.right)){var h=l.parentNode.getClientRects()[0];r=h?{left:h.left,right:h.left+ii(e.display),top:h.top,bottom:h.bottom}:In}for(var m=r.top-t.rect.top,g=r.bottom-t.rect.top,b=(m+g)/2,y=t.view.measure.heights,v=0;v<y.length-1&&!(b<y[v]);v++);var _=v?y[v-1]:0,x=y[v],w={left:("right"==p?r.right:r.left)-t.rect.left,right:("left"==p?r.left:r.right)-t.rect.left,top:_,bottom:x};r.left||r.right||(w.bogus=!0);e.options.singleCursorHeightPerLine||(w.rtop=m,w.rbottom=g);return w}(e,t,n,i)).bogus||(t.cache[l]=o)),{left:o.left,right:o.right,top:r?o.rtop:o.top,bottom:r?o.rbottom:o.bottom}}var Dn,In={left:0,right:0,top:0,bottom:0};function Fn(e,t,n){for(var i,r,o,s,a,l,u=0;u<e.length;u+=3)if(a=e[u],l=e[u+1],t<a?(r=0,o=1,s="left"):t<l?o=(r=t-a)+1:(u==e.length-3||t==l&&e[u+3]>t)&&(r=(o=l-a)-1,t>=l&&(s="right")),null!=r){if(i=e[u+2],a==l&&n==(i.insertLeft?"left":"right")&&(s=n),"left"==n&&0==r)for(;u&&e[u-2]==e[u-3]&&e[u-1].insertLeft;)i=e[2+(u-=3)],s="left";if("right"==n&&r==l-a)for(;u<e.length-3&&e[u+3]==e[u+4]&&!e[u+5].insertLeft;)i=e[(u+=3)+2],s="right";break}return{node:i,start:r,end:o,collapse:s,coverStart:a,coverEnd:l}}function $n(e,t){var n=In;if("left"==t)for(var i=0;i<e.length&&(n=e[i]).left==n.right;i++);else for(var r=e.length-1;r>=0&&(n=e[r]).left==n.right;r--);return n}function jn(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function Bn(e){e.display.externalMeasure=null,T(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)jn(e.display.view[t])}function zn(e){Bn(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function qn(){return c&&g?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Hn(){return c&&g?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Un(e){var t=0;if(e.widgets)for(var n=0;n<e.widgets.length;++n)e.widgets[n].above&&(t+=wn(e.widgets[n]));return t}function Wn(e,t,n,i,r){if(!r){var o=Un(t);n.top+=o,n.bottom+=o}if("line"==i)return n;i||(i="local");var s=Ge(t);if("local"==i?s+=Sn(e.display):s-=e.display.viewOffset,"page"==i||"window"==i){var a=e.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==i?0:Hn());var l=a.left+("window"==i?0:qn());n.left+=l,n.right+=l}return n.top+=s,n.bottom+=s,n}function Vn(e,t,n){if("div"==n)return t;var i=t.left,r=t.top;if("page"==n)i-=qn(),r-=Hn();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();i+=o.left,r+=o.top}var s=e.display.lineSpace.getBoundingClientRect();return{left:i-s.left,top:r-s.top}}function Gn(e,t,n,i,r){return i||(i=le(e.doc,t.line)),Wn(e,i,Rn(e,i,t.ch,r),n)}function Kn(e,t,n,i,r,o){function s(t,s){var a=Pn(e,r,t,s?"right":"left",o);return s?a.left=a.right:a.right=a.left,Wn(e,i,a,n)}i=i||le(e.doc,t.line),r||(r=Ln(e,i));var a=Je(i,e.doc.direction),l=t.ch,u=t.sticky;if(l>=i.text.length?(l=i.text.length,u="before"):l<=0&&(l=0,u="after"),!a)return s("before"==u?l-1:l,"before"==u);function c(e,t,n){return s(n?e-1:e,1==a[t].level!=n)}var p=Qe(a,l,u),f=Xe,d=c(l,p,"before"==u);return null!=f&&(d.other=c(l,f,"before"!=u)),d}function Yn(e,t){var n=0;t=ke(e.doc,t),e.options.lineWrapping||(n=ii(e.display)*t.ch);var i=le(e.doc,t.line),r=Ge(i)+Sn(e.display);return{left:n,right:n,top:r,bottom:r+i.height}}function Xn(e,t,n,i,r){var o=ge(e,t,n);return o.xRel=r,i&&(o.outside=!0),o}function Qn(e,t,n){var i=e.doc;if((n+=e.display.viewOffset)<0)return Xn(i.first,0,null,!0,-1);var r=de(i,n),o=i.first+i.size-1;if(r>o)return Xn(i.first+i.size-1,le(i,o).text.length,null,!0,1);t<0&&(t=0);for(var s=le(i,r);;){var a=ti(e,s,r,t,n),l=Be(s,a.ch+(a.xRel>0?1:0));if(!l)return a;var u=l.find(1);if(u.line==r)return u;s=le(i,r=u.line)}}function Zn(e,t,n,i){i-=Un(t);var r=t.text.length,o=se(function(t){return Pn(e,n,t-1).bottom<=i},r,0);return{begin:o,end:r=se(function(t){return Pn(e,n,t).top>i},o,r)}}function Jn(e,t,n,i){return n||(n=Ln(e,t)),Zn(e,t,n,Wn(e,t,Pn(e,n,i),"line").top)}function ei(e,t,n,i){return!(e.bottom<=n)&&(e.top>n||(i?e.left:e.right)>t)}function ti(e,t,n,i,r){r-=Ge(t);var o=Ln(e,t),s=Un(t),a=0,l=t.text.length,u=!0,c=Je(t,e.doc.direction);if(c){var p=(e.options.lineWrapping?function(e,t,n,i,r,o,s){var a=Zn(e,t,i,s),l=a.begin,u=a.end;/\s/.test(t.text.charAt(u-1))&&u--;for(var c=null,p=null,f=0;f<r.length;f++){var d=r[f];if(!(d.from>=u||d.to<=l)){var h=1!=d.level,m=Pn(e,i,h?Math.min(u,d.to)-1:Math.max(l,d.from)).right,g=m<o?o-m+1e9:m-o;(!c||p>g)&&(c=d,p=g)}}c||(c=r[r.length-1]);c.from<l&&(c={from:l,to:c.to,level:c.level});c.to>u&&(c={from:c.from,to:u,level:c.level});return c}:function(e,t,n,i,r,o,s){var a=se(function(a){var l=r[a],u=1!=l.level;return ei(Kn(e,ge(n,u?l.to:l.from,u?"before":"after"),"line",t,i),o,s,!0)},0,r.length-1),l=r[a];if(a>0){var u=1!=l.level,c=Kn(e,ge(n,u?l.from:l.to,u?"after":"before"),"line",t,i);ei(c,o,s,!0)&&c.top>s&&(l=r[a-1])}return l})(e,t,n,o,c,i,r);a=(u=1!=p.level)?p.from:p.to-1,l=u?p.to:p.from-1}var f,d,h=null,m=null,g=se(function(t){var n=Pn(e,o,t);return n.top+=s,n.bottom+=s,!!ei(n,i,r,!1)&&(n.top<=r&&n.left<=i&&(h=t,m=n),!0)},a,l),b=!1;if(m){var y=i-m.left<m.right-i,v=y==u;g=h+(v?0:1),d=v?"after":"before",f=y?m.left:m.right}else{u||g!=l&&g!=a||g++,d=0==g?"after":g==t.text.length?"before":Pn(e,o,g-(u?1:0)).bottom+s<=r==u?"after":"before";var _=Kn(e,ge(n,g,d),"line",t,o);f=_.left,b=r<_.top||r>=_.bottom}return Xn(n,g=oe(t.text,g,1),d,b,i-f)}function ni(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Dn){Dn=N("pre");for(var t=0;t<49;++t)Dn.appendChild(document.createTextNode("x")),Dn.appendChild(N("br"));Dn.appendChild(document.createTextNode("x"))}A(e.measure,Dn);var n=Dn.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),T(e.measure),n||1}function ii(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=N("span","xxxxxxxxxx"),n=N("pre",[t]);A(e.measure,n);var i=t.getBoundingClientRect(),r=(i.right-i.left)/10;return r>2&&(e.cachedCharWidth=r),r||10}function ri(e){for(var t=e.display,n={},i={},r=t.gutters.clientLeft,o=t.gutters.firstChild,s=0;o;o=o.nextSibling,++s)n[e.options.gutters[s]]=o.offsetLeft+o.clientLeft+r,i[e.options.gutters[s]]=o.clientWidth;return{fixedPos:oi(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:i,wrapperWidth:t.wrapper.clientWidth}}function oi(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function si(e){var t=ni(e.display),n=e.options.lineWrapping,i=n&&Math.max(5,e.display.scroller.clientWidth/ii(e.display)-3);return function(r){if(We(e.doc,r))return 0;var o=0;if(r.widgets)for(var s=0;s<r.widgets.length;s++)r.widgets[s].height&&(o+=r.widgets[s].height);return n?o+(Math.ceil(r.text.length/i)||1)*t:o+t}}function ai(e){var t=e.doc,n=si(e);t.iter(function(e){var t=n(e);t!=e.height&&pe(e,t)})}function li(e,t,n,i){var r=e.display;if(!n&&"true"==dt(t).getAttribute("cm-not-content"))return null;var o,s,a=r.lineSpace.getBoundingClientRect();try{o=t.clientX-a.left,s=t.clientY-a.top}catch(t){return null}var l,u=Qn(e,o,s);if(i&&1==u.xRel&&(l=le(e.doc,u.line).text).length==u.ch){var c=$(l,l.length,e.options.tabSize)-l.length;u=ge(u.line,Math.max(0,Math.round((o-En(e.display).left)/ii(e.display))-c))}return u}function ui(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var n=e.display.view,i=0;i<n.length;i++)if((t-=n[i].size)<0)return i}function ci(e){e.display.input.showSelection(e.display.input.prepareSelection())}function pi(e,t){void 0===t&&(t=!0);for(var n=e.doc,i={},r=i.cursors=document.createDocumentFragment(),o=i.selection=document.createDocumentFragment(),s=0;s<n.sel.ranges.length;s++)if(t||s!=n.sel.primIndex){var a=n.sel.ranges[s];if(!(a.from().line>=e.display.viewTo||a.to().line<e.display.viewFrom)){var l=a.empty();(l||e.options.showCursorWhenSelecting)&&fi(e,a.head,r),l||hi(e,a,o)}}return i}function fi(e,t,n){var i=Kn(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),r=n.appendChild(N("div"," ","CodeMirror-cursor"));if(r.style.left=i.left+"px",r.style.top=i.top+"px",r.style.height=Math.max(0,i.bottom-i.top)*e.options.cursorHeight+"px",i.other){var o=n.appendChild(N("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=i.other.left+"px",o.style.top=i.other.top+"px",o.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function di(e,t){return e.top-t.top||e.left-t.left}function hi(e,t,n){var i=e.display,r=e.doc,o=document.createDocumentFragment(),s=En(e.display),a=s.left,l=Math.max(i.sizerWidth,An(e)-i.sizer.offsetLeft)-s.right,u="ltr"==r.direction;function c(e,t,n,i){t<0&&(t=0),t=Math.round(t),i=Math.round(i),o.appendChild(N("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==n?l-e:n)+"px;\n                             height: "+(i-t)+"px"))}function p(t,n,i){var o,s,p=le(r,t),f=p.text.length;function d(n,i){return Gn(e,ge(t,n),"div",p,i)}function h(t,n,i){var r=Jn(e,p,null,t),o="ltr"==n==("after"==i)?"left":"right";return d("after"==i?r.begin:r.end-(/\s/.test(p.text.charAt(r.end-1))?2:1),o)[o]}var m=Je(p,r.direction);return function(e,t,n,i){if(!e)return i(t,n,"ltr",0);for(var r=!1,o=0;o<e.length;++o){var s=e[o];(s.from<n&&s.to>t||t==n&&s.to==t)&&(i(Math.max(s.from,t),Math.min(s.to,n),1==s.level?"rtl":"ltr",o),r=!0)}r||i(t,n,"ltr")}(m,n||0,null==i?f:i,function(e,t,r,p){var g="ltr"==r,b=d(e,g?"left":"right"),y=d(t-1,g?"right":"left"),v=null==n&&0==e,_=null==i&&t==f,x=0==p,w=!m||p==m.length-1;if(y.top-b.top<=3){var k=(u?_:v)&&w,S=(u?v:_)&&x?a:(g?b:y).left,C=k?l:(g?y:b).right;c(S,b.top,C-S,b.bottom)}else{var E,T,A,N;g?(E=u&&v&&x?a:b.left,T=u?l:h(e,r,"before"),A=u?a:h(t,r,"after"),N=u&&_&&w?l:y.right):(E=u?h(e,r,"before"):a,T=!u&&v&&x?l:b.right,A=!u&&_&&w?a:y.left,N=u?h(t,r,"after"):l),c(E,b.top,T-E,b.bottom),b.bottom<y.top&&c(a,b.bottom,null,y.top),c(A,y.top,N-A,y.bottom)}(!o||di(b,o)<0)&&(o=b),di(y,o)<0&&(o=y),(!s||di(b,s)<0)&&(s=b),di(y,s)<0&&(s=y)}),{start:o,end:s}}var f=t.from(),d=t.to();if(f.line==d.line)p(f.line,f.ch,d.ch);else{var h=le(r,f.line),m=le(r,d.line),g=qe(h)==qe(m),b=p(f.line,f.ch,g?h.text.length+1:null).end,y=p(d.line,g?0:null,d.ch).start;g&&(b.top<y.top-2?(c(b.right,b.top,null,b.bottom),c(a,y.top,y.left,y.bottom)):c(b.right,b.top,y.left-b.right,b.bottom)),b.bottom<y.top&&c(a,b.bottom,null,y.top)}n.appendChild(o)}function mi(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){return t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function gi(e){e.state.focused||(e.display.input.focus(),yi(e))}function bi(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,vi(e))},100)}function yi(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(rt(e,"focus",e,t),e.state.focused=!0,L(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),l&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),mi(e))}function vi(e,t){e.state.delayingBlurEvent||(e.state.focused&&(rt(e,"blur",e,t),e.state.focused=!1,E(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function _i(e){for(var t=e.display,n=t.lineDiv.offsetTop,i=0;i<t.view.length;i++){var r=t.view[i],o=e.options.lineWrapping,l=void 0,u=0;if(!r.hidden){if(s&&a<8){var c=r.node.offsetTop+r.node.offsetHeight;l=c-n,n=c}else{var p=r.node.getBoundingClientRect();l=p.bottom-p.top,!o&&r.text.firstChild&&(u=r.text.firstChild.getBoundingClientRect().right-p.left-1)}var f=r.line.height-l;if(l<2&&(l=ni(t)),(f>.005||f<-.005)&&(pe(r.line,l),xi(r.line),r.rest))for(var d=0;d<r.rest.length;d++)xi(r.rest[d]);if(u>e.display.sizerWidth){var h=Math.ceil(u/ii(e.display));h>e.display.maxLineLength&&(e.display.maxLineLength=h,e.display.maxLine=r.line,e.display.maxLineChanged=!0)}}}}function xi(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],i=n.node.parentNode;i&&(n.height=i.offsetHeight)}}function wi(e,t,n){var i=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;i=Math.floor(i-Sn(e));var r=n&&null!=n.bottom?n.bottom:i+e.wrapper.clientHeight,o=de(t,i),s=de(t,r);if(n&&n.ensure){var a=n.ensure.from.line,l=n.ensure.to.line;a<o?(o=a,s=de(t,Ge(le(t,a))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=s&&(o=de(t,Ge(le(t,l))-e.wrapper.clientHeight),s=l)}return{from:o,to:Math.max(s,o+1)}}function ki(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var i=oi(t)-t.scroller.scrollLeft+e.doc.scrollLeft,r=t.gutters.offsetWidth,o=i+"px",s=0;s<n.length;s++)if(!n[s].hidden){e.options.fixedGutter&&(n[s].gutter&&(n[s].gutter.style.left=o),n[s].gutterBackground&&(n[s].gutterBackground.style.left=o));var a=n[s].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=i+r+"px")}}function Si(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=me(e.options,t.first+t.size-1),i=e.display;if(n.length!=i.lineNumChars){var r=i.measure.appendChild(N("div",[N("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=r.firstChild.offsetWidth,s=r.offsetWidth-o;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(o,i.lineGutter.offsetWidth-s)+1,i.lineNumWidth=i.lineNumInnerWidth+s,i.lineNumChars=i.lineNumInnerWidth?n.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",ur(e),!0}return!1}function Ci(e,t){var n=e.display,i=ni(e.display);t.top<0&&(t.top=0);var r=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,o=Nn(e),s={};t.bottom-t.top>o&&(t.bottom=t.top+o);var a=e.doc.height+Cn(n),l=t.top<i,u=t.bottom>a-i;if(t.top<r)s.scrollTop=l?0:t.top;else if(t.bottom>r+o){var c=Math.min(t.top,(u?a:t.bottom)-o);c!=r&&(s.scrollTop=c)}var p=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft,f=An(e)-(e.options.fixedGutter?n.gutters.offsetWidth:0),d=t.right-t.left>f;return d&&(t.right=t.left+f),t.left<10?s.scrollLeft=0:t.left<p?s.scrollLeft=Math.max(0,t.left-(d?0:10)):t.right>f+p-3&&(s.scrollLeft=t.right+(d?0:10)-f),s}function Ei(e,t){null!=t&&(Ni(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Ti(e){Ni(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Ai(e,t,n){null==t&&null==n||Ni(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function Ni(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,Mi(e,Yn(e,t.from),Yn(e,t.to),t.margin))}function Mi(e,t,n,i){var r=Ci(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-i,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+i});Ai(e,r.scrollLeft,r.scrollTop)}function Ri(e,t){Math.abs(e.doc.scrollTop-t)<2||(n||lr(e,{top:t}),Oi(e,t,!0),n&&lr(e),ir(e,100))}function Oi(e,t,n){t=Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function Li(e,t,n,i){t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!i||(e.doc.scrollLeft=t,ki(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Pi(e){var t=e.display,n=t.gutters.offsetWidth,i=Math.round(e.doc.height+Cn(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:i,scrollHeight:i+Tn(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}var Di=function(e,t,n){this.cm=n;var i=this.vert=N("div",[N("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),r=this.horiz=N("div",[N("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");i.tabIndex=r.tabIndex=-1,e(i),e(r),tt(i,"scroll",function(){i.clientHeight&&t(i.scrollTop,"vertical")}),tt(r,"scroll",function(){r.clientWidth&&t(r.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,s&&a<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Di.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,i=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?i+"px":"0";var r=e.viewHeight-(t?i:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+r)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?i+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?i:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==i&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?i:0,bottom:t?i:0}},Di.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Di.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Di.prototype.zeroWidthHack=function(){var e=y&&!d?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new j,this.disableVert=new j},Di.prototype.enableZeroWidthBar=function(e,t,n){e.style.pointerEvents="auto",t.set(1e3,function i(){var r=e.getBoundingClientRect();("vert"==n?document.elementFromPoint(r.right-1,(r.top+r.bottom)/2):document.elementFromPoint((r.right+r.left)/2,r.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,i)})},Di.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Ii=function(){};function Fi(e,t){t||(t=Pi(e));var n=e.display.barWidth,i=e.display.barHeight;$i(e,t);for(var r=0;r<4&&n!=e.display.barWidth||i!=e.display.barHeight;r++)n!=e.display.barWidth&&e.options.lineWrapping&&_i(e),$i(e,Pi(e)),n=e.display.barWidth,i=e.display.barHeight}function $i(e,t){var n=e.display,i=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=i.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=i.bottom)+"px",n.heightForcer.style.borderBottom=i.bottom+"px solid transparent",i.right&&i.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=i.bottom+"px",n.scrollbarFiller.style.width=i.right+"px"):n.scrollbarFiller.style.display="",i.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=i.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}Ii.prototype.update=function(){return{bottom:0,right:0}},Ii.prototype.setScrollLeft=function(){},Ii.prototype.setScrollTop=function(){},Ii.prototype.clear=function(){};var ji={native:Di,null:Ii};function Bi(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&E(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new ji[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),tt(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,n){"horizontal"==n?Li(e,t):Ri(e,t)},e),e.display.scrollbars.addClass&&L(e.display.wrapper,e.display.scrollbars.addClass)}var zi=0;function qi(e){var t;e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++zi},t=e.curOp,an?an.ops.push(t):t.ownsGroup=an={ops:[t],delayedCallbacks:[]}}function Hi(e){var t=e.curOp;t&&function(e,t){var n=e.ownsGroup;if(n)try{!function(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var i=0;i<e.ops.length;i++){var r=e.ops[i];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(n<t.length)}(n)}finally{an=null,t(n)}}(t,function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;!function(e){for(var t=e.ops,n=0;n<t.length;n++)Ui(t[n]);for(var i=0;i<t.length;i++)(r=t[i]).updatedDisplay=r.mustUpdate&&sr(r.cm,r.update);var r;for(var o=0;o<t.length;o++)Wi(t[o]);for(var s=0;s<t.length;s++)Vi(t[s]);for(var a=0;a<t.length;a++)Gi(t[a])}(e)})}function Ui(e){var t=e.cm,n=t.display;!function(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Tn(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Tn(e)+"px",t.scrollbarsClipped=!0)}(t),e.updateMaxLine&&Ye(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new or(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Wi(e){var t=e.cm,n=t.display;e.updatedDisplay&&_i(t),e.barMeasure=Pi(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Rn(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+Tn(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-An(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function Vi(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Li(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==O();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&Fi(t,e.barMeasure),e.updatedDisplay&&cr(t,e.barMeasure),e.selectionChanged&&mi(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&gi(e.cm)}function Gi(e){var t=e.cm,n=t.display,i=t.doc;(e.updatedDisplay&&ar(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&Oi(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&Li(t,e.scrollLeft,!0,!0),e.scrollToPos)&&function(e,t){if(!ot(e,"scrollCursorIntoView")){var n=e.display,i=n.sizer.getBoundingClientRect(),r=null;if(t.top+i.top<0?r=!0:t.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(r=!1),null!=r&&!h){var o=N("div","​",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-Sn(e.display))+"px;\n                         height: "+(t.bottom-t.top+Tn(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(r),e.display.lineSpace.removeChild(o)}}}(t,function(e,t,n,i){var r;null==i&&(i=0),e.options.lineWrapping||t!=n||(n="before"==(t=t.ch?ge(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t).sticky?ge(t.line,t.ch+1,"before"):t);for(var o=0;o<5;o++){var s=!1,a=Kn(e,t),l=n&&n!=t?Kn(e,n):a,u=Ci(e,r={left:Math.min(a.left,l.left),top:Math.min(a.top,l.top)-i,right:Math.max(a.left,l.left),bottom:Math.max(a.bottom,l.bottom)+i}),c=e.doc.scrollTop,p=e.doc.scrollLeft;if(null!=u.scrollTop&&(Ri(e,u.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(s=!0)),null!=u.scrollLeft&&(Li(e,u.scrollLeft),Math.abs(e.doc.scrollLeft-p)>1&&(s=!0)),!s)break}return r}(t,ke(i,e.scrollToPos.from),ke(i,e.scrollToPos.to),e.scrollToPos.margin));var r=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(r)for(var s=0;s<r.length;++s)r[s].lines.length||rt(r[s],"hide");if(o)for(var a=0;a<o.length;++a)o[a].lines.length&&rt(o[a],"unhide");n.wrapper.offsetHeight&&(i.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&rt(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Ki(e,t){if(e.curOp)return t();qi(e);try{return t()}finally{Hi(e)}}function Yi(e,t){return function(){if(e.curOp)return t.apply(e,arguments);qi(e);try{return t.apply(e,arguments)}finally{Hi(e)}}}function Xi(e){return function(){if(this.curOp)return e.apply(this,arguments);qi(this);try{return e.apply(this,arguments)}finally{Hi(this)}}}function Qi(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);qi(t);try{return e.apply(this,arguments)}finally{Hi(t)}}}function Zi(e,t,n,i){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),i||(i=0);var r=e.display;if(i&&n<r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>t)&&(r.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=r.viewTo)Ee&&He(e.doc,t)<r.viewTo&&er(e);else if(n<=r.viewFrom)Ee&&Ue(e.doc,n+i)>r.viewFrom?er(e):(r.viewFrom+=i,r.viewTo+=i);else if(t<=r.viewFrom&&n>=r.viewTo)er(e);else if(t<=r.viewFrom){var o=tr(e,n,n+i,1);o?(r.view=r.view.slice(o.index),r.viewFrom=o.lineN,r.viewTo+=i):er(e)}else if(n>=r.viewTo){var s=tr(e,t,t,-1);s?(r.view=r.view.slice(0,s.index),r.viewTo=s.lineN):er(e)}else{var a=tr(e,t,t,-1),l=tr(e,n,n+i,1);a&&l?(r.view=r.view.slice(0,a.index).concat(sn(e,a.lineN,l.lineN)).concat(r.view.slice(l.index)),r.viewTo+=i):er(e)}var u=r.externalMeasured;u&&(n<u.lineN?u.lineN+=i:t<u.lineN+u.size&&(r.externalMeasured=null))}function Ji(e,t,n){e.curOp.viewChanged=!0;var i=e.display,r=e.display.externalMeasured;if(r&&t>=r.lineN&&t<r.lineN+r.size&&(i.externalMeasured=null),!(t<i.viewFrom||t>=i.viewTo)){var o=i.view[ui(e,t)];if(null!=o.node){var s=o.changes||(o.changes=[]);-1==B(s,n)&&s.push(n)}}}function er(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function tr(e,t,n,i){var r,o=ui(e,t),s=e.display.view;if(!Ee||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var a=e.display.viewFrom,l=0;l<o;l++)a+=s[l].size;if(a!=t){if(i>0){if(o==s.length-1)return null;r=a+s[o].size-t,o++}else r=a-t;t+=r,n+=r}for(;He(e.doc,n)!=n;){if(o==(i<0?0:s.length-1))return null;n+=i*s[o-(i<0?1:0)].size,o+=i}return{index:o,lineN:n}}function nr(e){for(var t=e.display.view,n=0,i=0;i<t.length;i++){var r=t[i];r.hidden||r.node&&!r.changes||++n}return n}function ir(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,I(rr,e))}function rr(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,i=jt(e,t.highlightFrontier),r=[];t.iter(i.line,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(i.line>=e.display.viewFrom){var s=o.styles,a=o.text.length>e.options.maxHighlightLength?Rt(t.mode,i.state):null,l=Ft(e,o,i,!0);a&&(i.state=a),o.styles=l.styles;var u=o.styleClasses,c=l.classes;c?o.styleClasses=c:u&&(o.styleClasses=null);for(var p=!s||s.length!=o.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),f=0;!p&&f<s.length;++f)p=s[f]!=o.styles[f];p&&r.push(i.line),o.stateAfter=i.save(),i.nextLine()}else o.text.length<=e.options.maxHighlightLength&&Bt(e,o.text,i),o.stateAfter=i.line%5==0?i.save():null,i.nextLine();if(+new Date>n)return ir(e,e.options.workDelay),!0}),t.highlightFrontier=i.line,t.modeFrontier=Math.max(t.modeFrontier,i.line),r.length&&Ki(e,function(){for(var t=0;t<r.length;t++)Ji(e,r[t],"text")})}}var or=function(e,t,n){var i=e.display;this.viewport=t,this.visible=wi(i,e.doc,t),this.editorIsHidden=!i.wrapper.offsetWidth,this.wrapperHeight=i.wrapper.clientHeight,this.wrapperWidth=i.wrapper.clientWidth,this.oldDisplayWidth=An(e),this.force=n,this.dims=ri(e),this.events=[]};function sr(e,t){var n=e.display,i=e.doc;if(t.editorIsHidden)return er(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==nr(e))return!1;Si(e)&&(er(e),t.dims=ri(e));var r=i.first+i.size,o=Math.max(t.visible.from-e.options.viewportMargin,i.first),s=Math.min(r,t.visible.to+e.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(i.first,n.viewFrom)),n.viewTo>s&&n.viewTo-s<20&&(s=Math.min(r,n.viewTo)),Ee&&(o=He(e.doc,o),s=Ue(e.doc,s));var a=o!=n.viewFrom||s!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;!function(e,t,n){var i=e.display;0==i.view.length||t>=i.viewTo||n<=i.viewFrom?(i.view=sn(e,t,n),i.viewFrom=t):(i.viewFrom>t?i.view=sn(e,t,i.viewFrom).concat(i.view):i.viewFrom<t&&(i.view=i.view.slice(ui(e,t))),i.viewFrom=t,i.viewTo<n?i.view=i.view.concat(sn(e,i.viewTo,n)):i.viewTo>n&&(i.view=i.view.slice(0,ui(e,n)))),i.viewTo=n}(e,o,s),n.viewOffset=Ge(le(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var u=nr(e);if(!a&&0==u&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var c=function(e){if(e.hasFocus())return null;var t=O();if(!t||!R(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var i=window.getSelection();i.anchorNode&&i.extend&&R(e.display.lineDiv,i.anchorNode)&&(n.anchorNode=i.anchorNode,n.anchorOffset=i.anchorOffset,n.focusNode=i.focusNode,n.focusOffset=i.focusOffset)}return n}(e);return u>4&&(n.lineDiv.style.display="none"),function(e,t,n){var i=e.display,r=e.options.lineNumbers,o=i.lineDiv,s=o.firstChild;function a(t){var n=t.nextSibling;return l&&y&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var u=i.view,c=i.viewFrom,p=0;p<u.length;p++){var f=u[p];if(f.hidden);else if(f.node&&f.node.parentNode==o){for(;s!=f.node;)s=a(s);var d=r&&null!=t&&t<=c&&f.lineNumber;f.changes&&(B(f.changes,"gutter")>-1&&(d=!1),pn(e,f,c,n)),d&&(T(f.lineNumber),f.lineNumber.appendChild(document.createTextNode(me(e.options,c)))),s=f.node.nextSibling}else{var h=yn(e,f,c,n);o.insertBefore(h,s)}c+=f.size}for(;s;)s=a(s)}(e,n.updateLineNumbers,t.dims),u>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,function(e){if(e&&e.activeElt&&e.activeElt!=O()&&(e.activeElt.focus(),e.anchorNode&&R(document.body,e.anchorNode)&&R(document.body,e.focusNode))){var t=window.getSelection(),n=document.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),t.removeAllRanges(),t.addRange(n),t.extend(e.focusNode,e.focusOffset)}}(c),T(n.cursorDiv),T(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,a&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,ir(e,400)),n.updateLineNumbers=null,!0}function ar(e,t){for(var n=t.viewport,i=!0;(i&&e.options.lineWrapping&&t.oldDisplayWidth!=An(e)||(n&&null!=n.top&&(n={top:Math.min(e.doc.height+Cn(e.display)-Nn(e),n.top)}),t.visible=wi(e.display,e.doc,n),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&sr(e,t);i=!1){_i(e);var r=Pi(e);ci(e),Fi(e,r),cr(e,r),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function lr(e,t){var n=new or(e,t);if(sr(e,n)){_i(e),ar(e,n);var i=Pi(e);ci(e),Fi(e,i),cr(e,i),n.finish()}}function ur(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function cr(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Tn(e)+"px"}function pr(e){var t=e.display.gutters,n=e.options.gutters;T(t);for(var i=0;i<n.length;++i){var r=n[i],o=t.appendChild(N("div",null,"CodeMirror-gutter "+r));"CodeMirror-linenumbers"==r&&(e.display.lineGutter=o,o.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=i?"":"none",ur(e)}function fr(e){var t=B(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}or.prototype.signal=function(e,t){at(e,t)&&this.events.push(arguments)},or.prototype.finish=function(){for(var e=0;e<this.events.length;e++)rt.apply(null,this.events[e])};var dr=0,hr=null;function mr(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function gr(e){var t=mr(e);return t.x*=hr,t.y*=hr,t}function br(e,t){var i=mr(t),r=i.x,o=i.y,s=e.display,a=s.scroller,u=a.scrollWidth>a.clientWidth,c=a.scrollHeight>a.clientHeight;if(r&&u||o&&c){if(o&&y&&l)e:for(var f=t.target,d=s.view;f!=a;f=f.parentNode)for(var h=0;h<d.length;h++)if(d[h].node==f){e.display.currentWheelTarget=f;break e}if(r&&!n&&!p&&null!=hr)return o&&c&&Ri(e,Math.max(0,a.scrollTop+o*hr)),Li(e,Math.max(0,a.scrollLeft+r*hr)),(!o||o&&c)&&ut(t),void(s.wheelStartX=null);if(o&&null!=hr){var m=o*hr,g=e.doc.scrollTop,b=g+s.wrapper.clientHeight;m<0?g=Math.max(0,g+m-50):b=Math.min(e.doc.height,b+m+50),lr(e,{top:g,bottom:b})}dr<20&&(null==s.wheelStartX?(s.wheelStartX=a.scrollLeft,s.wheelStartY=a.scrollTop,s.wheelDX=r,s.wheelDY=o,setTimeout(function(){if(null!=s.wheelStartX){var e=a.scrollLeft-s.wheelStartX,t=a.scrollTop-s.wheelStartY,n=t&&s.wheelDY&&t/s.wheelDY||e&&s.wheelDX&&e/s.wheelDX;s.wheelStartX=s.wheelStartY=null,n&&(hr=(hr*dr+n)/(dr+1),++dr)}},200)):(s.wheelDX+=r,s.wheelDY+=o))}}s?hr=-.53:n?hr=15:c?hr=-.7:f&&(hr=-1/3);var yr=function(e,t){this.ranges=e,this.primIndex=t};yr.prototype.primary=function(){return this.ranges[this.primIndex]},yr.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],i=e.ranges[t];if(!ye(n.anchor,i.anchor)||!ye(n.head,i.head))return!1}return!0},yr.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new vr(ve(this.ranges[t].anchor),ve(this.ranges[t].head));return new yr(e,this.primIndex)},yr.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},yr.prototype.contains=function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var i=this.ranges[n];if(be(t,i.from())>=0&&be(e,i.to())<=0)return n}return-1};var vr=function(e,t){this.anchor=e,this.head=t};function _r(e,t,n){var i=e&&e.options.selectionsMayTouch,r=t[n];t.sort(function(e,t){return be(e.from(),t.from())}),n=B(t,r);for(var o=1;o<t.length;o++){var s=t[o],a=t[o-1],l=be(a.to(),s.from());if(i&&!s.empty()?l>0:l>=0){var u=xe(a.from(),s.from()),c=_e(a.to(),s.to()),p=a.empty()?s.from()==s.head:a.from()==a.head;o<=n&&--n,t.splice(--o,2,new vr(p?c:u,p?u:c))}}return new yr(t,n)}function xr(e,t){return new yr([new vr(e,t||e)],0)}function wr(e){return e.text?ge(e.from.line+e.text.length-1,Y(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function kr(e,t){if(be(e,t.from)<0)return e;if(be(e,t.to)<=0)return wr(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,i=e.ch;return e.line==t.to.line&&(i+=wr(t).ch-t.to.ch),ge(n,i)}function Sr(e,t){for(var n=[],i=0;i<e.sel.ranges.length;i++){var r=e.sel.ranges[i];n.push(new vr(kr(r.anchor,t),kr(r.head,t)))}return _r(e.cm,n,e.sel.primIndex)}function Cr(e,t,n){return e.line==t.line?ge(n.line,e.ch-t.ch+n.ch):ge(n.line+(e.line-t.line),e.ch)}function Er(e){e.doc.mode=At(e.options,e.doc.modeOption),Tr(e)}function Tr(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,ir(e,100),e.state.modeGen++,e.curOp&&Zi(e)}function Ar(e,t){return 0==t.from.ch&&0==t.to.ch&&""==Y(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Nr(e,t,n,i){function r(e){return n?n[e]:null}function o(e,n,r){!function(e,t,n,i){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Oe(e),Le(e,n);var r=i?i(e):1;r!=e.height&&pe(e,r)}(e,n,r,i),un(e,"change",e,t)}function s(e,t){for(var n=[],o=e;o<t;++o)n.push(new Gt(u[o],r(o),i));return n}var a=t.from,l=t.to,u=t.text,c=le(e,a.line),p=le(e,l.line),f=Y(u),d=r(u.length-1),h=l.line-a.line;if(t.full)e.insert(0,s(0,u.length)),e.remove(u.length,e.size-u.length);else if(Ar(e,t)){var m=s(0,u.length-1);o(p,p.text,d),h&&e.remove(a.line,h),m.length&&e.insert(a.line,m)}else if(c==p)if(1==u.length)o(c,c.text.slice(0,a.ch)+f+c.text.slice(l.ch),d);else{var g=s(1,u.length-1);g.push(new Gt(f+c.text.slice(l.ch),d,i)),o(c,c.text.slice(0,a.ch)+u[0],r(0)),e.insert(a.line+1,g)}else if(1==u.length)o(c,c.text.slice(0,a.ch)+u[0]+p.text.slice(l.ch),r(0)),e.remove(a.line+1,h);else{o(c,c.text.slice(0,a.ch)+u[0],r(0)),o(p,f+p.text.slice(l.ch),d);var b=s(1,u.length-1);h>1&&e.remove(a.line+1,h-1),e.insert(a.line+1,b)}un(e,"change",e,t)}function Mr(e,t,n){!function e(i,r,o){if(i.linked)for(var s=0;s<i.linked.length;++s){var a=i.linked[s];if(a.doc!=r){var l=o&&a.sharedHist;n&&!l||(t(a.doc,l),e(a.doc,i,l))}}}(e,null,!0)}function Rr(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,ai(e),Er(e),Or(e),e.options.lineWrapping||Ye(e),e.options.mode=t.modeOption,Zi(e)}function Or(e){("rtl"==e.doc.direction?L:E)(e.display.lineDiv,"CodeMirror-rtl")}function Lr(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function Pr(e,t){var n={from:ve(t.from),to:wr(t),text:ue(e,t.from,t.to)};return jr(e,n,t.from.line,t.to.line+1),Mr(e,function(e){return jr(e,n,t.from.line,t.to.line+1)},!0),n}function Dr(e){for(;e.length;){if(!Y(e).ranges)break;e.pop()}}function Ir(e,t,n,i){var r=e.history;r.undone.length=0;var o,s,a=+new Date;if((r.lastOp==i||r.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&r.lastModTime>a-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(o=function(e,t){return t?(Dr(e.done),Y(e.done)):e.done.length&&!Y(e.done).ranges?Y(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),Y(e.done)):void 0}(r,r.lastOp==i)))s=Y(o.changes),0==be(t.from,t.to)&&0==be(t.from,s.to)?s.to=wr(t):o.changes.push(Pr(e,t));else{var l=Y(r.done);for(l&&l.ranges||$r(e.sel,r.done),o={changes:[Pr(e,t)],generation:r.generation},r.done.push(o);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(n),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=a,r.lastOp=r.lastSelOp=i,r.lastOrigin=r.lastSelOrigin=t.origin,s||rt(e,"historyAdded")}function Fr(e,t,n,i){var r=e.history,o=i&&i.origin;n==r.lastSelOp||o&&r.lastSelOrigin==o&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==o||function(e,t,n,i){var r=t.charAt(0);return"*"==r||"+"==r&&n.ranges.length==i.ranges.length&&n.somethingSelected()==i.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}(e,o,Y(r.done),t))?r.done[r.done.length-1]=t:$r(t,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=o,r.lastSelOp=n,i&&!1!==i.clearRedo&&Dr(r.undone)}function $r(e,t){var n=Y(t);n&&n.ranges&&n.equals(e)||t.push(e)}function jr(e,t,n,i){var r=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,i),function(n){n.markedSpans&&((r||(r=t["spans_"+e.id]={}))[o]=n.markedSpans),++o})}function Br(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function zr(e,t){var n=function(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var i=[],r=0;r<t.text.length;++r)i.push(Br(n[r]));return i}(e,t),i=Me(e,t);if(!n)return i;if(!i)return n;for(var r=0;r<n.length;++r){var o=n[r],s=i[r];if(o&&s)e:for(var a=0;a<s.length;++a){for(var l=s[a],u=0;u<o.length;++u)if(o[u].marker==l.marker)continue e;o.push(l)}else s&&(n[r]=s)}return n}function qr(e,t,n){for(var i=[],r=0;r<e.length;++r){var o=e[r];if(o.ranges)i.push(n?yr.prototype.deepCopy.call(o):o);else{var s=o.changes,a=[];i.push({changes:a});for(var l=0;l<s.length;++l){var u=s[l],c=void 0;if(a.push({from:u.from,to:u.to,text:u.text}),t)for(var p in u)(c=p.match(/^spans_(\d+)$/))&&B(t,Number(c[1]))>-1&&(Y(a)[p]=u[p],delete u[p])}}}return i}function Hr(e,t,n,i){if(i){var r=e.anchor;if(n){var o=be(t,r)<0;o!=be(n,r)<0?(r=t,t=n):o!=be(t,n)<0&&(t=n)}return new vr(r,t)}return new vr(n||t,t)}function Ur(e,t,n,i,r){null==r&&(r=e.cm&&(e.cm.display.shift||e.extend)),Yr(e,new yr([Hr(e.sel.primary(),t,n,r)],0),i)}function Wr(e,t,n){for(var i=[],r=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)i[o]=Hr(e.sel.ranges[o],t[o],null,r);Yr(e,_r(e.cm,i,e.sel.primIndex),n)}function Vr(e,t,n,i){var r=e.sel.ranges.slice(0);r[t]=n,Yr(e,_r(e.cm,r,e.sel.primIndex),i)}function Gr(e,t,n,i){Yr(e,xr(t,n),i)}function Kr(e,t,n){var i=e.history.done,r=Y(i);r&&r.ranges?(i[i.length-1]=t,Xr(e,t,n)):Yr(e,t,n)}function Yr(e,t,n){Xr(e,t,n),Fr(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function Xr(e,t,n){(at(e,"beforeSelectionChange")||e.cm&&at(e.cm,"beforeSelectionChange"))&&(t=function(e,t,n){var i={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new vr(ke(e,t[n].anchor),ke(e,t[n].head))},origin:n&&n.origin};return rt(e,"beforeSelectionChange",e,i),e.cm&&rt(e.cm,"beforeSelectionChange",e.cm,i),i.ranges!=t.ranges?_r(e.cm,i.ranges,i.ranges.length-1):t}(e,t,n));var i=n&&n.bias||(be(t.primary().head,e.sel.primary().head)<0?-1:1);Qr(e,Jr(e,t,i,!0)),n&&!1===n.scroll||!e.cm||Ti(e.cm)}function Qr(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,st(e.cm)),un(e,"cursorActivity",e))}function Zr(e){Qr(e,Jr(e,e.sel,null,!1))}function Jr(e,t,n,i){for(var r,o=0;o<t.ranges.length;o++){var s=t.ranges[o],a=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],l=to(e,s.anchor,a&&a.anchor,n,i),u=to(e,s.head,a&&a.head,n,i);(r||l!=s.anchor||u!=s.head)&&(r||(r=t.ranges.slice(0,o)),r[o]=new vr(l,u))}return r?_r(e.cm,r,t.primIndex):t}function eo(e,t,n,i,r){var o=le(e,t.line);if(o.markedSpans)for(var s=0;s<o.markedSpans.length;++s){var a=o.markedSpans[s],l=a.marker;if((null==a.from||(l.inclusiveLeft?a.from<=t.ch:a.from<t.ch))&&(null==a.to||(l.inclusiveRight?a.to>=t.ch:a.to>t.ch))){if(r&&(rt(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--s;continue}break}if(!l.atomic)continue;if(n){var u=l.find(i<0?1:-1),c=void 0;if((i<0?l.inclusiveRight:l.inclusiveLeft)&&(u=no(e,u,-i,u&&u.line==t.line?o:null)),u&&u.line==t.line&&(c=be(u,n))&&(i<0?c<0:c>0))return eo(e,u,t,i,r)}var p=l.find(i<0?-1:1);return(i<0?l.inclusiveLeft:l.inclusiveRight)&&(p=no(e,p,i,p.line==t.line?o:null)),p?eo(e,p,t,i,r):null}}return t}function to(e,t,n,i,r){var o=i||1,s=eo(e,t,n,o,r)||!r&&eo(e,t,n,o,!0)||eo(e,t,n,-o,r)||!r&&eo(e,t,n,-o,!0);return s||(e.cantEdit=!0,ge(e.first,0))}function no(e,t,n,i){return n<0&&0==t.ch?t.line>e.first?ke(e,ge(t.line-1)):null:n>0&&t.ch==(i||le(e,t.line)).text.length?t.line<e.first+e.size-1?ge(t.line+1,0):null:new ge(t.line,t.ch+n)}function io(e){e.setSelection(ge(e.firstLine(),0),ge(e.lastLine()),H)}function ro(e,t,n){var i={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return i.canceled=!0}};return n&&(i.update=function(t,n,r,o){t&&(i.from=ke(e,t)),n&&(i.to=ke(e,n)),r&&(i.text=r),void 0!==o&&(i.origin=o)}),rt(e,"beforeChange",e,i),e.cm&&rt(e.cm,"beforeChange",e.cm,i),i.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:i.from,to:i.to,text:i.text,origin:i.origin}}function oo(e,t,n){if(e.cm){if(!e.cm.curOp)return Yi(e.cm,oo)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(at(e,"beforeChange")||e.cm&&at(e.cm,"beforeChange"))||(t=ro(e,t,!0))){var i=Ce&&!n&&function(e,t,n){var i=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||i&&-1!=B(i,n)||(i||(i=[])).push(n)}}),!i)return null;for(var r=[{from:t,to:n}],o=0;o<i.length;++o)for(var s=i[o],a=s.find(0),l=0;l<r.length;++l){var u=r[l];if(!(be(u.to,a.from)<0||be(u.from,a.to)>0)){var c=[l,1],p=be(u.from,a.from),f=be(u.to,a.to);(p<0||!s.inclusiveLeft&&!p)&&c.push({from:u.from,to:a.from}),(f>0||!s.inclusiveRight&&!f)&&c.push({from:a.to,to:u.to}),r.splice.apply(r,c),l+=c.length-3}}return r}(e,t.from,t.to);if(i)for(var r=i.length-1;r>=0;--r)so(e,{from:i[r].from,to:i[r].to,text:r?[""]:t.text,origin:t.origin});else so(e,t)}}function so(e,t){if(1!=t.text.length||""!=t.text[0]||0!=be(t.from,t.to)){var n=Sr(e,t);Ir(e,t,n,e.cm?e.cm.curOp.id:NaN),uo(e,t,n,Me(e,t));var i=[];Mr(e,function(e,n){n||-1!=B(i,e.history)||(ho(e.history,t),i.push(e.history)),uo(e,t,null,Me(e,t))})}}function ao(e,t,n){var i=e.cm&&e.cm.state.suppressEdits;if(!i||n){for(var r,o=e.history,s=e.sel,a="undo"==t?o.done:o.undone,l="undo"==t?o.undone:o.done,u=0;u<a.length&&(r=a[u],n?!r.ranges||r.equals(e.sel):r.ranges);u++);if(u!=a.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(!(r=a.pop()).ranges){if(i)return void a.push(r);break}if($r(r,l),n&&!r.equals(e.sel))return void Yr(e,r,{clearRedo:!1});s=r}var c=[];$r(s,l),l.push({changes:c,generation:o.generation}),o.generation=r.generation||++o.maxGeneration;for(var p=at(e,"beforeChange")||e.cm&&at(e.cm,"beforeChange"),f=function(n){var i=r.changes[n];if(i.origin=t,p&&!ro(e,i,!1))return a.length=0,{};c.push(Pr(e,i));var o=n?Sr(e,i):Y(a);uo(e,i,o,zr(e,i)),!n&&e.cm&&e.cm.scrollIntoView({from:i.from,to:wr(i)});var s=[];Mr(e,function(e,t){t||-1!=B(s,e.history)||(ho(e.history,i),s.push(e.history)),uo(e,i,null,zr(e,i))})},d=r.changes.length-1;d>=0;--d){var h=f(d);if(h)return h.v}}}}function lo(e,t){if(0!=t&&(e.first+=t,e.sel=new yr(X(e.sel.ranges,function(e){return new vr(ge(e.anchor.line+t,e.anchor.ch),ge(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){Zi(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,i=n.viewFrom;i<n.viewTo;i++)Ji(e.cm,i,"gutter")}}function uo(e,t,n,i){if(e.cm&&!e.cm.curOp)return Yi(e.cm,uo)(e,t,n,i);if(t.to.line<e.first)lo(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var r=t.text.length-1-(e.first-t.from.line);lo(e,r),t={from:ge(e.first,0),to:ge(t.to.line+r,t.to.ch),text:[Y(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:ge(o,le(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=ue(e,t.from,t.to),n||(n=Sr(e,t)),e.cm?function(e,t,n){var i=e.doc,r=e.display,o=t.from,s=t.to,a=!1,l=o.line;e.options.lineWrapping||(l=fe(qe(le(i,o.line))),i.iter(l,s.line+1,function(e){if(e==r.maxLine)return a=!0,!0}));i.sel.contains(t.from,t.to)>-1&&st(e);Nr(i,t,n,si(e)),e.options.lineWrapping||(i.iter(l,o.line+t.text.length,function(e){var t=Ke(e);t>r.maxLineLength&&(r.maxLine=e,r.maxLineLength=t,r.maxLineChanged=!0,a=!1)}),a&&(e.curOp.updateMaxLine=!0));(function(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,i=t-1;i>n;i--){var r=le(e,i).stateAfter;if(r&&(!(r instanceof Dt)||i+r.lookAhead<t)){n=i+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}})(i,o.line),ir(e,400);var u=t.text.length-(s.line-o.line)-1;t.full?Zi(e):o.line!=s.line||1!=t.text.length||Ar(e.doc,t)?Zi(e,o.line,s.line+1,u):Ji(e,o.line,"text");var c=at(e,"changes"),p=at(e,"change");if(p||c){var f={from:o,to:s,text:t.text,removed:t.removed,origin:t.origin};p&&un(e,"change",e,f),c&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(f)}e.display.selForContextMenu=null}(e.cm,t,i):Nr(e,t,i),Xr(e,n,H)}}function co(e,t,n,i,r){var o;i||(i=n),be(i,n)<0&&(n=(o=[i,n])[0],i=o[1]),"string"==typeof t&&(t=e.splitLines(t)),oo(e,{from:n,to:i,text:t,origin:r})}function po(e,t,n,i){n<e.line?e.line+=i:t<e.line&&(e.line=t,e.ch=0)}function fo(e,t,n,i){for(var r=0;r<e.length;++r){var o=e[r],s=!0;if(o.ranges){o.copied||((o=e[r]=o.deepCopy()).copied=!0);for(var a=0;a<o.ranges.length;a++)po(o.ranges[a].anchor,t,n,i),po(o.ranges[a].head,t,n,i)}else{for(var l=0;l<o.changes.length;++l){var u=o.changes[l];if(n<u.from.line)u.from=ge(u.from.line+i,u.from.ch),u.to=ge(u.to.line+i,u.to.ch);else if(t<=u.to.line){s=!1;break}}s||(e.splice(0,r+1),r=0)}}}function ho(e,t){var n=t.from.line,i=t.to.line,r=t.text.length-(i-n)-1;fo(e.done,n,i,r),fo(e.undone,n,i,r)}function mo(e,t,n,i){var r=t,o=t;return"number"==typeof t?o=le(e,we(e,t)):r=fe(t),null==r?null:(i(o,r)&&e.cm&&Ji(e.cm,r,n),o)}function go(e){this.lines=e,this.parent=null;for(var t=0,n=0;n<e.length;++n)e[n].parent=this,t+=e[n].height;this.height=t}function bo(e){this.children=e;for(var t=0,n=0,i=0;i<e.length;++i){var r=e[i];t+=r.chunkSize(),n+=r.height,r.parent=this}this.size=t,this.height=n,this.parent=null}vr.prototype.from=function(){return xe(this.anchor,this.head)},vr.prototype.to=function(){return _e(this.anchor,this.head)},vr.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},go.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,i=e+t;n<i;++n){var r=this.lines[n];this.height-=r.height,Kt(r),un(r,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var i=0;i<t.length;++i)t[i].parent=this},iterN:function(e,t,n){for(var i=e+t;e<i;++e)if(n(this.lines[e]))return!0}},bo.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var i=this.children[n],r=i.chunkSize();if(e<r){var o=Math.min(t,r-e),s=i.height;if(i.removeInner(e,o),this.height-=s-i.height,r==o&&(this.children.splice(n--,1),i.parent=null),0==(t-=o))break;e=0}else e-=r}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof go))){var a=[];this.collapse(a),this.children=[new go(a)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.chunkSize();if(e<=o){if(r.insertInner(e,t,n),r.lines&&r.lines.length>50){for(var s=r.lines.length%25+25,a=s;a<r.lines.length;){var l=new go(r.lines.slice(a,a+=25));r.height-=l.height,this.children.splice(++i,0,l),l.parent=this}r.lines=r.lines.slice(0,s),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new bo(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var n=B(e.parent.children,e);e.parent.children.splice(n+1,0,t)}else{var i=new bo(e.children);i.parent=e,e.children=[i,t],e=i}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.chunkSize();if(e<o){var s=Math.min(t,o-e);if(r.iterN(e,s,n))return!0;if(0==(t-=s))break;e=0}else e-=o}}};var yo=function(e,t,n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i]);this.doc=e,this.node=t};function vo(e,t,n){Ge(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Ei(e,n)}yo.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,i=fe(n);if(null!=i&&t){for(var r=0;r<t.length;++r)t[r]==this&&t.splice(r--,1);t.length||(n.widgets=null);var o=wn(this);pe(n,Math.max(0,n.height-o)),e&&(Ki(e,function(){vo(e,n,-o),Ji(e,i,"widget")}),un(e,"lineWidgetCleared",e,this,i))}},yo.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,i=this.line;this.height=null;var r=wn(this)-t;r&&(We(this.doc,i)||pe(i,i.height+r),n&&Ki(n,function(){n.curOp.forceUpdate=!0,vo(n,i,r),un(n,"lineWidgetChanged",n,e,fe(i))}))},lt(yo);var _o=0,xo=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++_o};function wo(e,t,n,i,r){if(i&&i.shared)return function(e,t,n,i,r){(i=F(i)).shared=!1;var o=[wo(e,t,n,i,r)],s=o[0],a=i.widgetNode;return Mr(e,function(e){a&&(i.widgetNode=a.cloneNode(!0)),o.push(wo(e,ke(e,t),ke(e,n),i,r));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;s=Y(o)}),new ko(o,s)}(e,t,n,i,r);if(e.cm&&!e.cm.curOp)return Yi(e.cm,wo)(e,t,n,i,r);var o=new xo(e,r),s=be(t,n);if(i&&F(i,o,!1),s>0||0==s&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=M("span",[o.replacedWith],"CodeMirror-widget"),i.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),i.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(ze(e,t.line,t,n,o)||t.line!=n.line&&ze(e,n.line,t,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ee=!0}o.addToHistory&&Ir(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var a,l=t.line,u=e.cm;if(e.iter(l,n.line+1,function(e){u&&o.collapsed&&!u.options.lineWrapping&&qe(e)==u.display.maxLine&&(a=!0),o.collapsed&&l!=t.line&&pe(e,0),function(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}(e,new Te(o,l==t.line?t.ch:null,l==n.line?n.ch:null)),++l}),o.collapsed&&e.iter(t.line,n.line+1,function(t){We(e,t)&&pe(t,0)}),o.clearOnEnter&&tt(o,"beforeCursorEnter",function(){return o.clear()}),o.readOnly&&(Ce=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++_o,o.atomic=!0),u){if(a&&(u.curOp.updateMaxLine=!0),o.collapsed)Zi(u,t.line,n.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var c=t.line;c<=n.line;c++)Ji(u,c,"text");o.atomic&&Zr(u.doc),un(u,"markerAdded",u,o)}return o}xo.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&qi(e),at(this,"clear")){var n=this.find();n&&un(this,"clear",n.from,n.to)}for(var i=null,r=null,o=0;o<this.lines.length;++o){var s=this.lines[o],a=Ae(s.markedSpans,this);e&&!this.collapsed?Ji(e,fe(s),"text"):e&&(null!=a.to&&(r=fe(s)),null!=a.from&&(i=fe(s))),s.markedSpans=Ne(s.markedSpans,a),null==a.from&&this.collapsed&&!We(this.doc,s)&&e&&pe(s,ni(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var u=qe(this.lines[l]),c=Ke(u);c>e.display.maxLineLength&&(e.display.maxLine=u,e.display.maxLineLength=c,e.display.maxLineChanged=!0)}null!=i&&e&&this.collapsed&&Zi(e,i,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Zr(e.doc)),e&&un(e,"markerCleared",e,this,i,r),t&&Hi(e),this.parent&&this.parent.clear()}},xo.prototype.find=function(e,t){var n,i;null==e&&"bookmark"==this.type&&(e=1);for(var r=0;r<this.lines.length;++r){var o=this.lines[r],s=Ae(o.markedSpans,this);if(null!=s.from&&(n=ge(t?o:fe(o),s.from),-1==e))return n;if(null!=s.to&&(i=ge(t?o:fe(o),s.to),1==e))return i}return n&&{from:n,to:i}},xo.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,i=this.doc.cm;t&&i&&Ki(i,function(){var r=t.line,o=fe(t.line),s=On(i,o);if(s&&(jn(s),i.curOp.selectionChanged=i.curOp.forceUpdate=!0),i.curOp.updateMaxLine=!0,!We(n.doc,r)&&null!=n.height){var a=n.height;n.height=null;var l=wn(n)-a;l&&pe(r,r.height+l)}un(i,"markerChanged",i,e)})},xo.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=B(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},xo.prototype.detachLine=function(e){if(this.lines.splice(B(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},lt(xo);var ko=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};function So(e){return e.findMarks(ge(e.first,0),e.clipPos(ge(e.lastLine())),function(e){return e.parent})}function Co(e){for(var t=function(t){var n=e[t],i=[n.primary.doc];Mr(n.primary.doc,function(e){return i.push(e)});for(var r=0;r<n.markers.length;r++){var o=n.markers[r];-1==B(i,o.doc)&&(o.parent=null,n.markers.splice(r--,1))}},n=0;n<e.length;n++)t(n)}ko.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();un(this,"clear")}},ko.prototype.find=function(e,t){return this.primary.find(e,t)},lt(ko);var Eo=0,To=function(e,t,n,i,r){if(!(this instanceof To))return new To(e,t,n,i,r);null==n&&(n=0),bo.call(this,[new go([new Gt("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var o=ge(n,0);this.sel=xr(o),this.history=new Lr(null),this.id=++Eo,this.modeOption=t,this.lineSep=i,this.direction="rtl"==r?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Nr(this,{from:o,to:o,text:e}),Yr(this,xr(o),H)};To.prototype=Z(bo.prototype,{constructor:To,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,i=0;i<t.length;++i)n+=t[i].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=ce(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:Qi(function(e){var t=ge(this.first,0),n=this.first+this.size-1;oo(this,{from:t,to:ge(n,le(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Ai(this.cm,0,0),Yr(this,xr(t),H)}),replaceRange:function(e,t,n,i){co(this,e,t=ke(this,t),n=n?ke(this,n):t,i)},getRange:function(e,t,n){var i=ue(this,ke(this,e),ke(this,t));return!1===n?i:i.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(he(this,e))return le(this,e)},getLineNumber:function(e){return fe(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=le(this,e)),qe(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return ke(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Qi(function(e,t,n){Gr(this,ke(this,"number"==typeof e?ge(e,t||0):e),null,n)}),setSelection:Qi(function(e,t,n){Gr(this,ke(this,e),ke(this,t||e),n)}),extendSelection:Qi(function(e,t,n){Ur(this,ke(this,e),t&&ke(this,t),n)}),extendSelections:Qi(function(e,t){Wr(this,Se(this,e),t)}),extendSelectionsBy:Qi(function(e,t){Wr(this,Se(this,X(this.sel.ranges,e)),t)}),setSelections:Qi(function(e,t,n){if(e.length){for(var i=[],r=0;r<e.length;r++)i[r]=new vr(ke(this,e[r].anchor),ke(this,e[r].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Yr(this,_r(this.cm,i,t),n)}}),addSelection:Qi(function(e,t,n){var i=this.sel.ranges.slice(0);i.push(new vr(ke(this,e),ke(this,t||e))),Yr(this,_r(this.cm,i,i.length-1),n)}),getSelection:function(e){for(var t,n=this.sel.ranges,i=0;i<n.length;i++){var r=ue(this,n[i].from(),n[i].to());t=t?t.concat(r):r}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,i=0;i<n.length;i++){var r=ue(this,n[i].from(),n[i].to());!1!==e&&(r=r.join(e||this.lineSeparator())),t[i]=r}return t},replaceSelection:function(e,t,n){for(var i=[],r=0;r<this.sel.ranges.length;r++)i[r]=e;this.replaceSelections(i,t,n||"+input")},replaceSelections:Qi(function(e,t,n){for(var i=[],r=this.sel,o=0;o<r.ranges.length;o++){var s=r.ranges[o];i[o]={from:s.from(),to:s.to(),text:this.splitLines(e[o]),origin:n}}for(var a=t&&"end"!=t&&function(e,t,n){for(var i=[],r=ge(e.first,0),o=r,s=0;s<t.length;s++){var a=t[s],l=Cr(a.from,r,o),u=Cr(wr(a),r,o);if(r=a.to,o=u,"around"==n){var c=e.sel.ranges[s],p=be(c.head,c.anchor)<0;i[s]=new vr(p?u:l,p?l:u)}else i[s]=new vr(l,l)}return new yr(i,e.sel.primIndex)}(this,i,t),l=i.length-1;l>=0;l--)oo(this,i[l]);a?Kr(this,a):this.cm&&Ti(this.cm)}),undo:Qi(function(){ao(this,"undo")}),redo:Qi(function(){ao(this,"redo")}),undoSelection:Qi(function(){ao(this,"undo",!0)}),redoSelection:Qi(function(){ao(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,i=0;i<e.done.length;i++)e.done[i].ranges||++t;for(var r=0;r<e.undone.length;r++)e.undone[r].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new Lr(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:qr(this.history.done),undone:qr(this.history.undone)}},setHistory:function(e){var t=this.history=new Lr(this.history.maxGeneration);t.done=qr(e.done.slice(0),null,!0),t.undone=qr(e.undone.slice(0),null,!0)},setGutterMarker:Qi(function(e,t,n){return mo(this,e,"gutter",function(e){var i=e.gutterMarkers||(e.gutterMarkers={});return i[t]=n,!n&&ne(i)&&(e.gutterMarkers=null),!0})}),clearGutter:Qi(function(e){var t=this;this.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&mo(t,n,"gutter",function(){return n.gutterMarkers[e]=null,ne(n.gutterMarkers)&&(n.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!he(this,e))return null;if(t=e,!(e=le(this,e)))return null}else if(null==(t=fe(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Qi(function(e,t,n){return mo(this,e,"gutter"==t?"gutter":"class",function(e){var i="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[i]){if(S(n).test(e[i]))return!1;e[i]+=" "+n}else e[i]=n;return!0})}),removeLineClass:Qi(function(e,t,n){return mo(this,e,"gutter"==t?"gutter":"class",function(e){var i="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",r=e[i];if(!r)return!1;if(null==n)e[i]=null;else{var o=r.match(S(n));if(!o)return!1;var s=o.index+o[0].length;e[i]=r.slice(0,o.index)+(o.index&&s!=r.length?" ":"")+r.slice(s)||null}return!0})}),addLineWidget:Qi(function(e,t,n){return function(e,t,n,i){var r=new yo(e,n,i),o=e.cm;return o&&r.noHScroll&&(o.display.alignWidgets=!0),mo(e,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);if(null==r.insertAt?n.push(r):n.splice(Math.min(n.length-1,Math.max(0,r.insertAt)),0,r),r.line=t,o&&!We(e,t)){var i=Ge(t)<e.scrollTop;pe(t,t.height+wn(r)),i&&Ei(o,r.height),o.curOp.forceUpdate=!0}return!0}),o&&un(o,"lineWidgetAdded",o,r,"number"==typeof t?t:fe(t)),r}(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return wo(this,ke(this,e),ke(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return wo(this,e=ke(this,e),e,n,"bookmark")},findMarksAt:function(e){var t=[],n=le(this,(e=ke(this,e)).line).markedSpans;if(n)for(var i=0;i<n.length;++i){var r=n[i];(null==r.from||r.from<=e.ch)&&(null==r.to||r.to>=e.ch)&&t.push(r.marker.parent||r.marker)}return t},findMarks:function(e,t,n){e=ke(this,e),t=ke(this,t);var i=[],r=e.line;return this.iter(e.line,t.line+1,function(o){var s=o.markedSpans;if(s)for(var a=0;a<s.length;a++){var l=s[a];null!=l.to&&r==e.line&&e.ch>=l.to||null==l.from&&r!=e.line||null!=l.from&&r==t.line&&l.from>=t.ch||n&&!n(l.marker)||i.push(l.marker.parent||l.marker)}++r}),i},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var i=0;i<n.length;++i)null!=n[i].from&&e.push(n[i].marker)}),e},posFromIndex:function(e){var t,n=this.first,i=this.lineSeparator().length;return this.iter(function(r){var o=r.text.length+i;if(o>e)return t=e,!0;e-=o,++n}),ke(this,ge(n,t))},indexFromPos:function(e){var t=(e=ke(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+n}),t},copy:function(e){var t=new To(ce(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var i=new To(ce(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(i.history=this.history),(this.linked||(this.linked=[])).push({doc:i,sharedHist:e.sharedHist}),i.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n],r=i.find(),o=e.clipPos(r.from),s=e.clipPos(r.to);if(be(o,s)){var a=wo(e,o,s,i.primary,i.primary.type);i.markers.push(a),a.parent=i}}}(i,So(this)),i},unlinkDoc:function(e){if(e instanceof Ss&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t){if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),Co(So(this));break}}if(e.history==this.history){var n=[e.id];Mr(e,function(e){return n.push(e.id)},!0),e.history=new Lr(null),e.history.done=qr(this.history.done,n),e.history.undone=qr(this.history.undone,n)}},iterLinkedDocs:function(e){Mr(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):xt(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Qi(function(e){var t;("rtl"!=e&&(e="ltr"),e!=this.direction)&&(this.direction=e,this.iter(function(e){return e.order=null}),this.cm&&Ki(t=this.cm,function(){Or(t),Zi(t)}))})}),To.prototype.eachLine=To.prototype.iter;var Ao=0;function No(e){var t=this;if(Mo(t),!ot(t,e)&&!kn(t.display,e)){ut(e),s&&(Ao=+new Date);var n=li(t,e,!0),i=e.dataTransfer.files;if(n&&!t.isReadOnly())if(i&&i.length&&window.FileReader&&window.File)for(var r=i.length,o=Array(r),a=0,l=function(e,i){if(!t.options.allowDropFileTypes||-1!=B(t.options.allowDropFileTypes,e.type)){var s=new FileReader;s.onload=Yi(t,function(){var e=s.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),o[i]=e,++a==r){var l={from:n=ke(t.doc,n),to:n,text:t.doc.splitLines(o.join(t.doc.lineSeparator())),origin:"paste"};oo(t.doc,l),Kr(t.doc,xr(n,wr(l)))}}),s.readAsText(e)}},u=0;u<r;++u)l(i[u],u);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var c=e.dataTransfer.getData("Text");if(c){var p;if(t.state.draggingText&&!t.state.draggingText.copy&&(p=t.listSelections()),Xr(t.doc,xr(n,n)),p)for(var f=0;f<p.length;++f)co(t.doc,"",p[f].anchor,p[f].head,"drag");t.replaceSelection(c,"around","paste"),t.display.input.focus()}}catch(e){}}}}function Mo(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Ro(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),n=[],i=0;i<t.length;i++){var r=t[i].CodeMirror;r&&n.push(r)}n.length&&n[0].operation(function(){for(var t=0;t<n.length;t++)e(n[t])})}}var Oo=!1;function Lo(){var e;Oo||(tt(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,Ro(Po)},100))}),tt(window,"blur",function(){return Ro(vi)}),Oo=!0)}function Po(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var Do={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Io=0;Io<10;Io++)Do[Io+48]=Do[Io+96]=String(Io);for(var Fo=65;Fo<=90;Fo++)Do[Fo]=String.fromCharCode(Fo);for(var $o=1;$o<=12;$o++)Do[$o+111]=Do[$o+63235]="F"+$o;var jo={};function Bo(e){var t,n,i,r,o=e.split(/-(?!$)/);e=o[o.length-1];for(var s=0;s<o.length-1;s++){var a=o[s];if(/^(cmd|meta|m)$/i.test(a))r=!0;else if(/^a(lt)?$/i.test(a))t=!0;else if(/^(c|ctrl|control)$/i.test(a))n=!0;else{if(!/^s(hift)?$/i.test(a))throw new Error("Unrecognized modifier name: "+a);i=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),r&&(e="Cmd-"+e),i&&(e="Shift-"+e),e}function zo(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==i){delete e[n];continue}for(var r=X(n.split(" "),Bo),o=0;o<r.length;o++){var s=void 0,a=void 0;o==r.length-1?(a=r.join(" "),s=i):(a=r.slice(0,o+1).join(" "),s="...");var l=t[a];if(l){if(l!=s)throw new Error("Inconsistent bindings for "+a)}else t[a]=s}delete e[n]}for(var u in t)e[u]=t[u];return e}function qo(e,t,n,i){var r=(t=Vo(t)).call?t.call(e,i):t[e];if(!1===r)return"nothing";if("..."===r)return"multi";if(null!=r&&n(r))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return qo(e,t.fallthrough,n,i);for(var o=0;o<t.fallthrough.length;o++){var s=qo(e,t.fallthrough[o],n,i);if(s)return s}}}function Ho(e){var t="string"==typeof e?e:Do[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Uo(e,t,n){var i=e;return t.altKey&&"Alt"!=i&&(e="Alt-"+e),(w?t.metaKey:t.ctrlKey)&&"Ctrl"!=i&&(e="Ctrl-"+e),(w?t.ctrlKey:t.metaKey)&&"Cmd"!=i&&(e="Cmd-"+e),!n&&t.shiftKey&&"Shift"!=i&&(e="Shift-"+e),e}function Wo(e,t){if(p&&34==e.keyCode&&e.char)return!1;var n=Do[e.keyCode];return null!=n&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(n=e.code),Uo(n,e,t))}function Vo(e){return"string"==typeof e?jo[e]:e}function Go(e,t){for(var n=e.doc.sel.ranges,i=[],r=0;r<n.length;r++){for(var o=t(n[r]);i.length&&be(o.from,Y(i).to)<=0;){var s=i.pop();if(be(s.from,o.from)<0){o.from=s.from;break}}i.push(o)}Ki(e,function(){for(var t=i.length-1;t>=0;t--)co(e.doc,"",i[t].from,i[t].to,"+delete");Ti(e)})}function Ko(e,t,n){var i=oe(e.text,t+n,n);return i<0||i>e.text.length?null:i}function Yo(e,t,n){var i=Ko(e,t.ch,n);return null==i?null:new ge(t.line,i,n<0?"after":"before")}function Xo(e,t,n,i,r){if(e){var o=Je(n,t.doc.direction);if(o){var s,a=r<0?Y(o):o[0],l=r<0==(1==a.level)?"after":"before";if(a.level>0||"rtl"==t.doc.direction){var u=Ln(t,n);s=r<0?n.text.length-1:0;var c=Pn(t,u,s).top;s=se(function(e){return Pn(t,u,e).top==c},r<0==(1==a.level)?a.from:a.to-1,s),"before"==l&&(s=Ko(n,s,1))}else s=r<0?a.to:a.from;return new ge(i,s,l)}}return new ge(i,r<0?n.text.length:0,r<0?"before":"after")}jo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},jo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},jo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},jo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},jo.default=y?jo.macDefault:jo.pcDefault;var Qo={selectAll:io,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),H)},killLine:function(e){return Go(e,function(t){if(t.empty()){var n=le(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:ge(t.head.line+1,0)}:{from:t.head,to:ge(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return Go(e,function(t){return{from:ge(t.from().line,0),to:ke(e.doc,ge(t.to().line+1,0))}})},delLineLeft:function(e){return Go(e,function(e){return{from:ge(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){return Go(e,function(t){var n=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:n},"div"),to:t.from()}})},delWrappedLineRight:function(e){return Go(e,function(t){var n=e.charCoords(t.head,"div").top+5,i=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:i}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(ge(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(ge(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return Zo(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return Jo(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return function(e,t){var n=le(e.doc,t),i=function(e){for(var t;t=je(e);)e=t.find(1,!0).line;return e}(n);i!=n&&(t=fe(i));return Xo(!0,e,n,t,-1)}(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},W)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},W)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5,i=e.coordsChar({left:0,top:n},"div");return i.ch<e.getLine(i.line).search(/\S/)?Jo(e,t.head):i},W)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),i=e.options.tabSize,r=0;r<n.length;r++){var o=n[r].from(),s=$(e.getLine(o.line),o.ch,i);t.push(K(i-s%i))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Ki(e,function(){for(var t=e.listSelections(),n=[],i=0;i<t.length;i++)if(t[i].empty()){var r=t[i].head,o=le(e.doc,r.line).text;if(o)if(r.ch==o.length&&(r=new ge(r.line,r.ch-1)),r.ch>0)r=new ge(r.line,r.ch+1),e.replaceRange(o.charAt(r.ch-1)+o.charAt(r.ch-2),ge(r.line,r.ch-2),r,"+transpose");else if(r.line>e.doc.first){var s=le(e.doc,r.line-1).text;s&&(r=new ge(r.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+s.charAt(s.length-1),ge(r.line-1,s.length-1),r,"+transpose"))}n.push(new vr(r,r))}e.setSelections(n)})},newlineAndIndent:function(e){return Ki(e,function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var i=0;i<t.length;i++)e.indentLine(t[i].from().line,null,!0);Ti(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Zo(e,t){var n=le(e.doc,t),i=qe(n);return i!=n&&(t=fe(i)),Xo(!0,e,i,t,1)}function Jo(e,t){var n=Zo(e,t.line),i=le(e.doc,n.line),r=Je(i,e.doc.direction);if(!r||0==r[0].level){var o=Math.max(0,i.text.search(/\S/)),s=t.line==n.line&&t.ch<=o&&t.ch;return ge(n.line,s?0:o,n.sticky)}return n}function es(e,t,n){if("string"==typeof t&&!(t=Qo[t]))return!1;e.display.input.ensurePolled();var i=e.display.shift,r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),r=t(e)!=q}finally{e.display.shift=i,e.state.suppressEdits=!1}return r}var ts=new j;function ns(e,t,n,i){var r=e.state.keySeq;if(r){if(Ho(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:ts.set(50,function(){e.state.keySeq==r&&(e.state.keySeq=null,e.display.input.reset())}),is(e,r+" "+t,n,i))return!0}return is(e,t,n,i)}function is(e,t,n,i){var r=function(e,t,n){for(var i=0;i<e.state.keyMaps.length;i++){var r=qo(t,e.state.keyMaps[i],n,e);if(r)return r}return e.options.extraKeys&&qo(t,e.options.extraKeys,n,e)||qo(t,e.options.keyMap,n,e)}(e,t,i);return"multi"==r&&(e.state.keySeq=t),"handled"==r&&un(e,"keyHandled",e,t,n),"handled"!=r&&"multi"!=r||(ut(n),mi(e)),!!r}function rs(e,t){var n=Wo(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?ns(e,"Shift-"+n,t,function(t){return es(e,t,!0)})||ns(e,n,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return es(e,t)}):ns(e,n,t,function(t){return es(e,t)}))}var os=null;function ss(e){var t=this;if(t.curOp.focus=O(),!ot(t,e)){s&&a<11&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var i=rs(t,e);p&&(os=i?n:null,!i&&88==n&&!kt&&(y?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||function(e){var t=e.display.lineDiv;function n(e){18!=e.keyCode&&e.altKey||(E(t,"CodeMirror-crosshair"),it(document,"keyup",n),it(document,"mouseover",n))}L(t,"CodeMirror-crosshair"),tt(document,"keyup",n),tt(document,"mouseover",n)}(t)}}function as(e){16==e.keyCode&&(this.doc.sel.shift=!1),ot(this,e)}function ls(e){var t=this;if(!(kn(t.display,e)||ot(t,e)||e.ctrlKey&&!e.altKey||y&&e.metaKey)){var n=e.keyCode,i=e.charCode;if(p&&n==os)return os=null,void ut(e);if(!p||e.which&&!(e.which<10)||!rs(t,e)){var r=String.fromCharCode(null==i?n:i);"\b"!=r&&(function(e,t,n){return ns(e,"'"+n+"'",t,function(t){return es(e,t,!0)})}(t,e,r)||t.display.input.onKeyPress(e))}}}var us,cs,ps=function(e,t,n){this.time=e,this.pos=t,this.button=n};function fs(e){var t=this,n=t.display;if(!(ot(t,e)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=e.shiftKey,kn(n,e))l||(n.scroller.draggable=!1,setTimeout(function(){return n.scroller.draggable=!0},100));else if(!ms(t,e)){var i=li(t,e),r=ht(e),o=i?function(e,t){var n=+new Date;return cs&&cs.compare(n,e,t)?(us=cs=null,"triple"):us&&us.compare(n,e,t)?(cs=new ps(n,e,t),us=null,"double"):(us=new ps(n,e,t),cs=null,"single")}(i,r):"single";window.focus(),1==r&&t.state.selectingText&&t.state.selectingText(e),i&&function(e,t,n,i,r){var o="Click";"double"==i?o="Double"+o:"triple"==i&&(o="Triple"+o);return ns(e,Uo(o=(1==t?"Left":2==t?"Middle":"Right")+o,r),r,function(t){if("string"==typeof t&&(t=Qo[t]),!t)return!1;var i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),i=t(e,n)!=q}finally{e.state.suppressEdits=!1}return i})}(t,r,i,o,e)||(1==r?i?function(e,t,n,i){s?setTimeout(I(gi,e),0):e.curOp.focus=O();var r,o=function(e,t,n){var i=e.getOption("configureMouse"),r=i?i(e,t,n):{};if(null==r.unit){var o=v?n.shiftKey&&n.metaKey:n.altKey;r.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}(null==r.extend||e.doc.extend)&&(r.extend=e.doc.extend||n.shiftKey);null==r.addNew&&(r.addNew=y?n.metaKey:n.ctrlKey);null==r.moveOnDrag&&(r.moveOnDrag=!(y?n.altKey:n.ctrlKey));return r}(e,n,i),u=e.doc.sel;e.options.dragDrop&&bt&&!e.isReadOnly()&&"single"==n&&(r=u.contains(t))>-1&&(be((r=u.ranges[r]).from(),t)<0||t.xRel>0)&&(be(r.to(),t)>0||t.xRel<0)?function(e,t,n,i){var r=e.display,o=!1,u=Yi(e,function(t){l&&(r.scroller.draggable=!1),e.state.draggingText=!1,it(r.wrapper.ownerDocument,"mouseup",u),it(r.wrapper.ownerDocument,"mousemove",c),it(r.scroller,"dragstart",p),it(r.scroller,"drop",u),o||(ut(t),i.addNew||Ur(e.doc,n,null,null,i.extend),l||s&&9==a?setTimeout(function(){r.wrapper.ownerDocument.body.focus(),r.input.focus()},20):r.input.focus())}),c=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},p=function(){return o=!0};l&&(r.scroller.draggable=!0);e.state.draggingText=u,u.copy=!i.moveOnDrag,r.scroller.dragDrop&&r.scroller.dragDrop();tt(r.wrapper.ownerDocument,"mouseup",u),tt(r.wrapper.ownerDocument,"mousemove",c),tt(r.scroller,"dragstart",p),tt(r.scroller,"drop",u),bi(e),setTimeout(function(){return r.input.focus()},20)}(e,i,t,o):function(e,t,n,i){var r=e.display,o=e.doc;ut(t);var s,a,l=o.sel,u=l.ranges;i.addNew&&!i.extend?(a=o.sel.contains(n),s=a>-1?u[a]:new vr(n,n)):(s=o.sel.primary(),a=o.sel.primIndex);if("rectangle"==i.unit)i.addNew||(s=new vr(n,n)),n=li(e,t,!0,!0),a=-1;else{var c=ds(e,n,i.unit);s=i.extend?Hr(s,c.anchor,c.head,i.extend):c}i.addNew?-1==a?(a=u.length,Yr(o,_r(e,u.concat([s]),a),{scroll:!1,origin:"*mouse"})):u.length>1&&u[a].empty()&&"char"==i.unit&&!i.extend?(Yr(o,_r(e,u.slice(0,a).concat(u.slice(a+1)),0),{scroll:!1,origin:"*mouse"}),l=o.sel):Vr(o,a,s,U):(a=0,Yr(o,new yr([s],0),U),l=o.sel);var p=n;function f(t){if(0!=be(p,t))if(p=t,"rectangle"==i.unit){for(var r=[],u=e.options.tabSize,c=$(le(o,n.line).text,n.ch,u),f=$(le(o,t.line).text,t.ch,u),d=Math.min(c,f),h=Math.max(c,f),m=Math.min(n.line,t.line),g=Math.min(e.lastLine(),Math.max(n.line,t.line));m<=g;m++){var b=le(o,m).text,y=V(b,d,u);d==h?r.push(new vr(ge(m,y),ge(m,y))):b.length>y&&r.push(new vr(ge(m,y),ge(m,V(b,h,u))))}r.length||r.push(new vr(n,n)),Yr(o,_r(e,l.ranges.slice(0,a).concat(r),a),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var v,_=s,x=ds(e,t,i.unit),w=_.anchor;be(x.anchor,w)>0?(v=x.head,w=xe(_.from(),x.anchor)):(v=x.anchor,w=_e(_.to(),x.head));var k=l.ranges.slice(0);k[a]=function(e,t){var n=t.anchor,i=t.head,r=le(e.doc,n.line);if(0==be(n,i)&&n.sticky==i.sticky)return t;var o=Je(r);if(!o)return t;var s=Qe(o,n.ch,n.sticky),a=o[s];if(a.from!=n.ch&&a.to!=n.ch)return t;var l,u=s+(a.from==n.ch==(1!=a.level)?0:1);if(0==u||u==o.length)return t;if(i.line!=n.line)l=(i.line-n.line)*("ltr"==e.doc.direction?1:-1)>0;else{var c=Qe(o,i.ch,i.sticky),p=c-s||(i.ch-n.ch)*(1==a.level?-1:1);l=c==u-1||c==u?p<0:p>0}var f=o[u+(l?-1:0)],d=l==(1==f.level),h=d?f.from:f.to,m=d?"after":"before";return n.ch==h&&n.sticky==m?t:new vr(new ge(n.line,h,m),i)}(e,new vr(ke(o,w),v)),Yr(o,_r(e,k,a),U)}}var d=r.wrapper.getBoundingClientRect(),h=0;function m(t){e.state.selectingText=!1,h=1/0,ut(t),r.input.focus(),it(r.wrapper.ownerDocument,"mousemove",g),it(r.wrapper.ownerDocument,"mouseup",b),o.history.lastSelOrigin=null}var g=Yi(e,function(t){0!==t.buttons&&ht(t)?function t(n){var s=++h;var a=li(e,n,!0,"rectangle"==i.unit);if(!a)return;if(0!=be(a,p)){e.curOp.focus=O(),f(a);var l=wi(r,o);(a.line>=l.to||a.line<l.from)&&setTimeout(Yi(e,function(){h==s&&t(n)}),150)}else{var u=n.clientY<d.top?-20:n.clientY>d.bottom?20:0;u&&setTimeout(Yi(e,function(){h==s&&(r.scroller.scrollTop+=u,t(n))}),50)}}(t):m(t)}),b=Yi(e,m);e.state.selectingText=b,tt(r.wrapper.ownerDocument,"mousemove",g),tt(r.wrapper.ownerDocument,"mouseup",b)}(e,i,t,o)}(t,i,o,e):dt(e)==n.scroller&&ut(e):2==r?(i&&Ur(t.doc,i),setTimeout(function(){return n.input.focus()},20)):3==r&&(k?t.display.input.onContextMenu(e):bi(t)))}}function ds(e,t,n){if("char"==n)return new vr(t,t);if("word"==n)return e.findWordAt(t);if("line"==n)return new vr(ge(t.line,0),ke(e.doc,ge(t.line+1,0)));var i=n(e,t);return new vr(i.from,i.to)}function hs(e,t,n,i){var r,o;if(t.touches)r=t.touches[0].clientX,o=t.touches[0].clientY;else try{r=t.clientX,o=t.clientY}catch(t){return!1}if(r>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;i&&ut(t);var s=e.display,a=s.lineDiv.getBoundingClientRect();if(o>a.bottom||!at(e,n))return pt(t);o-=a.top-s.viewOffset;for(var l=0;l<e.options.gutters.length;++l){var u=s.gutters.childNodes[l];if(u&&u.getBoundingClientRect().right>=r)return rt(e,n,e,de(e.doc,o),e.options.gutters[l],t),pt(t)}}function ms(e,t){return hs(e,t,"gutterClick",!0)}function gs(e,t){kn(e.display,t)||function(e,t){if(!at(e,"gutterContextMenu"))return!1;return hs(e,t,"gutterContextMenu",!1)}(e,t)||ot(e,t,"contextmenu")||k||e.display.input.onContextMenu(t)}function bs(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),zn(e)}ps.prototype.compare=function(e,t,n){return this.time+400>e&&0==be(t,this.pos)&&n==this.button};var ys={toString:function(){return"CodeMirror.Init"}},vs={},_s={};function xs(e){pr(e),Zi(e),ki(e)}function ws(e,t,n){if(!t!=!(n&&n!=ys)){var i=e.display.dragFunctions,r=t?tt:it;r(e.display.scroller,"dragstart",i.start),r(e.display.scroller,"dragenter",i.enter),r(e.display.scroller,"dragover",i.over),r(e.display.scroller,"dragleave",i.leave),r(e.display.scroller,"drop",i.drop)}}function ks(e){e.options.lineWrapping?(L(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(E(e.display.wrapper,"CodeMirror-wrap"),Ye(e)),ai(e),Zi(e),zn(e),setTimeout(function(){return Fi(e)},100)}function Ss(e,t){var n=this;if(!(this instanceof Ss))return new Ss(e,t);this.options=t=t?F(t):{},F(vs,t,!1),fr(t);var i=t.value;"string"==typeof i?i=new To(i,t.mode,null,t.lineSeparator,t.direction):t.mode&&(i.modeOption=t.mode),this.doc=i;var r=new Ss.inputStyles[t.inputStyle](this),o=this.display=new ae(e,i,r);for(var u in o.wrapper.CodeMirror=this,pr(this),bs(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Bi(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new j,keySeq:null,specialChars:null},t.autofocus&&!b&&o.input.focus(),s&&a<11&&setTimeout(function(){return n.display.input.reset(!0)},20),function(e){var t=e.display;tt(t.scroller,"mousedown",Yi(e,fs)),tt(t.scroller,"dblclick",s&&a<11?Yi(e,function(t){if(!ot(e,t)){var n=li(e,t);if(n&&!ms(e,t)&&!kn(e.display,t)){ut(t);var i=e.findWordAt(n);Ur(e.doc,i.anchor,i.head)}}}):function(t){return ot(e,t)||ut(t)});tt(t.scroller,"contextmenu",function(t){return gs(e,t)});var n,i={end:0};function r(){t.activeTouch&&(n=setTimeout(function(){return t.activeTouch=null},1e3),(i=t.activeTouch).end=+new Date)}function o(e,t){if(null==t.left)return!0;var n=t.left-e.left,i=t.top-e.top;return n*n+i*i>400}tt(t.scroller,"touchstart",function(r){if(!ot(e,r)&&!function(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}(r)&&!ms(e,r)){t.input.ensurePolled(),clearTimeout(n);var o=+new Date;t.activeTouch={start:o,moved:!1,prev:o-i.end<=300?i:null},1==r.touches.length&&(t.activeTouch.left=r.touches[0].pageX,t.activeTouch.top=r.touches[0].pageY)}}),tt(t.scroller,"touchmove",function(){t.activeTouch&&(t.activeTouch.moved=!0)}),tt(t.scroller,"touchend",function(n){var i=t.activeTouch;if(i&&!kn(t,n)&&null!=i.left&&!i.moved&&new Date-i.start<300){var s,a=e.coordsChar(t.activeTouch,"page");s=!i.prev||o(i,i.prev)?new vr(a,a):!i.prev.prev||o(i,i.prev.prev)?e.findWordAt(a):new vr(ge(a.line,0),ke(e.doc,ge(a.line+1,0))),e.setSelection(s.anchor,s.head),e.focus(),ut(n)}r()}),tt(t.scroller,"touchcancel",r),tt(t.scroller,"scroll",function(){t.scroller.clientHeight&&(Ri(e,t.scroller.scrollTop),Li(e,t.scroller.scrollLeft,!0),rt(e,"scroll",e))}),tt(t.scroller,"mousewheel",function(t){return br(e,t)}),tt(t.scroller,"DOMMouseScroll",function(t){return br(e,t)}),tt(t.wrapper,"scroll",function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0}),t.dragFunctions={enter:function(t){ot(e,t)||ft(t)},over:function(t){ot(e,t)||(!function(e,t){var n=li(e,t);if(n){var i=document.createDocumentFragment();fi(e,n,i),e.display.dragCursor||(e.display.dragCursor=N("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),A(e.display.dragCursor,i)}}(e,t),ft(t))},start:function(t){return function(e,t){if(s&&(!e.state.draggingText||+new Date-Ao<100))ft(t);else if(!ot(e,t)&&!kn(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!f)){var n=N("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",p&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),p&&n.parentNode.removeChild(n)}}(e,t)},drop:Yi(e,No),leave:function(t){ot(e,t)||Mo(e)}};var l=t.input.getField();tt(l,"keyup",function(t){return as.call(e,t)}),tt(l,"keydown",Yi(e,ss)),tt(l,"keypress",Yi(e,ls)),tt(l,"focus",function(t){return yi(e,t)}),tt(l,"blur",function(t){return vi(e,t)})}(this),Lo(),qi(this),this.curOp.forceUpdate=!0,Rr(this,i),t.autofocus&&!b||this.hasFocus()?setTimeout(I(yi,this),20):vi(this),_s)_s.hasOwnProperty(u)&&_s[u](n,t[u],ys);Si(this),t.finishInit&&t.finishInit(this);for(var c=0;c<Cs.length;++c)Cs[c](n);Hi(this),l&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}Ss.defaults=vs,Ss.optionHandlers=_s;var Cs=[];function Es(e,t,n,i){var r,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?r=jt(e,t).state:n="prev");var s=e.options.tabSize,a=le(o,t),l=$(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var u,c=a.text.match(/^\s*/)[0];if(i||/\S/.test(a.text)){if("smart"==n&&((u=o.mode.indent(r,a.text.slice(c.length),a.text))==q||u>150)){if(!i)return;n="prev"}}else u=0,n="not";"prev"==n?u=t>o.first?$(le(o,t-1).text,null,s):0:"add"==n?u=l+e.options.indentUnit:"subtract"==n?u=l-e.options.indentUnit:"number"==typeof n&&(u=l+n),u=Math.max(0,u);var p="",f=0;if(e.options.indentWithTabs)for(var d=Math.floor(u/s);d;--d)f+=s,p+="\t";if(f<u&&(p+=K(u-f)),p!=c)return co(o,p,ge(t,0),ge(t,c.length),"+input"),a.stateAfter=null,!0;for(var h=0;h<o.sel.ranges.length;h++){var m=o.sel.ranges[h];if(m.head.line==t&&m.head.ch<c.length){var g=ge(t,c.length);Vr(o,h,new vr(g,g));break}}}Ss.defineInitHook=function(e){return Cs.push(e)};var Ts=null;function As(e){Ts=e}function Ns(e,t,n,i,r){var o=e.doc;e.display.shift=!1,i||(i=o.sel);var s=e.state.pasteIncoming||"paste"==r,a=xt(t),l=null;if(s&&i.ranges.length>1)if(Ts&&Ts.text.join("\n")==t){if(i.ranges.length%Ts.text.length==0){l=[];for(var u=0;u<Ts.text.length;u++)l.push(o.splitLines(Ts.text[u]))}}else a.length==i.ranges.length&&e.options.pasteLinesPerSelection&&(l=X(a,function(e){return[e]}));for(var c=e.curOp.updateInput,p=i.ranges.length-1;p>=0;p--){var f=i.ranges[p],d=f.from(),h=f.to();f.empty()&&(n&&n>0?d=ge(d.line,d.ch-n):e.state.overwrite&&!s?h=ge(h.line,Math.min(le(o,h.line).text.length,h.ch+Y(a).length)):s&&Ts&&Ts.lineWise&&Ts.text.join("\n")==t&&(d=h=ge(d.line,0)));var m={from:d,to:h,text:l?l[p%l.length]:a,origin:r||(s?"paste":e.state.cutIncoming?"cut":"+input")};oo(e.doc,m),un(e,"inputRead",e,m)}t&&!s&&Rs(e,t),Ti(e),e.curOp.updateInput<2&&(e.curOp.updateInput=c),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function Ms(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||Ki(t,function(){return Ns(t,n,0,null,"paste")}),!0}function Rs(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,i=n.ranges.length-1;i>=0;i--){var r=n.ranges[i];if(!(r.head.ch>100||i&&n.ranges[i-1].head.line==r.head.line)){var o=e.getModeAt(r.head),s=!1;if(o.electricChars){for(var a=0;a<o.electricChars.length;a++)if(t.indexOf(o.electricChars.charAt(a))>-1){s=Es(e,r.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(le(e.doc,r.head.line).text.slice(0,r.head.ch))&&(s=Es(e,r.head.line,"smart"));s&&un(e,"electricInput",e,r.head.line)}}}function Os(e){for(var t=[],n=[],i=0;i<e.doc.sel.ranges.length;i++){var r=e.doc.sel.ranges[i].head.line,o={anchor:ge(r,0),head:ge(r+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function Ls(e,t,n,i){e.setAttribute("autocorrect",!!n),e.setAttribute("autocapitalize",!!i),e.setAttribute("spellcheck",!!t)}function Ps(){var e=N("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=N("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?e.style.width="1000px":e.setAttribute("wrap","off"),m&&(e.style.border="1px solid black"),Ls(e),t}function Ds(e,t,n,i,r){var o=t,s=n,a=le(e,t.line);function l(i){var o,s;if(null==(o=r?function(e,t,n,i){var r=Je(t,e.doc.direction);if(!r)return Yo(t,n,i);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=Qe(r,n.ch,n.sticky),s=r[o];if("ltr"==e.doc.direction&&s.level%2==0&&(i>0?s.to>n.ch:s.from<n.ch))return Yo(t,n,i);var a,l=function(e,n){return Ko(t,e instanceof ge?e.ch:e,n)},u=function(n){return e.options.lineWrapping?(a=a||Ln(e,t),Jn(e,t,a,n)):{begin:0,end:t.text.length}},c=u("before"==n.sticky?l(n,-1):n.ch);if("rtl"==e.doc.direction||1==s.level){var p=1==s.level==i<0,f=l(n,p?1:-1);if(null!=f&&(p?f<=s.to&&f<=c.end:f>=s.from&&f>=c.begin)){var d=p?"before":"after";return new ge(n.line,f,d)}}var h=function(e,t,i){for(var o=function(e,t){return t?new ge(n.line,l(e,1),"before"):new ge(n.line,e,"after")};e>=0&&e<r.length;e+=t){var s=r[e],a=t>0==(1!=s.level),u=a?i.begin:l(i.end,-1);if(s.from<=u&&u<s.to)return o(u,a);if(u=a?s.from:l(s.to,-1),i.begin<=u&&u<i.end)return o(u,a)}},m=h(o+i,i,c);if(m)return m;var g=i>0?c.end:l(c.begin,-1);return null==g||i>0&&g==t.text.length||!(m=h(i>0?0:r.length-1,i,u(g)))?null:m}(e.cm,a,t,n):Yo(a,t,n))){if(i||(s=t.line+n)<e.first||s>=e.first+e.size||(t=new ge(s,t.ch,t.sticky),!(a=le(e,s))))return!1;t=Xo(r,e.cm,a,t.line,n)}else t=o;return!0}if("char"==i)l();else if("column"==i)l(!0);else if("word"==i||"group"==i)for(var u=null,c="group"==i,p=e.cm&&e.cm.getHelper(t,"wordChars"),f=!0;!(n<0)||l(!f);f=!1){var d=a.text.charAt(t.ch)||"\n",h=te(d,p)?"w":c&&"\n"==d?"n":!c||/\s/.test(d)?null:"p";if(!c||f||h||(h="s"),u&&u!=h){n<0&&(n=1,l(),t.sticky="after");break}if(h&&(u=h),n>0&&!l(!f))break}var m=to(e,t,o,s,!0);return ye(o,m)&&(m.hitSide=!0),m}function Is(e,t,n,i){var r,o,s=e.doc,a=t.left;if("page"==i){var l=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),u=Math.max(l-.5*ni(e.display),3);r=(n>0?t.bottom:t.top)+n*u}else"line"==i&&(r=n>0?t.bottom+3:t.top-3);for(;(o=Qn(e,a,r)).outside;){if(n<0?r<=0:r>=s.height){o.hitSide=!0;break}r+=5*n}return o}var Fs=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new j,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function $s(e,t){var n=On(e,t.line);if(!n||n.hidden)return null;var i=le(e.doc,t.line),r=Mn(n,i,t.line),o=Je(i,e.doc.direction),s="left";o&&(s=Qe(o,t.ch)%2?"right":"left");var a=Fn(r.map,t.ch,s);return a.offset="right"==a.collapse?a.end:a.start,a}function js(e,t){return t&&(e.bad=!0),e}function Bs(e,t,n){var i;if(t==e.display.lineDiv){if(!(i=e.display.lineDiv.childNodes[n]))return js(e.clipPos(ge(e.display.viewTo-1)),!0);t=null,n=0}else for(i=t;;i=i.parentNode){if(!i||i==e.display.lineDiv)return null;if(i.parentNode&&i.parentNode==e.display.lineDiv)break}for(var r=0;r<e.display.view.length;r++){var o=e.display.view[r];if(o.node==i)return zs(o,t,n)}}function zs(e,t,n){var i=e.text.firstChild,r=!1;if(!t||!R(i,t))return js(ge(fe(e.line),0),!0);if(t==i&&(r=!0,t=i.childNodes[n],n=0,!t)){var o=e.rest?Y(e.rest):e.line;return js(ge(fe(o),o.text.length),r)}var s=3==t.nodeType?t:null,a=t;for(s||1!=t.childNodes.length||3!=t.firstChild.nodeType||(s=t.firstChild,n&&(n=s.nodeValue.length));a.parentNode!=i;)a=a.parentNode;var l=e.measure,u=l.maps;function c(t,n,i){for(var r=-1;r<(u?u.length:0);r++)for(var o=r<0?l.map:u[r],s=0;s<o.length;s+=3){var a=o[s+2];if(a==t||a==n){var c=fe(r<0?e.line:e.rest[r]),p=o[s]+i;return(i<0||a!=t)&&(p=o[s+(i?1:0)]),ge(c,p)}}}var p=c(s,a,n);if(p)return js(p,r);for(var f=a.nextSibling,d=s?s.nodeValue.length-n:0;f;f=f.nextSibling){if(p=c(f,f.firstChild,0))return js(ge(p.line,p.ch-d),r);d+=f.textContent.length}for(var h=a.previousSibling,m=n;h;h=h.previousSibling){if(p=c(h,h.firstChild,-1))return js(ge(p.line,p.ch+m),r);m+=h.textContent.length}}Fs.prototype.init=function(e){var t=this,n=this,i=n.cm,r=n.div=e.lineDiv;function o(e){if(!ot(i,e)){if(i.somethingSelected())As({lineWise:!1,text:i.getSelections()}),"cut"==e.type&&i.replaceSelection("",null,"cut");else{if(!i.options.lineWiseCopyCut)return;var t=Os(i);As({lineWise:!0,text:t.text}),"cut"==e.type&&i.operation(function(){i.setSelections(t.ranges,0,H),i.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var o=Ts.text.join("\n");if(e.clipboardData.setData("Text",o),e.clipboardData.getData("Text")==o)return void e.preventDefault()}var s=Ps(),a=s.firstChild;i.display.lineSpace.insertBefore(s,i.display.lineSpace.firstChild),a.value=Ts.text.join("\n");var l=document.activeElement;D(a),setTimeout(function(){i.display.lineSpace.removeChild(s),l.focus(),l==r&&n.showPrimarySelection()},50)}}Ls(r,i.options.spellcheck,i.options.autocorrect,i.options.autocapitalize),tt(r,"paste",function(e){ot(i,e)||Ms(e,i)||a<=11&&setTimeout(Yi(i,function(){return t.updateFromDOM()}),20)}),tt(r,"compositionstart",function(e){t.composing={data:e.data,done:!1}}),tt(r,"compositionupdate",function(e){t.composing||(t.composing={data:e.data,done:!1})}),tt(r,"compositionend",function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)}),tt(r,"touchstart",function(){return n.forceCompositionEnd()}),tt(r,"input",function(){t.composing||t.readFromDOMSoon()}),tt(r,"copy",o),tt(r,"cut",o)},Fs.prototype.prepareSelection=function(){var e=pi(this.cm,!1);return e.focus=this.cm.state.focused,e},Fs.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Fs.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Fs.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,i=t.doc.sel.primary(),r=i.from(),o=i.to();if(t.display.viewTo==t.display.viewFrom||r.line>=t.display.viewTo||o.line<t.display.viewFrom)e.removeAllRanges();else{var s=Bs(t,e.anchorNode,e.anchorOffset),a=Bs(t,e.focusNode,e.focusOffset);if(!s||s.bad||!a||a.bad||0!=be(xe(s,a),r)||0!=be(_e(s,a),o)){var l=t.display.view,u=r.line>=t.display.viewFrom&&$s(t,r)||{node:l[0].measure.map[2],offset:0},c=o.line<t.display.viewTo&&$s(t,o);if(!c){var p=l[l.length-1].measure,f=p.maps?p.maps[p.maps.length-1]:p.map;c={node:f[f.length-1],offset:f[f.length-2]-f[f.length-3]}}if(u&&c){var d,h=e.rangeCount&&e.getRangeAt(0);try{d=C(u.node,u.offset,c.offset,c.node)}catch(e){}d&&(!n&&t.state.focused?(e.collapse(u.node,u.offset),d.collapsed||(e.removeAllRanges(),e.addRange(d))):(e.removeAllRanges(),e.addRange(d)),h&&null==e.anchorNode?e.addRange(h):n&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Fs.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},Fs.prototype.showMultipleSelections=function(e){A(this.cm.display.cursorDiv,e.cursors),A(this.cm.display.selectionDiv,e.selection)},Fs.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Fs.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return R(this.div,t)},Fs.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Fs.prototype.blur=function(){this.div.blur()},Fs.prototype.getField=function(){return this.div},Fs.prototype.supportsTouch=function(){return!0},Fs.prototype.receivedFocus=function(){var e=this;this.selectionInEditor()?this.pollSelection():Ki(this.cm,function(){return e.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))})},Fs.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Fs.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(g&&c&&this.cm.options.gutters.length&&function(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=Bs(t,e.anchorNode,e.anchorOffset),i=Bs(t,e.focusNode,e.focusOffset);n&&i&&Ki(t,function(){Yr(t.doc,xr(n,i),H),(n.bad||i.bad)&&(t.curOp.selectionChanged=!0)})}}},Fs.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,n,i=this.cm,r=i.display,o=i.doc.sel.primary(),s=o.from(),a=o.to();if(0==s.ch&&s.line>i.firstLine()&&(s=ge(s.line-1,le(i.doc,s.line-1).length)),a.ch==le(i.doc,a.line).text.length&&a.line<i.lastLine()&&(a=ge(a.line+1,0)),s.line<r.viewFrom||a.line>r.viewTo-1)return!1;s.line==r.viewFrom||0==(e=ui(i,s.line))?(t=fe(r.view[0].line),n=r.view[0].node):(t=fe(r.view[e].line),n=r.view[e-1].node.nextSibling);var l,u,c=ui(i,a.line);if(c==r.view.length-1?(l=r.viewTo-1,u=r.lineDiv.lastChild):(l=fe(r.view[c+1].line)-1,u=r.view[c+1].node.previousSibling),!n)return!1;for(var p=i.doc.splitLines(function(e,t,n,i,r){var o="",s=!1,a=e.doc.lineSeparator(),l=!1;function u(){s&&(o+=a,l&&(o+=a),s=l=!1)}function c(e){e&&(u(),o+=e)}function p(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(n)return void c(n);var o,f=t.getAttribute("cm-marker");if(f){var d=e.findMarks(ge(i,0),ge(r+1,0),(g=+f,function(e){return e.id==g}));return void(d.length&&(o=d[0].find(0))&&c(ue(e.doc,o.from,o.to).join(a)))}if("false"==t.getAttribute("contenteditable"))return;var h=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;h&&u();for(var m=0;m<t.childNodes.length;m++)p(t.childNodes[m]);/^(pre|p)$/i.test(t.nodeName)&&(l=!0),h&&(s=!0)}else 3==t.nodeType&&c(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));var g}for(;p(t),t!=n;)t=t.nextSibling,l=!1;return o}(i,n,u,t,l)),f=ue(i.doc,ge(t,0),ge(l,le(i.doc,l).text.length));p.length>1&&f.length>1;)if(Y(p)==Y(f))p.pop(),f.pop(),l--;else{if(p[0]!=f[0])break;p.shift(),f.shift(),t++}for(var d=0,h=0,m=p[0],g=f[0],b=Math.min(m.length,g.length);d<b&&m.charCodeAt(d)==g.charCodeAt(d);)++d;for(var y=Y(p),v=Y(f),_=Math.min(y.length-(1==p.length?d:0),v.length-(1==f.length?d:0));h<_&&y.charCodeAt(y.length-h-1)==v.charCodeAt(v.length-h-1);)++h;if(1==p.length&&1==f.length&&t==s.line)for(;d&&d>s.ch&&y.charCodeAt(y.length-h-1)==v.charCodeAt(v.length-h-1);)d--,h++;p[p.length-1]=y.slice(0,y.length-h).replace(/^\u200b+/,""),p[0]=p[0].slice(d).replace(/\u200b+$/,"");var x=ge(t,d),w=ge(l,f.length?Y(f).length-h:0);return p.length>1||p[0]||be(x,w)?(co(i.doc,p,x,w,"+input"),!0):void 0},Fs.prototype.ensurePolled=function(){this.forceCompositionEnd()},Fs.prototype.reset=function(){this.forceCompositionEnd()},Fs.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Fs.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},Fs.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Ki(this.cm,function(){return Zi(e.cm)})},Fs.prototype.setUneditable=function(e){e.contentEditable="false"},Fs.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||Yi(this.cm,Ns)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Fs.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Fs.prototype.onContextMenu=function(){},Fs.prototype.resetPosition=function(){},Fs.prototype.needsContentAttribute=!0;var qs=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new j,this.hasSelection=!1,this.composing=null};qs.prototype.init=function(e){var t=this,n=this,i=this.cm;this.createField(e);var r=this.textarea;function o(e){if(!ot(i,e)){if(i.somethingSelected())As({lineWise:!1,text:i.getSelections()});else{if(!i.options.lineWiseCopyCut)return;var t=Os(i);As({lineWise:!0,text:t.text}),"cut"==e.type?i.setSelections(t.ranges,null,H):(n.prevInput="",r.value=t.text.join("\n"),D(r))}"cut"==e.type&&(i.state.cutIncoming=!0)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),m&&(r.style.width="0px"),tt(r,"input",function(){s&&a>=9&&t.hasSelection&&(t.hasSelection=null),n.poll()}),tt(r,"paste",function(e){ot(i,e)||Ms(e,i)||(i.state.pasteIncoming=!0,n.fastPoll())}),tt(r,"cut",o),tt(r,"copy",o),tt(e.scroller,"paste",function(t){kn(e,t)||ot(i,t)||(i.state.pasteIncoming=!0,n.focus())}),tt(e.lineSpace,"selectstart",function(t){kn(e,t)||ut(t)}),tt(r,"compositionstart",function(){var e=i.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:i.markText(e,i.getCursor("to"),{className:"CodeMirror-composing"})}}),tt(r,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},qs.prototype.createField=function(e){this.wrapper=Ps(),this.textarea=this.wrapper.firstChild},qs.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,i=pi(e);if(e.options.moveInputWithCursor){var r=Kn(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),s=t.lineDiv.getBoundingClientRect();i.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,r.top+s.top-o.top)),i.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,r.left+s.left-o.left))}return i},qs.prototype.showSelection=function(e){var t=this.cm.display;A(t.cursorDiv,e.cursors),A(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},qs.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&D(this.textarea),s&&a>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",s&&a>=9&&(this.hasSelection=null))}},qs.prototype.getField=function(){return this.textarea},qs.prototype.supportsTouch=function(){return!1},qs.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!b||O()!=this.textarea))try{this.textarea.focus()}catch(e){}},qs.prototype.blur=function(){this.textarea.blur()},qs.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},qs.prototype.receivedFocus=function(){this.slowPoll()},qs.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},qs.prototype.fastPoll=function(){var e=!1,t=this;t.pollingFast=!0,t.polling.set(20,function n(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,n))})},qs.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,i=this.prevInput;if(this.contextMenuPending||!t.state.focused||wt(n)&&!i&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var r=n.value;if(r==i&&!t.somethingSelected())return!1;if(s&&a>=9&&this.hasSelection===r||y&&/[\uf700-\uf7ff]/.test(r))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=r.charCodeAt(0);if(8203!=o||i||(i="​"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var l=0,u=Math.min(i.length,r.length);l<u&&i.charCodeAt(l)==r.charCodeAt(l);)++l;return Ki(t,function(){Ns(t,r.slice(l),i.length-l,null,e.composing?"*compose":null),r.length>1e3||r.indexOf("\n")>-1?n.value=e.prevInput="":e.prevInput=r,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},qs.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},qs.prototype.onKeyPress=function(){s&&a>=9&&(this.hasSelection=null),this.fastPoll()},qs.prototype.onContextMenu=function(e){var t=this,n=t.cm,i=n.display,r=t.textarea;t.contextMenuPending&&t.contextMenuPending();var o=li(n,e),u=i.scroller.scrollTop;if(o&&!p){n.options.resetSelectionOnContextMenu&&-1==n.doc.sel.contains(o)&&Yi(n,Yr)(n.doc,xr(o),H);var c,f=r.style.cssText,d=t.wrapper.style.cssText,h=t.wrapper.offsetParent.getBoundingClientRect();if(t.wrapper.style.cssText="position: static",r.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-h.top-5)+"px; left: "+(e.clientX-h.left-5)+"px;\n      z-index: 1000; background: "+(s?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l&&(c=window.scrollY),i.input.focus(),l&&window.scrollTo(null,c),i.input.reset(),n.somethingSelected()||(r.value=t.prevInput=" "),t.contextMenuPending=b,i.selForContextMenu=n.doc.sel,clearTimeout(i.detectingSelectAll),s&&a>=9&&g(),k){ft(e);var m=function(){it(window,"mouseup",m),setTimeout(b,20)};tt(window,"mouseup",m)}else setTimeout(b,50)}function g(){if(null!=r.selectionStart){var e=n.somethingSelected(),o="​"+(e?r.value:"");r.value="⇚",r.value=o,t.prevInput=e?"":"​",r.selectionStart=1,r.selectionEnd=o.length,i.selForContextMenu=n.doc.sel}}function b(){if(t.contextMenuPending==b&&(t.contextMenuPending=!1,t.wrapper.style.cssText=d,r.style.cssText=f,s&&a<9&&i.scrollbars.setScrollTop(i.scroller.scrollTop=u),null!=r.selectionStart)){(!s||s&&a<9)&&g();var e=0,o=function(){i.selForContextMenu==n.doc.sel&&0==r.selectionStart&&r.selectionEnd>0&&"​"==t.prevInput?Yi(n,io)(n):e++<10?i.detectingSelectAll=setTimeout(o,500):(i.selForContextMenu=null,i.input.reset())};i.detectingSelectAll=setTimeout(o,200)}}},qs.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},qs.prototype.setUneditable=function(){},qs.prototype.needsContentAttribute=!1,function(e){var t=e.optionHandlers;function n(n,i,r,o){e.defaults[n]=i,r&&(t[n]=o?function(e,t,n){n!=ys&&r(e,t,n)}:r)}e.defineOption=n,e.Init=ys,n("value","",function(e,t){return e.setValue(t)},!0),n("mode",null,function(e,t){e.doc.modeOption=t,Er(e)},!0),n("indentUnit",2,Er,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,function(e){Tr(e),zn(e),Zi(e)},!0),n("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var n=[],i=e.doc.first;e.doc.iter(function(e){for(var r=0;;){var o=e.text.indexOf(t,r);if(-1==o)break;r=o+t.length,n.push(ge(i,o))}i++});for(var r=n.length-1;r>=0;r--)co(e.doc,t,n[r],ge(n[r].line,n[r].ch+t.length))}}),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=ys&&e.refresh()}),n("specialCharPlaceholder",Jt,function(e){return e.refresh()},!0),n("electricChars",!0),n("inputStyle",b?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),n("spellcheck",!1,function(e,t){return e.getInputField().spellcheck=t},!0),n("autocorrect",!1,function(e,t){return e.getInputField().autocorrect=t},!0),n("autocapitalize",!1,function(e,t){return e.getInputField().autocapitalize=t},!0),n("rtlMoveVisually",!_),n("wholeLineUpdateBefore",!0),n("theme","default",function(e){bs(e),xs(e)},!0),n("keyMap","default",function(e,t,n){var i=Vo(t),r=n!=ys&&Vo(n);r&&r.detach&&r.detach(e,i),i.attach&&i.attach(e,r||null)}),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,ks,!0),n("gutters",[],function(e){fr(e.options),xs(e)},!0),n("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?oi(e.display)+"px":"0",e.refresh()},!0),n("coverGutterNextToScrollbar",!1,function(e){return Fi(e)},!0),n("scrollbarStyle","native",function(e){Bi(e),Fi(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),n("lineNumbers",!1,function(e){fr(e.options),xs(e)},!0),n("firstLineNumber",1,xs,!0),n("lineNumberFormatter",function(e){return e},xs,!0),n("showCursorWhenSelecting",!1,ci,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,function(e,t){"nocursor"==t&&(vi(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)}),n("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),n("dragDrop",!0,ws),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,ci,!0),n("singleCursorHeightPerLine",!0,ci,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,Tr,!0),n("addModeClass",!1,Tr,!0),n("pollInterval",100),n("undoDepth",200,function(e,t){return e.doc.history.undoDepth=t}),n("historyEventDelay",1250),n("viewportMargin",10,function(e){return e.refresh()},!0),n("maxHighlightLength",1e4,Tr,!0),n("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),n("tabindex",null,function(e,t){return e.display.input.getField().tabIndex=t||""}),n("autofocus",null),n("direction","ltr",function(e,t){return e.doc.setDirection(t)},!0),n("phrases",null)}(Ss),function(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,n){var i=this.options,r=i[e];i[e]==n&&"mode"!=e||(i[e]=n,t.hasOwnProperty(e)&&Yi(this,t[e])(this,n,r),rt(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Vo(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:Xi(function(t,n){var i=t.token?t:e.getMode(this.options,t);if(i.startState)throw new Error("Overlays may not be stateful.");!function(e,t,n){for(var i=0,r=n(t);i<e.length&&n(e[i])<=r;)i++;e.splice(i,0,t)}(this.state.overlays,{mode:i,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},function(e){return e.priority}),this.state.modeGen++,Zi(this)}),removeOverlay:Xi(function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var i=t[n].modeSpec;if(i==e||"string"==typeof e&&i.name==e)return t.splice(n,1),this.state.modeGen++,void Zi(this)}}),indentLine:Xi(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),he(this.doc,e)&&Es(this,e,t,n)}),indentSelection:Xi(function(e){for(var t=this.doc.sel.ranges,n=-1,i=0;i<t.length;i++){var r=t[i];if(r.empty())r.head.line>n&&(Es(this,r.head.line,e,!0),n=r.head.line,i==this.doc.sel.primIndex&&Ti(this));else{var o=r.from(),s=r.to(),a=Math.max(n,o.line);n=Math.min(this.lastLine(),s.line-(s.ch?0:1))+1;for(var l=a;l<n;++l)Es(this,l,e);var u=this.doc.sel.ranges;0==o.ch&&t.length==u.length&&u[i].from().ch>0&&Vr(this.doc,i,new vr(o,u[i].to()),H)}}}),getTokenAt:function(e,t){return Ut(this,e,t)},getLineTokens:function(e,t){return Ut(this,ge(e),t,!0)},getTokenTypeAt:function(e){e=ke(this.doc,e);var t,n=$t(this,le(this.doc,e.line)),i=0,r=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var s=i+r>>1;if((s?n[2*s-1]:0)>=o)r=s;else{if(!(n[2*s+1]<o)){t=n[2*s+2];break}i=s+1}}var a=t?t.indexOf("overlay "):-1;return a<0?t:0==a?null:t.slice(0,a-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var i=[];if(!n.hasOwnProperty(t))return i;var r=n[t],o=this.getModeAt(e);if("string"==typeof o[t])r[o[t]]&&i.push(r[o[t]]);else if(o[t])for(var s=0;s<o[t].length;s++){var a=r[o[t][s]];a&&i.push(a)}else o.helperType&&r[o.helperType]?i.push(r[o.helperType]):r[o.name]&&i.push(r[o.name]);for(var l=0;l<r._global.length;l++){var u=r._global[l];u.pred(o,this)&&-1==B(i,u.val)&&i.push(u.val)}return i},getStateAfter:function(e,t){var n=this.doc;return jt(this,(e=we(n,null==e?n.first+n.size-1:e))+1,t).state},cursorCoords:function(e,t){var n=this.doc.sel.primary();return Kn(this,null==e?n.head:"object"==typeof e?ke(this.doc,e):e?n.from():n.to(),t||"page")},charCoords:function(e,t){return Gn(this,ke(this.doc,e),t||"page")},coordsChar:function(e,t){return Qn(this,(e=Vn(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=Vn(this,{top:e,left:0},t||"page").top,de(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var i,r=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,r=!0),i=le(this.doc,e)}else i=e;return Wn(this,i,{top:0,left:0},t||"page",n||r).top+(r?this.doc.height-Ge(i):0)},defaultTextHeight:function(){return ni(this.display)},defaultCharWidth:function(){return ii(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,i,r){var o,s,a,l=this.display,u=(e=Kn(this,ke(this.doc,e))).bottom,c=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),l.sizer.appendChild(t),"over"==i)u=e.top;else if("above"==i||"near"==i){var p=Math.max(l.wrapper.clientHeight,this.doc.height),f=Math.max(l.sizer.clientWidth,l.lineSpace.clientWidth);("above"==i||e.bottom+t.offsetHeight>p)&&e.top>t.offsetHeight?u=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=p&&(u=e.bottom),c+t.offsetWidth>f&&(c=f-t.offsetWidth)}t.style.top=u+"px",t.style.left=t.style.right="","right"==r?(c=l.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==r?c=0:"middle"==r&&(c=(l.sizer.clientWidth-t.offsetWidth)/2),t.style.left=c+"px"),n&&(o=this,s={left:c,top:u,right:c+t.offsetWidth,bottom:u+t.offsetHeight},null!=(a=Ci(o,s)).scrollTop&&Ri(o,a.scrollTop),null!=a.scrollLeft&&Li(o,a.scrollLeft))},triggerOnKeyDown:Xi(ss),triggerOnKeyPress:Xi(ls),triggerOnKeyUp:as,triggerOnMouseDown:Xi(fs),execCommand:function(e){if(Qo.hasOwnProperty(e))return Qo[e].call(null,this)},triggerElectric:Xi(function(e){Rs(this,e)}),findPosH:function(e,t,n,i){var r=1;t<0&&(r=-1,t=-t);for(var o=ke(this.doc,e),s=0;s<t&&!(o=Ds(this.doc,o,r,n,i)).hitSide;++s);return o},moveH:Xi(function(e,t){var n=this;this.extendSelectionsBy(function(i){return n.display.shift||n.doc.extend||i.empty()?Ds(n.doc,i.head,e,t,n.options.rtlMoveVisually):e<0?i.from():i.to()},W)}),deleteH:Xi(function(e,t){var n=this.doc.sel,i=this.doc;n.somethingSelected()?i.replaceSelection("",null,"+delete"):Go(this,function(n){var r=Ds(i,n.head,e,t,!1);return e<0?{from:r,to:n.head}:{from:n.head,to:r}})}),findPosV:function(e,t,n,i){var r=1,o=i;t<0&&(r=-1,t=-t);for(var s=ke(this.doc,e),a=0;a<t;++a){var l=Kn(this,s,"div");if(null==o?o=l.left:l.left=o,(s=Is(this,l,r,n)).hitSide)break}return s},moveV:Xi(function(e,t){var n=this,i=this.doc,r=[],o=!this.display.shift&&!i.extend&&i.sel.somethingSelected();if(i.extendSelectionsBy(function(s){if(o)return e<0?s.from():s.to();var a=Kn(n,s.head,"div");null!=s.goalColumn&&(a.left=s.goalColumn),r.push(a.left);var l=Is(n,a,e,t);return"page"==t&&s==i.sel.primary()&&Ei(n,Gn(n,l,"div").top-a.top),l},W),r.length)for(var s=0;s<i.sel.ranges.length;s++)i.sel.ranges[s].goalColumn=r[s]}),findWordAt:function(e){var t=le(this.doc,e.line).text,n=e.ch,i=e.ch;if(t){var r=this.getHelper(e,"wordChars");"before"!=e.sticky&&i!=t.length||!n?++i:--n;for(var o=t.charAt(n),s=te(o,r)?function(e){return te(e,r)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!te(e)};n>0&&s(t.charAt(n-1));)--n;for(;i<t.length&&s(t.charAt(i));)++i}return new vr(ge(e.line,n),ge(e.line,i))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?L(this.display.cursorDiv,"CodeMirror-overwrite"):E(this.display.cursorDiv,"CodeMirror-overwrite"),rt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==O()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Xi(function(e,t){Ai(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Tn(this)-this.display.barHeight,width:e.scrollWidth-Tn(this)-this.display.barWidth,clientHeight:Nn(this),clientWidth:An(this)}},scrollIntoView:Xi(function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:ge(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?function(e,t){Ni(e),e.curOp.scrollToPos=t}(this,e):Mi(this,e.from,e.to,e.margin)}),setSize:Xi(function(e,t){var n=this,i=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=i(e)),null!=t&&(this.display.wrapper.style.height=i(t)),this.options.lineWrapping&&Bn(this);var r=this.display.viewFrom;this.doc.iter(r,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Ji(n,r,"widget");break}++r}),this.curOp.forceUpdate=!0,rt(this,"refresh",this)}),operation:function(e){return Ki(this,e)},startOperation:function(){return qi(this)},endOperation:function(){return Hi(this)},refresh:Xi(function(){var e=this.display.cachedTextHeight;Zi(this),this.curOp.forceUpdate=!0,zn(this),Ai(this,this.doc.scrollLeft,this.doc.scrollTop),ur(this),(null==e||Math.abs(e-ni(this.display))>.5)&&ai(this),rt(this,"refresh",this)}),swapDoc:Xi(function(e){var t=this.doc;return t.cm=null,Rr(this,e),zn(this),this.display.input.reset(),Ai(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,un(this,"swapDoc",this,t),t}),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},lt(e),e.registerHelper=function(t,i,r){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][i]=r},e.registerGlobalHelper=function(t,i,r,o){e.registerHelper(t,i,o),n[t]._global.push({pred:r,val:o})}}(Ss);var Hs="iter insert remove copy getEditor constructor".split(" ");for(var Us in To.prototype)To.prototype.hasOwnProperty(Us)&&B(Hs,Us)<0&&(Ss.prototype[Us]=function(e){return function(){return e.apply(this.doc,arguments)}}(To.prototype[Us]));return lt(To),Ss.inputStyles={textarea:qs,contenteditable:Fs},Ss.defineMode=function(e){Ss.defaults.mode||"null"==e||(Ss.defaults.mode=e),function(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Ct[e]=t}.apply(this,arguments)},Ss.defineMIME=function(e,t){Et[e]=t},Ss.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),Ss.defineMIME("text/plain","null"),Ss.defineExtension=function(e,t){Ss.prototype[e]=t},Ss.defineDocExtension=function(e,t){To.prototype[e]=t},Ss.fromTextArea=function(e,t){if((t=t?F(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var n=O();t.autofocus=n==e||null!=e.getAttribute("autofocus")&&n==document.body}function i(){e.value=a.getValue()}var r;if(e.form&&(tt(e.form,"submit",i),!t.leaveSubmitMethodAlone)){var o=e.form;r=o.submit;try{var s=o.submit=function(){i(),o.submit=r,o.submit(),o.submit=s}}catch(e){}}t.finishInit=function(t){t.save=i,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,i(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(it(e.form,"submit",i),"function"==typeof e.form.submit&&(e.form.submit=r))}},e.style.display="none";var a=Ss(function(t){return e.parentNode.insertBefore(t,e.nextSibling)},t);return a},function(e){e.off=it,e.on=tt,e.wheelEventPixels=gr,e.Doc=To,e.splitLines=xt,e.countColumn=$,e.findColumn=V,e.isWordChar=ee,e.Pass=q,e.signal=rt,e.Line=Gt,e.changeEnd=wr,e.scrollbarModel=ji,e.Pos=ge,e.cmpPos=be,e.modes=Ct,e.mimeModes=Et,e.resolveMode=Tt,e.getMode=At,e.modeExtensions=Nt,e.extendMode=Mt,e.copyState=Rt,e.startState=Lt,e.innerMode=Ot,e.commands=Qo,e.keyMap=jo,e.keyName=Wo,e.isModifierKey=Ho,e.lookupKey=qo,e.normalizeKeyMap=zo,e.StringStream=Pt,e.SharedTextMarker=ko,e.TextMarker=xo,e.LineWidget=yo,e.e_preventDefault=ut,e.e_stopPropagation=ct,e.e_stop=ft,e.addClass=L,e.contains=R,e.rmClass=E,e.keyNames=Do}(Ss),Ss.version="5.43.0",Ss},"object"==typeof t&&void 0!==e?e.exports=i():"function"==typeof define&&define.amd?define(i):n.CodeMirror=i()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=s(n(1)),o=s(n(40));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,o.default)(function(e,t,n,o,s){var a=e[t],l=void 0===a?"undefined":i(a);return r.default.isValidElement(a)?new Error("Invalid "+o+" `"+s+"` of type ReactElement supplied to `"+n+"`, expected an element type (a string or a ReactClass)."):"function"!==l&&"string"!==l?new Error("Invalid "+o+" `"+s+"` of value `"+a+"` supplied to `"+n+"`, expected an element type (a string or a ReactClass)."):null}),e.exports=t.default},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(181)},,function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){var n,i,r,o,s;({a:i,div:r,i:o,span:s}=ReactDOMFactories),n=reactCreateClass({displayName:"HelpCircle",mixins:[mixins.TooltipMixin],getInitialState:function(){return{uid:Math.random().toString().substr(2)}},propTypes:function(){return{link:PropTypes.string,text:PropTypes.string.isRequired,placement:PropTypes.string}},getDefaultProps:function(){return{placement:"right"}},componentDidMount:function(){return this.initializeTooltips(`#help-circle-${this.state.uid}`,!0)},componentDidUpdate:function(){return this.initializeTooltips(`#help-circle-${this.state.uid}`,!0)},render:function(){return s({id:`help-circle-${this.state.uid}`,className:this.props.link?"":"help-circle","data-placement":this.props.placement,"data-title":this.props.text,"data-toggle":"tooltip"},this.props.link?i({className:"help-circle clickable",href:this.props.link,target:"_blank"},o({className:"far fa-question-circle"})):o({className:"far fa-question-circle"}))}}),e.exports={HelpCircle:n}},function(e,t){function n(e){if(e&&"object"==typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"==typeof e)return s[e];var n,o=String(e);return(n=i[o.toLowerCase()])?n:(n=r[o.toLowerCase()])||(1===o.length?o.charCodeAt(0):void 0)}n.isEventKey=function(e,t){if(e&&"object"==typeof e){var n=e.which||e.keyCode||e.charCode;if(null==n)return!1;if("string"==typeof t){var o;if(o=i[t.toLowerCase()])return o===n;if(o=r[t.toLowerCase()])return o===n}else if("number"==typeof t)return t===n;return!1}};var i=(t=e.exports=n).code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=t.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};
/*!
 * Programatically add the following
 */
for(o=97;o<123;o++)i[String.fromCharCode(o)]=o-32;for(var o=48;o<58;o++)i[o-48]=o;for(o=1;o<13;o++)i["f"+o]=o+111;for(o=0;o<10;o++)i["numpad "+o]=o+96;var s=t.names=t.title={};for(o in i)s[i[o]]=o;for(var a in r)i[a]=r[a]},function(e,t,n){var i,r,o,s;i=n(23),r=n(325),o=n(504),s={btns_enabled:!1,color_scheme:"light",keymap:"default",default_pwd:"/root/sandbox",stack:null,tabs_enabled:[]},e.exports=Reflux.createStore({listenables:i,mixins:[mixins.AjaxMixin],init:function(){return r.listen(this.onPubNubChange),o.listen(this.onStepsChange)},onPubNubChange:function(e,t,n,i){if("projects-current_score"===t)return this.ajaxGet(routes.realtime.projects.current_score({access_token:e}),{success:e=>{var t;return t=e||{score:null,created_at:null},this.setProperty("current_score",t.score),this.setProperty("current_score_at",t.created_at)}})},onStepsChange:function(e){if(s.step_count!==e.length)return this.setProperty("step_count",e.length)},setProperties:function(e){return s=e,this.trigger(s)},setPropertiesSafely:function(e){var t,n,i,r;for(t=0,i=(r=_.keys(e)).length;t<i;t++)n=r[t],s[n]=e[n];return this.trigger(s)},setProperty:function(e,t){return s[e]=t,this.trigger(s)},getInitialState:function(){return s}})},function(e,t){var n=e.exports={version:"2.5.3"};"number"==typeof __e&&(__e=n)},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){e.exports={default:n(267),__esModule:!0}},function(e,t,n){var i=n(81)("wks"),r=n(58),o=n(24).Symbol,s="function"==typeof o;(e.exports=function(e){return i[e]||(i[e]=s&&o[e]||(s?o:r)("Symbol."+e))}).store=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function r(e){var t=void 0===e?"undefined":i(e);return"function"===t||"object"===t&&!!e}t.capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},t.callbackName=function(e,n){return(n=n||"on")+t.capitalize(e)},t.isObject=r,t.extend=function(e){if(!r(e))return e;for(var t,n,i,o=1,s=arguments.length;o<s;o++){t=arguments[o],n=Object.keys(t);for(var a=0;a<n.length;a++)if(i=n[a],Object.getOwnPropertyDescriptor&&Object.defineProperty){var l=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(e,i,l)}else e[i]=t[i]}return e},t.isFunction=function(e){return"function"==typeof e},t.nextTick=function(e){setTimeout(e,0)},t.object=function(e,t){for(var n={},i=0;i<e.length;i++)n[e[i]]=t[i];return n},t.isArguments=function(e){return"object"===(void 0===e?"undefined":i(e))&&"callee"in e&&"number"==typeof e.length},t.throwIf=function(e,t){if(e)throw Error(t||e)},t.EventEmitter=n(223)},function(e,t,n){"use strict";t.__esModule=!0;var i,r=n(275),o=(i=r)&&i.__esModule?i:{default:i};t.default=(0,o.default)({shouldComponentUpdate:function(){return!this._notifying}},function(e,t,n,i,r){n&&(e._notifying=!0,n.call.apply(n,[e,i].concat(r)),e._notifying=!1),e._values[t]=i,e.unmounted||e.forceUpdate()}),e.exports=t.default},function(e,t,n){var i=n(24),r=n(16),o=n(66),s=n(37),a=function(e,t,n){var l,u,c,p=e&a.F,f=e&a.G,d=e&a.S,h=e&a.P,m=e&a.B,g=e&a.W,b=f?r:r[t]||(r[t]={}),y=b.prototype,v=f?i:d?i[t]:(i[t]||{}).prototype;for(l in f&&(n=t),n)(u=!p&&v&&void 0!==v[l])&&l in b||(c=u?v[l]:n[l],b[l]=f&&"function"!=typeof v[l]?n[l]:m&&u?o(c,i):g&&v[l]==c?function(e){var t=function(t,n,i){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,i)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(c):h&&"function"==typeof c?o(Function.call,c):c,h&&((b.virtual||(b.virtual={}))[l]=c,e&a.R&&y&&!y[l]&&s(y,l,c)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,e.exports=a},function(e,t){e.exports=Reflux.createActions(["setProperties","setProperty","setPropertiesSafely"])},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=!("undefined"==typeof window||!window.document||!window.document.createElement),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(25),o=(i=r)&&i.__esModule?i:{default:i};function s(e,t){if(t)do{if(t===e)return!0}while(t=t.parentNode);return!1}t.default=o.default?function(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):s(e,t)}:s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.default)(function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=null;return t.forEach(function(e){if(null==r){var t=e.apply(void 0,n);null!=t&&(r=t)}}),r})};var i,r=n(40),o=(i=r)&&i.__esModule?i:{default:i};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n,i,r,o){var s=i||"<<anonymous>>",a=o||n;if(null==t[n])return new Error("The "+r+" `"+a+"` is required to make `"+s+"` accessible for users of assistive technologies such as screen readers.");for(var l=arguments.length,u=Array(l>5?l-5:0),c=5;c<l;c++)u[c-5]=arguments[c];return e.apply(void 0,[t,n,i,r,o].concat(u))}},e.exports=t.default},function(e,t,n){var i=n(31),r=n(119),o=n(77),s=Object.defineProperty;t.f=n(36)?Object.defineProperty:function(e,t,n){if(i(e),t=o(t,!0),i(n),r)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.joinStrict=t.joinConcat=t.joinLeading=t.joinTrailing=t.fetchInitialState=t.stopListeningToAll=t.stopListeningTo=t.listenTo=t.validateListening=t.listenToMany=t.hasListener=void 0;var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(20)),r=n(115);var o=function(e){for(var t,n=0,i={};n<(e.children||[]).length;++n)e[t=e.children[n]]&&(i[t]=e[t]);return i};t.hasListener=function(e){for(var t,n,i,r=0;r<(this.subscriptions||[]).length;++r)for(i=[].concat(this.subscriptions[r].listenable),t=0;t<i.length;t++)if((n=i[t])===e||n.hasListener&&n.hasListener(e))return!0;return!1},t.listenToMany=function(e){var t=function e(t){var n={};for(var r in t){var s=t[r],a=e(o(s));for(var l in n[r]=s,a){var u=a[l];n[r+i.capitalize(l)]=u}}return n}(e);for(var n in t){var r=i.callbackName(n),s=this[r]?r:this[n]?n:void 0;s&&this.listenTo(t[n],s,this[r+"Default"]||this[s+"Default"]||s)}},t.validateListening=function(e){return e===this?"Listener is not able to listen to itself":i.isFunction(e.listen)?e.hasListener&&e.hasListener(this)?"Listener cannot listen to this listenable because of circular loop":void 0:e+" is missing a listen method"},t.listenTo=function(e,t,n){var r,o,s=this.subscriptions=this.subscriptions||[];return i.throwIf(this.validateListening(e)),this.fetchInitialState(e,n),r=e.listen(this[t]||t,this),o={stop:function(){var e=s.indexOf(o);i.throwIf(-1===e,"Tried to remove listen already gone from subscriptions list!"),s.splice(e,1),r()},listenable:e},s.push(o),o},t.stopListeningTo=function(e){for(var t,n=0,r=this.subscriptions||[];n<r.length;n++)if((t=r[n]).listenable===e)return t.stop(),i.throwIf(-1!==r.indexOf(t),"Failed to remove listen from subscriptions list!"),!0;return!1},t.stopListeningToAll=function(){for(var e,t=this.subscriptions||[];e=t.length;)t[0].stop(),i.throwIf(t.length!==e-1,"Failed to remove listen from subscriptions list!")},t.fetchInitialState=function(e,t){t=t&&this[t]||t;var n=this;if(i.isFunction(t)&&i.isFunction(e.getInitialState)){var r=e.getInitialState();r&&i.isFunction(r.then)?r.then(function(){t.apply(n,arguments)}):t.call(this,r)}},t.joinTrailing=(0,r.instanceJoinCreator)("last"),t.joinLeading=(0,r.instanceJoinCreator)("first"),t.joinConcat=(0,r.instanceJoinCreator)("all"),t.joinStrict=(0,r.instanceJoinCreator)("strict")},function(e,t,n){var i=n(35);e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var i=n(121),r=n(78);e.exports=function(e){return i(r(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e&&e.ownerDocument||document},e.exports=t.default},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=!n(46)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var i=n(29),r=n(49);e.exports=n(36)?function(e,t,n){return i.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return(0,r.default)(i.default.findDOMNode(e))};var i=o(n(10)),r=o(n(34));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";e.exports=function(e,t,n,i,r,o,s,a){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,i,r,o,s,a],c=0;(l=new Error(t.replace(/%s/g,function(){return u[c++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,i,r,o,s){var a=r||"<<anonymous>>",l=s||i;if(null==n[i])return t?new Error("Required "+o+" `"+l+"` was not specified in `"+a+"`."):null;for(var u=arguments.length,c=Array(u>6?u-6:0),p=6;p<u;p++)c[p-6]=arguments[p];return e.apply(void 0,[n,i,a,o,l].concat(c))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var u="",c="",p=t;if("string"==typeof t){if(void 0===n)return e.style[(0,i.default)(t)]||(0,o.default)(e).getPropertyValue((0,r.default)(t));(p={})[t]=n}Object.keys(p).forEach(function(t){var n=p[t];n||0===n?(0,l.default)(t)?c+=t+"("+n+") ":u+=(0,r.default)(t)+": "+n+";":(0,s.default)(e,(0,r.default)(t))}),c&&(u+=a.transform+": "+c+";");e.style.cssText+=";"+u};var i=u(n(127)),r=u(n(270)),o=u(n(272)),s=u(n(273)),a=n(128),l=u(n(274));function u(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=w(n(92)),o=w(n(26)),s=w(n(25)),a=w(n(0)),l=w(n(60)),u=w(n(283)),c=w(n(9)),p=n(1),f=w(p),d=w(n(10)),h=w(n(17)),m=w(n(284)),g=w(n(131)),b=w(n(290)),y=w(n(129)),v=w(n(291)),_=w(n(62)),x=w(n(38));function w(e){return e&&e.__esModule?e:{default:e}}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var S=new m.default,C=function(e){function t(){var n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];return n=i=k(this,e.call.apply(e,[this].concat(o))),E.call(i),k(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.omitProps=function(e,t){var n=Object.keys(e),i={};return n.map(function(n){Object.prototype.hasOwnProperty.call(t,n)||(i[n]=e[n])}),i},t.prototype.render=function(){var e=this.props,n=e.show,r=e.container,o=e.children,s=e.transition,a=e.backdrop,l=e.dialogTransitionTimeout,u=e.className,c=e.style,d=e.onExit,h=e.onExiting,m=e.onEnter,y=e.onEntering,v=e.onEntered,_=f.default.Children.only(o),x=this.omitProps(this.props,t.propTypes);if(!(n||s&&!this.state.exited))return null;var w=_.props,k=w.role,S=w.tabIndex;return void 0!==k&&void 0!==S||(_=(0,p.cloneElement)(_,{role:void 0===k?"document":k,tabIndex:null==S?"-1":S})),s&&(_=f.default.createElement(s,{transitionAppear:!0,unmountOnExit:!0,in:n,timeout:l,onExit:d,onExiting:h,onExited:this.handleHidden,onEnter:m,onEntering:y,onEntered:v},_)),f.default.createElement(g.default,{ref:this.setMountNode,container:r,onRendered:this.onPortalRendered},f.default.createElement("div",i({ref:this.setModalNodeRef,role:k||"dialog"},x,{style:c,className:u}),a&&this.renderBackdrop(),f.default.createElement(b.default,{ref:this.setDialogRef},_)))},t.prototype.componentWillReceiveProps=function(e){e.show?this.setState({exited:!1}):e.transition||this.setState({exited:!0})},t.prototype.componentWillUpdate=function(e){!this.props.show&&e.show&&this.checkForFocus()},t.prototype.componentDidMount=function(){this._isMounted=!0,this.props.show&&this.onShow()},t.prototype.componentDidUpdate=function(e){var t=this.props.transition;!e.show||this.props.show||t?!e.show&&this.props.show&&this.onShow():this.onHide()},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.show,n=e.transition;this._isMounted=!1,(t||n&&!this.state.exited)&&this.onHide()},t.prototype.autoFocus=function(){if(this.props.autoFocus){var e=this.getDialogElement(),t=(0,r.default)((0,x.default)(this));e&&!(0,o.default)(e,t)&&(this.lastFocus=t,e.hasAttribute("tabIndex")||((0,h.default)(!1,'The modal content node does not accept focus. For the benefit of assistive technologies, the tabIndex of the node is being set to "-1".'),e.setAttribute("tabIndex",-1)),e.focus())}},t.prototype.restoreLastFocus=function(){this.lastFocus&&this.lastFocus.focus&&(this.lastFocus.focus(),this.lastFocus=null)},t.prototype.getDialogElement=function(){return d.default.findDOMNode(this.dialog)},t.prototype.isTopModal=function(){return this.props.manager.isTopModal(this)},t}(f.default.Component);C.propTypes=i({},g.default.propTypes,{show:a.default.bool,container:a.default.oneOfType([l.default,a.default.func]),onShow:a.default.func,onHide:a.default.func,backdrop:a.default.oneOfType([a.default.bool,a.default.oneOf(["static"])]),renderBackdrop:a.default.func,onEscapeKeyDown:a.default.func,onEscapeKeyUp:(0,u.default)(a.default.func,"Please use onEscapeKeyDown instead for consistency"),onBackdropClick:a.default.func,backdropStyle:a.default.object,backdropClassName:a.default.string,containerClassName:a.default.string,keyboard:a.default.bool,transition:c.default,dialogTransitionTimeout:a.default.number,backdropTransitionTimeout:a.default.number,autoFocus:a.default.bool,enforceFocus:a.default.bool,restoreFocus:a.default.bool,onEnter:a.default.func,onEntering:a.default.func,onEntered:a.default.func,onExit:a.default.func,onExiting:a.default.func,onExited:a.default.func,manager:a.default.object.isRequired}),C.defaultProps={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,onHide:function(){},manager:S,renderBackdrop:function(e){return f.default.createElement("div",e)}};var E=function(){var e=this;this.state={exited:!this.props.show},this.renderBackdrop=function(){var t=e.props,n=t.backdropStyle,i=t.backdropClassName,r=t.renderBackdrop,o=t.transition,s=t.backdropTransitionTimeout,a=r({ref:function(t){return e.backdrop=t},style:n,className:i,onClick:e.handleBackdropClick});return o&&(a=f.default.createElement(o,{transitionAppear:!0,in:e.props.show,timeout:s},a)),a},this.onPortalRendered=function(){e.autoFocus(),e.props.onShow&&e.props.onShow()},this.onShow=function(){var t=(0,x.default)(e),n=(0,_.default)(e.props.container,t.body);e.props.manager.add(e,n,e.props.containerClassName),e._onDocumentKeydownListener=(0,y.default)(t,"keydown",e.handleDocumentKeyDown),e._onDocumentKeyupListener=(0,y.default)(t,"keyup",e.handleDocumentKeyUp),e._onFocusinListener=(0,v.default)(e.enforceFocus)},this.onHide=function(){e.props.manager.remove(e),e._onDocumentKeydownListener.remove(),e._onDocumentKeyupListener.remove(),e._onFocusinListener.remove(),e.props.restoreFocus&&e.restoreLastFocus()},this.setMountNode=function(t){e.mountNode=t?t.getMountNode():t},this.setModalNodeRef=function(t){e.modalNode=t},this.setDialogRef=function(t){e.dialog=t},this.handleHidden=function(){var t;(e.setState({exited:!0}),e.onHide(),e.props.onExited)&&(t=e.props).onExited.apply(t,arguments)},this.handleBackdropClick=function(t){t.target===t.currentTarget&&(e.props.onBackdropClick&&e.props.onBackdropClick(t),!0===e.props.backdrop&&e.props.onHide())},this.handleDocumentKeyDown=function(t){e.props.keyboard&&27===t.keyCode&&e.isTopModal()&&(e.props.onEscapeKeyDown&&e.props.onEscapeKeyDown(t),e.props.onHide())},this.handleDocumentKeyUp=function(t){e.props.keyboard&&27===t.keyCode&&e.isTopModal()&&e.props.onEscapeKeyUp&&e.props.onEscapeKeyUp(t)},this.checkForFocus=function(){s.default&&(e.lastFocus=(0,r.default)())},this.enforceFocus=function(){if(e.props.enforceFocus&&e._isMounted&&e.isTopModal()){var t=e.getDialogElement(),n=(0,r.default)((0,x.default)(e));t&&!(0,o.default)(t,n)&&t.focus()}}};C.Manager=m.default,t.default=C,e.exports=t.default},function(e,t,n){var i,r,o,s,a;i=n(324),o=n(325),s={dead:!1},a=!1,r=Reflux.createStore({listenables:i,mixins:[mixins.AjaxMixin],init:function(){return o.listen(this.onPubNubChange)},onPubNubChange:function(e,t,n,i){if("message"===n&&"container"===t)return this.ajaxGet(routes.realtime.containers.index({access_token:e}),{success:e=>(e.dead&&$.alert("Your sandbox has timed out due to inactivity or because you've opened another one elsewhere. Please reload the page to get a new one.","danger",!1),s=e,this.trigger(s))})},requestSandbox:function(e){if(!a)return a=!0,this.ajaxPost(routes.projects.load_container({access_token:e}),{})},setDead:function(e){return s.dead=e,this.trigger(s)},getInitialState:function(){return s}}),e.exports=r},function(e,t,n){!function(e){"use strict";var t={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]},n={};function i(e,t){var i=e.match(function(e){var t=n[e];return t||(n[e]=new RegExp("\\s+"+e+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*"))}(t));return i?/^\s*(.*?)\s*$/.exec(i[2])[1]:""}function r(e,t){return new RegExp((t?"^":"")+"</s*"+e+"s*>","i")}function o(e,t){for(var n in e)for(var i=t[n]||(t[n]=[]),r=e[n],o=r.length-1;o>=0;o--)i.unshift(r[o])}e.defineMode("htmlmixed",function(n,s){var a=e.getMode(n,{name:"xml",htmlMode:!0,multilineTagIndentFactor:s.multilineTagIndentFactor,multilineTagIndentPastTag:s.multilineTagIndentPastTag}),l={},u=s&&s.tags,c=s&&s.scriptTypes;if(o(t,l),u&&o(u,l),c)for(var p=c.length-1;p>=0;p--)l.script.unshift(["type",c[p].matches,c[p].mode]);function f(t,o){var s,u=a.token(t,o.htmlState),c=/\btag\b/.test(u);if(c&&!/[<>\s\/]/.test(t.current())&&(s=o.htmlState.tagName&&o.htmlState.tagName.toLowerCase())&&l.hasOwnProperty(s))o.inTag=s+" ";else if(o.inTag&&c&&/>$/.test(t.current())){var p=/^([\S]+) (.*)/.exec(o.inTag);o.inTag=null;var d=">"==t.current()&&function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(!r[0]||r[1].test(i(t,r[0])))return r[2]}}(l[p[1]],p[2]),h=e.getMode(n,d),m=r(p[1],!0),g=r(p[1],!1);o.token=function(e,t){return e.match(m,!1)?(t.token=f,t.localState=t.localMode=null,null):function(e,t,n){var i=e.current(),r=i.search(t);return r>-1?e.backUp(i.length-r):i.match(/<\/?$/)&&(e.backUp(i.length),e.match(t,!1)||e.match(i)),n}(e,g,t.localMode.token(e,t.localState))},o.localMode=h,o.localState=e.startState(h,a.indent(o.htmlState,"",""))}else o.inTag&&(o.inTag+=t.current(),t.eol()&&(o.inTag+=" "));return u}return{startState:function(){var t=e.startState(a);return{token:f,inTag:null,localMode:null,localState:null,htmlState:t}},copyState:function(t){var n;return t.localState&&(n=e.copyState(t.localMode,t.localState)),{token:t.token,inTag:t.inTag,localMode:t.localMode,localState:n,htmlState:e.copyState(a,t.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(t,n,i){return!t.localMode||/^\s*<\//.test(n)?a.indent(t.htmlState,n,i):t.localMode.indent?t.localMode.indent(t.localState,n,i):e.Pass},innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||a}}}},"xml","javascript","css"),e.defineMIME("text/html","htmlmixed")}(n(8),n(45),n(56),n(55))},function(e,t,n){!function(e){"use strict";var t={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},n={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};e.defineMode("xml",function(i,r){var o,s,a=i.indentUnit,l={},u=r.htmlMode?t:n;for(var c in u)l[c]=u[c];for(var c in r)l[c]=r[c];function p(e,t){function n(n){return t.tokenize=n,n(e,t)}var i=e.next();return"<"==i?e.eat("!")?e.eat("[")?e.match("CDATA[")?n(d("atom","]]>")):null:e.match("--")?n(d("comment","--\x3e")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(function e(t){return function(n,i){for(var r;null!=(r=n.next());){if("<"==r)return i.tokenize=e(t+1),i.tokenize(n,i);if(">"==r){if(1==t){i.tokenize=p;break}return i.tokenize=e(t-1),i.tokenize(n,i)}}return"meta"}}(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=d("meta","?>"),"meta"):(o=e.eat("/")?"closeTag":"openTag",t.tokenize=f,"tag bracket"):"&"==i?(e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"))?"atom":"error":(e.eatWhile(/[^&<]/),null)}function f(e,t){var n,i,r=e.next();if(">"==r||"/"==r&&e.eat(">"))return t.tokenize=p,o=">"==r?"endTag":"selfcloseTag","tag bracket";if("="==r)return o="equals",null;if("<"==r){t.tokenize=p,t.state=b,t.tagName=t.tagStart=null;var s=t.tokenize(e,t);return s?s+" tag error":"tag error"}return/[\'\"]/.test(r)?(t.tokenize=(n=r,(i=function(e,t){for(;!e.eol();)if(e.next()==n){t.tokenize=f;break}return"string"}).isInAttribute=!0,i),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function d(e,t){return function(n,i){for(;!n.eol();){if(n.match(t)){i.tokenize=p;break}n.next()}return e}}function h(e,t,n){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=n,(l.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function m(e){e.context&&(e.context=e.context.prev)}function g(e,t){for(var n;;){if(!e.context)return;if(n=e.context.tagName,!l.contextGrabbers.hasOwnProperty(n)||!l.contextGrabbers[n].hasOwnProperty(t))return;m(e)}}function b(e,t,n){return"openTag"==e?(n.tagStart=t.column(),y):"closeTag"==e?v:b}function y(e,t,n){return"word"==e?(n.tagName=t.current(),s="tag",w):l.allowMissingTagName&&"endTag"==e?(s="tag bracket",w(e,0,n)):(s="error",y)}function v(e,t,n){if("word"==e){var i=t.current();return n.context&&n.context.tagName!=i&&l.implicitlyClosed.hasOwnProperty(n.context.tagName)&&m(n),n.context&&n.context.tagName==i||!1===l.matchClosing?(s="tag",_):(s="tag error",x)}return l.allowMissingTagName&&"endTag"==e?(s="tag bracket",_(e,0,n)):(s="error",x)}function _(e,t,n){return"endTag"!=e?(s="error",_):(m(n),b)}function x(e,t,n){return s="error",_(e,0,n)}function w(e,t,n){if("word"==e)return s="attribute",k;if("endTag"==e||"selfcloseTag"==e){var i=n.tagName,r=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==e||l.autoSelfClosers.hasOwnProperty(i)?g(n,i):(g(n,i),n.context=new h(n,i,r==n.indented)),b}return s="error",w}function k(e,t,n){return"equals"==e?S:(l.allowMissing||(s="error"),w(e,0,n))}function S(e,t,n){return"string"==e?C:"word"==e&&l.allowUnquoted?(s="string",w):(s="error",w(e,0,n))}function C(e,t,n){return"string"==e?C:w(e,0,n)}return p.isInText=!0,{startState:function(e){var t={tokenize:p,state:b,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;o=null;var n=t.tokenize(e,t);return(n||o)&&"comment"!=n&&(s=null,t.state=t.state(o||n,e,t),s&&(n="error"==s?n+" error":s)),n},indent:function(t,n,i){var r=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+a;if(r&&r.noIndent)return e.Pass;if(t.tokenize!=f&&t.tokenize!=p)return i?i.match(/^(\s*)/)[0].length:0;if(t.tagName)return!1!==l.multilineTagIndentPastTag?t.tagStart+t.tagName.length+2:t.tagStart+a*(l.multilineTagIndentFactor||1);if(l.alignCDATA&&/<!\[CDATA\[/.test(n))return 0;var o=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(o&&o[1])for(;r;){if(r.tagName==o[2]){r=r.prev;break}if(!l.implicitlyClosed.hasOwnProperty(r.tagName))break;r=r.prev}else if(o)for(;r;){var s=l.contextGrabbers[r.tagName];if(!s||!s.hasOwnProperty(o[2]))break;r=r.prev}for(;r&&r.prev&&!r.startOfLine;)r=r.prev;return r?r.indent+a:t.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:l.htmlMode?"html":"xml",helperType:l.htmlMode?"html":"xml",skipAttribute:function(e){e.state==S&&(e.state=w)}}}),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})}(n(8))},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var i=n(120),r=n(82);e.exports=Object.keys||function(e){return i(e,r)}},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,a=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var u in n=Object(arguments[l]))r.call(n,u)&&(a[u]=n[u]);if(i){s=i(n);for(var c=0;c<s.length;c++)o.call(n,s[c])&&(a[s[c]]=n[s[c]])}}return a}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t){e.exports={}},function(e,t,n){e.exports={default:n(236),__esModule:!0}},function(e,t,n){e.exports={default:n(265),__esModule:!0}},function(e,t,n){var i,r,o;
/*!
 * jQuery JavaScript Library v2.2.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-05-20T17:23Z
 */
/*!
 * jQuery JavaScript Library v2.2.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-05-20T17:23Z
 */
r="undefined"!=typeof window?window:this,o=function(n,r){var o=[],s=n.document,a=o.slice,l=o.concat,u=o.push,c=o.indexOf,p={},f=p.toString,d=p.hasOwnProperty,h={},m=function(e,t){return new m.fn.init(e,t)},g=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,b=/^-ms-/,y=/-([\da-z])/gi,v=function(e,t){return t.toUpperCase()};function _(e){var t=!!e&&"length"in e&&e.length,n=m.type(e);return"function"!==n&&!m.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}m.fn=m.prototype={jquery:"2.2.4",constructor:m,selector:"",length:0,toArray:function(){return a.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:a.call(this)},pushStack:function(e){var t=m.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return m.each(this,e)},map:function(e){return this.pushStack(m.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:o.sort,splice:o.splice},m.extend=m.fn.extend=function(){var e,t,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||m.isFunction(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)n=s[t],s!==(i=e[t])&&(u&&i&&(m.isPlainObject(i)||(r=m.isArray(i)))?(r?(r=!1,o=n&&m.isArray(n)?n:[]):o=n&&m.isPlainObject(n)?n:{},s[t]=m.extend(u,o,i)):void 0!==i&&(s[t]=i));return s},m.extend({expando:"jQuery"+("2.2.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===m.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=e&&e.toString();return!m.isArray(e)&&t-parseFloat(t)+1>=0},isPlainObject:function(e){var t;if("object"!==m.type(e)||e.nodeType||m.isWindow(e))return!1;if(e.constructor&&!d.call(e,"constructor")&&!d.call(e.constructor.prototype||{},"isPrototypeOf"))return!1;for(t in e);return void 0===t||d.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?p[f.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;(e=m.trim(e))&&(1===e.indexOf("use strict")?((t=s.createElement("script")).text=e,s.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(b,"ms-").replace(y,v)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,i=0;if(_(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(g,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(_(Object(e))?m.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:c.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,s=!n;r<o;r++)!t(e[r],r)!==s&&i.push(e[r]);return i},map:function(e,t,n){var i,r,o=0,s=[];if(_(e))for(i=e.length;o<i;o++)null!=(r=t(e[o],o,n))&&s.push(r);else for(o in e)null!=(r=t(e[o],o,n))&&s.push(r);return l.apply([],s)},guid:1,proxy:function(e,t){var n,i,r;if("string"==typeof t&&(n=e[t],t=e,e=n),m.isFunction(e))return i=a.call(arguments,2),(r=function(){return e.apply(t||this,i.concat(a.call(arguments)))}).guid=e.guid=e.guid||m.guid++,r},now:Date.now,support:h}),"function"==typeof Symbol&&(m.fn[Symbol.iterator]=o[Symbol.iterator]),m.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){p["[object "+t+"]"]=t.toLowerCase()});var x=
/*!
 * Sizzle CSS Selector Engine v2.2.1
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-10-17
 */
function(e){var t,n,i,r,o,s,a,l,u,c,p,f,d,h,m,g,b,y,v,_="sizzle"+1*new Date,x=e.document,w=0,k=0,S=oe(),C=oe(),E=oe(),T=function(e,t){return e===t&&(p=!0),0},A=1<<31,N={}.hasOwnProperty,M=[],R=M.pop,O=M.push,L=M.push,P=M.slice,D=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},I="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",$="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",j="\\["+F+"*("+$+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+$+"))|)"+F+"*\\]",B=":("+$+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+j+")*)|.*)\\)|)",z=new RegExp(F+"+","g"),q=new RegExp("^"+F+"+|((?:^|[^\\\\])(?:\\\\.)*)"+F+"+$","g"),H=new RegExp("^"+F+"*,"+F+"*"),U=new RegExp("^"+F+"*([>+~]|"+F+")"+F+"*"),W=new RegExp("="+F+"*([^\\]'\"]*?)"+F+"*\\]","g"),V=new RegExp(B),G=new RegExp("^"+$+"$"),K={ID:new RegExp("^#("+$+")"),CLASS:new RegExp("^\\.("+$+")"),TAG:new RegExp("^("+$+"|[*])"),ATTR:new RegExp("^"+j),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+F+"*(even|odd|(([+-]|)(\\d*)n|)"+F+"*(?:([+-]|)"+F+"*(\\d+)|))"+F+"*\\)|)","i"),bool:new RegExp("^(?:"+I+")$","i"),needsContext:new RegExp("^"+F+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+F+"*((?:-\\d)?\\d*)"+F+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,ee=/'|\\/g,te=new RegExp("\\\\([\\da-f]{1,6}"+F+"?|("+F+")|.)","ig"),ne=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},ie=function(){f()};try{L.apply(M=P.call(x.childNodes),x.childNodes),M[x.childNodes.length].nodeType}catch(e){L={apply:M.length?function(e,t){O.apply(e,P.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function re(e,t,i,r){var o,a,u,c,p,h,b,y,w=t&&t.ownerDocument,k=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==k&&9!==k&&11!==k)return i;if(!r&&((t?t.ownerDocument||t:x)!==d&&f(t),t=t||d,m)){if(11!==k&&(h=Z.exec(e)))if(o=h[1]){if(9===k){if(!(u=t.getElementById(o)))return i;if(u.id===o)return i.push(u),i}else if(w&&(u=w.getElementById(o))&&v(t,u)&&u.id===o)return i.push(u),i}else{if(h[2])return L.apply(i,t.getElementsByTagName(e)),i;if((o=h[3])&&n.getElementsByClassName&&t.getElementsByClassName)return L.apply(i,t.getElementsByClassName(o)),i}if(n.qsa&&!E[e+" "]&&(!g||!g.test(e))){if(1!==k)w=t,y=e;else if("object"!==t.nodeName.toLowerCase()){for((c=t.getAttribute("id"))?c=c.replace(ee,"\\$&"):t.setAttribute("id",c=_),a=(b=s(e)).length,p=G.test(c)?"#"+c:"[id='"+c+"']";a--;)b[a]=p+" "+me(b[a]);y=b.join(","),w=J.test(e)&&de(t.parentNode)||t}if(y)try{return L.apply(i,w.querySelectorAll(y)),i}catch(e){}finally{c===_&&t.removeAttribute("id")}}}return l(e.replace(q,"$1"),t,i,r)}function oe(){var e=[];return function t(n,r){return e.push(n+" ")>i.cacheLength&&delete t[e.shift()],t[n+" "]=r}}function se(e){return e[_]=!0,e}function ae(e){var t=d.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function le(e,t){for(var n=e.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=t}function ue(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||A)-(~e.sourceIndex||A);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function ce(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function pe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function fe(e){return se(function(t){return t=+t,se(function(n,i){for(var r,o=e([],n.length,t),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function de(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=re.support={},o=re.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},f=re.setDocument=function(e){var t,r,s=e?e.ownerDocument||e:x;return s!==d&&9===s.nodeType&&s.documentElement?(h=(d=s).documentElement,m=!o(d),(r=d.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",ie,!1):r.attachEvent&&r.attachEvent("onunload",ie)),n.attributes=ae(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=ae(function(e){return e.appendChild(d.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Q.test(d.getElementsByClassName),n.getById=ae(function(e){return h.appendChild(e).id=_,!d.getElementsByName||!d.getElementsByName(_).length}),n.getById?(i.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n=t.getElementById(e);return n?[n]:[]}},i.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}}):(delete i.find.ID,i.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),i.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},b=[],g=[],(n.qsa=Q.test(d.querySelectorAll))&&(ae(function(e){h.appendChild(e).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+F+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+F+"*(?:value|"+I+")"),e.querySelectorAll("[id~="+_+"-]").length||g.push("~="),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+_+"+*").length||g.push(".#.+[+~]")}),ae(function(e){var t=d.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+F+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(n.matchesSelector=Q.test(y=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ae(function(e){n.disconnectedMatch=y.call(e,"div"),y.call(e,"[s!='']:x"),b.push("!=",B)}),g=g.length&&new RegExp(g.join("|")),b=b.length&&new RegExp(b.join("|")),t=Q.test(h.compareDocumentPosition),v=t||Q.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},T=t?function(e,t){if(e===t)return p=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===i?e===d||e.ownerDocument===x&&v(x,e)?-1:t===d||t.ownerDocument===x&&v(x,t)?1:c?D(c,e)-D(c,t):0:4&i?-1:1)}:function(e,t){if(e===t)return p=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,s=[e],a=[t];if(!r||!o)return e===d?-1:t===d?1:r?-1:o?1:c?D(c,e)-D(c,t):0;if(r===o)return ue(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?ue(s[i],a[i]):s[i]===x?-1:a[i]===x?1:0},d):d},re.matches=function(e,t){return re(e,null,null,t)},re.matchesSelector=function(e,t){if((e.ownerDocument||e)!==d&&f(e),t=t.replace(W,"='$1']"),n.matchesSelector&&m&&!E[t+" "]&&(!b||!b.test(t))&&(!g||!g.test(t)))try{var i=y.call(e,t);if(i||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return re(t,d,null,[e]).length>0},re.contains=function(e,t){return(e.ownerDocument||e)!==d&&f(e),v(e,t)},re.attr=function(e,t){(e.ownerDocument||e)!==d&&f(e);var r=i.attrHandle[t.toLowerCase()],o=r&&N.call(i.attrHandle,t.toLowerCase())?r(e,t,!m):void 0;return void 0!==o?o:n.attributes||!m?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},re.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},re.uniqueSort=function(e){var t,i=[],r=0,o=0;if(p=!n.detectDuplicates,c=!n.sortStable&&e.slice(0),e.sort(T),p){for(;t=e[o++];)t===e[o]&&(r=i.push(o));for(;r--;)e.splice(i[r],1)}return c=null,e},r=re.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=r(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=r(t);return n},(i=re.selectors={cacheLength:50,createPseudo:se,match:K,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||re.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&re.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return K.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&V.test(n)&&(t=s(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=S[e+" "];return t||(t=new RegExp("(^|"+F+")"+e+"("+F+"|$)"))&&S(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(i){var r=re.attr(i,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r.replace(z," ")+" ").indexOf(n)>-1:"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var u,c,p,f,d,h,m=o!==s?"nextSibling":"previousSibling",g=t.parentNode,b=a&&t.nodeName.toLowerCase(),y=!l&&!a,v=!1;if(g){if(o){for(;m;){for(f=t;f=f[m];)if(a?f.nodeName.toLowerCase()===b:1===f.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[s?g.firstChild:g.lastChild],s&&y){for(v=(d=(u=(c=(p=(f=g)[_]||(f[_]={}))[f.uniqueID]||(p[f.uniqueID]={}))[e]||[])[0]===w&&u[1])&&u[2],f=d&&g.childNodes[d];f=++d&&f&&f[m]||(v=d=0)||h.pop();)if(1===f.nodeType&&++v&&f===t){c[e]=[w,d,v];break}}else if(y&&(v=d=(u=(c=(p=(f=t)[_]||(f[_]={}))[f.uniqueID]||(p[f.uniqueID]={}))[e]||[])[0]===w&&u[1]),!1===v)for(;(f=++d&&f&&f[m]||(v=d=0)||h.pop())&&((a?f.nodeName.toLowerCase()!==b:1!==f.nodeType)||!++v||(y&&((c=(p=f[_]||(f[_]={}))[f.uniqueID]||(p[f.uniqueID]={}))[e]=[w,v]),f!==t)););return(v-=r)===i||v%i==0&&v/i>=0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||re.error("unsupported pseudo: "+e);return r[_]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?se(function(e,n){for(var i,o=r(e,t),s=o.length;s--;)e[i=D(e,o[s])]=!(n[i]=o[s])}):function(e){return r(e,0,n)}):r}},pseudos:{not:se(function(e){var t=[],n=[],i=a(e.replace(q,"$1"));return i[_]?se(function(e,t,n,r){for(var o,s=i(e,null,r,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:se(function(e){return function(t){return re(e,t).length>0}}),contains:se(function(e){return e=e.replace(te,ne),function(t){return(t.textContent||t.innerText||r(t)).indexOf(e)>-1}}),lang:se(function(e){return G.test(e||"")||re.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return X.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:fe(function(){return[0]}),last:fe(function(e,t){return[t-1]}),eq:fe(function(e,t,n){return[n<0?n+t:n]}),even:fe(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:fe(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:fe(function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e}),gt:fe(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=ce(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=pe(t);function he(){}function me(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function ge(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=k++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,s){var a,l,u,c=[w,o];if(s){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,s))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if((a=(l=(u=t[_]||(t[_]={}))[t.uniqueID]||(u[t.uniqueID]={}))[i])&&a[0]===w&&a[1]===o)return c[2]=a[2];if(l[i]=c,c[2]=e(t,n,s))return!0}}}function be(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function ye(e,t,n,i,r){for(var o,s=[],a=0,l=e.length,u=null!=t;a<l;a++)(o=e[a])&&(n&&!n(o,i,r)||(s.push(o),u&&t.push(a)));return s}function ve(e,t,n,i,r,o){return i&&!i[_]&&(i=ve(i)),r&&!r[_]&&(r=ve(r,o)),se(function(o,s,a,l){var u,c,p,f=[],d=[],h=s.length,m=o||function(e,t,n){for(var i=0,r=t.length;i<r;i++)re(e,t[i],n);return n}(t||"*",a.nodeType?[a]:a,[]),g=!e||!o&&t?m:ye(m,f,e,a,l),b=n?r||(o?e:h||i)?[]:s:g;if(n&&n(g,b,a,l),i)for(u=ye(b,d),i(u,[],a,l),c=u.length;c--;)(p=u[c])&&(b[d[c]]=!(g[d[c]]=p));if(o){if(r||e){if(r){for(u=[],c=b.length;c--;)(p=b[c])&&u.push(g[c]=p);r(null,b=[],u,l)}for(c=b.length;c--;)(p=b[c])&&(u=r?D(o,p):f[c])>-1&&(o[u]=!(s[u]=p))}}else b=ye(b===s?b.splice(h,b.length):b),r?r(null,s,b,l):L.apply(s,b)})}function _e(e){for(var t,n,r,o=e.length,s=i.relative[e[0].type],a=s||i.relative[" "],l=s?1:0,c=ge(function(e){return e===t},a,!0),p=ge(function(e){return D(t,e)>-1},a,!0),f=[function(e,n,i){var r=!s&&(i||n!==u)||((t=n).nodeType?c(e,n,i):p(e,n,i));return t=null,r}];l<o;l++)if(n=i.relative[e[l].type])f=[ge(be(f),n)];else{if((n=i.filter[e[l].type].apply(null,e[l].matches))[_]){for(r=++l;r<o&&!i.relative[e[r].type];r++);return ve(l>1&&be(f),l>1&&me(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(q,"$1"),n,l<r&&_e(e.slice(l,r)),r<o&&_e(e=e.slice(r)),r<o&&me(e))}f.push(n)}return be(f)}return he.prototype=i.filters=i.pseudos,i.setFilters=new he,s=re.tokenize=function(e,t){var n,r,o,s,a,l,u,c=C[e+" "];if(c)return t?0:c.slice(0);for(a=e,l=[],u=i.preFilter;a;){for(s in n&&!(r=H.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),n=!1,(r=U.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(q," ")}),a=a.slice(n.length)),i.filter)!(r=K[s].exec(a))||u[s]&&!(r=u[s](r))||(n=r.shift(),o.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?re.error(e):C(e,l).slice(0)},a=re.compile=function(e,t){var n,r=[],o=[],a=E[e+" "];if(!a){for(t||(t=s(e)),n=t.length;n--;)(a=_e(t[n]))[_]?r.push(a):o.push(a);(a=E(e,function(e,t){var n=t.length>0,r=e.length>0,o=function(o,s,a,l,c){var p,h,g,b=0,y="0",v=o&&[],_=[],x=u,k=o||r&&i.find.TAG("*",c),S=w+=null==x?1:Math.random()||.1,C=k.length;for(c&&(u=s===d||s||c);y!==C&&null!=(p=k[y]);y++){if(r&&p){for(h=0,s||p.ownerDocument===d||(f(p),a=!m);g=e[h++];)if(g(p,s||d,a)){l.push(p);break}c&&(w=S)}n&&((p=!g&&p)&&b--,o&&v.push(p))}if(b+=y,n&&y!==b){for(h=0;g=t[h++];)g(v,_,s,a);if(o){if(b>0)for(;y--;)v[y]||_[y]||(_[y]=R.call(l));_=ye(_)}L.apply(l,_),c&&!o&&_.length>0&&b+t.length>1&&re.uniqueSort(l)}return c&&(w=S,u=x),v};return n?se(o):o}(o,r))).selector=e}return a},l=re.select=function(e,t,r,o){var l,u,c,p,f,d="function"==typeof e&&e,h=!o&&s(e=d.selector||e);if(r=r||[],1===h.length){if((u=h[0]=h[0].slice(0)).length>2&&"ID"===(c=u[0]).type&&n.getById&&9===t.nodeType&&m&&i.relative[u[1].type]){if(!(t=(i.find.ID(c.matches[0].replace(te,ne),t)||[])[0]))return r;d&&(t=t.parentNode),e=e.slice(u.shift().value.length)}for(l=K.needsContext.test(e)?0:u.length;l--&&(c=u[l],!i.relative[p=c.type]);)if((f=i.find[p])&&(o=f(c.matches[0].replace(te,ne),J.test(u[0].type)&&de(t.parentNode)||t))){if(u.splice(l,1),!(e=o.length&&me(u)))return L.apply(r,o),r;break}}return(d||a(e,h))(o,t,!m,r,!t||J.test(e)&&de(t.parentNode)||t),r},n.sortStable=_.split("").sort(T).join("")===_,n.detectDuplicates=!!p,f(),n.sortDetached=ae(function(e){return 1&e.compareDocumentPosition(d.createElement("div"))}),ae(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||le("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&ae(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||le("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ae(function(e){return null==e.getAttribute("disabled")})||le(I,function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),re}(n);m.find=x,m.expr=x.selectors,m.expr[":"]=m.expr.pseudos,m.uniqueSort=m.unique=x.uniqueSort,m.text=x.getText,m.isXMLDoc=x.isXML,m.contains=x.contains;var w=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&m(e).is(n))break;i.push(e)}return i},k=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},S=m.expr.match.needsContext,C=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,E=/^.[^:#\[\.,]*$/;function T(e,t,n){if(m.isFunction(t))return m.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return m.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(E.test(t))return m.filter(t,e,n);t=m.filter(t,e)}return m.grep(e,function(e){return c.call(t,e)>-1!==n})}m.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?m.find.matchesSelector(i,e)?[i]:[]:m.find.matches(e,m.grep(t,function(e){return 1===e.nodeType}))},m.fn.extend({find:function(e){var t,n=this.length,i=[],r=this;if("string"!=typeof e)return this.pushStack(m(e).filter(function(){for(t=0;t<n;t++)if(m.contains(r[t],this))return!0}));for(t=0;t<n;t++)m.find(e,r[t],i);return(i=this.pushStack(n>1?m.unique(i):i)).selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(T(this,e||[],!1))},not:function(e){return this.pushStack(T(this,e||[],!0))},is:function(e){return!!T(this,"string"==typeof e&&S.test(e)?m(e):e||[],!1).length}});var A,N=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(m.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||A,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:N.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof m?t[0]:t,m.merge(this,m.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:s,!0)),C.test(i[1])&&m.isPlainObject(t))for(i in t)m.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(r=s.getElementById(i[2]))&&r.parentNode&&(this.length=1,this[0]=r),this.context=s,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):m.isFunction(e)?void 0!==n.ready?n.ready(e):e(m):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),m.makeArray(e,this))}).prototype=m.fn,A=m(s);var M=/^(?:parents|prev(?:Until|All))/,R={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}m.fn.extend({has:function(e){var t=m(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(m.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,o=[],s=S.test(e)||"string"!=typeof e?m(e,t||this.context):0;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&m.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?m.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?c.call(m(e),this[0]):c.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(m.uniqueSort(m.merge(this.get(),m(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),m.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return w(e,"parentNode")},parentsUntil:function(e,t,n){return w(e,"parentNode",n)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return w(e,"nextSibling")},prevAll:function(e){return w(e,"previousSibling")},nextUntil:function(e,t,n){return w(e,"nextSibling",n)},prevUntil:function(e,t,n){return w(e,"previousSibling",n)},siblings:function(e){return k((e.parentNode||{}).firstChild,e)},children:function(e){return k(e.firstChild)},contents:function(e){return e.contentDocument||m.merge([],e.childNodes)}},function(e,t){m.fn[e]=function(n,i){var r=m.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=m.filter(i,r)),this.length>1&&(R[e]||m.uniqueSort(r),M.test(e)&&r.reverse()),this.pushStack(r)}});var L,P=/\S+/g;function D(){s.removeEventListener("DOMContentLoaded",D),n.removeEventListener("load",D),m.ready()}m.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return m.each(e.match(P)||[],function(e,n){t[n]=!0}),t}(e):m.extend({},e);var t,n,i,r,o=[],s=[],a=-1,l=function(){for(r=e.once,i=t=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&e.stopOnFalse&&(a=o.length,n=!1);e.memory||(n=!1),t=!1,r&&(o=n?[]:"")},u={add:function(){return o&&(n&&!t&&(a=o.length-1,s.push(n)),function t(n){m.each(n,function(n,i){m.isFunction(i)?e.unique&&u.has(i)||o.push(i):i&&i.length&&"string"!==m.type(i)&&t(i)})}(arguments),n&&!t&&l()),this},remove:function(){return m.each(arguments,function(e,t){for(var n;(n=m.inArray(t,o,n))>-1;)o.splice(n,1),n<=a&&a--}),this},has:function(e){return e?m.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=s=[],n||(o=n=""),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=[e,(n=n||[]).slice?n.slice():n],s.push(n),t||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},m.extend({Deferred:function(e){var t=[["resolve","done",m.Callbacks("once memory"),"resolved"],["reject","fail",m.Callbacks("once memory"),"rejected"],["notify","progress",m.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return m.Deferred(function(n){m.each(t,function(t,o){var s=m.isFunction(e[t])&&e[t];r[o[1]](function(){var e=s&&s.apply(this,arguments);e&&m.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===i?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?m.extend(e,i):i}},r={};return i.pipe=i.then,m.each(t,function(e,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=s.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=a.call(arguments),s=o.length,l=1!==s||e&&m.isFunction(e.promise)?s:0,u=1===l?e:m.Deferred(),c=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?a.call(arguments):r,i===t?u.notifyWith(n,i):--l||u.resolveWith(n,i)}};if(s>1)for(t=new Array(s),n=new Array(s),i=new Array(s);r<s;r++)o[r]&&m.isFunction(o[r].promise)?o[r].promise().progress(c(r,n,t)).done(c(r,i,o)).fail(u.reject):--l;return l||u.resolveWith(i,o),u.promise()}}),m.fn.ready=function(e){return m.ready.promise().done(e),this},m.extend({isReady:!1,readyWait:1,holdReady:function(e){e?m.readyWait++:m.ready(!0)},ready:function(e){(!0===e?--m.readyWait:m.isReady)||(m.isReady=!0,!0!==e&&--m.readyWait>0||(L.resolveWith(s,[m]),m.fn.triggerHandler&&(m(s).triggerHandler("ready"),m(s).off("ready"))))}}),m.ready.promise=function(e){return L||(L=m.Deferred(),"complete"===s.readyState||"loading"!==s.readyState&&!s.documentElement.doScroll?n.setTimeout(m.ready):(s.addEventListener("DOMContentLoaded",D),n.addEventListener("load",D))),L.promise(e)},m.ready.promise();var I=function(e,t,n,i,r,o,s){var a=0,l=e.length,u=null==n;if("object"===m.type(n))for(a in r=!0,n)I(e,t,a,n[a],!0,o,s);else if(void 0!==i&&(r=!0,m.isFunction(i)||(s=!0),u&&(s?(t.call(e,i),t=null):(u=t,t=function(e,t,n){return u.call(m(e),n)})),t))for(;a<l;a++)t(e[a],n,s?i:i.call(e[a],a,t(e[a],n)));return r?e:u?t.call(e):l?t(e[0],n):o},F=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function $(){this.expando=m.expando+$.uid++}$.uid=1,$.prototype={register:function(e,t){var n=t||{};return e.nodeType?e[this.expando]=n:Object.defineProperty(e,this.expando,{value:n,writable:!0,configurable:!0}),e[this.expando]},cache:function(e){if(!F(e))return{};var t=e[this.expando];return t||(t={},F(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[t]=n;else for(i in t)r[i]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,n){var i;return void 0===t||t&&"string"==typeof t&&void 0===n?void 0!==(i=this.get(e,t))?i:this.get(e,m.camelCase(t)):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i,r,o=e[this.expando];if(void 0!==o){if(void 0===t)this.register(e);else{m.isArray(t)?i=t.concat(t.map(m.camelCase)):(r=m.camelCase(t),i=t in o?[t,r]:(i=r)in o?[i]:i.match(P)||[]),n=i.length;for(;n--;)delete o[i[n]]}(void 0===t||m.isEmptyObject(o))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!m.isEmptyObject(t)}};var j=new $,B=new $,z=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,q=/[A-Z]/g;function H(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(q,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:z.test(n)?m.parseJSON(n):n)}catch(e){}B.set(e,t,n)}else n=void 0;return n}m.extend({hasData:function(e){return B.hasData(e)||j.hasData(e)},data:function(e,t,n){return B.access(e,t,n)},removeData:function(e,t){B.remove(e,t)},_data:function(e,t,n){return j.access(e,t,n)},_removeData:function(e,t){j.remove(e,t)}}),m.fn.extend({data:function(e,t){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(r=B.get(o),1===o.nodeType&&!j.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=m.camelCase(i.slice(5)),H(o,i,r[i]));j.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){B.set(this,e)}):I(this,function(t){var n,i;if(o&&void 0===t)return void 0!==(n=B.get(o,e)||B.get(o,e.replace(q,"-$&").toLowerCase()))?n:(i=m.camelCase(e),void 0!==(n=B.get(o,i))?n:void 0!==(n=H(o,i,void 0))?n:void 0);i=m.camelCase(e),this.each(function(){var n=B.get(this,i);B.set(this,i,t),e.indexOf("-")>-1&&void 0!==n&&B.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){B.remove(this,e)})}}),m.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=j.get(e,t),n&&(!i||m.isArray(n)?i=j.access(e,t,m.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=m.queue(e,t),i=n.length,r=n.shift(),o=m._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,function(){m.dequeue(e,t)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return j.get(e,n)||j.access(e,n,{empty:m.Callbacks("once memory").add(function(){j.remove(e,[t+"queue",n])})})}}),m.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?m.queue(this[0],e):void 0===t?this:this.each(function(){var n=m.queue(this,e,t);m._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&m.dequeue(this,e)})},dequeue:function(e){return this.each(function(){m.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=m.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=j.get(o[s],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(t)}});var U=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,W=new RegExp("^(?:([+-])=|)("+U+")([a-z%]*)$","i"),V=["Top","Right","Bottom","Left"],G=function(e,t){return e=t||e,"none"===m.css(e,"display")||!m.contains(e.ownerDocument,e)};function K(e,t,n,i){var r,o=1,s=20,a=i?function(){return i.cur()}:function(){return m.css(e,t,"")},l=a(),u=n&&n[3]||(m.cssNumber[t]?"":"px"),c=(m.cssNumber[t]||"px"!==u&&+l)&&W.exec(m.css(e,t));if(c&&c[3]!==u){u=u||c[3],n=n||[],c=+l||1;do{c/=o=o||".5",m.style(e,t,c+u)}while(o!==(o=a()/l)&&1!==o&&--s)}return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=r)),r}var Y=/^(?:checkbox|radio)$/i,X=/<([\w:-]+)/,Q=/^$|\/(?:java|ecma)script/i,Z={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function J(e,t){var n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&m.nodeName(e,t)?m.merge([e],n):n}function ee(e,t){for(var n=0,i=e.length;n<i;n++)j.set(e[n],"globalEval",!t||j.get(t[n],"globalEval"))}Z.optgroup=Z.option,Z.tbody=Z.tfoot=Z.colgroup=Z.caption=Z.thead,Z.th=Z.td;var te,ne,ie=/<|&#?\w+;/;function re(e,t,n,i,r){for(var o,s,a,l,u,c,p=t.createDocumentFragment(),f=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===m.type(o))m.merge(f,o.nodeType?[o]:o);else if(ie.test(o)){for(s=s||p.appendChild(t.createElement("div")),a=(X.exec(o)||["",""])[1].toLowerCase(),l=Z[a]||Z._default,s.innerHTML=l[1]+m.htmlPrefilter(o)+l[2],c=l[0];c--;)s=s.lastChild;m.merge(f,s.childNodes),(s=p.firstChild).textContent=""}else f.push(t.createTextNode(o));for(p.textContent="",d=0;o=f[d++];)if(i&&m.inArray(o,i)>-1)r&&r.push(o);else if(u=m.contains(o.ownerDocument,o),s=J(p.appendChild(o),"script"),u&&ee(s),n)for(c=0;o=s[c++];)Q.test(o.type||"")&&n.push(o);return p}te=s.createDocumentFragment().appendChild(s.createElement("div")),(ne=s.createElement("input")).setAttribute("type","radio"),ne.setAttribute("checked","checked"),ne.setAttribute("name","t"),te.appendChild(ne),h.checkClone=te.cloneNode(!0).cloneNode(!0).lastChild.checked,te.innerHTML="<textarea>x</textarea>",h.noCloneChecked=!!te.cloneNode(!0).lastChild.defaultValue;var oe=/^key/,se=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ae=/^([^.]*)(?:\.(.+)|)/;function le(){return!0}function ue(){return!1}function ce(){try{return s.activeElement}catch(e){}}function pe(e,t,n,i,r,o){var s,a;if("object"==typeof t){for(a in"string"!=typeof n&&(i=i||n,n=void 0),t)pe(e,a,n,i,t[a],o);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=ue;else if(!r)return e;return 1===o&&(s=r,(r=function(e){return m().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=m.guid++)),e.each(function(){m.event.add(this,t,r,i,n)})}m.event={global:{},add:function(e,t,n,i,r){var o,s,a,l,u,c,p,f,d,h,g,b=j.get(e);if(b)for(n.handler&&(n=(o=n).handler,r=o.selector),n.guid||(n.guid=m.guid++),(l=b.events)||(l=b.events={}),(s=b.handle)||(s=b.handle=function(t){return void 0!==m&&m.event.triggered!==t.type?m.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(P)||[""]).length;u--;)d=g=(a=ae.exec(t[u])||[])[1],h=(a[2]||"").split(".").sort(),d&&(p=m.event.special[d]||{},d=(r?p.delegateType:p.bindType)||d,p=m.event.special[d]||{},c=m.extend({type:d,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&m.expr.match.needsContext.test(r),namespace:h.join(".")},o),(f=l[d])||((f=l[d]=[]).delegateCount=0,p.setup&&!1!==p.setup.call(e,i,h,s)||e.addEventListener&&e.addEventListener(d,s)),p.add&&(p.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,c):f.push(c),m.event.global[d]=!0)},remove:function(e,t,n,i,r){var o,s,a,l,u,c,p,f,d,h,g,b=j.hasData(e)&&j.get(e);if(b&&(l=b.events)){for(u=(t=(t||"").match(P)||[""]).length;u--;)if(d=g=(a=ae.exec(t[u])||[])[1],h=(a[2]||"").split(".").sort(),d){for(p=m.event.special[d]||{},f=l[d=(i?p.delegateType:p.bindType)||d]||[],a=a[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=f.length;o--;)c=f[o],!r&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(f.splice(o,1),c.selector&&f.delegateCount--,p.remove&&p.remove.call(e,c));s&&!f.length&&(p.teardown&&!1!==p.teardown.call(e,h,b.handle)||m.removeEvent(e,d,b.handle),delete l[d])}else for(d in l)m.event.remove(e,d+t[u],n,i,!0);m.isEmptyObject(l)&&j.remove(e,"handle events")}},dispatch:function(e){e=m.event.fix(e);var t,n,i,r,o,s,l=a.call(arguments),u=(j.get(this,"events")||{})[e.type]||[],c=m.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(s=m.event.handlers.call(this,e,u),t=0;(r=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(o.namespace)||(e.handleObj=o,e.data=o.data,void 0!==(i=((m.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l))&&!1===(e.result=i)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,o,s=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(i=[],n=0;n<a;n++)void 0===i[r=(o=t[n]).selector+" "]&&(i[r]=o.needsContext?m(r,this).index(l)>-1:m.find(r,this,null,[l]).length),i[r]&&i.push(o);i.length&&s.push({elem:l,handlers:i})}return a<t.length&&s.push({elem:this,handlers:t.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,o=t.button;return null==e.pageX&&null!=t.clientX&&(i=(n=e.target.ownerDocument||s).documentElement,r=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[m.expando])return e;var t,n,i,r=e.type,o=e,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=se.test(r)?this.mouseHooks:oe.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new m.Event(o),t=i.length;t--;)e[n=i[t]]=o[n];return e.target||(e.target=s),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ce()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===ce()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&m.nodeName(this,"input"))return this.click(),!1},_default:function(e){return m.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},m.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},m.Event=function(e,t){if(!(this instanceof m.Event))return new m.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?le:ue):this.type=e,t&&m.extend(this,t),this.timeStamp=e&&e.timeStamp||m.now(),this[m.expando]=!0},m.Event.prototype={constructor:m.Event,isDefaultPrevented:ue,isPropagationStopped:ue,isImmediatePropagationStopped:ue,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=le,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=le,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=le,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){m.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=e.relatedTarget,r=e.handleObj;return i&&(i===this||m.contains(this,i))||(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}}),m.fn.extend({on:function(e,t,n,i){return pe(this,e,t,n,i)},one:function(e,t,n,i){return pe(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,m(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=ue),this.each(function(){m.event.remove(this,e,n,t)})}});var fe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,de=/<script|<style|<link/i,he=/checked\s*(?:[^=]|=\s*.checked.)/i,me=/^true\/(.*)/,ge=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function be(e,t){return m.nodeName(e,"table")&&m.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function ye(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function ve(e){var t=me.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function _e(e,t){var n,i,r,o,s,a,l,u;if(1===t.nodeType){if(j.hasData(e)&&(o=j.access(e),s=j.set(t,o),u=o.events))for(r in delete s.handle,s.events={},u)for(n=0,i=u[r].length;n<i;n++)m.event.add(t,r,u[r][n]);B.hasData(e)&&(a=B.access(e),l=m.extend({},a),B.set(t,l))}}function xe(e,t,n,i){t=l.apply([],t);var r,o,s,a,u,c,p=0,f=e.length,d=f-1,g=t[0],b=m.isFunction(g);if(b||f>1&&"string"==typeof g&&!h.checkClone&&he.test(g))return e.each(function(r){var o=e.eq(r);b&&(t[0]=g.call(this,r,o.html())),xe(o,t,n,i)});if(f&&(o=(r=re(t,e[0].ownerDocument,!1,e,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(a=(s=m.map(J(r,"script"),ye)).length;p<f;p++)u=r,p!==d&&(u=m.clone(u,!0,!0),a&&m.merge(s,J(u,"script"))),n.call(e[p],u,p);if(a)for(c=s[s.length-1].ownerDocument,m.map(s,ve),p=0;p<a;p++)u=s[p],Q.test(u.type||"")&&!j.access(u,"globalEval")&&m.contains(c,u)&&(u.src?m._evalUrl&&m._evalUrl(u.src):m.globalEval(u.textContent.replace(ge,"")))}return e}function we(e,t,n){for(var i,r=t?m.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||m.cleanData(J(i)),i.parentNode&&(n&&m.contains(i.ownerDocument,i)&&ee(J(i,"script")),i.parentNode.removeChild(i));return e}m.extend({htmlPrefilter:function(e){return e.replace(fe,"<$1></$2>")},clone:function(e,t,n){var i,r,o,s,a,l,u,c=e.cloneNode(!0),p=m.contains(e.ownerDocument,e);if(!(h.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||m.isXMLDoc(e)))for(s=J(c),i=0,r=(o=J(e)).length;i<r;i++)a=o[i],l=s[i],u=void 0,"input"===(u=l.nodeName.toLowerCase())&&Y.test(a.type)?l.checked=a.checked:"input"!==u&&"textarea"!==u||(l.defaultValue=a.defaultValue);if(t)if(n)for(o=o||J(e),s=s||J(c),i=0,r=o.length;i<r;i++)_e(o[i],s[i]);else _e(e,c);return(s=J(c,"script")).length>0&&ee(s,!p&&J(e,"script")),c},cleanData:function(e){for(var t,n,i,r=m.event.special,o=0;void 0!==(n=e[o]);o++)if(F(n)){if(t=n[j.expando]){if(t.events)for(i in t.events)r[i]?m.event.remove(n,i):m.removeEvent(n,i,t.handle);n[j.expando]=void 0}n[B.expando]&&(n[B.expando]=void 0)}}}),m.fn.extend({domManip:xe,detach:function(e){return we(this,e,!0)},remove:function(e){return we(this,e)},text:function(e){return I(this,function(e){return void 0===e?m.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return xe(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||be(this,e).appendChild(e)})},prepend:function(){return xe(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=be(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return xe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return xe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(m.cleanData(J(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return m.clone(this,e,t)})},html:function(e){return I(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!de.test(e)&&!Z[(X.exec(e)||["",""])[1].toLowerCase()]){e=m.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(m.cleanData(J(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return xe(this,arguments,function(t){var n=this.parentNode;m.inArray(this,e)<0&&(m.cleanData(J(this)),n&&n.replaceChild(t,this))},e)}}),m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){m.fn[e]=function(e){for(var n,i=[],r=m(e),o=r.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),m(r[s])[t](n),u.apply(i,n.get());return this.pushStack(i)}});var ke,Se={HTML:"block",BODY:"block"};function Ce(e,t){var n=m(t.createElement(e)).appendTo(t.body),i=m.css(n[0],"display");return n.detach(),i}function Ee(e){var t=s,n=Se[e];return n||("none"!==(n=Ce(e,t))&&n||((t=(ke=(ke||m("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentDocument).write(),t.close(),n=Ce(e,t),ke.detach()),Se[e]=n),n}var Te=/^margin/,Ae=new RegExp("^("+U+")(?!px)[a-z%]+$","i"),Ne=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)},Me=function(e,t,n,i){var r,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];for(o in r=n.apply(e,i||[]),t)e.style[o]=s[o];return r},Re=s.documentElement;function Oe(e,t,n){var i,r,o,s,a=e.style;return""!==(s=(n=n||Ne(e))?n.getPropertyValue(t)||n[t]:void 0)&&void 0!==s||m.contains(e.ownerDocument,e)||(s=m.style(e,t)),n&&!h.pixelMarginRight()&&Ae.test(s)&&Te.test(t)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o),void 0!==s?s+"":s}function Le(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){var e,t,i,r,o=s.createElement("div"),a=s.createElement("div");function l(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",Re.appendChild(o);var s=n.getComputedStyle(a);e="1%"!==s.top,r="2px"===s.marginLeft,t="4px"===s.width,a.style.marginRight="50%",i="4px"===s.marginRight,Re.removeChild(o)}a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",h.clearCloneStyle="content-box"===a.style.backgroundClip,o.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",o.appendChild(a),m.extend(h,{pixelPosition:function(){return l(),e},boxSizingReliable:function(){return null==t&&l(),t},pixelMarginRight:function(){return null==t&&l(),i},reliableMarginLeft:function(){return null==t&&l(),r},reliableMarginRight:function(){var e,t=a.appendChild(s.createElement("div"));return t.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",a.style.width="1px",Re.appendChild(o),e=!parseFloat(n.getComputedStyle(t).marginRight),Re.removeChild(o),a.removeChild(t),e}}))}();var Pe=/^(none|table(?!-c[ea]).+)/,De={position:"absolute",visibility:"hidden",display:"block"},Ie={letterSpacing:"0",fontWeight:"400"},Fe=["Webkit","O","Moz","ms"],$e=s.createElement("div").style;function je(e){if(e in $e)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=Fe.length;n--;)if((e=Fe[n]+t)in $e)return e}function Be(e,t,n){var i=W.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function ze(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,s=0;o<4;o+=2)"margin"===n&&(s+=m.css(e,n+V[o],!0,r)),i?("content"===n&&(s-=m.css(e,"padding"+V[o],!0,r)),"margin"!==n&&(s-=m.css(e,"border"+V[o]+"Width",!0,r))):(s+=m.css(e,"padding"+V[o],!0,r),"padding"!==n&&(s+=m.css(e,"border"+V[o]+"Width",!0,r)));return s}function qe(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=Ne(e),s="border-box"===m.css(e,"boxSizing",!1,o);if(r<=0||null==r){if(((r=Oe(e,t,o))<0||null==r)&&(r=e.style[t]),Ae.test(r))return r;i=s&&(h.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+ze(e,t,n||(s?"border":"content"),i,o)+"px"}function He(e,t){for(var n,i,r,o=[],s=0,a=e.length;s<a;s++)(i=e[s]).style&&(o[s]=j.get(i,"olddisplay"),n=i.style.display,t?(o[s]||"none"!==n||(i.style.display=""),""===i.style.display&&G(i)&&(o[s]=j.access(i,"olddisplay",Ee(i.nodeName)))):(r=G(i),"none"===n&&r||j.set(i,"olddisplay",r?n:m.css(i,"display"))));for(s=0;s<a;s++)(i=e[s]).style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[s]||"":"none"));return e}function Ue(e,t,n,i,r){return new Ue.prototype.init(e,t,n,i,r)}m.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Oe(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,s,a=m.camelCase(t),l=e.style;if(t=m.cssProps[a]||(m.cssProps[a]=je(a)||a),s=m.cssHooks[t]||m.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(e,!1,i))?r:l[t];"string"===(o=typeof n)&&(r=W.exec(n))&&r[1]&&(n=K(e,t,r),o="number"),null!=n&&n==n&&("number"===o&&(n+=r&&r[3]||(m.cssNumber[a]?"":"px")),h.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,i))||(l[t]=n))}},css:function(e,t,n,i){var r,o,s,a=m.camelCase(t);return t=m.cssProps[a]||(m.cssProps[a]=je(a)||a),(s=m.cssHooks[t]||m.cssHooks[a])&&"get"in s&&(r=s.get(e,!0,n)),void 0===r&&(r=Oe(e,t,i)),"normal"===r&&t in Ie&&(r=Ie[t]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),m.each(["height","width"],function(e,t){m.cssHooks[t]={get:function(e,n,i){if(n)return Pe.test(m.css(e,"display"))&&0===e.offsetWidth?Me(e,De,function(){return qe(e,t,i)}):qe(e,t,i)},set:function(e,n,i){var r,o=i&&Ne(e),s=i&&ze(e,t,i,"border-box"===m.css(e,"boxSizing",!1,o),o);return s&&(r=W.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=m.css(e,t)),Be(0,n,s)}}}),m.cssHooks.marginLeft=Le(h.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Oe(e,"marginLeft"))||e.getBoundingClientRect().left-Me(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),m.cssHooks.marginRight=Le(h.reliableMarginRight,function(e,t){if(t)return Me(e,{display:"inline-block"},Oe,[e,"marginRight"])}),m.each({margin:"",padding:"",border:"Width"},function(e,t){m.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+V[i]+t]=o[i]||o[i-2]||o[0];return r}},Te.test(e)||(m.cssHooks[e+t].set=Be)}),m.fn.extend({css:function(e,t){return I(this,function(e,t,n){var i,r,o={},s=0;if(m.isArray(t)){for(i=Ne(e),r=t.length;s<r;s++)o[t[s]]=m.css(e,t[s],!1,i);return o}return void 0!==n?m.style(e,t,n):m.css(e,t)},e,t,arguments.length>1)},show:function(){return He(this,!0)},hide:function(){return He(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){G(this)?m(this).show():m(this).hide()})}}),m.Tween=Ue,Ue.prototype={constructor:Ue,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||m.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(m.cssNumber[n]?"":"px")},cur:function(){var e=Ue.propHooks[this.prop];return e&&e.get?e.get(this):Ue.propHooks._default.get(this)},run:function(e){var t,n=Ue.propHooks[this.prop];return this.options.duration?this.pos=t=m.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Ue.propHooks._default.set(this),this}},Ue.prototype.init.prototype=Ue.prototype,Ue.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=m.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){m.fx.step[e.prop]?m.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[m.cssProps[e.prop]]&&!m.cssHooks[e.prop]?e.elem[e.prop]=e.now:m.style(e.elem,e.prop,e.now+e.unit)}}},Ue.propHooks.scrollTop=Ue.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},m.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},m.fx=Ue.prototype.init,m.fx.step={};var We,Ve,Ge=/^(?:toggle|show|hide)$/,Ke=/queueHooks$/;function Ye(){return n.setTimeout(function(){We=void 0}),We=m.now()}function Xe(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=V[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function Qe(e,t,n){for(var i,r=(Ze.tweeners[t]||[]).concat(Ze.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,t,e))return i}function Ze(e,t,n){var i,r,o=0,s=Ze.prefilters.length,a=m.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=We||Ye(),n=Math.max(0,u.startTime+u.duration-t),i=1-(n/u.duration||0),o=0,s=u.tweens.length;o<s;o++)u.tweens[o].run(i);return a.notifyWith(e,[u,i,n]),i<1&&s?n:(a.resolveWith(e,[u]),!1)},u=a.promise({elem:e,props:m.extend({},t),opts:m.extend(!0,{specialEasing:{},easing:m.easing._default},n),originalProperties:t,originalOptions:n,startTime:We||Ye(),duration:n.duration,tweens:[],createTween:function(t,n){var i=m.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){var n=0,i=t?u.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)u.tweens[n].run(1);return t?(a.notifyWith(e,[u,1,0]),a.resolveWith(e,[u,t])):a.rejectWith(e,[u,t]),this}}),c=u.props;for(!function(e,t){var n,i,r,o,s;for(n in e)if(r=t[i=m.camelCase(n)],o=e[n],m.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(s=m.cssHooks[i])&&"expand"in s)for(n in o=s.expand(o),delete e[i],o)n in e||(e[n]=o[n],t[n]=r);else t[i]=r}(c,u.opts.specialEasing);o<s;o++)if(i=Ze.prefilters[o].call(u,e,c,u.opts))return m.isFunction(i.stop)&&(m._queueHooks(u.elem,u.opts.queue).stop=m.proxy(i.stop,i)),i;return m.map(c,Qe,u),m.isFunction(u.opts.start)&&u.opts.start.call(e,u),m.fx.timer(m.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}m.Animation=m.extend(Ze,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return K(n.elem,e,W.exec(t),n),n}]},tweener:function(e,t){m.isFunction(e)?(t=e,e=["*"]):e=e.match(P);for(var n,i=0,r=e.length;i<r;i++)n=e[i],Ze.tweeners[n]=Ze.tweeners[n]||[],Ze.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,r,o,s,a,l,u,c=this,p={},f=e.style,d=e.nodeType&&G(e),h=j.get(e,"fxshow");for(i in n.queue||(null==(a=m._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,c.always(function(){c.always(function(){a.unqueued--,m.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],"inline"===("none"===(u=m.css(e,"display"))?j.get(e,"olddisplay")||Ee(e.nodeName):u)&&"none"===m.css(e,"float")&&(f.display="inline-block")),n.overflow&&(f.overflow="hidden",c.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),t)if(r=t[i],Ge.exec(r)){if(delete t[i],o=o||"toggle"===r,r===(d?"hide":"show")){if("show"!==r||!h||void 0===h[i])continue;d=!0}p[i]=h&&h[i]||m.style(e,i)}else u=void 0;if(m.isEmptyObject(p))"inline"===("none"===u?Ee(e.nodeName):u)&&(f.display=u);else for(i in h?"hidden"in h&&(d=h.hidden):h=j.access(e,"fxshow",{}),o&&(h.hidden=!d),d?m(e).show():c.done(function(){m(e).hide()}),c.done(function(){var t;for(t in j.remove(e,"fxshow"),p)m.style(e,t,p[t])}),p)s=Qe(d?h[i]:0,i,c),i in h||(h[i]=s.start,d&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}],prefilter:function(e,t){t?Ze.prefilters.unshift(e):Ze.prefilters.push(e)}}),m.speed=function(e,t,n){var i=e&&"object"==typeof e?m.extend({},e):{complete:n||!n&&t||m.isFunction(e)&&e,duration:e,easing:n&&t||t&&!m.isFunction(t)&&t};return i.duration=m.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in m.fx.speeds?m.fx.speeds[i.duration]:m.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){m.isFunction(i.old)&&i.old.call(this),i.queue&&m.dequeue(this,i.queue)},i},m.fn.extend({fadeTo:function(e,t,n,i){return this.filter(G).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=m.isEmptyObject(e),o=m.speed(t,n,i),s=function(){var t=Ze(this,m.extend({},e),o);(r||j.get(this,"finish"))&&t.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=m.timers,s=j.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&Ke.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));!t&&n||m.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=j.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=m.timers,s=i?i.length:0;for(n.finish=!0,m.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<s;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),m.each(["toggle","show","hide"],function(e,t){var n=m.fn[t];m.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(Xe(t,!0),e,i,r)}}),m.each({slideDown:Xe("show"),slideUp:Xe("hide"),slideToggle:Xe("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){m.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),m.timers=[],m.fx.tick=function(){var e,t=0,n=m.timers;for(We=m.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||m.fx.stop(),We=void 0},m.fx.timer=function(e){m.timers.push(e),e()?m.fx.start():m.timers.pop()},m.fx.interval=13,m.fx.start=function(){Ve||(Ve=n.setInterval(m.fx.tick,m.fx.interval))},m.fx.stop=function(){n.clearInterval(Ve),Ve=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(e,t){return e=m.fx&&m.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,i){var r=n.setTimeout(t,e);i.stop=function(){n.clearTimeout(r)}})},function(){var e=s.createElement("input"),t=s.createElement("select"),n=t.appendChild(s.createElement("option"));e.type="checkbox",h.checkOn=""!==e.value,h.optSelected=n.selected,t.disabled=!0,h.optDisabled=!n.disabled,(e=s.createElement("input")).value="t",e.type="radio",h.radioValue="t"===e.value}();var Je,et=m.expr.attrHandle;m.fn.extend({attr:function(e,t){return I(this,m.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){m.removeAttr(this,e)})}}),m.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?m.prop(e,t,n):(1===o&&m.isXMLDoc(e)||(t=t.toLowerCase(),r=m.attrHooks[t]||(m.expr.match.bool.test(t)?Je:void 0)),void 0!==n?null===n?void m.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=m.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!h.radioValue&&"radio"===t&&m.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(P);if(o&&1===e.nodeType)for(;n=o[r++];)i=m.propFix[n]||n,m.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)}}),Je={set:function(e,t,n){return!1===t?m.removeAttr(e,n):e.setAttribute(n,n),n}},m.each(m.expr.match.bool.source.match(/\w+/g),function(e,t){var n=et[t]||m.find.attr;et[t]=function(e,t,i){var r,o;return i||(o=et[t],et[t]=r,r=null!=n(e,t,i)?t.toLowerCase():null,et[t]=o),r}});var tt=/^(?:input|select|textarea|button)$/i,nt=/^(?:a|area)$/i;m.fn.extend({prop:function(e,t){return I(this,m.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[m.propFix[e]||e]})}}),m.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&m.isXMLDoc(e)||(t=m.propFix[t]||t,r=m.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=m.find.attr(e,"tabindex");return t?parseInt(t,10):tt.test(e.nodeName)||nt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),h.optSelected||(m.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){m.propFix[this.toLowerCase()]=this});var it=/[\t\r\n\f]/g;function rt(e){return e.getAttribute&&e.getAttribute("class")||""}m.fn.extend({addClass:function(e){var t,n,i,r,o,s,a,l=0;if(m.isFunction(e))return this.each(function(t){m(this).addClass(e.call(this,t,rt(this)))});if("string"==typeof e&&e)for(t=e.match(P)||[];n=this[l++];)if(r=rt(n),i=1===n.nodeType&&(" "+r+" ").replace(it," ")){for(s=0;o=t[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(a=m.trim(i))&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,i,r,o,s,a,l=0;if(m.isFunction(e))return this.each(function(t){m(this).removeClass(e.call(this,t,rt(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(P)||[];n=this[l++];)if(r=rt(n),i=1===n.nodeType&&(" "+r+" ").replace(it," ")){for(s=0;o=t[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(a=m.trim(i))&&n.setAttribute("class",a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):m.isFunction(e)?this.each(function(n){m(this).toggleClass(e.call(this,n,rt(this),t),t)}):this.each(function(){var t,i,r,o;if("string"===n)for(i=0,r=m(this),o=e.match(P)||[];t=o[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else void 0!==e&&"boolean"!==n||((t=rt(this))&&j.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":j.get(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+rt(n)+" ").replace(it," ").indexOf(t)>-1)return!0;return!1}});var ot=/\r/g,st=/[\x20\t\r\n\f]+/g;m.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=m.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?e.call(this,n,m(this).val()):e)?r="":"number"==typeof r?r+="":m.isArray(r)&&(r=m.map(r,function(e){return null==e?"":e+""})),(t=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=m.valHooks[r.type]||m.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(ot,""):null==n?"":n:void 0}}),m.extend({valHooks:{option:{get:function(e){var t=m.find.attr(e,"value");return null!=t?t:m.trim(m.text(e)).replace(st," ")}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||r<0,s=o?null:[],a=o?r+1:i.length,l=r<0?a:o?r:0;l<a;l++)if(((n=i[l]).selected||l===r)&&(h.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!m.nodeName(n.parentNode,"optgroup"))){if(t=m(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,i,r=e.options,o=m.makeArray(t),s=r.length;s--;)((i=r[s]).selected=m.inArray(m.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),m.each(["radio","checkbox"],function(){m.valHooks[this]={set:function(e,t){if(m.isArray(t))return e.checked=m.inArray(m(e).val(),t)>-1}},h.checkOn||(m.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var at=/^(?:focusinfocus|focusoutblur)$/;m.extend(m.event,{trigger:function(e,t,i,r){var o,a,l,u,c,p,f,h=[i||s],g=d.call(e,"type")?e.type:e,b=d.call(e,"namespace")?e.namespace.split("."):[];if(a=l=i=i||s,3!==i.nodeType&&8!==i.nodeType&&!at.test(g+m.event.triggered)&&(g.indexOf(".")>-1&&(b=g.split("."),g=b.shift(),b.sort()),c=g.indexOf(":")<0&&"on"+g,(e=e[m.expando]?e:new m.Event(g,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=b.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),t=null==t?[e]:m.makeArray(t,[e]),f=m.event.special[g]||{},r||!f.trigger||!1!==f.trigger.apply(i,t))){if(!r&&!f.noBubble&&!m.isWindow(i)){for(u=f.delegateType||g,at.test(u+g)||(a=a.parentNode);a;a=a.parentNode)h.push(a),l=a;l===(i.ownerDocument||s)&&h.push(l.defaultView||l.parentWindow||n)}for(o=0;(a=h[o++])&&!e.isPropagationStopped();)e.type=o>1?u:f.bindType||g,(p=(j.get(a,"events")||{})[e.type]&&j.get(a,"handle"))&&p.apply(a,t),(p=c&&a[c])&&p.apply&&F(a)&&(e.result=p.apply(a,t),!1===e.result&&e.preventDefault());return e.type=g,r||e.isDefaultPrevented()||f._default&&!1!==f._default.apply(h.pop(),t)||!F(i)||c&&m.isFunction(i[g])&&!m.isWindow(i)&&((l=i[c])&&(i[c]=null),m.event.triggered=g,i[g](),m.event.triggered=void 0,l&&(i[c]=l)),e.result}},simulate:function(e,t,n){var i=m.extend(new m.Event,n,{type:e,isSimulated:!0});m.event.trigger(i,null,t)}}),m.fn.extend({trigger:function(e,t){return this.each(function(){m.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return m.event.trigger(e,t,n,!0)}}),m.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){m.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),m.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),h.focusin="onfocusin"in n,h.focusin||m.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){m.event.simulate(t,e.target,m.event.fix(e))};m.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=j.access(i,t);r||i.addEventListener(e,n,!0),j.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=j.access(i,t)-1;r?j.access(i,t,r):(i.removeEventListener(e,n,!0),j.remove(i,t))}}});var lt=n.location,ut=m.now(),ct=/\?/;m.parseJSON=function(e){return JSON.parse(e+"")},m.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||m.error("Invalid XML: "+e),t};var pt=/#.*$/,ft=/([?&])_=[^&]*/,dt=/^(.*?):[ \t]*([^\r\n]*)$/gm,ht=/^(?:GET|HEAD)$/,mt=/^\/\//,gt={},bt={},yt="*/".concat("*"),vt=s.createElement("a");function _t(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(P)||[];if(m.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function xt(e,t,n,i){var r={},o=e===bt;function s(a){var l;return r[a]=!0,m.each(e[a]||[],function(e,a){var u=a(t,n,i);return"string"!=typeof u||o||r[u]?o?!(l=u):void 0:(t.dataTypes.unshift(u),s(u),!1)}),l}return s(t.dataTypes[0])||!r["*"]&&s("*")}function wt(e,t){var n,i,r=m.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&m.extend(!0,e,i),e}vt.href=lt.href,m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:lt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(lt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":yt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":m.parseJSON,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?wt(wt(e,m.ajaxSettings),t):wt(m.ajaxSettings,e)},ajaxPrefilter:_t(gt),ajaxTransport:_t(bt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,r,o,a,l,u,c,p,f=m.ajaxSetup({},t),d=f.context||f,h=f.context&&(d.nodeType||d.jquery)?m(d):m.event,g=m.Deferred(),b=m.Callbacks("once memory"),y=f.statusCode||{},v={},_={},x=0,w="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!a)for(a={};t=dt.exec(o);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=_[n]=_[n]||e,v[e]=t),this},overrideMimeType:function(e){return x||(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(x<2)for(t in e)y[t]=[y[t],e[t]];else k.always(e[k.status]);return this},abort:function(e){var t=e||w;return i&&i.abort(t),S(0,t),this}};if(g.promise(k).complete=b.add,k.success=k.done,k.error=k.fail,f.url=((e||f.url||lt.href)+"").replace(pt,"").replace(mt,lt.protocol+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=m.trim(f.dataType||"*").toLowerCase().match(P)||[""],null==f.crossDomain){u=s.createElement("a");try{u.href=f.url,u.href=u.href,f.crossDomain=vt.protocol+"//"+vt.host!=u.protocol+"//"+u.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=m.param(f.data,f.traditional)),xt(gt,f,t,k),2===x)return k;for(p in(c=m.event&&f.global)&&0==m.active++&&m.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!ht.test(f.type),r=f.url,f.hasContent||(f.data&&(r=f.url+=(ct.test(r)?"&":"?")+f.data,delete f.data),!1===f.cache&&(f.url=ft.test(r)?r.replace(ft,"$1_="+ut++):r+(ct.test(r)?"&":"?")+"_="+ut++)),f.ifModified&&(m.lastModified[r]&&k.setRequestHeader("If-Modified-Since",m.lastModified[r]),m.etag[r]&&k.setRequestHeader("If-None-Match",m.etag[r])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&k.setRequestHeader("Content-Type",f.contentType),k.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+yt+"; q=0.01":""):f.accepts["*"]),f.headers)k.setRequestHeader(p,f.headers[p]);if(f.beforeSend&&(!1===f.beforeSend.call(d,k,f)||2===x))return k.abort();for(p in w="abort",{success:1,error:1,complete:1})k[p](f[p]);if(i=xt(bt,f,t,k)){if(k.readyState=1,c&&h.trigger("ajaxSend",[k,f]),2===x)return k;f.async&&f.timeout>0&&(l=n.setTimeout(function(){k.abort("timeout")},f.timeout));try{x=1,i.send(v,S)}catch(e){if(!(x<2))throw e;S(-1,e)}}else S(-1,"No Transport");function S(e,t,s,a){var u,p,v,_,w,S=t;2!==x&&(x=2,l&&n.clearTimeout(l),i=void 0,o=a||"",k.readyState=e>0?4:0,u=e>=200&&e<300||304===e,s&&(_=function(e,t,n){for(var i,r,o,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),n[o]}(f,k,s)),_=function(e,t,n,i){var r,o,s,a,l,u={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)u[s.toLowerCase()]=e.converters[s];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=u[l+" "+o]||u["* "+o]))for(r in u)if((a=r.split(" "))[1]===o&&(s=u[l+" "+a[0]]||u["* "+a[0]])){!0===s?s=u[r]:!0!==u[r]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(f,_,k,u),u?(f.ifModified&&((w=k.getResponseHeader("Last-Modified"))&&(m.lastModified[r]=w),(w=k.getResponseHeader("etag"))&&(m.etag[r]=w)),204===e||"HEAD"===f.type?S="nocontent":304===e?S="notmodified":(S=_.state,p=_.data,u=!(v=_.error))):(v=S,!e&&S||(S="error",e<0&&(e=0))),k.status=e,k.statusText=(t||S)+"",u?g.resolveWith(d,[p,S,k]):g.rejectWith(d,[k,S,v]),k.statusCode(y),y=void 0,c&&h.trigger(u?"ajaxSuccess":"ajaxError",[k,f,u?p:v]),b.fireWith(d,[k,S]),c&&(h.trigger("ajaxComplete",[k,f]),--m.active||m.event.trigger("ajaxStop")))}return k},getJSON:function(e,t,n){return m.get(e,t,n,"json")},getScript:function(e,t){return m.get(e,void 0,t,"script")}}),m.each(["get","post"],function(e,t){m[t]=function(e,n,i,r){return m.isFunction(n)&&(r=r||i,i=n,n=void 0),m.ajax(m.extend({url:e,type:t,dataType:r,data:n,success:i},m.isPlainObject(e)&&e))}}),m._evalUrl=function(e){return m.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},m.fn.extend({wrapAll:function(e){var t;return m.isFunction(e)?this.each(function(t){m(this).wrapAll(e.call(this,t))}):(this[0]&&(t=m(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return m.isFunction(e)?this.each(function(t){m(this).wrapInner(e.call(this,t))}):this.each(function(){var t=m(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=m.isFunction(e);return this.each(function(n){m(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){m.nodeName(this,"body")||m(this).replaceWith(this.childNodes)}).end()}}),m.expr.filters.hidden=function(e){return!m.expr.filters.visible(e)},m.expr.filters.visible=function(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0};var kt=/%20/g,St=/\[\]$/,Ct=/\r?\n/g,Et=/^(?:submit|button|image|reset|file)$/i,Tt=/^(?:input|select|textarea|keygen)/i;function At(e,t,n,i){var r;if(m.isArray(t))m.each(t,function(t,r){n||St.test(e)?i(e,r):At(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)});else if(n||"object"!==m.type(t))i(e,t);else for(r in t)At(e+"["+r+"]",t[r],n,i)}m.param=function(e,t){var n,i=[],r=function(e,t){t=m.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=m.ajaxSettings&&m.ajaxSettings.traditional),m.isArray(e)||e.jquery&&!m.isPlainObject(e))m.each(e,function(){r(this.name,this.value)});else for(n in e)At(n,e[n],t,r);return i.join("&").replace(kt,"+")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=m.prop(this,"elements");return e?m.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!m(this).is(":disabled")&&Tt.test(this.nodeName)&&!Et.test(e)&&(this.checked||!Y.test(e))}).map(function(e,t){var n=m(this).val();return null==n?null:m.isArray(n)?m.map(n,function(e){return{name:t.name,value:e.replace(Ct,"\r\n")}}):{name:t.name,value:n.replace(Ct,"\r\n")}}).get()}}),m.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var Nt={0:200,1223:204},Mt=m.ajaxSettings.xhr();h.cors=!!Mt&&"withCredentials"in Mt,h.ajax=Mt=!!Mt,m.ajaxTransport(function(e){var t,i;if(h.cors||Mt&&!e.crossDomain)return{send:function(r,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];for(s in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(s,r[s]);t=function(e){return function(){t&&(t=i=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Nt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=t(),i=a.onerror=t("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&n.setTimeout(function(){t&&i()})},t=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return m.globalEval(e),e}}}),m.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),m.ajaxTransport("script",function(e){var t,n;if(e.crossDomain)return{send:function(i,r){t=m("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),s.head.appendChild(t[0])},abort:function(){n&&n()}}});var Rt=[],Ot=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Rt.pop()||m.expando+"_"+ut++;return this[e]=!0,e}}),m.ajaxPrefilter("json jsonp",function(e,t,i){var r,o,s,a=!1!==e.jsonp&&(Ot.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ot.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=m.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ot,"$1"+r):!1!==e.jsonp&&(e.url+=(ct.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||m.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=n[r],n[r]=function(){s=arguments},i.always(function(){void 0===o?m(n).removeProp(r):n[r]=o,e[r]&&(e.jsonpCallback=t.jsonpCallback,Rt.push(r)),s&&m.isFunction(o)&&o(s[0]),s=o=void 0}),"script"}),m.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||s;var i=C.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=re([e],t,r),r&&r.length&&m(r).remove(),m.merge([],i.childNodes))};var Lt=m.fn.load;function Pt(e){return m.isWindow(e)?e:9===e.nodeType&&e.defaultView}m.fn.load=function(e,t,n){if("string"!=typeof e&&Lt)return Lt.apply(this,arguments);var i,r,o,s=this,a=e.indexOf(" ");return a>-1&&(i=m.trim(e.slice(a)),e=e.slice(0,a)),m.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),s.length>0&&m.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments,s.html(i?m("<div>").append(m.parseHTML(e)).find(i):e)}).always(n&&function(e,t){s.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){m.fn[t]=function(e){return this.on(t,e)}}),m.expr.filters.animated=function(e){return m.grep(m.timers,function(t){return e===t.elem}).length},m.offset={setOffset:function(e,t,n){var i,r,o,s,a,l,u=m.css(e,"position"),c=m(e),p={};"static"===u&&(e.style.position="relative"),a=c.offset(),o=m.css(e,"top"),l=m.css(e,"left"),("absolute"===u||"fixed"===u)&&(o+l).indexOf("auto")>-1?(s=(i=c.position()).top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),m.isFunction(t)&&(t=t.call(e,n,m.extend({},a))),null!=t.top&&(p.top=t.top-a.top+s),null!=t.left&&(p.left=t.left-a.left+r),"using"in t?t.using.call(e,p):c.css(p)}},m.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){m.offset.setOffset(this,e,t)});var t,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument;return o?(t=o.documentElement,m.contains(t,i)?(r=i.getBoundingClientRect(),n=Pt(o),{top:r.top+n.pageYOffset-t.clientTop,left:r.left+n.pageXOffset-t.clientLeft}):r):void 0},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===m.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),m.nodeName(e[0],"html")||(i=e.offset()),i.top+=m.css(e[0],"borderTopWidth",!0),i.left+=m.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-m.css(n,"marginTop",!0),left:t.left-i.left-m.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===m.css(e,"position");)e=e.offsetParent;return e||Re})}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;m.fn[e]=function(i){return I(this,function(e,i,r){var o=Pt(e);if(void 0===r)return o?o[t]:e[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):e[i]=r},e,i,arguments.length)}}),m.each(["top","left"],function(e,t){m.cssHooks[t]=Le(h.pixelPosition,function(e,n){if(n)return n=Oe(e,t),Ae.test(n)?m(e).position()[t]+"px":n})}),m.each({Height:"height",Width:"width"},function(e,t){m.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){m.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===r?"margin":"border");return I(this,function(t,n,i){var r;return m.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?m.css(t,n,s):m.style(t,n,i,s)},t,o?i:void 0,o,null)}})}),m.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},size:function(){return this.length}}),m.fn.andSelf=m.fn.addBack,void 0===(i=function(){return m}.apply(t,[]))||(e.exports=i);var Dt=n.jQuery,It=n.$;return m.noConflict=function(e){return n.$===m&&(n.$=It),e&&n.jQuery===m&&(n.jQuery=Dt),m},r||(n.jQuery=n.$=m),m},"object"==typeof e.exports?e.exports=r.document?o(r,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return o(e)}:o(r)},function(e,t,n){!function(e){"use strict";function t(e){for(var t={},n=0;n<e.length;++n)t[e[n].toLowerCase()]=!0;return t}e.defineMode("css",function(t,n){var i=n.inline;n.propertyKeywords||(n=e.resolveMode("text/css"));var r,o,s=t.indentUnit,a=n.tokenHooks,l=n.documentTypes||{},u=n.mediaTypes||{},c=n.mediaFeatures||{},p=n.mediaValueKeywords||{},f=n.propertyKeywords||{},d=n.nonStandardPropertyKeywords||{},h=n.fontProperties||{},m=n.counterDescriptors||{},g=n.colorKeywords||{},b=n.valueKeywords||{},y=n.allowNested,v=n.lineComment,_=!0===n.supportsAtComponent;function x(e,t){return r=t,e}function w(e){return function(t,n){for(var i,r=!1;null!=(i=t.next());){if(i==e&&!r){")"==e&&t.backUp(1);break}r=!r&&"\\"==i}return(i==e||!r&&")"!=e)&&(n.tokenize=null),x("string","string")}}function k(e,t){return e.next(),e.match(/\s*[\"\')]/,!1)?t.tokenize=null:t.tokenize=w(")"),x(null,"(")}function S(e,t,n){this.type=e,this.indent=t,this.prev=n}function C(e,t,n,i){return e.context=new S(n,t.indentation()+(!1===i?0:s),e.context),n}function E(e){return e.context.prev&&(e.context=e.context.prev),e.context.type}function T(e,t,n){return M[n.context.type](e,t,n)}function A(e,t,n,i){for(var r=i||1;r>0;r--)n.context=n.context.prev;return T(e,t,n)}function N(e){var t=e.current().toLowerCase();o=b.hasOwnProperty(t)?"atom":g.hasOwnProperty(t)?"keyword":"variable"}var M={top:function(e,t,n){if("{"==e)return C(n,t,"block");if("}"==e&&n.context.prev)return E(n);if(_&&/@component/i.test(e))return C(n,t,"atComponentBlock");if(/^@(-moz-)?document$/i.test(e))return C(n,t,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(e))return C(n,t,"atBlock");if(/^@(font-face|counter-style)/i.test(e))return n.stateArg=e,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(e))return"keyframes";if(e&&"@"==e.charAt(0))return C(n,t,"at");if("hash"==e)o="builtin";else if("word"==e)o="tag";else{if("variable-definition"==e)return"maybeprop";if("interpolation"==e)return C(n,t,"interpolation");if(":"==e)return"pseudo";if(y&&"("==e)return C(n,t,"parens")}return n.context.type},block:function(e,t,n){if("word"==e){var i=t.current().toLowerCase();return f.hasOwnProperty(i)?(o="property","maybeprop"):d.hasOwnProperty(i)?(o="string-2","maybeprop"):y?(o=t.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(o+=" error","maybeprop")}return"meta"==e?"block":y||"hash"!=e&&"qualifier"!=e?M.top(e,t,n):(o="error","block")},maybeprop:function(e,t,n){return":"==e?C(n,t,"prop"):T(e,t,n)},prop:function(e,t,n){if(";"==e)return E(n);if("{"==e&&y)return C(n,t,"propBlock");if("}"==e||"{"==e)return A(e,t,n);if("("==e)return C(n,t,"parens");if("hash"!=e||/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(t.current())){if("word"==e)N(t);else if("interpolation"==e)return C(n,t,"interpolation")}else o+=" error";return"prop"},propBlock:function(e,t,n){return"}"==e?E(n):"word"==e?(o="property","maybeprop"):n.context.type},parens:function(e,t,n){return"{"==e||"}"==e?A(e,t,n):")"==e?E(n):"("==e?C(n,t,"parens"):"interpolation"==e?C(n,t,"interpolation"):("word"==e&&N(t),"parens")},pseudo:function(e,t,n){return"meta"==e?"pseudo":"word"==e?(o="variable-3",n.context.type):T(e,t,n)},documentTypes:function(e,t,n){return"word"==e&&l.hasOwnProperty(t.current())?(o="tag",n.context.type):M.atBlock(e,t,n)},atBlock:function(e,t,n){if("("==e)return C(n,t,"atBlock_parens");if("}"==e||";"==e)return A(e,t,n);if("{"==e)return E(n)&&C(n,t,y?"block":"top");if("interpolation"==e)return C(n,t,"interpolation");if("word"==e){var i=t.current().toLowerCase();o="only"==i||"not"==i||"and"==i||"or"==i?"keyword":u.hasOwnProperty(i)?"attribute":c.hasOwnProperty(i)?"property":p.hasOwnProperty(i)?"keyword":f.hasOwnProperty(i)?"property":d.hasOwnProperty(i)?"string-2":b.hasOwnProperty(i)?"atom":g.hasOwnProperty(i)?"keyword":"error"}return n.context.type},atComponentBlock:function(e,t,n){return"}"==e?A(e,t,n):"{"==e?E(n)&&C(n,t,y?"block":"top",!1):("word"==e&&(o="error"),n.context.type)},atBlock_parens:function(e,t,n){return")"==e?E(n):"{"==e||"}"==e?A(e,t,n,2):M.atBlock(e,t,n)},restricted_atBlock_before:function(e,t,n){return"{"==e?C(n,t,"restricted_atBlock"):"word"==e&&"@counter-style"==n.stateArg?(o="variable","restricted_atBlock_before"):T(e,t,n)},restricted_atBlock:function(e,t,n){return"}"==e?(n.stateArg=null,E(n)):"word"==e?(o="@font-face"==n.stateArg&&!h.hasOwnProperty(t.current().toLowerCase())||"@counter-style"==n.stateArg&&!m.hasOwnProperty(t.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},keyframes:function(e,t,n){return"word"==e?(o="variable","keyframes"):"{"==e?C(n,t,"top"):T(e,t,n)},at:function(e,t,n){return";"==e?E(n):"{"==e||"}"==e?A(e,t,n):("word"==e?o="tag":"hash"==e&&(o="builtin"),"at")},interpolation:function(e,t,n){return"}"==e?E(n):"{"==e||";"==e?A(e,t,n):("word"==e?o="variable":"variable"!=e&&"("!=e&&")"!=e&&(o="error"),"interpolation")}};return{startState:function(e){return{tokenize:null,state:i?"block":"top",stateArg:null,context:new S(i?"block":"top",e||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var n=(t.tokenize||function(e,t){var n=e.next();if(a[n]){var i=a[n](e,t);if(!1!==i)return i}return"@"==n?(e.eatWhile(/[\w\\\-]/),x("def",e.current())):"="==n||("~"==n||"|"==n)&&e.eat("=")?x(null,"compare"):'"'==n||"'"==n?(t.tokenize=w(n),t.tokenize(e,t)):"#"==n?(e.eatWhile(/[\w\\\-]/),x("atom","hash")):"!"==n?(e.match(/^\s*\w*/),x("keyword","important")):/\d/.test(n)||"."==n&&e.eat(/\d/)?(e.eatWhile(/[\w.%]/),x("number","unit")):"-"!==n?/[,+>*\/]/.test(n)?x(null,"select-op"):"."==n&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?x("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(n)?x(null,n):e.match(/[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/.test(e.current().toLowerCase())&&(t.tokenize=k),x("variable callee","variable")):/[\w\\\-]/.test(n)?(e.eatWhile(/[\w\\\-]/),x("property","word")):x(null,null):/[\d.]/.test(e.peek())?(e.eatWhile(/[\w.%]/),x("number","unit")):e.match(/^-[\w\\\-]*/)?(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?x("variable-2","variable-definition"):x("variable-2","variable")):e.match(/^\w+-/)?x("meta","meta"):void 0})(e,t);return n&&"object"==typeof n&&(r=n[1],n=n[0]),o=n,"comment"!=r&&(t.state=M[t.state](r,e,t)),o},indent:function(e,t){var n=e.context,i=t&&t.charAt(0),r=n.indent;return"prop"!=n.type||"}"!=i&&")"!=i||(n=n.prev),n.prev&&("}"!=i||"block"!=n.type&&"top"!=n.type&&"interpolation"!=n.type&&"restricted_atBlock"!=n.type?(")"!=i||"parens"!=n.type&&"atBlock_parens"!=n.type)&&("{"!=i||"at"!=n.type&&"atBlock"!=n.type)||(r=Math.max(0,n.indent-s)):(n=n.prev,r=n.indent)),r},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:v,fold:"brace"}});var n=["domain","regexp","url","url-prefix"],i=t(n),r=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],o=t(r),s=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover"],a=t(s),l=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive"],u=t(l),c=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],p=t(c),f=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],d=t(f),h=t(["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"]),m=t(["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"]),g=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],b=t(g),y=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],v=t(y),_=n.concat(r).concat(s).concat(l).concat(c).concat(f).concat(g).concat(y);function x(e,t){for(var n,i=!1;null!=(n=e.next());){if(i&&"/"==n){t.tokenize=null;break}i="*"==n}return["comment","comment"]}e.registerHelper("hintWords","css",_),e.defineMIME("text/css",{documentTypes:i,mediaTypes:o,mediaFeatures:a,mediaValueKeywords:u,propertyKeywords:p,nonStandardPropertyKeywords:d,fontProperties:h,counterDescriptors:m,colorKeywords:b,valueKeywords:v,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=x,x(e,t))}},name:"css"}),e.defineMIME("text/x-scss",{mediaTypes:o,mediaFeatures:a,mediaValueKeywords:u,propertyKeywords:p,nonStandardPropertyKeywords:d,colorKeywords:b,valueKeywords:v,fontProperties:h,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=x,x(e,t)):["operator","operator"]},":":function(e){return!!e.match(/\s*\{/,!1)&&[null,null]},$:function(e){return e.match(/^[\w-]+/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(e){return!!e.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),e.defineMIME("text/x-less",{mediaTypes:o,mediaFeatures:a,mediaValueKeywords:u,propertyKeywords:p,nonStandardPropertyKeywords:d,colorKeywords:b,valueKeywords:v,fontProperties:h,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=x,x(e,t)):["operator","operator"]},"@":function(e){return e.eat("{")?[null,"interpolation"]:!e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)&&(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),e.defineMIME("text/x-gss",{documentTypes:i,mediaTypes:o,mediaFeatures:a,propertyKeywords:p,nonStandardPropertyKeywords:d,fontProperties:h,counterDescriptors:m,colorKeywords:b,valueKeywords:v,supportsAtComponent:!0,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=x,x(e,t))}},name:"css",helperType:"gss"})}(n(8))},function(e,t,n){!function(e){"use strict";e.defineMode("javascript",function(t,n){var i,r,o=t.indentUnit,s=n.statementIndent,a=n.jsonld,l=n.json||a,u=n.typescript,c=n.wordCharacters||/[\w$\xa1-\uffff]/,p=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),i=e("keyword c"),r=e("keyword d"),o=e("operator"),s={type:"atom",style:"atom"};return{if:e("if"),while:t,with:t,else:n,do:n,try:n,finally:n,return:r,break:r,continue:r,new:e("new"),delete:i,void:i,throw:i,debugger:e("debugger"),var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:o,typeof:o,instanceof:o,true:s,false:s,null:s,undefined:s,NaN:s,Infinity:s,this:e("this"),class:e("class"),super:e("atom"),yield:i,export:e("export"),import:e("import"),extends:i,await:i}}(),f=/[+\-*&%=<>!?|~^@]/,d=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function h(e,t,n){return i=e,r=n,t}function m(e,t){var n,i=e.next();if('"'==i||"'"==i)return t.tokenize=(n=i,function(e,t){var i,r=!1;if(a&&"@"==e.peek()&&e.match(d))return t.tokenize=m,h("jsonld-keyword","meta");for(;null!=(i=e.next())&&(i!=n||r);)r=!r&&"\\"==i;return r||(t.tokenize=m),h("string","string")}),t.tokenize(e,t);if("."==i&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return h("number","number");if("."==i&&e.match(".."))return h("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(i))return h(i);if("="==i&&e.eat(">"))return h("=>","operator");if("0"==i&&e.match(/^(?:x[\da-f]+|o[0-7]+|b[01]+)n?/i))return h("number","number");if(/\d/.test(i))return e.match(/^\d*(?:n|(?:\.\d*)?(?:[eE][+\-]?\d+)?)?/),h("number","number");if("/"==i)return e.eat("*")?(t.tokenize=g,g(e,t)):e.eat("/")?(e.skipToEnd(),h("comment","comment")):Ye(e,t,1)?(function(e){for(var t,n=!1,i=!1;null!=(t=e.next());){if(!n){if("/"==t&&!i)return;"["==t?i=!0:i&&"]"==t&&(i=!1)}n=!n&&"\\"==t}}(e),e.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),h("regexp","string-2")):(e.eat("="),h("operator","operator",e.current()));if("`"==i)return t.tokenize=b,b(e,t);if("#"==i)return e.skipToEnd(),h("error","error");if(f.test(i))return">"==i&&t.lexical&&">"==t.lexical.type||(e.eat("=")?"!"!=i&&"="!=i||e.eat("="):/[<>*+\-]/.test(i)&&(e.eat(i),">"==i&&e.eat(i))),h("operator","operator",e.current());if(c.test(i)){e.eatWhile(c);var r=e.current();if("."!=t.lastType){if(p.propertyIsEnumerable(r)){var o=p[r];return h(o.type,o.style,r)}if("async"==r&&e.match(/^(\s|\/\*.*?\*\/)*[\[\(\w]/,!1))return h("async","keyword",r)}return h("variable","variable",r)}}function g(e,t){for(var n,i=!1;n=e.next();){if("/"==n&&i){t.tokenize=m;break}i="*"==n}return h("comment","comment")}function b(e,t){for(var n,i=!1;null!=(n=e.next());){if(!i&&("`"==n||"$"==n&&e.eat("{"))){t.tokenize=m;break}i=!i&&"\\"==n}return h("quasi","string-2",e.current())}var y="([{}])";function v(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(n<0)){if(u){var i=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,n));i&&(n=i.index)}for(var r=0,o=!1,s=n-1;s>=0;--s){var a=e.string.charAt(s),l=y.indexOf(a);if(l>=0&&l<3){if(!r){++s;break}if(0==--r){"("==a&&(o=!0);break}}else if(l>=3&&l<6)++r;else if(c.test(a))o=!0;else{if(/["'\/]/.test(a))return;if(o&&!r){++s;break}}}o&&!r&&(t.fatArrowAt=s)}}var _={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0};function x(e,t,n,i,r,o){this.indented=e,this.column=t,this.type=n,this.prev=r,this.info=o,null!=i&&(this.align=i)}function w(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0;for(var i=e.context;i;i=i.prev)for(var n=i.vars;n;n=n.next)if(n.name==t)return!0}var k={state:null,column:null,marked:null,cc:null};function S(){for(var e=arguments.length-1;e>=0;e--)k.cc.push(arguments[e])}function C(){return S.apply(null,arguments),!0}function E(e,t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}function T(e){var t=k.state;if(k.marked="def",t.context)if("var"==t.lexical.info&&t.context&&t.context.block){var i=function e(t,n){if(n){if(n.block){var i=e(t,n.prev);return i?i==n.prev?n:new N(i,n.vars,!0):null}return E(t,n.vars)?n:new N(n.prev,new M(t,n.vars),!1)}return null}(e,t.context);if(null!=i)return void(t.context=i)}else if(!E(e,t.localVars))return void(t.localVars=new M(e,t.localVars));n.globalVars&&!E(e,t.globalVars)&&(t.globalVars=new M(e,t.globalVars))}function A(e){return"public"==e||"private"==e||"protected"==e||"abstract"==e||"readonly"==e}function N(e,t,n){this.prev=e,this.vars=t,this.block=n}function M(e,t){this.name=e,this.next=t}var R=new M("this",new M("arguments",null));function O(){k.state.context=new N(k.state.context,k.state.localVars,!1),k.state.localVars=R}function L(){k.state.context=new N(k.state.context,k.state.localVars,!0),k.state.localVars=null}function P(){k.state.localVars=k.state.context.vars,k.state.context=k.state.context.prev}function D(e,t){var n=function(){var n=k.state,i=n.indented;if("stat"==n.lexical.type)i=n.lexical.indented;else for(var r=n.lexical;r&&")"==r.type&&r.align;r=r.prev)i=r.indented;n.lexical=new x(i,k.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function I(){var e=k.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function F(e){return function t(n){return n==e?C():";"==e||"}"==n||")"==n||"]"==n?S():C(t)}}function $(e,t){return"var"==e?C(D("vardef",t),ye,F(";"),I):"keyword a"==e?C(D("form"),q,$,I):"keyword b"==e?C(D("form"),$,I):"keyword d"==e?k.stream.match(/^\s*$/,!1)?C():C(D("stat"),U,F(";"),I):"debugger"==e?C(F(";")):"{"==e?C(D("}"),L,se,I,P):";"==e?C():"if"==e?("else"==k.state.lexical.info&&k.state.cc[k.state.cc.length-1]==I&&k.state.cc.pop()(),C(D("form"),q,$,I,Se)):"function"==e?C(Me):"for"==e?C(D("form"),Ce,$,I):"class"==e||u&&"interface"==t?(k.marked="keyword",C(D("form","class"==e?e:t),De,I)):"variable"==e?u&&"declare"==t?(k.marked="keyword",C($)):u&&("module"==t||"enum"==t||"type"==t)&&k.stream.match(/^\s*\w/,!1)?(k.marked="keyword","enum"==t?C(Ge):"type"==t?C(Oe,F("operator"),ce,F(";")):C(D("form"),ve,F("{"),D("}"),se,I,I)):u&&"namespace"==t?(k.marked="keyword",C(D("form"),B,$,I)):u&&"abstract"==t?(k.marked="keyword",C($)):C(D("stat"),J):"switch"==e?C(D("form"),q,F("{"),D("}","switch"),L,se,I,I,P):"case"==e?C(B,F(":")):"default"==e?C(F(":")):"catch"==e?C(D("form"),O,j,$,I,P):"export"==e?C(D("stat"),je,I):"import"==e?C(D("stat"),ze,I):"async"==e?C($):"@"==t?C(B,$):S(D("stat"),B,F(";"),I)}function j(e){if("("==e)return C(Le,F(")"))}function B(e,t){return H(e,t,!1)}function z(e,t){return H(e,t,!0)}function q(e){return"("!=e?S():C(D(")"),B,F(")"),I)}function H(e,t,n){if(k.state.fatArrowAt==k.stream.start){var i=n?X:Y;if("("==e)return C(O,D(")"),re(Le,")"),I,F("=>"),i,P);if("variable"==e)return S(O,ve,F("=>"),i,P)}var r=n?V:W;return _.hasOwnProperty(e)?C(r):"function"==e?C(Me,r):"class"==e||u&&"interface"==t?(k.marked="keyword",C(D("form"),Pe,I)):"keyword c"==e||"async"==e?C(n?z:B):"("==e?C(D(")"),U,F(")"),I,r):"operator"==e||"spread"==e?C(n?z:B):"["==e?C(D("]"),Ve,I,r):"{"==e?oe(te,"}",null,r):"quasi"==e?S(G,r):"new"==e?C(function(e){return function(t){return"."==t?C(e?Z:Q):"variable"==t&&u?C(me,e?V:W):S(e?z:B)}}(n)):"import"==e?C(B):C()}function U(e){return e.match(/[;\}\)\],]/)?S():S(B)}function W(e,t){return","==e?C(B):V(e,t,!1)}function V(e,t,n){var i=0==n?W:V,r=0==n?B:z;return"=>"==e?C(O,n?X:Y,P):"operator"==e?/\+\+|--/.test(t)||u&&"!"==t?C(i):u&&"<"==t&&k.stream.match(/^([^>]|<.*?>)*>\s*\(/,!1)?C(D(">"),re(ce,">"),I,i):"?"==t?C(B,F(":"),r):C(r):"quasi"==e?S(G,i):";"!=e?"("==e?oe(z,")","call",i):"."==e?C(ee,i):"["==e?C(D("]"),U,F("]"),I,i):u&&"as"==t?(k.marked="keyword",C(ce,i)):"regexp"==e?(k.state.lastType=k.marked="operator",k.stream.backUp(k.stream.pos-k.stream.start-1),C(r)):void 0:void 0}function G(e,t){return"quasi"!=e?S():"${"!=t.slice(t.length-2)?C(G):C(B,K)}function K(e){if("}"==e)return k.marked="string-2",k.state.tokenize=b,C(G)}function Y(e){return v(k.stream,k.state),S("{"==e?$:B)}function X(e){return v(k.stream,k.state),S("{"==e?$:z)}function Q(e,t){if("target"==t)return k.marked="keyword",C(W)}function Z(e,t){if("target"==t)return k.marked="keyword",C(V)}function J(e){return":"==e?C(I,$):S(W,F(";"),I)}function ee(e){if("variable"==e)return k.marked="property",C()}function te(e,t){return"async"==e?(k.marked="property",C(te)):"variable"==e||"keyword"==k.style?(k.marked="property","get"==t||"set"==t?C(ne):(u&&k.state.fatArrowAt==k.stream.start&&(n=k.stream.match(/^\s*:\s*/,!1))&&(k.state.fatArrowAt=k.stream.pos+n[0].length),C(ie))):"number"==e||"string"==e?(k.marked=a?"property":k.style+" property",C(ie)):"jsonld-keyword"==e?C(ie):u&&A(t)?(k.marked="keyword",C(te)):"["==e?C(B,ae,F("]"),ie):"spread"==e?C(z,ie):"*"==t?(k.marked="keyword",C(te)):":"==e?S(ie):void 0;var n}function ne(e){return"variable"!=e?S(ie):(k.marked="property",C(Me))}function ie(e){return":"==e?C(z):"("==e?S(Me):void 0}function re(e,t,n){function i(r,o){if(n?n.indexOf(r)>-1:","==r){var s=k.state.lexical;return"call"==s.info&&(s.pos=(s.pos||0)+1),C(function(n,i){return n==t||i==t?S():S(e)},i)}return r==t||o==t?C():n&&n.indexOf(";")>-1?S(e):C(F(t))}return function(n,r){return n==t||r==t?C():S(e,i)}}function oe(e,t,n){for(var i=3;i<arguments.length;i++)k.cc.push(arguments[i]);return C(D(t,n),re(e,t),I)}function se(e){return"}"==e?C():S($,se)}function ae(e,t){if(u){if(":"==e||"in"==t)return C(ce);if("?"==t)return C(ae)}}function le(e){if(u&&":"==e)return k.stream.match(/^\s*\w+\s+is\b/,!1)?C(B,ue,ce):C(ce)}function ue(e,t){if("is"==t)return k.marked="keyword",C()}function ce(e,t){return"keyof"==t||"typeof"==t||"infer"==t?(k.marked="keyword",C("typeof"==t?z:ce)):"variable"==e||"void"==t?(k.marked="type",C(he)):"string"==e||"number"==e||"atom"==e?C(he):"["==e?C(D("]"),re(ce,"]",","),I,he):"{"==e?C(D("}"),re(fe,"}",",;"),I,he):"("==e?C(re(de,")"),pe,he):"<"==e?C(re(ce,">"),ce):void 0}function pe(e){if("=>"==e)return C(ce)}function fe(e,t){return"variable"==e||"keyword"==k.style?(k.marked="property",C(fe)):"?"==t||"number"==e||"string"==e?C(fe):":"==e?C(ce):"["==e?C(F("variable"),ae,F("]"),fe):"("==e?S(Re,fe):void 0}function de(e,t){return"variable"==e&&k.stream.match(/^\s*[?:]/,!1)||"?"==t?C(de):":"==e?C(ce):"spread"==e?C(de):S(ce)}function he(e,t){return"<"==t?C(D(">"),re(ce,">"),I,he):"|"==t||"."==e||"&"==t?C(ce):"["==e?C(ce,F("]"),he):"extends"==t||"implements"==t?(k.marked="keyword",C(ce)):"?"==t?C(ce,F(":"),ce):void 0}function me(e,t){if("<"==t)return C(D(">"),re(ce,">"),I,he)}function ge(){return S(ce,be)}function be(e,t){if("="==t)return C(ce)}function ye(e,t){return"enum"==t?(k.marked="keyword",C(Ge)):S(ve,ae,we,ke)}function ve(e,t){return u&&A(t)?(k.marked="keyword",C(ve)):"variable"==e?(T(t),C()):"spread"==e?C(ve):"["==e?oe(xe,"]"):"{"==e?oe(_e,"}"):void 0}function _e(e,t){return"variable"!=e||k.stream.match(/^\s*:/,!1)?("variable"==e&&(k.marked="property"),"spread"==e?C(ve):"}"==e?S():"["==e?C(B,F("]"),F(":"),_e):C(F(":"),ve,we)):(T(t),C(we))}function xe(){return S(ve,we)}function we(e,t){if("="==t)return C(z)}function ke(e){if(","==e)return C(ye)}function Se(e,t){if("keyword b"==e&&"else"==t)return C(D("form","else"),$,I)}function Ce(e,t){return"await"==t?C(Ce):"("==e?C(D(")"),Ee,F(")"),I):void 0}function Ee(e){return"var"==e?C(ye,F(";"),Ae):";"==e?C(Ae):"variable"==e?C(Te):S(B,F(";"),Ae)}function Te(e,t){return"in"==t||"of"==t?(k.marked="keyword",C(B)):C(W,Ae)}function Ae(e,t){return";"==e?C(Ne):"in"==t||"of"==t?(k.marked="keyword",C(B)):S(B,F(";"),Ne)}function Ne(e){")"!=e&&C(B)}function Me(e,t){return"*"==t?(k.marked="keyword",C(Me)):"variable"==e?(T(t),C(Me)):"("==e?C(O,D(")"),re(Le,")"),I,le,$,P):u&&"<"==t?C(D(">"),re(ge,">"),I,Me):void 0}function Re(e,t){return"*"==t?(k.marked="keyword",C(Re)):"variable"==e?(T(t),C(Re)):"("==e?C(O,D(")"),re(Le,")"),I,le,P):u&&"<"==t?C(D(">"),re(ge,">"),I,Re):void 0}function Oe(e,t){return"keyword"==e||"variable"==e?(k.marked="type",C(Oe)):"<"==t?C(D(">"),re(ge,">"),I):void 0}function Le(e,t){return"@"==t&&C(B,Le),"spread"==e?C(Le):u&&A(t)?(k.marked="keyword",C(Le)):S(ve,ae,we)}function Pe(e,t){return"variable"==e?De(e,t):Ie(e,t)}function De(e,t){if("variable"==e)return T(t),C(Ie)}function Ie(e,t){return"<"==t?C(D(">"),re(ge,">"),I,Ie):"extends"==t||"implements"==t||u&&","==e?("implements"==t&&(k.marked="keyword"),C(u?ce:B,Ie)):"{"==e?C(D("}"),Fe,I):void 0}function Fe(e,t){return"async"==e||"variable"==e&&("static"==t||"get"==t||"set"==t||u&&A(t))&&k.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(k.marked="keyword",C(Fe)):"variable"==e||"keyword"==k.style?(k.marked="property",C(u?$e:Me,Fe)):"number"==e||"string"==e?C(u?$e:Me,Fe):"["==e?C(B,ae,F("]"),u?$e:Me,Fe):"*"==t?(k.marked="keyword",C(Fe)):u&&"("==e?S(Re,Fe):";"==e||","==e?C(Fe):"}"==e?C():"@"==t?C(B,Fe):void 0}function $e(e,t){if("?"==t)return C($e);if(":"==e)return C(ce,we);if("="==t)return C(z);var n=k.state.lexical.prev,i=n&&"interface"==n.info;return S(i?Re:Me)}function je(e,t){return"*"==t?(k.marked="keyword",C(We,F(";"))):"default"==t?(k.marked="keyword",C(B,F(";"))):"{"==e?C(re(Be,"}"),We,F(";")):S($)}function Be(e,t){return"as"==t?(k.marked="keyword",C(F("variable"))):"variable"==e?S(z,Be):void 0}function ze(e){return"string"==e?C():"("==e?S(B):S(qe,He,We)}function qe(e,t){return"{"==e?oe(qe,"}"):("variable"==e&&T(t),"*"==t&&(k.marked="keyword"),C(Ue))}function He(e){if(","==e)return C(qe,He)}function Ue(e,t){if("as"==t)return k.marked="keyword",C(qe)}function We(e,t){if("from"==t)return k.marked="keyword",C(B)}function Ve(e){return"]"==e?C():S(re(z,"]"))}function Ge(){return S(D("form"),ve,F("{"),D("}"),re(Ke,"}"),I,I)}function Ke(){return S(ve,we)}function Ye(e,t,n){return t.tokenize==m&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(n||0)))}return P.lex=!0,I.lex=!0,{startState:function(e){var t={tokenize:m,lastType:"sof",cc:[],lexical:new x((e||0)-o,0,"block",!1),localVars:n.localVars,context:n.localVars&&new N(null,null,!1),indented:e||0};return n.globalVars&&"object"==typeof n.globalVars&&(t.globalVars=n.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),v(e,t)),t.tokenize!=g&&e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==i?n:(t.lastType="operator"!=i||"++"!=r&&"--"!=r?i:"incdec",function(e,t,n,i,r){var o=e.cc;for(k.state=e,k.stream=r,k.marked=null,k.cc=o,k.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){var s=o.length?o.pop():l?B:$;if(s(n,i)){for(;o.length&&o[o.length-1].lex;)o.pop()();return k.marked?k.marked:"variable"==n&&w(e,i)?"variable-2":t}}}(t,n,i,r,e))},indent:function(t,i){if(t.tokenize==g)return e.Pass;if(t.tokenize!=m)return 0;var r,a=i&&i.charAt(0),l=t.lexical;if(!/^\s*else\b/.test(i))for(var u=t.cc.length-1;u>=0;--u){var c=t.cc[u];if(c==I)l=l.prev;else if(c!=Se)break}for(;("stat"==l.type||"form"==l.type)&&("}"==a||(r=t.cc[t.cc.length-1])&&(r==W||r==V)&&!/^[,\.=+\-*:?[\(]/.test(i));)l=l.prev;s&&")"==l.type&&"stat"==l.prev.type&&(l=l.prev);var p=l.type,d=a==p;return"vardef"==p?l.indented+("operator"==t.lastType||","==t.lastType?l.info.length+1:0):"form"==p&&"{"==a?l.indented:"form"==p?l.indented+o:"stat"==p?l.indented+(function(e,t){return"operator"==e.lastType||","==e.lastType||f.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}(t,i)?s||o:0):"switch"!=l.info||d||0==n.doubleIndentSwitch?l.align?l.column+(d?0:1):l.indented+(d?0:o):l.indented+(/^(?:case|default)\b/.test(i)?o:2*o)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:l?null:"/*",blockCommentEnd:l?null:"*/",blockCommentContinue:l?null:" * ",lineComment:l?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:l?"json":"javascript",jsonldMode:a,jsonMode:l,expressionAllowed:Ye,skipExpression:function(e){var t=e.cc[e.cc.length-1];t!=B&&t!=z||e.cc.pop()}}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})}(n(8))},function(e,t,n){"use strict";n.r(t),n.d(t,"Async",function(){return B}),n.d(t,"AsyncCreatable",function(){return K}),n.d(t,"Creatable",function(){return z}),n.d(t,"Value",function(){return N}),n.d(t,"Option",function(){return A}),n.d(t,"defaultMenuRenderer",function(){return y}),n.d(t,"defaultArrowRenderer",function(){return f}),n.d(t,"defaultClearRenderer",function(){return d}),n.d(t,"defaultFilterOptions",function(){return b});var i=n(137),r=n.n(i),o=n(6),s=n.n(o),a=n(0),l=n.n(a),u=n(1),c=n.n(u),p=n(10),f=function(e){var t=e.onMouseDown;return c.a.createElement("span",{className:"Select-arrow",onMouseDown:t})};f.propTypes={onMouseDown:l.a.func};var d=function(){return c.a.createElement("span",{className:"Select-clear",dangerouslySetInnerHTML:{__html:"&times;"}})},h=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}],m=function(e){for(var t=0;t<h.length;t++)e=e.replace(h[t].letters,h[t].base);return e},g=function(e){return null!=e&&""!==e},b=function(e,t,n,i){return i.ignoreAccents&&(t=m(t)),i.ignoreCase&&(t=t.toLowerCase()),i.trimFilter&&(t=t.replace(/^\s+|\s+$/g,"")),n&&(n=n.map(function(e){return e[i.valueKey]})),e.filter(function(e){if(n&&n.indexOf(e[i.valueKey])>-1)return!1;if(i.filterOption)return i.filterOption.call(void 0,e,t);if(!t)return!0;var r=e[i.valueKey],o=e[i.labelKey],s=g(r),a=g(o);if(!s&&!a)return!1;var l=s?String(r):null,u=a?String(o):null;return i.ignoreAccents&&(l&&"label"!==i.matchProp&&(l=m(l)),u&&"value"!==i.matchProp&&(u=m(u))),i.ignoreCase&&(l&&"label"!==i.matchProp&&(l=l.toLowerCase()),u&&"value"!==i.matchProp&&(u=u.toLowerCase())),"start"===i.matchPos?l&&"label"!==i.matchProp&&l.substr(0,t.length)===t||u&&"value"!==i.matchProp&&u.substr(0,t.length)===t:l&&"label"!==i.matchProp&&l.indexOf(t)>=0||u&&"value"!==i.matchProp&&u.indexOf(t)>=0})},y=function(e){var t=e.focusedOption,n=e.focusOption,i=e.inputValue,r=e.instancePrefix,o=e.onFocus,a=e.onOptionRef,l=e.onSelect,u=e.optionClassName,p=e.optionComponent,f=e.optionRenderer,d=e.options,h=e.removeValue,m=e.selectValue,g=e.valueArray,b=e.valueKey,y=p;return d.map(function(e,p){var d=g&&g.some(function(t){return t[b]===e[b]}),v=e===t,_=s()(u,{"Select-option":!0,"is-selected":d,"is-focused":v,"is-disabled":e.disabled});return c.a.createElement(y,{className:_,focusOption:n,inputValue:i,instancePrefix:r,isDisabled:e.disabled,isFocused:v,isSelected:d,key:"option-"+p+"-"+e[b],onFocus:o,onSelect:l,option:e,optionIndex:p,ref:function(e){a(e,v)},removeValue:h,selectValue:m},f(e,p,i))})};y.propTypes={focusOption:l.a.func,focusedOption:l.a.object,inputValue:l.a.string,instancePrefix:l.a.string,onFocus:l.a.func,onOptionRef:l.a.func,onSelect:l.a.func,optionClassName:l.a.string,optionComponent:l.a.func,optionRenderer:l.a.func,options:l.a.array,removeValue:l.a.func,selectValue:l.a.func,valueArray:l.a.array,valueKey:l.a.string};var v=function(e){e.preventDefault(),e.stopPropagation(),"A"===e.target.tagName&&"href"in e.target&&(e.target.target?window.open(e.target.href,e.target.target):window.location.href=e.target.href)},_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x=(function(){function e(e){this.value=e}function t(t){var n,i;function r(n,i){try{var s=t[n](i),a=s.value;a instanceof e?Promise.resolve(a.value).then(function(e){r("next",e)},function(e){r("throw",e)}):o(s.done?"return":"normal",s.value)}catch(e){o("throw",e)}}function o(e,t){switch(e){case"return":n.resolve({value:t,done:!0});break;case"throw":n.reject(t);break;default:n.resolve({value:t,done:!1})}(n=n.next)?r(n.key,n.arg):i=null}this._invoke=function(e,t){return new Promise(function(o,s){var a={key:e,arg:t,resolve:o,reject:s,next:null};i?i=i.next=a:(n=i=a,r(e,t))})},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)}}(),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}),w=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),k=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},C=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},E=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},T=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},A=function(e){function t(e){x(this,t);var n=T(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseDown=n.handleMouseDown.bind(n),n.handleMouseEnter=n.handleMouseEnter.bind(n),n.handleMouseMove=n.handleMouseMove.bind(n),n.handleTouchStart=n.handleTouchStart.bind(n),n.handleTouchEnd=n.handleTouchEnd.bind(n),n.handleTouchMove=n.handleTouchMove.bind(n),n.onFocus=n.onFocus.bind(n),n}return C(t,e),w(t,[{key:"handleMouseDown",value:function(e){e.preventDefault(),e.stopPropagation(),this.props.onSelect(this.props.option,e)}},{key:"handleMouseEnter",value:function(e){this.onFocus(e)}},{key:"handleMouseMove",value:function(e){this.onFocus(e)}},{key:"handleTouchEnd",value:function(e){this.dragging||this.handleMouseDown(e)}},{key:"handleTouchMove",value:function(){this.dragging=!0}},{key:"handleTouchStart",value:function(){this.dragging=!1}},{key:"onFocus",value:function(e){this.props.isFocused||this.props.onFocus(this.props.option,e)}},{key:"render",value:function(){var e=this.props,t=e.option,n=e.instancePrefix,i=e.optionIndex,r=s()(this.props.className,t.className);return t.disabled?c.a.createElement("div",{className:r,onMouseDown:v,onClick:v},this.props.children):c.a.createElement("div",{className:r,style:t.style,role:"option","aria-label":t.label,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,id:n+"-option-"+i,title:t.title},this.props.children)}}]),t}(c.a.Component);A.propTypes={children:l.a.node,className:l.a.string,instancePrefix:l.a.string.isRequired,isDisabled:l.a.bool,isFocused:l.a.bool,isSelected:l.a.bool,onFocus:l.a.func,onSelect:l.a.func,onUnfocus:l.a.func,option:l.a.object.isRequired,optionIndex:l.a.number};var N=function(e){function t(e){x(this,t);var n=T(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseDown=n.handleMouseDown.bind(n),n.onRemove=n.onRemove.bind(n),n.handleTouchEndRemove=n.handleTouchEndRemove.bind(n),n.handleTouchMove=n.handleTouchMove.bind(n),n.handleTouchStart=n.handleTouchStart.bind(n),n}return C(t,e),w(t,[{key:"handleMouseDown",value:function(e){if("mousedown"!==e.type||0===e.button)return this.props.onClick?(e.stopPropagation(),void this.props.onClick(this.props.value,e)):void(this.props.value.href&&e.stopPropagation())}},{key:"onRemove",value:function(e){e.preventDefault(),e.stopPropagation(),this.props.onRemove(this.props.value)}},{key:"handleTouchEndRemove",value:function(e){this.dragging||this.onRemove(e)}},{key:"handleTouchMove",value:function(){this.dragging=!0}},{key:"handleTouchStart",value:function(){this.dragging=!1}},{key:"renderRemoveIcon",value:function(){if(!this.props.disabled&&this.props.onRemove)return c.a.createElement("span",{className:"Select-value-icon","aria-hidden":"true",onMouseDown:this.onRemove,onTouchEnd:this.handleTouchEndRemove,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove},"×")}},{key:"renderLabel",value:function(){return this.props.onClick||this.props.value.href?c.a.createElement("a",{className:"Select-value-label",href:this.props.value.href,target:this.props.value.target,onMouseDown:this.handleMouseDown,onTouchEnd:this.handleMouseDown},this.props.children):c.a.createElement("span",{className:"Select-value-label",role:"option","aria-selected":"true",id:this.props.id},this.props.children)}},{key:"render",value:function(){return c.a.createElement("div",{className:s()("Select-value",this.props.value.className),style:this.props.value.style,title:this.props.value.title},this.renderRemoveIcon(),this.renderLabel())}}]),t}(c.a.Component);N.propTypes={children:l.a.node,disabled:l.a.bool,id:l.a.string,onClick:l.a.func,onRemove:l.a.func,value:l.a.object.isRequired};
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/react-select
*/
var M=function(e){return"string"==typeof e?e:null!==e&&JSON.stringify(e)||""},R=l.a.oneOfType([l.a.string,l.a.node]),O=l.a.oneOfType([l.a.string,l.a.number]),L=1,P=function(e,t){var n=void 0===e?"undefined":_(e);if("string"!==n&&"number"!==n&&"boolean"!==n)return e;var i=t.options,r=t.valueKey;if(i)for(var o=0;o<i.length;o++)if(String(i[o][r])===String(e))return i[o]},D=function(e,t){return!e||(t?0===e.length:0===Object.keys(e).length)},I=function(e){function t(e){x(this,t);var n=T(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return["clearValue","focusOption","getOptionLabel","handleInputBlur","handleInputChange","handleInputFocus","handleInputValueChange","handleKeyDown","handleMenuScroll","handleMouseDown","handleMouseDownOnArrow","handleMouseDownOnMenu","handleTouchEnd","handleTouchEndClearValue","handleTouchMove","handleTouchOutside","handleTouchStart","handleValueClick","onOptionRef","removeValue","selectValue"].forEach(function(e){return n[e]=n[e].bind(n)}),n.state={inputValue:"",isFocused:!1,isOpen:!1,isPseudoFocused:!1,required:!1},n}return C(t,e),w(t,[{key:"componentWillMount",value:function(){this._instancePrefix="react-select-"+(this.props.instanceId||++L)+"-";var e=this.getValueArray(this.props.value);this.props.required&&this.setState({required:D(e[0],this.props.multi)})}},{key:"componentDidMount",value:function(){void 0!==this.props.autofocus&&"undefined"!=typeof console&&console.warn("Warning: The autofocus prop has changed to autoFocus, support will be removed after react-select@1.0"),(this.props.autoFocus||this.props.autofocus)&&this.focus()}},{key:"componentWillReceiveProps",value:function(e){var t=this.getValueArray(e.value,e);e.required?this.setState({required:D(t[0],e.multi)}):this.props.required&&this.setState({required:!1}),this.state.inputValue&&this.props.value!==e.value&&e.onSelectResetsInput&&this.setState({inputValue:this.handleInputValueChange("")})}},{key:"componentDidUpdate",value:function(e,t){if(this.menu&&this.focused&&this.state.isOpen&&!this.hasScrolledToOption){var n=Object(p.findDOMNode)(this.focused),i=Object(p.findDOMNode)(this.menu),r=i.scrollTop,o=r+i.offsetHeight,s=n.offsetTop,a=s+n.offsetHeight;(r>s||o<a)&&(i.scrollTop=n.offsetTop),this.hasScrolledToOption=!0}else this.state.isOpen||(this.hasScrolledToOption=!1);if(this._scrollToFocusedOptionOnUpdate&&this.focused&&this.menu){this._scrollToFocusedOptionOnUpdate=!1;var l=Object(p.findDOMNode)(this.focused),u=Object(p.findDOMNode)(this.menu),c=l.getBoundingClientRect(),f=u.getBoundingClientRect();c.bottom>f.bottom?u.scrollTop=l.offsetTop+l.clientHeight-u.offsetHeight:c.top<f.top&&(u.scrollTop=l.offsetTop)}if(this.props.scrollMenuIntoView&&this.menuContainer){var d=this.menuContainer.getBoundingClientRect();window.innerHeight<d.bottom+this.props.menuBuffer&&window.scrollBy(0,d.bottom+this.props.menuBuffer-window.innerHeight)}if(e.disabled!==this.props.disabled&&(this.setState({isFocused:!1}),this.closeMenu()),t.isOpen!==this.state.isOpen){this.toggleTouchOutsideEvent(this.state.isOpen);var h=this.state.isOpen?this.props.onOpen:this.props.onClose;h&&h()}}},{key:"componentWillUnmount",value:function(){this.toggleTouchOutsideEvent(!1)}},{key:"toggleTouchOutsideEvent",value:function(e){e?!document.addEventListener&&document.attachEvent?document.attachEvent("ontouchstart",this.handleTouchOutside):document.addEventListener("touchstart",this.handleTouchOutside):!document.removeEventListener&&document.detachEvent?document.detachEvent("ontouchstart",this.handleTouchOutside):document.removeEventListener("touchstart",this.handleTouchOutside)}},{key:"handleTouchOutside",value:function(e){this.wrapper&&!this.wrapper.contains(e.target)&&this.closeMenu()}},{key:"focus",value:function(){this.input&&this.input.focus()}},{key:"blurInput",value:function(){this.input&&this.input.blur()}},{key:"handleTouchMove",value:function(){this.dragging=!0}},{key:"handleTouchStart",value:function(){this.dragging=!1}},{key:"handleTouchEnd",value:function(e){this.dragging||this.handleMouseDown(e)}},{key:"handleTouchEndClearValue",value:function(e){this.dragging||this.clearValue(e)}},{key:"handleMouseDown",value:function(e){if(!(this.props.disabled||"mousedown"===e.type&&0!==e.button))if("INPUT"!==e.target.tagName){if(e.preventDefault(),!this.props.searchable)return this.focus(),this.setState({isOpen:!this.state.isOpen});if(this.state.isFocused){this.focus();var t=this.input,n=!0;"function"==typeof t.getInput&&(t=t.getInput()),t.value="",this._focusAfterClear&&(n=!1,this._focusAfterClear=!1),this.setState({isOpen:n,isPseudoFocused:!1,focusedOption:null})}else this._openAfterFocus=this.props.openOnClick,this.focus(),this.setState({focusedOption:null})}else this.state.isFocused?this.state.isOpen||this.setState({isOpen:!0,isPseudoFocused:!1}):(this._openAfterFocus=this.props.openOnClick,this.focus())}},{key:"handleMouseDownOnArrow",value:function(e){this.props.disabled||"mousedown"===e.type&&0!==e.button||(this.state.isOpen?(e.stopPropagation(),e.preventDefault(),this.closeMenu()):this.setState({isOpen:!0}))}},{key:"handleMouseDownOnMenu",value:function(e){this.props.disabled||"mousedown"===e.type&&0!==e.button||(e.stopPropagation(),e.preventDefault(),this._openAfterFocus=!0,this.focus())}},{key:"closeMenu",value:function(){this.props.onCloseResetsInput?this.setState({inputValue:this.handleInputValueChange(""),isOpen:!1,isPseudoFocused:this.state.isFocused&&!this.props.multi}):this.setState({isOpen:!1,isPseudoFocused:this.state.isFocused&&!this.props.multi}),this.hasScrolledToOption=!1}},{key:"handleInputFocus",value:function(e){if(!this.props.disabled){var t=this.state.isOpen||this._openAfterFocus||this.props.openOnFocus;t=!this._focusAfterClear&&t,this.props.onFocus&&this.props.onFocus(e),this.setState({isFocused:!0,isOpen:!!t}),this._focusAfterClear=!1,this._openAfterFocus=!1}}},{key:"handleInputBlur",value:function(e){if(!this.menu||this.menu!==document.activeElement&&!this.menu.contains(document.activeElement)){this.props.onBlur&&this.props.onBlur(e);var t={isFocused:!1,isOpen:!1,isPseudoFocused:!1};this.props.onBlurResetsInput&&(t.inputValue=this.handleInputValueChange("")),this.setState(t)}else this.focus()}},{key:"handleInputChange",value:function(e){var t=e.target.value;this.state.inputValue!==e.target.value&&(t=this.handleInputValueChange(t)),this.setState({inputValue:t,isOpen:!0,isPseudoFocused:!1})}},{key:"setInputValue",value:function(e){if(this.props.onInputChange){var t=this.props.onInputChange(e);null!=t&&"object"!==(void 0===t?"undefined":_(t))&&(e=""+t)}this.setState({inputValue:e})}},{key:"handleInputValueChange",value:function(e){if(this.props.onInputChange){var t=this.props.onInputChange(e);null!=t&&"object"!==(void 0===t?"undefined":_(t))&&(e=""+t)}return e}},{key:"handleKeyDown",value:function(e){if(!(this.props.disabled||"function"==typeof this.props.onInputKeyDown&&(this.props.onInputKeyDown(e),e.defaultPrevented)))switch(e.keyCode){case 8:!this.state.inputValue&&this.props.backspaceRemoves&&(e.preventDefault(),this.popValue());break;case 9:if(e.shiftKey||!this.state.isOpen||!this.props.tabSelectsValue)break;e.preventDefault(),this.selectFocusedOption();break;case 13:e.preventDefault(),e.stopPropagation(),this.state.isOpen?this.selectFocusedOption():this.focusNextOption();break;case 27:e.preventDefault(),this.state.isOpen?(this.closeMenu(),e.stopPropagation()):this.props.clearable&&this.props.escapeClearsValue&&(this.clearValue(e),e.stopPropagation());break;case 32:if(this.props.searchable)break;if(e.preventDefault(),!this.state.isOpen){this.focusNextOption();break}e.stopPropagation(),this.selectFocusedOption();break;case 38:e.preventDefault(),this.focusPreviousOption();break;case 40:e.preventDefault(),this.focusNextOption();break;case 33:e.preventDefault(),this.focusPageUpOption();break;case 34:e.preventDefault(),this.focusPageDownOption();break;case 35:if(e.shiftKey)break;e.preventDefault(),this.focusEndOption();break;case 36:if(e.shiftKey)break;e.preventDefault(),this.focusStartOption();break;case 46:!this.state.inputValue&&this.props.deleteRemoves&&(e.preventDefault(),this.popValue())}}},{key:"handleValueClick",value:function(e,t){this.props.onValueClick&&this.props.onValueClick(e,t)}},{key:"handleMenuScroll",value:function(e){if(this.props.onMenuScrollToBottom){var t=e.target;t.scrollHeight>t.offsetHeight&&t.scrollHeight-t.offsetHeight-t.scrollTop<=0&&this.props.onMenuScrollToBottom()}}},{key:"getOptionLabel",value:function(e){return e[this.props.labelKey]}},{key:"getValueArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n="object"===(void 0===t?"undefined":_(t))?t:this.props;if(n.multi){if("string"==typeof e&&(e=e.split(n.delimiter)),!Array.isArray(e)){if(null==e)return[];e=[e]}return e.map(function(e){return P(e,n)}).filter(function(e){return e})}var i=P(e,n);return i?[i]:[]}},{key:"setValue",value:function(e){var t=this;if(this.props.autoBlur&&this.blurInput(),this.props.required){var n=D(e,this.props.multi);this.setState({required:n})}this.props.simpleValue&&e&&(e=this.props.multi?e.map(function(e){return e[t.props.valueKey]}).join(this.props.delimiter):e[this.props.valueKey]),this.props.onChange&&this.props.onChange(e)}},{key:"selectValue",value:function(e){var t=this;this.props.closeOnSelect&&(this.hasScrolledToOption=!1);var n=this.props.onSelectResetsInput?"":this.state.inputValue;this.props.multi?this.setState({focusedIndex:null,inputValue:this.handleInputValueChange(n),isOpen:!this.props.closeOnSelect},function(){t.getValueArray(t.props.value).some(function(n){return n[t.props.valueKey]===e[t.props.valueKey]})?t.removeValue(e):t.addValue(e)}):this.setState({inputValue:this.handleInputValueChange(n),isOpen:!this.props.closeOnSelect,isPseudoFocused:this.state.isFocused},function(){t.setValue(e)})}},{key:"addValue",value:function(e){var t=this.getValueArray(this.props.value),n=this._visibleOptions.filter(function(e){return!e.disabled}),i=n.indexOf(e);this.setValue(t.concat(e)),n.length-1===i?this.focusOption(n[i-1]):n.length>i&&this.focusOption(n[i+1])}},{key:"popValue",value:function(){var e=this.getValueArray(this.props.value);e.length&&!1!==e[e.length-1].clearableValue&&this.setValue(this.props.multi?e.slice(0,e.length-1):null)}},{key:"removeValue",value:function(e){var t=this,n=this.getValueArray(this.props.value);this.setValue(n.filter(function(n){return n[t.props.valueKey]!==e[t.props.valueKey]})),this.focus()}},{key:"clearValue",value:function(e){e&&"mousedown"===e.type&&0!==e.button||(e.preventDefault(),this.setValue(this.getResetValue()),this.setState({inputValue:this.handleInputValueChange(""),isOpen:!1},this.focus),this._focusAfterClear=!0)}},{key:"getResetValue",value:function(){return void 0!==this.props.resetValue?this.props.resetValue:this.props.multi?[]:null}},{key:"focusOption",value:function(e){this.setState({focusedOption:e})}},{key:"focusNextOption",value:function(){this.focusAdjacentOption("next")}},{key:"focusPreviousOption",value:function(){this.focusAdjacentOption("previous")}},{key:"focusPageUpOption",value:function(){this.focusAdjacentOption("page_up")}},{key:"focusPageDownOption",value:function(){this.focusAdjacentOption("page_down")}},{key:"focusStartOption",value:function(){this.focusAdjacentOption("start")}},{key:"focusEndOption",value:function(){this.focusAdjacentOption("end")}},{key:"focusAdjacentOption",value:function(e){var t=this._visibleOptions.map(function(e,t){return{option:e,index:t}}).filter(function(e){return!e.option.disabled});if(this._scrollToFocusedOptionOnUpdate=!0,!this.state.isOpen){var n={focusedOption:this._focusedOption||(t.length?t["next"===e?0:t.length-1].option:null),isOpen:!0};return this.props.onSelectResetsInput&&(n.inputValue=""),void this.setState(n)}if(t.length){for(var i=-1,r=0;r<t.length;r++)if(this._focusedOption===t[r].option){i=r;break}if("next"===e&&-1!==i)i=(i+1)%t.length;else if("previous"===e)i>0?i-=1:i=t.length-1;else if("start"===e)i=0;else if("end"===e)i=t.length-1;else if("page_up"===e){var o=i-this.props.pageSize;i=o<0?0:o}else if("page_down"===e){var s=i+this.props.pageSize;i=s>t.length-1?t.length-1:s}-1===i&&(i=0),this.setState({focusedIndex:t[i].index,focusedOption:t[i].option})}}},{key:"getFocusedOption",value:function(){return this._focusedOption}},{key:"selectFocusedOption",value:function(){if(this._focusedOption)return this.selectValue(this._focusedOption)}},{key:"renderLoading",value:function(){if(this.props.isLoading)return c.a.createElement("span",{className:"Select-loading-zone","aria-hidden":"true"},c.a.createElement("span",{className:"Select-loading"}))}},{key:"renderValue",value:function(e,t){var n=this,i=this.props.valueRenderer||this.getOptionLabel,r=this.props.valueComponent;if(!e.length)return function(e,t,n){var i=e.inputValue,r=e.isPseudoFocused,o=e.isFocused,s=t.onSelectResetsInput;return!i||!s&&!n&&!r&&!o}(this.state,this.props,t)?c.a.createElement("div",{className:"Select-placeholder"},this.props.placeholder):null;var o,s,a,l,u,p,f=this.props.onValueClick?this.handleValueClick:null;return this.props.multi?e.map(function(e,t){return c.a.createElement(r,{disabled:n.props.disabled||!1===e.clearableValue,id:n._instancePrefix+"-value-"+t,instancePrefix:n._instancePrefix,key:"value-"+t+"-"+e[n.props.valueKey],onClick:f,onRemove:n.removeValue,placeholder:n.props.placeholder,value:e},i(e,t),c.a.createElement("span",{className:"Select-aria-only"}," "))}):(o=this.state,s=this.props,a=o.inputValue,l=o.isPseudoFocused,u=o.isFocused,p=s.onSelectResetsInput,a&&(p||!u&&l||u&&!l)?void 0:(t&&(f=null),c.a.createElement(r,{disabled:this.props.disabled,id:this._instancePrefix+"-value-item",instancePrefix:this._instancePrefix,onClick:f,placeholder:this.props.placeholder,value:e[0]},i(e[0]))))}},{key:"renderInput",value:function(e,t){var n,i=this,o=s()("Select-input",this.props.inputProps.className),a=this.state.isOpen,l=s()((k(n={},this._instancePrefix+"-list",a),k(n,this._instancePrefix+"-backspace-remove-message",this.props.multi&&!this.props.disabled&&this.state.isFocused&&!this.state.inputValue),n)),u=this.state.inputValue;!u||this.props.onSelectResetsInput||this.state.isFocused||(u="");var p=S({},this.props.inputProps,{"aria-activedescendant":a?this._instancePrefix+"-option-"+t:this._instancePrefix+"-value","aria-describedby":this.props["aria-describedby"],"aria-expanded":""+a,"aria-haspopup":""+a,"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-owns":l,className:o,onBlur:this.handleInputBlur,onChange:this.handleInputChange,onFocus:this.handleInputFocus,ref:function(e){return i.input=e},role:"combobox",required:this.state.required,tabIndex:this.props.tabIndex,value:u});if(this.props.inputRenderer)return this.props.inputRenderer(p);if(this.props.disabled||!this.props.searchable){var f=E(this.props.inputProps,[]),d=s()(k({},this._instancePrefix+"-list",a));return c.a.createElement("div",S({},f,{"aria-expanded":a,"aria-owns":d,"aria-activedescendant":a?this._instancePrefix+"-option-"+t:this._instancePrefix+"-value","aria-disabled":""+this.props.disabled,"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],className:o,onBlur:this.handleInputBlur,onFocus:this.handleInputFocus,ref:function(e){return i.input=e},role:"combobox",style:{border:0,width:1,display:"inline-block"},tabIndex:this.props.tabIndex||0}))}return this.props.autosize?c.a.createElement(r.a,S({id:this.props.id},p,{minWidth:"5"})):c.a.createElement("div",{className:o,key:"input-wrap",style:{display:"inline-block"}},c.a.createElement("input",S({id:this.props.id},p)))}},{key:"renderClear",value:function(){var e=this.getValueArray(this.props.value);if(this.props.clearable&&e.length&&!this.props.disabled&&!this.props.isLoading){var t=this.props.multi?this.props.clearAllText:this.props.clearValueText,n=this.props.clearRenderer();return c.a.createElement("span",{"aria-label":t,className:"Select-clear-zone",onMouseDown:this.clearValue,onTouchEnd:this.handleTouchEndClearValue,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,title:t},n)}}},{key:"renderArrow",value:function(){if(this.props.arrowRenderer){var e=this.handleMouseDownOnArrow,t=this.state.isOpen,n=this.props.arrowRenderer({onMouseDown:e,isOpen:t});return n?c.a.createElement("span",{className:"Select-arrow-zone",onMouseDown:e},n):null}}},{key:"filterOptions",value:function(e){var t=this.state.inputValue,n=this.props.options||[];if(this.props.filterOptions){var i="function"==typeof this.props.filterOptions?this.props.filterOptions:b;return i(n,t,e,{filterOption:this.props.filterOption,ignoreAccents:this.props.ignoreAccents,ignoreCase:this.props.ignoreCase,labelKey:this.props.labelKey,matchPos:this.props.matchPos,matchProp:this.props.matchProp,trimFilter:this.props.trimFilter,valueKey:this.props.valueKey})}return n}},{key:"onOptionRef",value:function(e,t){t&&(this.focused=e)}},{key:"renderMenu",value:function(e,t,n){return e&&e.length?this.props.menuRenderer({focusedOption:n,focusOption:this.focusOption,inputValue:this.state.inputValue,instancePrefix:this._instancePrefix,labelKey:this.props.labelKey,onFocus:this.focusOption,onOptionRef:this.onOptionRef,onSelect:this.selectValue,optionClassName:this.props.optionClassName,optionComponent:this.props.optionComponent,optionRenderer:this.props.optionRenderer||this.getOptionLabel,options:e,removeValue:this.removeValue,selectValue:this.selectValue,valueArray:t,valueKey:this.props.valueKey}):this.props.noResultsText?c.a.createElement("div",{className:"Select-noresults"},this.props.noResultsText):null}},{key:"renderHiddenField",value:function(e){var t=this;if(this.props.name){if(this.props.joinValues){var n=e.map(function(e){return M(e[t.props.valueKey])}).join(this.props.delimiter);return c.a.createElement("input",{disabled:this.props.disabled,name:this.props.name,ref:function(e){return t.value=e},type:"hidden",value:n})}return e.map(function(e,n){return c.a.createElement("input",{disabled:t.props.disabled,key:"hidden."+n,name:t.props.name,ref:"value"+n,type:"hidden",value:M(e[t.props.valueKey])})})}}},{key:"getFocusableOptionIndex",value:function(e){var t=this._visibleOptions;if(!t.length)return null;var n=this.props.valueKey,i=this.state.focusedOption||e;if(i&&!i.disabled){var r=-1;if(t.some(function(e,t){var o=e[n]===i[n];return o&&(r=t),o}),-1!==r)return r}for(var o=0;o<t.length;o++)if(!t[o].disabled)return o;return null}},{key:"renderOuter",value:function(e,t,n){var i=this,r=this.renderMenu(e,t,n);return r?c.a.createElement("div",{ref:function(e){return i.menuContainer=e},className:"Select-menu-outer",style:this.props.menuContainerStyle},c.a.createElement("div",{className:"Select-menu",id:this._instancePrefix+"-list",onMouseDown:this.handleMouseDownOnMenu,onScroll:this.handleMenuScroll,ref:function(e){return i.menu=e},role:"listbox",style:this.props.menuStyle,tabIndex:-1},r)):null}},{key:"render",value:function(){var e=this,t=this.getValueArray(this.props.value),n=this._visibleOptions=this.filterOptions(this.props.multi&&this.props.removeSelected?t:null),i=this.state.isOpen;this.props.multi&&!n.length&&t.length&&!this.state.inputValue&&(i=!1);var r=this.getFocusableOptionIndex(t[0]),o=null;o=this._focusedOption=null!==r?n[r]:null;var a=s()("Select",this.props.className,{"has-value":t.length,"is-clearable":this.props.clearable,"is-disabled":this.props.disabled,"is-focused":this.state.isFocused,"is-loading":this.props.isLoading,"is-open":i,"is-pseudo-focused":this.state.isPseudoFocused,"is-searchable":this.props.searchable,"Select--multi":this.props.multi,"Select--rtl":this.props.rtl,"Select--single":!this.props.multi}),l=null;return this.props.multi&&!this.props.disabled&&t.length&&!this.state.inputValue&&this.state.isFocused&&this.props.backspaceRemoves&&(l=c.a.createElement("span",{id:this._instancePrefix+"-backspace-remove-message",className:"Select-aria-only","aria-live":"assertive"},this.props.backspaceToRemoveMessage.replace("{label}",t[t.length-1][this.props.labelKey]))),c.a.createElement("div",{ref:function(t){return e.wrapper=t},className:a,style:this.props.wrapperStyle},this.renderHiddenField(t),c.a.createElement("div",{ref:function(t){return e.control=t},className:"Select-control",onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onTouchEnd:this.handleTouchEnd,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,style:this.props.style},c.a.createElement("span",{className:"Select-multi-value-wrapper",id:this._instancePrefix+"-value"},this.renderValue(t,i),this.renderInput(t,r)),l,this.renderLoading(),this.renderClear(),this.renderArrow()),i?this.renderOuter(n,t,o):null)}}]),t}(c.a.Component);I.propTypes={"aria-describedby":l.a.string,"aria-label":l.a.string,"aria-labelledby":l.a.string,arrowRenderer:l.a.func,autoBlur:l.a.bool,autoFocus:l.a.bool,autofocus:l.a.bool,autosize:l.a.bool,backspaceRemoves:l.a.bool,backspaceToRemoveMessage:l.a.string,className:l.a.string,clearAllText:R,clearRenderer:l.a.func,clearValueText:R,clearable:l.a.bool,closeOnSelect:l.a.bool,deleteRemoves:l.a.bool,delimiter:l.a.string,disabled:l.a.bool,escapeClearsValue:l.a.bool,filterOption:l.a.func,filterOptions:l.a.any,id:l.a.string,ignoreAccents:l.a.bool,ignoreCase:l.a.bool,inputProps:l.a.object,inputRenderer:l.a.func,instanceId:l.a.string,isLoading:l.a.bool,joinValues:l.a.bool,labelKey:l.a.string,matchPos:l.a.string,matchProp:l.a.string,menuBuffer:l.a.number,menuContainerStyle:l.a.object,menuRenderer:l.a.func,menuStyle:l.a.object,multi:l.a.bool,name:l.a.string,noResultsText:R,onBlur:l.a.func,onBlurResetsInput:l.a.bool,onChange:l.a.func,onClose:l.a.func,onCloseResetsInput:l.a.bool,onFocus:l.a.func,onInputChange:l.a.func,onInputKeyDown:l.a.func,onMenuScrollToBottom:l.a.func,onOpen:l.a.func,onSelectResetsInput:l.a.bool,onValueClick:l.a.func,openOnClick:l.a.bool,openOnFocus:l.a.bool,optionClassName:l.a.string,optionComponent:l.a.func,optionRenderer:l.a.func,options:l.a.array,pageSize:l.a.number,placeholder:R,removeSelected:l.a.bool,required:l.a.bool,resetValue:l.a.any,rtl:l.a.bool,scrollMenuIntoView:l.a.bool,searchable:l.a.bool,simpleValue:l.a.bool,style:l.a.object,tabIndex:O,tabSelectsValue:l.a.bool,trimFilter:l.a.bool,value:l.a.any,valueComponent:l.a.func,valueKey:l.a.string,valueRenderer:l.a.func,wrapperStyle:l.a.object},I.defaultProps={arrowRenderer:f,autosize:!0,backspaceRemoves:!0,backspaceToRemoveMessage:"Press backspace to remove {label}",clearable:!0,clearAllText:"Clear all",clearRenderer:d,clearValueText:"Clear value",closeOnSelect:!0,deleteRemoves:!0,delimiter:",",disabled:!1,escapeClearsValue:!0,filterOptions:b,ignoreAccents:!0,ignoreCase:!0,inputProps:{},isLoading:!1,joinValues:!1,labelKey:"label",matchPos:"any",matchProp:"any",menuBuffer:0,menuRenderer:y,multi:!1,noResultsText:"No results found",onBlurResetsInput:!0,onCloseResetsInput:!0,onSelectResetsInput:!0,openOnClick:!0,optionComponent:A,pageSize:5,placeholder:"Select...",removeSelected:!0,required:!1,rtl:!1,scrollMenuIntoView:!0,searchable:!0,simpleValue:!1,tabSelectsValue:!0,trimFilter:!0,valueComponent:N,valueKey:"value"};var F={autoload:l.a.bool.isRequired,cache:l.a.any,children:l.a.func.isRequired,ignoreAccents:l.a.bool,ignoreCase:l.a.bool,loadOptions:l.a.func.isRequired,loadingPlaceholder:l.a.oneOfType([l.a.string,l.a.node]),multi:l.a.bool,noResultsText:l.a.oneOfType([l.a.string,l.a.node]),onChange:l.a.func,onInputChange:l.a.func,options:l.a.array.isRequired,placeholder:l.a.oneOfType([l.a.string,l.a.node]),searchPromptText:l.a.oneOfType([l.a.string,l.a.node]),value:l.a.any},$={},j={autoload:!0,cache:$,children:function(e){return c.a.createElement(I,e)},ignoreAccents:!0,ignoreCase:!0,loadingPlaceholder:"Loading...",options:[],searchPromptText:"Type to search"},B=function(e){function t(e,n){x(this,t);var i=T(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i._cache=e.cache===$?{}:e.cache,i.state={inputValue:"",isLoading:!1,options:e.options},i.onInputChange=i.onInputChange.bind(i),i}return C(t,e),w(t,[{key:"componentDidMount",value:function(){this.props.autoload&&this.loadOptions("")}},{key:"componentWillReceiveProps",value:function(e){e.options!==this.props.options&&this.setState({options:e.options})}},{key:"componentWillUnmount",value:function(){this._callback=null}},{key:"loadOptions",value:function(e){var t=this,n=this.props.loadOptions,i=this._cache;if(i&&Object.prototype.hasOwnProperty.call(i,e))return this._callback=null,void this.setState({isLoading:!1,options:i[e]});var r=function n(r,o){var s=o&&o.options||[];i&&(i[e]=s),n===t._callback&&(t._callback=null,t.setState({isLoading:!1,options:s}))};this._callback=r;var o=n(e,r);o&&o.then(function(e){return r(0,e)},function(e){return r()}),this._callback&&!this.state.isLoading&&this.setState({isLoading:!0})}},{key:"onInputChange",value:function(e){var t=this.props,n=t.ignoreAccents,i=t.ignoreCase,r=t.onInputChange,o=e;if(r){var s=r(o);null!=s&&"object"!==(void 0===s?"undefined":_(s))&&(o=""+s)}var a=o;return n&&(a=m(a)),i&&(a=a.toLowerCase()),this.setState({inputValue:o}),this.loadOptions(a),o}},{key:"noResultsText",value:function(){var e=this.props,t=e.loadingPlaceholder,n=e.noResultsText,i=e.searchPromptText,r=this.state,o=r.inputValue;return r.isLoading?t:o&&n?n:i}},{key:"focus",value:function(){this.select.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,i=t.loadingPlaceholder,r=t.placeholder,o=this.state,s=o.isLoading,a=o.options,l={noResultsText:this.noResultsText(),placeholder:s?i:r,options:s&&i?[]:a,ref:function(t){return e.select=t}};return n(S({},this.props,l,{isLoading:s,onInputChange:this.onInputChange}))}}]),t}(u.Component);B.propTypes=F,B.defaultProps=j;var z=function(e){function t(e,n){x(this,t);var i=T(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.filterOptions=i.filterOptions.bind(i),i.menuRenderer=i.menuRenderer.bind(i),i.onInputKeyDown=i.onInputKeyDown.bind(i),i.onInputChange=i.onInputChange.bind(i),i.onOptionSelect=i.onOptionSelect.bind(i),i}return C(t,e),w(t,[{key:"createNewOption",value:function(){var e=this.props,t=e.isValidNewOption,n=e.newOptionCreator,i=e.onNewOptionClick,r=e.options,o=void 0===r?[]:r;if(t({label:this.inputValue})){var s=n({label:this.inputValue,labelKey:this.labelKey,valueKey:this.valueKey});this.isOptionUnique({option:s,options:o})&&(i?i(s):(o.unshift(s),this.select.selectValue(s)))}}},{key:"filterOptions",value:function(){var e=this.props,t=e.filterOptions,n=e.isValidNewOption,i=e.promptTextCreator,r=(arguments.length<=2?void 0:arguments[2])||[],o=t.apply(void 0,arguments)||[];if(n({label:this.inputValue})){var s=this.props.newOptionCreator,a=s({label:this.inputValue,labelKey:this.labelKey,valueKey:this.valueKey});if(this.isOptionUnique({option:a,options:r.concat(o)})){var l=i(this.inputValue);this._createPlaceholderOption=s({label:l,labelKey:this.labelKey,valueKey:this.valueKey}),o.unshift(this._createPlaceholderOption)}}return o}},{key:"isOptionUnique",value:function(e){var t=e.option,n=e.options,i=this.props.isOptionUnique;return n=n||this.props.options,i({labelKey:this.labelKey,option:t,options:n,valueKey:this.valueKey})}},{key:"menuRenderer",value:function(e){var t=this.props.menuRenderer;return t(S({},e,{onSelect:this.onOptionSelect,selectValue:this.onOptionSelect}))}},{key:"onInputChange",value:function(e){var t=this.props.onInputChange;return this.inputValue=e,t&&(this.inputValue=t(e)),this.inputValue}},{key:"onInputKeyDown",value:function(e){var t=this.props,n=t.shouldKeyDownEventCreateNewOption,i=t.onInputKeyDown,r=this.select.getFocusedOption();r&&r===this._createPlaceholderOption&&n({keyCode:e.keyCode})?(this.createNewOption(),e.preventDefault()):i&&i(e)}},{key:"onOptionSelect",value:function(e){e===this._createPlaceholderOption?this.createNewOption():this.select.selectValue(e)}},{key:"focus",value:function(){this.select.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.ref,i=E(t,["ref"]),r=this.props.children;return r||(r=q),r(S({},i,{allowCreate:!0,filterOptions:this.filterOptions,menuRenderer:this.menuRenderer,onInputChange:this.onInputChange,onInputKeyDown:this.onInputKeyDown,ref:function(t){e.select=t,t&&(e.labelKey=t.props.labelKey,e.valueKey=t.props.valueKey),n&&n(t)}}))}}]),t}(c.a.Component),q=function(e){return c.a.createElement(I,e)},H=function(e){var t=e.option,n=e.options,i=e.labelKey,r=e.valueKey;return!n||!n.length||0===n.filter(function(e){return e[i]===t[i]||e[r]===t[r]}).length},U=function(e){return!!e.label},W=function(e){var t=e.label,n=e.labelKey,i={};return i[e.valueKey]=t,i[n]=t,i.className="Select-create-option-placeholder",i},V=function(e){return'Create option "'+e+'"'},G=function(e){switch(e.keyCode){case 9:case 13:case 188:return!0;default:return!1}};z.isOptionUnique=H,z.isValidNewOption=U,z.newOptionCreator=W,z.promptTextCreator=V,z.shouldKeyDownEventCreateNewOption=G,z.defaultProps={filterOptions:b,isOptionUnique:H,isValidNewOption:U,menuRenderer:y,newOptionCreator:W,promptTextCreator:V,shouldKeyDownEventCreateNewOption:G},z.propTypes={children:l.a.func,filterOptions:l.a.any,isOptionUnique:l.a.func,isValidNewOption:l.a.func,menuRenderer:l.a.any,newOptionCreator:l.a.func,onInputChange:l.a.func,onInputKeyDown:l.a.func,onNewOptionClick:l.a.func,options:l.a.array,promptTextCreator:l.a.func,ref:l.a.func,shouldKeyDownEventCreateNewOption:l.a.func};var K=function(e){function t(){return x(this,t),T(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return C(t,e),w(t,[{key:"focus",value:function(){this.select.focus()}},{key:"render",value:function(){var e=this;return c.a.createElement(B,this.props,function(t){var n=t.ref,i=E(t,["ref"]),r=n;return c.a.createElement(z,i,function(t){var n=t.ref,i=E(t,["ref"]),o=n;return e.props.children(S({},i,{ref:function(t){o(t),r(t),e.select=t}}))})})}}]),t}(c.a.Component);K.propTypes={children:l.a.func.isRequired},K.defaultProps={children:function(e){return c.a.createElement(I,e)}},I.Async=B,I.AsyncCreatable=K,I.Creatable=z,I.Value=N,I.Option=A,t.default=I},function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(25);var o=function(){};((i=r)&&i.__esModule?i:{default:i}).default&&(o=document.addEventListener?function(e,t,n,i){return e.addEventListener(t,n,i||!1)}:document.attachEvent?function(e,t,n){return e.attachEvent("on"+t,function(t){(t=t||window.event).target=t.target||t.srcElement,t.currentTarget=e,n.call(e,t)})}:void 0),t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=s(n(1)),o=s(n(40));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,o.default)(function(e,t,n,o,s){var a=e[t],l=void 0===a?"undefined":i(a);return r.default.isValidElement(a)?new Error("Invalid "+o+" `"+s+"` of type ReactElement supplied to `"+n+"`, expected a ReactComponent or a DOMElement. You can usually obtain a ReactComponent or DOMElement from a ReactElement by attaching a ref to it."):"object"===l&&"function"==typeof a.render||1===a.nodeType?null:new Error("Invalid "+o+" `"+s+"` of value `"+a+"` supplied to `"+n+"`, expected a ReactComponent or a DOMElement.")}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e===e.window?e:9===e.nodeType&&(e.defaultView||e.parentWindow)},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return e="function"==typeof e?e():e,o.default.findDOMNode(e)||t};var i,r=n(10),o=(i=r)&&i.__esModule?i:{default:i};e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var i=s(n(241)),r=s(n(249)),o="function"==typeof r.default&&"symbol"==typeof i.default?function(e){return typeof e}:function(e){return e&&"function"==typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":typeof e};function s(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof r.default&&"symbol"===o(i.default)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":void 0===e?"undefined":o(e)}},function(e,t,n){"use strict";t.__esModule=!0,t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=c(n(6)),o=c(n(59)),s=c(n(128)),a=c(n(0)),l=c(n(1)),u=c(n(10));function c(e){return e&&e.__esModule?e:{default:e}}var p=s.default.end,f=t.UNMOUNTED=0,d=t.EXITED=1,h=t.ENTERING=2,m=t.ENTERED=3,g=t.EXITING=4,b=function(e){function t(n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,i));r.updateStatus=function(){if(null!==r.nextStatus){r.cancelNextCallback();var e=u.default.findDOMNode(r);r.nextStatus===h?(r.props.onEnter(e),r.safeSetState({status:h},function(){r.props.onEntering(e),r.onTransitionEnd(e,function(){r.safeSetState({status:m},function(){r.props.onEntered(e)})})})):(r.props.onExit(e),r.safeSetState({status:g},function(){r.props.onExiting(e),r.onTransitionEnd(e,function(){r.safeSetState({status:d},function(){r.props.onExited(e)})})})),r.nextStatus=null}else r.props.unmountOnExit&&r.state.status===d&&r.setState({status:f})},r.cancelNextCallback=function(){null!==r.nextCallback&&(r.nextCallback.cancel(),r.nextCallback=null)},r.safeSetState=function(e,t){r.setState(e,r.setNextCallback(t))},r.setNextCallback=function(e){var t=!0;return r.nextCallback=function(n){t&&(t=!1,r.nextCallback=null,e(n))},r.nextCallback.cancel=function(){t=!1},r.nextCallback},r.onTransitionEnd=function(e,t){r.setNextCallback(t),e?((0,o.default)(e,p,r.nextCallback),setTimeout(r.nextCallback,r.props.timeout)):setTimeout(r.nextCallback,0)};var s=void 0;return r.nextStatus=null,n.in?n.transitionAppear?(s=d,r.nextStatus=h):s=m:s=n.unmountOnExit||n.mountOnEnter?f:d,r.state={status:s},r.nextCallback=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.updateStatus()},t.prototype.componentWillReceiveProps=function(e){var t=this.state.status;e.in?(t===f&&this.setState({status:d}),t!==h&&t!==m&&(this.nextStatus=h)):t!==h&&t!==m||(this.nextStatus=g)},t.prototype.componentDidUpdate=function(){this.updateStatus()},t.prototype.componentWillUnmount=function(){this.cancelNextCallback()},t.prototype.render=function(){var e=this.state.status;if(e===f)return null;var n=this.props,o=n.children,s=n.className,a=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(n,["children","className"]);Object.keys(t.propTypes).forEach(function(e){return delete a[e]});var u=void 0;e===d?u=this.props.exitedClassName:e===h?u=this.props.enteringClassName:e===m?u=this.props.enteredClassName:e===g&&(u=this.props.exitingClassName);var c=l.default.Children.only(o);return l.default.cloneElement(c,i({},a,{className:(0,r.default)(c.props.className,s,u)}))},t}(l.default.Component);function y(){}b.propTypes={in:a.default.bool,mountOnEnter:a.default.bool,unmountOnExit:a.default.bool,transitionAppear:a.default.bool,timeout:a.default.number,exitedClassName:a.default.string,exitingClassName:a.default.string,enteredClassName:a.default.string,enteringClassName:a.default.string,onEnter:a.default.func,onEntering:a.default.func,onEntered:a.default.func,onExit:a.default.func,onExiting:a.default.func,onExited:a.default.func},b.displayName="Transition",b.defaultProps={in:!1,unmountOnExit:!1,transitionAppear:!1,timeout:5e3,onEnter:y,onEntering:y,onEntered:y,onExit:y,onExiting:y,onExited:y},t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((!s&&0!==s||e)&&o.default){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),s=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return s};var i,r=n(25),o=(i=r)&&i.__esModule?i:{default:i};var s=void 0;e.exports=t.default},function(e,t,n){var i=n(138);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var i=n(78);e.exports=function(e){return Object(i(e))}},function(e,t){e.exports=!0},function(e,t,n){var i=n(29).f,r=n(32),o=n(19)("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,o)&&i(e,o,{configurable:!0,value:t})}},function(e,t){e.exports=Reflux.createActions(["appendFiles","createRemoteFile","deleteRemoteFile","disconnectSocket","disconnectSockets","duplicateRemoteFile","listRemoteDirectory","renameRemoteFile","setActive","setDirectory","setFiles","toggleDirectory"])},function(e,t,n){"use strict";t.__esModule=!0;var i,r=n(615),o=(i=r)&&i.__esModule?i:{default:i};t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,o.default)(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.__keep=t.joinConcat=t.joinStrict=t.joinLeading=t.all=t.joinTrailing=t.use=t.nextTick=t.setEventEmitter=t.createActions=t.createStore=t.createAction=t.utils=t.StoreMethods=t.PublisherMethods=t.ListenerMethods=t.ActionMethods=t.version=void 0;var i=f(n(114)),r=f(n(30)),o=f(n(75)),s=f(n(117)),a=n(115),l=f(n(20)),u=n(226),c=n(116),p=f(n(74));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var d,h=(0,a.staticJoinCreator)("last"),m=h,g=(0,a.staticJoinCreator)("first"),b=(0,a.staticJoinCreator)("strict"),y=(0,a.staticJoinCreator)("all"),v=l,_=(d=function(e,t){Object.keys(e).forEach(function(n){var i=e[n];t[n]=(0,u.createAction)(i)})},function(e){var t={};return e instanceof Array?e.forEach(function(e){l.isObject(e)?d(e,t):t[e]=(0,u.createAction)(e)}):d(e,t),t});t.version={"reflux-core":"0.4.3"},t.ActionMethods=i,t.ListenerMethods=r,t.PublisherMethods=o,t.StoreMethods=s,t.utils=v,t.createAction=u.createAction,t.createStore=c.createStore,t.createActions=_,t.setEventEmitter=function(e){l.EventEmitter=e},t.nextTick=function(e){l.nextTick=e},t.use=function(e){e(this)},t.joinTrailing=h,t.all=m,t.joinLeading=g,t.joinStrict=b,t.joinConcat=y,t.__keep=p,Object.defineProperty(t,"default",{get:function(){return t}}),Function.prototype.bind||console.error("Function.prototype.bind not available. ES5 shim required. https://github.com/spoike/refluxjs#es5")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=!1,r=[],o=[];t.useKeep=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];i=e},t.addStore=function(e){i&&r.push(e)},t.addAction=function(e){i&&o.push(e)},t.createdStores=r,t.createdActions=o,t.reset=function(){for(;r.length;)r.pop();for(;o.length;)o.pop()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deferWith=t.triggerAsync=t.trigger=t.listen=t.shouldEmit=t.preEmit=void 0;var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(20));t.preEmit=function(){},t.shouldEmit=function(){return!0},t.listen=function(e,t){t=t||this;var n=function(n){r||e.apply(t,n)},i=this,r=!1;return this.emitter.addListener(this.eventLabel,n),function(){r=!0,i.emitter.removeListener(i.eventLabel,n)}},t.trigger=function(){var e=arguments,t=this.preEmit.apply(this,e);e=void 0===t?e:i.isArguments(t)?t:[].concat(t),this.shouldEmit.apply(this,e)&&this.emitter.emit(this.eventLabel,e)},t.triggerAsync=function(){var e=arguments,t=this;i.nextTick(function(){t.trigger.apply(t,e)})},t.deferWith=function(e){var t=this.trigger,n=this,i=function(){t.apply(n,arguments)};this.trigger=function(){e.apply(n,[i].concat([].splice.call(arguments,0)))}}},function(e,t,n){var i=n(20),r=n(30);e.exports=i.extend({componentWillUnmount:r.stopListeningToAll},r)},function(e,t,n){var i=n(35);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},function(e,t,n){var i=n(81)("keys"),r=n(58);e.exports=function(e){return i[e]||(i[e]=r(e))}},function(e,t,n){var i=n(24),r=i["__core-js_shared__"]||(i["__core-js_shared__"]={});e.exports=function(e){return r[e]||(r[e]={})}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var i=n(31),r=n(245),o=n(82),s=n(80)("IE_PROTO"),a=function(){},l=function(){var e,t=n(108)("iframe"),i=o.length;for(t.style.display="none",n(210).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;i--;)delete l.prototype[o[i]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(a.prototype=i(e),n=new a,a.prototype=null,n[s]=e):n=l(),void 0===t?n:r(n,t)}},function(e,t,n){t.f=n(19)},function(e,t,n){var i=n(24),r=n(16),o=n(69),s=n(85),a=n(29).f;e.exports=function(e){var t=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:s.f(e)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(25);var o=function(){};((i=r)&&i.__esModule?i:{default:i}).default&&(o=document.addEventListener?function(e,t,n,i){return e.removeEventListener(t,n,i||!1)}:document.attachEvent?function(e,t,n){return e.detachEvent("on"+t,n)}:void 0),t.default=o,e.exports=t.default},function(e,t,n){!function(e){"use strict";function t(e,t,n,i,r,o){this.indented=e,this.column=t,this.type=n,this.info=i,this.align=r,this.prev=o}function n(e,n,i,r){var o=e.indented;return e.context&&"statement"==e.context.type&&"statement"!=i&&(o=e.context.indented),e.context=new t(o,n,i,r,null,e.context)}function i(e){var t=e.context.type;return")"!=t&&"]"!=t&&"}"!=t||(e.indented=e.context.indented),e.context=e.context.prev}function r(e,t,n){return"variable"==t.prevToken||"type"==t.prevToken||!!/\S(?:[^- ]>|[*\]])\s*$|\*$/.test(e.string.slice(0,n))||!(!t.typeAtEndOfLine||e.column()!=e.indentation())||void 0}function o(e){for(;;){if(!e||"top"==e.type)return!0;if("}"==e.type&&"namespace"!=e.prev.info)return!1;e=e.prev}}function s(e){for(var t={},n=e.split(" "),i=0;i<n.length;++i)t[n[i]]=!0;return t}function a(e,t){return"function"==typeof e?e(t):e.propertyIsEnumerable(t)}e.defineMode("clike",function(s,l){var u,c,p=s.indentUnit,f=l.statementIndentUnit||p,d=l.dontAlignCalls,h=l.keywords||{},m=l.types||{},g=l.builtin||{},b=l.blockKeywords||{},y=l.defKeywords||{},v=l.atoms||{},_=l.hooks||{},x=l.multiLineStrings,w=!1!==l.indentStatements,k=!1!==l.indentSwitch,S=l.namespaceSeparator,C=l.isPunctuationChar||/[\[\]{}\(\),;\:\.]/,E=l.numberStart||/[\d\.]/,T=l.number||/^(?:0x[a-f\d]+|0b[01]+|(?:\d+\.?\d*|\.\d+)(?:e[-+]?\d+)?)(u|ll?|l|f)?/i,A=l.isOperatorChar||/[+\-*&%=<>!?|\/]/,N=l.isIdentifierChar||/[\w\$_\xa1-\uffff]/,M=l.isReservedIdentifier||!1;function R(e,t){var n,i=e.next();if(_[i]){var r=_[i](e,t);if(!1!==r)return r}if('"'==i||"'"==i)return t.tokenize=(n=i,function(e,t){for(var i,r=!1,o=!1;null!=(i=e.next());){if(i==n&&!r){o=!0;break}r=!r&&"\\"==i}return(o||!r&&!x)&&(t.tokenize=null),"string"}),t.tokenize(e,t);if(C.test(i))return u=i,null;if(E.test(i)){if(e.backUp(1),e.match(T))return"number";e.next()}if("/"==i){if(e.eat("*"))return t.tokenize=O,O(e,t);if(e.eat("/"))return e.skipToEnd(),"comment"}if(A.test(i)){for(;!e.match(/^\/[\/*]/,!1)&&e.eat(A););return"operator"}if(e.eatWhile(N),S)for(;e.match(S);)e.eatWhile(N);var o=e.current();return a(h,o)?(a(b,o)&&(u="newstatement"),a(y,o)&&(c=!0),"keyword"):a(m,o)?"type":a(g,o)||M&&M(o)?(a(b,o)&&(u="newstatement"),"builtin"):a(v,o)?"atom":"variable"}function O(e,t){for(var n,i=!1;n=e.next();){if("/"==n&&i){t.tokenize=null;break}i="*"==n}return"comment"}function L(e,t){l.typeFirstDefinitions&&e.eol()&&o(t.context)&&(t.typeAtEndOfLine=r(e,t,e.pos))}return{startState:function(e){return{tokenize:null,context:new t((e||0)-p,0,"top",null,!1),indented:0,startOfLine:!0,prevToken:null}},token:function(e,t){var s=t.context;if(e.sol()&&(null==s.align&&(s.align=!1),t.indented=e.indentation(),t.startOfLine=!0),e.eatSpace())return L(e,t),null;u=c=null;var a=(t.tokenize||R)(e,t);if("comment"==a||"meta"==a)return a;if(null==s.align&&(s.align=!0),";"==u||":"==u||","==u&&e.match(/^\s*(?:\/\/.*)?$/,!1))for(;"statement"==t.context.type;)i(t);else if("{"==u)n(t,e.column(),"}");else if("["==u)n(t,e.column(),"]");else if("("==u)n(t,e.column(),")");else if("}"==u){for(;"statement"==s.type;)s=i(t);for("}"==s.type&&(s=i(t));"statement"==s.type;)s=i(t)}else u==s.type?i(t):w&&(("}"==s.type||"top"==s.type)&&";"!=u||"statement"==s.type&&"newstatement"==u)&&n(t,e.column(),"statement",e.current());if("variable"==a&&("def"==t.prevToken||l.typeFirstDefinitions&&r(e,t,e.start)&&o(t.context)&&e.match(/^\s*\(/,!1))&&(a="def"),_.token){var p=_.token(e,t,a);void 0!==p&&(a=p)}return"def"==a&&!1===l.styleDefs&&(a="variable"),t.startOfLine=!1,t.prevToken=c?"def":a||u,L(e,t),a},indent:function(t,n){if(t.tokenize!=R&&null!=t.tokenize||t.typeAtEndOfLine)return e.Pass;var i=t.context,r=n&&n.charAt(0),o=r==i.type;if("statement"==i.type&&"}"==r&&(i=i.prev),l.dontIndentStatements)for(;"statement"==i.type&&l.dontIndentStatements.test(i.info);)i=i.prev;if(_.indent){var s=_.indent(t,i,n,p);if("number"==typeof s)return s}var a=i.prev&&"switch"==i.prev.info;if(l.allmanIndentation&&/[{(]/.test(r)){for(;"top"!=i.type&&"}"!=i.type;)i=i.prev;return i.indented}return"statement"==i.type?i.indented+("{"==r?0:f):!i.align||d&&")"==i.type?")"!=i.type||o?i.indented+(o?0:p)+(o||!a||/^(?:case|default)\b/.test(n)?0:p):i.indented+f:i.column+(o?0:1)},electricInput:k?/^\s*(?:case .*?:|default:|\{\}?|\})$/:/^\s*[{}]$/,blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:"//",fold:"brace"}});var l="auto if break case register continue return default do sizeof static else struct switch extern typedef union for goto while enum const volatile inline restrict asm fortran",u=s("int long char short double float unsigned signed void bool"),c=s("SEL instancetype id Class Protocol BOOL");function p(e){return a(u,e)||/.+_t/.test(e)}var f="case do else for if switch while struct enum union";function d(e,t){if(!t.startOfLine)return!1;for(var n,i=null;n=e.peek();){if("\\"==n&&e.match(/^.$/)){i=d;break}if("/"==n&&e.match(/^\/[\/\*]/,!1))break;e.next()}return t.tokenize=i,"meta"}function h(e,t){return"type"==t.prevToken&&"type"}function m(e){return!(!e||e.length<2||"_"!=e[0]||"_"!=e[1]&&e[1]===e[1].toLowerCase())}function g(e){return e.eatWhile(/[\w\.']/),"number"}function b(e,t){if(e.backUp(1),e.match(/(R|u8R|uR|UR|LR)/)){var n=e.match(/"([^\s\\()]{0,16})\(/);return!!n&&(t.cpp11RawStringDelim=n[1],t.tokenize=v,v(e,t))}return e.match(/(u8|u|U|L)/)?!!e.match(/["']/,!1)&&"string":(e.next(),!1)}function y(e,t){for(var n;null!=(n=e.next());)if('"'==n&&!e.eat('"')){t.tokenize=null;break}return"string"}function v(e,t){var n=t.cpp11RawStringDelim.replace(/[^\w\s]/g,"\\$&"),i=e.match(new RegExp(".*?\\)"+n+'"'));return i?t.tokenize=null:e.skipToEnd(),"string"}function _(t,n){"string"==typeof t&&(t=[t]);var i=[];function r(e){if(e)for(var t in e)e.hasOwnProperty(t)&&i.push(t)}r(n.keywords),r(n.types),r(n.builtin),r(n.atoms),i.length&&(n.helperType=t[0],e.registerHelper("hintWords",t[0],i));for(var o=0;o<t.length;++o)e.defineMIME(t[o],n)}function x(e,t){for(var n=!1;!e.eol();){if(!n&&e.match('"""')){t.tokenize=null;break}n="\\"==e.next()&&!n}return"string"}_(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:s(l),types:p,blockKeywords:s(f),defKeywords:s("struct enum union"),typeFirstDefinitions:!0,atoms:s("NULL true false"),isReservedIdentifier:m,hooks:{"#":d,"*":h},modeProps:{fold:["brace","include"]}}),_(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:s(l+"alignas alignof and and_eq audit axiom bitand bitor catch class compl concept constexpr const_cast decltype delete dynamic_cast explicit export final friend import module mutable namespace new noexcept not not_eq operator or or_eq override private protected public reinterpret_cast requires static_assert static_cast template this thread_local throw try typeid typename using virtual xor xor_eq"),types:p,blockKeywords:s(f+" class try catch"),defKeywords:s("struct enum union class namespace"),typeFirstDefinitions:!0,atoms:s("true false NULL nullptr"),dontIndentStatements:/^template$/,isIdentifierChar:/[\w\$_~\xa1-\uffff]/,isReservedIdentifier:m,hooks:{"#":d,"*":h,u:b,U:b,L:b,R:b,0:g,1:g,2:g,3:g,4:g,5:g,6:g,7:g,8:g,9:g,token:function(e,t,n){if("variable"==n&&"("==e.peek()&&(";"==t.prevToken||null==t.prevToken||"}"==t.prevToken)&&(i=e.current(),(r=/(\w+)::~?(\w+)$/.exec(i))&&r[1]==r[2]))return"def";var i,r}},namespaceSeparator:"::",modeProps:{fold:["brace","include"]}}),_("text/x-java",{name:"clike",keywords:s("abstract assert break case catch class const continue default do else enum extends final finally float for goto if implements import instanceof interface native new package private protected public return static strictfp super switch synchronized this throw throws transient try volatile while @interface"),types:s("byte short int long float double boolean char void Boolean Byte Character Double Float Integer Long Number Object Short String StringBuffer StringBuilder Void"),blockKeywords:s("catch class do else finally for if switch try while"),defKeywords:s("class interface enum @interface"),typeFirstDefinitions:!0,atoms:s("true false null"),number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+\.?\d*|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,hooks:{"@":function(e){return!e.match("interface",!1)&&(e.eatWhile(/[\w\$_]/),"meta")}},modeProps:{fold:["brace","import"]}}),_("text/x-csharp",{name:"clike",keywords:s("abstract as async await base break case catch checked class const continue default delegate do else enum event explicit extern finally fixed for foreach goto if implicit in interface internal is lock namespace new operator out override params private protected public readonly ref return sealed sizeof stackalloc static struct switch this throw try typeof unchecked unsafe using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),types:s("Action Boolean Byte Char DateTime DateTimeOffset Decimal Double Func Guid Int16 Int32 Int64 Object SByte Single String Task TimeSpan UInt16 UInt32 UInt64 bool byte char decimal double short int long object sbyte float string ushort uint ulong"),blockKeywords:s("catch class do else finally for foreach if struct switch try while"),defKeywords:s("class interface namespace struct var"),typeFirstDefinitions:!0,atoms:s("true false null"),hooks:{"@":function(e,t){return e.eat('"')?(t.tokenize=y,y(e,t)):(e.eatWhile(/[\w\$_]/),"meta")}}}),_("text/x-scala",{name:"clike",keywords:s("abstract case catch class def do else extends final finally for forSome if implicit import lazy match new null object override package private protected return sealed super this throw trait try type val var while with yield _ assert assume require print println printf readLine readBoolean readByte readShort readChar readInt readLong readFloat readDouble"),types:s("AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either Enumeration Equiv Error Exception Fractional Function IndexedSeq Int Integral Iterable Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),multiLineStrings:!0,blockKeywords:s("catch class enum do else finally for forSome if match switch try while"),defKeywords:s("class enum def object package trait type val var"),atoms:s("true false null"),indentStatements:!1,indentSwitch:!1,isOperatorChar:/[+\-*&%=<>!?|\/#:@]/,hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"},'"':function(e,t){return!!e.match('""')&&(t.tokenize=x,t.tokenize(e,t))},"'":function(e){return e.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},"=":function(e,n){var i=n.context;return!("}"!=i.type||!i.align||!e.eat(">"))&&(n.context=new t(i.indented,i.column,i.type,i.info,null,i.prev),"operator")},"/":function(e,t){return!!e.eat("*")&&(t.tokenize=function e(t){return function(n,i){for(var r;r=n.next();){if("*"==r&&n.eat("/")){if(1==t){i.tokenize=null;break}return i.tokenize=e(t-1),i.tokenize(n,i)}if("/"==r&&n.eat("*"))return i.tokenize=e(t+1),i.tokenize(n,i)}return"comment"}}(1),t.tokenize(e,t))}},modeProps:{closeBrackets:{pairs:'()[]{}""',triples:'"'}}}),_("text/x-kotlin",{name:"clike",keywords:s("package as typealias class interface this super val operator var fun for is in This throw return annotation break continue object if else while do try when !in !is as? file import where by get set abstract enum open inner override private public internal protected catch finally out final vararg reified dynamic companion constructor init sealed field property receiver param sparam lateinit data inline noinline tailrec external annotation crossinline const operator infix suspend actual expect setparam"),types:s("Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void Annotation Any BooleanArray ByteArray Char CharArray DeprecationLevel DoubleArray Enum FloatArray Function Int IntArray Lazy LazyThreadSafetyMode LongArray Nothing ShortArray Unit"),intendSwitch:!1,indentStatements:!1,multiLineStrings:!0,number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+(\.\d+)?|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,blockKeywords:s("catch class do else finally for if where try while enum"),defKeywords:s("class val var object interface fun"),atoms:s("true false null this"),hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"},"*":function(e,t){return"."==t.prevToken?"variable":"operator"},'"':function(e,t){var n;return t.tokenize=(n=e.match('""'),function(e,t){for(var i,r=!1,o=!1;!e.eol();){if(!n&&!r&&e.match('"')){o=!0;break}if(n&&e.match('"""')){o=!0;break}i=e.next(),!r&&"$"==i&&e.match("{")&&e.skipTo("}"),r=!r&&"\\"==i&&!n}return!o&&n||(t.tokenize=null),"string"}),t.tokenize(e,t)},indent:function(e,t,n,i){var r=n&&n.charAt(0);return"}"!=e.prevToken&&")"!=e.prevToken||""!=n?"operator"==e.prevToken&&"}"!=n||"variable"==e.prevToken&&"."==r||("}"==e.prevToken||")"==e.prevToken)&&"."==r?2*i+t.indented:t.align&&"}"==t.type?t.indented+(e.context.type==(n||"").charAt(0)?0:i):void 0:e.indented}},modeProps:{closeBrackets:{triples:'"'}}}),_(["x-shader/x-vertex","x-shader/x-fragment"],{name:"clike",keywords:s("sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadow const attribute uniform varying break continue discard return for while do if else struct in out inout"),types:s("float int bool void vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 mat2 mat3 mat4"),blockKeywords:s("for while do if else struct"),builtin:s("radians degrees sin cos tan asin acos atan pow exp log exp2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smoothstep length distance dot cross normalize ftransform faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not texture1D texture1DProj texture1DLod texture1DProjLod texture2D texture2DProj texture2DLod texture2DProjLod texture3D texture3DProj texture3DLod texture3DProjLod textureCube textureCubeLod shadow1D shadow2D shadow1DProj shadow2DProj shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod dFdx dFdy fwidth noise1 noise2 noise3 noise4"),atoms:s("true false gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_FogCoord gl_PointCoord gl_Position gl_PointSize gl_ClipVertex gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor gl_TexCoord gl_FogFragCoord gl_FragCoord gl_FrontFacing gl_FragData gl_FragDepth gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse gl_TexureMatrixTranspose gl_ModelViewMatrixInverseTranspose gl_ProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixInverseTranspose gl_TextureMatrixInverseTranspose gl_NormalScale gl_DepthRange gl_ClipPlane gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel gl_FrontLightModelProduct gl_BackLightModelProduct gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ gl_FogParameters gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits gl_MaxDrawBuffers"),indentSwitch:!1,hooks:{"#":d},modeProps:{fold:["brace","include"]}}),_("text/x-nesc",{name:"clike",keywords:s(l+" as atomic async call command component components configuration event generic implementation includes interface module new norace nx_struct nx_union post provides signal task uses abstract extends"),types:p,blockKeywords:s(f),atoms:s("null true false"),hooks:{"#":d},modeProps:{fold:["brace","include"]}}),_("text/x-objectivec",{name:"clike",keywords:s(l+" bycopy byref in inout oneway out self super atomic nonatomic retain copy readwrite readonly strong weak assign typeof nullable nonnull null_resettable _cmd @interface @implementation @end @protocol @encode @property @synthesize @dynamic @class @public @package @private @protected @required @optional @try @catch @finally @import @selector @encode @defs @synchronized @autoreleasepool @compatibility_alias @available"),types:function(e){return p(e)||a(c,e)},builtin:s("FOUNDATION_EXPORT FOUNDATION_EXTERN NS_INLINE NS_FORMAT_FUNCTION NS_RETURNS_RETAINED NS_ERROR_ENUM NS_RETURNS_NOT_RETAINED NS_RETURNS_INNER_POINTER NS_DESIGNATED_INITIALIZER NS_ENUM NS_OPTIONS NS_REQUIRES_NIL_TERMINATION NS_ASSUME_NONNULL_BEGIN NS_ASSUME_NONNULL_END NS_SWIFT_NAME NS_REFINED_FOR_SWIFT"),blockKeywords:s(f+" @synthesize @try @catch @finally @autoreleasepool @synchronized"),defKeywords:s("struct enum union @interface @implementation @protocol @class"),dontIndentStatements:/^@.*$/,typeFirstDefinitions:!0,atoms:s("YES NO NULL Nil nil true false nullptr"),isReservedIdentifier:m,hooks:{"#":d,"*":h},modeProps:{fold:["brace","include"]}}),_("text/x-squirrel",{name:"clike",keywords:s("base break clone continue const default delete enum extends function in class foreach local resume return this throw typeof yield constructor instanceof static"),types:p,blockKeywords:s("case catch class else for foreach if switch try while"),defKeywords:s("function local class"),typeFirstDefinitions:!0,atoms:s("true false null"),hooks:{"#":d},modeProps:{fold:["brace","include"]}});var w=null;_("text/x-ceylon",{name:"clike",keywords:s("abstracts alias assembly assert assign break case catch class continue dynamic else exists extends finally for function given if import in interface is let module new nonempty object of out outer package return satisfies super switch then this throw try value void while"),types:function(e){var t=e.charAt(0);return t===t.toUpperCase()&&t!==t.toLowerCase()},blockKeywords:s("case catch class dynamic else finally for function if interface module new object switch try while"),defKeywords:s("class dynamic function interface module object package value"),builtin:s("abstract actual aliased annotation by default deprecated doc final formal late license native optional sealed see serializable shared suppressWarnings tagged throws variable"),isPunctuationChar:/[\[\]{}\(\),;\:\.`]/,isOperatorChar:/[+\-*&%=<>!?|^~:\/]/,numberStart:/[\d#$]/,number:/^(?:#[\da-fA-F_]+|\$[01_]+|[\d_]+[kMGTPmunpf]?|[\d_]+\.[\d_]+(?:[eE][-+]?\d+|[kMGTPmunpf]|)|)/i,multiLineStrings:!0,typeFirstDefinitions:!0,atoms:s("true false null larger smaller equal empty finished"),indentSwitch:!1,styleDefs:!1,hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"},'"':function(e,t){return t.tokenize=function e(t){return function(n,i){for(var r,o=!1,s=!1;!n.eol();){if(!o&&n.match('"')&&("single"==t||n.match('""'))){s=!0;break}if(!o&&n.match("``")){w=e(t),s=!0;break}r=n.next(),o="single"==t&&!o&&"\\"==r}return s&&(i.tokenize=null),"string"}}(e.match('""')?"triple":"single"),t.tokenize(e,t)},"`":function(e,t){return!(!w||!e.match("`"))&&(t.tokenize=w,w=null,t.tokenize(e,t))},"'":function(e){return e.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},token:function(e,t,n){if(("variable"==n||"type"==n)&&"."==t.prevToken)return"variable-2"}},modeProps:{fold:["brace","import"],closeBrackets:{triples:'"'}}})}(n(8))},function(e,t,n){!function(e){"use strict";e.defineMode("ruby",function(t){function n(e){for(var t={},n=0,i=e.length;n<i;++n)t[e[n]]=!0;return t}var i,r=n(["alias","and","BEGIN","begin","break","case","class","def","defined?","do","else","elsif","END","end","ensure","false","for","if","in","module","next","not","or","redo","rescue","retry","return","self","super","then","true","undef","unless","until","when","while","yield","nil","raise","throw","catch","fail","loop","callcc","caller","lambda","proc","public","protected","private","require","load","require_relative","extend","autoload","__END__","__FILE__","__LINE__","__dir__"]),o=n(["def","class","case","for","while","until","module","then","catch","loop","proc","begin"]),s=n(["end","until"]),a={"[":"]","{":"}","(":")"};function l(e,t,n){return n.tokenize.push(e),e(t,n)}function u(e,t){if(e.sol()&&e.match("=begin")&&e.eol())return t.tokenize.push(d),"comment";if(e.eatSpace())return null;var n,r,o,s=e.next();if("`"==s||"'"==s||'"'==s)return l(f(s,"string",'"'==s||"`"==s),e,t);if("/"==s)return function(e){for(var t,n=e.pos,i=0,r=!1,o=!1;null!=(t=e.next());)if(o)o=!1;else{if("[{(".indexOf(t)>-1)i++;else if("]})".indexOf(t)>-1){if(--i<0)break}else if("/"==t&&0==i){r=!0;break}o="\\"==t}return e.backUp(e.pos-n),r}(e)?l(f(s,"string-2",!0),e,t):"operator";if("%"==s){var u="string",c=!0;e.eat("s")?u="atom":e.eat(/[WQ]/)?u="string":e.eat(/[r]/)?u="string-2":e.eat(/[wxq]/)&&(u="string",c=!1);var p=e.eat(/[^\w\s=]/);return p?(a.propertyIsEnumerable(p)&&(p=a[p]),l(f(p,u,c,!0),e,t)):"operator"}if("#"==s)return e.skipToEnd(),"comment";if("<"==s&&(n=e.match(/^<(-)?[\`\"\']?([a-zA-Z_?]\w*)[\`\"\']?(?:;|$)/)))return l((r=n[2],o=n[1],function(e,t){return o&&e.eatSpace(),e.match(r)?t.tokenize.pop():e.skipToEnd(),"string"}),e,t);if("0"==s)return e.eat("x")?e.eatWhile(/[\da-fA-F]/):e.eat("b")?e.eatWhile(/[01]/):e.eatWhile(/[0-7]/),"number";if(/\d/.test(s))return e.match(/^[\d_]*(?:\.[\d_]+)?(?:[eE][+\-]?[\d_]+)?/),"number";if("?"==s){for(;e.match(/^\\[CM]-/););return e.eat("\\")?e.eatWhile(/\w/):e.next(),"string"}if(":"==s)return e.eat("'")?l(f("'","atom",!1),e,t):e.eat('"')?l(f('"',"atom",!0),e,t):e.eat(/[\<\>]/)?(e.eat(/[\<\>]/),"atom"):e.eat(/[\+\-\*\/\&\|\:\!]/)?"atom":e.eat(/[a-zA-Z$@_\xa1-\uffff]/)?(e.eatWhile(/[\w$\xa1-\uffff]/),e.eat(/[\?\!\=]/),"atom"):"operator";if("@"==s&&e.match(/^@?[a-zA-Z_\xa1-\uffff]/))return e.eat("@"),e.eatWhile(/[\w\xa1-\uffff]/),"variable-2";if("$"==s)return e.eat(/[a-zA-Z_]/)?e.eatWhile(/[\w]/):e.eat(/\d/)?e.eat(/\d/):e.next(),"variable-3";if(/[a-zA-Z_\xa1-\uffff]/.test(s))return e.eatWhile(/[\w\xa1-\uffff]/),e.eat(/[\?\!]/),e.eat(":")?"atom":"ident";if("|"!=s||!t.varList&&"{"!=t.lastTok&&"do"!=t.lastTok){if(/[\(\)\[\]{}\\;]/.test(s))return i=s,null;if("-"==s&&e.eat(">"))return"arrow";if(/[=+\-\/*:\.^%<>~|]/.test(s)){var h=e.eatWhile(/[=+\-\/*:\.^%<>~|]/);return"."!=s||h||(i="."),"operator"}return null}return i="|",null}function c(e){return e||(e=1),function(t,n){if("}"==t.peek()){if(1==e)return n.tokenize.pop(),n.tokenize[n.tokenize.length-1](t,n);n.tokenize[n.tokenize.length-1]=c(e-1)}else"{"==t.peek()&&(n.tokenize[n.tokenize.length-1]=c(e+1));return u(t,n)}}function p(){var e=!1;return function(t,n){return e?(n.tokenize.pop(),n.tokenize[n.tokenize.length-1](t,n)):(e=!0,u(t,n))}}function f(e,t,n,i){return function(r,o){var s,a=!1;for("read-quoted-paused"===o.context.type&&(o.context=o.context.prev,r.eat("}"));null!=(s=r.next());){if(s==e&&(i||!a)){o.tokenize.pop();break}if(n&&"#"==s&&!a){if(r.eat("{")){"}"==e&&(o.context={prev:o.context,type:"read-quoted-paused"}),o.tokenize.push(c());break}if(/[@\$]/.test(r.peek())){o.tokenize.push(p());break}}a=!a&&"\\"==s}return t}}function d(e,t){return e.sol()&&e.match("=end")&&e.eol()&&t.tokenize.pop(),e.skipToEnd(),"comment"}return{startState:function(){return{tokenize:[u],indented:0,context:{type:"top",indented:-t.indentUnit},continuedLine:!1,lastTok:null,varList:!1}},token:function(e,t){i=null,e.sol()&&(t.indented=e.indentation());var n,a=t.tokenize[t.tokenize.length-1](e,t),l=i;if("ident"==a){var u=e.current();"keyword"==(a="."==t.lastTok?"property":r.propertyIsEnumerable(e.current())?"keyword":/^[A-Z]/.test(u)?"tag":"def"==t.lastTok||"class"==t.lastTok||t.varList?"def":"variable")&&(l=u,o.propertyIsEnumerable(u)?n="indent":s.propertyIsEnumerable(u)?n="dedent":"if"!=u&&"unless"!=u||e.column()!=e.indentation()?"do"==u&&t.context.indented<t.indented&&(n="indent"):n="indent")}return(i||a&&"comment"!=a)&&(t.lastTok=l),"|"==i&&(t.varList=!t.varList),"indent"==n||/[\(\[\{]/.test(i)?t.context={prev:t.context,type:i||a,indented:t.indented}:("dedent"==n||/[\)\]\}]/.test(i))&&t.context.prev&&(t.context=t.context.prev),e.eol()&&(t.continuedLine="\\"==i||"operator"==a),a},indent:function(n,i){if(n.tokenize[n.tokenize.length-1]!=u)return e.Pass;var r=i&&i.charAt(0),o=n.context,s=o.type==a[r]||"keyword"==o.type&&/^(?:end|until|else|elsif|when|rescue)\b/.test(i);return o.indented+(s?0:t.indentUnit)+(n.continuedLine?t.indentUnit:0)},electricInput:/^\s*(?:end|rescue|elsif|else|\})$/,lineComment:"#",fold:"indent"}}),e.defineMIME("text/x-ruby","ruby")}(n(8))},function(e,t,n){!function(e){"use strict";e.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded Javascript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history).md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m","mm"],alias:["objective-c","objc"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki ",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]}];for(var t=0;t<e.modeInfo.length;t++){var n=e.modeInfo[t];n.mimes&&(n.mime=n.mimes[0])}e.findModeByMIME=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var i=e.modeInfo[n];if(i.mime==t)return i;if(i.mimes)for(var r=0;r<i.mimes.length;r++)if(i.mimes[r]==t)return i}return/\+xml$/.test(t)?e.findModeByMIME("application/xml"):/\+json$/.test(t)?e.findModeByMIME("application/json"):void 0},e.findModeByExtension=function(t){for(var n=0;n<e.modeInfo.length;n++){var i=e.modeInfo[n];if(i.ext)for(var r=0;r<i.ext.length;r++)if(i.ext[r]==t)return i}},e.findModeByFileName=function(t){for(var n=0;n<e.modeInfo.length;n++){var i=e.modeInfo[n];if(i.file&&i.file.test(t))return i}var r=t.lastIndexOf("."),o=r>-1&&t.substring(r+1,t.length);if(o)return e.findModeByExtension(o)},e.findModeByName=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var i=e.modeInfo[n];if(i.name.toLowerCase()==t)return i;if(i.alias)for(var r=0;r<i.alias.length;r++)if(i.alias[r].toLowerCase()==t)return i}}}(n(8))},function(e,t,n){!function(e){"use strict";function t(e){return new RegExp("^(("+e.join(")|(")+"))\\b")}var n,i=t(["and","or","not","is"]),r=["as","assert","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","lambda","pass","raise","return","try","while","with","yield","in"],o=["abs","all","any","bin","bool","bytearray","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip","__import__","NotImplemented","Ellipsis","__debug__"];function s(e){return e.scopes[e.scopes.length-1]}e.registerHelper("hintWords","python",r.concat(o)),e.defineMode("python",function(n,a){for(var l="error",u=a.delimiters||a.singleDelimiters||/^[\(\)\[\]\{\}@,:`=;\.\\]/,c=[a.singleOperators,a.doubleOperators,a.doubleDelimiters,a.tripleDelimiters,a.operators||/^([-+*\/%\/&|^]=?|[<>=]+|\/\/=?|\*\*=?|!=|[~!@])/],p=0;p<c.length;p++)c[p]||c.splice(p--,1);var f=a.hangingIndent||n.indentUnit,d=r,h=o;null!=a.extra_keywords&&(d=d.concat(a.extra_keywords)),null!=a.extra_builtins&&(h=h.concat(a.extra_builtins));var m=!(a.version&&Number(a.version)<3);if(m){var g=a.identifiers||/^[_A-Za-z\u00A1-\uFFFF][_A-Za-z0-9\u00A1-\uFFFF]*/;d=d.concat(["nonlocal","False","True","None","async","await"]),h=h.concat(["ascii","bytes","exec","print"]);var b=new RegExp("^(([rbuf]|(br)|(fr))?('{3}|\"{3}|['\"]))","i")}else{var g=a.identifiers||/^[_A-Za-z][_A-Za-z0-9]*/;d=d.concat(["exec","print"]),h=h.concat(["apply","basestring","buffer","cmp","coerce","execfile","file","intern","long","raw_input","reduce","reload","unichr","unicode","xrange","False","True","None"]);var b=new RegExp("^(([rubf]|(ur)|(br))?('{3}|\"{3}|['\"]))","i")}var y=t(d),v=t(h);function _(e,t){var n=e.sol()&&"\\"!=t.lastToken;if(n&&(t.indent=e.indentation()),n&&"py"==s(t).type){var i=s(t).offset;if(e.eatSpace()){var r=e.indentation();return r>i?w(t):r<i&&k(e,t)&&"#"!=e.peek()&&(t.errorToken=!0),null}var o=x(e,t);return i>0&&k(e,t)&&(o+=" "+l),o}return x(e,t)}function x(e,t){if(e.eatSpace())return null;if(e.match(/^#.*/))return"comment";if(e.match(/^[0-9\.]/,!1)){var n=!1;if(e.match(/^[\d_]*\.\d+(e[\+\-]?\d+)?/i)&&(n=!0),e.match(/^[\d_]+\.\d*/)&&(n=!0),e.match(/^\.\d+/)&&(n=!0),n)return e.eat(/J/i),"number";var r=!1;if(e.match(/^0x[0-9a-f_]+/i)&&(r=!0),e.match(/^0b[01_]+/i)&&(r=!0),e.match(/^0o[0-7_]+/i)&&(r=!0),e.match(/^[1-9][\d_]*(e[\+\-]?[\d_]+)?/)&&(e.eat(/J/i),r=!0),e.match(/^0(?![\dx])/i)&&(r=!0),r)return e.eat(/L/i),"number"}if(e.match(b)){var o=-1!==e.current().toLowerCase().indexOf("f");return o?(t.tokenize=function(e,t){for(;"rubf".indexOf(e.charAt(0).toLowerCase())>=0;)e=e.substr(1);var n=1==e.length,i="string";function r(e){return function(t,n){var i=x(t,n);return"punctuation"==i&&("{"==t.current()?n.tokenize=r(e+1):"}"==t.current()&&(n.tokenize=e>1?r(e-1):o)),i}}function o(o,s){for(;!o.eol();)if(o.eatWhile(/[^'"\{\}\\]/),o.eat("\\")){if(o.next(),n&&o.eol())return i}else{if(o.match(e))return s.tokenize=t,i;if(o.match("{{"))return i;if(o.match("{",!1))return s.tokenize=r(0),o.current()?i:s.tokenize(o,s);if(o.match("}}"))return i;if(o.match("}"))return l;o.eat(/['"]/)}if(n){if(a.singleLineStringErrors)return l;s.tokenize=t}return i}return o.isString=!0,o}(e.current(),t.tokenize),t.tokenize(e,t)):(t.tokenize=function(e,t){for(;"rubf".indexOf(e.charAt(0).toLowerCase())>=0;)e=e.substr(1);var n=1==e.length,i="string";function r(r,o){for(;!r.eol();)if(r.eatWhile(/[^'"\\]/),r.eat("\\")){if(r.next(),n&&r.eol())return i}else{if(r.match(e))return o.tokenize=t,i;r.eat(/['"]/)}if(n){if(a.singleLineStringErrors)return l;o.tokenize=t}return i}return r.isString=!0,r}(e.current(),t.tokenize),t.tokenize(e,t))}for(var s=0;s<c.length;s++)if(e.match(c[s]))return"operator";return e.match(u)?"punctuation":"."==t.lastToken&&e.match(g)?"property":e.match(y)||e.match(i)?"keyword":e.match(v)?"builtin":e.match(/^(self|cls)\b/)?"variable-2":e.match(g)?"def"==t.lastToken||"class"==t.lastToken?"def":"variable":(e.next(),l)}function w(e){for(;"py"!=s(e).type;)e.scopes.pop();e.scopes.push({offset:s(e).offset+n.indentUnit,type:"py",align:null})}function k(e,t){for(var n=e.indentation();t.scopes.length>1&&s(t).offset>n;){if("py"!=s(t).type)return!0;t.scopes.pop()}return s(t).offset!=n}function S(e,t){e.sol()&&(t.beginningOfLine=!0);var n=t.tokenize(e,t),i=e.current();if(t.beginningOfLine&&"@"==i)return e.match(g,!1)?"meta":m?"operator":l;if(/\S/.test(i)&&(t.beginningOfLine=!1),"variable"!=n&&"builtin"!=n||"meta"!=t.lastToken||(n="meta"),"pass"!=i&&"return"!=i||(t.dedent+=1),"lambda"==i&&(t.lambda=!0),":"!=i||t.lambda||"py"!=s(t).type||w(t),1==i.length&&!/string|comment/.test(n)){var r="[({".indexOf(i);if(-1!=r&&function(e,t,n){var i=e.match(/^([\s\[\{\(]|#.*)*$/,!1)?null:e.column()+1;t.scopes.push({offset:t.indent+f,type:n,align:i})}(e,t,"])}".slice(r,r+1)),-1!=(r="])}".indexOf(i))){if(s(t).type!=i)return l;t.indent=t.scopes.pop().offset-f}}return t.dedent>0&&e.eol()&&"py"==s(t).type&&(t.scopes.length>1&&t.scopes.pop(),t.dedent-=1),n}var C={startState:function(e){return{tokenize:_,scopes:[{offset:e||0,type:"py",align:null}],indent:e||0,lastToken:null,lambda:!1,dedent:0}},token:function(e,t){var n=t.errorToken;n&&(t.errorToken=!1);var i=S(e,t);return i&&"comment"!=i&&(t.lastToken="keyword"==i||"punctuation"==i?e.current():i),"punctuation"==i&&(i=null),e.eol()&&t.lambda&&(t.lambda=!1),n?i+" "+l:i},indent:function(t,n){if(t.tokenize!=_)return t.tokenize.isString?e.Pass:0;var i=s(t),r=i.type==n.charAt(0);return null!=i.align?i.align-(r?1:0):i.offset-(r?f:0)},electricInput:/^\s*[\}\]\)]$/,closeBrackets:{triples:"'\""},lineComment:"#",fold:"indent"};return C}),e.defineMIME("text/x-python","python"),e.defineMIME("text/x-cython",{name:"python",extra_keywords:(n="by cdef cimport cpdef ctypedef enum except extern gil include nogil property public readonly struct union DEF IF ELIF ELSE",n.split(" "))})}(n(8))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.default)();try{return e.activeElement}catch(e){}};var i,r=n(34),o=(i=r)&&i.__esModule?i:{default:i};e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var i=u(n(26)),r=u(n(0)),o=u(n(1)),s=u(n(10)),a=u(n(129)),l=u(n(38));function u(e){return e&&e.__esModule?e:{default:e}}var c=27;var p=function(e){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r));return o.addEventListeners=function(){var e=o.props.event,t=(0,l.default)(o);o.documentMouseCaptureListener=(0,a.default)(t,e,o.handleMouseCapture,!0),o.documentMouseListener=(0,a.default)(t,e,o.handleMouse),o.documentKeyupListener=(0,a.default)(t,"keyup",o.handleKeyUp)},o.removeEventListeners=function(){o.documentMouseCaptureListener&&o.documentMouseCaptureListener.remove(),o.documentMouseListener&&o.documentMouseListener.remove(),o.documentKeyupListener&&o.documentKeyupListener.remove()},o.handleMouseCapture=function(e){var t;o.preventMouseRootClose=!!((t=e).metaKey||t.altKey||t.ctrlKey||t.shiftKey)||!function(e){return 0===e.button}(e)||(0,i.default)(s.default.findDOMNode(o),e.target)},o.handleMouse=function(e){!o.preventMouseRootClose&&o.props.onRootClose&&o.props.onRootClose(e)},o.handleKeyUp=function(e){e.keyCode===c&&o.props.onRootClose&&o.props.onRootClose(e)},o.preventMouseRootClose=!1,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.props.disabled||this.addEventListeners()},t.prototype.componentDidUpdate=function(e){!this.props.disabled&&e.disabled?this.addEventListeners():this.props.disabled&&!e.disabled&&this.removeEventListeners()},t.prototype.componentWillUnmount=function(){this.props.disabled||this.removeEventListeners()},t.prototype.render=function(){return this.props.children},t}(o.default.Component);p.displayName="RootCloseWrapper",p.propTypes={onRootClose:r.default.func,children:r.default.element,disabled:r.default.bool,event:r.default.oneOf(["click","mousedown"])},p.defaultProps={event:"click"},t.default=p,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return(0,i.default)(e)||(t=e,t&&"body"===t.tagName.toLowerCase())?function(e){var t=(0,r.default)(e),n=(0,i.default)(t).innerWidth;if(!n){var o=t.documentElement.getBoundingClientRect();n=o.right-Math.abs(o.left)}return t.body.clientWidth<n}(e):e.scrollHeight>e.clientHeight;var t};var i=o(n(61)),r=o(n(34));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.listen=t.filter=t.off=t.on=void 0;var i=a(n(59)),r=a(n(87)),o=a(n(280)),s=a(n(282));function a(e){return e&&e.__esModule?e:{default:e}}t.on=i.default,t.off=r.default,t.filter=o.default,t.listen=s.default,t.default={on:i.default,off:r.default,filter:o.default,listen:s.default}},function(e,t,n){"use strict";t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=c(n(0)),o=c(n(9)),s=c(n(1)),a=c(n(131)),l=c(n(292)),u=c(n(93));function c(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,i));return r.handleHidden=function(){var e;(r.setState({exited:!0}),r.props.onExited)&&(e=r.props).onExited.apply(e,arguments)},r.state={exited:!n.show},r.onHiddenListener=r.handleHidden.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillReceiveProps=function(e){e.show?this.setState({exited:!1}):e.transition||this.setState({exited:!0})},t.prototype.render=function(){var e=this.props,t=e.container,n=e.containerPadding,i=e.target,r=e.placement,o=e.shouldUpdatePosition,c=e.rootClose,p=e.children,f=e.transition,d=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["container","containerPadding","target","placement","shouldUpdatePosition","rootClose","children","transition"]);if(!(d.show||f&&!this.state.exited))return null;var h=p;if(h=s.default.createElement(l.default,{container:t,containerPadding:n,target:i,placement:r,shouldUpdatePosition:o},h),f){var m=d.onExit,g=d.onExiting,b=d.onEnter,y=d.onEntering,v=d.onEntered;h=s.default.createElement(f,{in:d.show,transitionAppear:!0,onExit:m,onExiting:g,onExited:this.onHiddenListener,onEnter:b,onEntering:y,onEntered:v},h)}return c&&(h=s.default.createElement(u.default,{onRootClose:d.onHide},h)),s.default.createElement(a.default,{container:t},h)},t}(s.default.Component);p.propTypes=i({},a.default.propTypes,l.default.propTypes,{show:r.default.bool,rootClose:r.default.bool,onHide:function(e){var t=r.default.func;e.rootClose&&(t=t.isRequired);for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return t.apply(void 0,[e].concat(i))},transition:o.default,onEnter:r.default.func,onEntering:r.default.func,onEntered:r.default.func,onExit:r.default.func,onExiting:r.default.func,onExited:r.default.func}),t.default=p,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ParseRules=t.LexRules=t.isIgnored=void 0;var i,r=n(98);t.isIgnored=function(e){return" "===e||"\t"===e||","===e||"\n"===e||"\r"===e||"\ufeff"===e},t.LexRules={Name:/^[_A-Za-z][_0-9A-Za-z]*/,Punctuation:/^(?:!|\$|\(|\)|\.\.\.|:|=|@|\[|]|\{|\||\})/,Number:/^-?(?:0|(?:[1-9][0-9]*))(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?/,String:/^(?:"""(?:\\"""|[^"]|"[^"]|""[^"])*(?:""")?|"(?:[^"\\]|\\(?:"|\/|\\|b|f|n|r|t|u[0-9a-fA-F]{4}))*"?)/,Comment:/^#.*/},t.ParseRules={Document:[(0,r.list)("Definition")],Definition:function(e){switch(e.value){case"{":return"ShortQuery";case"query":return"Query";case"mutation":return"Mutation";case"subscription":return"Subscription";case"fragment":return"FragmentDefinition";case"schema":return"SchemaDef";case"scalar":return"ScalarDef";case"type":return"ObjectTypeDef";case"interface":return"InterfaceDef";case"union":return"UnionDef";case"enum":return"EnumDef";case"input":return"InputDef";case"extend":return"ExtendDef";case"directive":return"DirectiveDef"}},ShortQuery:["SelectionSet"],Query:[o("query"),(0,r.opt)(s("def")),(0,r.opt)("VariableDefinitions"),(0,r.list)("Directive"),"SelectionSet"],Mutation:[o("mutation"),(0,r.opt)(s("def")),(0,r.opt)("VariableDefinitions"),(0,r.list)("Directive"),"SelectionSet"],Subscription:[o("subscription"),(0,r.opt)(s("def")),(0,r.opt)("VariableDefinitions"),(0,r.list)("Directive"),"SelectionSet"],VariableDefinitions:[(0,r.p)("("),(0,r.list)("VariableDefinition"),(0,r.p)(")")],VariableDefinition:["Variable",(0,r.p)(":"),"Type",(0,r.opt)("DefaultValue")],Variable:[(0,r.p)("$","variable"),s("variable")],DefaultValue:[(0,r.p)("="),"Value"],SelectionSet:[(0,r.p)("{"),(0,r.list)("Selection"),(0,r.p)("}")],Selection:function(e,t){return"..."===e.value?t.match(/[\s\u00a0,]*(on\b|@|{)/,!1)?"InlineFragment":"FragmentSpread":t.match(/[\s\u00a0,]*:/,!1)?"AliasedField":"Field"},AliasedField:[s("property"),(0,r.p)(":"),s("qualifier"),(0,r.opt)("Arguments"),(0,r.list)("Directive"),(0,r.opt)("SelectionSet")],Field:[s("property"),(0,r.opt)("Arguments"),(0,r.list)("Directive"),(0,r.opt)("SelectionSet")],Arguments:[(0,r.p)("("),(0,r.list)("Argument"),(0,r.p)(")")],Argument:[s("attribute"),(0,r.p)(":"),"Value"],FragmentSpread:[(0,r.p)("..."),s("def"),(0,r.list)("Directive")],InlineFragment:[(0,r.p)("..."),(0,r.opt)("TypeCondition"),(0,r.list)("Directive"),"SelectionSet"],FragmentDefinition:[o("fragment"),(0,r.opt)((0,r.butNot)(s("def"),[o("on")])),"TypeCondition",(0,r.list)("Directive"),"SelectionSet"],TypeCondition:[o("on"),"NamedType"],Value:function(e){switch(e.kind){case"Number":return"NumberValue";case"String":return"StringValue";case"Punctuation":switch(e.value){case"[":return"ListValue";case"{":return"ObjectValue";case"$":return"Variable"}return null;case"Name":switch(e.value){case"true":case"false":return"BooleanValue"}return"null"===e.value?"NullValue":"EnumValue"}},NumberValue:[(0,r.t)("Number","number")],StringValue:[(0,r.t)("String","string")],BooleanValue:[(0,r.t)("Name","builtin")],NullValue:[(0,r.t)("Name","keyword")],EnumValue:[s("string-2")],ListValue:[(0,r.p)("["),(0,r.list)("Value"),(0,r.p)("]")],ObjectValue:[(0,r.p)("{"),(0,r.list)("ObjectField"),(0,r.p)("}")],ObjectField:[s("attribute"),(0,r.p)(":"),"Value"],Type:function(e){return"["===e.value?"ListType":"NonNullType"},ListType:[(0,r.p)("["),"Type",(0,r.p)("]"),(0,r.opt)((0,r.p)("!"))],NonNullType:["NamedType",(0,r.opt)((0,r.p)("!"))],NamedType:[(i="atom",{style:i,match:function(e){return"Name"===e.kind},update:function(e,t){e.prevState&&e.prevState.prevState&&(e.name=t.value,e.prevState.prevState.type=t.value)}})],Directive:[(0,r.p)("@","meta"),s("meta"),(0,r.opt)("Arguments")],SchemaDef:[o("schema"),(0,r.list)("Directive"),(0,r.p)("{"),(0,r.list)("OperationTypeDef"),(0,r.p)("}")],OperationTypeDef:[s("keyword"),(0,r.p)(":"),s("atom")],ScalarDef:[o("scalar"),s("atom"),(0,r.list)("Directive")],ObjectTypeDef:[o("type"),s("atom"),(0,r.opt)("Implements"),(0,r.list)("Directive"),(0,r.p)("{"),(0,r.list)("FieldDef"),(0,r.p)("}")],Implements:[o("implements"),(0,r.list)("NamedType")],FieldDef:[s("property"),(0,r.opt)("ArgumentsDef"),(0,r.p)(":"),"Type",(0,r.list)("Directive")],ArgumentsDef:[(0,r.p)("("),(0,r.list)("InputValueDef"),(0,r.p)(")")],InputValueDef:[s("attribute"),(0,r.p)(":"),"Type",(0,r.opt)("DefaultValue"),(0,r.list)("Directive")],InterfaceDef:[o("interface"),s("atom"),(0,r.list)("Directive"),(0,r.p)("{"),(0,r.list)("FieldDef"),(0,r.p)("}")],UnionDef:[o("union"),s("atom"),(0,r.list)("Directive"),(0,r.p)("="),(0,r.list)("UnionMember",(0,r.p)("|"))],UnionMember:["NamedType"],EnumDef:[o("enum"),s("atom"),(0,r.list)("Directive"),(0,r.p)("{"),(0,r.list)("EnumValueDef"),(0,r.p)("}")],EnumValueDef:[s("string-2"),(0,r.list)("Directive")],InputDef:[o("input"),s("atom"),(0,r.list)("Directive"),(0,r.p)("{"),(0,r.list)("InputValueDef"),(0,r.p)("}")],ExtendDef:[o("extend"),"ObjectTypeDef"],DirectiveDef:[o("directive"),(0,r.p)("@","meta"),s("meta"),(0,r.opt)("ArgumentsDef"),o("on"),(0,r.list)("DirectiveLocation",(0,r.p)("|"))],DirectiveLocation:[s("string-2")]};function o(e){return{style:"keyword",match:function(t){return"Name"===t.kind&&t.value===e}}}function s(e){return{style:e,match:function(e){return"Name"===e.kind},update:function(e,t){e.name=t.value}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.opt=function(e){return{ofRule:e}},t.list=function(e,t){return{ofRule:e,isList:!0,separator:t}},t.butNot=function(e,t){var n=e.match;return e.match=function(e){var i=!1;return n&&(i=n(e)),i&&t.every(function(t){return t.match&&!t.match(e)})},e},t.t=function(e,t){return{style:t,match:function(t){return t.kind===e}}},t.p=function(e,t){return{style:t||"punctuation",match:function(t){return"Punctuation"===t.kind&&t.value===e}}}},function(e,t){var n;n=Reflux.createActions(["appendTabsForFiles","closeTab","createTab","hideTabs","unhideTabs","focusEditorTab","onSelectTab","removeTabsFromDeletedPanes","restoreTabs","setProperty","setTabs"]),e.exports=n},function(e,t){e.exports={generateAPIRoute:function(e,t,n){return`https://${n}-9999.${e}${t}`},exec:function(e,t,n,{stdin:i,pwd:r,timeout:o,cb:s,async:a}){var l;return i||(i=""),r||(r="/root/sandbox"),o||(o=5),o*=1e3,l={args:n,command:n[0],pwd:r,stdin:i,timeout:o,token:t},mixins.AjaxMixin.ajaxPost(this.generateAPIRoute(e,"/exec",t),{data:JSON.stringify(l),timeout:o+5e3,async:a,success:function(e){var t;if(t={status:e.Status,stderr:e.Stderr,stdout:e.Stdout,timeout:e.Timeout},s)return s(t)},error:function(){return console.error("/exec failed")}})},readFileContents:function(e,t,n,{pwd:i,cb:r,base64:o}){var s;return i||(i="/root/sandbox"),s={filename:n,pwd:i,token:t},mixins.AjaxMixin.ajaxPost(this.generateAPIRoute(e,"/assets/read",t),{data:JSON.stringify(s),type:"text",success:function(e){if(r)return r(o?e:atob(e))},error:function(){return console.error("/assets/read failed")}})},updateFileContents:function(e,t,n,i,{pwd:r,cb:o}){var s;return r||(r="/root/sandbox"),s={filename:n,file_contents:btoa(i),pwd:r,token:t},mixins.AjaxMixin.ajaxPost(this.generateAPIRoute(e,"/assets/update",t),{data:JSON.stringify(s),timeout:5e3,success:function(e){if(o)return o(e)},error:function(){return console.error("/assets/update failed")}})},checkFileMIME:function(e,t,n,{pwd:i,cb:r}){var o;return i||(i="/root/sandbox"),o={filename:n,pwd:i,token:t},mixins.AjaxMixin.ajaxPost(this.generateAPIRoute(e,"/assets/mime",t),{data:JSON.stringify(o),type:"text",success:function(e){if(r)return r(e)},error:function(){return console.error("/assets/read failed")}})},startProxy:function(e,t,{pwd:n,cb:i}){var r;return console.info(`Starting proxy server at ${n}`),r={pwd:n,token:t},mixins.AjaxMixin.ajaxPost(this.generateAPIRoute(e,"/proxy",t),{data:JSON.stringify(r),timeout:1e4,success:function(e){if(console.info(`Started proxy server at ${n}`),i)return i(e)},error:function(){return console.error(`Could not start proxy server at ${n}`)}})}}},function(e,t,n){var i;i=n(371),e.exports={createTest:function(e,t){return i.createTest(e,t)},updateTest:function(e,t,n){return i.updateTest(e,t,n)},deleteTest:function(e,t){return i.deleteTest(e,t)}}},function(e,t,n){(function(t){e.exports=t.$=n(54)}).call(this,n(12))},function(e,t,n){(function(t){e.exports=t.jQuery=n(54)}).call(this,n(12))},function(e,t,n){"use strict";e.exports=function(e){function t(t){var n=e.createElement.bind(null,t);return n.type=t,n}return{a:t("a"),abbr:t("abbr"),address:t("address"),area:t("area"),article:t("article"),aside:t("aside"),audio:t("audio"),b:t("b"),base:t("base"),bdi:t("bdi"),bdo:t("bdo"),big:t("big"),blockquote:t("blockquote"),body:t("body"),br:t("br"),button:t("button"),canvas:t("canvas"),caption:t("caption"),cite:t("cite"),code:t("code"),col:t("col"),colgroup:t("colgroup"),data:t("data"),datalist:t("datalist"),dd:t("dd"),del:t("del"),details:t("details"),dfn:t("dfn"),dialog:t("dialog"),div:t("div"),dl:t("dl"),dt:t("dt"),em:t("em"),embed:t("embed"),fieldset:t("fieldset"),figcaption:t("figcaption"),figure:t("figure"),footer:t("footer"),form:t("form"),h1:t("h1"),h2:t("h2"),h3:t("h3"),h4:t("h4"),h5:t("h5"),h6:t("h6"),head:t("head"),header:t("header"),hgroup:t("hgroup"),hr:t("hr"),html:t("html"),i:t("i"),iframe:t("iframe"),img:t("img"),input:t("input"),ins:t("ins"),kbd:t("kbd"),keygen:t("keygen"),label:t("label"),legend:t("legend"),li:t("li"),link:t("link"),main:t("main"),map:t("map"),mark:t("mark"),menu:t("menu"),menuitem:t("menuitem"),meta:t("meta"),meter:t("meter"),nav:t("nav"),noscript:t("noscript"),object:t("object"),ol:t("ol"),optgroup:t("optgroup"),option:t("option"),output:t("output"),p:t("p"),param:t("param"),picture:t("picture"),pre:t("pre"),progress:t("progress"),q:t("q"),rp:t("rp"),rt:t("rt"),ruby:t("ruby"),s:t("s"),samp:t("samp"),script:t("script"),section:t("section"),select:t("select"),small:t("small"),source:t("source"),span:t("span"),strong:t("strong"),style:t("style"),sub:t("sub"),summary:t("summary"),sup:t("sup"),table:t("table"),tbody:t("tbody"),td:t("td"),textarea:t("textarea"),tfoot:t("tfoot"),th:t("th"),thead:t("thead"),time:t("time"),title:t("title"),tr:t("tr"),track:t("track"),u:t("u"),ul:t("ul"),var:t("var"),video:t("video"),wbr:t("wbr"),circle:t("circle"),clipPath:t("clipPath"),defs:t("defs"),ellipse:t("ellipse"),g:t("g"),image:t("image"),line:t("line"),linearGradient:t("linearGradient"),mask:t("mask"),path:t("path"),pattern:t("pattern"),polygon:t("polygon"),polyline:t("polyline"),radialGradient:t("radialGradient"),rect:t("rect"),stop:t("stop"),svg:t("svg"),text:t("text"),tspan:t("tspan")}}(n(1))},function(e,t,n){"use strict";var i=function(e){};e.exports=function(e,t,n,r,o,s,a,l){if(i(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,s,a,l],p=0;(u=new Error(t.replace(/%s/g,function(){return c[p++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t,n){"use strict";var i=n(243)(!0);n(122)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=i(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){"use strict";(function(t){var i="win32"===t.platform,r=n(601);function o(e,t){for(var n=[],i=0;i<e.length;i++){var r=e[i];r&&"."!==r&&(".."===r?n.length&&".."!==n[n.length-1]?n.pop():t&&n.push(".."):n.push(r))}return n}function s(e){for(var t=e.length-1,n=0;n<=t&&!e[n];n++);for(var i=t;i>=0&&!e[i];i--);return 0===n&&i===t?e:n>i?[]:e.slice(n,i+1)}var a=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,l=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,u={};function c(e){var t=a.exec(e),n=(t[1]||"")+(t[2]||""),i=t[3]||"",r=l.exec(i);return[n,r[1],r[2],r[3]]}function p(e){var t=a.exec(e),n=t[1]||"",i=!!n&&":"!==n[1];return{device:n,isUnc:i,isAbsolute:i||!!t[2],tail:t[3]}}function f(e){return"\\\\"+e.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\")}u.resolve=function(){for(var e="",n="",i=!1,s=arguments.length-1;s>=-1;s--){var a;if(s>=0?a=arguments[s]:e?(a=t.env["="+e])&&a.substr(0,3).toLowerCase()===e.toLowerCase()+"\\"||(a=e+"\\"):a=t.cwd(),!r.isString(a))throw new TypeError("Arguments to path.resolve must be strings");if(a){var l=p(a),u=l.device,c=l.isUnc,d=l.isAbsolute,h=l.tail;if((!u||!e||u.toLowerCase()===e.toLowerCase())&&(e||(e=u),i||(n=h+"\\"+n,i=d),e&&i))break}}return c&&(e=f(e)),e+(i?"\\":"")+(n=o(n.split(/[\\\/]+/),!i).join("\\"))||"."},u.normalize=function(e){var t=p(e),n=t.device,i=t.isUnc,r=t.isAbsolute,s=t.tail,a=/[\\\/]$/.test(s);return(s=o(s.split(/[\\\/]+/),!r).join("\\"))||r||(s="."),s&&a&&(s+="\\"),i&&(n=f(n)),n+(r?"\\":"")+s},u.isAbsolute=function(e){return p(e).isAbsolute},u.join=function(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(!r.isString(n))throw new TypeError("Arguments to path.join must be strings");n&&e.push(n)}var i=e.join("\\");return/^[\\\/]{2}[^\\\/]/.test(e[0])||(i=i.replace(/^[\\\/]{2,}/,"\\")),u.normalize(i)},u.relative=function(e,t){e=u.resolve(e),t=u.resolve(t);for(var n=e.toLowerCase(),i=t.toLowerCase(),r=s(t.split("\\")),o=s(n.split("\\")),a=s(i.split("\\")),l=Math.min(o.length,a.length),c=l,p=0;p<l;p++)if(o[p]!==a[p]){c=p;break}if(0==c)return t;var f=[];for(p=c;p<o.length;p++)f.push("..");return(f=f.concat(r.slice(c))).join("\\")},u._makeLong=function(e){if(!r.isString(e))return e;if(!e)return"";var t=u.resolve(e);return/^[a-zA-Z]\:\\/.test(t)?"\\\\?\\"+t:/^\\\\[^?.]/.test(t)?"\\\\?\\UNC\\"+t.substring(2):e},u.dirname=function(e){var t=c(e),n=t[0],i=t[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},u.basename=function(e,t){var n=c(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},u.extname=function(e){return c(e)[3]},u.format=function(e){if(!r.isObject(e))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof e);var t=e.root||"";if(!r.isString(t))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof e.root);var n=e.dir,i=e.base||"";return n?n[n.length-1]===u.sep?n+i:n+u.sep+i:i},u.parse=function(e){if(!r.isString(e))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t=c(e);if(!t||4!==t.length)throw new TypeError("Invalid path '"+e+"'");return{root:t[0],dir:t[0]+t[1].slice(0,-1),base:t[2],ext:t[3],name:t[2].slice(0,t[2].length-t[3].length)}},u.sep="\\",u.delimiter=";";var d=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,h={};function m(e){return d.exec(e).slice(1)}h.resolve=function(){for(var e="",n=!1,i=arguments.length-1;i>=-1&&!n;i--){var s=i>=0?arguments[i]:t.cwd();if(!r.isString(s))throw new TypeError("Arguments to path.resolve must be strings");s&&(e=s+"/"+e,n="/"===s[0])}return(n?"/":"")+(e=o(e.split("/"),!n).join("/"))||"."},h.normalize=function(e){var t=h.isAbsolute(e),n=e&&"/"===e[e.length-1];return(e=o(e.split("/"),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},h.isAbsolute=function(e){return"/"===e.charAt(0)},h.join=function(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];if(!r.isString(n))throw new TypeError("Arguments to path.join must be strings");n&&(e+=e?"/"+n:n)}return h.normalize(e)},h.relative=function(e,t){e=h.resolve(e).substr(1),t=h.resolve(t).substr(1);for(var n=s(e.split("/")),i=s(t.split("/")),r=Math.min(n.length,i.length),o=r,a=0;a<r;a++)if(n[a]!==i[a]){o=a;break}var l=[];for(a=o;a<n.length;a++)l.push("..");return(l=l.concat(i.slice(o))).join("/")},h._makeLong=function(e){return e},h.dirname=function(e){var t=m(e),n=t[0],i=t[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},h.basename=function(e,t){var n=m(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},h.extname=function(e){return m(e)[3]},h.format=function(e){if(!r.isObject(e))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof e);var t=e.root||"";if(!r.isString(t))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof e.root);return(e.dir?e.dir+h.sep:"")+(e.base||"")},h.parse=function(e){if(!r.isString(e))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t=m(e);if(!t||4!==t.length)throw new TypeError("Invalid path '"+e+"'");return t[1]=t[1]||"",t[2]=t[2]||"",t[3]=t[3]||"",{root:t[0],dir:t[0]+t[1].slice(0,-1),base:t[2],ext:t[3],name:t[2].slice(0,t[2].length-t[3].length)}},h.sep="/",h.delimiter=":",e.exports=i?u:h,e.exports.posix=h,e.exports.win32=u}).call(this,n(344))},function(e,t,n){var i=n(35),r=n(24).document,o=i(r)&&i(r.createElement);e.exports=function(e){return o?r.createElement(e):{}}},function(e,t,n){var i=n(79),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},function(e,t,n){var i,r;i=n(209),r={},e.exports=Reflux.createStore({listenables:i,setContent:function(e){return r=e,this.trigger(r)},setProperty:function(e,t){return r[e]=t,this.trigger(r)},getInitialState:function(){return r}})},function(e,t,n){e.exports={default:n(277),__esModule:!0}},function(e,t,n){e.exports={default:n(613),__esModule:!0}},function(e,t,n){"use strict";t.__esModule=!0;var i,r=n(111),o=(i=r)&&i.__esModule?i:{default:i};t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,o.default)(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticJoinCreator=function(e){return function(){var t=o.call(arguments);return(0,i.createStore)({init:function(){this[s[e]].apply(this,t.concat("triggerAsync"))}})}},t.instanceJoinCreator=function(e){return function(){r.throwIf(arguments.length<2,"Cannot create a join with less than 2 listenables!");var t,n,i=o.call(arguments),s=i.pop(),u=i.length,c={numberOfListenables:u,callback:this[s]||s,listener:this,strategy:e},p=[];for(t=0;t<u;t++)r.throwIf(this.validateListening(i[t]));for(t=0;t<u;t++)p.push(i[t].listen(l(t,c),this));return a(c),(n={listenable:i}).stop=function(e,t,n){return function(){var i,o=n.subscriptions,s=o?o.indexOf(e):-1;for(r.throwIf(-1===s,"Tried to remove join already gone from subscriptions list!"),i=0;i<t.length;i++)t[i]();o.splice(s,1)}}(n,p,this),this.subscriptions=(this.subscriptions||[]).concat(n),n}};var i=n(116),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(20));var o=Array.prototype.slice,s={strict:"joinStrict",first:"joinLeading",last:"joinTrailing",all:"joinConcat"};function a(e){e.listenablesEmitted=new Array(e.numberOfListenables),e.args=new Array(e.numberOfListenables)}function l(e,t){return function(){var n=o.call(arguments);if(t.listenablesEmitted[e])switch(t.strategy){case"strict":throw new Error("Strict join failed because listener triggered twice.");case"last":t.args[e]=n;break;case"all":t.args[e].push(n)}else t.listenablesEmitted[e]=!0,t.args[e]="all"===t.strategy?[n]:n;!function(e){for(var t=0;t<e.numberOfListenables;t++)if(!e.listenablesEmitted[t])return;e.callback.apply(e.listener,e.args),a(e)}(t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createStore=function(e){for(var t in e=e||{},a)if(!p[t]&&(l[t]||u[t]))throw new Error("Cannot override API method "+t+" in Reflux.StoreMethods. Use another method name or override it on Reflux.PublisherMethods / Reflux.ListenerMethods instead.");for(var n in e)if(!p[n]&&(l[n]||u[n]))throw new Error("Cannot override API method "+n+" in store creation. Use another method name or override it on Reflux.PublisherMethods / Reflux.ListenerMethods instead.");function c(){var t,n=0;if(this.subscriptions=[],this.emitter=new i.EventEmitter,this.eventLabel="change",(0,s.bindMethods)(this,e),this.init&&i.isFunction(this.init)&&this.init(),this.listenables)for(t=[].concat(this.listenables);n<t.length;n++)this.listenToMany(t[n])}e=(0,o.mix)(e),i.extend(c.prototype,u,l,a,e);var f=new c;return r.addStore(f),f};var i=c(n(20)),r=c(n(74)),o=n(224),s=n(225),a=c(n(117)),l=c(n(75)),u=c(n(30));function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var p={preEmit:1,shouldEmit:1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){e.exports=!n(36)&&!n(46)(function(){return 7!=Object.defineProperty(n(108)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var i=n(32),r=n(33),o=n(239)(!1),s=n(80)("IE_PROTO");e.exports=function(e,t){var n,a=r(e),l=0,u=[];for(n in a)n!=s&&i(a,n)&&u.push(n);for(;t.length>l;)i(a,n=t[l++])&&(~o(u,n)||u.push(n));return u}},function(e,t,n){var i=n(67);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},function(e,t,n){"use strict";var i=n(69),r=n(22),o=n(123),s=n(37),a=n(32),l=n(51),u=n(244),c=n(70),p=n(211),f=n(19)("iterator"),d=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,n,m,g,b,y){u(n,t,m);var v,_,x,w=function(e){if(!d&&e in E)return E[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},k=t+" Iterator",S="values"==g,C=!1,E=e.prototype,T=E[f]||E["@@iterator"]||g&&E[g],A=!d&&T||w(g),N=g?S?w("entries"):A:void 0,M="Array"==t&&E.entries||T;if(M&&(x=p(M.call(new e)))!==Object.prototype&&x.next&&(c(x,k,!0),i||a(x,f)||s(x,f,h)),S&&T&&"values"!==T.name&&(C=!0,A=function(){return T.call(this)}),i&&!y||!d&&!C&&E[f]||s(E,f,A),l[t]=A,l[k]=h,g)if(v={values:S?A:w("values"),keys:b?A:w("keys"),entries:N},y)for(_ in v)_ in E||o(E,_,v[_]);else r(r.P+r.F*(d||C),t,v);return v}},function(e,t,n){e.exports=n(37)},function(e,t,n){var i=n(120),r=n(82).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},function(e,t,n){var i=n(50),r=n(49),o=n(33),s=n(77),a=n(32),l=n(119),u=Object.getOwnPropertyDescriptor;t.f=n(36)?u:function(e,t){if(e=o(e),t=s(t,!0),l)try{return u(e,t)}catch(e){}if(a(e,t))return r(!i.f.call(e,t),e[t])}},function(e,t,n){var i=n(47),r=n(33),o=n(50).f;e.exports=function(e){return function(t){for(var n,s=r(t),a=i(s),l=a.length,u=0,c=[];l>u;)o.call(s,n=a[u++])&&c.push(e?[n,s[n]]:s[n]);return c}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,o.default)(e.replace(s,"ms-"))};var i,r=n(269),o=(i=r)&&i.__esModule?i:{default:i};var s=/^-ms-/;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.animationEnd=t.animationDelay=t.animationTiming=t.animationDuration=t.animationName=t.transitionEnd=t.transitionDuration=t.transitionDelay=t.transitionTiming=t.transitionProperty=t.transform=void 0;var i,r=n(25);var o="transform",s=void 0,a=void 0,l=void 0,u=void 0,c=void 0,p=void 0,f=void 0,d=void 0,h=void 0,m=void 0,g=void 0;if(((i=r)&&i.__esModule?i:{default:i}).default){var b=function(){for(var e=document.createElement("div").style,t={O:function(e){return"o"+e.toLowerCase()},Moz:function(e){return e.toLowerCase()},Webkit:function(e){return"webkit"+e},ms:function(e){return"MS"+e}},n=Object.keys(t),i=void 0,r=void 0,o="",s=0;s<n.length;s++){var a=n[s];if(a+"TransitionProperty"in e){o="-"+a.toLowerCase(),i=t[a]("TransitionEnd"),r=t[a]("AnimationEnd");break}}!i&&"transitionProperty"in e&&(i="transitionend");!r&&"animationName"in e&&(r="animationend");return e=null,{animationEnd:r,transitionEnd:i,prefix:o}}();s=b.prefix,t.transitionEnd=a=b.transitionEnd,t.animationEnd=l=b.animationEnd,t.transform=o=s+"-"+o,t.transitionProperty=u=s+"-transition-property",t.transitionDuration=c=s+"-transition-duration",t.transitionDelay=f=s+"-transition-delay",t.transitionTiming=p=s+"-transition-timing-function",t.animationName=d=s+"-animation-name",t.animationDuration=h=s+"-animation-duration",t.animationTiming=m=s+"-animation-delay",t.animationDelay=g=s+"-animation-timing-function"}t.transform=o,t.transitionProperty=u,t.transitionTiming=p,t.transitionDelay=f,t.transitionDuration=c,t.transitionEnd=a,t.animationName=d,t.animationDuration=h,t.animationTiming=m,t.animationDelay=g,t.animationEnd=l,t.default={transform:o,end:a,property:u,timing:p,delay:f,duration:c}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n,o){return(0,i.default)(e,t,n,o),{remove:function(){(0,r.default)(e,t,n,o)}}};var i=o(n(59)),r=o(n(87));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var i=c(n(0)),r=c(n(60)),o=c(n(1)),s=c(n(10)),a=c(n(62)),l=c(n(38)),u=c(n(289));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];return n=i=p(this,e.call.apply(e,[this].concat(o))),i.setContainer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.props;i._portalContainerNode=(0,a.default)(e.container,(0,l.default)(i).body)},i.getMountNode=function(){return i._portalContainerNode},p(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.setContainer(),this.forceUpdate(this.props.onRendered)},t.prototype.componentWillReceiveProps=function(e){e.container!==this.props.container&&this.setContainer(e)},t.prototype.componentWillUnmount=function(){this._portalContainerNode=null},t.prototype.render=function(){return this.props.children&&this._portalContainerNode?s.default.createPortal(this.props.children,this._portalContainerNode):null},t}(o.default.Component);f.displayName="Portal",f.propTypes={container:i.default.oneOfType([r.default,i.default.func]),onRendered:i.default.func},t.default=s.default.createPortal?f:u.default,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,o.default)(e),n=(0,r.default)(t),s=t&&t.documentElement,a={top:0,left:0,height:0,width:0};if(!t)return;if(!(0,i.default)(s,e))return a;void 0!==e.getBoundingClientRect&&(a=e.getBoundingClientRect());return a={top:a.top+(n.pageYOffset||s.scrollTop)-(s.clientTop||0),left:a.left+(n.pageXOffset||s.scrollLeft)-(s.clientLeft||0),width:(null==a.width?e.offsetWidth:a.width)||0,height:(null==a.height?e.offsetHeight:a.height)||0}};var i=s(n(26)),r=s(n(61)),o=s(n(34));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,o.default)(e);if(void 0===t)return n?"pageYOffset"in n?n.pageYOffset:n.document.documentElement.scrollTop:e.scrollTop;n?n.scrollTo("pageXOffset"in n?n.pageXOffset:n.document.documentElement.scrollLeft,t):e.scrollTop=t};var i,r=n(61),o=(i=r)&&i.__esModule?i:{default:i};e.exports=t.default},function(e,t){var n,i,r;Function.prototype.partial=function(...e){var t;return t=this,function(...n){return t.apply(this,[...e,...n])}},n=function(e,t,n={}){var i,r,o,s;for(t||(t=[]),i=0,r=t.length;i<r;i++){if(!(s=n[o=t[i]]))throw`"${o}" is a required param in "${e}"`;e=e.replace(`:${o}`,s)}return e},i=function(e,t,i={}){return n(e,t,i)+".json"},r=function(e,t,i={}){return n(e,t,i)},e.exports={accounts:{create:i.partial("/accounts",null),memberships:{confirmed:i.partial("/accounts/memberships/confirmed",null),index:i.partial("/accounts/memberships",null),show:i.partial("/accounts/memberships/:uid",["uid"])}},courses:{create:i.partial("/courses",null),destroy:i.partial("/courses/:slug",["slug"]),index:i.partial("/courses",null),reset:i.partial("/courses/:slug/reset",["slug"]),show:i.partial("/courses/:slug",["slug"]),sync_github_markdowns:i.partial("/courses/:slug/sync_github_markdowns",["slug"]),update:i.partial("/courses/:slug",["slug"])},contents:{index:i.partial("/contents",null),create:i.partial("/contents",null),show:i.partial("/contents/:id",["id"]),update:i.partial("/contents/:id",["id"]),destroy:i.partial("/contents/:id",["id"]),clone:i.partial("/contents/:id/clone",["id"]),edit:r.partial("/contents/:identifier/edit",["identifier"]),restore:i.partial("/contents/:id/restore",["id"]),sync_github_files:i.partial("/contents/:id/sync_github_files",["id"]),sync_github_markdown:i.partial("/contents/:id/sync_github_markdown",["id"])},catalog:{account_courses:i.partial("/catalog/account_courses",null),continue_course:r.partial("course/:slug/continue",["slug"]),continue_course_content:r.partial("course/:slug/contents/:content_id/continue",["slug","content_id"]),courses:i.partial("/catalog/courses",null),show:i.partial("/catalog/:slug",["slug"])},progress:{index:i.partial("/progress",null),show:i.partial("/progress/:slug",["slug"])},projects:{index:i.partial("/projects",null),create:i.partial("/projects",null),update:i.partial("/projects/:id",["id"]),destroy:i.partial("/projects/:id",["id"])},grades:{index:i.partial("/grades",null)},locks:{update:i.partial("/locks/:id",["id"]),destroy:i.partial("/locks/:id",["id"])},skills:{index:i.partial("/skills",null),show:i.partial("/skills/:slug",["slug"])},stacks:{index:i.partial("/stacks",null)}}},function(e,t,n){!function(e){"use strict";function t(e){for(var t;null!=(t=e.next());)if("`"==t&&!e.eat("`"))return"variable-2";return e.backUp(e.current().length-1),e.eatWhile(/\w/)?"variable-2":null}function n(e){return e.eat("@")&&(e.match(/^session\./),e.match(/^local\./),e.match(/^global\./)),e.eat("'")?(e.match(/^.*'/),"variable-2"):e.eat('"')?(e.match(/^.*"/),"variable-2"):e.eat("`")?(e.match(/^.*`/),"variable-2"):e.match(/^[0-9a-zA-Z$\.\_]+/)?"variable-2":null}function i(e){return e.eat("N")?"atom":e.match(/^[a-zA-Z.#!?]/)?"variable-2":null}e.defineMode("sql",function(t,n){var i=n.client||{},a=n.atoms||{false:!0,true:!0,null:!0},l=n.builtin||o(s),u=n.keywords||o(r),c=n.operatorChars||/^[*+\-%<>!=&|~^\/]/,p=n.support||{},f=n.hooks||{},d=n.dateSQL||{date:!0,time:!0,timestamp:!0},h=!1!==n.backslashStringEscapes,m=n.brackets||/^[\{}\(\)\[\]]/,g=n.punctuation||/^[;.,:]/;function b(e,t){var n,r=e.next();if(f[r]){var o=f[r](e,t);if(!1!==o)return o}if(p.hexNumber&&("0"==r&&e.match(/^[xX][0-9a-fA-F]+/)||("x"==r||"X"==r)&&e.match(/^'[0-9a-fA-F]+'/)))return"number";if(p.binaryNumber&&(("b"==r||"B"==r)&&e.match(/^'[01]+'/)||"0"==r&&e.match(/^b[01]+/)))return"number";if(r.charCodeAt(0)>47&&r.charCodeAt(0)<58)return e.match(/^[0-9]*(\.[0-9]+)?([eE][-+]?[0-9]+)?/),p.decimallessFloat&&e.match(/^\.(?!\.)/),"number";if("?"==r&&(e.eatSpace()||e.eol()||e.eat(";")))return"variable-3";if("'"==r||'"'==r&&p.doubleQuote)return t.tokenize=(n=r,function(e,t){for(var i,r=!1;null!=(i=e.next());){if(i==n&&!r){t.tokenize=b;break}r=h&&!r&&"\\"==i}return"string"}),t.tokenize(e,t);if((p.nCharCast&&("n"==r||"N"==r)||p.charsetCast&&"_"==r&&e.match(/[a-z][a-z0-9]*/i))&&("'"==e.peek()||'"'==e.peek()))return"keyword";if(p.commentSlashSlash&&"/"==r&&e.eat("/"))return e.skipToEnd(),"comment";if(p.commentHash&&"#"==r||"-"==r&&e.eat("-")&&(!p.commentSpaceRequired||e.eat(" ")))return e.skipToEnd(),"comment";if("/"==r&&e.eat("*"))return t.tokenize=function e(t){return function(n,i){var r=n.match(/^.*?(\/\*|\*\/)/);return r?"/*"==r[1]?i.tokenize=e(t+1):i.tokenize=t>1?e(t-1):b:n.skipToEnd(),"comment"}}(1),t.tokenize(e,t);if("."!=r){if(c.test(r))return e.eatWhile(c),"operator";if(m.test(r))return"bracket";if(g.test(r))return e.eatWhile(g),"punctuation";if("{"==r&&(e.match(/^( )*(d|D|t|T|ts|TS)( )*'[^']*'( )*}/)||e.match(/^( )*(d|D|t|T|ts|TS)( )*"[^"]*"( )*}/)))return"number";e.eatWhile(/^[_\w\d]/);var s=e.current().toLowerCase();return d.hasOwnProperty(s)&&(e.match(/^( )+'[^']*'/)||e.match(/^( )+"[^"]*"/))?"number":a.hasOwnProperty(s)?"atom":l.hasOwnProperty(s)?"builtin":u.hasOwnProperty(s)?"keyword":i.hasOwnProperty(s)?"string-2":null}return p.zerolessFloat&&e.match(/^(?:\d+(?:e[+-]?\d+)?)/i)?"number":e.match(/^\.+/)?null:p.ODBCdotTable&&e.match(/^[\w\d_]+/)?"variable-2":void 0}function y(e,t,n){t.context={prev:t.context,indent:e.indentation(),col:e.column(),type:n}}return{startState:function(){return{tokenize:b,context:null}},token:function(e,t){if(e.sol()&&t.context&&null==t.context.align&&(t.context.align=!1),t.tokenize==b&&e.eatSpace())return null;var n=t.tokenize(e,t);if("comment"==n)return n;t.context&&null==t.context.align&&(t.context.align=!0);var i=e.current();return"("==i?y(e,t,")"):"["==i?y(e,t,"]"):t.context&&t.context.type==i&&function(e){e.indent=e.context.indent,e.context=e.context.prev}(t),n},indent:function(n,i){var r=n.context;if(!r)return e.Pass;var o=i.charAt(0)==r.type;return r.align?r.col+(o?0:1):r.indent+(o?0:t.indentUnit)},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:p.commentSlashSlash?"//":p.commentHash?"#":"--",closeBrackets:"()[]{}''\"\"``"}});var r="alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where limit ";function o(e){for(var t={},n=e.split(" "),i=0;i<n.length;++i)t[n[i]]=!0;return t}var s="bool boolean bit blob enum long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision real date datetime year unsigned signed decimal numeric";e.defineMIME("text/x-sql",{name:"sql",keywords:o(r+"begin"),builtin:o(s),atoms:o("false true null unknown"),dateSQL:o("date time timestamp"),support:o("ODBCdotTable doubleQuote binaryNumber hexNumber")}),e.defineMIME("text/x-mssql",{name:"sql",client:o("$partition binary_checksum checksum connectionproperty context_info current_request_id error_line error_message error_number error_procedure error_severity error_state formatmessage get_filestream_transaction_context getansinull host_id host_name isnull isnumeric min_active_rowversion newid newsequentialid rowcount_big xact_state object_id"),keywords:o(r+"begin trigger proc view index for add constraint key primary foreign collate clustered nonclustered declare exec go if use index holdlock nolock nowait paglock readcommitted readcommittedlock readpast readuncommitted repeatableread rowlock serializable snapshot tablock tablockx updlock with"),builtin:o("bigint numeric bit smallint decimal smallmoney int tinyint money float real char varchar text nchar nvarchar ntext binary varbinary image cursor timestamp hierarchyid uniqueidentifier sql_variant xml table "),atoms:o("is not null like and or in left right between inner outer join all any some cross unpivot pivot exists"),operatorChars:/^[*+\-%<>!=^\&|\/]/,brackets:/^[\{}\(\)]/,punctuation:/^[;.,:\/]/,backslashStringEscapes:!1,dateSQL:o("date datetimeoffset datetime2 smalldatetime datetime time"),hooks:{"@":n}}),e.defineMIME("text/x-mysql",{name:"sql",client:o("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:o(r+"accessible action add after algorithm all analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general get global grant grants group group_concat handler hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show signal slave slow smallint snapshot soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),builtin:o("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:o("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:o("date time timestamp"),support:o("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),hooks:{"@":n,"`":t,"\\":i}}),e.defineMIME("text/x-mariadb",{name:"sql",client:o("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:o(r+"accessible action add after algorithm all always analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general generated get global grant grants group groupby_concat handler hard hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password persistent phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show shutdown signal slave slow smallint snapshot soft soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views virtual warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),builtin:o("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:o("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:o("date time timestamp"),support:o("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),hooks:{"@":n,"`":t,"\\":i}}),e.defineMIME("text/x-sqlite",{name:"sql",client:o("auth backup bail binary changes check clone databases dbinfo dump echo eqp exit explain fullschema headers help import imposter indexes iotrace limit lint load log mode nullvalue once open output print prompt quit read restore save scanstats schema separator session shell show stats system tables testcase timeout timer trace vfsinfo vfslist vfsname width"),keywords:o(r+"abort action add after all analyze attach autoincrement before begin cascade case cast check collate column commit conflict constraint cross current_date current_time current_timestamp database default deferrable deferred detach each else end escape except exclusive exists explain fail for foreign full glob if ignore immediate index indexed initially inner instead intersect isnull key left limit match natural no notnull null of offset outer plan pragma primary query raise recursive references regexp reindex release rename replace restrict right rollback row savepoint temp temporary then to transaction trigger unique using vacuum view virtual when with without"),builtin:o("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text clob bigint int int2 int8 integer float double char varchar date datetime year unsigned signed numeric real"),atoms:o("null current_date current_time current_timestamp"),operatorChars:/^[*+\-%<>!=&|\/~]/,dateSQL:o("date time timestamp datetime"),support:o("decimallessFloat zerolessFloat"),identifierQuote:'"',hooks:{"@":n,":":n,"?":n,$:n,'"':function(e){for(var t;null!=(t=e.next());)if('"'==t&&!e.eat('"'))return"variable-2";return e.backUp(e.current().length-1),e.eatWhile(/\w/)?"variable-2":null},"`":t}}),e.defineMIME("text/x-cassandra",{name:"sql",client:{},keywords:o("add all allow alter and any apply as asc authorize batch begin by clustering columnfamily compact consistency count create custom delete desc distinct drop each_quorum exists filtering from grant if in index insert into key keyspace keyspaces level limit local_one local_quorum modify nan norecursive nosuperuser not of on one order password permission permissions primary quorum rename revoke schema select set storage superuser table three to token truncate ttl two type unlogged update use user users using values where with writetime"),builtin:o("ascii bigint blob boolean counter decimal double float frozen inet int list map static text timestamp timeuuid tuple uuid varchar varint"),atoms:o("false true infinity NaN"),operatorChars:/^[<>=]/,dateSQL:{},support:o("commentSlashSlash decimallessFloat"),hooks:{}}),e.defineMIME("text/x-plsql",{name:"sql",client:o("appinfo arraysize autocommit autoprint autorecovery autotrace blockterminator break btitle cmdsep colsep compatibility compute concat copycommit copytypecheck define describe echo editfile embedded escape exec execute feedback flagger flush heading headsep instance linesize lno loboffset logsource long longchunksize markup native newpage numformat numwidth pagesize pause pno recsep recsepchar release repfooter repheader serveroutput shiftinout show showmode size spool sqlblanklines sqlcase sqlcode sqlcontinue sqlnumber sqlpluscompatibility sqlprefix sqlprompt sqlterminator suffix tab term termout time timing trimout trimspool ttitle underline verify version wrap"),keywords:o("abort accept access add all alter and any array arraylen as asc assert assign at attributes audit authorization avg base_table begin between binary_integer body boolean by case cast char char_base check close cluster clusters colauth column comment commit compress connect connected constant constraint crash create current currval cursor data_base database date dba deallocate debugoff debugon decimal declare default definition delay delete desc digits dispose distinct do drop else elseif elsif enable end entry escape exception exception_init exchange exclusive exists exit external fast fetch file for force form from function generic goto grant group having identified if immediate in increment index indexes indicator initial initrans insert interface intersect into is key level library like limited local lock log logging long loop master maxextents maxtrans member minextents minus mislabel mode modify multiset new next no noaudit nocompress nologging noparallel not nowait number_base object of off offline on online only open option or order out package parallel partition pctfree pctincrease pctused pls_integer positive positiven pragma primary prior private privileges procedure public raise range raw read rebuild record ref references refresh release rename replace resource restrict return returning returns reverse revoke rollback row rowid rowlabel rownum rows run savepoint schema segment select separate session set share snapshot some space split sql start statement storage subtype successful synonym tabauth table tables tablespace task terminate then to trigger truncate type union unique unlimited unrecoverable unusable update use using validate value values variable view views when whenever where while with work"),builtin:o("abs acos add_months ascii asin atan atan2 average bfile bfilename bigserial bit blob ceil character chartorowid chr clob concat convert cos cosh count dec decode deref dual dump dup_val_on_index empty error exp false float floor found glb greatest hextoraw initcap instr instrb int integer isopen last_day least length lengthb ln lower lpad ltrim lub make_ref max min mlslabel mod months_between natural naturaln nchar nclob new_time next_day nextval nls_charset_decl_len nls_charset_id nls_charset_name nls_initcap nls_lower nls_sort nls_upper nlssort no_data_found notfound null number numeric nvarchar2 nvl others power rawtohex real reftohex round rowcount rowidtochar rowtype rpad rtrim serial sign signtype sin sinh smallint soundex sqlcode sqlerrm sqrt stddev string substr substrb sum sysdate tan tanh to_char text to_date to_label to_multi_byte to_number to_single_byte translate true trunc uid unlogged upper user userenv varchar varchar2 variance varying vsize xml"),operatorChars:/^[*\/+\-%<>!=~]/,dateSQL:o("date time timestamp"),support:o("doubleQuote nCharCast zerolessFloat binaryNumber hexNumber")}),e.defineMIME("text/x-hive",{name:"sql",keywords:o("select alter $elem$ $key$ $value$ add after all analyze and archive as asc before between binary both bucket buckets by cascade case cast change cluster clustered clusterstatus collection column columns comment compute concatenate continue create cross cursor data database databases dbproperties deferred delete delimited desc describe directory disable distinct distribute drop else enable end escaped exclusive exists explain export extended external fetch fields fileformat first format formatted from full function functions grant group having hold_ddltime idxproperties if import in index indexes inpath inputdriver inputformat insert intersect into is items join keys lateral left like limit lines load local location lock locks mapjoin materialized minus msck no_drop nocompress not of offline on option or order out outer outputdriver outputformat overwrite partition partitioned partitions percent plus preserve procedure purge range rcfile read readonly reads rebuild recordreader recordwriter recover reduce regexp rename repair replace restrict revoke right rlike row schema schemas semi sequencefile serde serdeproperties set shared show show_database sort sorted ssl statistics stored streamtable table tables tablesample tblproperties temporary terminated textfile then tmp to touch transform trigger unarchive undo union uniquejoin unlock update use using utc utc_tmestamp view when where while with admin authorization char compact compactions conf cube current current_date current_timestamp day decimal defined dependency directories elem_type exchange file following for grouping hour ignore inner interval jar less logical macro minute month more none noscan over owner partialscan preceding pretty principals protection reload rewrite role roles rollup rows second server sets skewed transactions truncate unbounded unset uri user values window year"),builtin:o("bool boolean long timestamp tinyint smallint bigint int float double date datetime unsigned string array struct map uniontype key_type utctimestamp value_type varchar"),atoms:o("false true null unknown"),operatorChars:/^[*+\-%<>!=]/,dateSQL:o("date timestamp"),support:o("ODBCdotTable doubleQuote binaryNumber hexNumber")}),e.defineMIME("text/x-pgsql",{name:"sql",client:o("source"),keywords:o(r+"a abort abs absent absolute access according action ada add admin after aggregate all allocate also always analyse analyze any are array array_agg array_max_cardinality asensitive assertion assignment asymmetric at atomic attribute attributes authorization avg backward base64 before begin begin_frame begin_partition bernoulli binary bit_length blob blocked bom both breadth c cache call called cardinality cascade cascaded case cast catalog catalog_name ceil ceiling chain characteristics characters character_length character_set_catalog character_set_name character_set_schema char_length check checkpoint class class_origin clob close cluster coalesce cobol collate collation collation_catalog collation_name collation_schema collect column columns column_name command_function command_function_code comment comments commit committed concurrently condition condition_number configuration conflict connect connection connection_name constraint constraints constraint_catalog constraint_name constraint_schema constructor contains content continue control conversion convert copy corr corresponding cost covar_pop covar_samp cross csv cube cume_dist current current_catalog current_date current_default_transform_group current_path current_role current_row current_schema current_time current_timestamp current_transform_group_for_type current_user cursor cursor_name cycle data database datalink datetime_interval_code datetime_interval_precision day db deallocate dec declare default defaults deferrable deferred defined definer degree delimiter delimiters dense_rank depth deref derived describe descriptor deterministic diagnostics dictionary disable discard disconnect dispatch dlnewcopy dlpreviouscopy dlurlcomplete dlurlcompleteonly dlurlcompletewrite dlurlpath dlurlpathonly dlurlpathwrite dlurlscheme dlurlserver dlvalue do document domain dynamic dynamic_function dynamic_function_code each element else empty enable encoding encrypted end end-exec end_frame end_partition enforced enum equals escape event every except exception exclude excluding exclusive exec execute exists exp explain expression extension external extract false family fetch file filter final first first_value flag float floor following for force foreign fortran forward found frame_row free freeze fs full function functions fusion g general generated get gettoken global go goto grant granted greatest grouping groups handler header headline hex hierarchy hold hour id identity if ignore ilike immediate immediately immutable implementation implicit import including increment indent index indexes indicator inherit inherits init initially inline inner inout input insensitive instance instantiable instead integrity intersect intersection invoker isnull isolation k key key_member key_type label lag language large last last_value lateral lc_collate lc_ctype lead leading leakproof least left length level lexize lextypes library like_regex link listen ln load local localtime localtimestamp location locator lock locked logged lower m map mapping match matched materialized max maxvalue max_cardinality member merge message_length message_octet_length message_text method min minute minvalue mod mode modifies module month more move multiset mumps name names namespace national natural nchar nclob nesting new next nfc nfd nfkc nfkd nil no none normalize normalized nothing notify notnull nowait nth_value ntile null nullable nullif nulls number object occurrences_regex octets octet_length of off offset oids old only open operator option options ordering ordinality others out outer output over overlaps overlay overriding owned owner p pad parallel parameter parameter_mode parameter_name parameter_ordinal_position parameter_specific_catalog parameter_specific_name parameter_specific_schema parser partial partition pascal passing passthrough password percent percentile_cont percentile_disc percent_rank period permission placing plans pli policy portion position position_regex power precedes preceding prepare prepared preserve primary prior privileges procedural procedure program public publication quote range rank read reads reassign recheck recovery recursive ref references referencing refresh regr_avgx regr_avgy regr_count regr_intercept regr_r2 regr_slope regr_sxx regr_sxy regr_syy reindex relative release rename repeatable replace replica requiring reset respect restart restore restrict restricted result return returned_cardinality returned_length returned_octet_length returned_sqlstate returning returns revoke right role rollback rollup routine routine_catalog routine_name routine_schema row rows row_count row_number rule savepoint scale schema schema_name scope scope_catalog scope_name scope_schema scroll search second section security selective self sensitive sequence sequences serializable server server_name session session_user setof sets share show similar simple size skip snapshot some source space specific specifictype specific_name sql sqlcode sqlerror sqlexception sqlstate sqlwarning sqrt stable standalone start state statement static statistics stddev_pop stddev_samp stdin stdout storage strict strip structure style subclass_origin submultiset subscription substring substring_regex succeeds sum symmetric sysid system system_time system_user t tables tablesample tablespace table_name temp template temporary then ties timezone_hour timezone_minute to token top_level_count trailing transaction transactions_committed transactions_rolled_back transaction_active transform transforms translate translate_regex translation treat trigger trigger_catalog trigger_name trigger_schema trim trim_array true truncate trusted type types uescape unbounded uncommitted under unencrypted unique unknown unlink unlisten unlogged unnamed unnest until untyped upper uri usage user user_defined_type_catalog user_defined_type_code user_defined_type_name user_defined_type_schema using vacuum valid validate validator value value_of varbinary variadic var_pop var_samp verbose version versioning view views volatile when whenever whitespace width_bucket window within work wrapper write xmlagg xmlattributes xmlbinary xmlcast xmlcomment xmlconcat xmldeclaration xmldocument xmlelement xmlexists xmlforest xmliterate xmlnamespaces xmlparse xmlpi xmlquery xmlroot xmlschema xmlserialize xmltable xmltext xmlvalidate year yes loop repeat attach path depends detach zone"),builtin:o("bigint int8 bigserial serial8 bit varying varbit boolean bool box bytea character char varchar cidr circle date double precision float8 inet integer int int4 interval json jsonb line lseg macaddr macaddr8 money numeric decimal path pg_lsn point polygon real float4 smallint int2 smallserial serial2 serial serial4 text time without zone with timetz timestamp timestamptz tsquery tsvector txid_snapshot uuid xml"),atoms:o("false true null unknown"),operatorChars:/^[*\/+\-%<>!=&|^\/#@?~]/,dateSQL:o("date time timestamp"),support:o("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber nCharCast charsetCast")}),e.defineMIME("text/x-gql",{name:"sql",keywords:o("ancestor and asc by contains desc descendant distinct from group has in is limit offset on order select superset where"),atoms:o("false true"),builtin:o("blob datetime first key __key__ string integer double boolean null"),operatorChars:/^[*+\-%<>!=]/}),e.defineMIME("text/x-gpsql",{name:"sql",client:o("source"),keywords:o("abort absolute access action active add admin after aggregate all also alter always analyse analyze and any array as asc assertion assignment asymmetric at authorization backward before begin between bigint binary bit boolean both by cache called cascade cascaded case cast chain char character characteristics check checkpoint class close cluster coalesce codegen collate column comment commit committed concurrency concurrently configuration connection constraint constraints contains content continue conversion copy cost cpu_rate_limit create createdb createexttable createrole createuser cross csv cube current current_catalog current_date current_role current_schema current_time current_timestamp current_user cursor cycle data database day deallocate dec decimal declare decode default defaults deferrable deferred definer delete delimiter delimiters deny desc dictionary disable discard distinct distributed do document domain double drop dxl each else enable encoding encrypted end enum errors escape every except exchange exclude excluding exclusive execute exists explain extension external extract false family fetch fields filespace fill filter first float following for force foreign format forward freeze from full function global grant granted greatest group group_id grouping handler hash having header hold host hour identity if ignore ilike immediate immutable implicit in including inclusive increment index indexes inherit inherits initially inline inner inout input insensitive insert instead int integer intersect interval into invoker is isnull isolation join key language large last leading least left level like limit list listen load local localtime localtimestamp location lock log login mapping master match maxvalue median merge minute minvalue missing mode modifies modify month move name names national natural nchar new newline next no nocreatedb nocreateexttable nocreaterole nocreateuser noinherit nologin none noovercommit nosuperuser not nothing notify notnull nowait null nullif nulls numeric object of off offset oids old on only operator option options or order ordered others out outer over overcommit overlaps overlay owned owner parser partial partition partitions passing password percent percentile_cont percentile_disc placing plans position preceding precision prepare prepared preserve primary prior privileges procedural procedure protocol queue quote randomly range read readable reads real reassign recheck recursive ref references reindex reject relative release rename repeatable replace replica reset resource restart restrict returning returns revoke right role rollback rollup rootpartition row rows rule savepoint scatter schema scroll search second security segment select sequence serializable session session_user set setof sets share show similar simple smallint some split sql stable standalone start statement statistics stdin stdout storage strict strip subpartition subpartitions substring superuser symmetric sysid system table tablespace temp template temporary text then threshold ties time timestamp to trailing transaction treat trigger trim true truncate trusted type unbounded uncommitted unencrypted union unique unknown unlisten until update user using vacuum valid validation validator value values varchar variadic varying verbose version view volatile web when where whitespace window with within without work writable write xml xmlattributes xmlconcat xmlelement xmlexists xmlforest xmlparse xmlpi xmlroot xmlserialize year yes zone"),builtin:o("bigint int8 bigserial serial8 bit varying varbit boolean bool box bytea character char varchar cidr circle date double precision float float8 inet integer int int4 interval json jsonb line lseg macaddr macaddr8 money numeric decimal path pg_lsn point polygon real float4 smallint int2 smallserial serial2 serial serial4 text time without zone with timetz timestamp timestamptz tsquery tsvector txid_snapshot uuid xml"),atoms:o("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^\/#@?~]/,dateSQL:o("date time timestamp"),support:o("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber nCharCast charsetCast")}),e.defineMIME("text/x-sparksql",{name:"sql",keywords:o("add after all alter analyze and anti archive array as asc at between bucket buckets by cache cascade case cast change clear cluster clustered codegen collection column columns comment commit compact compactions compute concatenate cost create cross cube current current_date current_timestamp database databases datata dbproperties defined delete delimited deny desc describe dfs directories distinct distribute drop else end escaped except exchange exists explain export extended external false fields fileformat first following for format formatted from full function functions global grant group grouping having if ignore import in index indexes inner inpath inputformat insert intersect interval into is items join keys last lateral lazy left like limit lines list load local location lock locks logical macro map minus msck natural no not null nulls of on optimize option options or order out outer outputformat over overwrite partition partitioned partitions percent preceding principals purge range recordreader recordwriter recover reduce refresh regexp rename repair replace reset restrict revoke right rlike role roles rollback rollup row rows schema schemas select semi separated serde serdeproperties set sets show skewed sort sorted start statistics stored stratify struct table tables tablesample tblproperties temp temporary terminated then to touch transaction transactions transform true truncate unarchive unbounded uncache union unlock unset use using values view when where window with"),builtin:o("tinyint smallint int bigint boolean float double string binary timestamp decimal array map struct uniontype delimited serde sequencefile textfile rcfile inputformat outputformat"),atoms:o("false true null"),operatorChars:/^[*\/+\-%<>!=~&|^]/,dateSQL:o("date time timestamp"),support:o("ODBCdotTable doubleQuote zerolessFloat")}),e.defineMIME("text/x-esper",{name:"sql",client:o("source"),keywords:o("alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where limit after all and as at asc avedev avg between by case cast coalesce count create current_timestamp day days delete define desc distinct else end escape events every exists false first from full group having hour hours in inner insert instanceof into irstream is istream join last lastweekday left limit like max match_recognize matches median measures metadatasql min minute minutes msec millisecond milliseconds not null offset on or order outer output partition pattern prev prior regexp retain-union retain-intersection right rstream sec second seconds select set some snapshot sql stddev sum then true unidirectional until update variable weekday when where window"),builtin:{},atoms:o("false true null"),operatorChars:/^[*+\-%<>!=&|^\/#@?~]/,dateSQL:o("time"),support:o("decimallessFloat zerolessFloat binaryNumber hexNumber")})}(n(8))},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h,m,g,b,y,v;v=n(107),y=n(503),u=n(345).default,i=n(71),o=n(324),a=n(23),c=n(99),s=n(43),l=n(15),r=n(100),g={files:[],path:"/root/sandbox",sockets:{}},p=!1,f={},d=[],h={},m=!1,b=!1,e.exports=Reflux.createStore({listenables:i,mixins:[mixins.ItemMixin,mixins.AjaxMixin,r],init:function(){return s.listen(this.onContainerChange),l.listen(this.onProjectChange)},onContainerChange:function(e){var t;if(!this.socket()&&e)return f=e,t=h?h.default_pwd:g.path,this.setDirectory(t)},onProjectChange:function(e){if(e.id)return h=e,m?void 0:(d=_.map(e.hidden_files.split(/\n+/),y),m=!0)},setFiles:function(e){var t,n,i;for(g.files=e,n=0,i=e.length;n<i;n++)(t=e[n]).icon=this.fileIcon(t),t.loading=t.directory;return this.trigger(g)},appendFiles:function(e){var t,n,i;for(n=0,i=(e=_.reject(e,function(e){return _.find(g.files,function(t){return e.path===t.path})})).length;n<i;n++)(t=e[n]).children=null,t.icon=this.fileIcon(t),t.loading=t.directory,g.files=this.createItem(g.files,t,!1);return this.trigger(g)},createFile:function(e){if(!_.find(g.files,function(t){return t.path===e.path}))return e.id=e.path,e.children=null,e.icon=this.fileIcon(e),e.loading=e.directory,g.files=this.createItem(g.files,e,!1),this.trigger(g)},deleteFile:function(e){var t;return e.children=null,e.id=e.path,g.files=this.deleteItem(g.files,e),(t=_.find(g.files,function(t){return t.path===v.dirname(e.path)}))&&(t.children=_.reject(t.children,function(t){return t.path===e.path})),this.trigger(g)},toggleDirectory:function(e,t){return e.toggled=t,e.icon=this.fileIcon(e),g.files=this.updateItem(g.files,e,e),this.trigger(g)},setActive:function(e){var t;if(e||this.clearActive(),t=_.find(g.files,function(t){return t.path===e}))return t.active=!0,this.clearActive(e)},setDirNotLoading:function(e){var t;if(t=_.find(g.files,function(t){return t.path===e}))return t.loading=!1,g.files=this.updateItem(g.files,t,t)},connectSocket:function(e,t,n,i){var r,s,l,c;return console.info("Attempting to connect to sandbox"),s=`${t}?token=${n}`,s+=`&path=${encodeURIComponent(v.join(e,"/"))}`,s+=`&invalid=${encodeURIComponent(i||"$^")}`,r=Math.floor(1001*Math.random()+2e3),l=0,(c=new u(s,[],{connectionTimeout:r,maxRetries:10,minReconnectionDelay:150,maxReconnectionDelay:10*r,reconnectionDelayGrowFactor:4})).addEventListener("open",()=>{var t;console.info("Connected to sandbox"),(t=g.sockets)[e]=c,g.sockets=t,this.listRemoteDirectory(e),p=!0}),c.addEventListener("message",e=>{var t,n,i,r,o,s,l,u;if("listDirectory"===(t=JSON.parse(e.data)).action){for(t.files=t.files||[],s=[],r=0,o=(l=t.files).length;r<o;r++)(n=l[r]).id=n.path,n.hidden=this.hidden(n),s.push(n);t.files=s}else t.hidden=this.hidden(t),t.id=t.path;switch(t.action){case"listDirectory":this.handleRemoteListDirectory(t);break;case"createFile":this.handleRemoteCreate(t);break;case"openFile":this.handleRemoteOpen(t);break;case"updateFile":this.handleRemoteUpdate(t);break;case"deleteFile":case"notFound":this.handleRemoteDelete(t)}"listDirectory"!==(u=t.action)&&"createFile"!==u&&"deleteFile"!==u||(i=_.filter(g.files,function(e){return e.parent_id===g.path}),a.setProperty("filenames",_.pluck(i,"name")))}),c.addEventListener("close",function(){return console.info("Disconnected from sandbox"),!0===b||l<10?(b=!1,void(l+=1)):(o.setDead(!0),$.alert("Could not connect to your sandbox. Please reload page and ensure that you only have one project loaded at a time. Coding sandboxes expire after 30 minutes of inactivity.","danger",!1))})},hidden:function(e){var t;return t=v.basename(e.path),-1!==e.path.indexOf(".solution")||(!!t.toLowerCase().match("^(codevolve|nt)(-)?(test|build)")||(!(!h.lite_mode_code_editor||e.parent_id===g.path)||!!_.find(d,function(t){return t.test(e.path)})))},disconnectSocket:function(){var e;if(e=this.socket())return b=!0,e.close(),delete g.sockets[g.path]},disconnectSockets:function(){return _.each(g.sockets,function(e){return e.close()})},renameRemoteFile:function(e,t){return this.socket().send(JSON.stringify({action:"renameFile",path:e,contents:t,directory:v.dirname(e)}))},deleteRemoteFile:function(e){return this.socket().send(JSON.stringify({action:"deleteFile",path:e}))},createRemoteFile:function(e,t,n){var i;return i=v.join(t,e),n?this.socket().send(JSON.stringify({action:"createDirectory",path:i})):p?this.socket().send(JSON.stringify({action:"updateFile",path:i,contents:""})):void 0},duplicateRemoteFile:function(e,t,n,i){var r,o;return o=v.join(n,e),r=v.join(n,t),this.exec(f.root_hostname,f.token,["cp","-n",o,r],{cb:function(t){return 0!==t.status?$.alert(`Could not duplicate "${e}".`,"danger"):"function"==typeof i?i():void 0}})},listRemoteDirectory:function(e){if(this.socket())return this.socket().send(JSON.stringify({action:"listFiles",directory:e}))},setDirectory:function(e){return g.path=e,!1,g.sockets[e]?this.listRemoteDirectory(e):f&&f.filesystem_url&&f.token?this.connectSocket(e,f.filesystem_url,f.token,h.invalid_file_extensions):void 0},handleRemoteListDirectory:function(e){var t,n;if(t=e.files,this.setDirNotLoading(e.path),this.appendFiles(t||[]),!h.editing&&h.lite_mode_code_editor)return n=_.filter(t,function(e){return e.parent_id===g.path&&!e.directory&&!e.hidden}),c.appendTabsForFiles(n)},handleRemoteCreate:function(e){if(this.createFile(e),h.default_chmod&&this.exec(f.root_hostname,f.token,["sudo","chmod","-R",h.default_chmod,e.path],{}),!h.editing&&h.lite_mode_code_editor&&!e.hidden)return c.appendTabsForFiles([e])},handleRemoteOpen:function(e){return e.contents="",this.createFile(e)},handleRemoteUpdate:function(e){var t;if((t=_.find(g.files,function(t){return t.path===e.path}))&&t.type!==e.type)return t.type=e.type,g.files=this.updateItem(g.files,t,t),this.trigger(g)},handleRemoteDelete:function(e){return this.deleteFile(e)},clearActive:function(e){var t,n,i;for(t=0,n=(i=_.filter(g.files,function(t){return t.active&&t.path!==e})).length;t<n;t++)i[t].active=!1;return this.trigger(g)},socket:function(){return g.sockets[g.path]},fileIcon:function(e){var t,n;return e.directory?e.toggled?"filename--folder-open":"filename--folder-closed":e.name?(n=e.name.split("."),"image"===e.type?"filename--image":"binary"===e.type?"filename--binary":"file-large"===e.type?"filename--generic":n.length>1?(t=_.last(n).toLowerCase(),-1!==["mp4","gif","avi","flv","mkv","webm","mov","mpg","mpeg","wav"].indexOf(t)?"filename--video":-1!==["zip","tar","gz","tgz","war","bz"].indexOf(t)?"filename--archive":-1!==["mp3","aac","m4a","ogg","flac"].indexOf(t)?"filename--audio":-1!==["ai","png","jpg","jpeg","tif","tiff","raw","svg"].indexOf(t)?"filename--image":-1!==["md","txt","doc","docx","xls","xlsx","text","pdf"].indexOf(t)?"filename--generic":-1!==["bin","exe","out"].indexOf(t)?"filename--binary":"filename--code"):"filename--generic"):void 0},getInitialState:function(){return g}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(1),s=l(o),a=l(n(0));function l(e){return e&&e.__esModule?e:{default:e}}var u={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},c=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],p=function(e,t){t.style.fontSize=e.fontSize,t.style.fontFamily=e.fontFamily,t.style.fontWeight=e.fontWeight,t.style.fontStyle=e.fontStyle,t.style.letterSpacing=e.letterSpacing,t.style.textTransform=e.textTransform},f=!("undefined"==typeof window||!window.navigator)&&/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent),d=function(){return f?"_"+Math.random().toString(36).substr(2,12):void 0},h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.inputRef=function(e){n.input=e,"function"==typeof n.props.inputRef&&n.props.inputRef(e)},n.placeHolderSizerRef=function(e){n.placeHolderSizer=e},n.sizerRef=function(e){n.sizer=e},n.state={inputWidth:e.minWidth,inputId:e.id||d()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentWillReceiveProps",value:function(e){var t=e.id;t!==this.props.id&&this.setState({inputId:t||d()})}},{key:"componentDidUpdate",value:function(e,t){t.inputWidth!==this.state.inputWidth&&"function"==typeof this.props.onAutosize&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(this.mounted&&window.getComputedStyle){var e=this.input&&window.getComputedStyle(this.input);e&&(p(e,this.sizer),this.placeHolderSizer&&p(e,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(this.mounted&&this.sizer&&void 0!==this.sizer.scrollWidth){var e=void 0;e=this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:this.sizer.scrollWidth+2,(e+="number"===this.props.type&&void 0===this.props.extraWidth?16:parseInt(this.props.extraWidth)||0)<this.props.minWidth&&(e=this.props.minWidth),e!==this.state.inputWidth&&this.setState({inputWidth:e})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var e=this.props.injectStyles;return f&&e?s.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var e=[this.props.defaultValue,this.props.value,""].reduce(function(e,t){return null!=e?e:t}),t=i({},this.props.style);t.display||(t.display="inline-block");var n=i({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),r=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(this.props,[]);return function(e){c.forEach(function(t){return delete e[t]})}(r),r.className=this.props.inputClassName,r.id=this.state.inputId,r.style=n,s.default.createElement("div",{className:this.props.className,style:t},this.renderStyles(),s.default.createElement("input",i({},r,{ref:this.inputRef})),s.default.createElement("div",{ref:this.sizerRef,style:u},e),this.props.placeholder?s.default.createElement("div",{ref:this.placeHolderSizerRef,style:u},this.props.placeholder):null)}}]),t}();h.propTypes={className:a.default.string,defaultValue:a.default.any,extraWidth:a.default.oneOfType([a.default.number,a.default.string]),id:a.default.string,injectStyles:a.default.bool,inputClassName:a.default.string,inputRef:a.default.func,inputStyle:a.default.object,minWidth:a.default.oneOfType([a.default.number,a.default.string]),onAutosize:a.default.func,onChange:a.default.func,placeholder:a.default.string,placeholderIsMinWidth:a.default.bool,style:a.default.object,value:a.default.any},h.defaultProps={minWidth:1,injectStyles:!0},t.default=h},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){var n,i;i={"application/javascript":["javascript"],"application/json":["json"],"application/pgp":["pgp"],"application/x-erb":["erb"],graphql:["graphql"],"text/coffeescript":["coffee","coffeescript","litcoffee","cson"],"text/css":["css"],"text/html":["html","xhtml"],"text/jsx":["js","jsx"],"text/typescript":["ts","typescript"],"text/vbscript":["vbs","vbscript"],"text/x-c++src":["c","cc","cpp","cs","c++","cxx","hh","h++","hxx","hpp","h","kt"],"text/x-clojure":["clj","cljs","cljc","clojure","edn"],"text/x-cmake":["cmake","make","makefile","mk"],"text/x-common-lisp":["lisp","lsp"],"text/x-cython":["cython","pyx"],"text/x-diff":["diff","patch"],"text/x-elm":["elm"],"text/x-erlang":["erl","erlang","hrl"],"text/x-fortran":["f90","f95","f03","fortran"],"text/x-go":["go","golang"],"text/x-haml":["haml"],"text/x-handlebars-template":["handlebars","hbs"],"text/x-haskell":["hs","lhs","haskell"],"text/x-java":["java"],"text/x-julia":["jl","julia"],"text/x-latex":["$$","latex","tex"],"text/x-less":["less"],"text/x-livescript":["mlx","ls","livescript"],"text/x-lua":["lua"],"text/x-markdown":["md","markdown","mkdown","mkd"],"text/x-nginx-conf":["conf","nginx"],"text/x-ocaml":["ml","ocaml"],"text/x-octave":["m","matlab","octave"],"text/x-pascal":["pas","pascal"],"text/x-perl":["pl","perl"],"text/x-php":["php"],"text/x-python":["py","python"],"text/x-rsrc":["r"],"text/x-ruby":["irb","rb","ruby"],"text/x-rustsrc":["rs","rlib","rst","rust"],"text/x-sas":["sas"],"text/x-sass":["sass"],"text/x-scheme":["scm","scheme"],"text/x-scss":["scss"],"text/x-sh":["bash","console","sh","zsh","shell"],"text/x-sql":["sql","mysql"],"text/x-swift":["swift"],"text/x-vhdl":["vhd","vhdl"],"text/x-yaml":["yaml","yml"],"text/xml":["atom","plist","rss","xml","xsl","xsd","xjb"],"text/x-ceylon":["ceylon"],"text/x-csharp":["csharp","cs"],"text/x-objectivec":["mm","obj-c","objc","objectivec"],"text/x-scala":["scala"]},n=["application/json","application/pgp","text/x-cython","text/x-erlang","text/x-fortran","text/x-go","text/x-haskell","text/x-julia","text/x-livescript","text/x-markdown","text/x-nginx-conf","text/x-perl","text/x-php","text/x-python","text/x-rst","text/x-rustsrc","text/x-sass","text/x-java","text/x-c++src"],e.exports={findMime:function(e){var t;return(t=this.findByMime(e.mime))?t:this.findByExtension(e.path)||"text/plain"},findByMime:function(e){if(e)return e=e.toLowerCase(),-1!==_.keys(i).indexOf(e)?e:void 0},findByExtension:function(e){var t,n,r,o,s,a;if((t=e.split(".")).length>0)for(n=_.last(t).toLowerCase(),r=0,o=(a=_.keys(i)).length;r<o;r++)if(s=a[r],-1!==i[s].indexOf(n))return s},spaces:function(e){return n.indexOf(e)>=0?4:2}}},function(e,t,n){"use strict";var i,r=n(8),o=(i=r)&&i.__esModule?i:{default:i},s=n(198);function a(e,t){var n=e.levels;return(n&&0!==n.length?n[n.length-1]-(this.electricInput.test(t)?1:0):e.indentLevel)*this.config.indentUnit}o.default.defineMode("graphql",function(e){var t=(0,s.onlineParser)({eatWhitespace:function(e){return e.eatWhile(s.isIgnored)},lexRules:s.LexRules,parseRules:s.ParseRules,editorConfig:{tabSize:e.tabSize}});return{config:e,startState:t.startState,token:t.token,indent:a,electricInput:/^\s*[})\]]/,fold:"brace",lineComment:"#",closeBrackets:{pairs:'()[]{}""',explode:"()[]{}"}}})},function(e,t,n){!function(e){"use strict";function t(e){var t=e.match(/^\s*\S/);return e.skipToEnd(),t?"error":null}e.defineMode("asciiarmor",function(){return{token:function(e,n){var i;if("top"==n.state)return e.sol()&&(i=e.match(/^-----BEGIN (.*)?-----\s*$/))?(n.state="headers",n.type=i[1],"tag"):t(e);if("headers"==n.state){if(e.sol()&&e.match(/^\w+:/))return n.state="header","atom";var r=t(e);return r&&(n.state="body"),r}return"header"==n.state?(e.skipToEnd(),n.state="headers","string"):"body"==n.state?e.sol()&&(i=e.match(/^-----END (.*)?-----\s*$/))?i[1]!=n.type?"error":(n.state="end","tag"):e.eatWhile(/[A-Za-z0-9+\/=]/)?null:(e.next(),"error"):"end"==n.state?t(e):void 0},blankLine:function(e){"headers"==e.state&&(e.state="body")},startState:function(){return{state:"top",type:null}}}}),e.defineMIME("application/pgp","asciiarmor"),e.defineMIME("application/pgp-encrypted","asciiarmor"),e.defineMIME("application/pgp-keys","asciiarmor"),e.defineMIME("application/pgp-signature","asciiarmor")}(n(8))},function(e,t,n){!function(e){"use strict";e.defineMode("clojure",function(t){var n=["false","nil","true"],i=[".","catch","def","do","if","monitor-enter","monitor-exit","new","quote","recur","set!","throw","try","var"],r=["*","*'","*1","*2","*3","*agent*","*allow-unresolved-vars*","*assert*","*clojure-version*","*command-line-args*","*compile-files*","*compile-path*","*compiler-options*","*data-readers*","*default-data-reader-fn*","*e","*err*","*file*","*flush-on-newline*","*fn-loader*","*in*","*math-context*","*ns*","*out*","*print-dup*","*print-length*","*print-level*","*print-meta*","*print-namespace-maps*","*print-readably*","*read-eval*","*reader-resolver*","*source-path*","*suppress-read*","*unchecked-math*","*use-context-classloader*","*verbose-defrecords*","*warn-on-reflection*","+","+'","-","-'","->","->>","->ArrayChunk","->Eduction","->Vec","->VecNode","->VecSeq","-cache-protocol-fn","-reset-methods","..","/","<","<=","=","==",">",">=","EMPTY-NODE","Inst","StackTraceElement->vec","Throwable->map","accessor","aclone","add-classpath","add-watch","agent","agent-error","agent-errors","aget","alength","alias","all-ns","alter","alter-meta!","alter-var-root","amap","ancestors","and","any?","apply","areduce","array-map","as->","aset","aset-boolean","aset-byte","aset-char","aset-double","aset-float","aset-int","aset-long","aset-short","assert","assoc","assoc!","assoc-in","associative?","atom","await","await-for","await1","bases","bean","bigdec","bigint","biginteger","binding","bit-and","bit-and-not","bit-clear","bit-flip","bit-not","bit-or","bit-set","bit-shift-left","bit-shift-right","bit-test","bit-xor","boolean","boolean-array","boolean?","booleans","bound-fn","bound-fn*","bound?","bounded-count","butlast","byte","byte-array","bytes","bytes?","case","cast","cat","char","char-array","char-escape-string","char-name-string","char?","chars","chunk","chunk-append","chunk-buffer","chunk-cons","chunk-first","chunk-next","chunk-rest","chunked-seq?","class","class?","clear-agent-errors","clojure-version","coll?","comment","commute","comp","comparator","compare","compare-and-set!","compile","complement","completing","concat","cond","cond->","cond->>","condp","conj","conj!","cons","constantly","construct-proxy","contains?","count","counted?","create-ns","create-struct","cycle","dec","dec'","decimal?","declare","dedupe","default-data-readers","definline","definterface","defmacro","defmethod","defmulti","defn","defn-","defonce","defprotocol","defrecord","defstruct","deftype","delay","delay?","deliver","denominator","deref","derive","descendants","destructure","disj","disj!","dissoc","dissoc!","distinct","distinct?","doall","dorun","doseq","dosync","dotimes","doto","double","double-array","double?","doubles","drop","drop-last","drop-while","eduction","empty","empty?","ensure","ensure-reduced","enumeration-seq","error-handler","error-mode","eval","even?","every-pred","every?","ex-data","ex-info","extend","extend-protocol","extend-type","extenders","extends?","false?","ffirst","file-seq","filter","filterv","find","find-keyword","find-ns","find-protocol-impl","find-protocol-method","find-var","first","flatten","float","float-array","float?","floats","flush","fn","fn?","fnext","fnil","for","force","format","frequencies","future","future-call","future-cancel","future-cancelled?","future-done?","future?","gen-class","gen-interface","gensym","get","get-in","get-method","get-proxy-class","get-thread-bindings","get-validator","group-by","halt-when","hash","hash-combine","hash-map","hash-ordered-coll","hash-set","hash-unordered-coll","ident?","identical?","identity","if-let","if-not","if-some","ifn?","import","in-ns","inc","inc'","indexed?","init-proxy","inst-ms","inst-ms*","inst?","instance?","int","int-array","int?","integer?","interleave","intern","interpose","into","into-array","ints","io!","isa?","iterate","iterator-seq","juxt","keep","keep-indexed","key","keys","keyword","keyword?","last","lazy-cat","lazy-seq","let","letfn","line-seq","list","list*","list?","load","load-file","load-reader","load-string","loaded-libs","locking","long","long-array","longs","loop","macroexpand","macroexpand-1","make-array","make-hierarchy","map","map-entry?","map-indexed","map?","mapcat","mapv","max","max-key","memfn","memoize","merge","merge-with","meta","method-sig","methods","min","min-key","mix-collection-hash","mod","munge","name","namespace","namespace-munge","nat-int?","neg-int?","neg?","newline","next","nfirst","nil?","nnext","not","not-any?","not-empty","not-every?","not=","ns","ns-aliases","ns-imports","ns-interns","ns-map","ns-name","ns-publics","ns-refers","ns-resolve","ns-unalias","ns-unmap","nth","nthnext","nthrest","num","number?","numerator","object-array","odd?","or","parents","partial","partition","partition-all","partition-by","pcalls","peek","persistent!","pmap","pop","pop!","pop-thread-bindings","pos-int?","pos?","pr","pr-str","prefer-method","prefers","primitives-classnames","print","print-ctor","print-dup","print-method","print-simple","print-str","printf","println","println-str","prn","prn-str","promise","proxy","proxy-call-with-super","proxy-mappings","proxy-name","proxy-super","push-thread-bindings","pvalues","qualified-ident?","qualified-keyword?","qualified-symbol?","quot","rand","rand-int","rand-nth","random-sample","range","ratio?","rational?","rationalize","re-find","re-groups","re-matcher","re-matches","re-pattern","re-seq","read","read-line","read-string","reader-conditional","reader-conditional?","realized?","record?","reduce","reduce-kv","reduced","reduced?","reductions","ref","ref-history-count","ref-max-history","ref-min-history","ref-set","refer","refer-clojure","reify","release-pending-sends","rem","remove","remove-all-methods","remove-method","remove-ns","remove-watch","repeat","repeatedly","replace","replicate","require","reset!","reset-meta!","reset-vals!","resolve","rest","restart-agent","resultset-seq","reverse","reversible?","rseq","rsubseq","run!","satisfies?","second","select-keys","send","send-off","send-via","seq","seq?","seqable?","seque","sequence","sequential?","set","set-agent-send-executor!","set-agent-send-off-executor!","set-error-handler!","set-error-mode!","set-validator!","set?","short","short-array","shorts","shuffle","shutdown-agents","simple-ident?","simple-keyword?","simple-symbol?","slurp","some","some->","some->>","some-fn","some?","sort","sort-by","sorted-map","sorted-map-by","sorted-set","sorted-set-by","sorted?","special-symbol?","spit","split-at","split-with","str","string?","struct","struct-map","subs","subseq","subvec","supers","swap!","swap-vals!","symbol","symbol?","sync","tagged-literal","tagged-literal?","take","take-last","take-nth","take-while","test","the-ns","thread-bound?","time","to-array","to-array-2d","trampoline","transduce","transient","tree-seq","true?","type","unchecked-add","unchecked-add-int","unchecked-byte","unchecked-char","unchecked-dec","unchecked-dec-int","unchecked-divide-int","unchecked-double","unchecked-float","unchecked-inc","unchecked-inc-int","unchecked-int","unchecked-long","unchecked-multiply","unchecked-multiply-int","unchecked-negate","unchecked-negate-int","unchecked-remainder-int","unchecked-short","unchecked-subtract","unchecked-subtract-int","underive","unquote","unquote-splicing","unreduced","unsigned-bit-shift-right","update","update-in","update-proxy","uri?","use","uuid?","val","vals","var-get","var-set","var?","vary-meta","vec","vector","vector-of","vector?","volatile!","volatile?","vreset!","vswap!","when","when-first","when-let","when-not","when-some","while","with-bindings","with-bindings*","with-in-str","with-loading-context","with-local-vars","with-meta","with-open","with-out-str","with-precision","with-redefs","with-redefs-fn","xml-seq","zero?","zipmap"];e.registerHelper("hintWords","clojure",[].concat(n,i,r));var o=g(n),s=g(i),a=g(r),l=g(["->","->>","as->","binding","bound-fn","case","catch","comment","cond","cond->","cond->>","condp","def","definterface","defmethod","defn","defmacro","defprotocol","defrecord","defstruct","deftype","do","doseq","dotimes","doto","extend","extend-protocol","extend-type","fn","for","future","if","if-let","if-not","if-some","let","letfn","locking","loop","ns","proxy","reify","struct-map","some->","some->>","try","when","when-first","when-let","when-not","when-some","while","with-bindings","with-bindings*","with-in-str","with-loading-context","with-local-vars","with-meta","with-open","with-out-str","with-precision","with-redefs","with-redefs-fn"]),u=/^(?:[\\\[\]\s"(),;@^`{}~]|$)/,c=/^(?:[+\-]?\d+(?:(?:N|(?:[eE][+\-]?\d+))|(?:\.?\d*(?:M|(?:[eE][+\-]?\d+))?)|\/\d+|[xX][0-9a-fA-F]+|r[0-9a-zA-Z]+)?(?=[\\\[\]\s"#'(),;@^`{}~]|$))/,p=/^(?:\\(?:backspace|formfeed|newline|return|space|tab|o[0-7]{3}|u[0-9A-Fa-f]{4}|x[0-9A-Fa-f]{4}|.)?(?=[\\\[\]\s"(),;@^`{}~]|$))/,f=/^(?:(?:[^\\\/\[\]\d\s"#'(),;@^`{}~][^\\\[\]\s"(),;@^`{}~]*(?:\.[^\\\/\[\]\d\s"#'(),;@^`{}~][^\\\[\]\s"(),;@^`{}~]*)*\/)?(?:\/|[^\\\/\[\]\d\s"#'(),;@^`{}~][^\\\[\]\s"(),;@^`{}~]*)*(?=[\\\[\]\s"(),;@^`{}~]|$))/;function d(e,t){if(e.eatSpace())return["space",null];if(e.match(c))return[null,"number"];if(e.match(p))return[null,"string-2"];if(e.eat(/^"/))return(t.tokenize=h)(e,t);if(e.eat(/^[(\[{]/))return["open","bracket"];if(e.eat(/^[)\]}]/))return["close","bracket"];if(e.eat(/^;/))return e.skipToEnd(),["space","comment"];if(e.eat(/^[#'@^`~]/))return[null,"meta"];var n=e.match(f),i=n&&n[0];return i?"comment"===i&&"("===t.lastToken?(t.tokenize=m)(e,t):b(i,o)||":"===i.charAt(0)?["symbol","atom"]:b(i,s)||b(i,a)?["symbol","keyword"]:"("===t.lastToken?["symbol","builtin"]:["symbol","variable"]:(e.next(),e.eatWhile(function(e){return!b(e,u)}),[null,"error"])}function h(e,t){for(var n,i=!1;n=e.next();){if('"'===n&&!i){t.tokenize=d;break}i=!i&&"\\"===n}return[null,"string"]}function m(e,t){for(var n,i=1;n=e.next();)if(")"===n&&i--,"("===n&&i++,0===i){e.backUp(1),t.tokenize=d;break}return["space","comment"]}function g(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=!0;return t}function b(e,t){return t instanceof RegExp?t.test(e):t instanceof Object?t.propertyIsEnumerable(e):void 0}return{startState:function(){return{ctx:{prev:null,start:0,indentTo:0},lastToken:null,tokenize:d}},token:function(e,n){e.sol()&&"number"!=typeof n.ctx.indentTo&&(n.ctx.indentTo=n.ctx.start+1);var i=n.tokenize(e,n),r=i[0],o=i[1],s=e.current();return"space"!==r&&("("===n.lastToken&&null===n.ctx.indentTo?"symbol"===r&&b(s,l)?n.ctx.indentTo=n.ctx.start+t.indentUnit:n.ctx.indentTo="next":"next"===n.ctx.indentTo&&(n.ctx.indentTo=e.column()),n.lastToken=s),"open"===r?n.ctx={prev:n.ctx,start:e.column(),indentTo:null}:"close"===r&&(n.ctx=n.ctx.prev||n.ctx),o},indent:function(e){var t=e.ctx.indentTo;return"number"==typeof t?t:e.ctx.start+1},closeBrackets:{pairs:'()[]{}""'},lineComment:";;"}}),e.defineMIME("text/x-clojure","clojure"),e.defineMIME("text/x-clojurescript","clojure"),e.defineMIME("application/edn","clojure")}(n(8))},function(e,t,n){!function(e){"use strict";e.defineMode("cmake",function(){var e=/({)?[a-zA-Z0-9_]+(})?/;function t(e,t){for(var n,i,r=!1;!e.eol()&&(n=e.next())!=t.pending;){if("$"===n&&"\\"!=i&&'"'==t.pending){r=!0;break}i=n}return r&&e.backUp(1),n==t.pending?t.continueString=!1:t.continueString=!0,"string"}return{startState:function(){var e={inDefinition:!1,inInclude:!1,continueString:!1,pending:!1};return e},token:function(n,i){return n.eatSpace()?null:function(n,i){var r=n.next();return"$"===r?n.match(e)?"variable-2":"variable":i.continueString?(n.backUp(1),t(n,i)):n.match(/(\s+)?\w+\(/)||n.match(/(\s+)?\w+\ \(/)?(n.backUp(1),"def"):"#"==r?(n.skipToEnd(),"comment"):"'"==r||'"'==r?(i.pending=r,t(n,i)):"("==r||")"==r?"bracket":r.match(/[0-9]/)?"number":(n.eatWhile(/[\w-]/),null)}(n,i)}}}),e.defineMIME("text/x-cmake","cmake")}(n(8))},function(e,t,n){!function(e){"use strict";e.defineMode("coffeescript",function(e,t){var n="error";function i(e){return new RegExp("^(("+e.join(")|(")+"))\\b")}var r=/^(?:->|=>|\+[+=]?|-[\-=]?|\*[\*=]?|\/[\/=]?|[=!]=|<[><]?=?|>>?=?|%=?|&=?|\|=?|\^=?|\~|!|\?|(or|and|\|\||&&|\?)=)/,o=/^(?:[()\[\]{},:`=;]|\.\.?\.?)/,s=/^[_A-Za-z$][_A-Za-z$0-9]*/,a=/^@[_A-Za-z$][_A-Za-z$0-9]*/,l=i(["and","or","not","is","isnt","in","instanceof","typeof"]),u=["for","while","loop","if","unless","else","switch","try","catch","finally","class"],c=i(u.concat(["break","by","continue","debugger","delete","do","in","of","new","return","then","this","@","throw","when","until","extends"]));u=i(u);var p=/^('{3}|\"{3}|['\"])/,f=/^(\/{3}|\/)/,d=i(["Infinity","NaN","undefined","null","true","false","on","off","yes","no"]);function h(e,t){if(e.sol()){null===t.scope.align&&(t.scope.align=!1);var i=t.scope.offset;if(e.eatSpace()){var u=e.indentation();return u>i&&"coffee"==t.scope.type?"indent":u<i?"dedent":null}i>0&&y(e,t)}if(e.eatSpace())return null;var h=e.peek();if(e.match("####"))return e.skipToEnd(),"comment";if(e.match("###"))return t.tokenize=g,t.tokenize(e,t);if("#"===h)return e.skipToEnd(),"comment";if(e.match(/^-?[0-9\.]/,!1)){var b=!1;if(e.match(/^-?\d*\.\d+(e[\+\-]?\d+)?/i)&&(b=!0),e.match(/^-?\d+\.\d*/)&&(b=!0),e.match(/^-?\.\d+/)&&(b=!0),b)return"."==e.peek()&&e.backUp(1),"number";var v=!1;if(e.match(/^-?0x[0-9a-f]+/i)&&(v=!0),e.match(/^-?[1-9]\d*(e[\+\-]?\d+)?/)&&(v=!0),e.match(/^-?0(?![\dx])/i)&&(v=!0),v)return"number"}if(e.match(p))return t.tokenize=m(e.current(),!1,"string"),t.tokenize(e,t);if(e.match(f)){if("/"!=e.current()||e.match(/^.*\//,!1))return t.tokenize=m(e.current(),!0,"string-2"),t.tokenize(e,t);e.backUp(1)}return e.match(r)||e.match(l)?"operator":e.match(o)?"punctuation":e.match(d)?"atom":e.match(a)||t.prop&&e.match(s)?"property":e.match(c)?"keyword":e.match(s)?"variable":(e.next(),n)}function m(e,i,r){return function(o,s){for(;!o.eol();)if(o.eatWhile(/[^'"\/\\]/),o.eat("\\")){if(o.next(),i&&o.eol())return r}else{if(o.match(e))return s.tokenize=h,r;o.eat(/['"\/]/)}return i&&(t.singleLineStringErrors?r=n:s.tokenize=h),r}}function g(e,t){for(;!e.eol();){if(e.eatWhile(/[^#]/),e.match("###")){t.tokenize=h;break}e.eatWhile("#")}return"comment"}function b(t,n,i){i=i||"coffee";for(var r=0,o=!1,s=null,a=n.scope;a;a=a.prev)if("coffee"===a.type||"}"==a.type){r=a.offset+e.indentUnit;break}"coffee"!==i?(o=null,s=t.column()+t.current().length):n.scope.align&&(n.scope.align=!1),n.scope={offset:r,type:i,prev:n.scope,align:o,alignOffset:s}}function y(e,t){if(t.scope.prev){if("coffee"===t.scope.type){for(var n=e.indentation(),i=!1,r=t.scope;r;r=r.prev)if(n===r.offset){i=!0;break}if(!i)return!0;for(;t.scope.prev&&t.scope.offset!==n;)t.scope=t.scope.prev;return!1}return t.scope=t.scope.prev,!1}}var v={startState:function(e){return{tokenize:h,scope:{offset:e||0,type:"coffee",prev:null,align:!1},prop:!1,dedent:0}},token:function(e,t){var i=null===t.scope.align&&t.scope;i&&e.sol()&&(i.align=!1);var r=function(e,t){var i=t.tokenize(e,t),r=e.current();"return"===r&&(t.dedent=!0),(("->"===r||"=>"===r)&&e.eol()||"indent"===i)&&b(e,t);var o="[({".indexOf(r);if(-1!==o&&b(e,t,"])}".slice(o,o+1)),u.exec(r)&&b(e,t),"then"==r&&y(e,t),"dedent"===i&&y(e,t))return n;if(-1!==(o="])}".indexOf(r))){for(;"coffee"==t.scope.type&&t.scope.prev;)t.scope=t.scope.prev;t.scope.type==r&&(t.scope=t.scope.prev)}return t.dedent&&e.eol()&&("coffee"==t.scope.type&&t.scope.prev&&(t.scope=t.scope.prev),t.dedent=!1),i}(e,t);return r&&"comment"!=r&&(i&&(i.align=!0),t.prop="punctuation"==r&&"."==e.current()),r},indent:function(e,t){if(e.tokenize!=h)return 0;var n=e.scope,i=t&&"])}".indexOf(t.charAt(0))>-1;if(i)for(;"coffee"==n.type&&n.prev;)n=n.prev;var r=i&&n.type===t.charAt(0);return n.align?n.alignOffset-(r?1:0):(r?n.prev:n).offset},lineComment:"#",fold:"indent"};return v}),e.defineMIME("application/vnd.coffeescript","coffeescript"),e.defineMIME("text/x-coffeescript","coffeescript"),e.defineMIME("text/coffeescript","coffeescript")}(n(8))},function(e,t,n){!function(e){"use strict";e.defineMode("commonlisp",function(e){var t,n=/^(block|let*|return-from|catch|load-time-value|setq|eval-when|locally|symbol-macrolet|flet|macrolet|tagbody|function|multiple-value-call|the|go|multiple-value-prog1|throw|if|progn|unwind-protect|labels|progv|let|quote)$/,i=/^with|^def|^do|^prog|case$|^cond$|bind$|when$|unless$/,r=/^(?:[+\-]?(?:\d+|\d*\.\d+)(?:[efd][+\-]?\d+)?|[+\-]?\d+(?:\/[+\-]?\d+)?|#b[+\-]?[01]+|#o[+\-]?[0-7]+|#x[+\-]?[\da-f]+)/,o=/[^\s'`,@()\[\]";]/;function s(e){for(var t;t=e.next();)if("\\"==t)e.next();else if(!o.test(t)){e.backUp(1);break}return e.current()}function a(e,o){if(e.eatSpace())return t="ws",null;if(e.match(r))return"number";var a=e.next();if("\\"==a&&(a=e.next()),'"'==a)return(o.tokenize=l)(e,o);if("("==a)return t="open","bracket";if(")"==a||"]"==a)return t="close","bracket";if(";"==a)return e.skipToEnd(),t="ws","comment";if(/['`,@]/.test(a))return null;if("|"==a)return e.skipTo("|")?(e.next(),"symbol"):(e.skipToEnd(),"error");if("#"==a){var a=e.next();return"("==a?(t="open","bracket"):/[+\-=\.']/.test(a)?null:/\d/.test(a)&&e.match(/^\d*#/)?null:"|"==a?(o.tokenize=u)(e,o):":"==a?(s(e),"meta"):"\\"==a?(e.next(),s(e),"string-2"):"error"}var c=s(e);return"."==c?null:(t="symbol","nil"==c||"t"==c||":"==c.charAt(0)?"atom":"open"==o.lastType&&(n.test(c)||i.test(c))?"keyword":"&"==c.charAt(0)?"variable-2":"variable")}function l(e,t){for(var n,i=!1;n=e.next();){if('"'==n&&!i){t.tokenize=a;break}i=!i&&"\\"==n}return"string"}function u(e,n){for(var i,r;i=e.next();){if("#"==i&&"|"==r){n.tokenize=a;break}r=i}return t="ws","comment"}return{startState:function(){return{ctx:{prev:null,start:0,indentTo:0},lastType:null,tokenize:a}},token:function(n,r){n.sol()&&"number"!=typeof r.ctx.indentTo&&(r.ctx.indentTo=r.ctx.start+1),t=null;var o=r.tokenize(n,r);return"ws"!=t&&(null==r.ctx.indentTo?"symbol"==t&&i.test(n.current())?r.ctx.indentTo=r.ctx.start+e.indentUnit:r.ctx.indentTo="next":"next"==r.ctx.indentTo&&(r.ctx.indentTo=n.column()),r.lastType=t),"open"==t?r.ctx={prev:r.ctx,start:n.column(),indentTo:null}:"close"==t&&(r.ctx=r.ctx.prev||r.ctx),o},indent:function(e,t){var n=e.ctx.indentTo;return"number"==typeof n?n:e.ctx.start+1},closeBrackets:{pairs:'()[]{}""'},lineComment:";;",blockCommentStart:"#|",blockCommentEnd:"|#"}}),e.defineMIME("text/x-common-lisp","commonlisp")}(n(8))},function(e,t,n){!function(e){"use strict";e.defineMode("diff",function(){var e={"+":"positive","-":"negative","@":"meta"};return{token:function(t){var n=t.string.search(/[\t ]+?$/);if(!t.sol()||0===n)return t.skipToEnd(),("error "+(e[t.string.charAt(0)]||"")).replace(/ $/,"");var i=e[t.peek()]||t.skipToEnd();return-1===n?t.skipToEnd():t.pos=n,i}}}),e.defineMIME("text/x-diff","diff")}(n(8))},function(e,t,n){!function(e){"use strict";e.defineMode("elm",function(){function e(e,t,n){return t(n),n(e,t)}var t=/[a-z_]/,n=/[A-Z]/,i=/[0-9]/,r=/[0-9A-Fa-f]/,o=/[0-7]/,s=/[a-z_A-Z0-9\']/,a=/[-!#$%&*+.\/<=>?@\\^|~:\u03BB\u2192]/,l=/[(),;[\]`{}]/,u=/[ \t\v\f]/;function c(){return function(f,d){if(f.eatWhile(u))return null;var h=f.next();if(l.test(h)){if("{"==h&&f.eat("-")){var m="comment";return f.eat("#")&&(m="meta"),e(f,d,function e(t,n){return 0==n?c():function(i,r){for(var o=n;!i.eol();){var s=i.next();if("{"==s&&i.eat("-"))++o;else if("-"==s&&i.eat("}")&&0==--o)return r(c()),t}return r(e(t,o)),t}}(m,1))}return null}if("'"==h)return f.eat("\\"),f.next(),f.eat("'")?"string":"error";if('"'==h)return e(f,d,p);if(n.test(h))return f.eatWhile(s),f.eat(".")?"qualifier":"variable-2";if(t.test(h)){var g=1===f.pos;return f.eatWhile(s),g?"type":"variable"}if(i.test(h)){if("0"==h){if(f.eat(/[xX]/))return f.eatWhile(r),"integer";if(f.eat(/[oO]/))return f.eatWhile(o),"number"}f.eatWhile(i);var m="number";return f.eat(".")&&(m="number",f.eatWhile(i)),f.eat(/[eE]/)&&(m="number",f.eat(/[-+]/),f.eatWhile(i)),m}return a.test(h)?"-"==h&&f.eat(/-/)&&(f.eatWhile(/-/),!f.eat(a))?(f.skipToEnd(),"comment"):(f.eatWhile(a),"builtin"):"error"}}function p(e,t){for(;!e.eol();){var n=e.next();if('"'==n)return t(c()),"string";if("\\"==n){if(e.eol()||e.eat(u))return t(f),"string";e.eat("&")||e.next()}}return t(c()),"error"}function f(t,n){return t.eat("\\")?e(t,n,p):(t.next(),n(c()),"error")}var d=function(){for(var e={},t=["case","of","as","if","then","else","let","in","infix","infixl","infixr","type","alias","input","output","foreign","loopback","module","where","import","exposing","_","..","|",":","=","\\",'"',"->","<-"],n=t.length;n--;)e[t[n]]="keyword";return e}();return{startState:function(){return{f:c()}},copyState:function(e){return{f:e.f}},token:function(e,t){var n=t.f(e,function(e){t.f=e}),i=e.current();return d.hasOwnProperty(i)?d[i]:n}}}),e.defineMIME("text/x-elm","elm")}(n(8))},function(e,t,n){!function(e){"use strict";e.defineMIME("text/x-erlang","erlang"),e.defineMode("erlang",function(t){var n=["-type","-spec","-export_type","-opaque"],i=["after","begin","catch","case","cond","end","fun","if","let","of","query","receive","try","when"],r=/[\->,;]/,o=["->",";",","],s=["and","andalso","band","bnot","bor","bsl","bsr","bxor","div","not","or","orelse","rem","xor"],a=/[\+\-\*\/<>=\|:!]/,l=["=","+","-","*","/",">",">=","<","=<","=:=","==","=/=","/=","||","<-","!"],u=/[<\(\[\{]/,c=["<<","(","[","{"],p=/[>\)\]\}]/,f=["}","]",")",">>"],d=["is_atom","is_binary","is_bitstring","is_boolean","is_float","is_function","is_integer","is_list","is_number","is_pid","is_port","is_record","is_reference","is_tuple","atom","binary","bitstring","boolean","function","integer","list","number","pid","port","record","reference","tuple"],h=["abs","adler32","adler32_combine","alive","apply","atom_to_binary","atom_to_list","binary_to_atom","binary_to_existing_atom","binary_to_list","binary_to_term","bit_size","bitstring_to_list","byte_size","check_process_code","contact_binary","crc32","crc32_combine","date","decode_packet","delete_module","disconnect_node","element","erase","exit","float","float_to_list","garbage_collect","get","get_keys","group_leader","halt","hd","integer_to_list","internal_bif","iolist_size","iolist_to_binary","is_alive","is_atom","is_binary","is_bitstring","is_boolean","is_float","is_function","is_integer","is_list","is_number","is_pid","is_port","is_process_alive","is_record","is_reference","is_tuple","length","link","list_to_atom","list_to_binary","list_to_bitstring","list_to_existing_atom","list_to_float","list_to_integer","list_to_pid","list_to_tuple","load_module","make_ref","module_loaded","monitor_node","node","node_link","node_unlink","nodes","notalive","now","open_port","pid_to_list","port_close","port_command","port_connect","port_control","pre_loaded","process_flag","process_info","processes","purge_module","put","register","registered","round","self","setelement","size","spawn","spawn_link","spawn_monitor","spawn_opt","split_binary","statistics","term_to_binary","time","throw","tl","trunc","tuple_size","tuple_to_list","unlink","unregister","whereis"],m=/[\w@Ø-ÞÀ-Öß-öø-ÿ]/,g=/[0-7]{1,3}|[bdefnrstv\\"']|\^[a-zA-Z]|x[0-9a-zA-Z]{2}|x{[0-9a-zA-Z]+}/;function b(e,t,n){if(1==e.current().length&&t.test(e.current())){for(e.backUp(1);t.test(e.peek());)if(e.next(),w(e.current(),n))return!0;e.backUp(e.current().length-1)}return!1}function y(e,t,n){if(1==e.current().length&&t.test(e.current())){for(;t.test(e.peek());)e.next();for(;0<e.current().length;){if(w(e.current(),n))return!0;e.backUp(1)}e.next()}return!1}function v(e){return x(e,'"',"\\")}function _(e){return x(e,"'","\\")}function x(e,t,n){for(;!e.eol();){var i=e.next();if(i==t)return!0;i==n&&e.next()}return!1}function w(e,t){return-1<t.indexOf(e)}function k(e,t,n){switch(function(e,t){"comment"!=t.type&&"whitespace"!=t.type&&(e.tokenStack=function(e,t){var n=e.length-1;return 0<n&&"record"===e[n].type&&"dot"===t.type?e.pop():0<n&&"group"===e[n].type?(e.pop(),e.push(t)):e.push(t),e}(e.tokenStack,t),e.tokenStack=function(e){if(!e.length)return e;var t=e.length-1;if("dot"===e[t].type)return[];if(t>1&&"fun"===e[t].type&&"fun"===e[t-1].token)return e.slice(0,t-1);switch(e[t].token){case"}":return T(e,{g:["{"]});case"]":return T(e,{i:["["]});case")":return T(e,{i:["("]});case">>":return T(e,{i:["<<"]});case"end":return T(e,{i:["begin","case","fun","if","receive","try"]});case",":return T(e,{e:["begin","try","when","->",",","(","[","{","<<"]});case"->":return T(e,{r:["when"],m:["try","if","case","receive"]});case";":return T(e,{E:["case","fun","if","receive","try","when"]});case"catch":return T(e,{e:["try"]});case"of":return T(e,{e:["case"]});case"after":return T(e,{e:["receive","try"]});default:return e}}(e.tokenStack))}(e,function(e,t){return S(t.current(),t.column(),t.indentation(),e)}(n,t)),n){case"atom":return"atom";case"attribute":return"attribute";case"boolean":return"atom";case"builtin":return"builtin";case"close_paren":case"colon":return null;case"comment":return"comment";case"dot":return null;case"error":return"error";case"fun":return"meta";case"function":return"tag";case"guard":return"property";case"keyword":return"keyword";case"macro":return"variable-2";case"number":return"number";case"open_paren":return null;case"operator":return"operator";case"record":return"bracket";case"separator":return null;case"string":return"string";case"type":return"def";case"variable":return"variable";default:return null}}function S(e,t,n,i){return{token:e,column:t,indent:n,type:i}}function C(e){return S(e,0,0,e)}function E(e,t){var n=e.tokenStack.length,i=t||1;return!(n<i)&&e.tokenStack[n-i]}function T(e,t){for(var n in t)for(var i=e.length-1,r=t[n],o=i-1;-1<o;o--)if(w(e[o].token,r)){var s=e.slice(0,o);switch(n){case"m":return s.concat(e[o]).concat(e[i]);case"r":return s.concat(e[i]);case"i":return s;case"g":return s.concat(C("group"));case"E":case"e":return s.concat(e[o])}}return"E"==n?[]:e}function A(n,i){var r,o,s=t.indentUnit,a=R(o=i.match(/,|[a-z]+|\}|\]|\)|>>|\|+|\(/))&&0===o.index?o[0]:"",l=E(n,1),u=E(n,2);return n.in_string||n.in_atom?e.Pass:u?"when"==l.token?l.column+s:"when"===a&&"function"===u.type?u.indent+s:"("===a&&"fun"===l.token?l.column+3:"catch"===a&&(r=N(n,["try"]))?r.column:w(a,["end","after","of"])?(r=N(n,["begin","case","fun","if","receive","try"]))?r.column:e.Pass:w(a,f)?(r=N(n,c))?r.column:e.Pass:w(l.token,[",","|","||"])||w(a,[",","|","||"])?(r=function(e){var t=e.tokenStack.slice(0,-1),n=M(t,"type",["open_paren"]);return!!R(t[n])&&t[n]}(n))?r.column+r.token.length:s:"->"==l.token?w(u.token,["receive","case","if","try"])?u.column+s+s:u.column+s:w(l.token,c)?l.column+l.token.length:(r=function(e){var t=e.tokenStack,n=M(t,"type",["open_paren","separator","keyword"]),i=M(t,"type",["operator"]);return R(n)&&R(i)&&n<i?t[n+1]:!!R(n)&&t[n]}(n),R(r)?r.column+s:0):0}function N(e,t){var n=e.tokenStack,i=M(n,"token",t);return!!R(n[i])&&n[i]}function M(e,t,n){for(var i=e.length-1;-1<i;i--)if(w(e[i][t],n))return i;return!1}function R(e){return!1!==e&&null!=e}return{startState:function(){return{tokenStack:[],in_string:!1,in_atom:!1}},token:function(e,t){return function(e,t){if(t.in_string)return t.in_string=!v(e),k(t,e,"string");if(t.in_atom)return t.in_atom=!_(e),k(t,e,"atom");if(e.eatSpace())return k(t,e,"whitespace");if(!E(t)&&e.match(/-\s*[a-zß-öø-ÿ][\wØ-ÞÀ-Öß-öø-ÿ]*/))return w(e.current(),n)?k(t,e,"type"):k(t,e,"attribute");var x=e.next();if("%"==x)return e.skipToEnd(),k(t,e,"comment");if(":"==x)return k(t,e,"colon");if("?"==x)return e.eatSpace(),e.eatWhile(m),k(t,e,"macro");if("#"==x)return e.eatSpace(),e.eatWhile(m),k(t,e,"record");if("$"==x)return"\\"!=e.next()||e.match(g)?k(t,e,"number"):k(t,e,"error");if("."==x)return k(t,e,"dot");if("'"==x){if(!(t.in_atom=!_(e))){if(e.match(/\s*\/\s*[0-9]/,!1))return e.match(/\s*\/\s*[0-9]/,!0),k(t,e,"fun");if(e.match(/\s*\(/,!1)||e.match(/\s*:/,!1))return k(t,e,"function")}return k(t,e,"atom")}if('"'==x)return t.in_string=!v(e),k(t,e,"string");if(/[A-Z_Ø-ÞÀ-Ö]/.test(x))return e.eatWhile(m),k(t,e,"variable");if(/[a-z_ß-öø-ÿ]/.test(x)){if(e.eatWhile(m),e.match(/\s*\/\s*[0-9]/,!1))return e.match(/\s*\/\s*[0-9]/,!0),k(t,e,"fun");var S=e.current();return w(S,i)?k(t,e,"keyword"):w(S,s)?k(t,e,"operator"):e.match(/\s*\(/,!1)?!w(S,h)||":"==E(t).token&&"erlang"!=E(t,2).token?w(S,d)?k(t,e,"guard"):k(t,e,"function"):k(t,e,"builtin"):":"==function(e){var t=e.match(/([\n\s]+|%[^\n]*\n)*(.)/,!1);return t?t.pop():""}(e)?k(t,e,"erlang"==S?"builtin":"function"):w(S,["true","false"])?k(t,e,"boolean"):k(t,e,"atom")}var C=/[0-9]/;return C.test(x)?(e.eatWhile(C),e.eat("#")?e.eatWhile(/[0-9a-zA-Z]/)||e.backUp(1):e.eat(".")&&(e.eatWhile(C)?e.eat(/[eE]/)&&(e.eat(/[-+]/)?e.eatWhile(C)||e.backUp(2):e.eatWhile(C)||e.backUp(1)):e.backUp(1)),k(t,e,"number")):b(e,u,c)?k(t,e,"open_paren"):b(e,p,f)?k(t,e,"close_paren"):y(e,r,o)?k(t,e,"separator"):y(e,a,l)?k(t,e,"operator"):k(t,e,null)}(e,t)},indent:function(e,t){return A(e,t)},lineComment:"%"}})}(n(8))},function(e,t,n){!function(e){"use strict";e.defineMode("fortran",function(){function e(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=!0;return t}var t=e(["abstract","accept","allocatable","allocate","array","assign","asynchronous","backspace","bind","block","byte","call","case","class","close","common","contains","continue","cycle","data","deallocate","decode","deferred","dimension","do","elemental","else","encode","end","endif","entry","enumerator","equivalence","exit","external","extrinsic","final","forall","format","function","generic","go","goto","if","implicit","import","include","inquire","intent","interface","intrinsic","module","namelist","non_intrinsic","non_overridable","none","nopass","nullify","open","optional","options","parameter","pass","pause","pointer","print","private","program","protected","public","pure","read","recursive","result","return","rewind","save","select","sequence","stop","subroutine","target","then","to","type","use","value","volatile","where","while","write"]),n=e(["abort","abs","access","achar","acos","adjustl","adjustr","aimag","aint","alarm","all","allocated","alog","amax","amin","amod","and","anint","any","asin","associated","atan","besj","besjn","besy","besyn","bit_size","btest","cabs","ccos","ceiling","cexp","char","chdir","chmod","clog","cmplx","command_argument_count","complex","conjg","cos","cosh","count","cpu_time","cshift","csin","csqrt","ctime","c_funloc","c_loc","c_associated","c_null_ptr","c_null_funptr","c_f_pointer","c_null_char","c_alert","c_backspace","c_form_feed","c_new_line","c_carriage_return","c_horizontal_tab","c_vertical_tab","dabs","dacos","dasin","datan","date_and_time","dbesj","dbesj","dbesjn","dbesy","dbesy","dbesyn","dble","dcos","dcosh","ddim","derf","derfc","dexp","digits","dim","dint","dlog","dlog","dmax","dmin","dmod","dnint","dot_product","dprod","dsign","dsinh","dsin","dsqrt","dtanh","dtan","dtime","eoshift","epsilon","erf","erfc","etime","exit","exp","exponent","extends_type_of","fdate","fget","fgetc","float","floor","flush","fnum","fputc","fput","fraction","fseek","fstat","ftell","gerror","getarg","get_command","get_command_argument","get_environment_variable","getcwd","getenv","getgid","getlog","getpid","getuid","gmtime","hostnm","huge","iabs","iachar","iand","iargc","ibclr","ibits","ibset","ichar","idate","idim","idint","idnint","ieor","ierrno","ifix","imag","imagpart","index","int","ior","irand","isatty","ishft","ishftc","isign","iso_c_binding","is_iostat_end","is_iostat_eor","itime","kill","kind","lbound","len","len_trim","lge","lgt","link","lle","llt","lnblnk","loc","log","logical","long","lshift","lstat","ltime","matmul","max","maxexponent","maxloc","maxval","mclock","merge","move_alloc","min","minexponent","minloc","minval","mod","modulo","mvbits","nearest","new_line","nint","not","or","pack","perror","precision","present","product","radix","rand","random_number","random_seed","range","real","realpart","rename","repeat","reshape","rrspacing","rshift","same_type_as","scale","scan","second","selected_int_kind","selected_real_kind","set_exponent","shape","short","sign","signal","sinh","sin","sleep","sngl","spacing","spread","sqrt","srand","stat","sum","symlnk","system","system_clock","tan","tanh","time","tiny","transfer","transpose","trim","ttynam","ubound","umask","unlink","unpack","verify","xor","zabs","zcos","zexp","zlog","zsin","zsqrt"]),i=e(["c_bool","c_char","c_double","c_double_complex","c_float","c_float_complex","c_funptr","c_int","c_int16_t","c_int32_t","c_int64_t","c_int8_t","c_int_fast16_t","c_int_fast32_t","c_int_fast64_t","c_int_fast8_t","c_int_least16_t","c_int_least32_t","c_int_least64_t","c_int_least8_t","c_intmax_t","c_intptr_t","c_long","c_long_double","c_long_double_complex","c_long_long","c_ptr","c_short","c_signed_char","c_size_t","character","complex","double","integer","logical","real"]),r=/[+\-*&=<>\/\:]/,o=new RegExp("(.and.|.or.|.eq.|.lt.|.le.|.gt.|.ge.|.ne.|.not.|.eqv.|.neqv.)","i");return{startState:function(){return{tokenize:null}},token:function(e,s){if(e.eatSpace())return null;var a=(s.tokenize||function(e,s){if(e.match(o))return"operator";var a,l=e.next();if("!"==l)return e.skipToEnd(),"comment";if('"'==l||"'"==l)return s.tokenize=(a=l,function(e,t){for(var n,i=!1,r=!1;null!=(n=e.next());){if(n==a&&!i){r=!0;break}i=!i&&"\\"==n}return!r&&i||(t.tokenize=null),"string"}),s.tokenize(e,s);if(/[\[\]\(\),]/.test(l))return null;if(/\d/.test(l))return e.eatWhile(/[\w\.]/),"number";if(r.test(l))return e.eatWhile(r),"operator";e.eatWhile(/[\w\$_]/);var u=e.current().toLowerCase();return t.hasOwnProperty(u)?"keyword":n.hasOwnProperty(u)||i.hasOwnProperty(u)?"builtin":"variable"})(e,s);return a}}}),e.defineMIME("text/x-fortran","fortran")}(n(8))},function(e,t,n){!function(e){"use strict";e.defineMode("go",function(t){var n,i=t.indentUnit,r={break:!0,case:!0,chan:!0,const:!0,continue:!0,default:!0,defer:!0,else:!0,fallthrough:!0,for:!0,func:!0,go:!0,goto:!0,if:!0,import:!0,interface:!0,map:!0,package:!0,range:!0,return:!0,select:!0,struct:!0,switch:!0,type:!0,var:!0,bool:!0,byte:!0,complex64:!0,complex128:!0,float32:!0,float64:!0,int8:!0,int16:!0,int32:!0,int64:!0,string:!0,uint8:!0,uint16:!0,uint32:!0,uint64:!0,int:!0,uint:!0,uintptr:!0,error:!0,rune:!0},o={true:!0,false:!0,iota:!0,nil:!0,append:!0,cap:!0,close:!0,complex:!0,copy:!0,delete:!0,imag:!0,len:!0,make:!0,new:!0,panic:!0,print:!0,println:!0,real:!0,recover:!0},s=/[+\-*&^%:=<>!|\/]/;function a(e,t){var i,u=e.next();if('"'==u||"'"==u||"`"==u)return t.tokenize=(i=u,function(e,t){for(var n,r=!1,o=!1;null!=(n=e.next());){if(n==i&&!r){o=!0;break}r=!r&&"`"!=i&&"\\"==n}return(o||!r&&"`"!=i)&&(t.tokenize=a),"string"}),t.tokenize(e,t);if(/[\d\.]/.test(u))return"."==u?e.match(/^[0-9]+([eE][\-+]?[0-9]+)?/):"0"==u?e.match(/^[xX][0-9a-fA-F]+/)||e.match(/^0[0-7]+/):e.match(/^[0-9]*\.?[0-9]*([eE][\-+]?[0-9]+)?/),"number";if(/[\[\]{}\(\),;\:\.]/.test(u))return n=u,null;if("/"==u){if(e.eat("*"))return t.tokenize=l,l(e,t);if(e.eat("/"))return e.skipToEnd(),"comment"}if(s.test(u))return e.eatWhile(s),"operator";e.eatWhile(/[\w\$_\xa1-\uffff]/);var c=e.current();return r.propertyIsEnumerable(c)?("case"!=c&&"default"!=c||(n="case"),"keyword"):o.propertyIsEnumerable(c)?"atom":"variable"}function l(e,t){for(var n,i=!1;n=e.next();){if("/"==n&&i){t.tokenize=a;break}i="*"==n}return"comment"}function u(e,t,n,i,r){this.indented=e,this.column=t,this.type=n,this.align=i,this.prev=r}function c(e,t,n){return e.context=new u(e.indented,t,n,null,e.context)}function p(e){if(e.context.prev){var t=e.context.type;return")"!=t&&"]"!=t&&"}"!=t||(e.indented=e.context.indented),e.context=e.context.prev}}return{startState:function(e){return{tokenize:null,context:new u((e||0)-i,0,"top",!1),indented:0,startOfLine:!0}},token:function(e,t){var i=t.context;if(e.sol()&&(null==i.align&&(i.align=!1),t.indented=e.indentation(),t.startOfLine=!0,"case"==i.type&&(i.type="}")),e.eatSpace())return null;n=null;var r=(t.tokenize||a)(e,t);return"comment"==r?r:(null==i.align&&(i.align=!0),"{"==n?c(t,e.column(),"}"):"["==n?c(t,e.column(),"]"):"("==n?c(t,e.column(),")"):"case"==n?i.type="case":"}"==n&&"}"==i.type?p(t):n==i.type&&p(t),t.startOfLine=!1,r)},indent:function(t,n){if(t.tokenize!=a&&null!=t.tokenize)return e.Pass;var r=t.context,o=n&&n.charAt(0);if("case"==r.type&&/^(?:case|default)\b/.test(n))return t.context.type="}",r.indented;var s=o==r.type;return r.align?r.column+(s?0:1):r.indented+(s?0:i)},electricChars:"{}):",closeBrackets:"()[]{}''\"\"``",fold:"brace",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//"}}),e.defineMIME("text/x-go","go")}(n(8))},function(e,t,n){!function(e){"use strict";e.defineMode("haml",function(t){var n=e.getMode(t,{name:"htmlmixed"}),i=e.getMode(t,"ruby");function r(e){return function(t,n){var i=t.peek();return i==e&&1==n.rubyState.tokenize.length?(t.next(),n.tokenize=s,"closeAttributeTag"):o(t,n)}}function o(e,t){return e.match("-#")?(e.skipToEnd(),"comment"):i.token(e,t.rubyState)}function s(e,t){var i=e.peek();if("comment"==t.previousToken.style&&t.indented>t.previousToken.indented)return e.skipToEnd(),"commentLine";if(t.startOfLine){if("!"==i&&e.match("!!"))return e.skipToEnd(),"tag";if(e.match(/^%[\w:#\.]+=/))return t.tokenize=o,"hamlTag";if(e.match(/^%[\w:]+/))return"hamlTag";if("/"==i)return e.skipToEnd(),"comment"}if((t.startOfLine||"hamlTag"==t.previousToken.style)&&("#"==i||"."==i))return e.match(/[\w-#\.]*/),"hamlAttribute";if(t.startOfLine&&!e.match("--\x3e",!1)&&("="==i||"-"==i))return t.tokenize=o,t.tokenize(e,t);if("hamlTag"==t.previousToken.style||"closeAttributeTag"==t.previousToken.style||"hamlAttribute"==t.previousToken.style){if("("==i)return t.tokenize=r(")"),t.tokenize(e,t);if("{"==i&&!e.match(/^\{%.*/))return t.tokenize=r("}"),t.tokenize(e,t)}return n.token(e,t.htmlState)}return{startState:function(){var t=e.startState(n),r=e.startState(i);return{htmlState:t,rubyState:r,indented:0,previousToken:{style:null,indented:0},tokenize:s}},copyState:function(t){return{htmlState:e.copyState(n,t.htmlState),rubyState:e.copyState(i,t.rubyState),indented:t.indented,previousToken:t.previousToken,tokenize:t.tokenize}},token:function(e,t){if(e.sol()&&(t.indented=e.indentation(),t.startOfLine=!0),e.eatSpace())return null;var n=t.tokenize(e,t);if(t.startOfLine=!1,n&&"commentLine"!=n&&(t.previousToken={style:n,indented:t.indented}),e.eol()&&t.tokenize==o){e.backUp(1);var i=e.peek();e.next(),i&&","!=i&&(t.tokenize=s)}return"hamlTag"==n?n="tag":"commentLine"==n?n="comment":"hamlAttribute"==n?n="attribute":"closeAttributeTag"==n&&(n=null),n}}},"htmlmixed","ruby"),e.defineMIME("text/x-haml","haml")}(n(8),n(44),n(89))},function(e,t,n){!function(e){"use strict";e.defineMode("haskell",function(e,t){function n(e,t,n){return t(n),n(e,t)}var i=/[a-z_]/,r=/[A-Z]/,o=/\d/,s=/[0-9A-Fa-f]/,a=/[0-7]/,l=/[a-z_A-Z0-9'\xa1-\uffff]/,u=/[-!#$%&*+.\/<=>?@\\^|~:]/,c=/[(),;[\]`{}]/,p=/[ \t\v\f]/;function f(e,t){if(e.eatWhile(p))return null;var h=e.next();if(c.test(h)){if("{"==h&&e.eat("-")){var m="comment";return e.eat("#")&&(m="meta"),n(e,t,function e(t,n){return 0==n?f:function(i,r){for(var o=n;!i.eol();){var s=i.next();if("{"==s&&i.eat("-"))++o;else if("-"==s&&i.eat("}")&&0==--o)return r(f),t}return r(e(t,o)),t}}(m,1))}return null}if("'"==h)return e.eat("\\"),e.next(),e.eat("'")?"string":"string error";if('"'==h)return n(e,t,d);if(r.test(h))return e.eatWhile(l),e.eat(".")?"qualifier":"variable-2";if(i.test(h))return e.eatWhile(l),"variable";if(o.test(h)){if("0"==h){if(e.eat(/[xX]/))return e.eatWhile(s),"integer";if(e.eat(/[oO]/))return e.eatWhile(a),"number"}e.eatWhile(o);var m="number";return e.match(/^\.\d+/)&&(m="number"),e.eat(/[eE]/)&&(m="number",e.eat(/[-+]/),e.eatWhile(o)),m}if("."==h&&e.eat("."))return"keyword";if(u.test(h)){if("-"==h&&e.eat(/-/)&&(e.eatWhile(/-/),!e.eat(u)))return e.skipToEnd(),"comment";var m="variable";return":"==h&&(m="variable-2"),e.eatWhile(u),m}return"error"}function d(e,t){for(;!e.eol();){var n=e.next();if('"'==n)return t(f),"string";if("\\"==n){if(e.eol()||e.eat(p))return t(h),"string";e.eat("&")||e.next()}}return t(f),"string error"}function h(e,t){return e.eat("\\")?n(e,t,d):(e.next(),t(f),"error")}var m=function(){var e={};function n(t){return function(){for(var n=0;n<arguments.length;n++)e[arguments[n]]=t}}n("keyword")("case","class","data","default","deriving","do","else","foreign","if","import","in","infix","infixl","infixr","instance","let","module","newtype","of","then","type","where","_"),n("keyword")("..",":","::","=","\\","<-","->","@","~","=>"),n("builtin")("!!","$!","$","&&","+","++","-",".","/","/=","<","<*","<=","<$>","<*>","=<<","==",">",">=",">>",">>=","^","^^","||","*","*>","**"),n("builtin")("Applicative","Bool","Bounded","Char","Double","EQ","Either","Enum","Eq","False","FilePath","Float","Floating","Fractional","Functor","GT","IO","IOError","Int","Integer","Integral","Just","LT","Left","Maybe","Monad","Nothing","Num","Ord","Ordering","Rational","Read","ReadS","Real","RealFloat","RealFrac","Right","Show","ShowS","String","True"),n("builtin")("abs","acos","acosh","all","and","any","appendFile","asTypeOf","asin","asinh","atan","atan2","atanh","break","catch","ceiling","compare","concat","concatMap","const","cos","cosh","curry","cycle","decodeFloat","div","divMod","drop","dropWhile","either","elem","encodeFloat","enumFrom","enumFromThen","enumFromThenTo","enumFromTo","error","even","exp","exponent","fail","filter","flip","floatDigits","floatRadix","floatRange","floor","fmap","foldl","foldl1","foldr","foldr1","fromEnum","fromInteger","fromIntegral","fromRational","fst","gcd","getChar","getContents","getLine","head","id","init","interact","ioError","isDenormalized","isIEEE","isInfinite","isNaN","isNegativeZero","iterate","last","lcm","length","lex","lines","log","logBase","lookup","map","mapM","mapM_","max","maxBound","maximum","maybe","min","minBound","minimum","mod","negate","not","notElem","null","odd","or","otherwise","pi","pred","print","product","properFraction","pure","putChar","putStr","putStrLn","quot","quotRem","read","readFile","readIO","readList","readLn","readParen","reads","readsPrec","realToFrac","recip","rem","repeat","replicate","return","reverse","round","scaleFloat","scanl","scanl1","scanr","scanr1","seq","sequence","sequence_","show","showChar","showList","showParen","showString","shows","showsPrec","significand","signum","sin","sinh","snd","span","splitAt","sqrt","subtract","succ","sum","tail","take","takeWhile","tan","tanh","toEnum","toInteger","toRational","truncate","uncurry","undefined","unlines","until","unwords","unzip","unzip3","userError","words","writeFile","zip","zip3","zipWith","zipWith3");var i=t.overrideKeywords;if(i)for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r]);return e}();return{startState:function(){return{f:f}},copyState:function(e){return{f:e.f}},token:function(e,t){var n=t.f(e,function(e){t.f=e}),i=e.current();return m.hasOwnProperty(i)?m[i]:n},blockCommentStart:"{-",blockCommentEnd:"-}",lineComment:"--"}}),e.defineMIME("text/x-haskell","haskell")}(n(8))},function(e,t,n){!function(e){"use strict";e.defineMode("htmlembedded",function(t,n){var i=n.closeComment||"--%>";return e.multiplexingMode(e.getMode(t,"htmlmixed"),{open:n.openComment||"<%--",close:i,delimStyle:"comment",mode:{token:function(e){return e.skipTo(i)||e.skipToEnd(),"comment"}}},{open:n.open||n.scriptStartRegex||"<%",close:n.close||n.scriptEndRegex||"%>",mode:e.getMode(t,n.scriptingModeSpec)})},"htmlmixed"),e.defineMIME("application/x-ejs",{name:"htmlembedded",scriptingModeSpec:"javascript"}),e.defineMIME("application/x-aspx",{name:"htmlembedded",scriptingModeSpec:"text/x-csharp"}),e.defineMIME("application/x-jsp",{name:"htmlembedded",scriptingModeSpec:"text/x-java"}),e.defineMIME("application/x-erb",{name:"htmlembedded",scriptingModeSpec:"ruby"})}(n(8),n(44),n(201))},function(e,t,n){!function(e){"use strict";function t(e,t,n,i){this.state=e,this.mode=t,this.depth=n,this.prev=i}function n(i){return new t(e.copyState(i.mode,i.state),i.mode,i.depth,i.prev&&n(i.prev))}e.defineMode("jsx",function(i,r){var o=e.getMode(i,{name:"xml",allowMissing:!0,multilineTagIndentPastTag:!1,allowMissingTagName:!0}),s=e.getMode(i,r&&r.base||"javascript");function a(e){var t=e.tagName;e.tagName=null;var n=o.indent(e,"","");return e.tagName=t,n}function l(n,r){return r.context.mode==o?function(n,r,u){if(2==u.depth)return n.match(/^.*?\*\//)?u.depth=1:n.skipToEnd(),"comment";if("{"==n.peek()){o.skipAttribute(u.state);var c=a(u.state),p=u.state.context;if(p&&n.match(/^[^>]*>\s*$/,!1)){for(;p.prev&&!p.startOfLine;)p=p.prev;p.startOfLine?c-=i.indentUnit:u.prev.state.lexical&&(c=u.prev.state.lexical.indented)}else 1==u.depth&&(c+=i.indentUnit);return r.context=new t(e.startState(s,c),s,0,r.context),null}if(1==u.depth){if("<"==n.peek())return o.skipAttribute(u.state),r.context=new t(e.startState(o,a(u.state)),o,0,r.context),null;if(n.match("//"))return n.skipToEnd(),"comment";if(n.match("/*"))return u.depth=2,l(n,r)}var f,d=o.token(n,u.state),h=n.current();return/\btag\b/.test(d)?/>$/.test(h)?u.state.context?u.depth=0:r.context=r.context.prev:/^</.test(h)&&(u.depth=1):!d&&(f=h.indexOf("{"))>-1&&n.backUp(h.length-f),d}(n,r,r.context):function(n,i,r){if("<"==n.peek()&&s.expressionAllowed(n,r.state))return s.skipExpression(r.state),i.context=new t(e.startState(o,s.indent(r.state,"","")),o,0,i.context),null;var a=s.token(n,r.state);if(!a&&null!=r.depth){var l=n.current();"{"==l?r.depth++:"}"==l&&0==--r.depth&&(i.context=i.context.prev)}return a}(n,r,r.context)}return{startState:function(){return{context:new t(e.startState(s),s)}},copyState:function(e){return{context:n(e.context)}},token:l,indent:function(e,t,n){return e.context.mode.indent(e.context.state,t,n)},innerMode:function(e){return e.context}}},"xml","javascript"),e.defineMIME("text/jsx","jsx"),e.defineMIME("text/typescript-jsx",{name:"jsx",base:{name:"javascript",typescript:!0}})}(n(8),n(45),n(56))},function(e,t,n){!function(e){"use strict";e.defineMode("julia",function(t,n){function i(e,t){return void 0===t&&(t="\\b"),new RegExp("^(("+e.join(")|(")+"))"+t)}var r=n.operators||i(["[<>]:","[<>=]=","<<=?",">>>?=?","=>","->","\\/\\/","[\\\\%*+\\-<>!=\\/^|&\\u00F7\\u22BB]=?","\\?","\\$","~",":","\\u00D7","\\u2208","\\u2209","\\u220B","\\u220C","\\u2218","\\u221A","\\u221B","\\u2229","\\u222A","\\u2260","\\u2264","\\u2265","\\u2286","\\u2288","\\u228A","\\u22C5","\\b(in|isa)\\b(?!.?\\()"],""),o=n.delimiters||/^[;,()[\]{}]/,s=n.identifiers||/^[_A-Za-z\u00A1-\u2217\u2219-\uFFFF][\w\u00A1-\u2217\u2219-\uFFFF]*!*/,a=i(["\\\\[0-7]{1,3}","\\\\x[A-Fa-f0-9]{1,2}","\\\\[abefnrtv0%?'\"\\\\]","([^\\u0027\\u005C\\uD800-\\uDFFF]|[\\uD800-\\uDFFF][\\uDC00-\\uDFFF])"],"'"),l=["if","else","elseif","while","for","begin","let","end","do","try","catch","finally","return","break","continue","global","local","const","export","import","importall","using","function","where","macro","module","baremodule","struct","type","mutable","immutable","quote","typealias","abstract","primitive","bitstype"],u=["true","false","nothing","NaN","Inf"];e.registerHelper("hintWords","julia",l.concat(u));var c=i(["begin","function","type","struct","immutable","let","macro","for","while","quote","if","else","elseif","try","finally","catch","do"]),p=i(["end","else","elseif","catch","finally"]),f=i(l),d=i(u),h=/^@[_A-Za-z][\w]*/,m=/^:[_A-Za-z\u00A1-\uFFFF][\w\u00A1-\uFFFF]*!*/,g=/^(`|([_A-Za-z\u00A1-\uFFFF]*"("")?))/;function b(e){return y(e,"[")}function y(e,t,n){void 0===t&&(t="("),void 0===n&&(n=0);var i=v(e,n);return!!(0==n&&"if"===i&&y(e,t,n+1)||"for"===i&&y(e,t,n+1)||i===t)}function v(e,t){return void 0===t&&(t=0),e.scopes.length<=t?null:e.scopes[e.scopes.length-(t+1)]}function _(e,t){if(e.match(/^#=/,!1))return t.tokenize=k,t.tokenize(e,t);var n=t.leavingExpr;if(e.sol()&&(n=!1),t.leavingExpr=!1,n&&e.match(/^'+/))return"operator";if(e.match(/\.{4,}/))return"error";if(e.match(/\.{1,3}/))return"operator";if(e.eatSpace())return null;var i,a,l=e.peek();if("#"===l)return e.skipToEnd(),"comment";if("["===l&&t.scopes.push("["),"("===l&&t.scopes.push("("),b(t)&&"]"===l){for("if"===v(t)&&t.scopes.pop();"for"===v(t);)t.scopes.pop();t.scopes.pop(),t.leavingExpr=!0}if(y(t)&&")"===l){for("if"===v(t)&&t.scopes.pop();"for"===v(t);)t.scopes.pop();t.scopes.pop(),t.leavingExpr=!0}if(b(t)){if("end"==t.lastToken&&e.match(/^:/))return"operator";if(e.match(/^end/))return"number"}if(i=e.match(c))return t.scopes.push(i[0]),"keyword";if(e.match(p))return t.scopes.pop(),"keyword";if(e.match(/^::(?![:\$])/))return t.tokenize=w,t.tokenize(e,t);if(!n&&e.match(m)||e.match(/:([<>]:|<<=?|>>>?=?|->|\/\/|\.{2,3}|[\.\\%*+\-<>!\/^|&]=?|[~\?\$])/))return"builtin";if(e.match(r))return"operator";if(e.match(/^\.?\d/,!1)){var u=RegExp(/^im\b/),C=!1;if(e.match(/^\d*\.(?!\.)\d*([Eef][\+\-]?\d+)?/i)&&(C=!0),e.match(/^\d+\.(?!\.)\d*/)&&(C=!0),e.match(/^\.\d+/)&&(C=!0),e.match(/^0x\.[0-9a-f]+p[\+\-]?\d+/i)&&(C=!0),e.match(/^0x[0-9a-f]+/i)&&(C=!0),e.match(/^0b[01]+/i)&&(C=!0),e.match(/^0o[0-7]+/i)&&(C=!0),e.match(/^[1-9]\d*(e[\+\-]?\d+)?/)&&(C=!0),e.match(/^0(?![\dx])/i)&&(C=!0),C)return e.match(u),t.leavingExpr=!0,"number"}if(e.match(/^'/))return t.tokenize=S,t.tokenize(e,t);if(e.match(g))return t.tokenize=('"""'===(a=e.current()).substr(-3)?a='"""':'"'===a.substr(-1)&&(a='"'),function(e,t){if(e.eat("\\"))e.next();else{if(e.match(a))return t.tokenize=_,t.leavingExpr=!0,"string";e.eat(/[`"]/)}return e.eatWhile(/[^\\`"]/),"string"}),t.tokenize(e,t);if(e.match(h))return"meta";if(e.match(o))return null;if(e.match(f))return"keyword";if(e.match(d))return"builtin";var E=t.isDefinition||"function"==t.lastToken||"macro"==t.lastToken||"type"==t.lastToken||"struct"==t.lastToken||"immutable"==t.lastToken;return e.match(s)?E?"."===e.peek()?(t.isDefinition=!0,"variable"):(t.isDefinition=!1,"def"):e.match(/^({[^}]*})*\(/,!1)?(t.tokenize=x,t.tokenize(e,t)):(t.leavingExpr=!0,"variable"):(e.next(),"error")}function x(e,t){var n=e.match(/^(\(\s*)/);if(n&&(t.firstParenPos<0&&(t.firstParenPos=t.scopes.length),t.scopes.push("("),t.charsAdvanced+=n[1].length),"("==v(t)&&e.match(/^\)/)&&(t.scopes.pop(),t.charsAdvanced+=1,t.scopes.length<=t.firstParenPos)){var i=e.match(/^(\s*where\s+[^\s=]+)*\s*?=(?!=)/,!1);return e.backUp(t.charsAdvanced),t.firstParenPos=-1,t.charsAdvanced=0,t.tokenize=_,i?"def":"builtin"}if(e.match(/^$/g,!1)){for(e.backUp(t.charsAdvanced);t.scopes.length>t.firstParenPos;)t.scopes.pop();return t.firstParenPos=-1,t.charsAdvanced=0,t.tokenize=_,"builtin"}return t.charsAdvanced+=e.match(/^([^()]*)/)[1].length,t.tokenize(e,t)}function w(e,t){return e.match(/.*?(?=,|;|{|}|\(|\)|=|$|\s)/),e.match(/^{/)?t.nestedLevels++:e.match(/^}/)&&t.nestedLevels--,t.nestedLevels>0?e.match(/.*?(?={|})/)||e.next():0==t.nestedLevels&&(t.tokenize=_),"builtin"}function k(e,t){return e.match(/^#=/)&&t.nestedLevels++,e.match(/.*?(?=(#=|=#))/)||e.skipToEnd(),e.match(/^=#/)&&(t.nestedLevels--,0==t.nestedLevels&&(t.tokenize=_)),"comment"}function S(e,t){var n,i=!1;if(e.match(a))i=!0;else if(n=e.match(/\\u([a-f0-9]{1,4})(?=')/i)){var r=parseInt(n[1],16);(r<=55295||r>=57344)&&(i=!0,e.next())}else if(n=e.match(/\\U([A-Fa-f0-9]{5,8})(?=')/)){var r=parseInt(n[1],16);r<=1114111&&(i=!0,e.next())}return i?(t.leavingExpr=!0,t.tokenize=_,"string"):(e.match(/^[^']+(?=')/)||e.skipToEnd(),e.match(/^'/)&&(t.tokenize=_),"error")}var C={startState:function(){return{tokenize:_,scopes:[],lastToken:null,leavingExpr:!1,isDefinition:!1,nestedLevels:0,charsAdvanced:0,firstParenPos:-1}},token:function(e,t){var n=t.tokenize(e,t),i=e.current();return i&&n&&(t.lastToken=i),n},indent:function(e,n){var i=0;return"]"!==n&&")"!==n&&"end"!==n&&"else"!==n&&"catch"!==n&&"elseif"!==n&&"finally"!==n||(i=-1),(e.scopes.length+i)*t.indentUnit},electricInput:/\b(end|else|catch|finally)\b/,blockCommentStart:"#=",blockCommentEnd:"=#",lineComment:"#",closeBrackets:'()[]{}""',fold:"indent"};return C}),e.defineMIME("text/x-julia","julia")}(n(8))},function(e,t,n){!function(e){"use strict";e.defineMode("livescript",function(){var e=function(e,t){var n=t.next||"start";if(n){t.next=t.next;var i=o[n];if(i.splice){for(var r=0;r<i.length;++r){var s=i[r];if(s.regex&&e.match(s.regex))return t.next=s.next||t.next,s.token}return e.next(),"error"}if(e.match(s=o[n]))return s.regex&&e.match(s.regex)?(t.next=s.next,s.token):(e.next(),"error")}return e.next(),"error"},t={startState:function(){return{next:"start",lastToken:{style:null,indent:0,content:""}}},token:function(t,n){for(;t.pos==t.start;)var i=e(t,n);return n.lastToken={style:i,indent:t.indentation(),content:t.current()},i.replace(/\./g," ")},indent:function(e){var t=e.lastToken.indent;return e.lastToken.content.match(n)&&(t+=2),t}};return t});var t="(?![\\d\\s])[$\\w\\xAA-\\uFFDC](?:(?!\\s)[$\\w\\xAA-\\uFFDC]|-[A-Za-z])*",n=RegExp("(?:[({[=:]|[-~]>|\\b(?:e(?:lse|xport)|d(?:o|efault)|t(?:ry|hen)|finally|import(?:\\s*all)?|const|var|let|new|catch(?:\\s*"+t+")?))\\s*$"),i="(?![$\\w]|-[A-Za-z]|\\s*:(?![:=]))",r={token:"string",regex:".+"},o={start:[{token:"comment.doc",regex:"/\\*",next:"comment"},{token:"comment",regex:"#.*"},{token:"keyword",regex:"(?:t(?:h(?:is|row|en)|ry|ypeof!?)|c(?:on(?:tinue|st)|a(?:se|tch)|lass)|i(?:n(?:stanceof)?|mp(?:ort(?:\\s+all)?|lements)|[fs])|d(?:e(?:fault|lete|bugger)|o)|f(?:or(?:\\s+own)?|inally|unction)|s(?:uper|witch)|e(?:lse|x(?:tends|port)|val)|a(?:nd|rguments)|n(?:ew|ot)|un(?:less|til)|w(?:hile|ith)|o[fr]|return|break|let|var|loop)"+i},{token:"constant.language",regex:"(?:true|false|yes|no|on|off|null|void|undefined)"+i},{token:"invalid.illegal",regex:"(?:p(?:ackage|r(?:ivate|otected)|ublic)|i(?:mplements|nterface)|enum|static|yield)"+i},{token:"language.support.class",regex:"(?:R(?:e(?:gExp|ferenceError)|angeError)|S(?:tring|yntaxError)|E(?:rror|valError)|Array|Boolean|Date|Function|Number|Object|TypeError|URIError)"+i},{token:"language.support.function",regex:"(?:is(?:NaN|Finite)|parse(?:Int|Float)|Math|JSON|(?:en|de)codeURI(?:Component)?)"+i},{token:"variable.language",regex:"(?:t(?:hat|il|o)|f(?:rom|allthrough)|it|by|e)"+i},{token:"identifier",regex:t+"\\s*:(?![:=])"},{token:"variable",regex:t},{token:"keyword.operator",regex:"(?:\\.{3}|\\s+\\?)"},{token:"keyword.variable",regex:"(?:@+|::|\\.\\.)",next:"key"},{token:"keyword.operator",regex:"\\.\\s*",next:"key"},{token:"string",regex:"\\\\\\S[^\\s,;)}\\]]*"},{token:"string.doc",regex:"'''",next:"qdoc"},{token:"string.doc",regex:'"""',next:"qqdoc"},{token:"string",regex:"'",next:"qstring"},{token:"string",regex:'"',next:"qqstring"},{token:"string",regex:"`",next:"js"},{token:"string",regex:"<\\[",next:"words"},{token:"string.regex",regex:"//",next:"heregex"},{token:"string.regex",regex:"\\/(?:[^[\\/\\n\\\\]*(?:(?:\\\\.|\\[[^\\]\\n\\\\]*(?:\\\\.[^\\]\\n\\\\]*)*\\])[^[\\/\\n\\\\]*)*)\\/[gimy$]{0,4}",next:"key"},{token:"constant.numeric",regex:"(?:0x[\\da-fA-F][\\da-fA-F_]*|(?:[2-9]|[12]\\d|3[0-6])r[\\da-zA-Z][\\da-zA-Z_]*|(?:\\d[\\d_]*(?:\\.\\d[\\d_]*)?|\\.\\d[\\d_]*)(?:e[+-]?\\d[\\d_]*)?[\\w$]*)"},{token:"lparen",regex:"[({[]"},{token:"rparen",regex:"[)}\\]]",next:"key"},{token:"keyword.operator",regex:"\\S+"},{token:"text",regex:"\\s+"}],heregex:[{token:"string.regex",regex:".*?//[gimy$?]{0,4}",next:"start"},{token:"string.regex",regex:"\\s*#{"},{token:"comment.regex",regex:"\\s+(?:#.*)?"},{token:"string.regex",regex:"\\S+"}],key:[{token:"keyword.operator",regex:"[.?@!]+"},{token:"identifier",regex:t,next:"start"},{token:"text",regex:"",next:"start"}],comment:[{token:"comment.doc",regex:".*?\\*/",next:"start"},{token:"comment.doc",regex:".+"}],qdoc:[{token:"string",regex:".*?'''",next:"key"},r],qqdoc:[{token:"string",regex:'.*?"""',next:"key"},r],qstring:[{token:"string",regex:"[^\\\\']*(?:\\\\.[^\\\\']*)*'",next:"key"},r],qqstring:[{token:"string",regex:'[^\\\\"]*(?:\\\\.[^\\\\"]*)*"',next:"key"},r],js:[{token:"string",regex:"[^\\\\`]*(?:\\\\.[^\\\\`]*)*`",next:"key"},r],words:[{token:"string",regex:".*?\\]>",next:"key"},r]};for(var s in o){var a=o[s];if(a.splice)for(var l=0,u=a.length;l<u;++l){var c=a[l];"string"==typeof c.regex&&(o[s][l].regex=new RegExp("^"+c.regex))}else"string"==typeof c.regex&&(o[s].regex=new RegExp("^"+a.regex))}e.defineMIME("text/x-livescript","livescript")}(n(8))},function(e,t,n){!function(e){"use strict";e.defineMode("lua",function(e,t){var n=e.indentUnit;function i(e){return new RegExp("^(?:"+e.join("|")+")$","i")}var r=i(t.specials||[]),o=i(["_G","_VERSION","assert","collectgarbage","dofile","error","getfenv","getmetatable","ipairs","load","loadfile","loadstring","module","next","pairs","pcall","print","rawequal","rawget","rawset","require","select","setfenv","setmetatable","tonumber","tostring","type","unpack","xpcall","coroutine.create","coroutine.resume","coroutine.running","coroutine.status","coroutine.wrap","coroutine.yield","debug.debug","debug.getfenv","debug.gethook","debug.getinfo","debug.getlocal","debug.getmetatable","debug.getregistry","debug.getupvalue","debug.setfenv","debug.sethook","debug.setlocal","debug.setmetatable","debug.setupvalue","debug.traceback","close","flush","lines","read","seek","setvbuf","write","io.close","io.flush","io.input","io.lines","io.open","io.output","io.popen","io.read","io.stderr","io.stdin","io.stdout","io.tmpfile","io.type","io.write","math.abs","math.acos","math.asin","math.atan","math.atan2","math.ceil","math.cos","math.cosh","math.deg","math.exp","math.floor","math.fmod","math.frexp","math.huge","math.ldexp","math.log","math.log10","math.max","math.min","math.modf","math.pi","math.pow","math.rad","math.random","math.randomseed","math.sin","math.sinh","math.sqrt","math.tan","math.tanh","os.clock","os.date","os.difftime","os.execute","os.exit","os.getenv","os.remove","os.rename","os.setlocale","os.time","os.tmpname","package.cpath","package.loaded","package.loaders","package.loadlib","package.path","package.preload","package.seeall","string.byte","string.char","string.dump","string.find","string.format","string.gmatch","string.gsub","string.len","string.lower","string.match","string.rep","string.reverse","string.sub","string.upper","table.concat","table.insert","table.maxn","table.remove","table.sort"]),s=i(["and","break","elseif","false","nil","not","or","return","true","function","end","if","then","else","do","while","repeat","until","for","in","local"]),a=i(["function","if","repeat","do","\\(","{"]),l=i(["end","until","\\)","}"]),u=new RegExp("^(?:"+["end","until","\\)","}","else","elseif"].join("|")+")","i");function c(e){for(var t=0;e.eat("=");)++t;return e.eat("["),t}function p(e,t){var n,i=e.next();return"-"==i&&e.eat("-")?e.eat("[")&&e.eat("[")?(t.cur=f(c(e),"comment"))(e,t):(e.skipToEnd(),"comment"):'"'==i||"'"==i?(t.cur=(n=i,function(e,t){for(var i,r=!1;null!=(i=e.next())&&(i!=n||r);)r=!r&&"\\"==i;return r||(t.cur=p),"string"}))(e,t):"["==i&&/[\[=]/.test(e.peek())?(t.cur=f(c(e),"string"))(e,t):/\d/.test(i)?(e.eatWhile(/[\w.%]/),"number"):/[\w_]/.test(i)?(e.eatWhile(/[\w\\\-_.]/),"variable"):null}function f(e,t){return function(n,i){for(var r,o=null;null!=(r=n.next());)if(null==o)"]"==r&&(o=0);else if("="==r)++o;else{if("]"==r&&o==e){i.cur=p;break}o=null}return t}}return{startState:function(e){return{basecol:e||0,indentDepth:0,cur:p}},token:function(e,t){if(e.eatSpace())return null;var n=t.cur(e,t),i=e.current();return"variable"==n&&(s.test(i)?n="keyword":o.test(i)?n="builtin":r.test(i)&&(n="variable-2")),"comment"!=n&&"string"!=n&&(a.test(i)?++t.indentDepth:l.test(i)&&--t.indentDepth),n},indent:function(e,t){var i=u.test(t);return e.basecol+n*(e.indentDepth-(i?1:0))},lineComment:"--",blockCommentStart:"--[[",blockCommentEnd:"]]"}}),e.defineMIME("text/x-lua","lua")}(n(8))},function(e,t,n){!function(e){"use strict";e.defineMode("markdown",function(t,n){var i=e.getMode(t,"text/html"),r="null"==i.name;void 0===n.highlightFormatting&&(n.highlightFormatting=!1),void 0===n.maxBlockquoteDepth&&(n.maxBlockquoteDepth=0),void 0===n.taskLists&&(n.taskLists=!1),void 0===n.strikethrough&&(n.strikethrough=!1),void 0===n.emoji&&(n.emoji=!1),void 0===n.fencedCodeBlockHighlighting&&(n.fencedCodeBlockHighlighting=!0),void 0===n.xml&&(n.xml=!0),void 0===n.tokenTypeOverrides&&(n.tokenTypeOverrides={});var o={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var s in o)o.hasOwnProperty(s)&&n.tokenTypeOverrides[s]&&(o[s]=n.tokenTypeOverrides[s]);var a=/^([*\-_])(?:\s*\1){2,}\s*$/,l=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,u=/^\[(x| )\](?=\s)/i,c=n.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,p=/^ *(?:\={1,}|-{1,})\s*$/,f=/^[^#!\[\]*_\\<>` "'(~:]+/,d=/^(~~~+|```+)[ \t]*([\w+#-]*)[^\n`]*$/,h=/^\s*\[[^\]]+?\]:.*$/,m=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/;function g(e,t,n){return t.f=t.inline=n,n(e,t)}function b(e,t,n){return t.f=t.block=n,n(e,t)}function y(t){if(t.linkTitle=!1,t.linkHref=!1,t.linkText=!1,t.em=!1,t.strong=!1,t.strikethrough=!1,t.quote=0,t.indentedCode=!1,t.f==_){var n=r;if(!n){var o=e.innerMode(i,t.htmlState);n="xml"==o.mode.name&&null===o.state.tagStart&&!o.state.context&&o.state.tokenize.isInText}n&&(t.f=S,t.block=v,t.htmlState=null)}return t.trailingSpace=0,t.trailingSpaceNewLine=!1,t.prevLine=t.thisLine,t.thisLine={stream:null},null}function v(i,r){var s,f=i.column()===r.indentation,m=!(s=r.prevLine.stream)||!/\S/.test(s.string),b=r.indentedCode,y=r.prevLine.hr,v=!1!==r.list,_=(r.listStack[r.listStack.length-1]||0)+3;r.indentedCode=!1;var k=r.indentation;if(null===r.indentationDiff&&(r.indentationDiff=r.indentation,v)){for(r.em=!1,r.strong=!1,r.code=!1,r.strikethrough=!1,r.list=null;k<r.listStack[r.listStack.length-1];)r.listStack.pop(),r.listStack.length?r.indentation=r.listStack[r.listStack.length-1]:r.list=!1;!1!==r.list&&(r.indentationDiff=k-r.listStack[r.listStack.length-1])}var S=!(m||y||r.prevLine.header||v&&b||r.prevLine.fencedCodeEnd),C=(!1===r.list||y||m)&&r.indentation<=_&&i.match(a),E=null;if(r.indentationDiff>=4&&(b||r.prevLine.fencedCodeEnd||r.prevLine.header||m))return i.skipToEnd(),r.indentedCode=!0,o.code;if(i.eatSpace())return null;if(f&&r.indentation<=_&&(E=i.match(c))&&E[1].length<=6)return r.quote=0,r.header=E[1].length,r.thisLine.header=!0,n.highlightFormatting&&(r.formatting="header"),r.f=r.inline,w(r);if(r.indentation<=_&&i.eat(">"))return r.quote=f?1:r.quote+1,n.highlightFormatting&&(r.formatting="quote"),i.eatSpace(),w(r);if(!C&&!r.setext&&f&&r.indentation<=_&&(E=i.match(l))){var T=E[1]?"ol":"ul";return r.indentation=k+i.current().length,r.list=!0,r.quote=0,r.listStack.push(r.indentation),n.taskLists&&i.match(u,!1)&&(r.taskList=!0),r.f=r.inline,n.highlightFormatting&&(r.formatting=["list","list-"+T]),w(r)}return f&&r.indentation<=_&&(E=i.match(d,!0))?(r.quote=0,r.fencedEndRE=new RegExp(E[1]+"+ *$"),r.localMode=n.fencedCodeBlockHighlighting&&function(n){if(e.findModeByName){var i=e.findModeByName(n);i&&(n=i.mime||i.mimes[0])}var r=e.getMode(t,n);return"null"==r.name?null:r}(E[2]),r.localMode&&(r.localState=e.startState(r.localMode)),r.f=r.block=x,n.highlightFormatting&&(r.formatting="code-block"),r.code=-1,w(r)):r.setext||!(S&&v||r.quote||!1!==r.list||r.code||C||h.test(i.string))&&(E=i.lookAhead(1))&&(E=E.match(p))?(r.setext?(r.header=r.setext,r.setext=0,i.skipToEnd(),n.highlightFormatting&&(r.formatting="header")):(r.header="="==E[0].charAt(0)?1:2,r.setext=r.header),r.thisLine.header=!0,r.f=r.inline,w(r)):C?(i.skipToEnd(),r.hr=!0,r.thisLine.hr=!0,o.hr):"["===i.peek()?g(i,r,A):g(i,r,r.inline)}function _(t,n){var o=i.token(t,n.htmlState);if(!r){var s=e.innerMode(i,n.htmlState);("xml"==s.mode.name&&null===s.state.tagStart&&!s.state.context&&s.state.tokenize.isInText||n.md_inside&&t.current().indexOf(">")>-1)&&(n.f=S,n.block=v,n.htmlState=null)}return o}function x(e,t){var i,r=t.listStack[t.listStack.length-1]||0,s=t.indentation<r,a=r+3;return t.fencedEndRE&&t.indentation<=a&&(s||e.match(t.fencedEndRE))?(n.highlightFormatting&&(t.formatting="code-block"),s||(i=w(t)),t.localMode=t.localState=null,t.block=v,t.f=S,t.fencedEndRE=null,t.code=0,t.thisLine.fencedCodeEnd=!0,s?b(e,t,t.block):i):t.localMode?t.localMode.token(e,t.localState):(e.skipToEnd(),o.code)}function w(e){var t=[];if(e.formatting){t.push(o.formatting),"string"==typeof e.formatting&&(e.formatting=[e.formatting]);for(var i=0;i<e.formatting.length;i++)t.push(o.formatting+"-"+e.formatting[i]),"header"===e.formatting[i]&&t.push(o.formatting+"-"+e.formatting[i]+"-"+e.header),"quote"===e.formatting[i]&&(!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=e.quote?t.push(o.formatting+"-"+e.formatting[i]+"-"+e.quote):t.push("error"))}if(e.taskOpen)return t.push("meta"),t.length?t.join(" "):null;if(e.taskClosed)return t.push("property"),t.length?t.join(" "):null;if(e.linkHref?t.push(o.linkHref,"url"):(e.strong&&t.push(o.strong),e.em&&t.push(o.em),e.strikethrough&&t.push(o.strikethrough),e.emoji&&t.push(o.emoji),e.linkText&&t.push(o.linkText),e.code&&t.push(o.code),e.image&&t.push(o.image),e.imageAltText&&t.push(o.imageAltText,"link"),e.imageMarker&&t.push(o.imageMarker)),e.header&&t.push(o.header,o.header+"-"+e.header),e.quote&&(t.push(o.quote),!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=e.quote?t.push(o.quote+"-"+e.quote):t.push(o.quote+"-"+n.maxBlockquoteDepth)),!1!==e.list){var r=(e.listStack.length-1)%3;r?1===r?t.push(o.list2):t.push(o.list3):t.push(o.list1)}return e.trailingSpaceNewLine?t.push("trailing-space-new-line"):e.trailingSpace&&t.push("trailing-space-"+(e.trailingSpace%2?"a":"b")),t.length?t.join(" "):null}function k(e,t){if(e.match(f,!0))return w(t)}function S(t,r){var s=r.text(t,r);if(void 0!==s)return s;if(r.list)return r.list=null,w(r);if(r.taskList){var a=" "===t.match(u,!0)[1];return a?r.taskOpen=!0:r.taskClosed=!0,n.highlightFormatting&&(r.formatting="task"),r.taskList=!1,w(r)}if(r.taskOpen=!1,r.taskClosed=!1,r.header&&t.match(/^#+$/,!0))return n.highlightFormatting&&(r.formatting="header"),w(r);var l=t.next();if(r.linkTitle){r.linkTitle=!1;var c=l;"("===l&&(c=")");var p="^\\s*(?:[^"+(c=(c+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1"))+"\\\\]+|\\\\\\\\|\\\\.)"+c;if(t.match(new RegExp(p),!0))return o.linkHref}if("`"===l){var f=r.formatting;n.highlightFormatting&&(r.formatting="code"),t.eatWhile("`");var d=t.current().length;if(0!=r.code||r.quote&&1!=d){if(d==r.code){var h=w(r);return r.code=0,h}return r.formatting=f,w(r)}return r.code=d,w(r)}if(r.code)return w(r);if("\\"===l&&(t.next(),n.highlightFormatting)){var g=w(r),y=o.formatting+"-escape";return g?g+" "+y:y}if("!"===l&&t.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return r.imageMarker=!0,r.image=!0,n.highlightFormatting&&(r.formatting="image"),w(r);if("["===l&&r.imageMarker&&t.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return r.imageMarker=!1,r.imageAltText=!0,n.highlightFormatting&&(r.formatting="image"),w(r);if("]"===l&&r.imageAltText){n.highlightFormatting&&(r.formatting="image");var g=w(r);return r.imageAltText=!1,r.image=!1,r.inline=r.f=E,g}if("["===l&&!r.image)return r.linkText&&t.match(/^.*?\]/)?w(r):(r.linkText=!0,n.highlightFormatting&&(r.formatting="link"),w(r));if("]"===l&&r.linkText){n.highlightFormatting&&(r.formatting="link");var g=w(r);return r.linkText=!1,r.inline=r.f=t.match(/\(.*?\)| ?\[.*?\]/,!1)?E:S,g}if("<"===l&&t.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){r.f=r.inline=C,n.highlightFormatting&&(r.formatting="link");var g=w(r);return g?g+=" ":g="",g+o.linkInline}if("<"===l&&t.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){r.f=r.inline=C,n.highlightFormatting&&(r.formatting="link");var g=w(r);return g?g+=" ":g="",g+o.linkEmail}if(n.xml&&"<"===l&&t.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var v=t.string.indexOf(">",t.pos);if(-1!=v){var x=t.string.substring(t.start,v);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(x)&&(r.md_inside=!0)}return t.backUp(1),r.htmlState=e.startState(i),b(t,r,_)}if(n.xml&&"<"===l&&t.match(/^\/\w*?>/))return r.md_inside=!1,"tag";if("*"===l||"_"===l){for(var k=1,T=1==t.pos?" ":t.string.charAt(t.pos-2);k<3&&t.eat(l);)k++;var A=t.peek()||" ",N=!/\s/.test(A)&&(!m.test(A)||/\s/.test(T)||m.test(T)),M=!/\s/.test(T)&&(!m.test(T)||/\s/.test(A)||m.test(A)),R=null,O=null;if(k%2&&(r.em||!N||"*"!==l&&M&&!m.test(T)?r.em!=l||!M||"*"!==l&&N&&!m.test(A)||(R=!1):R=!0),k>1&&(r.strong||!N||"*"!==l&&M&&!m.test(T)?r.strong!=l||!M||"*"!==l&&N&&!m.test(A)||(O=!1):O=!0),null!=O||null!=R){n.highlightFormatting&&(r.formatting=null==R?"strong":null==O?"em":"strong em"),!0===R&&(r.em=l),!0===O&&(r.strong=l);var h=w(r);return!1===R&&(r.em=!1),!1===O&&(r.strong=!1),h}}else if(" "===l&&(t.eat("*")||t.eat("_"))){if(" "===t.peek())return w(r);t.backUp(1)}if(n.strikethrough)if("~"===l&&t.eatWhile(l)){if(r.strikethrough){n.highlightFormatting&&(r.formatting="strikethrough");var h=w(r);return r.strikethrough=!1,h}if(t.match(/^[^\s]/,!1))return r.strikethrough=!0,n.highlightFormatting&&(r.formatting="strikethrough"),w(r)}else if(" "===l&&t.match(/^~~/,!0)){if(" "===t.peek())return w(r);t.backUp(2)}if(n.emoji&&":"===l&&t.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){r.emoji=!0,n.highlightFormatting&&(r.formatting="emoji");var L=w(r);return r.emoji=!1,L}return" "===l&&(t.match(/^ +$/,!1)?r.trailingSpace++:r.trailingSpace&&(r.trailingSpaceNewLine=!0)),w(r)}function C(e,t){var i=e.next();if(">"===i){t.f=t.inline=S,n.highlightFormatting&&(t.formatting="link");var r=w(t);return r?r+=" ":r="",r+o.linkInline}return e.match(/^[^>]+/,!0),o.linkInline}function E(e,t){if(e.eatSpace())return null;var i,r=e.next();return"("===r||"["===r?(t.f=t.inline=(i="("===r?")":"]",function(e,t){var r=e.next();if(r===i){t.f=t.inline=S,n.highlightFormatting&&(t.formatting="link-string");var o=w(t);return t.linkHref=!1,o}return e.match(T[i]),t.linkHref=!0,w(t)}),n.highlightFormatting&&(t.formatting="link-string"),t.linkHref=!0,w(t)):"error"}var T={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function A(e,t){return e.match(/^([^\]\\]|\\.)*\]:/,!1)?(t.f=N,e.next(),n.highlightFormatting&&(t.formatting="link"),t.linkText=!0,w(t)):g(e,t,S)}function N(e,t){if(e.match(/^\]:/,!0)){t.f=t.inline=M,n.highlightFormatting&&(t.formatting="link");var i=w(t);return t.linkText=!1,i}return e.match(/^([^\]\\]|\\.)+/,!0),o.linkText}function M(e,t){return e.eatSpace()?null:(e.match(/^[^\s]+/,!0),void 0===e.peek()?t.linkTitle=!0:e.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),t.f=t.inline=S,o.linkHref+" url")}var R={startState:function(){return{f:v,prevLine:{stream:null},thisLine:{stream:null},block:v,htmlState:null,indentation:0,inline:S,text:k,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(t){return{f:t.f,prevLine:t.prevLine,thisLine:t.thisLine,block:t.block,htmlState:t.htmlState&&e.copyState(i,t.htmlState),indentation:t.indentation,localMode:t.localMode,localState:t.localMode?e.copyState(t.localMode,t.localState):null,inline:t.inline,text:t.text,formatting:!1,linkText:t.linkText,linkTitle:t.linkTitle,linkHref:t.linkHref,code:t.code,em:t.em,strong:t.strong,strikethrough:t.strikethrough,emoji:t.emoji,header:t.header,setext:t.setext,hr:t.hr,taskList:t.taskList,list:t.list,listStack:t.listStack.slice(0),quote:t.quote,indentedCode:t.indentedCode,trailingSpace:t.trailingSpace,trailingSpaceNewLine:t.trailingSpaceNewLine,md_inside:t.md_inside,fencedEndRE:t.fencedEndRE}},token:function(e,t){if(t.formatting=!1,e!=t.thisLine.stream){if(t.header=0,t.hr=!1,e.match(/^\s*$/,!0))return y(t),null;if(t.prevLine=t.thisLine,t.thisLine={stream:e},t.taskList=!1,t.trailingSpace=0,t.trailingSpaceNewLine=!1,!t.localState&&(t.f=t.block,t.f!=_)){var n=e.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length;if(t.indentation=n,t.indentationDiff=null,n>0)return null}}return t.f(e,t)},innerMode:function(e){return e.block==_?{state:e.htmlState,mode:i}:e.localState?{state:e.localState,mode:e.localMode}:{state:e,mode:R}},indent:function(t,n,r){return t.block==_&&i.indent?i.indent(t.htmlState,n,r):t.localState&&t.localMode.indent?t.localMode.indent(t.localState,n,r):e.Pass},blankLine:y,getType:w,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return R},"xml"),e.defineMIME("text/markdown","markdown"),e.defineMIME("text/x-markdown","markdown")}(n(8),n(45),n(90))},function(e,t,n){!function(e){"use strict";e.defineMode("octave",function(){function e(e){return new RegExp("^(("+e.join(")|(")+"))\\b")}var t=new RegExp("^[\\+\\-\\*/&|\\^~<>!@'\\\\]"),n=new RegExp("^[\\(\\[\\{\\},:=;]"),i=new RegExp("^((==)|(~=)|(<=)|(>=)|(<<)|(>>)|(\\.[\\+\\-\\*/\\^\\\\]))"),r=new RegExp("^((!=)|(\\+=)|(\\-=)|(\\*=)|(/=)|(&=)|(\\|=)|(\\^=))"),o=new RegExp("^((>>=)|(<<=))"),s=new RegExp("^[\\]\\)]"),a=new RegExp("^[_A-Za-z¡-￿][_A-Za-z0-9¡-￿]*"),l=e(["error","eval","function","abs","acos","atan","asin","cos","cosh","exp","log","prod","sum","log10","max","min","sign","sin","sinh","sqrt","tan","reshape","break","zeros","default","margin","round","ones","rand","syn","ceil","floor","size","clear","zeros","eye","mean","std","cov","det","eig","inv","norm","rank","trace","expm","logm","sqrtm","linspace","plot","title","xlabel","ylabel","legend","text","grid","meshgrid","mesh","num2str","fft","ifft","arrayfun","cellfun","input","fliplr","flipud","ismember"]),u=e(["return","case","switch","else","elseif","end","endif","endfunction","if","otherwise","do","for","while","try","catch","classdef","properties","events","methods","global","persistent","endfor","endwhile","printf","sprintf","disp","until","continue","pkg"]);function c(e,t){return e.sol()||"'"!==e.peek()?(t.tokenize=f,f(e,t)):(e.next(),t.tokenize=f,"operator")}function p(e,t){return e.match(/^.*%}/)?(t.tokenize=f,"comment"):(e.skipToEnd(),"comment")}function f(d,h){if(d.eatSpace())return null;if(d.match("%{"))return h.tokenize=p,d.skipToEnd(),"comment";if(d.match(/^[%#]/))return d.skipToEnd(),"comment";if(d.match(/^[0-9\.+-]/,!1)){if(d.match(/^[+-]?0x[0-9a-fA-F]+[ij]?/))return d.tokenize=f,"number";if(d.match(/^[+-]?\d*\.\d+([EeDd][+-]?\d+)?[ij]?/))return"number";if(d.match(/^[+-]?\d+([EeDd][+-]?\d+)?[ij]?/))return"number"}if(d.match(e(["nan","NaN","inf","Inf"])))return"number";var m=d.match(/^"(?:[^"]|"")*("|$)/)||d.match(/^'(?:[^']|'')*('|$)/);return m?m[1]?"string":"string error":d.match(u)?"keyword":d.match(l)?"builtin":d.match(a)?"variable":d.match(t)||d.match(i)?"operator":d.match(n)||d.match(r)||d.match(o)?null:d.match(s)?(h.tokenize=c,null):(d.next(),"error")}return{startState:function(){return{tokenize:f}},token:function(e,t){var n=t.tokenize(e,t);return"number"!==n&&"variable"!==n||(t.tokenize=c),n},lineComment:"%",fold:"indent"}}),e.defineMIME("text/x-octave","octave")}(n(8))},function(e,t,n){!function(e){"use strict";e.defineMode("pascal",function(){var e=function(e){for(var t={},n=e.split(" "),i=0;i<n.length;++i)t[n[i]]=!0;return t}("absolute and array asm begin case const constructor destructor div do downto else end file for function goto if implementation in inherited inline interface label mod nil not object of operator or packed procedure program record reintroduce repeat self set shl shr string then to type unit until uses var while with xor as class dispinterface except exports finalization finally initialization inline is library on out packed property raise resourcestring threadvar try absolute abstract alias assembler bitpacked break cdecl continue cppdecl cvar default deprecated dynamic enumerator experimental export external far far16 forward generic helper implements index interrupt iocheck local message name near nodefault noreturn nostackframe oldfpccall otherwise overload override pascal platform private protected public published read register reintroduce result safecall saveregisters softfloat specialize static stdcall stored strict unaligned unimplemented varargs virtual write"),t={null:!0},n=/[+\-*&%=<>!?|\/]/;function i(e,t){for(var n,i=!1;n=e.next();){if(")"==n&&i){t.tokenize=null;break}i="*"==n}return"comment"}return{startState:function(){return{tokenize:null}},token:function(r,o){if(r.eatSpace())return null;var s=(o.tokenize||function(r,o){var s,a=r.next();if("#"==a&&o.startOfLine)return r.skipToEnd(),"meta";if('"'==a||"'"==a)return o.tokenize=(s=a,function(e,t){for(var n,i=!1,r=!1;null!=(n=e.next());){if(n==s&&!i){r=!0;break}i=!i&&"\\"==n}return!r&&i||(t.tokenize=null),"string"}),o.tokenize(r,o);if("("==a&&r.eat("*"))return o.tokenize=i,i(r,o);if(/[\[\]{}\(\),;\:\.]/.test(a))return null;if(/\d/.test(a))return r.eatWhile(/[\w\.]/),"number";if("/"==a&&r.eat("/"))return r.skipToEnd(),"comment";if(n.test(a))return r.eatWhile(n),"operator";r.eatWhile(/[\w\$_]/);var l=r.current();return e.propertyIsEnumerable(l)?"keyword":t.propertyIsEnumerable(l)?"atom":"variable"})(r,o);return s},electricChars:"{}"}}),e.defineMIME("text/x-pascal","pascal")}(n(8))},function(e,t,n){!function(e){"use strict";function t(e,t){return e.string.charAt(e.pos+(t||0))}function n(e,t){if(t){var n=e.pos-t;return e.string.substr(n>=0?n:0,t)}return e.string.substr(0,e.pos-1)}function i(e,t){var n=e.string.length,i=n-e.pos+1;return e.string.substr(e.pos,t&&t<n?t:i)}function r(e,t){var n,i=e.pos+t;i<=0?e.pos=0:i>=(n=e.string.length-1)?e.pos=n:e.pos=i}e.defineMode("perl",function(){var e={"->":4,"++":4,"--":4,"**":4,"=~":4,"!~":4,"*":4,"/":4,"%":4,x:4,"+":4,"-":4,".":4,"<<":4,">>":4,"<":4,">":4,"<=":4,">=":4,lt:4,gt:4,le:4,ge:4,"==":4,"!=":4,"<=>":4,eq:4,ne:4,cmp:4,"~~":4,"&":4,"|":4,"^":4,"&&":4,"||":4,"//":4,"..":4,"...":4,"?":4,":":4,"=":4,"+=":4,"-=":4,"*=":4,",":4,"=>":4,"::":4,not:4,and:4,or:4,xor:4,BEGIN:[5,1],END:[5,1],PRINT:[5,1],PRINTF:[5,1],GETC:[5,1],READ:[5,1],READLINE:[5,1],DESTROY:[5,1],TIE:[5,1],TIEHANDLE:[5,1],UNTIE:[5,1],STDIN:5,STDIN_TOP:5,STDOUT:5,STDOUT_TOP:5,STDERR:5,STDERR_TOP:5,$ARG:5,$_:5,"@ARG":5,"@_":5,$LIST_SEPARATOR:5,'$"':5,$PROCESS_ID:5,$PID:5,$$:5,$REAL_GROUP_ID:5,$GID:5,"$(":5,$EFFECTIVE_GROUP_ID:5,$EGID:5,"$)":5,$PROGRAM_NAME:5,$0:5,$SUBSCRIPT_SEPARATOR:5,$SUBSEP:5,"$;":5,$REAL_USER_ID:5,$UID:5,"$<":5,$EFFECTIVE_USER_ID:5,$EUID:5,"$>":5,$a:5,$b:5,$COMPILING:5,"$^C":5,$DEBUGGING:5,"$^D":5,"${^ENCODING}":5,$ENV:5,"%ENV":5,$SYSTEM_FD_MAX:5,"$^F":5,"@F":5,"${^GLOBAL_PHASE}":5,"$^H":5,"%^H":5,"@INC":5,"%INC":5,$INPLACE_EDIT:5,"$^I":5,"$^M":5,$OSNAME:5,"$^O":5,"${^OPEN}":5,$PERLDB:5,"$^P":5,$SIG:5,"%SIG":5,$BASETIME:5,"$^T":5,"${^TAINT}":5,"${^UNICODE}":5,"${^UTF8CACHE}":5,"${^UTF8LOCALE}":5,$PERL_VERSION:5,"$^V":5,"${^WIN32_SLOPPY_STAT}":5,$EXECUTABLE_NAME:5,"$^X":5,$1:5,$MATCH:5,"$&":5,"${^MATCH}":5,$PREMATCH:5,"$`":5,"${^PREMATCH}":5,$POSTMATCH:5,"$'":5,"${^POSTMATCH}":5,$LAST_PAREN_MATCH:5,"$+":5,$LAST_SUBMATCH_RESULT:5,"$^N":5,"@LAST_MATCH_END":5,"@+":5,"%LAST_PAREN_MATCH":5,"%+":5,"@LAST_MATCH_START":5,"@-":5,"%LAST_MATCH_START":5,"%-":5,$LAST_REGEXP_CODE_RESULT:5,"$^R":5,"${^RE_DEBUG_FLAGS}":5,"${^RE_TRIE_MAXBUF}":5,$ARGV:5,"@ARGV":5,ARGV:5,ARGVOUT:5,$OUTPUT_FIELD_SEPARATOR:5,$OFS:5,"$,":5,$INPUT_LINE_NUMBER:5,$NR:5,"$.":5,$INPUT_RECORD_SEPARATOR:5,$RS:5,"$/":5,$OUTPUT_RECORD_SEPARATOR:5,$ORS:5,"$\\":5,$OUTPUT_AUTOFLUSH:5,"$|":5,$ACCUMULATOR:5,"$^A":5,$FORMAT_FORMFEED:5,"$^L":5,$FORMAT_PAGE_NUMBER:5,"$%":5,$FORMAT_LINES_LEFT:5,"$-":5,$FORMAT_LINE_BREAK_CHARACTERS:5,"$:":5,$FORMAT_LINES_PER_PAGE:5,"$=":5,$FORMAT_TOP_NAME:5,"$^":5,$FORMAT_NAME:5,"$~":5,"${^CHILD_ERROR_NATIVE}":5,$EXTENDED_OS_ERROR:5,"$^E":5,$EXCEPTIONS_BEING_CAUGHT:5,"$^S":5,$WARNING:5,"$^W":5,"${^WARNING_BITS}":5,$OS_ERROR:5,$ERRNO:5,"$!":5,"%OS_ERROR":5,"%ERRNO":5,"%!":5,$CHILD_ERROR:5,"$?":5,$EVAL_ERROR:5,"$@":5,$OFMT:5,"$#":5,"$*":5,$ARRAY_BASE:5,"$[":5,$OLD_PERL_VERSION:5,"$]":5,if:[1,1],elsif:[1,1],else:[1,1],while:[1,1],unless:[1,1],for:[1,1],foreach:[1,1],abs:1,accept:1,alarm:1,atan2:1,bind:1,binmode:1,bless:1,bootstrap:1,break:1,caller:1,chdir:1,chmod:1,chomp:1,chop:1,chown:1,chr:1,chroot:1,close:1,closedir:1,connect:1,continue:[1,1],cos:1,crypt:1,dbmclose:1,dbmopen:1,default:1,defined:1,delete:1,die:1,do:1,dump:1,each:1,endgrent:1,endhostent:1,endnetent:1,endprotoent:1,endpwent:1,endservent:1,eof:1,eval:1,exec:1,exists:1,exit:1,exp:1,fcntl:1,fileno:1,flock:1,fork:1,format:1,formline:1,getc:1,getgrent:1,getgrgid:1,getgrnam:1,gethostbyaddr:1,gethostbyname:1,gethostent:1,getlogin:1,getnetbyaddr:1,getnetbyname:1,getnetent:1,getpeername:1,getpgrp:1,getppid:1,getpriority:1,getprotobyname:1,getprotobynumber:1,getprotoent:1,getpwent:1,getpwnam:1,getpwuid:1,getservbyname:1,getservbyport:1,getservent:1,getsockname:1,getsockopt:1,given:1,glob:1,gmtime:1,goto:1,grep:1,hex:1,import:1,index:1,int:1,ioctl:1,join:1,keys:1,kill:1,last:1,lc:1,lcfirst:1,length:1,link:1,listen:1,local:2,localtime:1,lock:1,log:1,lstat:1,m:null,map:1,mkdir:1,msgctl:1,msgget:1,msgrcv:1,msgsnd:1,my:2,new:1,next:1,no:1,oct:1,open:1,opendir:1,ord:1,our:2,pack:1,package:1,pipe:1,pop:1,pos:1,print:1,printf:1,prototype:1,push:1,q:null,qq:null,qr:null,quotemeta:null,qw:null,qx:null,rand:1,read:1,readdir:1,readline:1,readlink:1,readpipe:1,recv:1,redo:1,ref:1,rename:1,require:1,reset:1,return:1,reverse:1,rewinddir:1,rindex:1,rmdir:1,s:null,say:1,scalar:1,seek:1,seekdir:1,select:1,semctl:1,semget:1,semop:1,send:1,setgrent:1,sethostent:1,setnetent:1,setpgrp:1,setpriority:1,setprotoent:1,setpwent:1,setservent:1,setsockopt:1,shift:1,shmctl:1,shmget:1,shmread:1,shmwrite:1,shutdown:1,sin:1,sleep:1,socket:1,socketpair:1,sort:1,splice:1,split:1,sprintf:1,sqrt:1,srand:1,stat:1,state:1,study:1,sub:1,substr:1,symlink:1,syscall:1,sysopen:1,sysread:1,sysseek:1,system:1,syswrite:1,tell:1,telldir:1,tie:1,tied:1,time:1,times:1,tr:null,truncate:1,uc:1,ucfirst:1,umask:1,undef:1,unlink:1,unpack:1,unshift:1,untie:1,use:1,utime:1,values:1,vec:1,wait:1,waitpid:1,wantarray:1,warn:1,when:1,write:1,y:null},o="string-2",s=/[goseximacplud]/;function a(e,t,n,i,r){return t.chain=null,t.style=null,t.tail=null,t.tokenize=function(e,t){for(var o,s=!1,a=0;o=e.next();){if(o===n[a]&&!s)return void 0!==n[++a]?(t.chain=n[a],t.style=i,t.tail=r):r&&e.eatWhile(r),t.tokenize=u,i;s=!s&&"\\"==o}return i},t.tokenize(e,t)}function l(e,t,n){return t.tokenize=function(e,t){return e.string==n&&(t.tokenize=u),e.skipToEnd(),"string"},t.tokenize(e,t)}function u(u,c){if(u.eatSpace())return null;if(c.chain)return a(u,c,c.chain,c.style,c.tail);if(u.match(/^\-?[\d\.]/,!1)&&u.match(/^(\-?(\d*\.\d+(e[+-]?\d+)?|\d+\.\d*)|0x[\da-fA-F]+|0b[01]+|\d+(e[+-]?\d+)?)/))return"number";if(u.match(/^<<(?=\w)/))return u.eatWhile(/\w/),l(u,c,u.current().substr(2));if(u.sol()&&u.match(/^\=item(?!\w)/))return l(u,c,"=cut");var p=u.next();if('"'==p||"'"==p){if(n(u,3)=="<<"+p){var f=u.pos;u.eatWhile(/\w/);var d=u.current().substr(1);if(d&&u.eat(p))return l(u,c,d);u.pos=f}return a(u,c,[p],"string")}if("q"==p){var h=t(u,-2);if(!h||!/\w/.test(h))if("x"==(h=t(u,0))){if("("==(h=t(u,1)))return r(u,2),a(u,c,[")"],o,s);if("["==h)return r(u,2),a(u,c,["]"],o,s);if("{"==h)return r(u,2),a(u,c,["}"],o,s);if("<"==h)return r(u,2),a(u,c,[">"],o,s);if(/[\^'"!~\/]/.test(h))return r(u,1),a(u,c,[u.eat(h)],o,s)}else if("q"==h){if("("==(h=t(u,1)))return r(u,2),a(u,c,[")"],"string");if("["==h)return r(u,2),a(u,c,["]"],"string");if("{"==h)return r(u,2),a(u,c,["}"],"string");if("<"==h)return r(u,2),a(u,c,[">"],"string");if(/[\^'"!~\/]/.test(h))return r(u,1),a(u,c,[u.eat(h)],"string")}else if("w"==h){if("("==(h=t(u,1)))return r(u,2),a(u,c,[")"],"bracket");if("["==h)return r(u,2),a(u,c,["]"],"bracket");if("{"==h)return r(u,2),a(u,c,["}"],"bracket");if("<"==h)return r(u,2),a(u,c,[">"],"bracket");if(/[\^'"!~\/]/.test(h))return r(u,1),a(u,c,[u.eat(h)],"bracket")}else if("r"==h){if("("==(h=t(u,1)))return r(u,2),a(u,c,[")"],o,s);if("["==h)return r(u,2),a(u,c,["]"],o,s);if("{"==h)return r(u,2),a(u,c,["}"],o,s);if("<"==h)return r(u,2),a(u,c,[">"],o,s);if(/[\^'"!~\/]/.test(h))return r(u,1),a(u,c,[u.eat(h)],o,s)}else if(/[\^'"!~\/(\[{<]/.test(h)){if("("==h)return r(u,1),a(u,c,[")"],"string");if("["==h)return r(u,1),a(u,c,["]"],"string");if("{"==h)return r(u,1),a(u,c,["}"],"string");if("<"==h)return r(u,1),a(u,c,[">"],"string");if(/[\^'"!~\/]/.test(h))return a(u,c,[u.eat(h)],"string")}}if("m"==p){var h=t(u,-2);if((!h||!/\w/.test(h))&&(h=u.eat(/[(\[{<\^'"!~\/]/))){if(/[\^'"!~\/]/.test(h))return a(u,c,[h],o,s);if("("==h)return a(u,c,[")"],o,s);if("["==h)return a(u,c,["]"],o,s);if("{"==h)return a(u,c,["}"],o,s);if("<"==h)return a(u,c,[">"],o,s)}}if("s"==p){var h=/[\/>\]})\w]/.test(t(u,-2));if(!h&&(h=u.eat(/[(\[{<\^'"!~\/]/)))return a(u,c,"["==h?["]","]"]:"{"==h?["}","}"]:"<"==h?[">",">"]:"("==h?[")",")"]:[h,h],o,s)}if("y"==p){var h=/[\/>\]})\w]/.test(t(u,-2));if(!h&&(h=u.eat(/[(\[{<\^'"!~\/]/)))return a(u,c,"["==h?["]","]"]:"{"==h?["}","}"]:"<"==h?[">",">"]:"("==h?[")",")"]:[h,h],o,s)}if("t"==p){var h=/[\/>\]})\w]/.test(t(u,-2));if(!h&&(h=u.eat("r"))&&(h=u.eat(/[(\[{<\^'"!~\/]/)))return a(u,c,"["==h?["]","]"]:"{"==h?["}","}"]:"<"==h?[">",">"]:"("==h?[")",")"]:[h,h],o,s)}if("`"==p)return a(u,c,[p],"variable-2");if("/"==p)return/~\s*$/.test(n(u))?a(u,c,[p],o,s):"operator";if("$"==p){var f=u.pos;if(u.eatWhile(/\d/)||u.eat("{")&&u.eatWhile(/\d/)&&u.eat("}"))return"variable-2";u.pos=f}if(/[$@%]/.test(p)){var f=u.pos;if(u.eat("^")&&u.eat(/[A-Z]/)||!/[@$%&]/.test(t(u,-2))&&u.eat(/[=|\\\-#?@;:&`~\^!\[\]*'"$+.,\/<>()]/)){var h=u.current();if(e[h])return"variable-2"}u.pos=f}if(/[$@%&]/.test(p)&&(u.eatWhile(/[\w$\[\]]/)||u.eat("{")&&u.eatWhile(/[\w$\[\]]/)&&u.eat("}"))){var h=u.current();return e[h]?"variable-2":"variable"}if("#"==p&&"$"!=t(u,-2))return u.skipToEnd(),"comment";if(/[:+\-\^*$&%@=<>!?|\/~\.]/.test(p)){var f=u.pos;if(u.eatWhile(/[:+\-\^*$&%@=<>!?|\/~\.]/),e[u.current()])return"operator";u.pos=f}if("_"==p&&1==u.pos){if("_END__"==i(u,6))return a(u,c,["\0"],"comment");if("_DATA__"==i(u,7))return a(u,c,["\0"],"variable-2");if("_C__"==i(u,7))return a(u,c,["\0"],"string")}if(/\w/.test(p)){var f=u.pos;if("{"==t(u,-2)&&("}"==t(u,0)||u.eatWhile(/\w/)&&"}"==t(u,0)))return"string";u.pos=f}if(/[A-Z]/.test(p)){var m=t(u,-2),f=u.pos;if(u.eatWhile(/[A-Z_]/),!/[\da-z]/.test(t(u,0))){var h=e[u.current()];return h?(h[1]&&(h=h[0]),":"!=m?1==h?"keyword":2==h?"def":3==h?"atom":4==h?"operator":5==h?"variable-2":"meta":"meta"):"meta"}u.pos=f}if(/[a-zA-Z_]/.test(p)){var m=t(u,-2);u.eatWhile(/\w/);var h=e[u.current()];return h?(h[1]&&(h=h[0]),":"!=m?1==h?"keyword":2==h?"def":3==h?"atom":4==h?"operator":5==h?"variable-2":"meta":"meta"):"meta"}return null}return{startState:function(){return{tokenize:u,chain:null,style:null,tail:null}},token:function(e,t){return(t.tokenize||u)(e,t)},lineComment:"#"}}),e.registerHelper("wordChars","perl",/[\w$]/),e.defineMIME("text/x-perl","perl")}(n(8))},function(e,t,n){!function(e){"use strict";function t(e){for(var t={},n=e.split(" "),i=0;i<n.length;++i)t[n[i]]=!0;return t}function n(e,t,r){return 0==e.length?i(t):function(o,s){for(var a=e[0],l=0;l<a.length;l++)if(o.match(a[l][0]))return s.tokenize=n(e.slice(1),t),a[l][1];return s.tokenize=i(t,r),"string"}}function i(e,t){return function(i,r){return function(e,t,i,r){if(!1!==r&&e.match("${",!1)||e.match("{$",!1))return t.tokenize=null,"string";if(!1!==r&&e.match(/^\$[a-zA-Z_][a-zA-Z0-9_]*/))return e.match("[",!1)&&(t.tokenize=n([[["[",null]],[[/\d[\w\.]*/,"number"],[/\$[a-zA-Z_][a-zA-Z0-9_]*/,"variable-2"],[/[\w\$]+/,"variable"]],[["]",null]]],i,r)),e.match(/\-\>\w/,!1)&&(t.tokenize=n([[["->",null]],[[/[\w]+/,"variable"]]],i,r)),"variable-2";for(var o=!1;!e.eol()&&(o||!1===r||!e.match("{$",!1)&&!e.match(/^(\$[a-zA-Z_][a-zA-Z0-9_]*|\$\{)/,!1));){if(!o&&e.match(i)){t.tokenize=null,t.tokStack.pop(),t.tokStack.pop();break}o="\\"==e.next()&&!o}return"string"}(i,r,e,t)}}var r="abstract and array as break case catch class clone const continue declare default do else elseif enddeclare endfor endforeach endif endswitch endwhile extends final for foreach function global goto if implements interface instanceof namespace new or private protected public static switch throw trait try use var while xor die echo empty exit eval include include_once isset list require require_once return print unset __halt_compiler self static parent yield insteadof finally",o="true false null TRUE FALSE NULL __CLASS__ __DIR__ __FILE__ __LINE__ __METHOD__ __FUNCTION__ __NAMESPACE__ __TRAIT__",s="func_num_args func_get_arg func_get_args strlen strcmp strncmp strcasecmp strncasecmp each error_reporting define defined trigger_error user_error set_error_handler restore_error_handler get_declared_classes get_loaded_extensions extension_loaded get_extension_funcs debug_backtrace constant bin2hex hex2bin sleep usleep time mktime gmmktime strftime gmstrftime strtotime date gmdate getdate localtime checkdate flush wordwrap htmlspecialchars htmlentities html_entity_decode md5 md5_file crc32 getimagesize image_type_to_mime_type phpinfo phpversion phpcredits strnatcmp strnatcasecmp substr_count strspn strcspn strtok strtoupper strtolower strpos strrpos strrev hebrev hebrevc nl2br basename dirname pathinfo stripslashes stripcslashes strstr stristr strrchr str_shuffle str_word_count strcoll substr substr_replace quotemeta ucfirst ucwords strtr addslashes addcslashes rtrim str_replace str_repeat count_chars chunk_split trim ltrim strip_tags similar_text explode implode setlocale localeconv parse_str str_pad chop strchr sprintf printf vprintf vsprintf sscanf fscanf parse_url urlencode urldecode rawurlencode rawurldecode readlink linkinfo link unlink exec system escapeshellcmd escapeshellarg passthru shell_exec proc_open proc_close rand srand getrandmax mt_rand mt_srand mt_getrandmax base64_decode base64_encode abs ceil floor round is_finite is_nan is_infinite bindec hexdec octdec decbin decoct dechex base_convert number_format fmod ip2long long2ip getenv putenv getopt microtime gettimeofday getrusage uniqid quoted_printable_decode set_time_limit get_cfg_var magic_quotes_runtime set_magic_quotes_runtime get_magic_quotes_gpc get_magic_quotes_runtime import_request_variables error_log serialize unserialize memory_get_usage var_dump var_export debug_zval_dump print_r highlight_file show_source highlight_string ini_get ini_get_all ini_set ini_alter ini_restore get_include_path set_include_path restore_include_path setcookie header headers_sent connection_aborted connection_status ignore_user_abort parse_ini_file is_uploaded_file move_uploaded_file intval floatval doubleval strval gettype settype is_null is_resource is_bool is_long is_float is_int is_integer is_double is_real is_numeric is_string is_array is_object is_scalar ereg ereg_replace eregi eregi_replace split spliti join sql_regcase dl pclose popen readfile rewind rmdir umask fclose feof fgetc fgets fgetss fread fopen fpassthru ftruncate fstat fseek ftell fflush fwrite fputs mkdir rename copy tempnam tmpfile file file_get_contents file_put_contents stream_select stream_context_create stream_context_set_params stream_context_set_option stream_context_get_options stream_filter_prepend stream_filter_append fgetcsv flock get_meta_tags stream_set_write_buffer set_file_buffer set_socket_blocking stream_set_blocking socket_set_blocking stream_get_meta_data stream_register_wrapper stream_wrapper_register stream_set_timeout socket_set_timeout socket_get_status realpath fnmatch fsockopen pfsockopen pack unpack get_browser crypt opendir closedir chdir getcwd rewinddir readdir dir glob fileatime filectime filegroup fileinode filemtime fileowner fileperms filesize filetype file_exists is_writable is_writeable is_readable is_executable is_file is_dir is_link stat lstat chown touch clearstatcache mail ob_start ob_flush ob_clean ob_end_flush ob_end_clean ob_get_flush ob_get_clean ob_get_length ob_get_level ob_get_status ob_get_contents ob_implicit_flush ob_list_handlers ksort krsort natsort natcasesort asort arsort sort rsort usort uasort uksort shuffle array_walk count end prev next reset current key min max in_array array_search extract compact array_fill range array_multisort array_push array_pop array_shift array_unshift array_splice array_slice array_merge array_merge_recursive array_keys array_values array_count_values array_reverse array_reduce array_pad array_flip array_change_key_case array_rand array_unique array_intersect array_intersect_assoc array_diff array_diff_assoc array_sum array_filter array_map array_chunk array_key_exists array_intersect_key array_combine array_column pos sizeof key_exists assert assert_options version_compare ftok str_rot13 aggregate session_name session_module_name session_save_path session_id session_regenerate_id session_decode session_register session_unregister session_is_registered session_encode session_start session_destroy session_unset session_set_save_handler session_cache_limiter session_cache_expire session_set_cookie_params session_get_cookie_params session_write_close preg_match preg_match_all preg_replace preg_replace_callback preg_split preg_quote preg_grep overload ctype_alnum ctype_alpha ctype_cntrl ctype_digit ctype_lower ctype_graph ctype_print ctype_punct ctype_space ctype_upper ctype_xdigit virtual apache_request_headers apache_note apache_lookup_uri apache_child_terminate apache_setenv apache_response_headers apache_get_version getallheaders mysql_connect mysql_pconnect mysql_close mysql_select_db mysql_create_db mysql_drop_db mysql_query mysql_unbuffered_query mysql_db_query mysql_list_dbs mysql_list_tables mysql_list_fields mysql_list_processes mysql_error mysql_errno mysql_affected_rows mysql_insert_id mysql_result mysql_num_rows mysql_num_fields mysql_fetch_row mysql_fetch_array mysql_fetch_assoc mysql_fetch_object mysql_data_seek mysql_fetch_lengths mysql_fetch_field mysql_field_seek mysql_free_result mysql_field_name mysql_field_table mysql_field_len mysql_field_type mysql_field_flags mysql_escape_string mysql_real_escape_string mysql_stat mysql_thread_id mysql_client_encoding mysql_get_client_info mysql_get_host_info mysql_get_proto_info mysql_get_server_info mysql_info mysql mysql_fieldname mysql_fieldtable mysql_fieldlen mysql_fieldtype mysql_fieldflags mysql_selectdb mysql_createdb mysql_dropdb mysql_freeresult mysql_numfields mysql_numrows mysql_listdbs mysql_listtables mysql_listfields mysql_db_name mysql_dbname mysql_tablename mysql_table_name pg_connect pg_pconnect pg_close pg_connection_status pg_connection_busy pg_connection_reset pg_host pg_dbname pg_port pg_tty pg_options pg_ping pg_query pg_send_query pg_cancel_query pg_fetch_result pg_fetch_row pg_fetch_assoc pg_fetch_array pg_fetch_object pg_fetch_all pg_affected_rows pg_get_result pg_result_seek pg_result_status pg_free_result pg_last_oid pg_num_rows pg_num_fields pg_field_name pg_field_num pg_field_size pg_field_type pg_field_prtlen pg_field_is_null pg_get_notify pg_get_pid pg_result_error pg_last_error pg_last_notice pg_put_line pg_end_copy pg_copy_to pg_copy_from pg_trace pg_untrace pg_lo_create pg_lo_unlink pg_lo_open pg_lo_close pg_lo_read pg_lo_write pg_lo_read_all pg_lo_import pg_lo_export pg_lo_seek pg_lo_tell pg_escape_string pg_escape_bytea pg_unescape_bytea pg_client_encoding pg_set_client_encoding pg_meta_data pg_convert pg_insert pg_update pg_delete pg_select pg_exec pg_getlastoid pg_cmdtuples pg_errormessage pg_numrows pg_numfields pg_fieldname pg_fieldsize pg_fieldtype pg_fieldnum pg_fieldprtlen pg_fieldisnull pg_freeresult pg_result pg_loreadall pg_locreate pg_lounlink pg_loopen pg_loclose pg_loread pg_lowrite pg_loimport pg_loexport http_response_code get_declared_traits getimagesizefromstring socket_import_stream stream_set_chunk_size trait_exists header_register_callback class_uses session_status session_register_shutdown echo print global static exit array empty eval isset unset die include require include_once require_once json_decode json_encode json_last_error json_last_error_msg curl_close curl_copy_handle curl_errno curl_error curl_escape curl_exec curl_file_create curl_getinfo curl_init curl_multi_add_handle curl_multi_close curl_multi_exec curl_multi_getcontent curl_multi_info_read curl_multi_init curl_multi_remove_handle curl_multi_select curl_multi_setopt curl_multi_strerror curl_pause curl_reset curl_setopt_array curl_setopt curl_share_close curl_share_init curl_share_setopt curl_strerror curl_unescape curl_version mysqli_affected_rows mysqli_autocommit mysqli_change_user mysqli_character_set_name mysqli_close mysqli_commit mysqli_connect_errno mysqli_connect_error mysqli_connect mysqli_data_seek mysqli_debug mysqli_dump_debug_info mysqli_errno mysqli_error_list mysqli_error mysqli_fetch_all mysqli_fetch_array mysqli_fetch_assoc mysqli_fetch_field_direct mysqli_fetch_field mysqli_fetch_fields mysqli_fetch_lengths mysqli_fetch_object mysqli_fetch_row mysqli_field_count mysqli_field_seek mysqli_field_tell mysqli_free_result mysqli_get_charset mysqli_get_client_info mysqli_get_client_stats mysqli_get_client_version mysqli_get_connection_stats mysqli_get_host_info mysqli_get_proto_info mysqli_get_server_info mysqli_get_server_version mysqli_info mysqli_init mysqli_insert_id mysqli_kill mysqli_more_results mysqli_multi_query mysqli_next_result mysqli_num_fields mysqli_num_rows mysqli_options mysqli_ping mysqli_prepare mysqli_query mysqli_real_connect mysqli_real_escape_string mysqli_real_query mysqli_reap_async_query mysqli_refresh mysqli_rollback mysqli_select_db mysqli_set_charset mysqli_set_local_infile_default mysqli_set_local_infile_handler mysqli_sqlstate mysqli_ssl_set mysqli_stat mysqli_stmt_init mysqli_store_result mysqli_thread_id mysqli_thread_safe mysqli_use_result mysqli_warning_count";e.registerHelper("hintWords","php",[r,o,s].join(" ").split(" ")),e.registerHelper("wordChars","php",/[\w$]/);var a={name:"clike",helperType:"php",keywords:t(r),blockKeywords:t("catch do else elseif for foreach if switch try while finally"),defKeywords:t("class function interface namespace trait"),atoms:t(o),builtin:t(s),multiLineStrings:!0,hooks:{$:function(e){return e.eatWhile(/[\w\$_]/),"variable-2"},"<":function(e,t){var n;if(n=e.match(/<<\s*/)){var r=e.eat(/['"]/);e.eatWhile(/[\w\.]/);var o=e.current().slice(n[0].length+(r?2:1));if(r&&e.eat(r),o)return(t.tokStack||(t.tokStack=[])).push(o,0),t.tokenize=i(o,"'"!=r),"string"}return!1},"#":function(e){for(;!e.eol()&&!e.match("?>",!1);)e.next();return"comment"},"/":function(e){if(e.eat("/")){for(;!e.eol()&&!e.match("?>",!1);)e.next();return"comment"}return!1},'"':function(e,t){return(t.tokStack||(t.tokStack=[])).push('"',0),t.tokenize=i('"'),"string"},"{":function(e,t){return t.tokStack&&t.tokStack.length&&t.tokStack[t.tokStack.length-1]++,!1},"}":function(e,t){return t.tokStack&&t.tokStack.length>0&&!--t.tokStack[t.tokStack.length-1]&&(t.tokenize=i(t.tokStack[t.tokStack.length-2])),!1}}};e.defineMode("php",function(t,n){var i=e.getMode(t,n&&n.htmlMode||"text/html"),r=e.getMode(t,a);return{startState:function(){var t=e.startState(i),o=n.startOpen?e.startState(r):null;return{html:t,php:o,curMode:n.startOpen?r:i,curState:n.startOpen?o:t,pending:null}},copyState:function(t){var n,o=t.html,s=e.copyState(i,o),a=t.php,l=a&&e.copyState(r,a);return n=t.curMode==i?s:l,{html:s,php:l,curMode:t.curMode,curState:n,pending:t.pending}},token:function(t,n){var o=n.curMode==r;if(t.sol()&&n.pending&&'"'!=n.pending&&"'"!=n.pending&&(n.pending=null),o)return o&&null==n.php.tokenize&&t.match("?>")?(n.curMode=i,n.curState=n.html,n.php.context.prev||(n.php=null),"meta"):r.token(t,n.curState);if(t.match(/^<\?\w*/))return n.curMode=r,n.php||(n.php=e.startState(r,i.indent(n.html,"",""))),n.curState=n.php,"meta";if('"'==n.pending||"'"==n.pending){for(;!t.eol()&&t.next()!=n.pending;);var s="string"}else if(n.pending&&t.pos<n.pending.end){t.pos=n.pending.end;var s=n.pending.style}else var s=i.token(t,n.curState);n.pending&&(n.pending=null);var a,l=t.current(),u=l.search(/<\?/);return-1!=u&&("string"==s&&(a=l.match(/[\'\"]$/))&&!/\?>/.test(l)?n.pending=a[0]:n.pending={end:t.pos,style:s},t.backUp(l.length-u)),s},indent:function(e,t,n){return e.curMode!=r&&/^\s*<\//.test(t)||e.curMode==r&&/^\?>/.test(t)?i.indent(e.html,t,n):e.curMode.indent(e.curState,t,n)},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",innerMode:function(e){return{state:e.curState,mode:e.curMode}}}},"htmlmixed","clike"),e.defineMIME("application/x-httpd-php","php"),e.defineMIME("application/x-httpd-php-open",{name:"php",startOpen:!0}),e.defineMIME("text/x-php",a)}(n(8),n(44),n(88))},function(e,t,n){!function(e){"use strict";e.registerHelper("wordChars","r",/[\w.]/),e.defineMode("r",function(t){function n(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=!0;return t}var i=["NULL","NA","Inf","NaN","NA_integer_","NA_real_","NA_complex_","NA_character_","TRUE","FALSE"],r=["list","quote","bquote","eval","return","call","parse","deparse"],o=["if","else","repeat","while","function","for","in","next","break"];e.registerHelper("hintWords","r",i.concat(r,o));var s,a=n(i),l=n(r),u=n(o),c=n(["if","else","repeat","while","function","for"]),p=/[+\-*\/^<>=!&|~$:]/;function f(e,t){s=null;var n,i=e.next();if("#"==i)return e.skipToEnd(),"comment";if("0"==i&&e.eat("x"))return e.eatWhile(/[\da-f]/i),"number";if("."==i&&e.eat(/\d/))return e.match(/\d*(?:e[+\-]?\d+)?/),"number";if(/\d/.test(i))return e.match(/\d*(?:\.\d+)?(?:e[+\-]\d+)?L?/),"number";if("'"==i||'"'==i)return t.tokenize=(n=i,function(e,t){if(e.eat("\\")){var i=e.next();return"x"==i?e.match(/^[a-f0-9]{2}/i):("u"==i||"U"==i)&&e.eat("{")&&e.skipTo("}")?e.next():"u"==i?e.match(/^[a-f0-9]{4}/i):"U"==i?e.match(/^[a-f0-9]{8}/i):/[0-7]/.test(i)&&e.match(/^[0-7]{1,2}/),"string-2"}for(var r;null!=(r=e.next());){if(r==n){t.tokenize=f;break}if("\\"==r){e.backUp(1);break}}return"string"}),"string";if("`"==i)return e.match(/[^`]+`/),"variable-3";if("."==i&&e.match(/.[.\d]+/))return"keyword";if(/[\w\.]/.test(i)&&"_"!=i){e.eatWhile(/[\w\.]/);var r=e.current();return a.propertyIsEnumerable(r)?"atom":u.propertyIsEnumerable(r)?(c.propertyIsEnumerable(r)&&!e.match(/\s*if(\s+|$)/,!1)&&(s="block"),"keyword"):l.propertyIsEnumerable(r)?"builtin":"variable"}return"%"==i?(e.skipTo("%")&&e.next(),"operator variable-2"):"<"==i&&e.eat("-")||"<"==i&&e.match("<-")||"-"==i&&e.match(/>>?/)?"operator arrow":"="==i&&t.ctx.argList?"arg-is":p.test(i)?"$"==i?"operator dollar":(e.eatWhile(p),"operator"):/[\(\){}\[\];]/.test(i)?(s=i,";"==i?"semi":null):null}function d(e,t,n){e.ctx={type:t,indent:e.indent,flags:0,column:n.column(),prev:e.ctx}}function h(e,t){var n=e.ctx;e.ctx={type:n.type,indent:n.indent,flags:n.flags|t,column:n.column,prev:n.prev}}function m(e){e.indent=e.ctx.indent,e.ctx=e.ctx.prev}return{startState:function(){return{tokenize:f,ctx:{type:"top",indent:-t.indentUnit,flags:2},indent:0,afterIdent:!1}},token:function(e,t){if(e.sol()&&(0==(3&t.ctx.flags)&&(t.ctx.flags|=2),4&t.ctx.flags&&m(t),t.indent=e.indentation()),e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"!=n&&0==(2&t.ctx.flags)&&h(t,1),";"!=s&&"{"!=s&&"}"!=s||"block"!=t.ctx.type||m(t),"{"==s?d(t,"}",e):"("==s?(d(t,")",e),t.afterIdent&&(t.ctx.argList=!0)):"["==s?d(t,"]",e):"block"==s?d(t,"block",e):s==t.ctx.type?m(t):"block"==t.ctx.type&&"comment"!=n&&h(t,4),t.afterIdent="variable"==n||"keyword"==n,n},indent:function(e,n){if(e.tokenize!=f)return 0;var i=n&&n.charAt(0),r=e.ctx,o=i==r.type;return 4&r.flags&&(r=r.prev),"block"==r.type?r.indent+("{"==i?0:t.indentUnit):1&r.flags?r.column+(o?0:1):r.indent+(o?0:t.indentUnit)},lineComment:"#"}}),e.defineMIME("text/x-rsrc","r")}(n(8))},function(e,t,n){!function(e){"use strict";e.defineMode("rst",function(t,n){var i=/^\*\*[^\*\s](?:[^\*]*[^\*\s])?\*\*/,r=/^\*[^\*\s](?:[^\*]*[^\*\s])?\*/,o=/^``[^`\s](?:[^`]*[^`\s])``/,s=/^(?:[\d]+(?:[\.,]\d+)*)/,a=/^(?:\s\+[\d]+(?:[\.,]\d+)*)/,l=/^(?:\s\-[\d]+(?:[\.,]\d+)*)/,u=new RegExp("^[Hh][Tt][Tt][Pp][Ss]?://(?:[\\d\\w.-]+)\\.(?:\\w{2,6})(?:/[\\d\\w\\#\\%\\&\\-\\.\\,\\/\\:\\=\\?\\~]+)*"),c={token:function(e){if(e.match(i)&&e.match(/\W+|$/,!1))return"strong";if(e.match(r)&&e.match(/\W+|$/,!1))return"em";if(e.match(o)&&e.match(/\W+|$/,!1))return"string-2";if(e.match(s))return"number";if(e.match(a))return"positive";if(e.match(l))return"negative";if(e.match(u))return"link";for(;!(null==e.next()||e.match(i,!1)||e.match(r,!1)||e.match(o,!1)||e.match(s,!1)||e.match(a,!1)||e.match(l,!1)||e.match(u,!1)););return null}},p=e.getMode(t,n.backdrop||"rst-base");return e.overlayMode(p,c,!0)},"python","stex"),e.defineMode("rst-base",function(t){function n(e){var t=Array.prototype.slice.call(arguments,1);return e.replace(/{(\d+)}/g,function(e,n){return void 0!==t[n]?t[n]:e})}var i=e.getMode(t,"python"),r=e.getMode(t,"stex"),o="(?:\\s*|\\W|$)",s=new RegExp(n("^{0}",o)),a="(?:[^\\W\\d_](?:[\\w!\"#$%&'()\\*\\+,\\-\\./:;<=>\\?]*[^\\W_])?)",l=new RegExp(n("^{0}",a)),u=n("(?:{0}|`{1}`)",a,"(?:[^\\W\\d_](?:[\\w\\s!\"#$%&'()\\*\\+,\\-\\./:;<=>\\?]*[^\\W_])?)"),c="(?:[^\\s\\|](?:[^\\|]*[^\\s\\|])?)",p="(?:[^\\`]+)",f=new RegExp(n("^{0}",p)),d=new RegExp("^([!'#$%&\"()*+,-./:;<=>?@\\[\\\\\\]^_`{|}~])\\1{3,}\\s*$"),h=new RegExp(n("^\\.\\.{0}","\\s+")),m=new RegExp(n("^_{0}:{1}|^__:{1}",u,o)),g=new RegExp(n("^{0}::{1}",u,o)),b=new RegExp(n("^\\|{0}\\|{1}{2}::{3}",c,"\\s+",u,o)),y=new RegExp(n("^\\[(?:\\d+|#{0}?|\\*)]{1}",u,o)),v=new RegExp(n("^\\[{0}\\]{1}",u,o)),_=new RegExp(n("^\\|{0}\\|",c)),x=new RegExp(n("^\\[(?:\\d+|#{0}?|\\*)]_",u)),w=new RegExp(n("^\\[{0}\\]_",u)),k=new RegExp(n("^{0}__?",u)),S=new RegExp(n("^`{0}`_",p)),C=new RegExp(n("^:{0}:`{1}`{2}",a,p,o)),E=new RegExp(n("^`{1}`:{0}:{2}",a,p,o)),T=new RegExp(n("^:{0}:{1}",a,o)),A=new RegExp(n("^{0}",u)),N=new RegExp(n("^::{0}",o)),M=new RegExp(n("^\\|{0}\\|",c)),R=new RegExp(n("^{0}","\\s+")),O=new RegExp(n("^{0}",u)),L=new RegExp(n("^::{0}",o)),P=new RegExp("^_"),D=new RegExp(n("^{0}|_",u)),I=new RegExp(n("^:{0}",o)),F=new RegExp("^::\\s*$"),$=new RegExp("^\\s+(?:>>>|In \\[\\d+\\]:)\\s");function j(t,n){var o=null;if(t.sol()&&t.match($,!1))V(n,U,{mode:i,local:e.startState(i)});else if(t.sol()&&t.match(h))V(n,B),o="meta";else if(t.sol()&&t.match(d))V(n,j),o="header";else if(K(n)==C||t.match(C,!1))switch(G(n)){case 0:V(n,j,W(C,1)),t.match(/^:/),o="meta";break;case 1:V(n,j,W(C,2)),t.match(l),o="keyword",t.current().match(/^(?:math|latex)/)&&(n.tmp_stex=!0);break;case 2:V(n,j,W(C,3)),t.match(/^:`/),o="meta";break;case 3:if(n.tmp_stex&&(n.tmp_stex=void 0,n.tmp={mode:r,local:e.startState(r)}),n.tmp){if("`"==t.peek()){V(n,j,W(C,4)),n.tmp=void 0;break}o=n.tmp.mode.token(t,n.tmp.local);break}V(n,j,W(C,4)),t.match(f),o="string";break;case 4:V(n,j,W(C,5)),t.match(/^`/),o="meta";break;case 5:V(n,j,W(C,6)),t.match(s);break;default:V(n,j)}else if(K(n)==E||t.match(E,!1))switch(G(n)){case 0:V(n,j,W(E,1)),t.match(/^`/),o="meta";break;case 1:V(n,j,W(E,2)),t.match(f),o="string";break;case 2:V(n,j,W(E,3)),t.match(/^`:/),o="meta";break;case 3:V(n,j,W(E,4)),t.match(l),o="keyword";break;case 4:V(n,j,W(E,5)),t.match(/^:/),o="meta";break;case 5:V(n,j,W(E,6)),t.match(s);break;default:V(n,j)}else if(K(n)==T||t.match(T,!1))switch(G(n)){case 0:V(n,j,W(T,1)),t.match(/^:/),o="meta";break;case 1:V(n,j,W(T,2)),t.match(l),o="keyword";break;case 2:V(n,j,W(T,3)),t.match(/^:/),o="meta";break;case 3:V(n,j,W(T,4)),t.match(s);break;default:V(n,j)}else if(K(n)==_||t.match(_,!1))switch(G(n)){case 0:V(n,j,W(_,1)),t.match(M),o="variable-2";break;case 1:V(n,j,W(_,2)),t.match(/^_?_?/)&&(o="link");break;default:V(n,j)}else if(t.match(x))V(n,j),o="quote";else if(t.match(w))V(n,j),o="quote";else if(t.match(k))V(n,j),t.peek()&&!t.peek().match(/^\W$/)||(o="link");else if(K(n)==S||t.match(S,!1))switch(G(n)){case 0:!t.peek()||t.peek().match(/^\W$/)?V(n,j,W(S,1)):t.match(S);break;case 1:V(n,j,W(S,2)),t.match(/^`/),o="link";break;case 2:V(n,j,W(S,3)),t.match(f);break;case 3:V(n,j,W(S,4)),t.match(/^`_/),o="link";break;default:V(n,j)}else t.match(F)?V(n,q):t.next()&&V(n,j);return o}function B(t,n){var o=null;if(K(n)==b||t.match(b,!1))switch(G(n)){case 0:V(n,B,W(b,1)),t.match(M),o="variable-2";break;case 1:V(n,B,W(b,2)),t.match(R);break;case 2:V(n,B,W(b,3)),t.match(O),o="keyword";break;case 3:V(n,B,W(b,4)),t.match(L),o="meta";break;default:V(n,j)}else if(K(n)==g||t.match(g,!1))switch(G(n)){case 0:V(n,B,W(g,1)),t.match(A),o="keyword",t.current().match(/^(?:math|latex)/)?n.tmp_stex=!0:t.current().match(/^python/)&&(n.tmp_py=!0);break;case 1:V(n,B,W(g,2)),t.match(N),o="meta",(t.match(/^latex\s*$/)||n.tmp_stex)&&(n.tmp_stex=void 0,V(n,U,{mode:r,local:e.startState(r)}));break;case 2:V(n,B,W(g,3)),(t.match(/^python\s*$/)||n.tmp_py)&&(n.tmp_py=void 0,V(n,U,{mode:i,local:e.startState(i)}));break;default:V(n,j)}else if(K(n)==m||t.match(m,!1))switch(G(n)){case 0:V(n,B,W(m,1)),t.match(P),t.match(D),o="link";break;case 1:V(n,B,W(m,2)),t.match(I),o="meta";break;default:V(n,j)}else t.match(y)?(V(n,j),o="quote"):t.match(v)?(V(n,j),o="quote"):(t.eatSpace(),t.eol()?V(n,j):(t.skipToEnd(),V(n,z),o="comment"));return o}function z(e,t){return H(e,t,"comment")}function q(e,t){return H(e,t,"meta")}function H(e,t,n){return e.eol()||e.eatSpace()?(e.skipToEnd(),n):(V(t,j),null)}function U(e,t){return t.ctx.mode&&t.ctx.local?e.sol()?(e.eatSpace()||V(t,j),null):t.ctx.mode.token(e,t.ctx.local):(V(t,j),null)}function W(e,t,n,i){return{phase:e,stage:t,mode:n,local:i}}function V(e,t,n){e.tok=t,e.ctx=n||{}}function G(e){return e.ctx.stage||0}function K(e){return e.ctx.phase}return{startState:function(){return{tok:j,ctx:W(void 0,0)}},copyState:function(t){var n=t.ctx,i=t.tmp;return n.local&&(n={mode:n.mode,local:e.copyState(n.mode,n.local)}),i&&(i={mode:i.mode,local:e.copyState(i.mode,i.local)}),{tok:t.tok,ctx:n,tmp:i}},innerMode:function(e){return e.tmp?{state:e.tmp.local,mode:e.tmp.mode}:e.ctx.mode?{state:e.ctx.local,mode:e.ctx.mode}:null},token:function(e,t){return t.tok(e,t)}}},"python","stex"),e.defineMIME("text/x-rst","rst")}(n(8),n(91),n(202),n(203))},function(e,t,n){!function(e){"use strict";e.defineSimpleMode("rust",{start:[{regex:/b?"/,token:"string",next:"string"},{regex:/b?r"/,token:"string",next:"string_raw"},{regex:/b?r#+"/,token:"string",next:"string_raw_hash"},{regex:/'(?:[^'\\]|\\(?:[nrt0'"]|x[\da-fA-F]{2}|u\{[\da-fA-F]{6}\}))'/,token:"string-2"},{regex:/b'(?:[^']|\\(?:['\\nrt0]|x[\da-fA-F]{2}))'/,token:"string-2"},{regex:/(?:(?:[0-9][0-9_]*)(?:(?:[Ee][+-]?[0-9_]+)|\.[0-9_]+(?:[Ee][+-]?[0-9_]+)?)(?:f32|f64)?)|(?:0(?:b[01_]+|(?:o[0-7_]+)|(?:x[0-9a-fA-F_]+))|(?:[0-9][0-9_]*))(?:u8|u16|u32|u64|i8|i16|i32|i64|isize|usize)?/,token:"number"},{regex:/(let(?:\s+mut)?|fn|enum|mod|struct|type)(\s+)([a-zA-Z_][a-zA-Z0-9_]*)/,token:["keyword",null,"def"]},{regex:/(?:abstract|alignof|as|box|break|continue|const|crate|do|else|enum|extern|fn|for|final|if|impl|in|loop|macro|match|mod|move|offsetof|override|priv|proc|pub|pure|ref|return|self|sizeof|static|struct|super|trait|type|typeof|unsafe|unsized|use|virtual|where|while|yield)\b/,token:"keyword"},{regex:/\b(?:Self|isize|usize|char|bool|u8|u16|u32|u64|f16|f32|f64|i8|i16|i32|i64|str|Option)\b/,token:"atom"},{regex:/\b(?:true|false|Some|None|Ok|Err)\b/,token:"builtin"},{regex:/\b(fn)(\s+)([a-zA-Z_][a-zA-Z0-9_]*)/,token:["keyword",null,"def"]},{regex:/#!?\[.*\]/,token:"meta"},{regex:/\/\/.*/,token:"comment"},{regex:/\/\*/,token:"comment",next:"comment"},{regex:/[-+\/*=<>!]+/,token:"operator"},{regex:/[a-zA-Z_]\w*!/,token:"variable-3"},{regex:/[a-zA-Z_]\w*/,token:"variable"},{regex:/[\{\[\(]/,indent:!0},{regex:/[\}\]\)]/,dedent:!0}],string:[{regex:/"/,token:"string",next:"start"},{regex:/(?:[^\\"]|\\(?:.|$))*/,token:"string"}],string_raw:[{regex:/"/,token:"string",next:"start"},{regex:/[^"]*/,token:"string"}],string_raw_hash:[{regex:/"#+/,token:"string",next:"start"},{regex:/(?:[^"]|"(?!#))*/,token:"string"}],comment:[{regex:/.*?\*\//,token:"comment",next:"start"},{regex:/.*/,token:"comment"}],meta:{dontIndentStates:["comment"],electricInput:/^\s*\}$/,blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"brace"}}),e.defineMIME("text/x-rustsrc","rust"),e.defineMIME("text/rust","rust")}(n(8),n(204))},function(e,t,n){!function(e){"use strict";e.defineMode("sas",function(){var e={},t={eq:"operator",lt:"operator",le:"operator",gt:"operator",ge:"operator",in:"operator",ne:"operator",or:"operator"},n=/(<=|>=|!=|<>)/,i=/[=\(:\),{}.*<>+\-\/^\[\]]/;function r(t,n,i){if(i)for(var r=n.split(" "),o=0;o<r.length;o++)e[r[o]]={style:t,state:i}}return r("def","stack pgm view source debug nesting nolist",["inDataStep"]),r("def","if while until for do do; end end; then else cancel",["inDataStep"]),r("def","label format _n_ _error_",["inDataStep"]),r("def","ALTER BUFNO BUFSIZE CNTLLEV COMPRESS DLDMGACTION ENCRYPT ENCRYPTKEY EXTENDOBSCOUNTER GENMAX GENNUM INDEX LABEL OBSBUF OUTREP PW PWREQ READ REPEMPTY REPLACE REUSE ROLE SORTEDBY SPILL TOBSNO TYPE WRITE FILECLOSE FIRSTOBS IN OBS POINTOBS WHERE WHEREUP IDXNAME IDXWHERE DROP KEEP RENAME",["inDataStep"]),r("def","filevar finfo finv fipname fipnamel fipstate first firstobs floor",["inDataStep"]),r("def","varfmt varinfmt varlabel varlen varname varnum varray varrayx vartype verify vformat vformatd vformatdx vformatn vformatnx vformatw vformatwx vformatx vinarray vinarrayx vinformat vinformatd vinformatdx vinformatn vinformatnx vinformatw vinformatwx vinformatx vlabel vlabelx vlength vlengthx vname vnamex vnferr vtype vtypex weekday",["inDataStep"]),r("def","zipfips zipname zipnamel zipstate",["inDataStep"]),r("def","put putc putn",["inDataStep"]),r("builtin","data run",["inDataStep"]),r("def","data",["inProc"]),r("def","%if %end %end; %else %else; %do %do; %then",["inMacro"]),r("builtin","proc run; quit; libname filename %macro %mend option options",["ALL"]),r("def","footnote title libname ods",["ALL"]),r("def","%let %put %global %sysfunc %eval ",["ALL"]),r("variable","&sysbuffr &syscc &syscharwidth &syscmd &sysdate &sysdate9 &sysday &sysdevic &sysdmg &sysdsn &sysencoding &sysenv &syserr &syserrortext &sysfilrc &syshostname &sysindex &sysinfo &sysjobid &syslast &syslckrc &syslibrc &syslogapplname &sysmacroname &sysmenv &sysmsg &sysncpu &sysodspath &sysparm &syspbuff &sysprocessid &sysprocessname &sysprocname &sysrc &sysscp &sysscpl &sysscpl &syssite &sysstartid &sysstartname &systcpiphostname &systime &sysuserid &sysver &sysvlong &sysvlong4 &syswarningtext",["ALL"]),r("def","source2 nosource2 page pageno pagesize",["ALL"]),r("def","_all_ _character_ _cmd_ _freq_ _i_ _infile_ _last_ _msg_ _null_ _numeric_ _temporary_ _type_ abort abs addr adjrsq airy alpha alter altlog altprint and arcos array arsin as atan attrc attrib attrn authserver autoexec awscontrol awsdef awsmenu awsmenumerge awstitle backward band base betainv between blocksize blshift bnot bor brshift bufno bufsize bxor by byerr byline byte calculated call cards cards4 catcache cbufno cdf ceil center cexist change chisq cinv class cleanup close cnonct cntllev coalesce codegen col collate collin column comamid comaux1 comaux2 comdef compbl compound compress config continue convert cos cosh cpuid create cross crosstab css curobs cv daccdb daccdbsl daccsl daccsyd dacctab dairy datalines datalines4 datejul datepart datetime day dbcslang dbcstype dclose ddm delete delimiter depdb depdbsl depsl depsyd deptab dequote descending descript design= device dflang dhms dif digamma dim dinfo display distinct dkricond dkrocond dlm dnum do dopen doptname doptnum dread drop dropnote dsname dsnferr echo else emaildlg emailid emailpw emailserver emailsys encrypt end endsas engine eof eov erf erfc error errorcheck errors exist exp fappend fclose fcol fdelete feedback fetch fetchobs fexist fget file fileclose fileexist filefmt filename fileref  fmterr fmtsearch fnonct fnote font fontalias  fopen foptname foptnum force formatted formchar formdelim formdlim forward fpoint fpos fput fread frewind frlen from fsep fuzz fwrite gaminv gamma getoption getvarc getvarn go goto group gwindow hbar hbound helpenv helploc hms honorappearance hosthelp hostprint hour hpct html hvar ibessel ibr id if index indexc indexw initcmd initstmt inner input inputc inputn inr insert int intck intnx into intrr invaliddata irr is jbessel join juldate keep kentb kurtosis label lag last lbound leave left length levels lgamma lib  library libref line linesize link list log log10 log2 logpdf logpmf logsdf lostcard lowcase lrecl ls macro macrogen maps mautosource max maxdec maxr mdy mean measures median memtype merge merror min minute missing missover mlogic mod mode model modify month mopen mort mprint mrecall msglevel msymtabmax mvarsize myy n nest netpv new news nmiss no nobatch nobs nocaps nocardimage nocenter nocharcode nocmdmac nocol nocum nodate nodbcs nodetails nodmr nodms nodmsbatch nodup nodupkey noduplicates noechoauto noequals noerrorabend noexitwindows nofullstimer noicon noimplmac noint nolist noloadlist nomiss nomlogic nomprint nomrecall nomsgcase nomstored nomultenvappl nonotes nonumber noobs noovp nopad nopercent noprint noprintinit normal norow norsasuser nosetinit  nosplash nosymbolgen note notes notitle notitles notsorted noverbose noxsync noxwait npv null number numkeys nummousekeys nway obs  on open     order ordinal otherwise out outer outp= output over ovp p(1 5 10 25 50 75 90 95 99) pad pad2  paired parm parmcards path pathdll pathname pdf peek peekc pfkey pmf point poisson poke position printer probbeta probbnml probchi probf probgam probhypr probit probnegb probnorm probsig probt procleave prt ps  pw pwreq qtr quote r ranbin rancau ranexp rangam range ranks rannor ranpoi rantbl rantri ranuni read recfm register regr remote remove rename repeat replace resolve retain return reuse reverse rewind right round rsquare rtf rtrace rtraceloc s s2 samploc sasautos sascontrol sasfrscr sasmsg sasmstore sasscript sasuser saving scan sdf second select selection separated seq serror set setcomm setot sign simple sin sinh siteinfo skewness skip sle sls sortedby sortpgm sortseq sortsize soundex  spedis splashlocation split spool sqrt start std stderr stdin stfips stimer stname stnamel stop stopover subgroup subpopn substr sum sumwgt symbol symbolgen symget symput sysget sysin sysleave sysmsg sysparm sysprint sysprintfont sysprod sysrc system t table tables tan tanh tapeclose tbufsize terminal test then timepart tinv  tnonct to today tol tooldef totper transformout translate trantab tranwrd trigamma trim trimn trunc truncover type unformatted uniform union until upcase update user usericon uss validate value var  weight when where while wincharset window work workinit workterm write wsum xsync xwait yearcutoff yes yyq  min max",["inDataStep","inProc"]),r("operator","and not ",["inDataStep","inProc"]),{startState:function(){return{inDataStep:!1,inProc:!1,inMacro:!1,nextword:!1,continueString:null,continueComment:!1}},token:function(r,o){return r.eatSpace()?null:function(r,o){var s=r.next();if("/"===s&&r.eat("*"))return o.continueComment=!0,"comment";if(!0===o.continueComment)return"*"===s&&"/"===r.peek()?(r.next(),o.continueComment=!1):r.skipTo("*")?(r.skipTo("*"),r.next(),r.eat("/")&&(o.continueComment=!1)):r.skipToEnd(),"comment";if("*"==s&&r.column()==r.indentation())return r.skipToEnd(),"comment";var a,l=s+r.peek();if(!('"'!==s&&"'"!==s||o.continueString))return o.continueString=s,"string";if(o.continueString)return o.continueString==s?o.continueString=null:r.skipTo(o.continueString)?(r.next(),o.continueString=null):r.skipToEnd(),"string";if(null!==o.continueString&&r.eol())return r.skipTo(o.continueString)||r.skipToEnd(),"string";if(/[\d\.]/.test(s))return"."===s?r.match(/^[0-9]+([eE][\-+]?[0-9]+)?/):"0"===s?r.match(/^[xX][0-9a-fA-F]+/)||r.match(/^0[0-7]+/):r.match(/^[0-9]*\.?[0-9]*([eE][\-+]?[0-9]+)?/),"number";if(n.test(s+r.peek()))return r.next(),"operator";if(t.hasOwnProperty(l)){if(r.next()," "===r.peek())return t[l.toLowerCase()]}else if(i.test(s))return"operator";if(null!=r.match(/[%&;\w]+/,!1)){if(a=s+r.match(/[%&;\w]+/,!0),/&/.test(a))return"variable"}else a=s;if(o.nextword)return r.match(/[\w]+/),"."===r.peek()&&r.skipTo(" "),o.nextword=!1,"variable-2";if(a=a.toLowerCase(),o.inDataStep){if("run;"===a||r.match(/run\s;/))return o.inDataStep=!1,"builtin";if(a&&"."===r.next())return/\w/.test(r.peek())?"variable-2":"variable";if(a&&e.hasOwnProperty(a)&&(-1!==e[a].state.indexOf("inDataStep")||-1!==e[a].state.indexOf("ALL"))){r.start<r.pos&&r.backUp(r.pos-r.start);for(var u=0;u<a.length;++u)r.next();return e[a].style}}if(o.inProc){if("run;"===a||"quit;"===a)return o.inProc=!1,"builtin";if(a&&e.hasOwnProperty(a)&&(-1!==e[a].state.indexOf("inProc")||-1!==e[a].state.indexOf("ALL")))return r.match(/[\w]+/),e[a].style}return o.inMacro?"%mend"===a?(";"===r.peek()&&r.next(),o.inMacro=!1,"builtin"):a&&e.hasOwnProperty(a)&&(-1!==e[a].state.indexOf("inMacro")||-1!==e[a].state.indexOf("ALL"))?(r.match(/[\w]+/),e[a].style):"atom":a&&e.hasOwnProperty(a)?(r.backUp(1),r.match(/[\w]+/),"data"===a&&!1===/=/.test(r.peek())?(o.inDataStep=!0,o.nextword=!0,"builtin"):"proc"===a?(o.inProc=!0,o.nextword=!0,"builtin"):"%macro"===a?(o.inMacro=!0,o.nextword=!0,"builtin"):/title[1-9]/.test(a)?"def":"footnote"===a?(r.eat(/[1-9]/),"def"):!0===o.inDataStep&&-1!==e[a].state.indexOf("inDataStep")?e[a].style:!0===o.inProc&&-1!==e[a].state.indexOf("inProc")?e[a].style:!0===o.inMacro&&-1!==e[a].state.indexOf("inMacro")?e[a].style:-1!==e[a].state.indexOf("ALL")?e[a].style:null):null}(r,o)},blockCommentStart:"/*",blockCommentEnd:"*/"}}),e.defineMIME("text/x-sas","sas")}(n(8))},function(e,t,n){!function(e){"use strict";e.defineMode("sass",function(t){var n,i=e.mimeModes["text/css"],r=i.propertyKeywords||{},o=i.colorKeywords||{},s=i.valueKeywords||{},a=i.fontProperties||{},l=new RegExp("^"+["true","false","null","auto"].join("|")),u=new RegExp("^"+["\\(","\\)","=",">","<","==",">=","<=","\\+","-","\\!=","/","\\*","%","and","or","not",";","\\{","\\}",":"].join("|")),c=/^::?[a-zA-Z_][\w\-]*/;function p(e){return!e.peek()||e.match(/\s+$/,!1)}function f(e,t){var n=e.peek();return")"===n?(e.next(),t.tokenizer=y,"operator"):"("===n?(e.next(),e.eatSpace(),"operator"):"'"===n||'"'===n?(t.tokenizer=h(e.next()),"string"):(t.tokenizer=h(")",!1),"string")}function d(e,t){return function(n,i){return n.sol()&&n.indentation()<=e?(i.tokenizer=y,y(n,i)):(t&&n.skipTo("*/")?(n.next(),n.next(),i.tokenizer=y):n.skipToEnd(),"comment")}}function h(e,t){return null==t&&(t=!0),function n(i,r){var o=i.next(),s=i.peek(),a=i.string.charAt(i.pos-2),l="\\"!==o&&s===e||o===e&&"\\"!==a;return l?(o!==e&&t&&i.next(),p(i)&&(r.cursorHalf=0),r.tokenizer=y,"string"):"#"===o&&"{"===s?(r.tokenizer=m(n),i.next(),"operator"):"string"}}function m(e){return function(t,n){return"}"===t.peek()?(t.next(),n.tokenizer=e,"operator"):y(t,n)}}function g(e){if(0==e.indentCount){e.indentCount++;var n=e.scopes[0].offset,i=n+t.indentUnit;e.scopes.unshift({offset:i})}}function b(e){1!=e.scopes.length&&e.scopes.shift()}function y(e,t){var i=e.peek();if(e.match("/*"))return t.tokenizer=d(e.indentation(),!0),t.tokenizer(e,t);if(e.match("//"))return t.tokenizer=d(e.indentation(),!1),t.tokenizer(e,t);if(e.match("#{"))return t.tokenizer=m(y),"operator";if('"'===i||"'"===i)return e.next(),t.tokenizer=h(i),"string";if(t.cursorHalf){if("#"===i&&(e.next(),e.match(/[0-9a-fA-F]{6}|[0-9a-fA-F]{3}/)))return p(e)&&(t.cursorHalf=0),"number";if(e.match(/^-?[0-9\.]+/))return p(e)&&(t.cursorHalf=0),"number";if(e.match(/^(px|em|in)\b/))return p(e)&&(t.cursorHalf=0),"unit";if(e.match(l))return p(e)&&(t.cursorHalf=0),"keyword";if(e.match(/^url/)&&"("===e.peek())return t.tokenizer=f,p(e)&&(t.cursorHalf=0),"atom";if("$"===i)return e.next(),e.eatWhile(/[\w-]/),p(e)&&(t.cursorHalf=0),"variable-2";if("!"===i)return e.next(),t.cursorHalf=0,e.match(/^[\w]+/)?"keyword":"operator";if(e.match(u))return p(e)&&(t.cursorHalf=0),"operator";if(e.eatWhile(/[\w-]/))return p(e)&&(t.cursorHalf=0),n=e.current().toLowerCase(),s.hasOwnProperty(n)?"atom":o.hasOwnProperty(n)?"keyword":r.hasOwnProperty(n)?(t.prevProp=e.current().toLowerCase(),"property"):"tag";if(p(e))return t.cursorHalf=0,null}else{if("-"===i&&e.match(/^-\w+-/))return"meta";if("."===i){if(e.next(),e.match(/^[\w-]+/))return g(t),"qualifier";if("#"===e.peek())return g(t),"tag"}if("#"===i){if(e.next(),e.match(/^[\w-]+/))return g(t),"builtin";if("#"===e.peek())return g(t),"tag"}if("$"===i)return e.next(),e.eatWhile(/[\w-]/),"variable-2";if(e.match(/^-?[0-9\.]+/))return"number";if(e.match(/^(px|em|in)\b/))return"unit";if(e.match(l))return"keyword";if(e.match(/^url/)&&"("===e.peek())return t.tokenizer=f,"atom";if("="===i&&e.match(/^=[\w-]+/))return g(t),"meta";if("+"===i&&e.match(/^\+[\w-]+/))return"variable-3";if("@"===i&&e.match(/@extend/)&&(e.match(/\s*[\w]/)||b(t)),e.match(/^@(else if|if|media|else|for|each|while|mixin|function)/))return g(t),"def";if("@"===i)return e.next(),e.eatWhile(/[\w-]/),"def";if(e.eatWhile(/[\w-]/)){if(e.match(/ *: *[\w-\+\$#!\("']/,!1)){n=e.current().toLowerCase();var v=t.prevProp+"-"+n;return r.hasOwnProperty(v)?"property":r.hasOwnProperty(n)?(t.prevProp=n,"property"):a.hasOwnProperty(n)?"property":"tag"}return e.match(/ *:/,!1)?(g(t),t.cursorHalf=1,t.prevProp=e.current().toLowerCase(),"property"):e.match(/ *,/,!1)?"tag":(g(t),"tag")}if(":"===i)return e.match(c)?"variable-3":(e.next(),t.cursorHalf=1,"operator")}return e.match(u)?"operator":(e.next(),null)}return{startState:function(){return{tokenizer:y,scopes:[{offset:0,type:"sass"}],indentCount:0,cursorHalf:0,definedVars:[],definedMixins:[]}},token:function(e,n){var i=function(e,n){e.sol()&&(n.indentCount=0);var i=n.tokenizer(e,n),r=e.current();if("@return"!==r&&"}"!==r||b(n),null!==i){for(var o=e.pos-r.length,s=o+t.indentUnit*n.indentCount,a=[],l=0;l<n.scopes.length;l++){var u=n.scopes[l];u.offset<=s&&a.push(u)}n.scopes=a}return i}(e,n);return n.lastToken={style:i,content:e.current()},i},indent:function(e){return e.scopes[0].offset}}},"css"),e.defineMIME("text/x-sass","sass")}(n(8),n(55))},function(e,t,n){!function(e){"use strict";e.defineMode("scheme",function(){function e(e){for(var t={},n=e.split(" "),i=0;i<n.length;++i)t[n[i]]=!0;return t}var t=e("λ case-lambda call/cc class define-class exit-handler field import inherit init-field interface let*-values let-values let/ec mixin opt-lambda override protect provide public rename require require-for-syntax syntax syntax-case syntax-error unit/sig unless when with-syntax and begin call-with-current-continuation call-with-input-file call-with-output-file case cond define define-syntax delay do dynamic-wind else for-each if lambda let let* let-syntax letrec letrec-syntax map or syntax-rules abs acos angle append apply asin assoc assq assv atan boolean? caar cadr call-with-input-file call-with-output-file call-with-values car cdddar cddddr cdr ceiling char->integer char-alphabetic? char-ci<=? char-ci<? char-ci=? char-ci>=? char-ci>? char-downcase char-lower-case? char-numeric? char-ready? char-upcase char-upper-case? char-whitespace? char<=? char<? char=? char>=? char>? char? close-input-port close-output-port complex? cons cos current-input-port current-output-port denominator display eof-object? eq? equal? eqv? eval even? exact->inexact exact? exp expt #f floor force gcd imag-part inexact->exact inexact? input-port? integer->char integer? interaction-environment lcm length list list->string list->vector list-ref list-tail list? load log magnitude make-polar make-rectangular make-string make-vector max member memq memv min modulo negative? newline not null-environment null? number->string number? numerator odd? open-input-file open-output-file output-port? pair? peek-char port? positive? procedure? quasiquote quote quotient rational? rationalize read read-char real-part real? remainder reverse round scheme-report-environment set! set-car! set-cdr! sin sqrt string string->list string->number string->symbol string-append string-ci<=? string-ci<? string-ci=? string-ci>=? string-ci>? string-copy string-fill! string-length string-ref string-set! string<=? string<? string=? string>=? string>? string? substring symbol->string symbol? #t tan transcript-off transcript-on truncate values vector vector->list vector-fill! vector-length vector-ref vector-set! with-input-from-file with-output-to-file write write-char zero?"),n=e("define let letrec let* lambda");function i(e,t,n){this.indent=e,this.type=t,this.prev=n}function r(e,t,n){e.indentStack=new i(t,n,e.indentStack)}var o=new RegExp(/^(?:[-+]i|[-+][01]+#*(?:\/[01]+#*)?i|[-+]?[01]+#*(?:\/[01]+#*)?@[-+]?[01]+#*(?:\/[01]+#*)?|[-+]?[01]+#*(?:\/[01]+#*)?[-+](?:[01]+#*(?:\/[01]+#*)?)?i|[-+]?[01]+#*(?:\/[01]+#*)?)(?=[()\s;"]|$)/i),s=new RegExp(/^(?:[-+]i|[-+][0-7]+#*(?:\/[0-7]+#*)?i|[-+]?[0-7]+#*(?:\/[0-7]+#*)?@[-+]?[0-7]+#*(?:\/[0-7]+#*)?|[-+]?[0-7]+#*(?:\/[0-7]+#*)?[-+](?:[0-7]+#*(?:\/[0-7]+#*)?)?i|[-+]?[0-7]+#*(?:\/[0-7]+#*)?)(?=[()\s;"]|$)/i),a=new RegExp(/^(?:[-+]i|[-+][\da-f]+#*(?:\/[\da-f]+#*)?i|[-+]?[\da-f]+#*(?:\/[\da-f]+#*)?@[-+]?[\da-f]+#*(?:\/[\da-f]+#*)?|[-+]?[\da-f]+#*(?:\/[\da-f]+#*)?[-+](?:[\da-f]+#*(?:\/[\da-f]+#*)?)?i|[-+]?[\da-f]+#*(?:\/[\da-f]+#*)?)(?=[()\s;"]|$)/i),l=new RegExp(/^(?:[-+]i|[-+](?:(?:(?:\d+#+\.?#*|\d+\.\d*#*|\.\d+#*|\d+)(?:[esfdl][-+]?\d+)?)|\d+#*\/\d+#*)i|[-+]?(?:(?:(?:\d+#+\.?#*|\d+\.\d*#*|\.\d+#*|\d+)(?:[esfdl][-+]?\d+)?)|\d+#*\/\d+#*)@[-+]?(?:(?:(?:\d+#+\.?#*|\d+\.\d*#*|\.\d+#*|\d+)(?:[esfdl][-+]?\d+)?)|\d+#*\/\d+#*)|[-+]?(?:(?:(?:\d+#+\.?#*|\d+\.\d*#*|\.\d+#*|\d+)(?:[esfdl][-+]?\d+)?)|\d+#*\/\d+#*)[-+](?:(?:(?:\d+#+\.?#*|\d+\.\d*#*|\.\d+#*|\d+)(?:[esfdl][-+]?\d+)?)|\d+#*\/\d+#*)?i|(?:(?:(?:\d+#+\.?#*|\d+\.\d*#*|\.\d+#*|\d+)(?:[esfdl][-+]?\d+)?)|\d+#*\/\d+#*))(?=[()\s;"]|$)/i);function u(e){return e.match(o)}function c(e){return e.match(s)}function p(e,t){return!0===t&&e.backUp(1),e.match(l)}function f(e){return e.match(a)}return{startState:function(){return{indentStack:null,indentation:0,mode:!1,sExprComment:!1,sExprQuote:!1}},token:function(e,i){if(null==i.indentStack&&e.sol()&&(i.indentation=e.indentation()),e.eatSpace())return null;var o=null;switch(i.mode){case"string":for(var s=!1;null!=(a=e.next());){if('"'==a&&!s){i.mode=!1;break}s=!s&&"\\"==a}o="string";break;case"comment":for(var a,l=!1;null!=(a=e.next());){if("#"==a&&l){i.mode=!1;break}l="|"==a}o="comment";break;case"s-expr-comment":if(i.mode=!1,"("!=e.peek()&&"["!=e.peek()){e.eatWhile(/[^\s\(\)\[\]]/),o="comment";break}i.sExprComment=0;default:var d=e.next();if('"'==d)i.mode="string",o="string";else if("'"==d)"("==e.peek()||"["==e.peek()?("number"!=typeof i.sExprQuote&&(i.sExprQuote=0),o="atom"):(e.eatWhile(/[\w_\-!$%&*+\.\/:<=>?@\^~]/),o="atom");else if("#"==d)if(e.eat("|"))i.mode="comment",o="comment";else if(e.eat(/[tf]/i))o="atom";else if(e.eat(";"))i.mode="s-expr-comment",o="comment";else{var h=null,m=!1,g=!0;e.eat(/[ei]/i)?m=!0:e.backUp(1),e.match(/^#b/i)?h=u:e.match(/^#o/i)?h=c:e.match(/^#x/i)?h=f:e.match(/^#d/i)?h=p:e.match(/^[-+0-9.]/,!1)?(g=!1,h=p):m||e.eat("#"),null!=h&&(g&&!m&&e.match(/^#[ei]/i),h(e)&&(o="number"))}else if(/^[-+0-9.]/.test(d)&&p(e,!0))o="number";else if(";"==d)e.skipToEnd(),o="comment";else if("("==d||"["==d){for(var b,y="",v=e.column();null!=(b=e.eat(/[^\s\(\[\;\)\]]/));)y+=b;y.length>0&&n.propertyIsEnumerable(y)?r(i,v+2,d):(e.eatSpace(),e.eol()||";"==e.peek()?r(i,v+1,d):r(i,v+e.current().length,d)),e.backUp(e.current().length-1),"number"==typeof i.sExprComment&&i.sExprComment++,"number"==typeof i.sExprQuote&&i.sExprQuote++,o="bracket"}else")"==d||"]"==d?(o="bracket",null!=i.indentStack&&i.indentStack.type==(")"==d?"(":"[")&&(function(e){e.indentStack=e.indentStack.prev}(i),"number"==typeof i.sExprComment&&0==--i.sExprComment&&(o="comment",i.sExprComment=!1),"number"==typeof i.sExprQuote&&0==--i.sExprQuote&&(o="atom",i.sExprQuote=!1))):(e.eatWhile(/[\w_\-!$%&*+\.\/:<=>?@\^~]/),o=t&&t.propertyIsEnumerable(e.current())?"builtin":"variable")}return"number"==typeof i.sExprComment?"comment":"number"==typeof i.sExprQuote?"atom":o},indent:function(e){return null==e.indentStack?e.indentation:e.indentStack.indent},closeBrackets:{pairs:'()[]{}""'},lineComment:";;"}}),e.defineMIME("text/x-scheme","scheme")}(n(8))},function(e,t,n){!function(e){"use strict";e.defineMode("shell",function(){var t={};function n(e,n){for(var i=0;i<n.length;i++)t[n[i]]=e}var i=["true","false"],r=["if","then","do","else","elif","while","until","for","in","esac","fi","fin","fil","done","exit","set","unset","export","function"],o=["ab","awk","bash","beep","cat","cc","cd","chown","chmod","chroot","clear","cp","curl","cut","diff","echo","find","gawk","gcc","get","git","grep","hg","kill","killall","ln","ls","make","mkdir","openssl","mv","nc","nl","node","npm","ping","ps","restart","rm","rmdir","sed","service","sh","shopt","shred","source","sort","sleep","ssh","start","stop","su","sudo","svn","tee","telnet","top","touch","vi","vim","wall","wc","wget","who","write","yes","zsh"];function s(e,t){var n="("==e?")":"{"==e?"}":e;return function(i,r){for(var o,c=!1;null!=(o=i.next());){if(o===n&&!c){r.tokens.shift();break}if("$"===o&&!c&&"'"!==e&&i.peek()!=n){c=!0,i.backUp(1),r.tokens.unshift(l);break}if(!c&&e!==n&&o===e)return r.tokens.unshift(s(e,t)),u(i,r);if(!c&&/['"]/.test(o)&&!/['"]/.test(e)){r.tokens.unshift(a(o,"string")),i.backUp(1);break}c=!c&&"\\"===o}return t}}function a(e,t){return function(n,i){return i.tokens[0]=s(e,t),n.next(),u(n,i)}}e.registerHelper("hintWords","shell",i.concat(r,o)),n("atom",i),n("keyword",r),n("builtin",o);var l=function(e,t){t.tokens.length>1&&e.eat("$");var n=e.next();return/['"({]/.test(n)?(t.tokens[0]=s(n,"("==n?"quote":"{"==n?"def":"string"),u(e,t)):(/\d/.test(n)||e.eatWhile(/\w/),t.tokens.shift(),"def")};function u(e,n){return(n.tokens[0]||function(e,n){if(e.eatSpace())return null;var i=e.sol(),r=e.next();if("\\"===r)return e.next(),null;if("'"===r||'"'===r||"`"===r)return n.tokens.unshift(s(r,"`"===r?"quote":"string")),u(e,n);if("#"===r)return i&&e.eat("!")?(e.skipToEnd(),"meta"):(e.skipToEnd(),"comment");if("$"===r)return n.tokens.unshift(l),u(e,n);if("+"===r||"="===r)return"operator";if("-"===r)return e.eat("-"),e.eatWhile(/\w/),"attribute";if(/\d/.test(r)&&(e.eatWhile(/\d/),e.eol()||!/\w/.test(e.peek())))return"number";e.eatWhile(/[\w-]/);var o=e.current();return"="===e.peek()&&/\w+/.test(o)?"def":t.hasOwnProperty(o)?t[o]:null})(e,n)}return{startState:function(){return{tokens:[]}},token:function(e,t){return u(e,t)},closeBrackets:"()[]{}''\"\"``",lineComment:"#",fold:"brace"}}),e.defineMIME("text/x-sh","shell"),e.defineMIME("application/x-sh","shell")}(n(8))},function(e,t,n){!function(e){"use strict";function t(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return t}var n=t(["_","var","let","class","enum","extension","import","protocol","struct","func","typealias","associatedtype","open","public","internal","fileprivate","private","deinit","init","new","override","self","subscript","super","convenience","dynamic","final","indirect","lazy","required","static","unowned","unowned(safe)","unowned(unsafe)","weak","as","is","break","case","continue","default","else","fallthrough","for","guard","if","in","repeat","switch","where","while","defer","return","inout","mutating","nonmutating","catch","do","rethrows","throw","throws","try","didSet","get","set","willSet","assignment","associativity","infix","left","none","operator","postfix","precedence","precedencegroup","prefix","right","Any","AnyObject","Type","dynamicType","Self","Protocol","__COLUMN__","__FILE__","__FUNCTION__","__LINE__"]),i=t(["var","let","class","enum","extension","import","protocol","struct","func","typealias","associatedtype","for"]),r=t(["true","false","nil","self","super","_"]),o=t(["Array","Bool","Character","Dictionary","Double","Float","Int","Int8","Int16","Int32","Int64","Never","Optional","Set","String","UInt8","UInt16","UInt32","UInt64","Void"]),s="+-/*%=|&<>~^?!",a=":;,.(){}[]",l=/^\-?0b[01][01_]*/,u=/^\-?0o[0-7][0-7_]*/,c=/^\-?0x[\dA-Fa-f][\dA-Fa-f_]*(?:(?:\.[\dA-Fa-f][\dA-Fa-f_]*)?[Pp]\-?\d[\d_]*)?/,p=/^\-?\d[\d_]*(?:\.\d[\d_]*)?(?:[Ee]\-?\d[\d_]*)?/,f=/^\$\d+|(`?)[_A-Za-z][_A-Za-z$0-9]*\1/,d=/^\.(?:\$\d+|(`?)[_A-Za-z][_A-Za-z$0-9]*\1)/,h=/^\#[A-Za-z]+/,m=/^@(?:\$\d+|(`?)[_A-Za-z][_A-Za-z$0-9]*\1)/;function g(e,t,g){if(e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;var v,_,x=e.peek();if("/"==x){if(e.match("//"))return e.skipToEnd(),"comment";if(e.match("/*"))return t.tokenize.push(y),y(e,t)}if(e.match(h))return"builtin";if(e.match(m))return"attribute";if(e.match(l))return"number";if(e.match(u))return"number";if(e.match(c))return"number";if(e.match(p))return"number";if(e.match(d))return"property";if(s.indexOf(x)>-1)return e.next(),"operator";if(a.indexOf(x)>-1)return e.next(),e.match(".."),"punctuation";if(x=e.match(/("{3}|"|')/)){var w=(v=x[0],_=1==v.length,function(e,t){for(var n,i=!1;n=e.next();)if(i){if("("==n)return t.tokenize.push(b()),"string";i=!1}else{if(e.match(v))return t.tokenize.pop(),"string";i="\\"==n}return _&&t.tokenize.pop(),"string"});return t.tokenize.push(w),w(e,t)}if(e.match(f)){var k=e.current();return o.hasOwnProperty(k)?"variable-2":r.hasOwnProperty(k)?"atom":n.hasOwnProperty(k)?(i.hasOwnProperty(k)&&(t.prev="define"),"keyword"):"define"==g?"def":"variable"}return e.next(),null}function b(){var e=0;return function(t,n,i){var r=g(t,n,i);if("punctuation"==r)if("("==t.current())++e;else if(")"==t.current()){if(0==e)return t.backUp(1),n.tokenize.pop(),n.tokenize[n.tokenize.length-1](t,n);--e}return r}}function y(e,t){for(var n;e.match(/^[^\/*]+/,!0),n=e.next();)"/"===n&&e.eat("*")?t.tokenize.push(y):"*"===n&&e.eat("/")&&t.tokenize.pop();return"comment"}function v(e,t,n){this.prev=e,this.align=t,this.indented=n}e.defineMode("swift",function(e){return{startState:function(){return{prev:null,context:null,indented:0,tokenize:[]}},token:function(e,t){var n=t.prev;t.prev=null;var i=t.tokenize[t.tokenize.length-1]||g,r=i(e,t,n);if(r&&"comment"!=r?t.prev||(t.prev=r):t.prev=n,"punctuation"==r){var o=/[\(\[\{]|([\]\)\}])/.exec(e.current());o&&(o[1]?function(e){e.context&&(e.indented=e.context.indented,e.context=e.context.prev)}:function(e,t){var n=t.match(/^\s*($|\/[\/\*])/,!1)?null:t.column()+1;e.context=new v(e.context,n,e.indented)})(t,e)}return r},indent:function(t,n){var i=t.context;if(!i)return 0;var r=/^[\]\}\)]/.test(n);return null!=i.align?i.align-(r?1:0):i.indented+(r?0:e.indentUnit)},electricInput:/^\s*[\)\}\]]$/,lineComment:"//",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace",closeBrackets:"()[]{}''\"\"``"}}),e.defineMIME("text/x-swift","swift")}(n(8))},function(e,t,n){!function(e){"use strict";e.defineMode("vbscript",function(e,t){var n="error";function i(e){return new RegExp("^(("+e.join(")|(")+"))\\b","i")}var r=new RegExp("^[\\+\\-\\*/&\\\\\\^<>=]"),o=new RegExp("^((<>)|(<=)|(>=))"),s=new RegExp("^[\\.,]"),a=new RegExp("^[\\(\\)]"),l=new RegExp("^[A-Za-z][_A-Za-z0-9]*"),u=i(["and","or","not","xor","is","mod","eqv","imp"]),c=["WScript","err","debug","RegExp"],p=["clear","execute","raise","replace","test","write","writeline","close","open","state","eof","update","addnew","end","createobject","quit"].concat(["description","firstindex","global","helpcontext","helpfile","ignorecase","length","number","pattern","source","value","count"]);c=c.concat(["vbBlack","vbRed","vbGreen","vbYellow","vbBlue","vbMagenta","vbCyan","vbWhite","vbBinaryCompare","vbTextCompare","vbSunday","vbMonday","vbTuesday","vbWednesday","vbThursday","vbFriday","vbSaturday","vbUseSystemDayOfWeek","vbFirstJan1","vbFirstFourDays","vbFirstFullWeek","vbGeneralDate","vbLongDate","vbShortDate","vbLongTime","vbShortTime","vbObjectError","vbOKOnly","vbOKCancel","vbAbortRetryIgnore","vbYesNoCancel","vbYesNo","vbRetryCancel","vbCritical","vbQuestion","vbExclamation","vbInformation","vbDefaultButton1","vbDefaultButton2","vbDefaultButton3","vbDefaultButton4","vbApplicationModal","vbSystemModal","vbOK","vbCancel","vbAbort","vbRetry","vbIgnore","vbYes","vbNo","vbCr","VbCrLf","vbFormFeed","vbLf","vbNewLine","vbNullChar","vbNullString","vbTab","vbVerticalTab","vbUseDefault","vbTrue","vbFalse","vbEmpty","vbNull","vbInteger","vbLong","vbSingle","vbDouble","vbCurrency","vbDate","vbString","vbObject","vbError","vbBoolean","vbVariant","vbDataObject","vbDecimal","vbByte","vbArray"]),e.isASP&&(c=c.concat(["server","response","request","session","application"]),p=p.concat(["addheader","appendtolog","binarywrite","end","flush","redirect","binaryread","remove","removeall","lock","unlock","abandon","getlasterror","htmlencode","mappath","transfer","urlencode"],["buffer","cachecontrol","charset","contenttype","expires","expiresabsolute","isclientconnected","pics","status","clientcertificate","cookies","form","querystring","servervariables","totalbytes","contents","staticobjects","codepage","lcid","sessionid","timeout","scripttimeout"]));var f=i(["dim","redim","then","until","randomize","byval","byref","new","property","exit","in","const","private","public","get","set","let","stop","on error resume next","on error goto 0","option explicit","call","me"]),d=i(["true","false","nothing","empty","null"]),h=i(["abs","array","asc","atn","cbool","cbyte","ccur","cdate","cdbl","chr","cint","clng","cos","csng","cstr","date","dateadd","datediff","datepart","dateserial","datevalue","day","escape","eval","execute","exp","filter","formatcurrency","formatdatetime","formatnumber","formatpercent","getlocale","getobject","getref","hex","hour","inputbox","instr","instrrev","int","fix","isarray","isdate","isempty","isnull","isnumeric","isobject","join","lbound","lcase","left","len","loadpicture","log","ltrim","rtrim","trim","maths","mid","minute","month","monthname","msgbox","now","oct","replace","rgb","right","rnd","round","scriptengine","scriptenginebuildversion","scriptenginemajorversion","scriptengineminorversion","second","setlocale","sgn","sin","space","split","sqr","strcomp","string","strreverse","tan","time","timer","timeserial","timevalue","typename","ubound","ucase","unescape","vartype","weekday","weekdayname","year"]),m=i(c),g=i(p),b='"',y=i(["class","sub","select","while","if","function","property","with","for"]),v=i(["else","elseif","case"]),_=i(["next","loop","wend"]),x=i(["end"]),w=i(["do"]),k=i(["on error resume next","exit"]),S=i(["rem"]);function C(e,t){t.currentIndent++}function E(e,t){t.currentIndent--}function T(e,i){if(e.eatSpace())return"space";var c,p,A=e.peek();if("'"===A)return e.skipToEnd(),"comment";if(e.match(S))return e.skipToEnd(),"comment";if(e.match(/^((&H)|(&O))?[0-9\.]/i,!1)&&!e.match(/^((&H)|(&O))?[0-9\.]+[a-z_]/i,!1)){var N=!1;if(e.match(/^\d*\.\d+/i)?N=!0:e.match(/^\d+\.\d*/)?N=!0:e.match(/^\.\d+/)&&(N=!0),N)return e.eat(/J/i),"number";var M=!1;if(e.match(/^&H[0-9a-f]+/i)?M=!0:e.match(/^&O[0-7]+/i)?M=!0:e.match(/^[1-9]\d*F?/)?(e.eat(/J/i),M=!0):e.match(/^0(?![\dx])/i)&&(M=!0),M)return e.eat(/L/i),"number"}return e.match(b)?(i.tokenize=(c=e.current(),p=1==c.length,function(e,i){for(;!e.eol();){if(e.eatWhile(/[^'"]/),e.match(c))return i.tokenize=T,"string";e.eat(/['"]/)}if(p){if(t.singleLineStringErrors)return n;i.tokenize=T}return"string"}),i.tokenize(e,i)):e.match(o)||e.match(r)||e.match(u)?"operator":e.match(s)?null:e.match(a)?"bracket":e.match(k)?(i.doInCurrentLine=!0,"keyword"):e.match(w)?(C(0,i),i.doInCurrentLine=!0,"keyword"):e.match(y)?(i.doInCurrentLine?i.doInCurrentLine=!1:C(0,i),"keyword"):e.match(v)?"keyword":e.match(x)?(E(0,i),E(0,i),"keyword"):e.match(_)?(i.doInCurrentLine?i.doInCurrentLine=!1:E(0,i),"keyword"):e.match(f)?"keyword":e.match(d)?"atom":e.match(g)?"variable-2":e.match(h)?"builtin":e.match(m)?"variable-2":e.match(l)?"variable":(e.next(),n)}var A={electricChars:"dDpPtTfFeE ",startState:function(){return{tokenize:T,lastToken:null,currentIndent:0,nextLineIndent:0,doInCurrentLine:!1,ignoreKeyword:!1}},token:function(e,t){e.sol()&&(t.currentIndent+=t.nextLineIndent,t.nextLineIndent=0,t.doInCurrentLine=0);var i=function(e,t){var i=t.tokenize(e,t),r=e.current();return"."===r?(i=t.tokenize(e,t),r=e.current(),!i||"variable"!==i.substr(0,8)&&"builtin"!==i&&"keyword"!==i?n:("builtin"!==i&&"keyword"!==i||(i="variable"),p.indexOf(r.substr(1))>-1&&(i="variable-2"),i)):i}(e,t);return t.lastToken={style:i,content:e.current()},"space"===i&&(i=null),i},indent:function(t,n){var i=n.replace(/^\s+|\s+$/g,"");return i.match(_)||i.match(x)||i.match(v)?e.indentUnit*(t.currentIndent-1):t.currentIndent<0?0:t.currentIndent*e.indentUnit}};return A}),e.defineMIME("text/vbscript","vbscript")}(n(8))},function(e,t,n){!function(e){"use strict";function t(e){for(var t={},n=e.split(","),i=0;i<n.length;++i){var r=n[i].toUpperCase(),o=n[i].charAt(0).toUpperCase()+n[i].slice(1);t[n[i]]=!0,t[r]=!0,t[o]=!0}return t}function n(e){return e.eatWhile(/[\w\$_]/),"meta"}e.defineMode("vhdl",function(e,i){var r,o=e.indentUnit,s=i.atoms||t("null"),a=i.hooks||{"`":n,$:n},l=i.multiLineStrings,u=t("abs,access,after,alias,all,and,architecture,array,assert,attribute,begin,block,body,buffer,bus,case,component,configuration,constant,disconnect,downto,else,elsif,end,end block,end case,end component,end for,end generate,end if,end loop,end process,end record,end units,entity,exit,file,for,function,generate,generic,generic map,group,guarded,if,impure,in,inertial,inout,is,label,library,linkage,literal,loop,map,mod,nand,new,next,nor,null,of,on,open,or,others,out,package,package body,port,port map,postponed,procedure,process,pure,range,record,register,reject,rem,report,return,rol,ror,select,severity,signal,sla,sll,sra,srl,subtype,then,to,transport,type,unaffected,units,until,use,variable,wait,when,while,with,xnor,xor"),c=t("architecture,entity,begin,case,port,else,elsif,end,for,function,if"),p=/[&|~><!\)\(*#%@+\/=?\:;}{,\.\^\-\[\]]/;function f(e,t){var n,i=e.next();if(a[i]){var o=a[i](e,t);if(!1!==o)return o}if('"'==i)return t.tokenize=(n=i,function(e,t){for(var i,r=!1,o=!1;null!=(i=e.next());){if(i==n&&!r){o=!0;break}r=!r&&"--"==i}return(o||!r&&!l)&&(t.tokenize=f),"string-2"}),t.tokenize(e,t);if("'"==i)return t.tokenize=function(e){return function(t,n){for(var i,r=!1,o=!1;null!=(i=t.next());){if(i==e&&!r){o=!0;break}r=!r&&"--"==i}return(o||!r&&!l)&&(n.tokenize=f),"string"}}(i),t.tokenize(e,t);if(/[\[\]{}\(\),;\:\.]/.test(i))return r=i,null;if(/[\d']/.test(i))return e.eatWhile(/[\w\.']/),"number";if("-"==i&&e.eat("-"))return e.skipToEnd(),"comment";if(p.test(i))return e.eatWhile(p),"operator";e.eatWhile(/[\w\$_]/);var d=e.current();return u.propertyIsEnumerable(d.toLowerCase())?(c.propertyIsEnumerable(d)&&(r="newstatement"),"keyword"):s.propertyIsEnumerable(d)?"atom":"variable"}function d(e,t,n,i,r){this.indented=e,this.column=t,this.type=n,this.align=i,this.prev=r}function h(e,t,n){return e.context=new d(e.indented,t,n,null,e.context)}function m(e){var t=e.context.type;return")"!=t&&"]"!=t&&"}"!=t||(e.indented=e.context.indented),e.context=e.context.prev}return{startState:function(e){return{tokenize:null,context:new d((e||0)-o,0,"top",!1),indented:0,startOfLine:!0}},token:function(e,t){var n=t.context;if(e.sol()&&(null==n.align&&(n.align=!1),t.indented=e.indentation(),t.startOfLine=!0),e.eatSpace())return null;r=null;var i=(t.tokenize||f)(e,t);if("comment"==i||"meta"==i)return i;if(null==n.align&&(n.align=!0),";"!=r&&":"!=r||"statement"!=n.type)if("{"==r)h(t,e.column(),"}");else if("["==r)h(t,e.column(),"]");else if("("==r)h(t,e.column(),")");else if("}"==r){for(;"statement"==n.type;)n=m(t);for("}"==n.type&&(n=m(t));"statement"==n.type;)n=m(t)}else r==n.type?m(t):("}"==n.type||"top"==n.type||"statement"==n.type&&"newstatement"==r)&&h(t,e.column(),"statement");else m(t);return t.startOfLine=!1,i},indent:function(e,t){if(e.tokenize!=f&&null!=e.tokenize)return 0;var n=t&&t.charAt(0),i=e.context,r=n==i.type;return"statement"==i.type?i.indented+("{"==n?0:o):i.align?i.column+(r?0:1):i.indented+(r?0:o)},electricChars:"{}"}}),e.defineMIME("text/x-vhdl","vhdl")}(n(8))},function(e,t,n){!function(e){"use strict";e.defineMode("yaml",function(){var e=new RegExp("\\b(("+["true","false","on","off","yes","no"].join(")|(")+"))$","i");return{token:function(t,n){var i=t.peek(),r=n.escaped;if(n.escaped=!1,"#"==i&&(0==t.pos||/\s/.test(t.string.charAt(t.pos-1))))return t.skipToEnd(),"comment";if(t.match(/^('([^']|\\.)*'?|"([^"]|\\.)*"?)/))return"string";if(n.literal&&t.indentation()>n.keyCol)return t.skipToEnd(),"string";if(n.literal&&(n.literal=!1),t.sol()){if(n.keyCol=0,n.pair=!1,n.pairStart=!1,t.match(/---/))return"def";if(t.match(/\.\.\./))return"def";if(t.match(/\s*-\s+/))return"meta"}if(t.match(/^(\{|\}|\[|\])/))return"{"==i?n.inlinePairs++:"}"==i?n.inlinePairs--:"["==i?n.inlineList++:n.inlineList--,"meta";if(n.inlineList>0&&!r&&","==i)return t.next(),"meta";if(n.inlinePairs>0&&!r&&","==i)return n.keyCol=0,n.pair=!1,n.pairStart=!1,t.next(),"meta";if(n.pairStart){if(t.match(/^\s*(\||\>)\s*/))return n.literal=!0,"meta";if(t.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i))return"variable-2";if(0==n.inlinePairs&&t.match(/^\s*-?[0-9\.\,]+\s?$/))return"number";if(n.inlinePairs>0&&t.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/))return"number";if(t.match(e))return"keyword"}return!n.pair&&t.match(/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^,\[\]{}#&*!|>'"%@`])[^#]*?(?=\s*:($|\s))/)?(n.pair=!0,n.keyCol=t.indentation(),"atom"):n.pair&&t.match(/^:\s*/)?(n.pairStart=!0,"meta"):(n.pairStart=!1,n.escaped="\\"==i,t.next(),null)},startState:function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}},lineComment:"#",fold:"indent"}}),e.defineMIME("text/x-yaml","yaml"),e.defineMIME("text/yaml","yaml")}(n(8))},function(e,t){e.exports=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}},function(e,t,n){(function(t){e.exports=t.PropTypes=n(0)}).call(this,n(12))},function(e,t,n){"use strict";var i=n(177);function r(){}e.exports=function(){function e(e,t,n,r,o,s){if(s!==i){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){(function(t){e.exports=t.React=n(1)}).call(this,n(12))},function(e,t,n){"use strict";
/** @license React v16.7.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i=n(48),r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,s=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,l=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,p=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,b="function"==typeof Symbol&&Symbol.iterator;function y(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=0;i<t;i++)n+="&args[]="+encodeURIComponent(arguments[i+1]);!function(e,t,n,i,r,o,s,a){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,i,r,o,s,a],u=0;(e=Error(t.replace(/%s/g,function(){return l[u++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_={};function x(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||v}function w(){}function k(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||v}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&y("85"),this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=x.prototype;var S=k.prototype=new w;S.constructor=k,i(S,x.prototype),S.isPureReactComponent=!0;var C={current:null,currentDispatcher:null},E=Object.prototype.hasOwnProperty,T={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,n){var i=void 0,r={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)E.call(t,i)&&!T.hasOwnProperty(i)&&(r[i]=t[i]);var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];r.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===r[i]&&(r[i]=l[i]);return{$$typeof:o,type:e,key:s,ref:a,props:r,_owner:C.current}}function N(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var M=/\/+/g,R=[];function O(e,t,n,i){if(R.length){var r=R.pop();return r.result=e,r.keyPrefix=t,r.func=n,r.context=i,r.count=0,r}return{result:e,keyPrefix:t,func:n,context:i,count:0}}function L(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>R.length&&R.push(e)}function P(e,t,n){return null==e?0:function e(t,n,i,r){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var l=!1;if(null===t)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case o:case s:l=!0}}if(l)return i(r,t,""===n?"."+D(t,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(t))for(var u=0;u<t.length;u++){var c=n+D(a=t[u],u);l+=e(a,c,i,r)}else if(c=null===t||"object"!=typeof t?null:"function"==typeof(c=b&&t[b]||t["@@iterator"])?c:null,"function"==typeof c)for(t=c.call(t),u=0;!(a=t.next()).done;)l+=e(a=a.value,c=n+D(a,u++),i,r);else"object"===a&&y("31","[object Object]"==(i=""+t)?"object with keys {"+Object.keys(t).join(", ")+"}":i,"");return l}(e,"",t,n)}function D(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function I(e,t){e.func.call(e.context,t,e.count++)}function F(e,t,n){var i=e.result,r=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?$(e,i,n,function(e){return e}):null!=e&&(N(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,r+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(M,"$&/")+"/")+n)),i.push(e))}function $(e,t,n,i,r){var o="";null!=n&&(o=(""+n).replace(M,"$&/")+"/"),P(e,F,t=O(t,o,i,r)),L(t)}var j={Children:{map:function(e,t,n){if(null==e)return e;var i=[];return $(e,i,null,t,n),i},forEach:function(e,t,n){if(null==e)return e;P(e,I,t=O(null,null,t,n)),L(t)},count:function(e){return P(e,function(){return null},null)},toArray:function(e){var t=[];return $(e,t,null,function(e){return e}),t},only:function(e){return N(e)||y("143"),e}},createRef:function(){return{current:null}},Component:x,PureComponent:k,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:p,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:d,render:e}},lazy:function(e){return{$$typeof:g,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:m,type:e,compare:void 0===t?null:t}},Fragment:a,StrictMode:l,Suspense:h,createElement:A,cloneElement:function(e,t,n){null==e&&y("267",e);var r=void 0,s=i({},e.props),a=e.key,l=e.ref,u=e._owner;if(null!=t){void 0!==t.ref&&(l=t.ref,u=C.current),void 0!==t.key&&(a=""+t.key);var c=void 0;for(r in e.type&&e.type.defaultProps&&(c=e.type.defaultProps),t)E.call(t,r)&&!T.hasOwnProperty(r)&&(s[r]=void 0===t[r]&&void 0!==c?c[r]:t[r])}if(1===(r=arguments.length-2))s.children=n;else if(1<r){c=Array(r);for(var p=0;p<r;p++)c[p]=arguments[p+2];s.children=c}return{$$typeof:o,type:e.type,key:a,ref:l,props:s,_owner:u}},createFactory:function(e){var t=A.bind(null,e);return t.type=e,t},isValidElement:N,version:"16.7.0",unstable_ConcurrentMode:f,unstable_Profiler:u,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:C,assign:i}},B={default:j},z=B&&j||B;e.exports=z.default||z},function(e,t,n){(function(t){e.exports=t.ReactDOM=n(10)}).call(this,n(12))},function(e,t,n){"use strict";
/** @license React v16.7.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i=n(1),r=n(48),o=n(182);function s(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=0;i<t;i++)n+="&args[]="+encodeURIComponent(arguments[i+1]);!function(e,t,n,i,r,o,s,a){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,i,r,o,s,a],u=0;(e=Error(t.replace(/%s/g,function(){return l[u++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}i||s("227");var a=!1,l=null,u=!1,c=null,p={onError:function(e){a=!0,l=e}};function f(e,t,n,i,r,o,s,u,c){a=!1,l=null,function(e,t,n,i,r,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}.apply(p,arguments)}var d=null,h={};function m(){if(d)for(var e in h){var t=h[e],n=d.indexOf(e);if(-1<n||s("96",e),!b[n])for(var i in t.extractEvents||s("97",e),b[n]=t,n=t.eventTypes){var r=void 0,o=n[i],a=t,l=i;y.hasOwnProperty(l)&&s("99",l),y[l]=o;var u=o.phasedRegistrationNames;if(u){for(r in u)u.hasOwnProperty(r)&&g(u[r],a,l);r=!0}else o.registrationName?(g(o.registrationName,a,l),r=!0):r=!1;r||s("98",i,e)}}}function g(e,t,n){v[e]&&s("100",e),v[e]=t,_[e]=t.eventTypes[n].dependencies}var b=[],y={},v={},_={},x=null,w=null,k=null;function S(e,t,n){var i=e.type||"unknown-event";e.currentTarget=k(n),function(e,t,n,i,r,o,p,d,h){if(f.apply(this,arguments),a){if(a){var m=l;a=!1,l=null}else s("198"),m=void 0;u||(u=!0,c=m)}}(i,t,void 0,e),e.currentTarget=null}function C(e,t){return null==t&&s("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function E(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var T=null;function A(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var i=0;i<t.length&&!e.isPropagationStopped();i++)S(e,t[i],n[i]);else t&&S(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}var N={injectEventPluginOrder:function(e){d&&s("101"),d=Array.prototype.slice.call(e),m()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var i=e[t];h.hasOwnProperty(t)&&h[t]===i||(h[t]&&s("102",t),h[t]=i,n=!0)}n&&m()}};function M(e,t){var n=e.stateNode;if(!n)return null;var i=x(n);if(!i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}return e?null:(n&&"function"!=typeof n&&s("231",t,typeof n),n)}function R(e){if(null!==e&&(T=C(T,e)),e=T,T=null,e&&(E(e,A),T&&s("95"),u))throw e=c,u=!1,c=null,e}var O=Math.random().toString(36).slice(2),L="__reactInternalInstance$"+O,P="__reactEventHandlers$"+O;function D(e){if(e[L])return e[L];for(;!e[L];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[L]).tag||6===e.tag?e:null}function I(e){return!(e=e[L])||5!==e.tag&&6!==e.tag?null:e}function F(e){if(5===e.tag||6===e.tag)return e.stateNode;s("33")}function $(e){return e[P]||null}function j(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function B(e,t,n){(t=M(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=C(n._dispatchListeners,t),n._dispatchInstances=C(n._dispatchInstances,e))}function z(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=j(t);for(t=n.length;0<t--;)B(n[t],"captured",e);for(t=0;t<n.length;t++)B(n[t],"bubbled",e)}}function q(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=M(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=C(n._dispatchListeners,t),n._dispatchInstances=C(n._dispatchInstances,e))}function H(e){e&&e.dispatchConfig.registrationName&&q(e._targetInst,null,e)}function U(e){E(e,z)}var W=!("undefined"==typeof window||!window.document||!window.document.createElement);function V(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var G={animationend:V("Animation","AnimationEnd"),animationiteration:V("Animation","AnimationIteration"),animationstart:V("Animation","AnimationStart"),transitionend:V("Transition","TransitionEnd")},K={},Y={};function X(e){if(K[e])return K[e];if(!G[e])return e;var t,n=G[e];for(t in n)if(n.hasOwnProperty(t)&&t in Y)return K[e]=n[t];return e}W&&(Y=document.createElement("div").style,"AnimationEvent"in window||(delete G.animationend.animation,delete G.animationiteration.animation,delete G.animationstart.animation),"TransitionEvent"in window||delete G.transitionend.transition);var Q=X("animationend"),Z=X("animationiteration"),J=X("animationstart"),ee=X("transitionend"),te="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ne=null,ie=null,re=null;function oe(){if(re)return re;var e,t,n=ie,i=n.length,r="value"in ne?ne.value:ne.textContent,o=r.length;for(e=0;e<i&&n[e]===r[e];e++);var s=i-e;for(t=1;t<=s&&n[i-t]===r[o-t];t++);return re=r.slice(e,1<t?1-t:void 0)}function se(){return!0}function ae(){return!1}function le(e,t,n,i){for(var r in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(r)&&((t=e[r])?this[r]=t(n):"target"===r?this.target=i:this[r]=n[r]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?se:ae,this.isPropagationStopped=ae,this}function ue(e,t,n,i){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,e,t,n,i),r}return new this(e,t,n,i)}function ce(e){e instanceof this||s("279"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function pe(e){e.eventPool=[],e.getPooled=ue,e.release=ce}r(le.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=se)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=se)},persist:function(){this.isPersistent=se},isPersistent:ae,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=ae,this._dispatchInstances=this._dispatchListeners=null}}),le.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},le.extend=function(e){function t(){}function n(){return i.apply(this,arguments)}var i=this;t.prototype=i.prototype;var o=new t;return r(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=r({},i.Interface,e),n.extend=i.extend,pe(n),n},pe(le);var fe=le.extend({data:null}),de=le.extend({data:null}),he=[9,13,27,32],me=W&&"CompositionEvent"in window,ge=null;W&&"documentMode"in document&&(ge=document.documentMode);var be=W&&"TextEvent"in window&&!ge,ye=W&&(!me||ge&&8<ge&&11>=ge),ve=String.fromCharCode(32),_e={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},xe=!1;function we(e,t){switch(e){case"keyup":return-1!==he.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function ke(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Se=!1;var Ce={eventTypes:_e,extractEvents:function(e,t,n,i){var r=void 0,o=void 0;if(me)e:{switch(e){case"compositionstart":r=_e.compositionStart;break e;case"compositionend":r=_e.compositionEnd;break e;case"compositionupdate":r=_e.compositionUpdate;break e}r=void 0}else Se?we(e,n)&&(r=_e.compositionEnd):"keydown"===e&&229===n.keyCode&&(r=_e.compositionStart);return r?(ye&&"ko"!==n.locale&&(Se||r!==_e.compositionStart?r===_e.compositionEnd&&Se&&(o=oe()):(ie="value"in(ne=i)?ne.value:ne.textContent,Se=!0)),r=fe.getPooled(r,t,n,i),o?r.data=o:null!==(o=ke(n))&&(r.data=o),U(r),o=r):o=null,(e=be?function(e,t){switch(e){case"compositionend":return ke(t);case"keypress":return 32!==t.which?null:(xe=!0,ve);case"textInput":return(e=t.data)===ve&&xe?null:e;default:return null}}(e,n):function(e,t){if(Se)return"compositionend"===e||!me&&we(e,t)?(e=oe(),re=ie=ne=null,Se=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ye&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=de.getPooled(_e.beforeInput,t,n,i)).data=e,U(t)):t=null,null===o?t:null===t?o:[o,t]}},Ee=null,Te=null,Ae=null;function Ne(e){if(e=w(e)){"function"!=typeof Ee&&s("280");var t=x(e.stateNode);Ee(e.stateNode,e.type,t)}}function Me(e){Te?Ae?Ae.push(e):Ae=[e]:Te=e}function Re(){if(Te){var e=Te,t=Ae;if(Ae=Te=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Oe(e,t){return e(t)}function Le(e,t,n){return e(t,n)}function Pe(){}var De=!1;function Ie(e,t){if(De)return e(t);De=!0;try{return Oe(e,t)}finally{De=!1,(null!==Te||null!==Ae)&&(Pe(),Re())}}var Fe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $e(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Fe[e.type]:"textarea"===t}function je(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function Be(e){if(!W)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}function ze(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function qe(e){e._valueTracker||(e._valueTracker=function(e){var t=ze(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function He(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=ze(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}var Ue=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,We=/^(.*)[\\\/]/,Ve="function"==typeof Symbol&&Symbol.for,Ge=Ve?Symbol.for("react.element"):60103,Ke=Ve?Symbol.for("react.portal"):60106,Ye=Ve?Symbol.for("react.fragment"):60107,Xe=Ve?Symbol.for("react.strict_mode"):60108,Qe=Ve?Symbol.for("react.profiler"):60114,Ze=Ve?Symbol.for("react.provider"):60109,Je=Ve?Symbol.for("react.context"):60110,et=Ve?Symbol.for("react.concurrent_mode"):60111,tt=Ve?Symbol.for("react.forward_ref"):60112,nt=Ve?Symbol.for("react.suspense"):60113,it=Ve?Symbol.for("react.memo"):60115,rt=Ve?Symbol.for("react.lazy"):60116,ot="function"==typeof Symbol&&Symbol.iterator;function st(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=ot&&e[ot]||e["@@iterator"])?e:null}function at(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case et:return"ConcurrentMode";case Ye:return"Fragment";case Ke:return"Portal";case Qe:return"Profiler";case Xe:return"StrictMode";case nt:return"Suspense"}if("object"==typeof e)switch(e.$$typeof){case Je:return"Context.Consumer";case Ze:return"Context.Provider";case tt:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case it:return at(e.type);case rt:if(e=1===e._status?e._result:null)return at(e)}return null}function lt(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var i=e._debugOwner,r=e._debugSource,o=at(e.type);n=null,i&&(n=at(i.type)),i=o,o="",r?o=" (at "+r.fileName.replace(We,"")+":"+r.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(i||"Unknown")+o}t+=n,e=e.return}while(e);return t}var ut=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ct=Object.prototype.hasOwnProperty,pt={},ft={};function dt(e,t,n,i,r){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t}var ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ht[e]=new dt(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ht[t]=new dt(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){ht[e]=new dt(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ht[e]=new dt(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ht[e]=new dt(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){ht[e]=new dt(e,3,!0,e,null)}),["capture","download"].forEach(function(e){ht[e]=new dt(e,4,!1,e,null)}),["cols","rows","size","span"].forEach(function(e){ht[e]=new dt(e,6,!1,e,null)}),["rowSpan","start"].forEach(function(e){ht[e]=new dt(e,5,!1,e.toLowerCase(),null)});var mt=/[\-:]([a-z])/g;function gt(e){return e[1].toUpperCase()}function bt(e,t,n,i){var r=ht.hasOwnProperty(t)?ht[t]:null;(null!==r?0===r.type:!i&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,i){if(null==t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!ct.call(ft,e)||!ct.call(pt,e)&&(ut.test(e)?ft[e]=!0:(pt[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}function yt(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function vt(e,t){var n=t.checked;return r({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function _t(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=yt(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function xt(e,t){null!=(t=t.checked)&&bt(e,"checked",t,!1)}function wt(e,t){xt(e,t);var n=yt(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?St(e,t.type,n):t.hasOwnProperty("defaultValue")&&St(e,t.type,yt(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function kt(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function St(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(mt,gt);ht[t]=new dt(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(mt,gt);ht[t]=new dt(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(mt,gt);ht[t]=new dt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),ht.tabIndex=new dt("tabIndex",1,!1,"tabindex",null);var Ct={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Et(e,t,n){return(e=le.getPooled(Ct.change,e,t,n)).type="change",Me(n),U(e),e}var Tt=null,At=null;function Nt(e){R(e)}function Mt(e){if(He(F(e)))return e}function Rt(e,t){if("change"===e)return t}var Ot=!1;function Lt(){Tt&&(Tt.detachEvent("onpropertychange",Pt),At=Tt=null)}function Pt(e){"value"===e.propertyName&&Mt(At)&&Ie(Nt,e=Et(At,e,je(e)))}function Dt(e,t,n){"focus"===e?(Lt(),At=n,(Tt=t).attachEvent("onpropertychange",Pt)):"blur"===e&&Lt()}function It(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Mt(At)}function Ft(e,t){if("click"===e)return Mt(t)}function $t(e,t){if("input"===e||"change"===e)return Mt(t)}W&&(Ot=Be("input")&&(!document.documentMode||9<document.documentMode));var jt={eventTypes:Ct,_isInputEventSupported:Ot,extractEvents:function(e,t,n,i){var r=t?F(t):window,o=void 0,s=void 0,a=r.nodeName&&r.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===r.type?o=Rt:$e(r)?Ot?o=$t:(o=It,s=Dt):(a=r.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===r.type||"radio"===r.type)&&(o=Ft),o&&(o=o(e,t)))return Et(o,n,i);s&&s(e,r,t),"blur"===e&&(e=r._wrapperState)&&e.controlled&&"number"===r.type&&St(r,"number",r.value)}},Bt=le.extend({view:null,detail:null}),zt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=zt[e])&&!!t[e]}function Ht(){return qt}var Ut=0,Wt=0,Vt=!1,Gt=!1,Kt=Bt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ht,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Ut;return Ut=e.screenX,Vt?"mousemove"===e.type?e.screenX-t:0:(Vt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Wt;return Wt=e.screenY,Gt?"mousemove"===e.type?e.screenY-t:0:(Gt=!0,0)}}),Yt=Kt.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Xt={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Qt={eventTypes:Xt,extractEvents:function(e,t,n,i){var r="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(r&&(n.relatedTarget||n.fromElement)||!o&&!r)return null;if(r=i.window===i?i:(r=i.ownerDocument)?r.defaultView||r.parentWindow:window,o?(o=t,t=(t=n.relatedTarget||n.toElement)?D(t):null):o=null,o===t)return null;var s=void 0,a=void 0,l=void 0,u=void 0;"mouseout"===e||"mouseover"===e?(s=Kt,a=Xt.mouseLeave,l=Xt.mouseEnter,u="mouse"):"pointerout"!==e&&"pointerover"!==e||(s=Yt,a=Xt.pointerLeave,l=Xt.pointerEnter,u="pointer");var c=null==o?r:F(o);if(r=null==t?r:F(t),(e=s.getPooled(a,o,n,i)).type=u+"leave",e.target=c,e.relatedTarget=r,(n=s.getPooled(l,t,n,i)).type=u+"enter",n.target=r,n.relatedTarget=c,i=t,o&&i)e:{for(r=i,u=0,s=t=o;s;s=j(s))u++;for(s=0,l=r;l;l=j(l))s++;for(;0<u-s;)t=j(t),u--;for(;0<s-u;)r=j(r),s--;for(;u--;){if(t===r||t===r.alternate)break e;t=j(t),r=j(r)}t=null}else t=null;for(r=t,t=[];o&&o!==r&&(null===(u=o.alternate)||u!==r);)t.push(o),o=j(o);for(o=[];i&&i!==r&&(null===(u=i.alternate)||u!==r);)o.push(i),i=j(i);for(i=0;i<t.length;i++)q(t[i],"bubbled",e);for(i=o.length;0<i--;)q(o[i],"captured",n);return[e,n]}},Zt=Object.prototype.hasOwnProperty;function Jt(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function en(e,t){if(Jt(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!Zt.call(t,n[i])||!Jt(e[n[i]],t[n[i]]))return!1;return!0}function tn(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!=(2&t.effectTag))return 1;for(;t.return;)if(0!=(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function nn(e){2!==tn(e)&&s("188")}function rn(e){if(!(e=function(e){var t=e.alternate;if(!t)return 3===(t=tn(e))&&s("188"),1===t?null:e;for(var n=e,i=t;;){var r=n.return,o=r?r.alternate:null;if(!r||!o)break;if(r.child===o.child){for(var a=r.child;a;){if(a===n)return nn(r),e;if(a===i)return nn(r),t;a=a.sibling}s("188")}if(n.return!==i.return)n=r,i=o;else{a=!1;for(var l=r.child;l;){if(l===n){a=!0,n=r,i=o;break}if(l===i){a=!0,i=r,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,i=r;break}if(l===i){a=!0,i=o,n=r;break}l=l.sibling}a||s("189")}}n.alternate!==i&&s("190")}return 3!==n.tag&&s("188"),n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var on=le.extend({animationName:null,elapsedTime:null,pseudoElement:null}),sn=le.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),an=Bt.extend({relatedTarget:null});function ln(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pn=Bt.extend({key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ln(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?cn[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ht,charCode:function(e){return"keypress"===e.type?ln(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ln(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),fn=Kt.extend({dataTransfer:null}),dn=Bt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ht}),hn=le.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),mn=Kt.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),gn=[["abort","abort"],[Q,"animationEnd"],[Z,"animationIteration"],[J,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[ee,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],bn={},yn={};function vn(e,t){var n=e[0],i="on"+((e=e[1])[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:i,captured:i+"Capture"},dependencies:[n],isInteractive:t},bn[e]=t,yn[n]=t}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(e){vn(e,!0)}),gn.forEach(function(e){vn(e,!1)});var _n={eventTypes:bn,isInteractiveTopLevelEventType:function(e){return void 0!==(e=yn[e])&&!0===e.isInteractive},extractEvents:function(e,t,n,i){var r=yn[e];if(!r)return null;switch(e){case"keypress":if(0===ln(n))return null;case"keydown":case"keyup":e=pn;break;case"blur":case"focus":e=an;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Kt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=dn;break;case Q:case Z:case J:e=on;break;case ee:e=hn;break;case"scroll":e=Bt;break;case"wheel":e=mn;break;case"copy":case"cut":case"paste":e=sn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Yt;break;default:e=le}return U(t=e.getPooled(r,t,n,i)),t}},xn=_n.isInteractiveTopLevelEventType,wn=[];function kn(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var i;for(i=n;i.return;)i=i.return;if(!(i=3!==i.tag?null:i.stateNode.containerInfo))break;e.ancestors.push(n),n=D(i)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var r=je(e.nativeEvent);i=e.topLevelType;for(var o=e.nativeEvent,s=null,a=0;a<b.length;a++){var l=b[a];l&&(l=l.extractEvents(i,t,o,r))&&(s=C(s,l))}R(s)}}var Sn=!0;function Cn(e,t){if(!t)return null;var n=(xn(e)?Tn:An).bind(null,e);t.addEventListener(e,n,!1)}function En(e,t){if(!t)return null;var n=(xn(e)?Tn:An).bind(null,e);t.addEventListener(e,n,!0)}function Tn(e,t){Le(An,e,t)}function An(e,t){if(Sn){var n=je(t);if(null===(n=D(n))||"number"!=typeof n.tag||2===tn(n)||(n=null),wn.length){var i=wn.pop();i.topLevelType=e,i.nativeEvent=t,i.targetInst=n,e=i}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{Ie(kn,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>wn.length&&wn.push(e)}}}var Nn={},Mn=0,Rn="_reactListenersID"+(""+Math.random()).slice(2);function On(e){return Object.prototype.hasOwnProperty.call(e,Rn)||(e[Rn]=Mn++,Nn[e[Rn]]={}),Nn[e[Rn]]}function Ln(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Pn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dn(e,t){var n,i=Pn(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Pn(i)}}function In(){for(var e=window,t=Ln();t instanceof e.HTMLIFrameElement;){try{e=t.contentDocument.defaultView}catch(e){break}t=Ln(e.document)}return t}function Fn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var $n=W&&"documentMode"in document&&11>=document.documentMode,jn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Bn=null,zn=null,qn=null,Hn=!1;function Un(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Hn||null==Bn||Bn!==Ln(n)?null:("selectionStart"in(n=Bn)&&Fn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},qn&&en(qn,n)?null:(qn=n,(e=le.getPooled(jn.select,zn,e,t)).type="select",e.target=Bn,U(e),e))}var Wn={eventTypes:jn,extractEvents:function(e,t,n,i){var r,o=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument;if(!(r=!o)){e:{o=On(o),r=_.onSelect;for(var s=0;s<r.length;s++){var a=r[s];if(!o.hasOwnProperty(a)||!o[a]){o=!1;break e}}o=!0}r=!o}if(r)return null;switch(o=t?F(t):window,e){case"focus":($e(o)||"true"===o.contentEditable)&&(Bn=o,zn=t,qn=null);break;case"blur":qn=zn=Bn=null;break;case"mousedown":Hn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Hn=!1,Un(n,i);case"selectionchange":if($n)break;case"keydown":case"keyup":return Un(n,i)}return null}};function Vn(e,t){return e=r({children:void 0},t),(t=function(e){var t="";return i.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(t.children))&&(e.children=t),e}function Gn(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+yt(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function Kn(e,t){return null!=t.dangerouslySetInnerHTML&&s("91"),r({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Yn(e,t){var n=t.value;null==n&&(n=t.defaultValue,null!=(t=t.children)&&(null!=n&&s("92"),Array.isArray(t)&&(1>=t.length||s("93"),t=t[0]),n=t),null==n&&(n="")),e._wrapperState={initialValue:yt(n)}}function Xn(e,t){var n=yt(t.value),i=yt(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function Qn(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}N.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),x=$,w=I,k=F,N.injectEventPluginsByName({SimpleEventPlugin:_n,EnterLeaveEventPlugin:Qt,ChangeEventPlugin:jt,SelectEventPlugin:Wn,BeforeInputEventPlugin:Ce});var Zn={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Jn(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ei(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Jn(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ti,ni=void 0,ii=(ti=function(e,t){if(e.namespaceURI!==Zn.svg||"innerHTML"in e)e.innerHTML=t;else{for((ni=ni||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=ni.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction(function(){return ti(e,t)})}:ti);function ri(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var oi={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},si=["Webkit","ms","Moz","O"];function ai(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||oi.hasOwnProperty(e)&&oi[e]?(""+t).trim():t+"px"}function li(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=ai(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(oi).forEach(function(e){si.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),oi[t]=oi[e]})});var ui=r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ci(e,t){t&&(ui[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&s("137",e,""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&s("60"),"object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||s("61")),null!=t.style&&"object"!=typeof t.style&&s("62",""))}function pi(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function fi(e,t){var n=On(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=_[t];for(var i=0;i<t.length;i++){var r=t[i];if(!n.hasOwnProperty(r)||!n[r]){switch(r){case"scroll":En("scroll",e);break;case"focus":case"blur":En("focus",e),En("blur",e),n.blur=!0,n.focus=!0;break;case"cancel":case"close":Be(r)&&En(r,e);break;case"invalid":case"submit":case"reset":break;default:-1===te.indexOf(r)&&Cn(r,e)}n[r]=!0}}}function di(){}var hi=null,mi=null;function gi(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function bi(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var yi="function"==typeof setTimeout?setTimeout:void 0,vi="function"==typeof clearTimeout?clearTimeout:void 0;function _i(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function xi(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}new Set;var wi=[],ki=-1;function Si(e){0>ki||(e.current=wi[ki],wi[ki]=null,ki--)}function Ci(e,t){wi[++ki]=e.current,e.current=t}var Ei={},Ti={current:Ei},Ai={current:!1},Ni=Ei;function Mi(e,t){var n=e.type.contextTypes;if(!n)return Ei;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ri(e){return null!=(e=e.childContextTypes)}function Oi(e){Si(Ai),Si(Ti)}function Li(e){Si(Ai),Si(Ti)}function Pi(e,t,n){Ti.current!==Ei&&s("168"),Ci(Ti,t),Ci(Ai,n)}function Di(e,t,n){var i=e.stateNode;if(e=t.childContextTypes,"function"!=typeof i.getChildContext)return n;for(var o in i=i.getChildContext())o in e||s("108",at(t)||"Unknown",o);return r({},n,i)}function Ii(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||Ei,Ni=Ti.current,Ci(Ti,t),Ci(Ai,Ai.current),!0}function Fi(e,t,n){var i=e.stateNode;i||s("169"),n?(t=Di(e,t,Ni),i.__reactInternalMemoizedMergedChildContext=t,Si(Ai),Si(Ti),Ci(Ti,t)):Si(Ai),Ci(Ai,n)}var $i=null,ji=null;function Bi(e){return function(t){try{return e(t)}catch(e){}}}function zi(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.firstContextDependency=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function qi(e,t,n,i){return new zi(e,t,n,i)}function Hi(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ui(e,t){var n=e.alternate;return null===n?((n=qi(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,n.firstContextDependency=e.firstContextDependency,n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wi(e,t,n,i,r,o){var a=2;if(i=e,"function"==typeof e)Hi(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case Ye:return Vi(n.children,r,o,t);case et:return Gi(n,3|r,o,t);case Xe:return Gi(n,2|r,o,t);case Qe:return(e=qi(12,n,t,4|r)).elementType=Qe,e.type=Qe,e.expirationTime=o,e;case nt:return(e=qi(13,n,t,r)).elementType=nt,e.type=nt,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case Ze:a=10;break e;case Je:a=9;break e;case tt:a=11;break e;case it:a=14;break e;case rt:a=16,i=null;break e}s("130",null==e?e:typeof e,"")}return(t=qi(a,n,t,r)).elementType=e,t.type=i,t.expirationTime=o,t}function Vi(e,t,n,i){return(e=qi(7,e,i,t)).expirationTime=n,e}function Gi(e,t,n,i){return e=qi(8,e,i,t),t=0==(1&t)?Xe:et,e.elementType=t,e.type=t,e.expirationTime=n,e}function Ki(e,t,n){return(e=qi(6,e,null,t)).expirationTime=n,e}function Yi(e,t,n){return(t=qi(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xi(e,t){e.didError=!1;var n=e.earliestPendingTime;0===n?e.earliestPendingTime=e.latestPendingTime=t:n<t?e.earliestPendingTime=t:e.latestPendingTime>t&&(e.latestPendingTime=t),Ji(t,e)}function Qi(e,t){e.didError=!1,e.latestPingedTime>=t&&(e.latestPingedTime=0);var n=e.earliestPendingTime,i=e.latestPendingTime;n===t?e.earliestPendingTime=i===t?e.latestPendingTime=0:i:i===t&&(e.latestPendingTime=n),n=e.earliestSuspendedTime,i=e.latestSuspendedTime,0===n?e.earliestSuspendedTime=e.latestSuspendedTime=t:n<t?e.earliestSuspendedTime=t:i>t&&(e.latestSuspendedTime=t),Ji(t,e)}function Zi(e,t){var n=e.earliestPendingTime;return n>t&&(t=n),(e=e.earliestSuspendedTime)>t&&(t=e),t}function Ji(e,t){var n=t.earliestSuspendedTime,i=t.latestSuspendedTime,r=t.earliestPendingTime,o=t.latestPingedTime;0===(r=0!==r?r:o)&&(0===e||i<e)&&(r=i),0!==(e=r)&&n>e&&(e=n),t.nextExpirationTimeToWorkOn=r,t.expirationTime=e}var er=!1;function tr(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function nr(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function ir(e){return{expirationTime:e,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function rr(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function or(e,t){var n=e.alternate;if(null===n){var i=e.updateQueue,r=null;null===i&&(i=e.updateQueue=tr(e.memoizedState))}else i=e.updateQueue,r=n.updateQueue,null===i?null===r?(i=e.updateQueue=tr(e.memoizedState),r=n.updateQueue=tr(n.memoizedState)):i=e.updateQueue=nr(r):null===r&&(r=n.updateQueue=nr(i));null===r||i===r?rr(i,t):null===i.lastUpdate||null===r.lastUpdate?(rr(i,t),rr(r,t)):(rr(i,t),r.lastUpdate=t)}function sr(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=tr(e.memoizedState):ar(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function ar(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=nr(t)),t}function lr(e,t,n,i,o,s){switch(n.tag){case 1:return"function"==typeof(e=n.payload)?e.call(s,i,o):e;case 3:e.effectTag=-2049&e.effectTag|64;case 0:if(null==(o="function"==typeof(e=n.payload)?e.call(s,i,o):e))break;return r({},i,o);case 2:er=!0}return i}function ur(e,t,n,i,r){er=!1;for(var o=(t=ar(e,t)).baseState,s=null,a=0,l=t.firstUpdate,u=o;null!==l;){var c=l.expirationTime;c<r?(null===s&&(s=l,o=u),a<c&&(a=c)):(u=lr(e,0,l,u,n,i),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=l:(t.lastEffect.nextEffect=l,t.lastEffect=l))),l=l.next}for(c=null,l=t.firstCapturedUpdate;null!==l;){var p=l.expirationTime;p<r?(null===c&&(c=l,null===s&&(o=u)),a<p&&(a=p)):(u=lr(e,0,l,u,n,i),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=l:(t.lastCapturedEffect.nextEffect=l,t.lastCapturedEffect=l))),l=l.next}null===s&&(t.lastUpdate=null),null===c?t.lastCapturedUpdate=null:e.effectTag|=32,null===s&&null===c&&(o=u),t.baseState=o,t.firstUpdate=s,t.firstCapturedUpdate=c,e.expirationTime=a,e.memoizedState=u}function cr(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),pr(t.firstEffect,n),t.firstEffect=t.lastEffect=null,pr(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function pr(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var i=t;"function"!=typeof n&&s("191",n),n.call(i)}e=e.nextEffect}}function fr(e,t){return{value:e,source:t,stack:lt(t)}}var dr={current:null},hr=null,mr=null,gr=null;function br(e,t){var n=e.type._context;Ci(dr,n._currentValue),n._currentValue=t}function yr(e){var t=dr.current;Si(dr),e.type._context._currentValue=t}function vr(e){hr=e,gr=mr=null,e.firstContextDependency=null}function _r(e,t){return gr!==e&&!1!==t&&0!==t&&("number"==typeof t&&1073741823!==t||(gr=e,t=1073741823),t={context:e,observedBits:t,next:null},null===mr?(null===hr&&s("293"),hr.firstContextDependency=mr=t):mr=mr.next=t),e._currentValue}var xr={},wr={current:xr},kr={current:xr},Sr={current:xr};function Cr(e){return e===xr&&s("174"),e}function Er(e,t){Ci(Sr,t),Ci(kr,e),Ci(wr,xr);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ei(null,"");break;default:t=ei(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}Si(wr),Ci(wr,t)}function Tr(e){Si(wr),Si(kr),Si(Sr)}function Ar(e){Cr(Sr.current);var t=Cr(wr.current),n=ei(t,e.type);t!==n&&(Ci(kr,e),Ci(wr,n))}function Nr(e){kr.current===e&&(Si(wr),Si(kr))}function Mr(e,t){if(e&&e.defaultProps)for(var n in t=r({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Rr=Ue.ReactCurrentOwner,Or=(new i.Component).refs;function Lr(e,t,n,i){n=null==(n=n(i,t=e.memoizedState))?t:r({},t,n),e.memoizedState=n,null!==(i=e.updateQueue)&&0===e.expirationTime&&(i.baseState=n)}var Pr={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===tn(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var i=Es(),r=ir(i=Zo(i,e));r.payload=t,null!=n&&(r.callback=n),Go(),or(e,r),ts(e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var i=Es(),r=ir(i=Zo(i,e));r.tag=1,r.payload=t,null!=n&&(r.callback=n),Go(),or(e,r),ts(e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Es(),i=ir(n=Zo(n,e));i.tag=2,null!=t&&(i.callback=t),Go(),or(e,i),ts(e,n)}};function Dr(e,t,n,i,r,o,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!en(n,i)||!en(r,o))}function Ir(e,t,n){var i=!1,r=Ei,o=t.contextType;return"object"==typeof o&&null!==o?o=Rr.currentDispatcher.readContext(o):(r=Ri(t)?Ni:Ti.current,o=(i=null!=(i=t.contextTypes))?Mi(e,r):Ei),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Pr,e.stateNode=t,t._reactInternalFiber=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function Fr(e,t,n,i){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Pr.enqueueReplaceState(t,t.state,null)}function $r(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=Or;var o=t.contextType;"object"==typeof o&&null!==o?r.context=Rr.currentDispatcher.readContext(o):(o=Ri(t)?Ni:Ti.current,r.context=Mi(e,o)),null!==(o=e.updateQueue)&&(ur(e,o,n,r,i),r.state=e.memoizedState),"function"==typeof(o=t.getDerivedStateFromProps)&&(Lr(e,t,o,n),r.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(t=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&Pr.enqueueReplaceState(r,r.state,null),null!==(o=e.updateQueue)&&(ur(e,o,n,r,i),r.state=e.memoizedState)),"function"==typeof r.componentDidMount&&(e.effectTag|=4)}var jr=Array.isArray;function Br(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){n=n._owner;var i=void 0;n&&(1!==n.tag&&s("289"),i=n.stateNode),i||s("147",e);var r=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===r?t.ref:((t=function(e){var t=i.refs;t===Or&&(t=i.refs={}),null===e?delete t[r]:t[r]=e})._stringRef=r,t)}"string"!=typeof e&&s("284"),n._owner||s("290",e)}return e}function zr(e,t){"textarea"!==e.type&&s("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function qr(e){function t(t,n){if(e){var i=t.lastEffect;null!==i?(i.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t,n){return(e=Ui(e,t)).index=0,e.sibling=null,e}function o(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.effectTag=2,n):i:(t.effectTag=2,n):n}function a(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=Ki(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function u(e,t,n,i){return null!==t&&t.elementType===n.type?((i=r(t,n.props)).ref=Br(e,t,n),i.return=e,i):((i=Wi(n.type,n.key,n.props,null,e.mode,i)).ref=Br(e,t,n),i.return=e,i)}function c(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Yi(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function p(e,t,n,i,o){return null===t||7!==t.tag?((t=Vi(n,e.mode,i,o)).return=e,t):((t=r(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Ki(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Ge:return(n=Wi(t.type,t.key,t.props,null,e.mode,n)).ref=Br(e,null,t),n.return=e,n;case Ke:return(t=Yi(t,e.mode,n)).return=e,t}if(jr(t)||st(t))return(t=Vi(t,e.mode,n,null)).return=e,t;zr(e,t)}return null}function d(e,t,n,i){var r=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==r?null:l(e,t,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Ge:return n.key===r?n.type===Ye?p(e,t,n.props.children,i,r):u(e,t,n,i):null;case Ke:return n.key===r?c(e,t,n,i):null}if(jr(n)||st(n))return null!==r?null:p(e,t,n,i,null);zr(e,n)}return null}function h(e,t,n,i,r){if("string"==typeof i||"number"==typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"==typeof i&&null!==i){switch(i.$$typeof){case Ge:return e=e.get(null===i.key?n:i.key)||null,i.type===Ye?p(t,e,i.props.children,r,i.key):u(t,e,i,r);case Ke:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r)}if(jr(i)||st(i))return p(t,e=e.get(n)||null,i,r,null);zr(t,i)}return null}function m(r,s,a,l){for(var u=null,c=null,p=s,m=s=0,g=null;null!==p&&m<a.length;m++){p.index>m?(g=p,p=null):g=p.sibling;var b=d(r,p,a[m],l);if(null===b){null===p&&(p=g);break}e&&p&&null===b.alternate&&t(r,p),s=o(b,s,m),null===c?u=b:c.sibling=b,c=b,p=g}if(m===a.length)return n(r,p),u;if(null===p){for(;m<a.length;m++)(p=f(r,a[m],l))&&(s=o(p,s,m),null===c?u=p:c.sibling=p,c=p);return u}for(p=i(r,p);m<a.length;m++)(g=h(p,r,m,a[m],l))&&(e&&null!==g.alternate&&p.delete(null===g.key?m:g.key),s=o(g,s,m),null===c?u=g:c.sibling=g,c=g);return e&&p.forEach(function(e){return t(r,e)}),u}function g(r,a,l,u){var c=st(l);"function"!=typeof c&&s("150"),null==(l=c.call(l))&&s("151");for(var p=c=null,m=a,g=a=0,b=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(b=m,m=null):b=m.sibling;var v=d(r,m,y.value,u);if(null===v){m||(m=b);break}e&&m&&null===v.alternate&&t(r,m),a=o(v,a,g),null===p?c=v:p.sibling=v,p=v,m=b}if(y.done)return n(r,m),c;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=f(r,y.value,u))&&(a=o(y,a,g),null===p?c=y:p.sibling=y,p=y);return c}for(m=i(r,m);!y.done;g++,y=l.next())null!==(y=h(m,r,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=o(y,a,g),null===p?c=y:p.sibling=y,p=y);return e&&m.forEach(function(e){return t(r,e)}),c}return function(e,i,o,l){var u="object"==typeof o&&null!==o&&o.type===Ye&&null===o.key;u&&(o=o.props.children);var c="object"==typeof o&&null!==o;if(c)switch(o.$$typeof){case Ge:e:{for(c=o.key,u=i;null!==u;){if(u.key===c){if(7===u.tag?o.type===Ye:u.elementType===o.type){n(e,u.sibling),(i=r(u,o.type===Ye?o.props.children:o.props)).ref=Br(e,u,o),i.return=e,e=i;break e}n(e,u);break}t(e,u),u=u.sibling}o.type===Ye?((i=Vi(o.props.children,e.mode,l,o.key)).return=e,e=i):((l=Wi(o.type,o.key,o.props,null,e.mode,l)).ref=Br(e,i,o),l.return=e,e=l)}return a(e);case Ke:e:{for(u=o.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(e,i.sibling),(i=r(i,o.children||[])).return=e,e=i;break e}n(e,i);break}t(e,i),i=i.sibling}(i=Yi(o,e.mode,l)).return=e,e=i}return a(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==i&&6===i.tag?(n(e,i.sibling),(i=r(i,o)).return=e,e=i):(n(e,i),(i=Ki(o,e.mode,l)).return=e,e=i),a(e);if(jr(o))return m(e,i,o,l);if(st(o))return g(e,i,o,l);if(c&&zr(e,o),void 0===o&&!u)switch(e.tag){case 1:case 0:s("152",(l=e.type).displayName||l.name||"Component")}return n(e,i)}}var Hr=qr(!0),Ur=qr(!1),Wr=null,Vr=null,Gr=!1;function Kr(e,t){var n=qi(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Yr(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Xr(e){if(Gr){var t=Vr;if(t){var n=t;if(!Yr(e,t)){if(!(t=_i(n))||!Yr(e,t))return e.effectTag|=2,Gr=!1,void(Wr=e);Kr(Wr,n)}Wr=e,Vr=xi(t)}else e.effectTag|=2,Gr=!1,Wr=e}}function Qr(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag;)e=e.return;Wr=e}function Zr(e){if(e!==Wr)return!1;if(!Gr)return Qr(e),Gr=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!bi(t,e.memoizedProps))for(t=Vr;t;)Kr(e,t),t=_i(t);return Qr(e),Vr=Wr?_i(e.stateNode):null,!0}function Jr(){Vr=Wr=null,Gr=!1}var eo=Ue.ReactCurrentOwner;function to(e,t,n,i){t.child=null===e?Ur(t,null,n,i):Hr(t,e.child,n,i)}function no(e,t,n,i,r){n=n.render;var o=t.ref;return vr(t),i=n(i,o),t.effectTag|=1,to(e,t,i,r),t.child}function io(e,t,n,i,r,o){if(null===e){var s=n.type;return"function"!=typeof s||Hi(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Wi(n.type,null,i,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,ro(e,t,s,i,r,o))}return s=e.child,r<o&&(r=s.memoizedProps,(n=null!==(n=n.compare)?n:en)(r,i)&&e.ref===t.ref)?po(e,t,o):(t.effectTag|=1,(e=Ui(s,i)).ref=t.ref,e.return=t,t.child=e)}function ro(e,t,n,i,r,o){return null!==e&&r<o&&en(e.memoizedProps,i)&&e.ref===t.ref?po(e,t,o):so(e,t,n,i,o)}function oo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function so(e,t,n,i,r){var o=Ri(n)?Ni:Ti.current;return o=Mi(t,o),vr(t),n=n(i,o),t.effectTag|=1,to(e,t,n,r),t.child}function ao(e,t,n,i,r){if(Ri(n)){var o=!0;Ii(t)}else o=!1;if(vr(t),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Ir(t,n,i),$r(t,n,i,r),i=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;"object"==typeof u&&null!==u?u=Rr.currentDispatcher.readContext(u):u=Mi(t,u=Ri(n)?Ni:Ti.current);var c=n.getDerivedStateFromProps,p="function"==typeof c||"function"==typeof s.getSnapshotBeforeUpdate;p||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==i||l!==u)&&Fr(t,s,i,u),er=!1;var f=t.memoizedState;l=s.state=f;var d=t.updateQueue;null!==d&&(ur(t,d,i,s,r),l=t.memoizedState),a!==i||f!==l||Ai.current||er?("function"==typeof c&&(Lr(t,n,c,i),l=t.memoizedState),(a=er||Dr(t,n,a,i,f,l,u))?(p||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.effectTag|=4)):("function"==typeof s.componentDidMount&&(t.effectTag|=4),t.memoizedProps=i,t.memoizedState=l),s.props=i,s.state=l,s.context=u,i=a):("function"==typeof s.componentDidMount&&(t.effectTag|=4),i=!1)}else s=t.stateNode,a=t.memoizedProps,s.props=t.type===t.elementType?a:Mr(t.type,a),l=s.context,"object"==typeof(u=n.contextType)&&null!==u?u=Rr.currentDispatcher.readContext(u):u=Mi(t,u=Ri(n)?Ni:Ti.current),(p="function"==typeof(c=n.getDerivedStateFromProps)||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==i||l!==u)&&Fr(t,s,i,u),er=!1,l=t.memoizedState,f=s.state=l,null!==(d=t.updateQueue)&&(ur(t,d,i,s,r),f=t.memoizedState),a!==i||l!==f||Ai.current||er?("function"==typeof c&&(Lr(t,n,c,i),f=t.memoizedState),(c=er||Dr(t,n,a,i,l,f,u))?(p||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(i,f,u),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(i,f,u)),"function"==typeof s.componentDidUpdate&&(t.effectTag|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=i,t.memoizedState=f),s.props=i,s.state=f,s.context=u,i=c):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),i=!1);return lo(e,t,n,i,o,r)}function lo(e,t,n,i,r,o){oo(e,t);var s=0!=(64&t.effectTag);if(!i&&!s)return r&&Fi(t,n,!1),po(e,t,o);i=t.stateNode,eo.current=t;var a=s&&"function"!=typeof n.getDerivedStateFromError?null:i.render();return t.effectTag|=1,null!==e&&s?(t.child=Hr(t,e.child,null,o),t.child=Hr(t,null,a,o)):to(e,t,a,o),t.memoizedState=i.state,r&&Fi(t,n,!0),t.child}function uo(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),Er(e,t.containerInfo)}function co(e,t,n){var i=t.mode,r=t.pendingProps,o=t.memoizedState;if(0==(64&t.effectTag)){o=null;var s=!1}else o={timedOutAt:null!==o?o.timedOutAt:0},s=!0,t.effectTag&=-65;if(null===e)if(s){var a=r.fallback;e=Vi(null,i,0,null),0==(1&t.mode)&&(e.child=null!==t.memoizedState?t.child.child:t.child),i=Vi(a,i,n,null),e.sibling=i,(n=e).return=i.return=t}else n=i=Ur(t,null,r.children,n);else null!==e.memoizedState?(a=(i=e.child).sibling,s?(n=r.fallback,r=Ui(i,i.pendingProps),0==(1&t.mode)&&((s=null!==t.memoizedState?t.child.child:t.child)!==i.child&&(r.child=s)),i=r.sibling=Ui(a,n,a.expirationTime),n=r,r.childExpirationTime=0,n.return=i.return=t):n=i=Hr(t,i.child,r.children,n)):(a=e.child,s?(s=r.fallback,(r=Vi(null,i,0,null)).child=a,0==(1&t.mode)&&(r.child=null!==t.memoizedState?t.child.child:t.child),(i=r.sibling=Vi(s,i,n,null)).effectTag|=2,n=r,r.childExpirationTime=0,n.return=i.return=t):i=n=Hr(t,a,r.children,n)),t.stateNode=e.stateNode;return t.memoizedState=o,t.child=n,i}function po(e,t,n){if(null!==e&&(t.firstContextDependency=e.firstContextDependency),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child&&s("153"),null!==t.child){for(n=Ui(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ui(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function fo(e,t,n){var i=t.expirationTime;if(null!==e&&e.memoizedProps===t.pendingProps&&!Ai.current&&i<n){switch(t.tag){case 3:uo(t),Jr();break;case 5:Ar(t);break;case 1:Ri(t.type)&&Ii(t);break;case 4:Er(t,t.stateNode.containerInfo);break;case 10:br(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(i=t.child.childExpirationTime)&&i>=n?co(e,t,n):null!==(t=po(e,t,n))?t.sibling:null}return po(e,t,n)}switch(t.expirationTime=0,t.tag){case 2:i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps;var r=Mi(t,Ti.current);if(vr(t),r=i(e,r),t.effectTag|=1,"object"==typeof r&&null!==r&&"function"==typeof r.render&&void 0===r.$$typeof){if(t.tag=1,Ri(i)){var o=!0;Ii(t)}else o=!1;t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null;var a=i.getDerivedStateFromProps;"function"==typeof a&&Lr(t,i,a,e),r.updater=Pr,t.stateNode=r,r._reactInternalFiber=t,$r(t,i,e,n),t=lo(null,t,i,!0,o,n)}else t.tag=0,to(null,t,r,n),t=t.child;return t;case 16:switch(r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),o=t.pendingProps,e=function(e){var t=e._result;switch(e._status){case 1:return t;case 2:case 0:throw t;default:throw e._status=0,(t=(t=e._ctor)()).then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)}),e._result=t,t}}(r),t.type=e,r=t.tag=function(e){if("function"==typeof e)return Hi(e)?1:0;if(null!=e){if((e=e.$$typeof)===tt)return 11;if(e===it)return 14}return 2}(e),o=Mr(e,o),a=void 0,r){case 0:a=so(null,t,e,o,n);break;case 1:a=ao(null,t,e,o,n);break;case 11:a=no(null,t,e,o,n);break;case 14:a=io(null,t,e,Mr(e.type,o),i,n);break;default:s("306",e,"")}return a;case 0:return i=t.type,r=t.pendingProps,so(e,t,i,r=t.elementType===i?r:Mr(i,r),n);case 1:return i=t.type,r=t.pendingProps,ao(e,t,i,r=t.elementType===i?r:Mr(i,r),n);case 3:return uo(t),null===(i=t.updateQueue)&&s("282"),r=null!==(r=t.memoizedState)?r.element:null,ur(t,i,t.pendingProps,null,n),(i=t.memoizedState.element)===r?(Jr(),t=po(e,t,n)):(r=t.stateNode,(r=(null===e||null===e.child)&&r.hydrate)&&(Vr=xi(t.stateNode.containerInfo),Wr=t,r=Gr=!0),r?(t.effectTag|=2,t.child=Ur(t,null,i,n)):(to(e,t,i,n),Jr()),t=t.child),t;case 5:return Ar(t),null===e&&Xr(t),i=t.type,r=t.pendingProps,o=null!==e?e.memoizedProps:null,a=r.children,bi(i,r)?a=null:null!==o&&bi(i,o)&&(t.effectTag|=16),oo(e,t),1!==n&&1&t.mode&&r.hidden?(t.expirationTime=1,t=null):(to(e,t,a,n),t=t.child),t;case 6:return null===e&&Xr(t),null;case 13:return co(e,t,n);case 4:return Er(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Hr(t,null,i,n):to(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,no(e,t,i,r=t.elementType===i?r:Mr(i,r),n);case 7:return to(e,t,t.pendingProps,n),t.child;case 8:case 12:return to(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,a=t.memoizedProps,br(t,o=r.value),null!==a){var l=a.value;if(0===(o=l===o&&(0!==l||1/l==1/o)||l!=l&&o!=o?0:0|("function"==typeof i._calculateChangedBits?i._calculateChangedBits(l,o):1073741823))){if(a.children===r.children&&!Ai.current){t=po(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){if(null!==(l=a.firstContextDependency))do{if(l.context===i&&0!=(l.observedBits&o)){if(1===a.tag){var u=ir(n);u.tag=2,or(a,u)}a.expirationTime<n&&(a.expirationTime=n),null!==(u=a.alternate)&&u.expirationTime<n&&(u.expirationTime=n);for(var c=a.return;null!==c;){if(u=c.alternate,c.childExpirationTime<n)c.childExpirationTime=n,null!==u&&u.childExpirationTime<n&&(u.childExpirationTime=n);else{if(!(null!==u&&u.childExpirationTime<n))break;u.childExpirationTime=n}c=c.return}}u=a.child,l=l.next}while(null!==l);else u=10===a.tag&&a.type===t.type?null:a.child;if(null!==u)u.return=a;else for(u=a;null!==u;){if(u===t){u=null;break}if(null!==(a=u.sibling)){a.return=u.return,u=a;break}u=u.return}a=u}}to(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=(o=t.pendingProps).children,vr(t),i=i(r=_r(r,o.unstable_observedBits)),t.effectTag|=1,to(e,t,i,n),t.child;case 14:return o=Mr(r=t.type,t.pendingProps),io(e,t,r,o=Mr(r.type,o),i,n);case 15:return ro(e,t,t.type,t.pendingProps,i,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:Mr(i,r),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Ri(i)?(e=!0,Ii(t)):e=!1,vr(t),Ir(t,i,r),$r(t,i,r,n),lo(null,t,i,!0,e,n);default:s("156")}}function ho(e){e.effectTag|=4}var mo=void 0,go=void 0,bo=void 0,yo=void 0;mo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},go=function(){},bo=function(e,t,n,i,o){var s=e.memoizedProps;if(s!==i){var a=t.stateNode;switch(Cr(wr.current),e=null,n){case"input":s=vt(a,s),i=vt(a,i),e=[];break;case"option":s=Vn(a,s),i=Vn(a,i),e=[];break;case"select":s=r({},s,{value:void 0}),i=r({},i,{value:void 0}),e=[];break;case"textarea":s=Kn(a,s),i=Kn(a,i),e=[];break;default:"function"!=typeof s.onClick&&"function"==typeof i.onClick&&(a.onclick=di)}ci(n,i),a=n=void 0;var l=null;for(n in s)if(!i.hasOwnProperty(n)&&s.hasOwnProperty(n)&&null!=s[n])if("style"===n){var u=s[n];for(a in u)u.hasOwnProperty(a)&&(l||(l={}),l[a]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(v.hasOwnProperty(n)?e||(e=[]):(e=e||[]).push(n,null));for(n in i){var c=i[n];if(u=null!=s?s[n]:void 0,i.hasOwnProperty(n)&&c!==u&&(null!=c||null!=u))if("style"===n)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(l||(l={}),l[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(l||(l={}),l[a]=c[a])}else l||(e||(e=[]),e.push(n,l)),l=c;else"dangerouslySetInnerHTML"===n?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(e=e||[]).push(n,""+c)):"children"===n?u===c||"string"!=typeof c&&"number"!=typeof c||(e=e||[]).push(n,""+c):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(v.hasOwnProperty(n)?(null!=c&&fi(o,n),e||u===c||(e=[])):(e=e||[]).push(n,c))}l&&(e=e||[]).push("style",l),o=e,(t.updateQueue=o)&&ho(t)}},yo=function(e,t,n,i){n!==i&&ho(t)};var vo="function"==typeof WeakSet?WeakSet:Set;function _o(e,t){var n=t.source,i=t.stack;null===i&&null!==n&&(i=lt(n)),null!==n&&at(n.type),t=t.value,null!==e&&1===e.tag&&at(e.type);try{console.error(t)}catch(e){setTimeout(function(){throw e})}}function xo(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Qo(e,t)}else t.current=null}function wo(e){switch("function"==typeof ji&&ji(e),e.tag){case 0:case 11:case 14:case 15:var t=e.updateQueue;if(null!==t&&null!==(t=t.lastEffect)){var n=t=t.next;do{var i=n.destroy;if(null!==i){var r=e;try{i()}catch(e){Qo(r,e)}}n=n.next}while(n!==t)}break;case 1:if(xo(e),"function"==typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Qo(e,t)}break;case 5:xo(e);break;case 4:Co(e)}}function ko(e){return 5===e.tag||3===e.tag||4===e.tag}function So(e){e:{for(var t=e.return;null!==t;){if(ko(t)){var n=t;break e}t=t.return}s("160"),n=void 0}var i=t=void 0;switch(n.tag){case 5:t=n.stateNode,i=!1;break;case 3:case 4:t=n.stateNode.containerInfo,i=!0;break;default:s("161")}16&n.effectTag&&(ri(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ko(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var r=e;;){if(5===r.tag||6===r.tag)if(n)if(i){var o=t,a=r.stateNode,l=n;8===o.nodeType?o.parentNode.insertBefore(a,l):o.insertBefore(a,l)}else t.insertBefore(r.stateNode,n);else i?(a=t,l=r.stateNode,8===a.nodeType?(o=a.parentNode).insertBefore(l,a):(o=a).appendChild(l),null!=(a=a._reactRootContainer)||null!==o.onclick||(o.onclick=di)):t.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function Co(e){for(var t=e,n=!1,i=void 0,r=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n&&s("160"),n.tag){case 5:i=n.stateNode,r=!1;break e;case 3:case 4:i=n.stateNode.containerInfo,r=!0;break e}n=n.return}n=!0}if(5===t.tag||6===t.tag){e:for(var o=t,a=o;;)if(wo(a),null!==a.child&&4!==a.tag)a.child.return=a,a=a.child;else{if(a===o)break;for(;null===a.sibling;){if(null===a.return||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}r?(o=i,a=t.stateNode,8===o.nodeType?o.parentNode.removeChild(a):o.removeChild(a)):i.removeChild(t.stateNode)}else if(4===t.tag?(i=t.stateNode.containerInfo,r=!0):wo(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;4===(t=t.return).tag&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}function Eo(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 1:break;case 5:var n=t.stateNode;if(null!=n){var i=t.memoizedProps;e=null!==e?e.memoizedProps:i;var r=t.type,o=t.updateQueue;t.updateQueue=null,null!==o&&function(e,t,n,i,r){e[P]=r,"input"===n&&"radio"===r.type&&null!=r.name&&xt(e,r),pi(n,i),i=pi(n,r);for(var o=0;o<t.length;o+=2){var s=t[o],a=t[o+1];"style"===s?li(e,a):"dangerouslySetInnerHTML"===s?ii(e,a):"children"===s?ri(e,a):bt(e,s,a,i)}switch(n){case"input":wt(e,r);break;case"textarea":Xn(e,r);break;case"select":t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!r.multiple,null!=(n=r.value)?Gn(e,!!r.multiple,n,!1):t!==!!r.multiple&&(null!=r.defaultValue?Gn(e,!!r.multiple,r.defaultValue,!0):Gn(e,!!r.multiple,r.multiple?[]:"",!1))}}(n,o,r,e,i)}break;case 6:null===t.stateNode&&s("162"),t.stateNode.nodeValue=t.memoizedProps;break;case 3:case 12:break;case 13:if(n=t.memoizedState,i=void 0,e=t,null===n?i=!1:(i=!0,e=t.child,0===n.timedOutAt&&(n.timedOutAt=Es())),null!==e&&function(e,t){for(var n=e;;){if(5===n.tag){var i=n.stateNode;if(t)i.style.display="none";else{i=n.stateNode;var r=n.memoizedProps.style;r=null!=r&&r.hasOwnProperty("display")?r.display:null,i.style.display=ai("display",r)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else{if(13===n.tag&&null!==n.memoizedState){(i=n.child.sibling).return=n,n=i;continue}if(null!==n.child){n.child.return=n,n=n.child;continue}}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}(e,i),null!==(n=t.updateQueue)){t.updateQueue=null;var a=t.stateNode;null===a&&(a=t.stateNode=new vo),n.forEach(function(e){var n=function(e,t){var n=e.stateNode;null!==n&&n.delete(t),t=Zo(t=Es(),e),null!==(e=es(e,t))&&(Xi(e,t),0!==(t=e.expirationTime)&&Ts(e,t))}.bind(null,t,e);a.has(e)||(a.add(e),e.then(n,n))})}break;case 17:break;default:s("163")}}var To="function"==typeof WeakMap?WeakMap:Map;function Ao(e,t,n){(n=ir(n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Is(i),_o(e,t)},n}function No(e,t,n){(n=ir(n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"==typeof i){var r=t.value;n.payload=function(){return i(r)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof i&&(null===Wo?Wo=new Set([this]):Wo.add(this));var n=t.value,r=t.stack;_o(e,t),this.componentDidCatch(n,{componentStack:null!==r?r:""})}),n}function Mo(e){switch(e.tag){case 1:Ri(e.type)&&Oi();var t=e.effectTag;return 2048&t?(e.effectTag=-2049&t|64,e):null;case 3:return Tr(),Li(),0!=(64&(t=e.effectTag))&&s("285"),e.effectTag=-2049&t|64,e;case 5:return Nr(e),null;case 13:return 2048&(t=e.effectTag)?(e.effectTag=-2049&t|64,e):null;case 4:return Tr(),null;case 10:return yr(e),null;default:return null}}var Ro={readContext:_r},Oo=Ue.ReactCurrentOwner,Lo=1073741822,Po=0,Do=!1,Io=null,Fo=null,$o=0,jo=-1,Bo=!1,zo=null,qo=!1,Ho=null,Uo=null,Wo=null;function Vo(){if(null!==Io)for(var e=Io.return;null!==e;){var t=e;switch(t.tag){case 1:var n=t.type.childContextTypes;null!=n&&Oi();break;case 3:Tr(),Li();break;case 5:Nr(t);break;case 4:Tr();break;case 10:yr(t)}e=e.return}Fo=null,$o=0,jo=-1,Bo=!1,Io=null}function Go(){null!==Uo&&(o.unstable_cancelCallback(Ho),Uo())}function Ko(e){for(;;){var t=e.alternate,n=e.return,i=e.sibling;if(0==(1024&e.effectTag)){Io=e;e:{var o=t,a=$o,l=(t=e).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:Ri(t.type)&&Oi();break;case 3:Tr(),Li(),(l=t.stateNode).pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),null!==o&&null!==o.child||(Zr(t),t.effectTag&=-3),go(t);break;case 5:Nr(t);var u=Cr(Sr.current);if(a=t.type,null!==o&&null!=t.stateNode)bo(o,t,a,l,u),o.ref!==t.ref&&(t.effectTag|=128);else if(l){var c=Cr(wr.current);if(Zr(t)){o=(l=t).stateNode;var p=l.type,f=l.memoizedProps,d=u;switch(o[L]=l,o[P]=f,a=void 0,u=p){case"iframe":case"object":Cn("load",o);break;case"video":case"audio":for(p=0;p<te.length;p++)Cn(te[p],o);break;case"source":Cn("error",o);break;case"img":case"image":case"link":Cn("error",o),Cn("load",o);break;case"form":Cn("reset",o),Cn("submit",o);break;case"details":Cn("toggle",o);break;case"input":_t(o,f),Cn("invalid",o),fi(d,"onChange");break;case"select":o._wrapperState={wasMultiple:!!f.multiple},Cn("invalid",o),fi(d,"onChange");break;case"textarea":Yn(o,f),Cn("invalid",o),fi(d,"onChange")}for(a in ci(u,f),p=null,f)f.hasOwnProperty(a)&&(c=f[a],"children"===a?"string"==typeof c?o.textContent!==c&&(p=["children",c]):"number"==typeof c&&o.textContent!==""+c&&(p=["children",""+c]):v.hasOwnProperty(a)&&null!=c&&fi(d,a));switch(u){case"input":qe(o),kt(o,f,!0);break;case"textarea":qe(o),Qn(o);break;case"select":case"option":break;default:"function"==typeof f.onClick&&(o.onclick=di)}a=p,l.updateQueue=a,(l=null!==a)&&ho(t)}else{f=t,o=a,d=l,p=9===u.nodeType?u:u.ownerDocument,c===Zn.html&&(c=Jn(o)),c===Zn.html?"script"===o?((o=p.createElement("div")).innerHTML="<script><\/script>",p=o.removeChild(o.firstChild)):"string"==typeof d.is?p=p.createElement(o,{is:d.is}):(p=p.createElement(o),"select"===o&&d.multiple&&(p.multiple=!0)):p=p.createElementNS(c,o),(o=p)[L]=f,o[P]=l,mo(o,t,!1,!1),d=o;var h=u,m=pi(p=a,f=l);switch(p){case"iframe":case"object":Cn("load",d),u=f;break;case"video":case"audio":for(u=0;u<te.length;u++)Cn(te[u],d);u=f;break;case"source":Cn("error",d),u=f;break;case"img":case"image":case"link":Cn("error",d),Cn("load",d),u=f;break;case"form":Cn("reset",d),Cn("submit",d),u=f;break;case"details":Cn("toggle",d),u=f;break;case"input":_t(d,f),u=vt(d,f),Cn("invalid",d),fi(h,"onChange");break;case"option":u=Vn(d,f);break;case"select":d._wrapperState={wasMultiple:!!f.multiple},u=r({},f,{value:void 0}),Cn("invalid",d),fi(h,"onChange");break;case"textarea":Yn(d,f),u=Kn(d,f),Cn("invalid",d),fi(h,"onChange");break;default:u=f}ci(p,u),c=void 0;var g=p,b=d,y=u;for(c in y)if(y.hasOwnProperty(c)){var _=y[c];"style"===c?li(b,_):"dangerouslySetInnerHTML"===c?null!=(_=_?_.__html:void 0)&&ii(b,_):"children"===c?"string"==typeof _?("textarea"!==g||""!==_)&&ri(b,_):"number"==typeof _&&ri(b,""+_):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(v.hasOwnProperty(c)?null!=_&&fi(h,c):null!=_&&bt(b,c,_,m))}switch(p){case"input":qe(d),kt(d,f,!1);break;case"textarea":qe(d),Qn(d);break;case"option":null!=f.value&&d.setAttribute("value",""+yt(f.value));break;case"select":(u=d).multiple=!!f.multiple,null!=(d=f.value)?Gn(u,!!f.multiple,d,!1):null!=f.defaultValue&&Gn(u,!!f.multiple,f.defaultValue,!0);break;default:"function"==typeof u.onClick&&(d.onclick=di)}(l=gi(a,l))&&ho(t),t.stateNode=o}null!==t.ref&&(t.effectTag|=128)}else null===t.stateNode&&s("166");break;case 6:o&&null!=t.stateNode?yo(o,t,o.memoizedProps,l):("string"!=typeof l&&(null===t.stateNode&&s("166")),o=Cr(Sr.current),Cr(wr.current),Zr(t)?(a=(l=t).stateNode,o=l.memoizedProps,a[L]=l,(l=a.nodeValue!==o)&&ho(t)):(a=t,(l=(9===o.nodeType?o:o.ownerDocument).createTextNode(l))[L]=t,a.stateNode=l));break;case 11:break;case 13:if(l=t.memoizedState,0!=(64&t.effectTag)){t.expirationTime=a,Io=t;break e}l=null!==l,a=null!==o&&null!==o.memoizedState,null!==o&&!l&&a&&(null!==(o=o.child.sibling)&&(null!==(u=t.firstEffect)?(t.firstEffect=o,o.nextEffect=u):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),(l!==a||0==(1&t.effectTag)&&l)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:Tr(),go(t);break;case 10:yr(t);break;case 9:case 14:break;case 17:Ri(t.type)&&Oi();break;default:s("156")}Io=null}if(t=e,1===$o||1!==t.childExpirationTime){for(l=0,a=t.child;null!==a;)(o=a.expirationTime)>l&&(l=o),(u=a.childExpirationTime)>l&&(l=u),a=a.sibling;t.childExpirationTime=l}if(null!==Io)return Io;null!==n&&0==(1024&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e))}else{if(null!==(e=Mo(e)))return e.effectTag&=1023,e;null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=1024)}if(null!==i)return i;if(null===n)break;e=n}return null}function Yo(e){var t=fo(e.alternate,e,$o);return e.memoizedProps=e.pendingProps,null===t&&(t=Ko(e)),Oo.current=null,t}function Xo(e,t){Do&&s("243"),Go(),Do=!0,Oo.currentDispatcher=Ro;var n=e.nextExpirationTimeToWorkOn;n===$o&&e===Fo&&null!==Io||(Vo(),$o=n,Io=Ui((Fo=e).current,null),e.pendingCommitExpirationTime=0);for(var i=!1;;){try{if(t)for(;null!==Io&&!Ms();)Io=Yo(Io);else for(;null!==Io;)Io=Yo(Io)}catch(t){if(gr=mr=hr=null,null===Io)i=!0,Is(t);else{null===Io&&s("271");var r=Io,o=r.return;if(null!==o){e:{var a=e,l=o,u=r,c=t;if(o=$o,u.effectTag|=1024,u.firstEffect=u.lastEffect=null,null!==c&&"object"==typeof c&&"function"==typeof c.then){var p=c;c=l;var f=-1,d=-1;do{if(13===c.tag){var h=c.alternate;if(null!==h&&null!==(h=h.memoizedState)){d=10*(1073741822-h.timedOutAt);break}"number"==typeof(h=c.pendingProps.maxDuration)&&(0>=h?f=0:(-1===f||h<f)&&(f=h))}c=c.return}while(null!==c);c=l;do{if((h=13===c.tag)&&(h=void 0!==c.memoizedProps.fallback&&null===c.memoizedState),h){if(null===(l=c.updateQueue)?c.updateQueue=new Set([p]):l.add(p),0==(1&c.mode)){c.effectTag|=64,u.effectTag&=-1957,1===u.tag&&(null===u.alternate?u.tag=17:((o=ir(1073741823)).tag=2,or(u,o))),u.expirationTime=1073741823;break e}null===(u=a.pingCache)?(u=a.pingCache=new To,l=new Set,u.set(p,l)):void 0===(l=u.get(p))&&(l=new Set,u.set(p,l)),l.has(o)||(l.add(o),u=Jo.bind(null,a,p,o),p.then(u,u)),-1===f?a=1073741823:(-1===d&&(d=10*(1073741822-Zi(a,o))-5e3),a=d+f),0<=a&&jo<a&&(jo=a),c.effectTag|=2048,c.expirationTime=o;break e}c=c.return}while(null!==c);c=Error((at(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+lt(u))}Bo=!0,c=fr(c,u),a=l;do{switch(a.tag){case 3:a.effectTag|=2048,a.expirationTime=o,sr(a,o=Ao(a,c,o));break e;case 1:if(p=c,f=a.type,d=a.stateNode,0==(64&a.effectTag)&&("function"==typeof f.getDerivedStateFromError||null!==d&&"function"==typeof d.componentDidCatch&&(null===Wo||!Wo.has(d)))){a.effectTag|=2048,a.expirationTime=o,sr(a,o=No(a,p,o));break e}}a=a.return}while(null!==a)}Io=Ko(r);continue}i=!0,Is(t)}}break}if(Do=!1,gr=mr=hr=Oo.currentDispatcher=null,i)Fo=null,e.finishedWork=null;else if(null!==Io)e.finishedWork=null;else{if(null===(i=e.current.alternate)&&s("281"),Fo=null,Bo){if(r=e.latestPendingTime,o=e.latestSuspendedTime,a=e.latestPingedTime,0!==r&&r<n||0!==o&&o<n||0!==a&&a<n)return Qi(e,n),void Cs(e,i,n,e.expirationTime,-1);if(!e.didError&&t)return e.didError=!0,n=e.nextExpirationTimeToWorkOn=n,t=e.expirationTime=1073741823,void Cs(e,i,n,t,-1)}t&&-1!==jo?(Qi(e,n),(t=10*(1073741822-Zi(e,n)))<jo&&(jo=t),t=10*(1073741822-Es()),t=jo-t,Cs(e,i,n,e.expirationTime,0>t?0:t)):(e.pendingCommitExpirationTime=n,e.finishedWork=i)}}function Qo(e,t){for(var n=e.return;null!==n;){switch(n.tag){case 1:var i=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===Wo||!Wo.has(i)))return or(n,e=No(n,e=fr(t,e),1073741823)),void ts(n,1073741823);break;case 3:return or(n,e=Ao(n,e=fr(t,e),1073741823)),void ts(n,1073741823)}n=n.return}3===e.tag&&(or(e,n=Ao(e,n=fr(t,e),1073741823)),ts(e,1073741823))}function Zo(e,t){return 0!==Po?e=Po:Do?e=qo?1073741823:$o:1&t.mode?(e=ms?1073741822-10*(1+((1073741822-e+15)/10|0)):1073741822-25*(1+((1073741822-e+500)/25|0)),null!==Fo&&e===$o&&--e):e=1073741823,ms&&(0===cs||e<cs)&&(cs=e),e}function Jo(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),null!==Fo&&$o===n?Fo=null:(t=e.earliestSuspendedTime,i=e.latestSuspendedTime,0!==t&&n<=t&&n>=i&&(e.didError=!1,(0===(t=e.latestPingedTime)||t>n)&&(e.latestPingedTime=n),Ji(n,e),0!==(n=e.expirationTime)&&Ts(e,n)))}function es(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var i=e.return,r=null;if(null===i&&3===e.tag)r=e.stateNode;else for(;null!==i;){if(n=i.alternate,i.childExpirationTime<t&&(i.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===i.return&&3===i.tag){r=i.stateNode;break}i=i.return}return r}function ts(e,t){null!==(e=es(e,t))&&(!Do&&0!==$o&&t>$o&&Vo(),Xi(e,t),Do&&!qo&&Fo===e||Ts(e,e.expirationTime),xs>_s&&(xs=0,s("185")))}function ns(e,t,n,i,r){var o=Po;Po=1073741823;try{return e(t,n,i,r)}finally{Po=o}}var is=null,rs=null,os=0,ss=void 0,as=!1,ls=null,us=0,cs=0,ps=!1,fs=null,ds=!1,hs=!1,ms=!1,gs=null,bs=o.unstable_now(),ys=1073741822-(bs/10|0),vs=ys,_s=50,xs=0,ws=null;function ks(){ys=1073741822-((o.unstable_now()-bs)/10|0)}function Ss(e,t){if(0!==os){if(t<os)return;null!==ss&&o.unstable_cancelCallback(ss)}os=t,e=o.unstable_now()-bs,ss=o.unstable_scheduleCallback(Rs,{timeout:10*(1073741822-t)-e})}function Cs(e,t,n,i,r){e.expirationTime=i,0!==r||Ms()?0<r&&(e.timeoutHandle=yi(function(e,t,n){e.pendingCommitExpirationTime=n,e.finishedWork=t,ks(),vs=ys,Ls(e,n)}.bind(null,e,t,n),r)):(e.pendingCommitExpirationTime=n,e.finishedWork=t)}function Es(){return as?vs:(As(),0!==us&&1!==us||(ks(),vs=ys),vs)}function Ts(e,t){null===e.nextScheduledRoot?(e.expirationTime=t,null===rs?(is=rs=e,e.nextScheduledRoot=e):(rs=rs.nextScheduledRoot=e).nextScheduledRoot=is):t>e.expirationTime&&(e.expirationTime=t),as||(ds?hs&&(ls=e,us=1073741823,Ps(e,1073741823,!1)):1073741823===t?Os(1073741823,!1):Ss(e,t))}function As(){var e=0,t=null;if(null!==rs)for(var n=rs,i=is;null!==i;){var r=i.expirationTime;if(0===r){if((null===n||null===rs)&&s("244"),i===i.nextScheduledRoot){is=rs=i.nextScheduledRoot=null;break}if(i===is)is=r=i.nextScheduledRoot,rs.nextScheduledRoot=r,i.nextScheduledRoot=null;else{if(i===rs){(rs=n).nextScheduledRoot=is,i.nextScheduledRoot=null;break}n.nextScheduledRoot=i.nextScheduledRoot,i.nextScheduledRoot=null}i=n.nextScheduledRoot}else{if(r>e&&(e=r,t=i),i===rs)break;if(1073741823===e)break;n=i,i=i.nextScheduledRoot}}ls=t,us=e}var Ns=!1;function Ms(){return!!Ns||!!o.unstable_shouldYield()&&(Ns=!0)}function Rs(){try{if(!Ms()&&null!==is){ks();var e=is;do{var t=e.expirationTime;0!==t&&ys<=t&&(e.nextExpirationTimeToWorkOn=ys),e=e.nextScheduledRoot}while(e!==is)}Os(0,!0)}finally{Ns=!1}}function Os(e,t){if(As(),t)for(ks(),vs=ys;null!==ls&&0!==us&&e<=us&&!(Ns&&ys>us);)Ps(ls,us,ys>us),As(),ks(),vs=ys;else for(;null!==ls&&0!==us&&e<=us;)Ps(ls,us,!1),As();if(t&&(os=0,ss=null),0!==us&&Ss(ls,us),xs=0,ws=null,null!==gs)for(e=gs,gs=null,t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(e){ps||(ps=!0,fs=e)}}if(ps)throw e=fs,fs=null,ps=!1,e}function Ls(e,t){as&&s("253"),ls=e,us=t,Ps(e,t,!1),Os(1073741823,!1)}function Ps(e,t,n){if(as&&s("245"),as=!0,n){var i=e.finishedWork;null!==i?Ds(e,i,t):(e.finishedWork=null,-1!==(i=e.timeoutHandle)&&(e.timeoutHandle=-1,vi(i)),Xo(e,n),null!==(i=e.finishedWork)&&(Ms()?e.finishedWork=i:Ds(e,i,t)))}else null!==(i=e.finishedWork)?Ds(e,i,t):(e.finishedWork=null,-1!==(i=e.timeoutHandle)&&(e.timeoutHandle=-1,vi(i)),Xo(e,n),null!==(i=e.finishedWork)&&Ds(e,i,t));as=!1}function Ds(e,t,n){var i=e.firstBatch;if(null!==i&&i._expirationTime>=n&&(null===gs?gs=[i]:gs.push(i),i._defer))return e.finishedWork=t,void(e.expirationTime=0);e.finishedWork=null,e===ws?xs++:(ws=e,xs=0),qo=Do=!0,e.current===t&&s("177"),0===(n=e.pendingCommitExpirationTime)&&s("261"),e.pendingCommitExpirationTime=0,i=t.expirationTime;var r=t.childExpirationTime;if(i=r>i?r:i,e.didError=!1,0===i?(e.earliestPendingTime=0,e.latestPendingTime=0,e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0):(i<e.latestPingedTime&&(e.latestPingedTime=0),0!==(r=e.latestPendingTime)&&(r>i?e.earliestPendingTime=e.latestPendingTime=0:e.earliestPendingTime>i&&(e.earliestPendingTime=e.latestPendingTime)),0===(r=e.earliestSuspendedTime)?Xi(e,i):i<e.latestSuspendedTime?(e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0,Xi(e,i)):i>r&&Xi(e,i)),Ji(0,e),Oo.current=null,1<t.effectTag?null!==t.lastEffect?(t.lastEffect.nextEffect=t,i=t.firstEffect):i=t:i=t.firstEffect,hi=Sn,Fn(r=In())){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{var a=(o=(o=r.ownerDocument)&&o.defaultView||window).getSelection&&o.getSelection();if(a&&0!==a.rangeCount){o=a.anchorNode;var l=a.anchorOffset,u=a.focusNode;a=a.focusOffset;try{o.nodeType,u.nodeType}catch(e){o=null;break e}var c=0,p=-1,f=-1,d=0,h=0,m=r,g=null;t:for(;;){for(var b;m!==o||0!==l&&3!==m.nodeType||(p=c+l),m!==u||0!==a&&3!==m.nodeType||(f=c+a),3===m.nodeType&&(c+=m.nodeValue.length),null!==(b=m.firstChild);)g=m,m=b;for(;;){if(m===r)break t;if(g===o&&++d===l&&(p=c),g===u&&++h===a&&(f=c),null!==(b=m.nextSibling))break;g=(m=g).parentNode}m=b}o=-1===p||-1===f?null:{start:p,end:f}}else o=null}o=o||{start:0,end:0}}else o=null;for(mi={focusedElem:r,selectionRange:o},Sn=!1,zo=i;null!==zo;){r=!1,o=void 0;try{for(;null!==zo;){if(256&zo.effectTag)e:{var y=zo.alternate;switch((l=zo).tag){case 0:case 11:case 15:break e;case 1:if(256&l.effectTag&&null!==y){var v=y.memoizedProps,_=y.memoizedState,x=l.stateNode,w=x.getSnapshotBeforeUpdate(l.elementType===l.type?v:Mr(l.type,v),_);x.__reactInternalSnapshotBeforeUpdate=w}break e;case 3:case 5:case 6:case 4:case 17:break e;default:s("163")}}zo=zo.nextEffect}}catch(e){r=!0,o=e}r&&(null===zo&&s("178"),Qo(zo,o),null!==zo&&(zo=zo.nextEffect))}for(zo=i;null!==zo;){y=!1,v=void 0;try{for(;null!==zo;){var k=zo.effectTag;if(16&k&&ri(zo.stateNode,""),128&k){var S=zo.alternate;if(null!==S){var C=S.ref;null!==C&&("function"==typeof C?C(null):C.current=null)}}switch(14&k){case 2:So(zo),zo.effectTag&=-3;break;case 6:So(zo),zo.effectTag&=-3,Eo(zo.alternate,zo);break;case 4:Eo(zo.alternate,zo);break;case 8:Co(_=zo),_.return=null,_.child=null,_.memoizedState=null,_.updateQueue=null;var E=_.alternate;null!==E&&(E.return=null,E.child=null,E.memoizedState=null,E.updateQueue=null)}zo=zo.nextEffect}}catch(e){y=!0,v=e}y&&(null===zo&&s("178"),Qo(zo,v),null!==zo&&(zo=zo.nextEffect))}if(C=mi,S=In(),k=C.focusedElem,y=C.selectionRange,S!==k&&k&&k.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(k.ownerDocument.documentElement,k)){null!==y&&Fn(k)&&(S=y.start,void 0===(C=y.end)&&(C=S),"selectionStart"in k?(k.selectionStart=S,k.selectionEnd=Math.min(C,k.value.length)):(C=(S=k.ownerDocument||document)&&S.defaultView||window).getSelection&&(C=C.getSelection(),v=k.textContent.length,E=Math.min(y.start,v),y=void 0===y.end?E:Math.min(y.end,v),!C.extend&&E>y&&(v=y,y=E,E=v),v=Dn(k,E),_=Dn(k,y),v&&_&&(1!==C.rangeCount||C.anchorNode!==v.node||C.anchorOffset!==v.offset||C.focusNode!==_.node||C.focusOffset!==_.offset)&&((S=S.createRange()).setStart(v.node,v.offset),C.removeAllRanges(),E>y?(C.addRange(S),C.extend(_.node,_.offset)):(S.setEnd(_.node,_.offset),C.addRange(S))))),S=[];for(C=k;C=C.parentNode;)1===C.nodeType&&S.push({element:C,left:C.scrollLeft,top:C.scrollTop});for("function"==typeof k.focus&&k.focus(),k=0;k<S.length;k++)(C=S[k]).element.scrollLeft=C.left,C.element.scrollTop=C.top}for(mi=null,Sn=!!hi,hi=null,e.current=t,zo=i;null!==zo;){i=!1,k=void 0;try{for(S=n;null!==zo;){var T=zo.effectTag;if(36&T){var A=zo.alternate;switch(E=S,(C=zo).tag){case 0:case 11:case 15:break;case 1:var N=C.stateNode;if(4&C.effectTag)if(null===A)N.componentDidMount();else{var M=C.elementType===C.type?A.memoizedProps:Mr(C.type,A.memoizedProps);N.componentDidUpdate(M,A.memoizedState,N.__reactInternalSnapshotBeforeUpdate)}var R=C.updateQueue;null!==R&&cr(0,R,N);break;case 3:var O=C.updateQueue;if(null!==O){if(y=null,null!==C.child)switch(C.child.tag){case 5:y=C.child.stateNode;break;case 1:y=C.child.stateNode}cr(0,O,y)}break;case 5:var L=C.stateNode;null===A&&4&C.effectTag&&gi(C.type,C.memoizedProps)&&L.focus();break;case 6:case 4:case 12:case 13:case 17:break;default:s("163")}}if(128&T){var P=zo.ref;if(null!==P){var D=zo.stateNode;switch(zo.tag){case 5:var I=D;break;default:I=D}"function"==typeof P?P(I):P.current=I}}zo=zo.nextEffect}}catch(e){i=!0,k=e}i&&(null===zo&&s("178"),Qo(zo,k),null!==zo&&(zo=zo.nextEffect))}Do=qo=!1,"function"==typeof $i&&$i(t.stateNode),T=t.expirationTime,0===(t=(t=t.childExpirationTime)>T?t:T)&&(Wo=null),e.expirationTime=t,e.finishedWork=null}function Is(e){null===ls&&s("246"),ls.expirationTime=0,ps||(ps=!0,fs=e)}function Fs(e,t){var n=ds;ds=!0;try{return e(t)}finally{(ds=n)||as||Os(1073741823,!1)}}function $s(e,t){if(ds&&!hs){hs=!0;try{return e(t)}finally{hs=!1}}return e(t)}function js(e,t,n){if(ms)return e(t,n);ds||as||0===cs||(Os(cs,!1),cs=0);var i=ms,r=ds;ds=ms=!0;try{return e(t,n)}finally{ms=i,(ds=r)||as||Os(1073741823,!1)}}function Bs(e,t,n,i,r){var o=t.current;e:if(n){t:{2===tn(n=n._reactInternalFiber)&&1===n.tag||s("170");var a=n;do{switch(a.tag){case 3:a=a.stateNode.context;break t;case 1:if(Ri(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break t}}a=a.return}while(null!==a);s("171"),a=void 0}if(1===n.tag){var l=n.type;if(Ri(l)){n=Di(n,l,a);break e}}n=a}else n=Ei;return null===t.context?t.context=n:t.pendingContext=n,t=r,(r=ir(i)).payload={element:e},null!==(t=void 0===t?null:t)&&(r.callback=t),Go(),or(o,r),ts(o,i),i}function zs(e,t,n,i){var r=t.current;return Bs(e,t,n,r=Zo(Es(),r),i)}function qs(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Hs(e){var t=1073741822-25*(1+((1073741822-Es()+500)/25|0));t>=Lo&&(t=Lo-1),this._expirationTime=Lo=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Us(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Ws(e,t,n){e={current:t=qi(3,null,null,t?3:0),containerInfo:e,pendingChildren:null,pingCache:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:n,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=t.stateNode=e}function Vs(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Gs(e,t,n,i,r){Vs(n)||s("200");var o=n._reactRootContainer;if(o){if("function"==typeof r){var a=r;r=function(){var e=qs(o._internalRoot);a.call(e)}}null!=e?o.legacy_renderSubtreeIntoContainer(e,t,r):o.render(t,r)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Ws(e,!1,t)}(n,i),"function"==typeof r){var l=r;r=function(){var e=qs(o._internalRoot);l.call(e)}}$s(function(){null!=e?o.legacy_renderSubtreeIntoContainer(e,t,r):o.render(t,r)})}return qs(o._internalRoot)}function Ks(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return Vs(t)||s("200"),function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Ke,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Ee=function(e,t,n){switch(t){case"input":if(wt(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=$(i);r||s("90"),He(i),wt(i,r)}}}break;case"textarea":Xn(e,n);break;case"select":null!=(t=n.value)&&Gn(e,!!n.multiple,t,!1)}},Hs.prototype.render=function(e){this._defer||s("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,i=new Us;return Bs(e,t,null,n,i._onCommit),i},Hs.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Hs.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||s("251"),this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var i=null,r=t;r!==this;)i=r,r=r._next;null===i&&s("251"),i._next=r._next,this._next=t,e.firstBatch=this}this._defer=!1,Ls(e,n),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},Hs.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},Us.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Us.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];"function"!=typeof n&&s("191",n),n()}}},Ws.prototype.render=function(e,t){var n=this._internalRoot,i=new Us;return null!==(t=void 0===t?null:t)&&i.then(t),zs(e,n,null,i._onCommit),i},Ws.prototype.unmount=function(e){var t=this._internalRoot,n=new Us;return null!==(e=void 0===e?null:e)&&n.then(e),zs(null,t,null,n._onCommit),n},Ws.prototype.legacy_renderSubtreeIntoContainer=function(e,t,n){var i=this._internalRoot,r=new Us;return null!==(n=void 0===n?null:n)&&r.then(n),zs(t,i,e,r._onCommit),r},Ws.prototype.createBatch=function(){var e=new Hs(this),t=e._expirationTime,n=this._internalRoot,i=n.firstBatch;if(null===i)n.firstBatch=e,e._next=null;else{for(n=null;null!==i&&i._expirationTime>=t;)n=i,i=i._next;e._next=i,null!==n&&(n._next=e)}return e},Oe=Fs,Le=js,Pe=function(){as||0===cs||(Os(cs,!1),cs=0)};var Ys={createPortal:Ks,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;return void 0===t&&("function"==typeof e.render?s("188"):s("268",Object.keys(e))),e=null===(e=rn(t))?null:e.stateNode},hydrate:function(e,t,n){return Gs(null,e,t,!0,n)},render:function(e,t,n){return Gs(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,i){return(null==e||void 0===e._reactInternalFiber)&&s("38"),Gs(e,t,n,!1,i)},unmountComponentAtNode:function(e){return Vs(e)||s("40"),!!e._reactRootContainer&&($s(function(){Gs(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return Ks.apply(void 0,arguments)},unstable_batchedUpdates:Fs,unstable_interactiveUpdates:js,flushSync:function(e,t){as&&s("187");var n=ds;ds=!0;try{return ns(e,t)}finally{ds=n,Os(1073741823,!1)}},unstable_createRoot:function(e,t){return Vs(e)||s("299","unstable_createRoot"),new Ws(e,!0,null!=t&&!0===t.hydrate)},unstable_flushControlled:function(e){var t=ds;ds=!0;try{ns(e)}finally{(ds=t)||as||Os(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[I,F,$,N.injectEventPluginsByName,y,U,function(e){E(e,H)},Me,Re,An,R]}};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);$i=Bi(function(e){return t.onCommitFiberRoot(n,e)}),ji=Bi(function(e){return t.onCommitFiberUnmount(n,e)})}catch(e){}})(r({},e,{overrideProps:null,findHostInstanceByFiber:function(e){return null===(e=rn(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null}}))}({findFiberByHostInstance:D,bundleType:0,version:"16.7.0",rendererPackageName:"react-dom"});var Xs={default:Ys},Qs=Xs&&Ys||Xs;e.exports=Qs.default||Qs},function(e,t,n){"use strict";e.exports=n(183)},function(e,t,n){"use strict";(function(e){
/** @license React v0.12.0
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
Object.defineProperty(t,"__esModule",{value:!0});var n=null,i=!1,r=3,o=-1,s=-1,a=!1,l=!1;function u(){if(!a){var e=n.expirationTime;l?k():l=!0,w(f,e)}}function c(){var e=n,t=n.next;if(n===t)n=null;else{var i=n.previous;n=i.next=t,t.previous=i}e.next=e.previous=null,i=e.callback,t=e.expirationTime,e=e.priorityLevel;var o=r,a=s;r=e,s=t;try{var l=i()}finally{r=o,s=a}if("function"==typeof l)if(l={callback:l,priorityLevel:e,expirationTime:t,next:null,previous:null},null===n)n=l.next=l.previous=l;else{i=null,e=n;do{if(e.expirationTime>=t){i=e;break}e=e.next}while(e!==n);null===i?i=n:i===n&&(n=l,u()),(t=i.previous).next=i.previous=l,l.next=i,l.previous=t}}function p(){if(-1===o&&null!==n&&1===n.priorityLevel){a=!0;try{do{c()}while(null!==n&&1===n.priorityLevel)}finally{a=!1,null!==n?u():l=!1}}}function f(e){a=!0;var r=i;i=e;try{if(e)for(;null!==n;){var o=t.unstable_now();if(!(n.expirationTime<=o))break;do{c()}while(null!==n&&n.expirationTime<=o)}else if(null!==n)do{c()}while(null!==n&&!S())}finally{a=!1,i=r,null!==n?u():l=!1,p()}}var d,h,m=Date,g="function"==typeof setTimeout?setTimeout:void 0,b="function"==typeof clearTimeout?clearTimeout:void 0,y="function"==typeof requestAnimationFrame?requestAnimationFrame:void 0,v="function"==typeof cancelAnimationFrame?cancelAnimationFrame:void 0;function _(e){d=y(function(t){b(h),e(t)}),h=g(function(){v(d),e(t.unstable_now())},100)}if("object"==typeof performance&&"function"==typeof performance.now){var x=performance;t.unstable_now=function(){return x.now()}}else t.unstable_now=function(){return m.now()};var w,k,S,C=null;if("undefined"!=typeof window?C=window:void 0!==e&&(C=e),C&&C._schedMock){var E=C._schedMock;w=E[0],k=E[1],S=E[2],t.unstable_now=E[3]}else if("undefined"==typeof window||"function"!=typeof MessageChannel){var T=null,A=function(e){if(null!==T)try{T(e)}finally{T=null}};w=function(e){null!==T?setTimeout(w,0,e):(T=e,setTimeout(A,0,!1))},k=function(){T=null},S=function(){return!1}}else{"undefined"!=typeof console&&("function"!=typeof y&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var N=null,M=!1,R=-1,O=!1,L=!1,P=0,D=33,I=33;S=function(){return P<=t.unstable_now()};var F=new MessageChannel,$=F.port2;F.port1.onmessage=function(){M=!1;var e=N,n=R;N=null,R=-1;var i=t.unstable_now(),r=!1;if(0>=P-i){if(!(-1!==n&&n<=i))return O||(O=!0,_(j)),N=e,void(R=n);r=!0}if(null!==e){L=!0;try{e(r)}finally{L=!1}}};var j=function(e){if(null!==N){_(j);var t=e-P+I;t<I&&D<I?(8>t&&(t=8),I=t<D?D:t):D=t,P=e+I,M||(M=!0,$.postMessage(void 0))}else O=!1};w=function(e,t){N=e,R=t,L||0>t?$.postMessage(void 0):O||(O=!0,_(j))},k=function(){N=null,M=!1,R=-1}}t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var i=r,s=o;r=e,o=t.unstable_now();try{return n()}finally{r=i,o=s,p()}},t.unstable_scheduleCallback=function(e,i){var s=-1!==o?o:t.unstable_now();if("object"==typeof i&&null!==i&&"number"==typeof i.timeout)i=s+i.timeout;else switch(r){case 1:i=s+-1;break;case 2:i=s+250;break;case 5:i=s+1073741823;break;case 4:i=s+1e4;break;default:i=s+5e3}if(e={callback:e,priorityLevel:r,expirationTime:i,next:null,previous:null},null===n)n=e.next=e.previous=e,u();else{s=null;var a=n;do{if(a.expirationTime>i){s=a;break}a=a.next}while(a!==n);null===s?s=n:s===n&&(n=e,u()),(i=s.previous).next=s.previous=e,e.next=s,e.previous=i}return e},t.unstable_cancelCallback=function(e){var t=e.next;if(null!==t){if(t===e)n=null;else{e===n&&(n=t);var i=e.previous;i.next=t,t.previous=i}e.next=e.previous=null}},t.unstable_wrapCallback=function(e){var n=r;return function(){var i=r,s=o;r=n,o=t.unstable_now();try{return e.apply(this,arguments)}finally{r=i,o=s,p()}}},t.unstable_getCurrentPriorityLevel=function(){return r},t.unstable_shouldYield=function(){return!i&&(null!==n&&n.expirationTime<s||S())},t.unstable_continueExecution=function(){null!==n&&u()},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return n}}).call(this,n(12))},function(e,t,n){(function(t){e.exports=t.ReactDOMFactories=n(104)}).call(this,n(12))},function(e,t,n){(function(t){e.exports=t.reactCreateClass=n(186)}).call(this,n(12))},function(e,t,n){"use strict";var i=n(1),r=n(187);if(void 0===i)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var o=(new i.Component).updater;e.exports=r(i.Component,i.isValidElement,o)},function(e,t,n){"use strict";var i=n(48),r=n(188),o=n(105),s="mixins";e.exports=function(e,t,n){var a=[],l={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},u={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},c={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)f(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=i({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=i({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=h(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=i({},e.propTypes,t)},statics:function(e,t){!function(e,t){if(t)for(var n in t){var i=t[n];if(t.hasOwnProperty(n)){var r=n in c;o(!r,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n);var s=n in e;if(s){var a=u.hasOwnProperty(n)?u[n]:null;return o("DEFINE_MANY_MERGED"===a,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),void(e[n]=h(e[n],i))}e[n]=i}}}(e,t)},autobind:function(){}};function p(e,t){var n=l.hasOwnProperty(t)?l[t]:null;v.hasOwnProperty(t)&&o("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&o("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function f(e,n){if(n){o("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),o(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var i=e.prototype,r=i.__reactAutoBindPairs;for(var a in n.hasOwnProperty(s)&&c.mixins(e,n.mixins),n)if(n.hasOwnProperty(a)&&a!==s){var u=n[a],f=i.hasOwnProperty(a);if(p(f,a),c.hasOwnProperty(a))c[a](e,u);else{var d=l.hasOwnProperty(a);if("function"!=typeof u||d||f||!1===n.autobind)if(f){var g=l[a];o(d&&("DEFINE_MANY_MERGED"===g||"DEFINE_MANY"===g),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",g,a),"DEFINE_MANY_MERGED"===g?i[a]=h(i[a],u):"DEFINE_MANY"===g&&(i[a]=m(i[a],u))}else i[a]=u;else r.push(a,u),i[a]=u}}}}function d(e,t){for(var n in o(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),t)t.hasOwnProperty(n)&&(o(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function h(e,t){return function(){var n=e.apply(this,arguments),i=t.apply(this,arguments);if(null==n)return i;if(null==i)return n;var r={};return d(r,n),d(r,i),r}}function m(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function g(e,t){return t.bind(e)}var b={componentDidMount:function(){this.__isMounted=!0}},y={componentWillUnmount:function(){this.__isMounted=!1}},v={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},_=function(){};return i(_.prototype,e.prototype,v),function(e){var t=function(e,i,s){this.__reactAutoBindPairs.length&&function(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var i=t[n],r=t[n+1];e[i]=g(e,r)}}(this),this.props=e,this.context=i,this.refs=r,this.updater=s||n,this.state=null;var a=this.getInitialState?this.getInitialState():null;o("object"==typeof a&&!Array.isArray(a),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=a};for(var i in t.prototype=new _,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],a.forEach(f.bind(null,t)),f(t,b),f(t,e),f(t,y),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),o(t.prototype.render,"createClass(...): Class specification must implement a `render` method."),l)t.prototype[i]||(t.prototype[i]=null);return t}}},function(e,t,n){"use strict";e.exports={}},function(e,t,n){(function(t){e.exports=t._=n(190)}).call(this,n(12))},function(e,t,n){(function(e,n){var i;!function(){var r="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e||this||{},o=r._,s=Array.prototype,a=Object.prototype,l="undefined"!=typeof Symbol?Symbol.prototype:null,u=s.push,c=s.slice,p=a.toString,f=a.hasOwnProperty,d=Array.isArray,h=Object.keys,m=Object.create,g=function(){},b=function(e){return e instanceof b?e:this instanceof b?void(this._wrapped=e):new b(e)};t.nodeType?r._=b:(!n.nodeType&&n.exports&&(t=n.exports=b),t._=b),b.VERSION="1.9.1";var y,v=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,o){return e.call(t,n,i,r,o)}}return function(){return e.apply(t,arguments)}},_=function(e,t,n){return b.iteratee!==y?b.iteratee(e,t):null==e?b.identity:b.isFunction(e)?v(e,t,n):b.isObject(e)&&!b.isArray(e)?b.matcher(e):b.property(e)};b.iteratee=y=function(e,t){return _(e,t,1/0)};var x=function(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),i=Array(n),r=0;r<n;r++)i[r]=arguments[r+t];switch(t){case 0:return e.call(this,i);case 1:return e.call(this,arguments[0],i);case 2:return e.call(this,arguments[0],arguments[1],i)}var o=Array(t+1);for(r=0;r<t;r++)o[r]=arguments[r];return o[t]=i,e.apply(this,o)}},w=function(e){if(!b.isObject(e))return{};if(m)return m(e);g.prototype=e;var t=new g;return g.prototype=null,t},k=function(e){return function(t){return null==t?void 0:t[e]}},S=function(e,t){return null!=e&&f.call(e,t)},C=function(e,t){for(var n=t.length,i=0;i<n;i++){if(null==e)return;e=e[t[i]]}return n?e:void 0},E=Math.pow(2,53)-1,T=k("length"),A=function(e){var t=T(e);return"number"==typeof t&&t>=0&&t<=E};b.each=b.forEach=function(e,t,n){var i,r;if(t=v(t,n),A(e))for(i=0,r=e.length;i<r;i++)t(e[i],i,e);else{var o=b.keys(e);for(i=0,r=o.length;i<r;i++)t(e[o[i]],o[i],e)}return e},b.map=b.collect=function(e,t,n){t=_(t,n);for(var i=!A(e)&&b.keys(e),r=(i||e).length,o=Array(r),s=0;s<r;s++){var a=i?i[s]:s;o[s]=t(e[a],a,e)}return o};var N=function(e){return function(t,n,i,r){var o=arguments.length>=3;return function(t,n,i,r){var o=!A(t)&&b.keys(t),s=(o||t).length,a=e>0?0:s-1;for(r||(i=t[o?o[a]:a],a+=e);a>=0&&a<s;a+=e){var l=o?o[a]:a;i=n(i,t[l],l,t)}return i}(t,v(n,r,4),i,o)}};b.reduce=b.foldl=b.inject=N(1),b.reduceRight=b.foldr=N(-1),b.find=b.detect=function(e,t,n){var i=(A(e)?b.findIndex:b.findKey)(e,t,n);if(void 0!==i&&-1!==i)return e[i]},b.filter=b.select=function(e,t,n){var i=[];return t=_(t,n),b.each(e,function(e,n,r){t(e,n,r)&&i.push(e)}),i},b.reject=function(e,t,n){return b.filter(e,b.negate(_(t)),n)},b.every=b.all=function(e,t,n){t=_(t,n);for(var i=!A(e)&&b.keys(e),r=(i||e).length,o=0;o<r;o++){var s=i?i[o]:o;if(!t(e[s],s,e))return!1}return!0},b.some=b.any=function(e,t,n){t=_(t,n);for(var i=!A(e)&&b.keys(e),r=(i||e).length,o=0;o<r;o++){var s=i?i[o]:o;if(t(e[s],s,e))return!0}return!1},b.contains=b.includes=b.include=function(e,t,n,i){return A(e)||(e=b.values(e)),("number"!=typeof n||i)&&(n=0),b.indexOf(e,t,n)>=0},b.invoke=x(function(e,t,n){var i,r;return b.isFunction(t)?r=t:b.isArray(t)&&(i=t.slice(0,-1),t=t[t.length-1]),b.map(e,function(e){var o=r;if(!o){if(i&&i.length&&(e=C(e,i)),null==e)return;o=e[t]}return null==o?o:o.apply(e,n)})}),b.pluck=function(e,t){return b.map(e,b.property(t))},b.where=function(e,t){return b.filter(e,b.matcher(t))},b.findWhere=function(e,t){return b.find(e,b.matcher(t))},b.max=function(e,t,n){var i,r,o=-1/0,s=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var a=0,l=(e=A(e)?e:b.values(e)).length;a<l;a++)null!=(i=e[a])&&i>o&&(o=i);else t=_(t,n),b.each(e,function(e,n,i){((r=t(e,n,i))>s||r===-1/0&&o===-1/0)&&(o=e,s=r)});return o},b.min=function(e,t,n){var i,r,o=1/0,s=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var a=0,l=(e=A(e)?e:b.values(e)).length;a<l;a++)null!=(i=e[a])&&i<o&&(o=i);else t=_(t,n),b.each(e,function(e,n,i){((r=t(e,n,i))<s||r===1/0&&o===1/0)&&(o=e,s=r)});return o},b.shuffle=function(e){return b.sample(e,1/0)},b.sample=function(e,t,n){if(null==t||n)return A(e)||(e=b.values(e)),e[b.random(e.length-1)];var i=A(e)?b.clone(e):b.values(e),r=T(i);t=Math.max(Math.min(t,r),0);for(var o=r-1,s=0;s<t;s++){var a=b.random(s,o),l=i[s];i[s]=i[a],i[a]=l}return i.slice(0,t)},b.sortBy=function(e,t,n){var i=0;return t=_(t,n),b.pluck(b.map(e,function(e,n,r){return{value:e,index:i++,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return e.index-t.index}),"value")};var M=function(e,t){return function(n,i,r){var o=t?[[],[]]:{};return i=_(i,r),b.each(n,function(t,r){var s=i(t,r,n);e(o,t,s)}),o}};b.groupBy=M(function(e,t,n){S(e,n)?e[n].push(t):e[n]=[t]}),b.indexBy=M(function(e,t,n){e[n]=t}),b.countBy=M(function(e,t,n){S(e,n)?e[n]++:e[n]=1});var R=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;b.toArray=function(e){return e?b.isArray(e)?c.call(e):b.isString(e)?e.match(R):A(e)?b.map(e,b.identity):b.values(e):[]},b.size=function(e){return null==e?0:A(e)?e.length:b.keys(e).length},b.partition=M(function(e,t,n){e[n?0:1].push(t)},!0),b.first=b.head=b.take=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[0]:b.initial(e,e.length-t)},b.initial=function(e,t,n){return c.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},b.last=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[e.length-1]:b.rest(e,Math.max(0,e.length-t))},b.rest=b.tail=b.drop=function(e,t,n){return c.call(e,null==t||n?1:t)},b.compact=function(e){return b.filter(e,Boolean)};var O=function(e,t,n,i){for(var r=(i=i||[]).length,o=0,s=T(e);o<s;o++){var a=e[o];if(A(a)&&(b.isArray(a)||b.isArguments(a)))if(t)for(var l=0,u=a.length;l<u;)i[r++]=a[l++];else O(a,t,n,i),r=i.length;else n||(i[r++]=a)}return i};b.flatten=function(e,t){return O(e,t,!1)},b.without=x(function(e,t){return b.difference(e,t)}),b.uniq=b.unique=function(e,t,n,i){b.isBoolean(t)||(i=n,n=t,t=!1),null!=n&&(n=_(n,i));for(var r=[],o=[],s=0,a=T(e);s<a;s++){var l=e[s],u=n?n(l,s,e):l;t&&!n?(s&&o===u||r.push(l),o=u):n?b.contains(o,u)||(o.push(u),r.push(l)):b.contains(r,l)||r.push(l)}return r},b.union=x(function(e){return b.uniq(O(e,!0,!0))}),b.intersection=function(e){for(var t=[],n=arguments.length,i=0,r=T(e);i<r;i++){var o=e[i];if(!b.contains(t,o)){var s;for(s=1;s<n&&b.contains(arguments[s],o);s++);s===n&&t.push(o)}}return t},b.difference=x(function(e,t){return t=O(t,!0,!0),b.filter(e,function(e){return!b.contains(t,e)})}),b.unzip=function(e){for(var t=e&&b.max(e,T).length||0,n=Array(t),i=0;i<t;i++)n[i]=b.pluck(e,i);return n},b.zip=x(b.unzip),b.object=function(e,t){for(var n={},i=0,r=T(e);i<r;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n};var L=function(e){return function(t,n,i){n=_(n,i);for(var r=T(t),o=e>0?0:r-1;o>=0&&o<r;o+=e)if(n(t[o],o,t))return o;return-1}};b.findIndex=L(1),b.findLastIndex=L(-1),b.sortedIndex=function(e,t,n,i){for(var r=(n=_(n,i,1))(t),o=0,s=T(e);o<s;){var a=Math.floor((o+s)/2);n(e[a])<r?o=a+1:s=a}return o};var P=function(e,t,n){return function(i,r,o){var s=0,a=T(i);if("number"==typeof o)e>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return i[o=n(i,r)]===r?o:-1;if(r!=r)return(o=t(c.call(i,s,a),b.isNaN))>=0?o+s:-1;for(o=e>0?s:a-1;o>=0&&o<a;o+=e)if(i[o]===r)return o;return-1}};b.indexOf=P(1,b.findIndex,b.sortedIndex),b.lastIndexOf=P(-1,b.findLastIndex),b.range=function(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var i=Math.max(Math.ceil((t-e)/n),0),r=Array(i),o=0;o<i;o++,e+=n)r[o]=e;return r},b.chunk=function(e,t){if(null==t||t<1)return[];for(var n=[],i=0,r=e.length;i<r;)n.push(c.call(e,i,i+=t));return n};var D=function(e,t,n,i,r){if(!(i instanceof t))return e.apply(n,r);var o=w(e.prototype),s=e.apply(o,r);return b.isObject(s)?s:o};b.bind=x(function(e,t,n){if(!b.isFunction(e))throw new TypeError("Bind must be called on a function");var i=x(function(r){return D(e,i,t,this,n.concat(r))});return i}),b.partial=x(function(e,t){var n=b.partial.placeholder,i=function(){for(var r=0,o=t.length,s=Array(o),a=0;a<o;a++)s[a]=t[a]===n?arguments[r++]:t[a];for(;r<arguments.length;)s.push(arguments[r++]);return D(e,i,this,this,s)};return i}),b.partial.placeholder=b,b.bindAll=x(function(e,t){var n=(t=O(t,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var i=t[n];e[i]=b.bind(e[i],e)}}),b.memoize=function(e,t){var n=function(i){var r=n.cache,o=""+(t?t.apply(this,arguments):i);return S(r,o)||(r[o]=e.apply(this,arguments)),r[o]};return n.cache={},n},b.delay=x(function(e,t,n){return setTimeout(function(){return e.apply(null,n)},t)}),b.defer=b.partial(b.delay,b,1),b.throttle=function(e,t,n){var i,r,o,s,a=0;n||(n={});var l=function(){a=!1===n.leading?0:b.now(),i=null,s=e.apply(r,o),i||(r=o=null)},u=function(){var u=b.now();a||!1!==n.leading||(a=u);var c=t-(u-a);return r=this,o=arguments,c<=0||c>t?(i&&(clearTimeout(i),i=null),a=u,s=e.apply(r,o),i||(r=o=null)):i||!1===n.trailing||(i=setTimeout(l,c)),s};return u.cancel=function(){clearTimeout(i),a=0,i=r=o=null},u},b.debounce=function(e,t,n){var i,r,o=function(t,n){i=null,n&&(r=e.apply(t,n))},s=x(function(s){if(i&&clearTimeout(i),n){var a=!i;i=setTimeout(o,t),a&&(r=e.apply(this,s))}else i=b.delay(o,t,this,s);return r});return s.cancel=function(){clearTimeout(i),i=null},s},b.wrap=function(e,t){return b.partial(t,e)},b.negate=function(e){return function(){return!e.apply(this,arguments)}},b.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}},b.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},b.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},b.once=b.partial(b.before,2),b.restArguments=x;var I=!{toString:null}.propertyIsEnumerable("toString"),F=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],$=function(e,t){var n=F.length,i=e.constructor,r=b.isFunction(i)&&i.prototype||a,o="constructor";for(S(e,o)&&!b.contains(t,o)&&t.push(o);n--;)(o=F[n])in e&&e[o]!==r[o]&&!b.contains(t,o)&&t.push(o)};b.keys=function(e){if(!b.isObject(e))return[];if(h)return h(e);var t=[];for(var n in e)S(e,n)&&t.push(n);return I&&$(e,t),t},b.allKeys=function(e){if(!b.isObject(e))return[];var t=[];for(var n in e)t.push(n);return I&&$(e,t),t},b.values=function(e){for(var t=b.keys(e),n=t.length,i=Array(n),r=0;r<n;r++)i[r]=e[t[r]];return i},b.mapObject=function(e,t,n){t=_(t,n);for(var i=b.keys(e),r=i.length,o={},s=0;s<r;s++){var a=i[s];o[a]=t(e[a],a,e)}return o},b.pairs=function(e){for(var t=b.keys(e),n=t.length,i=Array(n),r=0;r<n;r++)i[r]=[t[r],e[t[r]]];return i},b.invert=function(e){for(var t={},n=b.keys(e),i=0,r=n.length;i<r;i++)t[e[n[i]]]=n[i];return t},b.functions=b.methods=function(e){var t=[];for(var n in e)b.isFunction(e[n])&&t.push(n);return t.sort()};var j=function(e,t){return function(n){var i=arguments.length;if(t&&(n=Object(n)),i<2||null==n)return n;for(var r=1;r<i;r++)for(var o=arguments[r],s=e(o),a=s.length,l=0;l<a;l++){var u=s[l];t&&void 0!==n[u]||(n[u]=o[u])}return n}};b.extend=j(b.allKeys),b.extendOwn=b.assign=j(b.keys),b.findKey=function(e,t,n){t=_(t,n);for(var i,r=b.keys(e),o=0,s=r.length;o<s;o++)if(t(e[i=r[o]],i,e))return i};var B,z,q=function(e,t,n){return t in n};b.pick=x(function(e,t){var n={},i=t[0];if(null==e)return n;b.isFunction(i)?(t.length>1&&(i=v(i,t[1])),t=b.allKeys(e)):(i=q,t=O(t,!1,!1),e=Object(e));for(var r=0,o=t.length;r<o;r++){var s=t[r],a=e[s];i(a,s,e)&&(n[s]=a)}return n}),b.omit=x(function(e,t){var n,i=t[0];return b.isFunction(i)?(i=b.negate(i),t.length>1&&(n=t[1])):(t=b.map(O(t,!1,!1),String),i=function(e,n){return!b.contains(t,n)}),b.pick(e,i,n)}),b.defaults=j(b.allKeys,!0),b.create=function(e,t){var n=w(e);return t&&b.extendOwn(n,t),n},b.clone=function(e){return b.isObject(e)?b.isArray(e)?e.slice():b.extend({},e):e},b.tap=function(e,t){return t(e),e},b.isMatch=function(e,t){var n=b.keys(t),i=n.length;if(null==e)return!i;for(var r=Object(e),o=0;o<i;o++){var s=n[o];if(t[s]!==r[s]||!(s in r))return!1}return!0},B=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var r=typeof e;return("function"===r||"object"===r||"object"==typeof t)&&z(e,t,n,i)},z=function(e,t,n,i){e instanceof b&&(e=e._wrapped),t instanceof b&&(t=t._wrapped);var r=p.call(e);if(r!==p.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return l.valueOf.call(e)===l.valueOf.call(t)}var o="[object Array]"===r;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var s=e.constructor,a=t.constructor;if(s!==a&&!(b.isFunction(s)&&s instanceof s&&b.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1}i=i||[];for(var u=(n=n||[]).length;u--;)if(n[u]===e)return i[u]===t;if(n.push(e),i.push(t),o){if((u=e.length)!==t.length)return!1;for(;u--;)if(!B(e[u],t[u],n,i))return!1}else{var c,f=b.keys(e);if(u=f.length,b.keys(t).length!==u)return!1;for(;u--;)if(c=f[u],!S(t,c)||!B(e[c],t[c],n,i))return!1}return n.pop(),i.pop(),!0},b.isEqual=function(e,t){return B(e,t)},b.isEmpty=function(e){return null==e||(A(e)&&(b.isArray(e)||b.isString(e)||b.isArguments(e))?0===e.length:0===b.keys(e).length)},b.isElement=function(e){return!(!e||1!==e.nodeType)},b.isArray=d||function(e){return"[object Array]"===p.call(e)},b.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},b.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(e){b["is"+e]=function(t){return p.call(t)==="[object "+e+"]"}}),b.isArguments(arguments)||(b.isArguments=function(e){return S(e,"callee")});var H=r.document&&r.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof H&&(b.isFunction=function(e){return"function"==typeof e||!1}),b.isFinite=function(e){return!b.isSymbol(e)&&isFinite(e)&&!isNaN(parseFloat(e))},b.isNaN=function(e){return b.isNumber(e)&&isNaN(e)},b.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===p.call(e)},b.isNull=function(e){return null===e},b.isUndefined=function(e){return void 0===e},b.has=function(e,t){if(!b.isArray(t))return S(e,t);for(var n=t.length,i=0;i<n;i++){var r=t[i];if(null==e||!f.call(e,r))return!1;e=e[r]}return!!n},b.noConflict=function(){return r._=o,this},b.identity=function(e){return e},b.constant=function(e){return function(){return e}},b.noop=function(){},b.property=function(e){return b.isArray(e)?function(t){return C(t,e)}:k(e)},b.propertyOf=function(e){return null==e?function(){}:function(t){return b.isArray(t)?C(e,t):e[t]}},b.matcher=b.matches=function(e){return e=b.extendOwn({},e),function(t){return b.isMatch(t,e)}},b.times=function(e,t,n){var i=Array(Math.max(0,e));t=v(t,n,1);for(var r=0;r<e;r++)i[r]=t(r);return i},b.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},b.now=Date.now||function(){return(new Date).getTime()};var U={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},W=b.invert(U),V=function(e){var t=function(t){return e[t]},n="(?:"+b.keys(e).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(r,t):e}};b.escape=V(U),b.unescape=V(W),b.result=function(e,t,n){b.isArray(t)||(t=[t]);var i=t.length;if(!i)return b.isFunction(n)?n.call(e):n;for(var r=0;r<i;r++){var o=null==e?void 0:e[t[r]];void 0===o&&(o=n,r=i),e=b.isFunction(o)?o.call(e):o}return e};var G=0;b.uniqueId=function(e){var t=++G+"";return e?e+t:t},b.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var K=/(.)^/,Y={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},X=/\\|'|\r|\n|\u2028|\u2029/g,Q=function(e){return"\\"+Y[e]};b.template=function(e,t,n){!t&&n&&(t=n),t=b.defaults({},t,b.templateSettings);var i,r=RegExp([(t.escape||K).source,(t.interpolate||K).source,(t.evaluate||K).source].join("|")+"|$","g"),o=0,s="__p+='";e.replace(r,function(t,n,i,r,a){return s+=e.slice(o,a).replace(X,Q),o=a+t.length,n?s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?s+="'+\n((__t=("+i+"))==null?'':__t)+\n'":r&&(s+="';\n"+r+"\n__p+='"),t}),s+="';\n",t.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{i=new Function(t.variable||"obj","_",s)}catch(e){throw e.source=s,e}var a=function(e){return i.call(this,e,b)},l=t.variable||"obj";return a.source="function("+l+"){\n"+s+"}",a},b.chain=function(e){var t=b(e);return t._chain=!0,t};var Z=function(e,t){return e._chain?b(t).chain():t};b.mixin=function(e){return b.each(b.functions(e),function(t){var n=b[t]=e[t];b.prototype[t]=function(){var e=[this._wrapped];return u.apply(e,arguments),Z(this,n.apply(b,e))}}),b},b.mixin(b),b.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=s[e];b.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],Z(this,n)}}),b.each(["concat","join","slice"],function(e){var t=s[e];b.prototype[e]=function(){return Z(this,t.apply(this._wrapped,arguments))}}),b.prototype.value=function(){return this._wrapped},b.prototype.valueOf=b.prototype.toJSON=b.prototype.value,b.prototype.toString=function(){return String(this._wrapped)},void 0===(i=function(){return b}.apply(t,[]))||(n.exports=i)}()}).call(this,n(12),n(118)(e))},function(e,t,n){n(246);for(var i=n(24),r=n(37),o=n(51),s=n(19)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<a.length;l++){var u=a[l],c=i[u],p=c&&c.prototype;p&&!p[s]&&r(p,s,u),o[u]=o.Array}},function(e,t,n){var i=n(215),r=n(19)("iterator"),o=n(51);e.exports=n(16).getIteratorMethod=function(e){if(null!=e)return e[r]||e["@@iterator"]||o[i(e)]}},function(e,t,n){var i,r,o,s,a,l,u,c,p,f;({div:o,span:p,td:f}=ReactDOMFactories),s=n(194),u=n(195),i=n(8),l=n(196),({findByExtension:a}=n(139)),n(197),n(140),n(141),n(88),n(142),n(143),n(144),n(145),n(55),n(146),n(147),n(148),n(149),n(150),n(151),n(152),n(153),n(44),n(56),n(154),n(155),n(156),n(157),n(158),n(90),n(159),n(160),n(161),n(162),n(91),n(163),n(164),n(89),n(165),n(166),n(167),n(168),n(169),n(135),n(170),n(171),n(172),n(45),n(173),(c=new u.Renderer).code=function(e,t){var n;return t=(t||"").toLowerCase(),"text/plain"===(t=a(t)||"text/plain")?`<pre class='cmh-pre ${window.project_theme||"light"}'> <code class='cmh' data-language='${t}'>${s(e)}</code> </pre>`:"text/x-latex"===t?`<p class='text-center'>${l.renderToString(e,{display:!0})}</p>`:(n="",i.runMode(e,t,function(e,t){return n+=t?`<span class="cm-${t||""}">${s(e)}</span>`:s(e)}),`<pre class='cmh-pre ${window.project_theme||"light"}'> <code class='cmh' data-language='${t}'>${n}</code> </pre>`)},c.codespan=function(e,t){return e.startsWith("$")&&e.endsWith("$")?l.renderToString(e.replace(/^\$/,"").replace(/\$$/,""),{display:!1}):`<code>${e}</code>`},c.image=function(e,t,n){return`<a class='markdown-image-link' href=${e} target='_blank'> <img src='${e}' alt='${n}'> </a>`},c.link=function(e,t,n){return e||(e=""),t||(t=""),n||(n=""),`<a href='${e}' title='${t}' target='_blank'>${n}</a>`},c.table=function(e,t){return`<table class='table table-striped'><thead>${e}</thead><tbody> ${t}</tbody></table>`},c.text=function(e){return`<span>${e}</span>`},r=reactCreateClass({displayName:"MarkdownDiv",propTypes:{contents:PropTypes.string,elm:PropTypes.string,rkey:PropTypes.string,klass:PropTypes.string,onClick:PropTypes.func},getDefaultProps:function(){return{elm:"div"}},markdown:function(e){return e||(e=""),{__html:u(e,{renderer:c})}},render:function(){return{div:o,span:p,td:f}[this.props.elm]({key:this.props.rkey,className:`custom-markdown ${this.props.klass}`,onClick:()=>{if(this.props.onClick)return this.props.onClick()},dangerouslySetInnerHTML:this.markdown(this.props.contents)})}}),e.exports=r},function(e,t,n){"use strict";
/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var i=/["'&<>]/;e.exports=function(e){var t,n=""+e,r=i.exec(n);if(!r)return n;var o="",s=0,a=0;for(s=r.index;s<n.length;s++){switch(n.charCodeAt(s)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#39;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}a!==s&&(o+=n.substring(a,s)),a=s+1,o+=t}return a!==s?o+n.substring(a,s):o}},function(e,t,n){(function(t){!function(t){"use strict";var n={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:m,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:m,blockquote:/^((info|danger|warning|success)? {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:m,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,paragraph:/^([^\n]+(?:\n?(?!hr|heading|lheading| {0,3}>|tag)[^\n]+)+)/,text:/^[^\n]+/};function i(e){this.tokens=[],this.tokens.links={},this.options=e||b.defaults,this.rules=n.normal,this.options.gfm&&(this.options.tables?this.rules=n.tables:this.rules=n.gfm)}n._label=/(?:\\[\[\]]|[^\[\]])+/,n._title=/(?:"(?:\\"|[^"]|"[^"\n]*")*"|'\n?(?:[^'\n]+\n?)*'|\([^()]*\))/,n.def=p(n.def).replace("label",n._label).replace("title",n._title).getRegex(),n.bullet=/(?:[*+-]|\d+\.)/,n.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,n.item=p(n.item,"gm").replace(/bull/g,n.bullet).getRegex(),n.list=p(n.list).replace(/bull/g,n.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+n.def.source+")").getRegex(),n._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b",n.html=p(n.html).replace("comment",/<!--[\s\S]*?-->/).replace("closed",/<(tag)[\s\S]+?<\/\1>/).replace("closing",/<tag(?:"[^"]*"|'[^']*'|\s[^'"\/>\s]*)*?\/?>/).replace(/tag/g,n._tag).getRegex(),n.paragraph=p(n.paragraph).replace("hr",n.hr).replace("heading",n.heading).replace("lheading",n.lheading).replace("tag","<"+n._tag).getRegex(),n.blockquote=p(n.blockquote).replace("paragraph",n.paragraph).getRegex(),n.normal=g({},n),n.gfm=g({},n.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\n? *\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),n.gfm.paragraph=p(n.paragraph).replace("(?!","(?!"+n.gfm.fences.source.replace("\\1","\\2")+"|"+n.list.source.replace("\\1","\\3")+"|").getRegex(),n.tables=g({},n.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),i.rules=n,i.lex=function(e,t){return new i(t).lex(e)},i.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},i.prototype.token=function(e,t){var i,r,o,s,a,l,u,c,p,f,d;for(e=e.replace(/^ +$/gm,"");e;)if((o=this.rules.newline.exec(e))&&(e=e.substring(o[0].length),o[0].length>1&&this.tokens.push({type:"space"})),o=this.rules.code.exec(e))e=e.substring(o[0].length),o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?o:o.replace(/\n+$/,"")});else if(o=this.rules.fences.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"code",lang:o[2],text:o[3]||""});else if(o=this.rules.heading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});else if(t&&(o=this.rules.nptable.exec(e))){for(e=e.substring(o[0].length),l={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/\n$/,"").split("\n")},c=0;c<l.align.length;c++)/^ *-+: *$/.test(l.align[c])?l.align[c]="right":/^ *:-+: *$/.test(l.align[c])?l.align[c]="center":/^ *:-+ *$/.test(l.align[c])?l.align[c]="left":l.align[c]=null;for(c=0;c<l.cells.length;c++)l.cells[c]=l.cells[c].split(/ *\| */);this.tokens.push(l)}else if(o=this.rules.hr.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"hr"});else if(o=this.rules.blockquote.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"blockquote_start",quote_class:o[2]||""}),o=o[0].replace(/^( |info|success|danger|warning)*> ?/gm,""),this.token(o,t),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(e)){for(e=e.substring(o[0].length),d=(s=o[2]).length>1,this.tokens.push({type:"list_start",ordered:d,start:d?+s:""}),i=!1,f=(o=o[0].match(this.rules.item)).length,c=0;c<f;c++)u=(l=o[c]).length,~(l=l.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(u-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(new RegExp("^ {1,"+u+"}","gm"),"")),this.options.smartLists&&c!==f-1&&(s===(a=n.bullet.exec(o[c+1])[0])||s.length>1&&a.length>1||(e=o.slice(c+1).join("\n")+e,c=f-1)),r=i||/\n\n(?!\s*$)/.test(l),c!==f-1&&(i="\n"===l.charAt(l.length-1),r||(r=i)),this.tokens.push({type:r?"loose_item_start":"list_item_start"}),this.token(l,!1),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(o=this.rules.html.exec(e))e=e.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===o[1]||"script"===o[1]||"style"===o[1]),text:o[0]});else if(t&&(o=this.rules.def.exec(e)))e=e.substring(o[0].length),o[3]&&(o[3]=o[3].substring(1,o[3].length-1)),p=o[1].toLowerCase(),this.tokens.links[p]||(this.tokens.links[p]={href:o[2],title:o[3]});else if(t&&(o=this.rules.table.exec(e))){for(e=e.substring(o[0].length),l={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/(?: *\| *)?\n$/,"").split("\n")},c=0;c<l.align.length;c++)/^ *-+: *$/.test(l.align[c])?l.align[c]="right":/^ *:-+: *$/.test(l.align[c])?l.align[c]="center":/^ *:-+ *$/.test(l.align[c])?l.align[c]="left":l.align[c]=null;for(c=0;c<l.cells.length;c++)l.cells[c]=l.cells[c].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(l)}else if(o=this.rules.lheading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2]?1:2,text:o[1]});else if(t&&(o=this.rules.paragraph.exec(e)))e=e.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var r={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:m,tag:/^<!--[\s\S]*?-->|^<\/?[a-zA-Z0-9\-]+(?:"[^"]*"|'[^']*'|\s[^<'">\/\s]*)*?\/?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^_([^\s_](?:[^_]|__)+?[^\s_])_\b|^\*((?:\*\*|[^*])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`]?)\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:m,text:/^[\s\S]+?(?=[\\<!\[`*]|\b_| {2,}\n|$)/};function o(e,t){if(this.options=t||b.defaults,this.links=e,this.rules=r.normal,this.renderer=this.options.renderer||new s,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=r.breaks:this.rules=r.gfm:this.options.pedantic&&(this.rules=r.pedantic)}function s(e){this.options=e||{}}function a(){}function l(e){this.tokens=[],this.token=null,this.options=e||b.defaults,this.options.renderer=this.options.renderer||new s,this.renderer=this.options.renderer,this.renderer.options=this.options}function u(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function c(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function p(e,t){return e=e.source,t=t||"",{replace:function(t,n){return n=(n=n.source||n).replace(/(^|[^\[])\^/g,"$1"),e=e.replace(t,n),this},getRegex:function(){return new RegExp(e,t)}}}function f(e,t){return d[" "+e]||(/^[^:]+:\/*[^\/]*$/.test(e)?d[" "+e]=e+"/":d[" "+e]=e.replace(/[^\/]*$/,"")),e=d[" "+e],"//"===t.slice(0,2)?e.replace(/:[\s\S]*/,":")+t:"/"===t.charAt(0)?e.replace(/(:\/*[^\/]*)[\s\S]*/,"$1")+t:e+t}r._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,r._email=/[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,r.autolink=p(r.autolink).replace("scheme",r._scheme).replace("email",r._email).getRegex(),r._inside=/(?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]]|\](?=[^\[]*\]))*/,r._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,r.link=p(r.link).replace("inside",r._inside).replace("href",r._href).getRegex(),r.reflink=p(r.reflink).replace("inside",r._inside).getRegex(),r.normal=g({},r),r.pedantic=g({},r.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),r.gfm=g({},r.normal,{escape:p(r.escape).replace("])","~|])").getRegex(),url:p(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("email",r._email).getRegex(),_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:p(r.text).replace("]|","~]|").replace("|","|https?://|ftp://|www\\.|[a-zA-Z0-9.!#$%&'*+/=?^_`{\\|}~-]+@|").getRegex()}),r.breaks=g({},r.gfm,{br:p(r.br).replace("{2,}","*").getRegex(),text:p(r.gfm.text).replace("{2,}","*").getRegex()}),o.rules=r,o.output=function(e,t,n){return new o(t,n).output(e)},o.prototype.output=function(e){for(var t,n,i,r,o="";e;)if(r=this.rules.escape.exec(e))e=e.substring(r[0].length),o+=r[1];else if(r=this.rules.autolink.exec(e))e=e.substring(r[0].length),i="@"===r[2]?"mailto:"+(n=u(this.mangle(r[1]))):n=u(r[1]),o+=this.renderer.link(i,null,n);else if(this.inLink||!(r=this.rules.url.exec(e))){if(r=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(r[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(r[0])&&(this.inLink=!1),e=e.substring(r[0].length),o+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):u(r[0]):r[0];else if(r=this.rules.link.exec(e))e=e.substring(r[0].length),this.inLink=!0,o+=this.outputLink(r,{href:r[2],title:r[3]}),this.inLink=!1;else if((r=this.rules.reflink.exec(e))||(r=this.rules.nolink.exec(e))){if(e=e.substring(r[0].length),t=(r[2]||r[1]).replace(/\s+/g," "),!(t=this.links[t.toLowerCase()])||!t.href){o+=r[0].charAt(0),e=r[0].substring(1)+e;continue}this.inLink=!0,o+=this.outputLink(r,t),this.inLink=!1}else if(r=this.rules.strong.exec(e))e=e.substring(r[0].length),o+=this.renderer.strong(this.output(r[2]||r[1]));else if(r=this.rules.em.exec(e))e=e.substring(r[0].length),o+=this.renderer.em(this.output(r[2]||r[1]));else if(r=this.rules.code.exec(e))e=e.substring(r[0].length),o+=this.renderer.codespan(u(r[2].trim(),!0));else if(r=this.rules.br.exec(e))e=e.substring(r[0].length),o+=this.renderer.br();else if(r=this.rules.del.exec(e))e=e.substring(r[0].length),o+=this.renderer.del(this.output(r[1]));else if(r=this.rules.text.exec(e))e=e.substring(r[0].length),o+=this.renderer.text(u(this.smartypants(r[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else r[0]=this.rules._backpedal.exec(r[0])[0],e=e.substring(r[0].length),"@"===r[2]?i="mailto:"+(n=u(r[0])):(n=u(r[0]),i="www."===r[1]?"http://"+n:n),o+=this.renderer.link(i,null,n);return o},o.prototype.outputLink=function(e,t){var n=u(t.href),i=t.title?u(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,i,this.output(e[1])):this.renderer.image(n,i,u(e[1]))},o.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},o.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,n="",i=e.length,r=0;r<i;r++)t=e.charCodeAt(r),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},s.prototype.code=function(e,t,n){if(this.options.highlight){var i=this.options.highlight(e,t);null!=i&&i!==e&&(n=!0,e=i)}return t?'<pre><code class="'+this.options.langPrefix+u(t,!0)+'">'+(n?e:u(e,!0))+"\n</code></pre>\n":"<pre><code>"+(n?e:u(e,!0))+"\n</code></pre>"},s.prototype.blockquote=function(e,t){return'<blockquote class="'+t+'">\n'+e+"</blockquote>\n"},s.prototype.html=function(e){return e},s.prototype.heading=function(e,t,n){return"<h"+t+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},s.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},s.prototype.list=function(e,t,n){var i=t?"ol":"ul";return"<"+i+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+i+">\n"},s.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},s.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},s.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},s.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},s.prototype.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},s.prototype.strong=function(e){return"<strong>"+e+"</strong>"},s.prototype.em=function(e){return"<em>"+e+"</em>"},s.prototype.codespan=function(e){return"<code>"+e+"</code>"},s.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},s.prototype.del=function(e){return"<del>"+e+"</del>"},s.prototype.link=function(e,t,n){if(this.options.sanitize){try{var i=decodeURIComponent(c(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return n}if(0===i.indexOf("javascript:")||0===i.indexOf("vbscript:")||0===i.indexOf("data:"))return n}this.options.baseUrl&&!h.test(e)&&(e=f(this.options.baseUrl,e));var r='<a href="'+e+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>"},s.prototype.image=function(e,t,n){this.options.baseUrl&&!h.test(e)&&(e=f(this.options.baseUrl,e));var i='<img src="'+e+'" alt="'+n+'"';return t&&(i+=' title="'+t+'"'),i+=this.options.xhtml?"/>":">"},s.prototype.text=function(e){return e},a.prototype.strong=a.prototype.em=a.prototype.codespan=a.prototype.del=a.prototype.text=function(e){return e},a.prototype.link=a.prototype.image=function(e,t,n){return""+n},a.prototype.br=function(){return""},l.parse=function(e,t){return new l(t).parse(e)},l.prototype.parse=function(e){this.inline=new o(e.links,this.options),this.inlineText=new o(e.links,g({},this.options,{renderer:new a})),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},l.prototype.next=function(){return this.token=this.tokens.pop()},l.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},l.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},l.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,c(this.inlineText.output(this.token.text)));case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,i,r="",o="";for(n="",e=0;e<this.token.header.length;e++)n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(r+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",i=0;i<t.length;i++)n+=this.renderer.tablecell(this.inline.output(t[i]),{header:!1,align:this.token.align[i]});o+=this.renderer.tablerow(n)}return this.renderer.table(r,o);case"blockquote_start":o="";for(var s=this.token.quote_class;"blockquote_end"!==this.next().type;)o+=this.tok();return this.renderer.blockquote(o,s);case"list_start":o="";for(var a=this.token.ordered,l=this.token.start;"list_end"!==this.next().type;)o+=this.tok();return this.renderer.list(o,a,l);case"list_item_start":for(o="";"list_item_end"!==this.next().type;)o+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(o);case"loose_item_start":for(o="";"list_item_end"!==this.next().type;)o+=this.tok();return this.renderer.listitem(o);case"html":var u=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(u);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}};var d={},h=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function m(){}function g(e){for(var t,n,i=1;i<arguments.length;i++)for(n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function b(e,t,n){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(n||"function"==typeof t){n||(n=t,t=null);var r,o,s=(t=g({},b.defaults,t||{})).highlight,a=0;try{r=i.lex(e,t)}catch(e){return n(e)}o=r.length;var c=function(e){if(e)return t.highlight=s,n(e);var i;try{i=l.parse(r,t)}catch(t){e=t}return t.highlight=s,e?n(e):n(null,i)};if(!s||s.length<3)return c();if(delete t.highlight,!o)return c();for(;a<r.length;a++)!function(e){"code"!==e.type?--o||c():s(e.text,e.lang,function(t,n){return t?c(t):null==n||n===e.text?--o||c():(e.text=n,e.escaped=!0,void(--o||c()))})}(r[a])}else try{return t&&(t=g({},b.defaults,t)),l.parse(i.lex(e,t),t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",(t||b.defaults).silent)return"<p>An error occurred:</p><pre>"+u(e.message+"",!0)+"</pre>";throw e}}m.exec=m,b.options=b.setOptions=function(e){return g(b.defaults,e),b},b.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new s,xhtml:!1,baseUrl:null},b.Parser=l,b.parser=l.parse,b.Renderer=s,b.TextRenderer=a,b.Lexer=i,b.lexer=i.lex,b.InlineLexer=o,b.inlineLexer=o.output,b.parse=b,e.exports=b}(this||"undefined"!=typeof window&&window)}).call(this,n(12))},function(e,t,n){var i;"undefined"!=typeof self&&self,i=function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(0);var i=function(){function e(e,t,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=t,this.end=n}return e.range=function(t,n){return n?t&&t.loc&&n.loc&&t.loc.lexer===n.loc.lexer?new e(t.loc.lexer,t.loc.start,n.loc.end):null:t&&t.loc},e}(),r=function(){function e(e,t){this.text=void 0,this.loc=void 0,this.text=e,this.loc=t}return e.prototype.range=function(t,n){return new e(n,i.range(this,t))},e}(),o=function e(t,n){this.position=void 0;var i,r="KaTeX parse error: "+t,o=n&&n.loc;if(o&&o.start<=o.end){var s=o.lexer.input;i=o.start;var a=o.end;i===s.length?r+=" at end of input: ":r+=" at position "+(i+1)+": ";var l=s.slice(i,a).replace(/[^]/g,"$&̲");r+=(i>15?"…"+s.slice(i-15,i):s.slice(0,i))+l+(a+15<s.length?s.slice(a,a+15)+"…":s.slice(a))}var u=new Error(r);return u.name="ParseError",u.__proto__=e.prototype,u.position=i,u};o.prototype.__proto__=Error.prototype;var s=o,a=/([A-Z])/g,l={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},u=/[&><"']/g;var c=function e(t){return"ordgroup"===t.type?1===t.body.length?e(t.body[0]):t:"color"===t.type?1===t.body.length?e(t.body[0]):t:"font"===t.type?e(t.body):t},p={contains:function(e,t){return-1!==e.indexOf(t)},deflt:function(e,t){return void 0===e?t:e},escape:function(e){return String(e).replace(u,function(e){return l[e]})},hyphenate:function(e){return e.replace(a,"-$1").toLowerCase()},getBaseElem:c,isCharacterBox:function(e){var t=c(e);return"mathord"===t.type||"textord"===t.type||"atom"===t.type}},f=function(){function e(e){this.displayMode=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.allowedProtocols=void 0,e=e||{},this.displayMode=p.deflt(e.displayMode,!1),this.leqno=p.deflt(e.leqno,!1),this.fleqn=p.deflt(e.fleqn,!1),this.throwOnError=p.deflt(e.throwOnError,!0),this.errorColor=p.deflt(e.errorColor,"#cc0000"),this.macros=e.macros||{},this.colorIsTextColor=p.deflt(e.colorIsTextColor,!1),this.strict=p.deflt(e.strict,"warn"),this.maxSize=Math.max(0,p.deflt(e.maxSize,1/0)),this.maxExpand=Math.max(0,p.deflt(e.maxExpand,1e3)),this.allowedProtocols=p.deflt(e.allowedProtocols,["http","https","mailto","_relative"])}var t=e.prototype;return t.reportNonstrict=function(e,t,n){var i=this.strict;if("function"==typeof i&&(i=i(e,t,n)),i&&"ignore"!==i){if(!0===i||"error"===i)throw new s("LaTeX-incompatible input and strict mode is set to 'error': "+t+" ["+e+"]",n);"warn"===i?"undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+t+" ["+e+"]"):"undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+i+"': "+t+" ["+e+"]")}},t.useStrictBehavior=function(e,t,n){var i=this.strict;if("function"==typeof i)try{i=i(e,t,n)}catch(e){i="error"}return!(!i||"ignore"===i)&&(!0===i||"error"===i||("warn"===i?("undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+t+" ["+e+"]"),!1):("undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+i+"': "+t+" ["+e+"]"),!1)))},e}(),d=function(){function e(e,t,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=t,this.cramped=n}var t=e.prototype;return t.sup=function(){return h[m[this.id]]},t.sub=function(){return h[g[this.id]]},t.fracNum=function(){return h[b[this.id]]},t.fracDen=function(){return h[y[this.id]]},t.cramp=function(){return h[v[this.id]]},t.text=function(){return h[_[this.id]]},t.isTight=function(){return this.size>=2},e}(),h=[new d(0,0,!1),new d(1,0,!0),new d(2,1,!1),new d(3,1,!0),new d(4,2,!1),new d(5,2,!0),new d(6,3,!1),new d(7,3,!0)],m=[4,5,4,5,6,7,6,7],g=[5,5,5,5,7,7,7,7],b=[2,3,4,5,6,7,6,7],y=[3,3,5,5,7,7,7,7],v=[1,1,3,3,5,5,7,7],_=[0,1,2,3,2,3,2,3],x={DISPLAY:h[0],TEXT:h[2],SCRIPT:h[4],SCRIPTSCRIPT:h[6]},w=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];var k=[];function S(e){for(var t=0;t<k.length;t+=2)if(e>=k[t]&&e<=k[t+1])return!0;return!1}w.forEach(function(e){return e.blocks.forEach(function(e){return k.push.apply(k,e)})});var C={path:{sqrtMain:"M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,\n-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,\n-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,\n35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,\n-221c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467\ns-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422\ns-65,47,-65,47z M834 80H400000v40H845z",sqrtSize1:"M263,681c0.7,0,18,39.7,52,119c34,79.3,68.167,\n158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120c340,-704.7,510.7,-1060.3,512,-1067\nc4.7,-7.3,11,-11,19,-11H40000v40H1012.3s-271.3,567,-271.3,567c-38.7,80.7,-84,\n175,-136,283c-52,108,-89.167,185.3,-111.5,232c-22.3,46.7,-33.8,70.3,-34.5,71\nc-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1s-109,-253,-109,-253c-72.7,-168,-109.3,\n-252,-110,-252c-10.7,8,-22,16.7,-34,26c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26\ns76,-59,76,-59s76,-60,76,-60z M1001 80H40000v40H1012z",sqrtSize2:"M1001,80H400000v40H1013.1s-83.4,268,-264.1,840c-180.7,\n572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,\n-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744c-10,12,-21,25,-33,39s-32,39,-32,39\nc-6,-5.3,-15,-14,-27,-26s25,-30,25,-30c26.7,-32.7,52,-63,76,-91s52,-60,52,-60\ns208,722,208,722c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,\n-658.5c53.7,-170.3,84.5,-266.8,92.5,-289.5c4,-6.7,10,-10,18,-10z\nM1001 80H400000v40H1013z",sqrtSize3:"M424,2478c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,\n-342,-109.8,-513.3,-110.5,-514c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,\n25c-5.7,9.3,-9.8,16,-12.5,20s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,\n-13s76,-122,76,-122s77,-121,77,-121s209,968,209,968c0,-2,84.7,-361.7,254,-1079\nc169.3,-717.3,254.7,-1077.7,256,-1081c4,-6.7,10,-10,18,-10H400000v40H1014.6\ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185c-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2z M1001 80H400000v40H1014z",sqrtSize4:"M473,2793c339.3,-1799.3,509.3,-2700,510,-2702\nc3.3,-7.3,9.3,-11,18,-11H400000v40H1017.7s-90.5,478,-276.2,1466c-185.7,988,\n-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,\n-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200c0,-1.3,-5.3,8.7,-16,30c-10.7,\n21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26s76,-153,76,-153s77,-151,\n77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,606z\nM1001 80H400000v40H1017z",doubleleftarrow:"M262 157\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\nm8 0v40h399730v-40zm0 194v40h399730v-40z",doublerightarrow:"M399738 392l\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z",leftarrow:"M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z",leftbrace:"M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117\n-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7\n 5-6 9-10 13-.7 1-7.3 1-20 1H6z",leftbraceunder:"M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13\n 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688\n 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7\n-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z",leftgroup:"M400000 80\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\n 435 0h399565z",leftgroupunder:"M400000 262\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\n 435 219h399565z",leftharpoon:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z",leftharpoonplus:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5\n 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3\n-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7\n-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z\nm0 0v40h400000v-40z",leftharpoondown:"M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333\n 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5\n 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667\n-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z",leftharpoondownplus:"M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12\n 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7\n-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0\nv40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z",lefthook:"M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5\n-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3\n-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21\n 71.5 23h399859zM103 281v-40h399897v40z",leftlinesegment:"M40 281 V428 H0 V94 H40 V241 H400000 v40z\nM40 281 V428 H0 V94 H40 V241 H400000 v40z",leftmapsto:"M40 281 V448H0V74H40V241H400000v40z\nM40 281 V448H0V74H40V241H400000v40z",leftToFrom:"M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23\n-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8\nc28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3\n 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z",longequal:"M0 50 h400000 v40H0z m0 194h40000v40H0z\nM0 50 h400000 v40H0z m0 194h40000v40H0z",midbrace:"M200428 334\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z",midbraceunder:"M199572 214\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z",oiintSize1:"M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6\n-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z\nm368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8\n60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z",oiintSize2:"M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8\n-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z\nm502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2\nc0 110 84 276 504 276s502.4-166 502.4-276z",oiiintSize1:"M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6\n-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z\nm525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0\n85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z",oiiintSize2:"M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8\n-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z\nm770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1\nc0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z",rightarrow:"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z",rightbrace:"M400000 542l\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z",rightbraceunder:"M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3\n 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237\n-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z",rightgroup:"M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0\n 3-1 3-3v-38c-76-158-257-219-435-219H0z",rightgroupunder:"M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18\n 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z",rightharpoon:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\n 69.2 92 94.5zm0 0v40h399900v-40z",rightharpoonplus:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11\n-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7\n 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z\nm0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z",rightharpoondown:"M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8\n 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5\n-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95\n-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z",rightharpoondownplus:"M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\nm0-194v40h400000v-40zm0 0v40h400000v-40z",righthook:"M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3\n 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0\n-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21\n 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z",rightlinesegment:"M399960 241 V94 h40 V428 h-40 V281 H0 v-40z\nM399960 241 V94 h40 V428 h-40 V281 H0 v-40z",rightToFrom:"M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23\n 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32\n-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142\n-167z M100 147v40h399900v-40zM0 341v40h399900v-40z",twoheadleftarrow:"M0 167c68 40\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z",twoheadrightarrow:"M400000 167\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z",tilde1:"M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n-68.267.847-113-73.952-191-73.952z",tilde2:"M344 55.266c-142 0-300.638 81.316-311.5 86.418\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z",tilde3:"M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\n -338 0-409-156.573-744-156.573z",tilde4:"M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\n -175.236-744-175.236z",vec:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z",widehat1:"M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z",widehat2:"M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat3:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat4:"M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widecheck1:"M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,\n-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z",widecheck2:"M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck3:"M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck4:"M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",baraboveleftarrow:"M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202\nc4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5\nc-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130\ns-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47\n121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6\ns2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11\nc0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z\nM100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z",rightarrowabovebar:"M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32\n-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0\n13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39\n-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5\n-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z",baraboveshortleftharpoon:"M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17\nc2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21\nc-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40\nc-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z\nM0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z",rightharpoonaboveshortbar:"M0,241 l0,40c399126,0,399993,0,399993,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z",shortbaraboveleftharpoon:"M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,\n1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,\n-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z\nM93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z",shortrightharpoonabovebar:"M53,241l0,40c398570,0,399437,0,399437,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z"}},E=function(){function e(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}var t=e.prototype;return t.hasClass=function(e){return p.contains(this.classes,e)},t.toNode=function(){for(var e=document.createDocumentFragment(),t=0;t<this.children.length;t++)e.appendChild(this.children[t].toNode());return e},t.toMarkup=function(){for(var e="",t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e},t.toText=function(){var e=function(e){return e.toText()};return this.children.map(e).join("")},e}(),T=function(e){return e.filter(function(e){return e}).join(" ")},A=function(e,t,n){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},t){t.style.isTight()&&this.classes.push("mtight");var i=t.getColor();i&&(this.style.color=i)}},N=function(e){var t=document.createElement(e);for(var n in t.className=T(this.classes),this.style)this.style.hasOwnProperty(n)&&(t.style[n]=this.style[n]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&t.setAttribute(i,this.attributes[i]);for(var r=0;r<this.children.length;r++)t.appendChild(this.children[r].toNode());return t},M=function(e){var t="<"+e;this.classes.length&&(t+=' class="'+p.escape(T(this.classes))+'"');var n="";for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=p.hyphenate(i)+":"+this.style[i]+";");for(var r in n&&(t+=' style="'+p.escape(n)+'"'),this.attributes)this.attributes.hasOwnProperty(r)&&(t+=" "+r+'="'+p.escape(this.attributes[r])+'"');t+=">";for(var o=0;o<this.children.length;o++)t+=this.children[o].toMarkup();return t+="</"+e+">"},R=function(){function e(e,t,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,A.call(this,e,n,i),this.children=t||[]}var t=e.prototype;return t.setAttribute=function(e,t){this.attributes[e]=t},t.hasClass=function(e){return p.contains(this.classes,e)},t.toNode=function(){return N.call(this,"span")},t.toMarkup=function(){return M.call(this,"span")},e}(),O=function(){function e(e,t,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,A.call(this,t,i),this.children=n||[],this.setAttribute("href",e)}var t=e.prototype;return t.setAttribute=function(e,t){this.attributes[e]=t},t.hasClass=function(e){return p.contains(this.classes,e)},t.toNode=function(){return N.call(this,"a")},t.toMarkup=function(){return M.call(this,"a")},e}(),L={"î":"ı̂","ï":"ı̈","í":"ı́","ì":"ı̀"},P=function(){function e(e,t,n,i,r,o,s,a){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=t||0,this.depth=n||0,this.italic=i||0,this.skew=r||0,this.width=o||0,this.classes=s||[],this.style=a||{},this.maxFontSize=0;var l=function(e){for(var t=0;t<w.length;t++)for(var n=w[t],i=0;i<n.blocks.length;i++){var r=n.blocks[i];if(e>=r[0]&&e<=r[1])return n.name}return null}(this.text.charCodeAt(0));l&&this.classes.push(l+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=L[this.text])}var t=e.prototype;return t.hasClass=function(e){return p.contains(this.classes,e)},t.toNode=function(){var e=document.createTextNode(this.text),t=null;for(var n in this.italic>0&&((t=document.createElement("span")).style.marginRight=this.italic+"em"),this.classes.length>0&&((t=t||document.createElement("span")).className=T(this.classes)),this.style)this.style.hasOwnProperty(n)&&((t=t||document.createElement("span")).style[n]=this.style[n]);return t?(t.appendChild(e),t):e},t.toMarkup=function(){var e=!1,t="<span";this.classes.length&&(e=!0,t+=' class="',t+=p.escape(T(this.classes)),t+='"');var n="";for(var i in this.italic>0&&(n+="margin-right:"+this.italic+"em;"),this.style)this.style.hasOwnProperty(i)&&(n+=p.hyphenate(i)+":"+this.style[i]+";");n&&(e=!0,t+=' style="'+p.escape(n)+'"');var r=p.escape(this.text);return e?(t+=">",t+=r,t+="</span>"):r},e}(),D=function(){function e(e,t){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=t||{}}var t=e.prototype;return t.toNode=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);for(var n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e},t.toMarkup=function(){var e="<svg";for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+"='"+this.attributes[t]+"'");e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</svg>"},e}(),I=function(){function e(e,t){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=t}var t=e.prototype;return t.toNode=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","path");return this.alternate?e.setAttribute("d",this.alternate):e.setAttribute("d",C.path[this.pathName]),e},t.toMarkup=function(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+C.path[this.pathName]+"'/>"},e}(),F=function(){function e(e){this.attributes=void 0,this.attributes=e||{}}var t=e.prototype;return t.toNode=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","line");for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);return e},t.toMarkup=function(){var e="<line";for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+"='"+this.attributes[t]+"'");return e+="/>"},e}();var $={"AMS-Regular":{65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473]},"Fraktur-Regular":{33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],163:[0,.69444,0,0,.86853],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],163:[0,.69444,0,0,.76909],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],305:[0,.43056,0,.02778,.32246],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],567:[.19444,.43056,0,.08334,.38403],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.12,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,1],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.67,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.9,0,0,.278],8943:[-.19,.31,0,0,1.172],8945:[-.1,.82,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.744,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.744,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333]},"Math-Italic":{65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059]},"Math-Regular":{65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059]},"SansSerif-Bold":{33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212]},"Size1-Regular":{40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},j={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2]},B={"Å":"A","Ç":"C","Ð":"D","Þ":"o","å":"a","ç":"c","ð":"d","þ":"o","А":"A","Б":"B","В":"B","Г":"F","Д":"A","Е":"E","Ж":"K","З":"3","И":"N","Й":"N","К":"K","Л":"N","М":"M","Н":"H","О":"O","П":"N","Р":"P","С":"C","Т":"T","У":"y","Ф":"O","Х":"X","Ц":"U","Ч":"h","Ш":"W","Щ":"W","Ъ":"B","Ы":"X","Ь":"B","Э":"3","Ю":"X","Я":"R","а":"a","б":"b","в":"a","г":"r","д":"y","е":"e","ж":"m","з":"e","и":"n","й":"n","к":"n","л":"n","м":"m","н":"n","о":"o","п":"n","р":"p","с":"c","т":"o","у":"y","ф":"b","х":"x","ц":"n","ч":"n","ш":"w","щ":"w","ъ":"a","ы":"m","ь":"a","э":"e","ю":"m","я":"r"};function z(e,t,n){if(!$[t])throw new Error("Font metrics not found for font: "+t+".");var i=e.charCodeAt(0);e[0]in B&&(i=B[e[0]].charCodeAt(0));var r=$[t][i];if(r||"text"!==n||S(i)&&(r=$[t][77]),r)return{depth:r[0],height:r[1],italic:r[2],skew:r[3],width:r[4]}}var q={};var H={bin:1,close:1,inner:1,open:1,punct:1,rel:1},U={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},W={math:{},text:{}},V=W;function G(e,t,n,i,r,o){W[e][r]={font:t,group:n,replace:i},o&&i&&(W[e][i]=W[e][r])}var K="main",Y="ams",X="bin",Q="mathord",Z="op-token",J="rel",ee="spacing";G("math",K,J,"≡","\\equiv",!0),G("math",K,J,"≺","\\prec",!0),G("math",K,J,"≻","\\succ",!0),G("math",K,J,"∼","\\sim",!0),G("math",K,J,"⊥","\\perp"),G("math",K,J,"⪯","\\preceq",!0),G("math",K,J,"⪰","\\succeq",!0),G("math",K,J,"≃","\\simeq",!0),G("math",K,J,"∣","\\mid",!0),G("math",K,J,"≪","\\ll",!0),G("math",K,J,"≫","\\gg",!0),G("math",K,J,"≍","\\asymp",!0),G("math",K,J,"∥","\\parallel"),G("math",K,J,"⋈","\\bowtie",!0),G("math",K,J,"⌣","\\smile",!0),G("math",K,J,"⊑","\\sqsubseteq",!0),G("math",K,J,"⊒","\\sqsupseteq",!0),G("math",K,J,"≐","\\doteq",!0),G("math",K,J,"⌢","\\frown",!0),G("math",K,J,"∋","\\ni",!0),G("math",K,J,"∝","\\propto",!0),G("math",K,J,"⊢","\\vdash",!0),G("math",K,J,"⊣","\\dashv",!0),G("math",K,J,"∋","\\owns"),G("math",K,"punct",".","\\ldotp"),G("math",K,"punct","⋅","\\cdotp"),G("math",K,"textord","#","\\#"),G("text",K,"textord","#","\\#"),G("math",K,"textord","&","\\&"),G("text",K,"textord","&","\\&"),G("math",K,"textord","ℵ","\\aleph",!0),G("math",K,"textord","∀","\\forall",!0),G("math",K,"textord","ℏ","\\hbar",!0),G("math",K,"textord","∃","\\exists",!0),G("math",K,"textord","∇","\\nabla",!0),G("math",K,"textord","♭","\\flat",!0),G("math",K,"textord","ℓ","\\ell",!0),G("math",K,"textord","♮","\\natural",!0),G("math",K,"textord","♣","\\clubsuit",!0),G("math",K,"textord","℘","\\wp",!0),G("math",K,"textord","♯","\\sharp",!0),G("math",K,"textord","♢","\\diamondsuit",!0),G("math",K,"textord","ℜ","\\Re",!0),G("math",K,"textord","♡","\\heartsuit",!0),G("math",K,"textord","ℑ","\\Im",!0),G("math",K,"textord","♠","\\spadesuit",!0),G("text",K,"textord","§","\\S",!0),G("text",K,"textord","¶","\\P",!0),G("math",K,"textord","†","\\dag"),G("text",K,"textord","†","\\dag"),G("text",K,"textord","†","\\textdagger"),G("math",K,"textord","‡","\\ddag"),G("text",K,"textord","‡","\\ddag"),G("text",K,"textord","‡","\\textdaggerdbl"),G("math",K,"close","⎱","\\rmoustache",!0),G("math",K,"open","⎰","\\lmoustache",!0),G("math",K,"close","⟯","\\rgroup",!0),G("math",K,"open","⟮","\\lgroup",!0),G("math",K,X,"∓","\\mp",!0),G("math",K,X,"⊖","\\ominus",!0),G("math",K,X,"⊎","\\uplus",!0),G("math",K,X,"⊓","\\sqcap",!0),G("math",K,X,"∗","\\ast"),G("math",K,X,"⊔","\\sqcup",!0),G("math",K,X,"◯","\\bigcirc"),G("math",K,X,"∙","\\bullet"),G("math",K,X,"‡","\\ddagger"),G("math",K,X,"≀","\\wr",!0),G("math",K,X,"⨿","\\amalg"),G("math",K,X,"&","\\And"),G("math",K,J,"⟵","\\longleftarrow",!0),G("math",K,J,"⇐","\\Leftarrow",!0),G("math",K,J,"⟸","\\Longleftarrow",!0),G("math",K,J,"⟶","\\longrightarrow",!0),G("math",K,J,"⇒","\\Rightarrow",!0),G("math",K,J,"⟹","\\Longrightarrow",!0),G("math",K,J,"↔","\\leftrightarrow",!0),G("math",K,J,"⟷","\\longleftrightarrow",!0),G("math",K,J,"⇔","\\Leftrightarrow",!0),G("math",K,J,"⟺","\\Longleftrightarrow",!0),G("math",K,J,"↦","\\mapsto",!0),G("math",K,J,"⟼","\\longmapsto",!0),G("math",K,J,"↗","\\nearrow",!0),G("math",K,J,"↩","\\hookleftarrow",!0),G("math",K,J,"↪","\\hookrightarrow",!0),G("math",K,J,"↘","\\searrow",!0),G("math",K,J,"↼","\\leftharpoonup",!0),G("math",K,J,"⇀","\\rightharpoonup",!0),G("math",K,J,"↙","\\swarrow",!0),G("math",K,J,"↽","\\leftharpoondown",!0),G("math",K,J,"⇁","\\rightharpoondown",!0),G("math",K,J,"↖","\\nwarrow",!0),G("math",K,J,"⇌","\\rightleftharpoons",!0),G("math",Y,J,"≮","\\nless",!0),G("math",Y,J,"","\\nleqslant"),G("math",Y,J,"","\\nleqq"),G("math",Y,J,"⪇","\\lneq",!0),G("math",Y,J,"≨","\\lneqq",!0),G("math",Y,J,"","\\lvertneqq"),G("math",Y,J,"⋦","\\lnsim",!0),G("math",Y,J,"⪉","\\lnapprox",!0),G("math",Y,J,"⊀","\\nprec",!0),G("math",Y,J,"⋠","\\npreceq",!0),G("math",Y,J,"⋨","\\precnsim",!0),G("math",Y,J,"⪹","\\precnapprox",!0),G("math",Y,J,"≁","\\nsim",!0),G("math",Y,J,"","\\nshortmid"),G("math",Y,J,"∤","\\nmid",!0),G("math",Y,J,"⊬","\\nvdash",!0),G("math",Y,J,"⊭","\\nvDash",!0),G("math",Y,J,"⋪","\\ntriangleleft"),G("math",Y,J,"⋬","\\ntrianglelefteq",!0),G("math",Y,J,"⊊","\\subsetneq",!0),G("math",Y,J,"","\\varsubsetneq"),G("math",Y,J,"⫋","\\subsetneqq",!0),G("math",Y,J,"","\\varsubsetneqq"),G("math",Y,J,"≯","\\ngtr",!0),G("math",Y,J,"","\\ngeqslant"),G("math",Y,J,"","\\ngeqq"),G("math",Y,J,"⪈","\\gneq",!0),G("math",Y,J,"≩","\\gneqq",!0),G("math",Y,J,"","\\gvertneqq"),G("math",Y,J,"⋧","\\gnsim",!0),G("math",Y,J,"⪊","\\gnapprox",!0),G("math",Y,J,"⊁","\\nsucc",!0),G("math",Y,J,"⋡","\\nsucceq",!0),G("math",Y,J,"⋩","\\succnsim",!0),G("math",Y,J,"⪺","\\succnapprox",!0),G("math",Y,J,"≆","\\ncong",!0),G("math",Y,J,"","\\nshortparallel"),G("math",Y,J,"∦","\\nparallel",!0),G("math",Y,J,"⊯","\\nVDash",!0),G("math",Y,J,"⋫","\\ntriangleright"),G("math",Y,J,"⋭","\\ntrianglerighteq",!0),G("math",Y,J,"","\\nsupseteqq"),G("math",Y,J,"⊋","\\supsetneq",!0),G("math",Y,J,"","\\varsupsetneq"),G("math",Y,J,"⫌","\\supsetneqq",!0),G("math",Y,J,"","\\varsupsetneqq"),G("math",Y,J,"⊮","\\nVdash",!0),G("math",Y,J,"⪵","\\precneqq",!0),G("math",Y,J,"⪶","\\succneqq",!0),G("math",Y,J,"","\\nsubseteqq"),G("math",Y,X,"⊴","\\unlhd"),G("math",Y,X,"⊵","\\unrhd"),G("math",Y,J,"↚","\\nleftarrow",!0),G("math",Y,J,"↛","\\nrightarrow",!0),G("math",Y,J,"⇍","\\nLeftarrow",!0),G("math",Y,J,"⇏","\\nRightarrow",!0),G("math",Y,J,"↮","\\nleftrightarrow",!0),G("math",Y,J,"⇎","\\nLeftrightarrow",!0),G("math",Y,J,"△","\\vartriangle"),G("math",Y,"textord","ℏ","\\hslash"),G("math",Y,"textord","▽","\\triangledown"),G("math",Y,"textord","◊","\\lozenge"),G("math",Y,"textord","Ⓢ","\\circledS"),G("math",Y,"textord","®","\\circledR"),G("text",Y,"textord","®","\\circledR"),G("math",Y,"textord","∡","\\measuredangle",!0),G("math",Y,"textord","∄","\\nexists"),G("math",Y,"textord","℧","\\mho"),G("math",Y,"textord","Ⅎ","\\Finv",!0),G("math",Y,"textord","⅁","\\Game",!0),G("math",Y,"textord","k","\\Bbbk"),G("math",Y,"textord","‵","\\backprime"),G("math",Y,"textord","▲","\\blacktriangle"),G("math",Y,"textord","▼","\\blacktriangledown"),G("math",Y,"textord","■","\\blacksquare"),G("math",Y,"textord","⧫","\\blacklozenge"),G("math",Y,"textord","★","\\bigstar"),G("math",Y,"textord","∢","\\sphericalangle",!0),G("math",Y,"textord","∁","\\complement",!0),G("math",Y,"textord","ð","\\eth",!0),G("math",Y,"textord","╱","\\diagup"),G("math",Y,"textord","╲","\\diagdown"),G("math",Y,"textord","□","\\square"),G("math",Y,"textord","□","\\Box"),G("math",Y,"textord","◊","\\Diamond"),G("math",Y,"textord","¥","\\yen",!0),G("text",Y,"textord","¥","\\yen",!0),G("math",Y,"textord","✓","\\checkmark",!0),G("text",Y,"textord","✓","\\checkmark"),G("math",Y,"textord","ℶ","\\beth",!0),G("math",Y,"textord","ℸ","\\daleth",!0),G("math",Y,"textord","ℷ","\\gimel",!0),G("math",Y,"textord","ϝ","\\digamma"),G("math",Y,"textord","ϰ","\\varkappa"),G("math",Y,"open","┌","\\ulcorner",!0),G("math",Y,"close","┐","\\urcorner",!0),G("math",Y,"open","└","\\llcorner",!0),G("math",Y,"close","┘","\\lrcorner",!0),G("math",Y,J,"≦","\\leqq",!0),G("math",Y,J,"⩽","\\leqslant",!0),G("math",Y,J,"⪕","\\eqslantless",!0),G("math",Y,J,"≲","\\lesssim",!0),G("math",Y,J,"⪅","\\lessapprox",!0),G("math",Y,J,"≊","\\approxeq",!0),G("math",Y,X,"⋖","\\lessdot"),G("math",Y,J,"⋘","\\lll",!0),G("math",Y,J,"≶","\\lessgtr",!0),G("math",Y,J,"⋚","\\lesseqgtr",!0),G("math",Y,J,"⪋","\\lesseqqgtr",!0),G("math",Y,J,"≑","\\doteqdot"),G("math",Y,J,"≓","\\risingdotseq",!0),G("math",Y,J,"≒","\\fallingdotseq",!0),G("math",Y,J,"∽","\\backsim",!0),G("math",Y,J,"⋍","\\backsimeq",!0),G("math",Y,J,"⫅","\\subseteqq",!0),G("math",Y,J,"⋐","\\Subset",!0),G("math",Y,J,"⊏","\\sqsubset",!0),G("math",Y,J,"≼","\\preccurlyeq",!0),G("math",Y,J,"⋞","\\curlyeqprec",!0),G("math",Y,J,"≾","\\precsim",!0),G("math",Y,J,"⪷","\\precapprox",!0),G("math",Y,J,"⊲","\\vartriangleleft"),G("math",Y,J,"⊴","\\trianglelefteq"),G("math",Y,J,"⊨","\\vDash",!0),G("math",Y,J,"⊪","\\Vvdash",!0),G("math",Y,J,"⌣","\\smallsmile"),G("math",Y,J,"⌢","\\smallfrown"),G("math",Y,J,"≏","\\bumpeq",!0),G("math",Y,J,"≎","\\Bumpeq",!0),G("math",Y,J,"≧","\\geqq",!0),G("math",Y,J,"⩾","\\geqslant",!0),G("math",Y,J,"⪖","\\eqslantgtr",!0),G("math",Y,J,"≳","\\gtrsim",!0),G("math",Y,J,"⪆","\\gtrapprox",!0),G("math",Y,X,"⋗","\\gtrdot"),G("math",Y,J,"⋙","\\ggg",!0),G("math",Y,J,"≷","\\gtrless",!0),G("math",Y,J,"⋛","\\gtreqless",!0),G("math",Y,J,"⪌","\\gtreqqless",!0),G("math",Y,J,"≖","\\eqcirc",!0),G("math",Y,J,"≗","\\circeq",!0),G("math",Y,J,"≜","\\triangleq",!0),G("math",Y,J,"∼","\\thicksim"),G("math",Y,J,"≈","\\thickapprox"),G("math",Y,J,"⫆","\\supseteqq",!0),G("math",Y,J,"⋑","\\Supset",!0),G("math",Y,J,"⊐","\\sqsupset",!0),G("math",Y,J,"≽","\\succcurlyeq",!0),G("math",Y,J,"⋟","\\curlyeqsucc",!0),G("math",Y,J,"≿","\\succsim",!0),G("math",Y,J,"⪸","\\succapprox",!0),G("math",Y,J,"⊳","\\vartriangleright"),G("math",Y,J,"⊵","\\trianglerighteq"),G("math",Y,J,"⊩","\\Vdash",!0),G("math",Y,J,"∣","\\shortmid"),G("math",Y,J,"∥","\\shortparallel"),G("math",Y,J,"≬","\\between",!0),G("math",Y,J,"⋔","\\pitchfork",!0),G("math",Y,J,"∝","\\varpropto"),G("math",Y,J,"◀","\\blacktriangleleft"),G("math",Y,J,"∴","\\therefore",!0),G("math",Y,J,"∍","\\backepsilon"),G("math",Y,J,"▶","\\blacktriangleright"),G("math",Y,J,"∵","\\because",!0),G("math",Y,J,"⋘","\\llless"),G("math",Y,J,"⋙","\\gggtr"),G("math",Y,X,"⊲","\\lhd"),G("math",Y,X,"⊳","\\rhd"),G("math",Y,J,"≂","\\eqsim",!0),G("math",K,J,"⋈","\\Join"),G("math",Y,J,"≑","\\Doteq",!0),G("math",Y,X,"∔","\\dotplus",!0),G("math",Y,X,"∖","\\smallsetminus"),G("math",Y,X,"⋒","\\Cap",!0),G("math",Y,X,"⋓","\\Cup",!0),G("math",Y,X,"⩞","\\doublebarwedge",!0),G("math",Y,X,"⊟","\\boxminus",!0),G("math",Y,X,"⊞","\\boxplus",!0),G("math",Y,X,"⋇","\\divideontimes",!0),G("math",Y,X,"⋉","\\ltimes",!0),G("math",Y,X,"⋊","\\rtimes",!0),G("math",Y,X,"⋋","\\leftthreetimes",!0),G("math",Y,X,"⋌","\\rightthreetimes",!0),G("math",Y,X,"⋏","\\curlywedge",!0),G("math",Y,X,"⋎","\\curlyvee",!0),G("math",Y,X,"⊝","\\circleddash",!0),G("math",Y,X,"⊛","\\circledast",!0),G("math",Y,X,"⋅","\\centerdot"),G("math",Y,X,"⊺","\\intercal",!0),G("math",Y,X,"⋒","\\doublecap"),G("math",Y,X,"⋓","\\doublecup"),G("math",Y,X,"⊠","\\boxtimes",!0),G("math",Y,J,"⇢","\\dashrightarrow",!0),G("math",Y,J,"⇠","\\dashleftarrow",!0),G("math",Y,J,"⇇","\\leftleftarrows",!0),G("math",Y,J,"⇆","\\leftrightarrows",!0),G("math",Y,J,"⇚","\\Lleftarrow",!0),G("math",Y,J,"↞","\\twoheadleftarrow",!0),G("math",Y,J,"↢","\\leftarrowtail",!0),G("math",Y,J,"↫","\\looparrowleft",!0),G("math",Y,J,"⇋","\\leftrightharpoons",!0),G("math",Y,J,"↶","\\curvearrowleft",!0),G("math",Y,J,"↺","\\circlearrowleft",!0),G("math",Y,J,"↰","\\Lsh",!0),G("math",Y,J,"⇈","\\upuparrows",!0),G("math",Y,J,"↿","\\upharpoonleft",!0),G("math",Y,J,"⇃","\\downharpoonleft",!0),G("math",Y,J,"⊸","\\multimap",!0),G("math",Y,J,"↭","\\leftrightsquigarrow",!0),G("math",Y,J,"⇉","\\rightrightarrows",!0),G("math",Y,J,"⇄","\\rightleftarrows",!0),G("math",Y,J,"↠","\\twoheadrightarrow",!0),G("math",Y,J,"↣","\\rightarrowtail",!0),G("math",Y,J,"↬","\\looparrowright",!0),G("math",Y,J,"↷","\\curvearrowright",!0),G("math",Y,J,"↻","\\circlearrowright",!0),G("math",Y,J,"↱","\\Rsh",!0),G("math",Y,J,"⇊","\\downdownarrows",!0),G("math",Y,J,"↾","\\upharpoonright",!0),G("math",Y,J,"⇂","\\downharpoonright",!0),G("math",Y,J,"⇝","\\rightsquigarrow",!0),G("math",Y,J,"⇝","\\leadsto"),G("math",Y,J,"⇛","\\Rrightarrow",!0),G("math",Y,J,"↾","\\restriction"),G("math",K,"textord","‘","`"),G("math",K,"textord","$","\\$"),G("text",K,"textord","$","\\$"),G("text",K,"textord","$","\\textdollar"),G("math",K,"textord","%","\\%"),G("text",K,"textord","%","\\%"),G("math",K,"textord","_","\\_"),G("text",K,"textord","_","\\_"),G("text",K,"textord","_","\\textunderscore"),G("math",K,"textord","∠","\\angle",!0),G("math",K,"textord","∞","\\infty",!0),G("math",K,"textord","′","\\prime"),G("math",K,"textord","△","\\triangle"),G("math",K,"textord","Γ","\\Gamma",!0),G("math",K,"textord","Δ","\\Delta",!0),G("math",K,"textord","Θ","\\Theta",!0),G("math",K,"textord","Λ","\\Lambda",!0),G("math",K,"textord","Ξ","\\Xi",!0),G("math",K,"textord","Π","\\Pi",!0),G("math",K,"textord","Σ","\\Sigma",!0),G("math",K,"textord","Υ","\\Upsilon",!0),G("math",K,"textord","Φ","\\Phi",!0),G("math",K,"textord","Ψ","\\Psi",!0),G("math",K,"textord","Ω","\\Omega",!0),G("math",K,"textord","A","Α"),G("math",K,"textord","B","Β"),G("math",K,"textord","E","Ε"),G("math",K,"textord","Z","Ζ"),G("math",K,"textord","H","Η"),G("math",K,"textord","I","Ι"),G("math",K,"textord","K","Κ"),G("math",K,"textord","M","Μ"),G("math",K,"textord","N","Ν"),G("math",K,"textord","O","Ο"),G("math",K,"textord","P","Ρ"),G("math",K,"textord","T","Τ"),G("math",K,"textord","X","Χ"),G("math",K,"textord","¬","\\neg",!0),G("math",K,"textord","¬","\\lnot"),G("math",K,"textord","⊤","\\top"),G("math",K,"textord","⊥","\\bot"),G("math",K,"textord","∅","\\emptyset"),G("math",Y,"textord","∅","\\varnothing"),G("math",K,Q,"α","\\alpha",!0),G("math",K,Q,"β","\\beta",!0),G("math",K,Q,"γ","\\gamma",!0),G("math",K,Q,"δ","\\delta",!0),G("math",K,Q,"ϵ","\\epsilon",!0),G("math",K,Q,"ζ","\\zeta",!0),G("math",K,Q,"η","\\eta",!0),G("math",K,Q,"θ","\\theta",!0),G("math",K,Q,"ι","\\iota",!0),G("math",K,Q,"κ","\\kappa",!0),G("math",K,Q,"λ","\\lambda",!0),G("math",K,Q,"μ","\\mu",!0),G("math",K,Q,"ν","\\nu",!0),G("math",K,Q,"ξ","\\xi",!0),G("math",K,Q,"ο","\\omicron",!0),G("math",K,Q,"π","\\pi",!0),G("math",K,Q,"ρ","\\rho",!0),G("math",K,Q,"σ","\\sigma",!0),G("math",K,Q,"τ","\\tau",!0),G("math",K,Q,"υ","\\upsilon",!0),G("math",K,Q,"ϕ","\\phi",!0),G("math",K,Q,"χ","\\chi",!0),G("math",K,Q,"ψ","\\psi",!0),G("math",K,Q,"ω","\\omega",!0),G("math",K,Q,"ε","\\varepsilon",!0),G("math",K,Q,"ϑ","\\vartheta",!0),G("math",K,Q,"ϖ","\\varpi",!0),G("math",K,Q,"ϱ","\\varrho",!0),G("math",K,Q,"ς","\\varsigma",!0),G("math",K,Q,"φ","\\varphi",!0),G("math",K,X,"∗","*"),G("math",K,X,"+","+"),G("math",K,X,"−","-"),G("math",K,X,"⋅","\\cdot",!0),G("math",K,X,"∘","\\circ"),G("math",K,X,"÷","\\div",!0),G("math",K,X,"±","\\pm",!0),G("math",K,X,"×","\\times",!0),G("math",K,X,"∩","\\cap",!0),G("math",K,X,"∪","\\cup",!0),G("math",K,X,"∖","\\setminus"),G("math",K,X,"∧","\\land"),G("math",K,X,"∨","\\lor"),G("math",K,X,"∧","\\wedge",!0),G("math",K,X,"∨","\\vee",!0),G("math",K,"textord","√","\\surd"),G("math",K,"open","(","("),G("math",K,"open","[","["),G("math",K,"open","⟨","\\langle",!0),G("math",K,"open","∣","\\lvert"),G("math",K,"open","∥","\\lVert"),G("math",K,"close",")",")"),G("math",K,"close","]","]"),G("math",K,"close","?","?"),G("math",K,"close","!","!"),G("math",K,"close","⟩","\\rangle",!0),G("math",K,"close","∣","\\rvert"),G("math",K,"close","∥","\\rVert"),G("math",K,J,"=","="),G("math",K,J,"<","<"),G("math",K,J,">",">"),G("math",K,J,":",":"),G("math",K,J,"≈","\\approx",!0),G("math",K,J,"≅","\\cong",!0),G("math",K,J,"≥","\\ge"),G("math",K,J,"≥","\\geq",!0),G("math",K,J,"←","\\gets"),G("math",K,J,">","\\gt"),G("math",K,J,"∈","\\in",!0),G("math",K,J,"","\\@not"),G("math",K,J,"⊂","\\subset",!0),G("math",K,J,"⊃","\\supset",!0),G("math",K,J,"⊆","\\subseteq",!0),G("math",K,J,"⊇","\\supseteq",!0),G("math",Y,J,"⊈","\\nsubseteq",!0),G("math",Y,J,"⊉","\\nsupseteq",!0),G("math",K,J,"⊨","\\models"),G("math",K,J,"←","\\leftarrow",!0),G("math",K,J,"≤","\\le"),G("math",K,J,"≤","\\leq",!0),G("math",K,J,"<","\\lt"),G("math",K,J,"→","\\rightarrow",!0),G("math",K,J,"→","\\to"),G("math",Y,J,"≱","\\ngeq",!0),G("math",Y,J,"≰","\\nleq",!0),G("math",K,ee," ","\\ "),G("math",K,ee," ","~"),G("math",K,ee," ","\\space"),G("math",K,ee," ","\\nobreakspace"),G("text",K,ee," ","\\ "),G("text",K,ee," ","~"),G("text",K,ee," ","\\space"),G("text",K,ee," ","\\nobreakspace"),G("math",K,ee,null,"\\nobreak"),G("math",K,ee,null,"\\allowbreak"),G("math",K,"punct",",",","),G("math",K,"punct",";",";"),G("math",Y,X,"⊼","\\barwedge",!0),G("math",Y,X,"⊻","\\veebar",!0),G("math",K,X,"⊙","\\odot",!0),G("math",K,X,"⊕","\\oplus",!0),G("math",K,X,"⊗","\\otimes",!0),G("math",K,"textord","∂","\\partial",!0),G("math",K,X,"⊘","\\oslash",!0),G("math",Y,X,"⊚","\\circledcirc",!0),G("math",Y,X,"⊡","\\boxdot",!0),G("math",K,X,"△","\\bigtriangleup"),G("math",K,X,"▽","\\bigtriangledown"),G("math",K,X,"†","\\dagger"),G("math",K,X,"⋄","\\diamond"),G("math",K,X,"⋆","\\star"),G("math",K,X,"◃","\\triangleleft"),G("math",K,X,"▹","\\triangleright"),G("math",K,"open","{","\\{"),G("text",K,"textord","{","\\{"),G("text",K,"textord","{","\\textbraceleft"),G("math",K,"close","}","\\}"),G("text",K,"textord","}","\\}"),G("text",K,"textord","}","\\textbraceright"),G("math",K,"open","{","\\lbrace"),G("math",K,"close","}","\\rbrace"),G("math",K,"open","[","\\lbrack"),G("text",K,"textord","[","\\lbrack"),G("math",K,"close","]","\\rbrack"),G("text",K,"textord","]","\\rbrack"),G("math",K,"open","(","\\lparen"),G("math",K,"close",")","\\rparen"),G("text",K,"textord","<","\\textless"),G("text",K,"textord",">","\\textgreater"),G("math",K,"open","⌊","\\lfloor",!0),G("math",K,"close","⌋","\\rfloor",!0),G("math",K,"open","⌈","\\lceil",!0),G("math",K,"close","⌉","\\rceil",!0),G("math",K,"textord","\\","\\backslash"),G("math",K,"textord","∣","|"),G("math",K,"textord","∣","\\vert"),G("text",K,"textord","|","\\textbar"),G("math",K,"textord","∥","\\|"),G("math",K,"textord","∥","\\Vert"),G("text",K,"textord","∥","\\textbardbl"),G("text",K,"textord","~","\\textasciitilde"),G("text",K,"textord","\\","\\textbackslash"),G("text",K,"textord","^","\\textasciicircum"),G("math",K,J,"↑","\\uparrow",!0),G("math",K,J,"⇑","\\Uparrow",!0),G("math",K,J,"↓","\\downarrow",!0),G("math",K,J,"⇓","\\Downarrow",!0),G("math",K,J,"↕","\\updownarrow",!0),G("math",K,J,"⇕","\\Updownarrow",!0),G("math",K,Z,"∐","\\coprod"),G("math",K,Z,"⋁","\\bigvee"),G("math",K,Z,"⋀","\\bigwedge"),G("math",K,Z,"⨄","\\biguplus"),G("math",K,Z,"⋂","\\bigcap"),G("math",K,Z,"⋃","\\bigcup"),G("math",K,Z,"∫","\\int"),G("math",K,Z,"∫","\\intop"),G("math",K,Z,"∬","\\iint"),G("math",K,Z,"∭","\\iiint"),G("math",K,Z,"∏","\\prod"),G("math",K,Z,"∑","\\sum"),G("math",K,Z,"⨂","\\bigotimes"),G("math",K,Z,"⨁","\\bigoplus"),G("math",K,Z,"⨀","\\bigodot"),G("math",K,Z,"∮","\\oint"),G("math",K,Z,"∯","\\oiint"),G("math",K,Z,"∰","\\oiiint"),G("math",K,Z,"⨆","\\bigsqcup"),G("math",K,Z,"∫","\\smallint"),G("text",K,"inner","…","\\textellipsis"),G("math",K,"inner","…","\\mathellipsis"),G("text",K,"inner","…","\\ldots",!0),G("math",K,"inner","…","\\ldots",!0),G("math",K,"inner","⋯","\\@cdots",!0),G("math",K,"inner","⋱","\\ddots",!0),G("math",K,"textord","⋮","\\varvdots"),G("math",K,"accent-token","ˊ","\\acute"),G("math",K,"accent-token","ˋ","\\grave"),G("math",K,"accent-token","¨","\\ddot"),G("math",K,"accent-token","~","\\tilde"),G("math",K,"accent-token","ˉ","\\bar"),G("math",K,"accent-token","˘","\\breve"),G("math",K,"accent-token","ˇ","\\check"),G("math",K,"accent-token","^","\\hat"),G("math",K,"accent-token","⃗","\\vec"),G("math",K,"accent-token","˙","\\dot"),G("math",K,"accent-token","˚","\\mathring"),G("math",K,Q,"ı","\\imath",!0),G("math",K,Q,"ȷ","\\jmath",!0),G("text",K,"textord","ı","\\i",!0),G("text",K,"textord","ȷ","\\j",!0),G("text",K,"textord","ß","\\ss",!0),G("text",K,"textord","æ","\\ae",!0),G("text",K,"textord","æ","\\ae",!0),G("text",K,"textord","œ","\\oe",!0),G("text",K,"textord","ø","\\o",!0),G("text",K,"textord","Æ","\\AE",!0),G("text",K,"textord","Œ","\\OE",!0),G("text",K,"textord","Ø","\\O",!0),G("text",K,"accent-token","ˊ","\\'"),G("text",K,"accent-token","ˋ","\\`"),G("text",K,"accent-token","ˆ","\\^"),G("text",K,"accent-token","˜","\\~"),G("text",K,"accent-token","ˉ","\\="),G("text",K,"accent-token","˘","\\u"),G("text",K,"accent-token","˙","\\."),G("text",K,"accent-token","˚","\\r"),G("text",K,"accent-token","ˇ","\\v"),G("text",K,"accent-token","¨",'\\"'),G("text",K,"accent-token","˝","\\H"),G("text",K,"accent-token","◯","\\textcircled");var te={"--":!0,"---":!0,"``":!0,"''":!0};G("text",K,"textord","–","--"),G("text",K,"textord","–","\\textendash"),G("text",K,"textord","—","---"),G("text",K,"textord","—","\\textemdash"),G("text",K,"textord","‘","`"),G("text",K,"textord","‘","\\textquoteleft"),G("text",K,"textord","’","'"),G("text",K,"textord","’","\\textquoteright"),G("text",K,"textord","“","``"),G("text",K,"textord","“","\\textquotedblleft"),G("text",K,"textord","”","''"),G("text",K,"textord","”","\\textquotedblright"),G("math",K,"textord","°","\\degree",!0),G("text",K,"textord","°","\\degree"),G("text",K,"textord","°","\\textdegree",!0),G("math",K,Q,"£","\\pounds"),G("math",K,Q,"£","\\mathsterling",!0),G("text",K,Q,"£","\\pounds"),G("text",K,Q,"£","\\textsterling",!0),G("math",Y,"textord","✠","\\maltese"),G("text",Y,"textord","✠","\\maltese"),G("text",K,ee," ","\\ "),G("text",K,ee," "," "),G("text",K,ee," ","~");for(var ne=0;ne<'0123456789/@."'.length;ne++){var ie='0123456789/@."'.charAt(ne);G("math",K,"textord",ie,ie)}for(var re=0;re<'0123456789!@*()-=+[]<>|";:?/.,'.length;re++){var oe='0123456789!@*()-=+[]<>|";:?/.,'.charAt(re);G("text",K,"textord",oe,oe)}for(var se="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",ae=0;ae<se.length;ae++){var le=se.charAt(ae);G("math",K,Q,le,le),G("text",K,"textord",le,le)}G("math",Y,"textord","C","ℂ"),G("text",Y,"textord","C","ℂ"),G("math",Y,"textord","H","ℍ"),G("text",Y,"textord","H","ℍ"),G("math",Y,"textord","N","ℕ"),G("text",Y,"textord","N","ℕ"),G("math",Y,"textord","P","ℙ"),G("text",Y,"textord","P","ℙ"),G("math",Y,"textord","Q","ℚ"),G("text",Y,"textord","Q","ℚ"),G("math",Y,"textord","R","ℝ"),G("text",Y,"textord","R","ℝ"),G("math",Y,"textord","Z","ℤ"),G("text",Y,"textord","Z","ℤ"),G("math",K,Q,"h","ℎ"),G("text",K,Q,"h","ℎ");for(var ue="",ce=0;ce<se.length;ce++){var pe=se.charAt(ce);G("math",K,Q,pe,ue=String.fromCharCode(55349,56320+ce)),G("text",K,"textord",pe,ue),G("math",K,Q,pe,ue=String.fromCharCode(55349,56372+ce)),G("text",K,"textord",pe,ue),G("math",K,Q,pe,ue=String.fromCharCode(55349,56424+ce)),G("text",K,"textord",pe,ue),G("math",K,Q,pe,ue=String.fromCharCode(55349,56580+ce)),G("text",K,"textord",pe,ue),G("math",K,Q,pe,ue=String.fromCharCode(55349,56736+ce)),G("text",K,"textord",pe,ue),G("math",K,Q,pe,ue=String.fromCharCode(55349,56788+ce)),G("text",K,"textord",pe,ue),G("math",K,Q,pe,ue=String.fromCharCode(55349,56840+ce)),G("text",K,"textord",pe,ue),G("math",K,Q,pe,ue=String.fromCharCode(55349,56944+ce)),G("text",K,"textord",pe,ue),ce<26&&(G("math",K,Q,pe,ue=String.fromCharCode(55349,56632+ce)),G("text",K,"textord",pe,ue),G("math",K,Q,pe,ue=String.fromCharCode(55349,56476+ce)),G("text",K,"textord",pe,ue))}G("math",K,Q,"k",ue=String.fromCharCode(55349,56668)),G("text",K,"textord","k",ue);for(var fe=0;fe<10;fe++){var de=fe.toString();G("math",K,Q,de,ue=String.fromCharCode(55349,57294+fe)),G("text",K,"textord",de,ue),G("math",K,Q,de,ue=String.fromCharCode(55349,57314+fe)),G("text",K,"textord",de,ue),G("math",K,Q,de,ue=String.fromCharCode(55349,57324+fe)),G("text",K,"textord",de,ue),G("math",K,Q,de,ue=String.fromCharCode(55349,57334+fe)),G("text",K,"textord",de,ue)}for(var he=0;he<"ÇÐÞçþ".length;he++){var me="ÇÐÞçþ".charAt(he);G("math",K,Q,me,me),G("text",K,"textord",me,me)}G("text",K,"textord","ð","ð"),G("text",K,"textord","–","–"),G("text",K,"textord","—","—"),G("text",K,"textord","‘","‘"),G("text",K,"textord","’","’"),G("text",K,"textord","“","“"),G("text",K,"textord","”","”");var ge=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathdefault","textit","Math-Italic"],["mathdefault","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["","",""],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],be=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],ye=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],ve=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],_e=function(e,t){return t.size<2?e:ye[e-1][t.size-1]},xe=function(){function e(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||e.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=ve[this.size-1],this.maxSize=t.maxSize,this._fontMetrics=void 0}var t=e.prototype;return t.extend=function(t){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize};for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return new e(n)},t.havingStyle=function(e){return this.style===e?this:this.extend({style:e,size:_e(this.textSize,e)})},t.havingCrampedStyle=function(){return this.havingStyle(this.style.cramp())},t.havingSize=function(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:ve[e-1]})},t.havingBaseStyle=function(t){t=t||this.style.text();var n=_e(e.BASESIZE,t);return this.size===n&&this.textSize===e.BASESIZE&&this.style===t?this:this.extend({style:t,size:n})},t.havingBaseSizing=function(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})},t.withColor=function(e){return this.extend({color:e})},t.withPhantom=function(){return this.extend({phantom:!0})},t.withFont=function(e){return this.extend({font:e})},t.withTextFontFamily=function(e){return this.extend({fontFamily:e,font:""})},t.withTextFontWeight=function(e){return this.extend({fontWeight:e,font:""})},t.withTextFontShape=function(e){return this.extend({fontShape:e,font:""})},t.sizingClasses=function(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]},t.baseSizingClasses=function(){return this.size!==e.BASESIZE?["sizing","reset-size"+this.size,"size"+e.BASESIZE]:[]},t.fontMetrics=function(){return this._fontMetrics||(this._fontMetrics=function(e){var t;if(!q[t=e>=5?0:e>=3?1:2]){var n=q[t]={cssEmPerMu:j.quad[t]/18};for(var i in j)j.hasOwnProperty(i)&&(n[i]=j[i][t])}return q[t]}(this.size)),this._fontMetrics},t.getColor=function(){return this.phantom?"transparent":null!=this.color&&e.colorMap.hasOwnProperty(this.color)?e.colorMap[this.color]:this.color},e}();xe.BASESIZE=6,xe.colorMap={"katex-blue":"#6495ed","katex-orange":"#ffa500","katex-pink":"#ff00af","katex-red":"#df0030","katex-green":"#28ae7b","katex-gray":"gray","katex-purple":"#9d38bd","katex-blueA":"#ccfaff","katex-blueB":"#80f6ff","katex-blueC":"#63d9ea","katex-blueD":"#11accd","katex-blueE":"#0c7f99","katex-tealA":"#94fff5","katex-tealB":"#26edd5","katex-tealC":"#01d1c1","katex-tealD":"#01a995","katex-tealE":"#208170","katex-greenA":"#b6ffb0","katex-greenB":"#8af281","katex-greenC":"#74cf70","katex-greenD":"#1fab54","katex-greenE":"#0d923f","katex-goldA":"#ffd0a9","katex-goldB":"#ffbb71","katex-goldC":"#ff9c39","katex-goldD":"#e07d10","katex-goldE":"#a75a05","katex-redA":"#fca9a9","katex-redB":"#ff8482","katex-redC":"#f9685d","katex-redD":"#e84d39","katex-redE":"#bc2612","katex-maroonA":"#ffbde0","katex-maroonB":"#ff92c6","katex-maroonC":"#ed5fa6","katex-maroonD":"#ca337c","katex-maroonE":"#9e034e","katex-purpleA":"#ddd7ff","katex-purpleB":"#c6b9fc","katex-purpleC":"#aa87ff","katex-purpleD":"#7854ab","katex-purpleE":"#543b78","katex-mintA":"#f5f9e8","katex-mintB":"#edf2df","katex-mintC":"#e0e5cc","katex-grayA":"#f6f7f7","katex-grayB":"#f0f1f2","katex-grayC":"#e3e5e6","katex-grayD":"#d6d8da","katex-grayE":"#babec2","katex-grayF":"#888d93","katex-grayG":"#626569","katex-grayH":"#3b3e40","katex-grayI":"#21242c","katex-kaBlue":"#314453","katex-kaGreen":"#71B307"};var we=xe,ke={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:1.00375,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:1.00375},Se={ex:!0,em:!0,mu:!0},Ce=function(e,t){var n;if(e.unit in ke)n=ke[e.unit]/t.fontMetrics().ptPerEm/t.sizeMultiplier;else if("mu"===e.unit)n=t.fontMetrics().cssEmPerMu;else{var i;if(i=t.style.isTight()?t.havingStyle(t.style.text()):t,"ex"===e.unit)n=i.fontMetrics().xHeight;else{if("em"!==e.unit)throw new s("Invalid unit: '"+e.unit+"'");n=i.fontMetrics().quad}i!==t&&(n*=i.sizeMultiplier/t.sizeMultiplier)}return Math.min(e.number*n,t.maxSize)},Ee=["\\imath","ı","\\jmath","ȷ","\\pounds","\\mathsterling","\\textsterling","£"],Te=function(e,t,n){return V[n][e]&&V[n][e].replace&&(e=V[n][e].replace),{value:e,metrics:z(e,t,n)}},Ae=function(e,t,n,i,r){var o,s=Te(e,t,n),a=s.metrics;if(e=s.value,a){var l=a.italic;("text"===n||i&&"mathit"===i.font)&&(l=0),o=new P(e,a.height,a.depth,l,a.skew,a.width,r)}else"undefined"!=typeof console&&console.warn("No character metrics for '"+e+"' in style '"+t+"'"),o=new P(e,0,0,0,0,0,r);if(i){o.maxFontSize=i.sizeMultiplier,i.style.isTight()&&o.classes.push("mtight");var u=i.getColor();u&&(o.style.color=u)}return o},Ne=function(e,t){if(T(e.classes)!==T(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;for(var n in e.style)if(e.style.hasOwnProperty(n)&&e.style[n]!==t.style[n])return!1;for(var i in t.style)if(t.style.hasOwnProperty(i)&&e.style[i]!==t.style[i])return!1;return!0},Me=function(e){for(var t=0,n=0,i=0,r=0;r<e.children.length;r++){var o=e.children[r];o.height>t&&(t=o.height),o.depth>n&&(n=o.depth),o.maxFontSize>i&&(i=o.maxFontSize)}e.height=t,e.depth=n,e.maxFontSize=i},Re=function(e,t,n,i){var r=new R(e,t,n,i);return Me(r),r},Oe=function(e,t,n,i){return new R(e,t,n,i)},Le=function(e){var t=new E(e);return Me(t),t},Pe=function(e,t,n){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}return i+"-"+("textbf"===t&&"textit"===n?"BoldItalic":"textbf"===t?"Bold":"textit"===t?"Italic":"Regular")},De={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},Ie={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},Fe={fontMap:De,makeSymbol:Ae,mathsym:function(e,t,n,i){return void 0===i&&(i=[]),n&&n.font&&"boldsymbol"===n.font&&Te(e,"Main-Bold",t).metrics?Ae(e,"Main-Bold",t,n,i.concat(["mathbf"])):"\\"===e||"main"===V[t][e].font?Ae(e,"Main-Regular",t,n,i):Ae(e,"AMS-Regular",t,n,i.concat(["amsrm"]))},makeSpan:Re,makeSvgSpan:Oe,makeLineSpan:function(e,t,n){var i=Re([e],[],t);return i.height=n||t.fontMetrics().defaultRuleThickness,i.style.borderBottomWidth=i.height+"em",i.maxFontSize=1,i},makeAnchor:function(e,t,n,i){var r=new O(e,t,n,i);return Me(r),r},makeFragment:Le,wrapFragment:function(e,t){return e instanceof E?Re([],[e],t):e},makeVList:function(e,t){for(var n=function(e){if("individualShift"===e.positionType){for(var t=e.children,n=[t[0]],i=-t[0].shift-t[0].elem.depth,r=i,o=1;o<t.length;o++){var s=-t[o].shift-r-t[o].elem.depth,a=s-(t[o-1].elem.height+t[o-1].elem.depth);r+=s,n.push({type:"kern",size:a}),n.push(t[o])}return{children:n,depth:i}}var l;if("top"===e.positionType){for(var u=e.positionData,c=0;c<e.children.length;c++){var p=e.children[c];u-="kern"===p.type?p.size:p.elem.height+p.elem.depth}l=u}else if("bottom"===e.positionType)l=-e.positionData;else{var f=e.children[0];if("elem"!==f.type)throw new Error('First child must have type "elem".');if("shift"===e.positionType)l=-f.elem.depth-e.positionData;else{if("firstBaseline"!==e.positionType)throw new Error("Invalid positionType "+e.positionType+".");l=-f.elem.depth}}return{children:e.children,depth:l}}(e),i=n.children,r=n.depth,o=0,s=0;s<i.length;s++){var a=i[s];if("elem"===a.type){var l=a.elem;o=Math.max(o,l.maxFontSize,l.height)}}o+=2;var u=Re(["pstrut"],[]);u.style.height=o+"em";for(var c=[],p=r,f=r,d=r,h=0;h<i.length;h++){var m=i[h];if("kern"===m.type)d+=m.size;else{var g=m.elem,b=m.wrapperClasses||[],y=m.wrapperStyle||{},v=Re(b,[u,g],void 0,y);v.style.top=-o-d-g.depth+"em",m.marginLeft&&(v.style.marginLeft=m.marginLeft),m.marginRight&&(v.style.marginRight=m.marginRight),c.push(v),d+=g.height+g.depth}p=Math.min(p,d),f=Math.max(f,d)}var _,x=Re(["vlist"],c);if(x.style.height=f+"em",p<0){var w=Re([],[]),k=Re(["vlist"],[w]);k.style.height=-p+"em";var S=Re(["vlist-s"],[new P("​")]);_=[Re(["vlist-r"],[x,S]),Re(["vlist-r"],[k])]}else _=[Re(["vlist-r"],[x])];var C=Re(["vlist-t"],_);return 2===_.length&&C.classes.push("vlist-t2"),C.height=f,C.depth=-p,C},makeOrd:function(e,t,n){var i,r=e.mode,o=e.text,a=["mord"],l="math"===r||"text"===r&&t.font,u=l?t.font:t.fontFamily;if(55349===o.charCodeAt(0)){var c=function(e,t){var n=1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536,i="math"===t?0:1;if(119808<=n&&n<120484){var r=Math.floor((n-119808)/26);return[ge[r][2],ge[r][i]]}if(120782<=n&&n<=120831){var o=Math.floor((n-120782)/10);return[be[o][2],be[o][i]]}if(120485===n||120486===n)return[ge[0][2],ge[0][i]];if(120486<n&&n<120782)return["",""];throw new s("Unsupported character: "+e)}(o,r),f=c[0],d=c[1];return Ae(o,f,r,t,a.concat(d))}if(u){var h,m;if("boldsymbol"===u||"mathnormal"===u){var g="boldsymbol"===u?function(e,t,n,i){return Te(e,"Math-BoldItalic",t).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}}(o,r):(i=o,p.contains(Ee,i)?{fontName:"Main-Italic",fontClass:"mathit"}:/[0-9]/.test(i.charAt(0))?{fontName:"Caligraphic-Regular",fontClass:"mathcal"}:{fontName:"Math-Italic",fontClass:"mathdefault"});h=g.fontName,m=[g.fontClass]}else p.contains(Ee,o)?(h="Main-Italic",m=["mathit"]):l?(h=De[u].fontName,m=[u]):(h=Pe(u,t.fontWeight,t.fontShape),m=[u,t.fontWeight,t.fontShape]);if(Te(o,h,r).metrics)return Ae(o,h,r,t,a.concat(m));if(te.hasOwnProperty(o)&&"Typewriter"===h.substr(0,10)){for(var b=[],y=0;y<o.length;y++)b.push(Ae(o[y],h,r,t,a.concat(m)));return Le(b)}}if("mathord"===n){var v=function(e,t,n,i){return/[0-9]/.test(e.charAt(0))||p.contains(Ee,e)?{fontName:"Main-Italic",fontClass:"mathit"}:{fontName:"Math-Italic",fontClass:"mathdefault"}}(o);return Ae(o,v.fontName,r,t,a.concat([v.fontClass]))}if("textord"===n){var _=V[r][o]&&V[r][o].font;if("ams"===_){var x=Pe("amsrm",t.fontWeight,t.fontShape);return Ae(o,x,r,t,a.concat("amsrm",t.fontWeight,t.fontShape))}if("main"!==_&&_){var w=Pe(_,t.fontWeight,t.fontShape);return Ae(o,w,r,t,a.concat(w,t.fontWeight,t.fontShape))}var k=Pe("textrm",t.fontWeight,t.fontShape);return Ae(o,k,r,t,a.concat(t.fontWeight,t.fontShape))}throw new Error("unexpected type: "+n+" in makeOrd")},makeGlue:function(e,t){var n=Re(["mspace"],[],t),i=Ce(e,t);return n.style.marginRight=i+"em",n},staticSvg:function(e,t){var n=Ie[e],i=n[0],r=n[1],o=n[2],s=new I(i),a=new D([s],{width:r+"em",height:o+"em",style:"width:"+r+"em",viewBox:"0 0 "+1e3*r+" "+1e3*o,preserveAspectRatio:"xMinYMin"}),l=Oe(["overlay"],[a],t);return l.height=o,l.style.height=o+"em",l.style.width=r+"em",l},svgData:Ie,tryCombineChars:function(e){for(var t=0;t<e.length-1;t++){var n=e[t],i=e[t+1];n instanceof P&&i instanceof P&&Ne(n,i)&&(n.text+=i.text,n.height=Math.max(n.height,i.height),n.depth=Math.max(n.depth,i.depth),n.italic=i.italic,e.splice(t+1,1),t--)}return e}};function $e(e,t){var n=je(e,t);if(!n)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return n}function je(e,t){return e&&e.type===t?e:null}function Be(e,t){var n=function(e,t){return e&&"atom"===e.type&&e.family===t?e:null}(e,t);if(!n)throw new Error('Expected node of type "atom" and family "'+t+'", but got '+(e?"atom"===e.type?"atom of family "+e.family:"node of type "+e.type:String(e)));return n}function ze(e){return e&&("atom"===e.type||U.hasOwnProperty(e.type))?e:null}var qe={number:3,unit:"mu"},He={number:4,unit:"mu"},Ue={number:5,unit:"mu"},We={mord:{mop:qe,mbin:He,mrel:Ue,minner:qe},mop:{mord:qe,mop:qe,mrel:Ue,minner:qe},mbin:{mord:He,mop:He,mopen:He,minner:He},mrel:{mord:Ue,mop:Ue,mopen:Ue,minner:Ue},mopen:{},mclose:{mop:qe,mbin:He,mrel:Ue,minner:qe},mpunct:{mord:qe,mop:qe,mrel:Ue,mopen:qe,mclose:qe,mpunct:qe,minner:qe},minner:{mord:qe,mop:qe,mbin:He,mrel:Ue,mopen:qe,mpunct:qe,minner:qe}},Ve={mord:{mop:qe},mop:{mord:qe,mop:qe},mbin:{},mrel:{},mopen:{},mclose:{mop:qe},mpunct:{},minner:{mop:qe}},Ge={},Ke={},Ye={};function Xe(e){for(var t=e.type,n=(e.nodeType,e.names),i=e.props,r=e.handler,o=e.htmlBuilder,s=e.mathmlBuilder,a={type:t,numArgs:i.numArgs,argTypes:i.argTypes,greediness:void 0===i.greediness?1:i.greediness,allowedInText:!!i.allowedInText,allowedInMath:void 0===i.allowedInMath||i.allowedInMath,numOptionalArgs:i.numOptionalArgs||0,infix:!!i.infix,consumeMode:i.consumeMode,handler:r},l=0;l<n.length;++l)Ge[n[l]]=a;t&&(o&&(Ke[t]=o),s&&(Ye[t]=s))}function Qe(e){Xe({type:e.type,names:[],props:{numArgs:0},handler:function(){throw new Error("Should never be called.")},htmlBuilder:e.htmlBuilder,mathmlBuilder:e.mathmlBuilder})}var Ze=function(e){var t=je(e,"ordgroup");return t?t.body:[e]},Je=Fe.makeSpan,et=["leftmost","mbin","mopen","mrel","mop","mpunct"],tt=["rightmost","mrel","mclose","mpunct"],nt={display:x.DISPLAY,text:x.TEXT,script:x.SCRIPT,scriptscript:x.SCRIPTSCRIPT},it={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},rt=function(e,t,n,i){void 0===i&&(i=[null,null]);for(var r=[],o=0;o<e.length;o++){var s=ut(e[o],t);if(s instanceof E){var a=s.children;r.push.apply(r,a)}else r.push(s)}if(!n)return r;var l=t;if(1===e.length){var u=je(e[0],"sizing")||je(e[0],"styling");u&&("sizing"===u.type?l=t.havingSize(u.size):"styling"===u.type&&(l=t.havingStyle(nt[u.style])))}var c=Je([i[0]||"leftmost"],[],t),f=Je([i[1]||"rightmost"],[],t);return ot(r,function(e,t){var n=t.classes[0],i=e.classes[0];"mbin"===n&&p.contains(tt,i)?t.classes[0]="mord":"mbin"===i&&p.contains(et,n)&&(e.classes[0]="mord")},{node:c},f),ot(r,function(e,t){var n=at(t),i=at(e),r=n&&i?e.hasClass("mtight")?Ve[n][i]:We[n][i]:null;if(r)return Fe.makeGlue(r,l)},{node:c},f),r},ot=function e(t,n,i,r){r&&t.push(r);for(var o=0;o<t.length;o++){var s=t[o],a=st(s);if(a)e(a.children,n,i);else if("mspace"!==s.classes[0]){var l=n(s,i.node);l&&(i.insertAfter?i.insertAfter(l):(t.unshift(l),o++)),i.node=s,i.insertAfter=function(e){return function(n){t.splice(e+1,0,n),o++}}(o)}}r&&t.pop()},st=function(e){return e instanceof E||e instanceof O?e:null},at=function(e,t){return e?(t&&(e=function e(t,n){var i=st(t);if(i){var r=i.children;if(r.length){if("right"===n)return e(r[r.length-1],"right");if("left"===n)return e(r[0],"left")}}return t}(e,t)),it[e.classes[0]]||null):null},lt=function(e,t){var n=["nulldelimiter"].concat(e.baseSizingClasses());return Je(t.concat(n))},ut=function(e,t,n){if(!e)return Je();if(Ke[e.type]){var i=Ke[e.type](e,t);if(n&&t.size!==n.size){i=Je(t.sizingClasses(n),[i],t);var r=t.sizeMultiplier/n.sizeMultiplier;i.height*=r,i.depth*=r}return i}throw new s("Got group of unknown type: '"+e.type+"'")};function ct(e,t){var n=Je(["base"],e,t),i=Je(["strut"]);return i.style.height=n.height+n.depth+"em",i.style.verticalAlign=-n.depth+"em",n.children.unshift(i),n}function pt(e,t){var n=null;1===e.length&&"tag"===e[0].type&&(n=e[0].tag,e=e[0].body);for(var i,r=rt(e,t,!0),o=[],s=[],a=0;a<r.length;a++)if(s.push(r[a]),r[a].hasClass("mbin")||r[a].hasClass("mrel")||r[a].hasClass("allowbreak")){for(var l=!1;a<r.length-1&&r[a+1].hasClass("mspace")&&!r[a+1].hasClass("newline");)a++,s.push(r[a]),r[a].hasClass("nobreak")&&(l=!0);l||(o.push(ct(s,t)),s=[])}else r[a].hasClass("newline")&&(s.pop(),s.length>0&&(o.push(ct(s,t)),s=[]),o.push(r[a]));s.length>0&&o.push(ct(s,t)),n&&((i=ct(rt(n,t,!0))).classes=["tag"],o.push(i));var u=Je(["katex-html"],o);if(u.setAttribute("aria-hidden","true"),i){var c=i.children[0];c.style.height=u.height+u.depth+"em",c.style.verticalAlign=-u.depth+"em"}return u}function ft(e){return new E(e)}var dt=function(){function e(e,t){this.type=void 0,this.attributes=void 0,this.children=void 0,this.type=e,this.attributes={},this.children=t||[]}var t=e.prototype;return t.setAttribute=function(e,t){this.attributes[e]=t},t.getAttribute=function(e){return this.attributes[e]},t.toNode=function(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);for(var n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e},t.toMarkup=function(){var e="<"+this.type;for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="',e+=p.escape(this.attributes[t]),e+='"');e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</"+this.type+">"},t.toText=function(){return this.children.map(function(e){return e.toText()}).join("")},e}(),ht=function(){function e(e){this.text=void 0,this.text=e}var t=e.prototype;return t.toNode=function(){return document.createTextNode(this.text)},t.toMarkup=function(){return p.escape(this.toText())},t.toText=function(){return this.text},e}(),mt={MathNode:dt,TextNode:ht,SpaceNode:function(){function e(e){this.width=void 0,this.character=void 0,this.width=e,this.character=e>=.05555&&e<=.05556?" ":e>=.1666&&e<=.1667?" ":e>=.2222&&e<=.2223?" ":e>=.2777&&e<=.2778?"  ":e>=-.05556&&e<=-.05555?" ⁣":e>=-.1667&&e<=-.1666?" ⁣":e>=-.2223&&e<=-.2222?" ⁣":e>=-.2778&&e<=-.2777?" ⁣":null}var t=e.prototype;return t.toNode=function(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",this.width+"em"),e},t.toMarkup=function(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+this.width+'em"/>'},t.toText=function(){return this.character?this.character:" "},e}(),newDocumentFragment:ft},gt=function(e,t,n){return!V[t][e]||!V[t][e].replace||55349===e.charCodeAt(0)||te.hasOwnProperty(e)&&n&&(n.fontFamily&&"tt"===n.fontFamily.substr(4,2)||n.font&&"tt"===n.font.substr(4,2))||(e=V[t][e].replace),new mt.TextNode(e)},bt=function(e){return 1===e.length?e[0]:new mt.MathNode("mrow",e)},yt=function(e,t){if("texttt"===t.fontFamily)return"monospace";if("textsf"===t.fontFamily)return"textit"===t.fontShape&&"textbf"===t.fontWeight?"sans-serif-bold-italic":"textit"===t.fontShape?"sans-serif-italic":"textbf"===t.fontWeight?"bold-sans-serif":"sans-serif";if("textit"===t.fontShape&&"textbf"===t.fontWeight)return"bold-italic";if("textit"===t.fontShape)return"italic";if("textbf"===t.fontWeight)return"bold";var n=t.font;if(!n||"mathnormal"===n)return null;var i=e.mode;if("mathit"===n)return"italic";if("boldsymbol"===n)return"bold-italic";var r=e.text;return p.contains(["\\imath","\\jmath"],r)?null:(V[i][r]&&V[i][r].replace&&(r=V[i][r].replace),z(r,Fe.fontMap[n].fontName,i)?Fe.fontMap[n].variant:null)},vt=function(e,t){for(var n,i=[],r=0;r<e.length;r++){var o=xt(e[r],t);if(o instanceof dt&&n instanceof dt){if("mtext"===o.type&&"mtext"===n.type&&o.getAttribute("mathvariant")===n.getAttribute("mathvariant")){var s;(s=n.children).push.apply(s,o.children);continue}if("mn"===o.type&&"mn"===n.type){var a;(a=n.children).push.apply(a,o.children);continue}if("mi"===o.type&&1===o.children.length&&"mn"===n.type){var l=o.children[0];if(l instanceof ht&&"."===l.text){var u;(u=n.children).push.apply(u,o.children);continue}}}i.push(o),n=o}return i},_t=function(e,t){return bt(vt(e,t))},xt=function(e,t){if(!e)return new mt.MathNode("mrow");if(Ye[e.type])return Ye[e.type](e,t);throw new s("Got group of unknown type: '"+e.type+"'")};var wt=function(e){return new we({style:e.displayMode?x.DISPLAY:x.TEXT,maxSize:e.maxSize})},kt=function(e,t){if(t.displayMode){var n=["katex-display"];t.leqno&&n.push("leqno"),t.fleqn&&n.push("fleqn"),e=Fe.makeSpan(n,[e])}return e},St=function(e,t,n){var i=wt(n),r=function(e,t,n){var i,r=vt(e,n);i=1===r.length&&r[0]instanceof dt&&p.contains(["mrow","mtable"],r[0].type)?r[0]:new mt.MathNode("mrow",r);var o=new mt.MathNode("annotation",[new mt.TextNode(t)]);o.setAttribute("encoding","application/x-tex");var s=new mt.MathNode("semantics",[i,o]),a=new mt.MathNode("math",[s]);return Fe.makeSpan(["katex-mathml"],[a])}(e,t,i),o=pt(e,i),s=Fe.makeSpan(["katex"],[r,o]);return kt(s,n)},Ct={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⎵",overbrace:"⏞",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋"},Et={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Tt=function(e){return"ordgroup"===e.type?e.body.length:1},At=function(e,t,n,i){var r,o=e.height+e.depth+2*n;if(/fbox|color/.test(t)){if(r=Fe.makeSpan(["stretchy",t],[],i),"fbox"===t){var s=i.color&&i.getColor();s&&(r.style.borderColor=s)}}else{var a=[];/^[bx]cancel$/.test(t)&&a.push(new F({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(t)&&a.push(new F({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var l=new D(a,{width:"100%",height:o+"em"});r=Fe.makeSvgSpan([],[l],i)}return r.height=o,r.style.height=o+"em",r},Nt=function(e){var t=new mt.MathNode("mo",[new mt.TextNode(Ct[e.substr(1)])]);return t.setAttribute("stretchy","true"),t},Mt=function(e,t){var n=function(){var n=4e5,i=e.label.substr(1);if(p.contains(["widehat","widecheck","widetilde","utilde"],i)){var r,o,s,a=Tt(e.base);if(a>5)"widehat"===i||"widecheck"===i?(r=420,n=2364,s=.42,o=i+"4"):(r=312,n=2340,s=.34,o="tilde4");else{var l=[1,1,2,2,3,3][a];"widehat"===i||"widecheck"===i?(n=[0,1062,2364,2364,2364][l],r=[0,239,300,360,420][l],s=[0,.24,.3,.3,.36,.42][l],o=i+l):(n=[0,600,1033,2339,2340][l],r=[0,260,286,306,312][l],s=[0,.26,.286,.3,.306,.34][l],o="tilde"+l)}var u=new I(o),c=new D([u],{width:"100%",height:s+"em",viewBox:"0 0 "+n+" "+r,preserveAspectRatio:"none"});return{span:Fe.makeSvgSpan([],[c],t),minWidth:0,height:s}}var f,d,h=[],m=Et[i],g=m[0],b=m[1],y=m[2],v=y/1e3,_=g.length;if(1===_)f=["hide-tail"],d=[m[3]];else if(2===_)f=["halfarrow-left","halfarrow-right"],d=["xMinYMin","xMaxYMin"];else{if(3!==_)throw new Error("Correct katexImagesData or update code here to support\n                    "+_+" children.");f=["brace-left","brace-center","brace-right"],d=["xMinYMin","xMidYMin","xMaxYMin"]}for(var x=0;x<_;x++){var w=new I(g[x]),k=new D([w],{width:"400em",height:v+"em",viewBox:"0 0 "+n+" "+y,preserveAspectRatio:d[x]+" slice"}),S=Fe.makeSvgSpan([f[x]],[k],t);if(1===_)return{span:S,minWidth:b,height:v};S.style.height=v+"em",h.push(S)}return{span:Fe.makeSpan(["stretchy"],h,t),minWidth:b,height:v}}(),i=n.span,r=n.minWidth,o=n.height;return i.height=o,i.style.height=o+"em",r>0&&(i.style.minWidth=r+"em"),i},Rt=function(e,t){var n,i,r,o=je(e,"supsub");o?(n=(i=$e(o.base,"accent")).base,o.base=n,r=function(e){if(e instanceof R)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}(ut(o,t)),o.base=i):n=(i=$e(e,"accent")).base;var s=ut(n,t.havingCrampedStyle()),a=0;if(i.isShifty&&p.isCharacterBox(n)){var l=p.getBaseElem(n);a=function(e){if(e instanceof P)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}(ut(l,t.havingCrampedStyle())).skew}var u,c=Math.min(s.height,t.fontMetrics().xHeight);if(i.isStretchy)u=Mt(i,t),u=Fe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"elem",elem:u,wrapperClasses:["svg-align"],wrapperStyle:a>0?{width:"calc(100% - "+2*a+"em)",marginLeft:2*a+"em"}:void 0}]},t);else{var f,d;"\\vec"===i.label?(f=Fe.staticSvg("vec",t),d=Fe.svgData.vec[1]):((f=Fe.makeSymbol(i.label,"Main-Regular",i.mode,t)).italic=0,d=f.width),u=Fe.makeSpan(["accent-body"],[f]);var h="\\textcircled"===i.label;h&&(u.classes.push("accent-full"),c=s.height);var m=a;h||(m-=d/2),u.style.left=m+"em","\\textcircled"===i.label&&(u.style.top=".2em"),u=Fe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:-c},{type:"elem",elem:u}]},t)}var g=Fe.makeSpan(["mord","accent"],[u],t);return r?(r.children[0]=g,r.height=Math.max(g.height,r.height),r.classes[0]="mord",r):g},Ot=function(e,t){var n=e.isStretchy?Nt(e.label):new mt.MathNode("mo",[gt(e.label,e.mode)]),i=new mt.MathNode("mover",[xt(e.base,t),n]);return i.setAttribute("accent","true"),i},Lt=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(function(e){return"\\"+e}).join("|"));Xe({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:function(e,t){var n=t[0],i=!Lt.test(e.funcName),r=!i||"\\widehat"===e.funcName||"\\widetilde"===e.funcName||"\\widecheck"===e.funcName;return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:i,isShifty:r,base:n}},htmlBuilder:Rt,mathmlBuilder:Ot}),Xe({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!1},handler:function(e,t){var n=t[0];return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:Rt,mathmlBuilder:Ot}),Xe({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:function(e,t){var n=e.parser,i=e.funcName,r=t[0];return{type:"accentUnder",mode:n.mode,label:i,base:r}},htmlBuilder:function(e,t){var n=ut(e.base,t),i=Mt(e,t),r="\\utilde"===e.label?.12:0,o=Fe.makeVList({positionType:"bottom",positionData:i.height+r,children:[{type:"elem",elem:i,wrapperClasses:["svg-align"]},{type:"kern",size:r},{type:"elem",elem:n}]},t);return Fe.makeSpan(["mord","accentunder"],[o],t)},mathmlBuilder:function(e,t){var n=Nt(e.label),i=new mt.MathNode("munder",[xt(e.base,t),n]);return i.setAttribute("accentunder","true"),i}}),Xe({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium"],props:{numArgs:1,numOptionalArgs:1},handler:function(e,t,n){var i=e.parser,r=e.funcName;return{type:"xArrow",mode:i.mode,label:r,body:t[0],below:n[0]}},htmlBuilder:function(e,t){var n,i=t.style,r=t.havingStyle(i.sup()),o=Fe.wrapFragment(ut(e.body,r,t),t);o.classes.push("x-arrow-pad"),e.below&&(r=t.havingStyle(i.sub()),(n=Fe.wrapFragment(ut(e.below,r,t),t)).classes.push("x-arrow-pad"));var s,a=Mt(e,t),l=-t.fontMetrics().axisHeight+.5*a.height,u=-t.fontMetrics().axisHeight-.5*a.height-.111;if((o.depth>.25||"\\xleftequilibrium"===e.label)&&(u-=o.depth),n){var c=-t.fontMetrics().axisHeight+n.height+.5*a.height+.111;s=Fe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:u},{type:"elem",elem:a,shift:l},{type:"elem",elem:n,shift:c}]},t)}else s=Fe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:u},{type:"elem",elem:a,shift:l}]},t);return s.children[0].children[0].children[1].classes.push("svg-align"),Fe.makeSpan(["mrel","x-arrow"],[s],t)},mathmlBuilder:function(e,t){var n,i,r=Nt(e.label);if(e.body){var o=xt(e.body,t);e.below?(i=xt(e.below,t),n=new mt.MathNode("munderover",[r,i,o])):n=new mt.MathNode("mover",[r,o])}else e.below?(i=xt(e.below,t),n=new mt.MathNode("munder",[r,i])):n=new mt.MathNode("mover",[r]);return n}}),Xe({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){for(var n=e.parser,i=$e(t[0],"ordgroup").body,r="",o=0;o<i.length;o++){r+=$e(i[o],"textord").text}var a=parseInt(r);if(isNaN(a))throw new s("\\@char has non-numeric argument "+r);return{type:"textord",mode:n.mode,text:String.fromCharCode(a)}}});var Pt=function(e,t){var n=rt(e.body,t.withColor(e.color),!1);return Fe.makeFragment(n)},Dt=function(e,t){var n=vt(e.body,t),i=new mt.MathNode("mstyle",n);return i.setAttribute("mathcolor",e.color),i};Xe({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,greediness:3,argTypes:["color","original"]},handler:function(e,t){var n=e.parser,i=$e(t[0],"color-token").color,r=t[1];return{type:"color",mode:n.mode,color:i,body:Ze(r)}},htmlBuilder:Pt,mathmlBuilder:Dt}),Xe({type:"color",names:["\\blue","\\orange","\\pink","\\red","\\green","\\gray","\\purple","\\blueA","\\blueB","\\blueC","\\blueD","\\blueE","\\tealA","\\tealB","\\tealC","\\tealD","\\tealE","\\greenA","\\greenB","\\greenC","\\greenD","\\greenE","\\goldA","\\goldB","\\goldC","\\goldD","\\goldE","\\redA","\\redB","\\redC","\\redD","\\redE","\\maroonA","\\maroonB","\\maroonC","\\maroonD","\\maroonE","\\purpleA","\\purpleB","\\purpleC","\\purpleD","\\purpleE","\\mintA","\\mintB","\\mintC","\\grayA","\\grayB","\\grayC","\\grayD","\\grayE","\\grayF","\\grayG","\\grayH","\\grayI","\\kaBlue","\\kaGreen"],props:{numArgs:1,allowedInText:!0,greediness:3},handler:function(e,t){var n=e.parser,i=e.funcName,r=t[0];return{type:"color",mode:n.mode,color:"katex-"+i.slice(1),body:Ze(r)}},htmlBuilder:Pt,mathmlBuilder:Dt}),Xe({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,greediness:3,argTypes:["color"]},handler:function(e,t){var n=e.parser,i=e.breakOnTokenText,r=$e(t[0],"color-token").color,o=n.parseExpression(!0,i);return{type:"color",mode:n.mode,color:r,body:o}},htmlBuilder:Pt,mathmlBuilder:Dt}),Xe({type:"cr",names:["\\cr","\\newline"],props:{numArgs:0,numOptionalArgs:1,argTypes:["size"],allowedInText:!0},handler:function(e,t,n){var i=e.parser,r=e.funcName,o=n[0],s="\\cr"===r,a=!1;return s||(a=!i.settings.displayMode||!i.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode")),{type:"cr",mode:i.mode,newLine:a,newRow:s,size:o&&$e(o,"size").value}},htmlBuilder:function(e,t){if(e.newRow)throw new s("\\cr valid only within a tabular/array environment");var n=Fe.makeSpan(["mspace"],[],t);return e.newLine&&(n.classes.push("newline"),e.size&&(n.style.marginTop=Ce(e.size,t)+"em")),n},mathmlBuilder:function(e,t){var n=new mt.MathNode("mspace");return e.newLine&&(n.setAttribute("linebreak","newline"),e.size&&n.setAttribute("height",Ce(e.size,t)+"em")),n}});var It=function(e,t,n){var i=z(V.math[e]&&V.math[e].replace||e,t,n);if(!i)throw new Error("Unsupported symbol "+e+" and font size "+t+".");return i},Ft=function(e,t,n,i){var r=n.havingBaseStyle(t),o=Fe.makeSpan(i.concat(r.sizingClasses(n)),[e],n),s=r.sizeMultiplier/n.sizeMultiplier;return o.height*=s,o.depth*=s,o.maxFontSize=r.sizeMultiplier,o},$t=function(e,t,n){var i=t.havingBaseStyle(n),r=(1-t.sizeMultiplier/i.sizeMultiplier)*t.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=r+"em",e.height-=r,e.depth+=r},jt=function(e,t,n,i,r,o){var s=function(e,t,n,i){return Fe.makeSymbol(e,"Size"+t+"-Regular",n,i)}(e,t,r,i),a=Ft(Fe.makeSpan(["delimsizing","size"+t],[s],i),x.TEXT,i,o);return n&&$t(a,i,x.TEXT),a},Bt=function(e,t,n){var i;return i="Size1-Regular"===t?"delim-size1":"delim-size4",{type:"elem",elem:Fe.makeSpan(["delimsizinginner",i],[Fe.makeSpan([],[Fe.makeSymbol(e,t,n)])])}},zt=function(e,t,n,i,r,o){var s,a,l,u;s=l=u=e,a=null;var c="Size1-Regular";"\\uparrow"===e?l=u="⏐":"\\Uparrow"===e?l=u="‖":"\\downarrow"===e?s=l="⏐":"\\Downarrow"===e?s=l="‖":"\\updownarrow"===e?(s="\\uparrow",l="⏐",u="\\downarrow"):"\\Updownarrow"===e?(s="\\Uparrow",l="‖",u="\\Downarrow"):"["===e||"\\lbrack"===e?(s="⎡",l="⎢",u="⎣",c="Size4-Regular"):"]"===e||"\\rbrack"===e?(s="⎤",l="⎥",u="⎦",c="Size4-Regular"):"\\lfloor"===e||"⌊"===e?(l=s="⎢",u="⎣",c="Size4-Regular"):"\\lceil"===e||"⌈"===e?(s="⎡",l=u="⎢",c="Size4-Regular"):"\\rfloor"===e||"⌋"===e?(l=s="⎥",u="⎦",c="Size4-Regular"):"\\rceil"===e||"⌉"===e?(s="⎤",l=u="⎥",c="Size4-Regular"):"("===e||"\\lparen"===e?(s="⎛",l="⎜",u="⎝",c="Size4-Regular"):")"===e||"\\rparen"===e?(s="⎞",l="⎟",u="⎠",c="Size4-Regular"):"\\{"===e||"\\lbrace"===e?(s="⎧",a="⎨",u="⎩",l="⎪",c="Size4-Regular"):"\\}"===e||"\\rbrace"===e?(s="⎫",a="⎬",u="⎭",l="⎪",c="Size4-Regular"):"\\lgroup"===e||"⟮"===e?(s="⎧",u="⎩",l="⎪",c="Size4-Regular"):"\\rgroup"===e||"⟯"===e?(s="⎫",u="⎭",l="⎪",c="Size4-Regular"):"\\lmoustache"===e||"⎰"===e?(s="⎧",u="⎭",l="⎪",c="Size4-Regular"):"\\rmoustache"!==e&&"⎱"!==e||(s="⎫",u="⎩",l="⎪",c="Size4-Regular");var p=It(s,c,r),f=p.height+p.depth,d=It(l,c,r),h=d.height+d.depth,m=It(u,c,r),g=m.height+m.depth,b=0,y=1;if(null!==a){var v=It(a,c,r);b=v.height+v.depth,y=2}var _=f+g+b,w=Math.ceil((t-_)/(y*h)),k=_+w*y*h,S=i.fontMetrics().axisHeight;n&&(S*=i.sizeMultiplier);var C=k/2-S,E=[];if(E.push(Bt(u,c,r)),null===a)for(var T=0;T<w;T++)E.push(Bt(l,c,r));else{for(var A=0;A<w;A++)E.push(Bt(l,c,r));E.push(Bt(a,c,r));for(var N=0;N<w;N++)E.push(Bt(l,c,r))}E.push(Bt(s,c,r));var M=i.havingBaseStyle(x.TEXT),R=Fe.makeVList({positionType:"bottom",positionData:C,children:E},M);return Ft(Fe.makeSpan(["delimsizing","mult"],[R],M),x.TEXT,i,o)},qt=function(e,t,n,i){var r;"sqrtTall"===e&&(r="M702 80H400000v40H742v"+(n-54-80)+"l-4 4-4 4c-.667.7\n-2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1h-12l-28-84c-16.667-52-96.667\n-294.333-240-727l-212 -643 -85 170c-4-3.333-8.333-7.667-13 -13l-13-13l77-155\n 77-156c66 199.333 139 419.667 219 661 l218 661zM702 80H400000v40H742z");var o=new I(e,r),s=new D([o],{width:"400em",height:t+"em",viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"});return Fe.makeSvgSpan(["hide-tail"],[s],i)},Ht=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],Ut=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],Wt=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Vt=[0,1.2,1.8,2.4,3],Gt=[{type:"small",style:x.SCRIPTSCRIPT},{type:"small",style:x.SCRIPT},{type:"small",style:x.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],Kt=[{type:"small",style:x.SCRIPTSCRIPT},{type:"small",style:x.SCRIPT},{type:"small",style:x.TEXT},{type:"stack"}],Yt=[{type:"small",style:x.SCRIPTSCRIPT},{type:"small",style:x.SCRIPT},{type:"small",style:x.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],Xt=function(e){if("small"===e.type)return"Main-Regular";if("large"===e.type)return"Size"+e.size+"-Regular";if("stack"===e.type)return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},Qt=function(e,t,n,i){for(var r=Math.min(2,3-i.style.size);r<n.length&&"stack"!==n[r].type;r++){var o=It(e,Xt(n[r]),"math"),s=o.height+o.depth;if("small"===n[r].type&&(s*=i.havingBaseStyle(n[r].style).sizeMultiplier),s>t)return n[r]}return n[n.length-1]},Zt=function(e,t,n,i,r,o){var s;"<"===e||"\\lt"===e||"⟨"===e?e="\\langle":">"!==e&&"\\gt"!==e&&"⟩"!==e||(e="\\rangle"),s=p.contains(Wt,e)?Gt:p.contains(Ht,e)?Yt:Kt;var a=Qt(e,t,s,i);return"small"===a.type?function(e,t,n,i,r,o){var s=Fe.makeSymbol(e,"Main-Regular",r,i),a=Ft(s,t,i,o);return n&&$t(a,i,t),a}(e,a.style,n,i,r,o):"large"===a.type?jt(e,a.size,n,i,r,o):zt(e,t,n,i,r,o)},Jt=function(e,t){var n,i,r=t.havingBaseSizing(),o=Qt("\\surd",e*r.sizeMultiplier,Yt,r),s=r.sizeMultiplier,a=0,l=0,u=0;return"small"===o.type?(e<1?s=1:e<1.4&&(s=.7),l=1/s,(n=qt("sqrtMain",a=1.08/s,u=1080,t)).style.minWidth="0.853em",i=.833/s):"large"===o.type?(u=1080*Vt[o.size],l=Vt[o.size]/s,a=(Vt[o.size]+.08)/s,(n=qt("sqrtSize"+o.size,a,u,t)).style.minWidth="1.02em",i=1/s):(a=e+.08,l=e,u=Math.floor(1e3*e)+80,(n=qt("sqrtTall",a,u,t)).style.minWidth="0.742em",i=1.056),n.height=l,n.style.height=a+"em",{span:n,advanceWidth:i,ruleWidth:t.fontMetrics().sqrtRuleThickness*s}},en=function(e,t,n,i,r){if("<"===e||"\\lt"===e||"⟨"===e?e="\\langle":">"!==e&&"\\gt"!==e&&"⟩"!==e||(e="\\rangle"),p.contains(Ht,e)||p.contains(Wt,e))return jt(e,t,!1,n,i,r);if(p.contains(Ut,e))return zt(e,Vt[t],!1,n,i,r);throw new s("Illegal delimiter: '"+e+"'")},tn=Zt,nn=function(e,t,n,i,r,o){var s=i.fontMetrics().axisHeight*i.sizeMultiplier,a=5/i.fontMetrics().ptPerEm,l=Math.max(t-s,n+s),u=Math.max(l/500*901,2*l-a);return Zt(e,u,!0,i,r,o)},rn={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},on=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function sn(e,t){var n=ze(e);if(n&&p.contains(on,n.text))return n;throw new s("Invalid delimiter: '"+(n?n.text:JSON.stringify(e))+"' after '"+t.funcName+"'",e)}function an(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Xe({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1},handler:function(e,t){var n=sn(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:rn[e.funcName].size,mclass:rn[e.funcName].mclass,delim:n.text}},htmlBuilder:function(e,t){return"."===e.delim?Fe.makeSpan([e.mclass]):en(e.delim,e.size,t,e.mode,[e.mclass])},mathmlBuilder:function(e){var t=[];"."!==e.delim&&t.push(gt(e.delim,e.mode));var n=new mt.MathNode("mo",t);return"mopen"===e.mclass||"mclose"===e.mclass?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n}}),Xe({type:"leftright-right",names:["\\right"],props:{numArgs:1},handler:function(e,t){return{type:"leftright-right",mode:e.parser.mode,delim:sn(t[0],e).text}}}),Xe({type:"leftright",names:["\\left"],props:{numArgs:1},handler:function(e,t){var n=sn(t[0],e),i=e.parser;++i.leftrightDepth;var r=i.parseExpression(!1);--i.leftrightDepth,i.expect("\\right",!1);var o=$e(i.parseFunction(),"leftright-right");return{type:"leftright",mode:i.mode,body:r,left:n.text,right:o.delim}},htmlBuilder:function(e,t){an(e);for(var n,i,r=rt(e.body,t,!0,["mopen","mclose"]),o=0,s=0,a=!1,l=0;l<r.length;l++)r[l].isMiddle?a=!0:(o=Math.max(r[l].height,o),s=Math.max(r[l].depth,s));if(o*=t.sizeMultiplier,s*=t.sizeMultiplier,n="."===e.left?lt(t,["mopen"]):nn(e.left,o,s,t,e.mode,["mopen"]),r.unshift(n),a)for(var u=1;u<r.length;u++){var c=r[u].isMiddle;c&&(r[u]=nn(c.delim,o,s,c.options,e.mode,[]))}return i="."===e.right?lt(t,["mclose"]):nn(e.right,o,s,t,e.mode,["mclose"]),r.push(i),Fe.makeSpan(["minner"],r,t)},mathmlBuilder:function(e,t){an(e);var n=vt(e.body,t);if("."!==e.left){var i=new mt.MathNode("mo",[gt(e.left,e.mode)]);i.setAttribute("fence","true"),n.unshift(i)}if("."!==e.right){var r=new mt.MathNode("mo",[gt(e.right,e.mode)]);r.setAttribute("fence","true"),n.push(r)}return bt(n)}}),Xe({type:"middle",names:["\\middle"],props:{numArgs:1},handler:function(e,t){var n=sn(t[0],e);if(!e.parser.leftrightDepth)throw new s("\\middle without preceding \\left",n);return{type:"middle",mode:e.parser.mode,delim:n.text}},htmlBuilder:function(e,t){var n;if("."===e.delim)n=lt(t,[]);else{n=en(e.delim,1,t,e.mode,[]);var i={delim:e.delim,options:t};n.isMiddle=i}return n},mathmlBuilder:function(e,t){var n=new mt.MathNode("mo",[gt(e.delim,e.mode)]);return n.setAttribute("fence","true"),n}});var ln=function(e,t){var n,i,r=Fe.wrapFragment(ut(e.body,t),t),o=e.label.substr(1),s=t.sizeMultiplier,a=0,l=p.isCharacterBox(e.body);if("sout"===o)(n=Fe.makeSpan(["stretchy","sout"])).height=t.fontMetrics().defaultRuleThickness/s,a=-.5*t.fontMetrics().xHeight;else{/cancel/.test(o)?l||r.classes.push("cancel-pad"):r.classes.push("boxpad");var u=0;u=/box/.test(o)?"colorbox"===o?.3:.34:l?.2:0,n=At(r,o,u,t),a=r.depth+u,e.backgroundColor&&(n.style.backgroundColor=e.backgroundColor,e.borderColor&&(n.style.borderColor=e.borderColor))}return i=e.backgroundColor?Fe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:a},{type:"elem",elem:r,shift:0}]},t):Fe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:0},{type:"elem",elem:n,shift:a,wrapperClasses:/cancel/.test(o)?["svg-align"]:[]}]},t),/cancel/.test(o)&&(i.height=r.height,i.depth=r.depth),/cancel/.test(o)&&!l?Fe.makeSpan(["mord","cancel-lap"],[i],t):Fe.makeSpan(["mord"],[i],t)},un=function(e,t){var n=new mt.MathNode("menclose",[xt(e.body,t)]);switch(e.label){case"\\cancel":n.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":n.setAttribute("notation","downdiagonalstrike");break;case"\\sout":n.setAttribute("notation","horizontalstrike");break;case"\\fbox":case"\\fcolorbox":n.setAttribute("notation","box");break;case"\\xcancel":n.setAttribute("notation","updiagonalstrike downdiagonalstrike")}return e.backgroundColor&&n.setAttribute("mathbackground",e.backgroundColor),n};Xe({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,greediness:3,argTypes:["color","text"]},handler:function(e,t,n){var i=e.parser,r=e.funcName,o=$e(t[0],"color-token").color,s=t[1];return{type:"enclose",mode:i.mode,label:r,backgroundColor:o,body:s}},htmlBuilder:ln,mathmlBuilder:un}),Xe({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,greediness:3,argTypes:["color","color","text"]},handler:function(e,t,n){var i=e.parser,r=e.funcName,o=$e(t[0],"color-token").color,s=$e(t[1],"color-token").color,a=t[2];return{type:"enclose",mode:i.mode,label:r,backgroundColor:s,borderColor:o,body:a}},htmlBuilder:ln,mathmlBuilder:un}),Xe({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0},handler:function(e,t){return{type:"enclose",mode:e.parser.mode,label:"\\fbox",body:t[0]}}}),Xe({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout"],props:{numArgs:1},handler:function(e,t,n){var i=e.parser,r=e.funcName,o=t[0];return{type:"enclose",mode:i.mode,label:r,body:o}},htmlBuilder:ln,mathmlBuilder:un});var cn={};function pn(e){for(var t=e.type,n=e.names,i=e.props,r=e.handler,o=e.htmlBuilder,s=e.mathmlBuilder,a={type:t,numArgs:i.numArgs||0,greediness:1,allowedInText:!1,numOptionalArgs:0,handler:r},l=0;l<n.length;++l)cn[n[l]]=a;o&&(Ke[t]=o),s&&(Ye[t]=s)}function fn(e){var t=[];e.consumeSpaces();for(var n=e.nextToken.text;"\\hline"===n||"\\hdashline"===n;)e.consume(),t.push("\\hdashline"===n),e.consumeSpaces(),n=e.nextToken.text;return t}function dn(e,t,n){var i=t.hskipBeforeAndAfter,r=t.addJot,o=t.cols,a=t.arraystretch;if(e.gullet.beginGroup(),e.gullet.macros.set("\\\\","\\cr"),!a){var l=e.gullet.expandMacroAsText("\\arraystretch");if(null==l)a=1;else if(!(a=parseFloat(l))||a<0)throw new s("Invalid \\arraystretch: "+l)}var u=[],c=[u],p=[],f=[];for(f.push(fn(e));;){var d=e.parseExpression(!1,"\\cr");d={type:"ordgroup",mode:e.mode,body:d},n&&(d={type:"styling",mode:e.mode,style:n,body:[d]}),u.push(d);var h=e.nextToken.text;if("&"===h)e.consume();else{if("\\end"===h){1===u.length&&"styling"===d.type&&0===d.body[0].body.length&&c.pop(),f.length<c.length+1&&f.push([]);break}if("\\cr"!==h)throw new s("Expected & or \\\\ or \\cr or \\end",e.nextToken);var m=$e(e.parseFunction(),"cr");p.push(m.size),f.push(fn(e)),u=[],c.push(u)}}return e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:r,arraystretch:a,body:c,cols:o,rowGaps:p,hskipBeforeAndAfter:i,hLinesBeforeRow:f}}function hn(e){return"d"===e.substr(0,1)?"display":"text"}var mn=function(e,t){var n,i,r=e.body.length,o=e.hLinesBeforeRow,a=0,l=new Array(r),u=[],c=1/t.fontMetrics().ptPerEm,f=5*c,d=12*c,h=3*c,m=e.arraystretch*d,g=.7*m,b=.3*m,y=0;function v(e){for(var t=0;t<e.length;++t)t>0&&(y+=.25),u.push({pos:y,isDashed:e[t]})}for(v(o[0]),n=0;n<e.body.length;++n){var _=e.body[n],x=g,w=b;a<_.length&&(a=_.length);var k=new Array(_.length);for(i=0;i<_.length;++i){var S=ut(_[i],t);w<S.depth&&(w=S.depth),x<S.height&&(x=S.height),k[i]=S}var C=e.rowGaps[n],E=0;C&&(E=Ce(C,t))>0&&(w<(E+=b)&&(w=E),E=0),e.addJot&&(w+=h),k.height=x,k.depth=w,y+=x,k.pos=y,y+=w+E,l[n]=k,v(o[n+1])}var T,A,N=y/2+t.fontMetrics().axisHeight,M=e.cols||[],R=[];for(i=0,A=0;i<a||A<M.length;++i,++A){for(var O=M[A]||{},L=!0;"separator"===O.type;){if(L||((T=Fe.makeSpan(["arraycolsep"],[])).style.width=t.fontMetrics().doubleRuleSep+"em",R.push(T)),"|"===O.separator){var P=Fe.makeSpan(["vertical-separator"],[],t);P.style.height=y+"em",P.style.verticalAlign=-(y-N)+"em",R.push(P)}else{if(":"!==O.separator)throw new s("Invalid separator type: "+O.separator);var D=Fe.makeSpan(["vertical-separator","vs-dashed"],[],t);D.style.height=y+"em",D.style.verticalAlign=-(y-N)+"em",R.push(D)}O=M[++A]||{},L=!1}if(!(i>=a)){var I=void 0;(i>0||e.hskipBeforeAndAfter)&&0!==(I=p.deflt(O.pregap,f))&&((T=Fe.makeSpan(["arraycolsep"],[])).style.width=I+"em",R.push(T));var F=[];for(n=0;n<r;++n){var $=l[n],j=$[i];if(j){var B=$.pos-N;j.depth=$.depth,j.height=$.height,F.push({type:"elem",elem:j,shift:B})}}F=Fe.makeVList({positionType:"individualShift",children:F},t),F=Fe.makeSpan(["col-align-"+(O.align||"c")],[F]),R.push(F),(i<a-1||e.hskipBeforeAndAfter)&&0!==(I=p.deflt(O.postgap,f))&&((T=Fe.makeSpan(["arraycolsep"],[])).style.width=I+"em",R.push(T))}}if(l=Fe.makeSpan(["mtable"],R),u.length>0){for(var z=Fe.makeLineSpan("hline",t,.05),q=Fe.makeLineSpan("hdashline",t,.05),H=[{type:"elem",elem:l,shift:0}];u.length>0;){var U=u.pop(),W=U.pos-N;U.isDashed?H.push({type:"elem",elem:q,shift:W}):H.push({type:"elem",elem:z,shift:W})}l=Fe.makeVList({positionType:"individualShift",children:H},t)}return Fe.makeSpan(["mord"],[l],t)},gn=function(e,t){return new mt.MathNode("mtable",e.body.map(function(e){return new mt.MathNode("mtr",e.map(function(e){return new mt.MathNode("mtd",[xt(e,t)])}))}))},bn=function(e,t){var n,i=[],r=dn(e.parser,{cols:i,addJot:!0},"display"),o=0,a={type:"ordgroup",mode:e.mode,body:[]},l=je(t[0],"ordgroup");if(l){for(var u="",c=0;c<l.body.length;c++){u+=$e(l.body[c],"textord").text}n=Number(u),o=2*n}var p=!o;r.body.forEach(function(e){for(var t=1;t<e.length;t+=2){var i=$e(e[t],"styling");$e(i.body[0],"ordgroup").body.unshift(a)}if(p)o<e.length&&(o=e.length);else{var r=e.length/2;if(n<r)throw new s("Too many math in a row: expected "+n+", but got "+r,e[0])}});for(var f=0;f<o;++f){var d="r",h=0;f%2==1?d="l":f>0&&p&&(h=1),i[f]={type:"align",align:d,pregap:h,postgap:0}}return r};pn({type:"array",names:["array","darray"],props:{numArgs:1},handler:function(e,t){var n={cols:(ze(t[0])?[t[0]]:$e(t[0],"ordgroup").body).map(function(e){var t=function(e){var t=ze(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}(e).text;if(-1!=="lcr".indexOf(t))return{type:"align",align:t};if("|"===t)return{type:"separator",separator:"|"};if(":"===t)return{type:"separator",separator:":"};throw new s("Unknown column alignment: "+t,e)}),hskipBeforeAndAfter:!0};return dn(e.parser,n,hn(e.envName))},htmlBuilder:mn,mathmlBuilder:gn}),pn({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix"],props:{numArgs:0},handler:function(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName],n=dn(e.parser,{hskipBeforeAndAfter:!1},hn(e.envName));return t?{type:"leftright",mode:e.mode,body:[n],left:t[0],right:t[1]}:n},htmlBuilder:mn,mathmlBuilder:gn}),pn({type:"array",names:["cases","dcases"],props:{numArgs:0},handler:function(e){var t=dn(e.parser,{arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},hn(e.envName));return{type:"leftright",mode:e.mode,body:[t],left:"\\{",right:"."}},htmlBuilder:mn,mathmlBuilder:gn}),pn({type:"array",names:["aligned"],props:{numArgs:0},handler:bn,htmlBuilder:mn,mathmlBuilder:gn}),pn({type:"array",names:["gathered"],props:{numArgs:0},handler:function(e){return dn(e.parser,{cols:[{type:"align",align:"c"}],addJot:!0},"display")},htmlBuilder:mn,mathmlBuilder:gn}),pn({type:"array",names:["alignedat"],props:{numArgs:1},handler:bn,htmlBuilder:mn,mathmlBuilder:gn}),Xe({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler:function(e,t){throw new s(e.funcName+" valid only within array environment")}});var yn=cn;Xe({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler:function(e,t){var n=e.parser,i=e.funcName,r=t[0];if("ordgroup"!==r.type)throw new s("Invalid environment name",r);for(var o="",a=0;a<r.body.length;++a)o+=$e(r.body[a],"textord").text;if("\\begin"===i){if(!yn.hasOwnProperty(o))throw new s("No such environment: "+o,r);var l=yn[o],u=n.parseArguments("\\begin{"+o+"}",l),c=u.args,p=u.optArgs,f={mode:n.mode,envName:o,parser:n},d=l.handler(f,c,p);n.expect("\\end",!1);var h=n.nextToken,m=$e(n.parseFunction(),"environment");if(m.name!==o)throw new s("Mismatch: \\begin{"+o+"} matched by \\end{"+m.name+"}",h);return d}return{type:"environment",mode:n.mode,name:o,nameGroup:r}}});var vn=Fe.makeSpan;function _n(e,t){var n=rt(e.body,t,!0);return vn([e.mclass],n,t)}function xn(e,t){var n=vt(e.body,t);return mt.newDocumentFragment(n)}Xe({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1},handler:function(e,t){var n=e.parser,i=e.funcName,r=t[0];return{type:"mclass",mode:n.mode,mclass:"m"+i.substr(5),body:Ze(r)}},htmlBuilder:_n,mathmlBuilder:xn});var wn=function(e){var t="ordgroup"===e.type&&e.body.length?e.body[0]:e;return"atom"!==t.type||"bin"!==t.family&&"rel"!==t.family?"mord":"m"+t.family};Xe({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler:function(e,t){return{type:"mclass",mode:e.parser.mode,mclass:wn(t[0]),body:[t[1]]}}}),Xe({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler:function(e,t){var n,i=e.parser,r=e.funcName,o=t[1],s=t[0];n="\\stackrel"!==r?wn(o):"mrel";var a={type:"op",mode:o.mode,limits:!0,alwaysHandleSupSub:!0,symbol:!1,suppressBaseShift:"\\stackrel"!==r,body:Ze(o)},l={type:"supsub",mode:s.mode,base:a,sup:"\\underset"===r?null:s,sub:"\\underset"===r?s:null};return{type:"mclass",mode:i.mode,mclass:n,body:[l]}},htmlBuilder:_n,mathmlBuilder:xn});var kn=function(e,t){var n=e.font,i=t.withFont(n);return ut(e.body,i)},Sn=function(e,t){var n=e.font,i=t.withFont(n);return xt(e.body,i)},Cn={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Xe({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,greediness:2},handler:function(e,t){var n=e.parser,i=e.funcName,r=t[0],o=i;return o in Cn&&(o=Cn[o]),{type:"font",mode:n.mode,font:o.slice(1),body:r}},htmlBuilder:kn,mathmlBuilder:Sn}),Xe({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1,greediness:2},handler:function(e,t){var n=e.parser,i=t[0];return{type:"mclass",mode:n.mode,mclass:wn(i),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:i}]}}}),Xe({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it"],props:{numArgs:0,allowedInText:!0},handler:function(e,t){var n=e.parser,i=e.funcName,r=e.breakOnTokenText,o=n.mode,s=n.parseExpression(!0,r);return{type:"font",mode:o,font:"math"+i.slice(1),body:{type:"ordgroup",mode:n.mode,body:s}}},htmlBuilder:kn,mathmlBuilder:Sn});var En=function(e,t){var n=t.style;"display"===e.size?n=x.DISPLAY:"text"===e.size&&n.size===x.DISPLAY.size?n=x.TEXT:"script"===e.size?n=x.SCRIPT:"scriptscript"===e.size&&(n=x.SCRIPTSCRIPT);var i,r=n.fracNum(),o=n.fracDen();i=t.havingStyle(r);var s=ut(e.numer,i,t);if(e.continued){var a=8.5/t.fontMetrics().ptPerEm,l=3.5/t.fontMetrics().ptPerEm;s.height=s.height<a?a:s.height,s.depth=s.depth<l?l:s.depth}i=t.havingStyle(o);var u,c,p,f,d,h,m,g,b,y,v=ut(e.denom,i,t);if(e.hasBarLine?(e.barSize?(c=Ce(e.barSize,t),u=Fe.makeLineSpan("frac-line",t,c)):u=Fe.makeLineSpan("frac-line",t),c=u.height,p=u.height):(u=null,c=0,p=t.fontMetrics().defaultRuleThickness),n.size===x.DISPLAY.size?(f=t.fontMetrics().num1,d=c>0?3*p:7*p,h=t.fontMetrics().denom1):(c>0?(f=t.fontMetrics().num2,d=p):(f=t.fontMetrics().num3,d=3*p),h=t.fontMetrics().denom2),u){var _=t.fontMetrics().axisHeight;f-s.depth-(_+.5*c)<d&&(f+=d-(f-s.depth-(_+.5*c))),_-.5*c-(v.height-h)<d&&(h+=d-(_-.5*c-(v.height-h)));var w=-(_-.5*c);m=Fe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:v,shift:h},{type:"elem",elem:u,shift:w},{type:"elem",elem:s,shift:-f}]},t)}else{var k=f-s.depth-(v.height-h);k<d&&(f+=.5*(d-k),h+=.5*(d-k)),m=Fe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:v,shift:h},{type:"elem",elem:s,shift:-f}]},t)}return i=t.havingStyle(n),m.height*=i.sizeMultiplier/t.sizeMultiplier,m.depth*=i.sizeMultiplier/t.sizeMultiplier,g=n.size===x.DISPLAY.size?t.fontMetrics().delim1:t.fontMetrics().delim2,b=null==e.leftDelim?lt(t,["mopen"]):tn(e.leftDelim,g,!0,t.havingStyle(n),e.mode,["mopen"]),y=e.continued?Fe.makeSpan([]):null==e.rightDelim?lt(t,["mclose"]):tn(e.rightDelim,g,!0,t.havingStyle(n),e.mode,["mclose"]),Fe.makeSpan(["mord"].concat(i.sizingClasses(t)),[b,Fe.makeSpan(["mfrac"],[m]),y],t)},Tn=function(e,t){var n=new mt.MathNode("mfrac",[xt(e.numer,t),xt(e.denom,t)]);if(e.hasBarLine){if(e.barSize){var i=Ce(e.barSize,t);n.setAttribute("linethickness",i+"em")}}else n.setAttribute("linethickness","0px");if(null!=e.leftDelim||null!=e.rightDelim){var r=[];if(null!=e.leftDelim){var o=new mt.MathNode("mo",[new mt.TextNode(e.leftDelim)]);o.setAttribute("fence","true"),r.push(o)}if(r.push(n),null!=e.rightDelim){var s=new mt.MathNode("mo",[new mt.TextNode(e.rightDelim)]);s.setAttribute("fence","true"),r.push(s)}return bt(r)}return n};Xe({type:"genfrac",names:["\\cfrac","\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,greediness:2},handler:function(e,t){var n,i=e.parser,r=e.funcName,o=t[0],s=t[1],a=null,l=null,u="auto";switch(r){case"\\cfrac":case"\\dfrac":case"\\frac":case"\\tfrac":n=!0;break;case"\\\\atopfrac":n=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":n=!1,a="(",l=")";break;case"\\\\bracefrac":n=!1,a="\\{",l="\\}";break;case"\\\\brackfrac":n=!1,a="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\cfrac":case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text"}return{type:"genfrac",mode:i.mode,continued:"\\cfrac"===r,numer:o,denom:s,hasBarLine:n,leftDelim:a,rightDelim:l,size:u,barSize:null}},htmlBuilder:En,mathmlBuilder:Tn}),Xe({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler:function(e){var t,n=e.parser,i=e.funcName,r=e.token;switch(i){case"\\over":t="\\frac";break;case"\\choose":t="\\binom";break;case"\\atop":t="\\\\atopfrac";break;case"\\brace":t="\\\\bracefrac";break;case"\\brack":t="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:n.mode,replaceWith:t,token:r}}});var An=["display","text","script","scriptscript"],Nn=function(e){var t=null;return e.length>0&&(t="."===(t=e)?null:t),t};Xe({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,greediness:6,argTypes:["math","math","size","text","math","math"]},handler:function(e,t){var n=e.parser,i=t[4],r=t[5],o=je(t[0],"atom");o&&(o=Be(t[0],"open"));var s=o?Nn(o.text):null,a=je(t[1],"atom");a&&(a=Be(t[1],"close"));var l,u=a?Nn(a.text):null,c=$e(t[2],"size"),p=null;l=!!c.isBlank||(p=c.value).number>0;var f="auto",d=je(t[3],"ordgroup");if(d){if(d.body.length>0){var h=$e(d.body[0],"textord");f=An[Number(h.text)]}}else d=$e(t[3],"textord"),f=An[Number(d.text)];return{type:"genfrac",mode:n.mode,numer:i,denom:r,continued:!1,hasBarLine:l,barSize:p,leftDelim:s,rightDelim:u,size:f}},htmlBuilder:En,mathmlBuilder:Tn}),Xe({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler:function(e,t){var n=e.parser,i=(e.funcName,e.token);return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:$e(t[0],"size").value,token:i}}}),Xe({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:function(e,t){var n=e.parser,i=(e.funcName,t[0]),r=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e}($e(t[1],"infix").size),o=t[2],s=r.number>0;return{type:"genfrac",mode:n.mode,numer:i,denom:o,continued:!1,hasBarLine:s,barSize:r,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:En,mathmlBuilder:Tn});var Mn=function(e,t){var n,i,r=t.style,o=je(e,"supsub");o?(n=o.sup?ut(o.sup,t.havingStyle(r.sup()),t):ut(o.sub,t.havingStyle(r.sub()),t),i=$e(o.base,"horizBrace")):i=$e(e,"horizBrace");var s,a=ut(i.base,t.havingBaseStyle(x.DISPLAY)),l=Mt(i,t);if(i.isOver?(s=Fe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:l}]},t)).children[0].children[0].children[1].classes.push("svg-align"):(s=Fe.makeVList({positionType:"bottom",positionData:a.depth+.1+l.height,children:[{type:"elem",elem:l},{type:"kern",size:.1},{type:"elem",elem:a}]},t)).children[0].children[0].children[0].classes.push("svg-align"),n){var u=Fe.makeSpan(["mord",i.isOver?"mover":"munder"],[s],t);s=i.isOver?Fe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:u},{type:"kern",size:.2},{type:"elem",elem:n}]},t):Fe.makeVList({positionType:"bottom",positionData:u.depth+.2+n.height+n.depth,children:[{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:u}]},t)}return Fe.makeSpan(["mord",i.isOver?"mover":"munder"],[s],t)};Xe({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler:function(e,t){var n=e.parser,i=e.funcName;return{type:"horizBrace",mode:n.mode,label:i,isOver:/^\\over/.test(i),base:t[0]}},htmlBuilder:Mn,mathmlBuilder:function(e,t){var n=Nt(e.label);return new mt.MathNode(e.isOver?"mover":"munder",[xt(e.base,t),n])}}),Xe({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:function(e,t){var n=e.parser,i=t[1],r=$e(t[0],"url").url;return{type:"href",mode:n.mode,href:r,body:Ze(i)}},htmlBuilder:function(e,t){var n=rt(e.body,t,!1);return Fe.makeAnchor(e.href,[],n,t)},mathmlBuilder:function(e,t){var n=_t(e.body,t);return n instanceof dt||(n=new dt("mrow",[n])),n.setAttribute("href",e.href),n}}),Xe({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:function(e,t){for(var n=e.parser,i=$e(t[0],"url").url,r=[],o=0;o<i.length;o++){var s=i[o];"~"===s&&(s="\\textasciitilde"),r.push({type:"textord",mode:"text",text:s})}var a={type:"text",mode:n.mode,font:"\\texttt",body:r};return{type:"href",mode:n.mode,href:i,body:Ze(a)}}}),Xe({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:function(e,t){return{type:"htmlmathml",mode:e.parser.mode,html:Ze(t[0]),mathml:Ze(t[1])}},htmlBuilder:function(e,t){var n=rt(e.html,t,!1);return Fe.makeFragment(n)},mathmlBuilder:function(e,t){return _t(e.mathml,t)}}),Xe({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],allowedInText:!0},handler:function(e,t){var n=e.parser,i=e.funcName,r=$e(t[0],"size");if(n.settings.strict){var o="m"===i[1],s="mu"===r.value.unit;o?(s||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" supports only mu units, not "+r.value.unit+" units"),"math"!==n.mode&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" works only in math mode")):s&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:r.value}},htmlBuilder:function(e,t){return Fe.makeGlue(e.dimension,t)},mathmlBuilder:function(e,t){var n=Ce(e.dimension,t);return new mt.SpaceNode(n)}}),Xe({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){var n=e.parser,i=e.funcName,r=t[0];return{type:"lap",mode:n.mode,alignment:i.slice(5),body:r}},htmlBuilder:function(e,t){var n;"clap"===e.alignment?(n=Fe.makeSpan([],[ut(e.body,t)]),n=Fe.makeSpan(["inner"],[n],t)):n=Fe.makeSpan(["inner"],[ut(e.body,t)]);var i=Fe.makeSpan(["fix"],[]),r=Fe.makeSpan([e.alignment],[n,i],t),o=Fe.makeSpan(["strut"]);return o.style.height=r.height+r.depth+"em",o.style.verticalAlign=-r.depth+"em",r.children.unshift(o),r=Fe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},t),Fe.makeSpan(["mord"],[r],t)},mathmlBuilder:function(e,t){var n=new mt.MathNode("mpadded",[xt(e.body,t)]);if("rlap"!==e.alignment){var i="llap"===e.alignment?"-1":"-0.5";n.setAttribute("lspace",i+"width")}return n.setAttribute("width","0px"),n}}),Xe({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1,consumeMode:"math"},handler:function(e,t){var n=e.funcName,i=e.parser,r=i.mode;i.switchMode("math");var o="\\("===n?"\\)":"$",s=i.parseExpression(!1,o);return i.expect(o,!1),i.switchMode(r),i.consume(),{type:"styling",mode:i.mode,style:"text",body:s}}}),Xe({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler:function(e,t){throw new s("Mismatched "+e.funcName)}});var Rn=function(e,t){switch(t.style.size){case x.DISPLAY.size:return e.display;case x.TEXT.size:return e.text;case x.SCRIPT.size:return e.script;case x.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};Xe({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4},handler:function(e,t){return{type:"mathchoice",mode:e.parser.mode,display:Ze(t[0]),text:Ze(t[1]),script:Ze(t[2]),scriptscript:Ze(t[3])}},htmlBuilder:function(e,t){var n=Rn(e,t),i=rt(n,t,!1);return Fe.makeFragment(i)},mathmlBuilder:function(e,t){var n=Rn(e,t);return _t(n,t)}});var On=function(e,t){var n,i,r,o=!1,s=je(e,"supsub");s?(n=s.sup,i=s.sub,r=$e(s.base,"op"),o=!0):r=$e(e,"op");var a,l=t.style,u=!1;if(l.size===x.DISPLAY.size&&r.symbol&&!p.contains(["\\smallint"],r.name)&&(u=!0),r.symbol){var c=u?"Size2-Regular":"Size1-Regular",f="";if("\\oiint"!==r.name&&"\\oiiint"!==r.name||(f=r.name.substr(1),r.name="oiint"===f?"\\iint":"\\iiint"),a=Fe.makeSymbol(r.name,c,"math",t,["mop","op-symbol",u?"large-op":"small-op"]),f.length>0){var d=a.italic,h=Fe.staticSvg(f+"Size"+(u?"2":"1"),t);a=Fe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:0},{type:"elem",elem:h,shift:u?.08:0}]},t),r.name="\\"+f,a.classes.unshift("mop"),a.italic=d}}else if(r.body){var m=rt(r.body,t,!0);1===m.length&&m[0]instanceof P?(a=m[0]).classes[0]="mop":a=Fe.makeSpan(["mop"],Fe.tryCombineChars(m),t)}else{for(var g=[],b=1;b<r.name.length;b++)g.push(Fe.mathsym(r.name[b],r.mode));a=Fe.makeSpan(["mop"],g,t)}var y=0,v=0;if((a instanceof P||"\\oiint"===r.name||"\\oiiint"===r.name)&&!r.suppressBaseShift&&(y=(a.height-a.depth)/2-t.fontMetrics().axisHeight,v=a.italic),o){var _,w,k;if(a=Fe.makeSpan([],[a]),n){var S=ut(n,t.havingStyle(l.sup()),t);w={elem:S,kern:Math.max(t.fontMetrics().bigOpSpacing1,t.fontMetrics().bigOpSpacing3-S.depth)}}if(i){var C=ut(i,t.havingStyle(l.sub()),t);_={elem:C,kern:Math.max(t.fontMetrics().bigOpSpacing2,t.fontMetrics().bigOpSpacing4-C.height)}}if(w&&_){var E=t.fontMetrics().bigOpSpacing5+_.elem.height+_.elem.depth+_.kern+a.depth+y;k=Fe.makeVList({positionType:"bottom",positionData:E,children:[{type:"kern",size:t.fontMetrics().bigOpSpacing5},{type:"elem",elem:_.elem,marginLeft:-v+"em"},{type:"kern",size:_.kern},{type:"elem",elem:a},{type:"kern",size:w.kern},{type:"elem",elem:w.elem,marginLeft:v+"em"},{type:"kern",size:t.fontMetrics().bigOpSpacing5}]},t)}else if(_){var T=a.height-y;k=Fe.makeVList({positionType:"top",positionData:T,children:[{type:"kern",size:t.fontMetrics().bigOpSpacing5},{type:"elem",elem:_.elem,marginLeft:-v+"em"},{type:"kern",size:_.kern},{type:"elem",elem:a}]},t)}else{if(!w)return a;var A=a.depth+y;k=Fe.makeVList({positionType:"bottom",positionData:A,children:[{type:"elem",elem:a},{type:"kern",size:w.kern},{type:"elem",elem:w.elem,marginLeft:v+"em"},{type:"kern",size:t.fontMetrics().bigOpSpacing5}]},t)}return Fe.makeSpan(["mop","op-limits"],[k],t)}return y&&(a.style.position="relative",a.style.top=y+"em"),a},Ln=function(e,t){var n;if(e.symbol)n=new dt("mo",[gt(e.name,e.mode)]);else{if(!e.body)return ft([n=new dt("mi",[new ht(e.name.slice(1))]),new dt("mo",[gt("⁡","text")])]);n=new dt("mo",vt(e.body,t))}return n},Pn={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};Xe({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:function(e,t){var n=e.parser,i=e.funcName;return 1===i.length&&(i=Pn[i]),{type:"op",mode:n.mode,limits:!0,symbol:!0,name:i}},htmlBuilder:On,mathmlBuilder:Ln}),Xe({type:"op",names:["\\mathop"],props:{numArgs:1},handler:function(e,t){var n=e.parser,i=t[0];return{type:"op",mode:n.mode,limits:!1,symbol:!1,body:Ze(i)}},htmlBuilder:On,mathmlBuilder:Ln});var Dn={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};function In(e,t,n){for(var i=rt(e,t,!1),r=t.sizeMultiplier/n.sizeMultiplier,o=0;o<i.length;o++){var s=i[o].classes.indexOf("sizing");s<0?Array.prototype.push.apply(i[o].classes,t.sizingClasses(n)):i[o].classes[s+1]==="reset-size"+t.size&&(i[o].classes[s+1]="reset-size"+n.size),i[o].height*=r,i[o].depth*=r}return Fe.makeFragment(i)}Xe({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler:function(e){var t=e.parser,n=e.funcName;return{type:"op",mode:t.mode,limits:!1,symbol:!1,name:n}},htmlBuilder:On,mathmlBuilder:Ln}),Xe({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler:function(e){var t=e.parser,n=e.funcName;return{type:"op",mode:t.mode,limits:!0,symbol:!1,name:n}},htmlBuilder:On,mathmlBuilder:Ln}),Xe({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler:function(e){var t=e.parser,n=e.funcName;return 1===n.length&&(n=Dn[n]),{type:"op",mode:t.mode,limits:!1,symbol:!0,name:n}},htmlBuilder:On,mathmlBuilder:Ln}),Xe({type:"operatorname",names:["\\operatorname"],props:{numArgs:1},handler:function(e,t){var n=e.parser,i=t[0];return{type:"operatorname",mode:n.mode,body:Ze(i)}},htmlBuilder:function(e,t){if(e.body.length>0){for(var n=e.body.map(function(e){var t=e.text;return"string"==typeof t?{type:"textord",mode:e.mode,text:t}:e}),i=rt(n,t.withFont("mathrm"),!0),r=0;r<i.length;r++){var o=i[r];o instanceof P&&(o.text=o.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}return Fe.makeSpan(["mop"],i,t)}return Fe.makeSpan(["mop"],[],t)},mathmlBuilder:function(e,t){for(var n=vt(e.body,t.withFont("mathrm")),i=!0,r=0;r<n.length;r++){var o=n[r];if(o instanceof mt.SpaceNode);else if(o instanceof mt.MathNode)switch(o.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":var s=o.children[0];1===o.children.length&&s instanceof mt.TextNode?s.text=s.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):i=!1;break;default:i=!1}else i=!1}if(i){var a=n.map(function(e){return e.toText()}).join("");n=[new mt.TextNode(a)]}var l=new mt.MathNode("mi",n);l.setAttribute("mathvariant","normal");var u=new mt.MathNode("mo",[gt("⁡","text")]);return mt.newDocumentFragment([l,u])}}),Qe({type:"ordgroup",htmlBuilder:function(e,t){return e.semisimple?Fe.makeFragment(rt(e.body,t,!1)):Fe.makeSpan(["mord"],rt(e.body,t,!0),t)},mathmlBuilder:function(e,t){return _t(e.body,t)}}),Xe({type:"overline",names:["\\overline"],props:{numArgs:1},handler:function(e,t){var n=e.parser,i=t[0];return{type:"overline",mode:n.mode,body:i}},htmlBuilder:function(e,t){var n=ut(e.body,t.havingCrampedStyle()),i=Fe.makeLineSpan("overline-line",t),r=Fe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*i.height},{type:"elem",elem:i},{type:"kern",size:i.height}]},t);return Fe.makeSpan(["mord","overline"],[r],t)},mathmlBuilder:function(e,t){var n=new mt.MathNode("mo",[new mt.TextNode("‾")]);n.setAttribute("stretchy","true");var i=new mt.MathNode("mover",[xt(e.body,t),n]);return i.setAttribute("accent","true"),i}}),Xe({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){var n=e.parser,i=t[0];return{type:"phantom",mode:n.mode,body:Ze(i)}},htmlBuilder:function(e,t){var n=rt(e.body,t.withPhantom(),!1);return Fe.makeFragment(n)},mathmlBuilder:function(e,t){var n=vt(e.body,t);return new mt.MathNode("mphantom",n)}}),Xe({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){var n=e.parser,i=t[0];return{type:"hphantom",mode:n.mode,body:i}},htmlBuilder:function(e,t){var n=Fe.makeSpan([],[ut(e.body,t.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var i=0;i<n.children.length;i++)n.children[i].height=0,n.children[i].depth=0;return n=Fe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t),Fe.makeSpan(["mord"],[n],t)},mathmlBuilder:function(e,t){var n=vt(Ze(e.body),t),i=new mt.MathNode("mphantom",n);return i.setAttribute("height","0px"),i}}),Xe({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){var n=e.parser,i=t[0];return{type:"vphantom",mode:n.mode,body:i}},htmlBuilder:function(e,t){var n=Fe.makeSpan(["inner"],[ut(e.body,t.withPhantom())]),i=Fe.makeSpan(["fix"],[]);return Fe.makeSpan(["mord","rlap"],[n,i],t)},mathmlBuilder:function(e,t){var n=vt(Ze(e.body),t),i=new mt.MathNode("mphantom",n);return i.setAttribute("width","0px"),i}});var Fn=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],$n=function(e,t){var n=t.havingSize(e.size);return In(e.body,n,t)};Xe({type:"sizing",names:Fn,props:{numArgs:0,allowedInText:!0},handler:function(e,t){var n=e.breakOnTokenText,i=e.funcName,r=e.parser,o=r.parseExpression(!1,n);return{type:"sizing",mode:r.mode,size:Fn.indexOf(i)+1,body:o}},htmlBuilder:$n,mathmlBuilder:function(e,t){var n=t.havingSize(e.size),i=vt(e.body,n),r=new mt.MathNode("mstyle",i);return r.setAttribute("mathsize",n.sizeMultiplier+"em"),r}}),Xe({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","text"],allowedInText:!0},handler:function(e,t){var n=e.parser,i=$e(t[0],"size").value,r=t[1];return{type:"raisebox",mode:n.mode,dy:i,body:r}},htmlBuilder:function(e,t){var n={type:"text",mode:e.mode,body:Ze(e.body),font:"mathrm"},i={type:"sizing",mode:e.mode,body:[n],size:6},r=$n(i,t),o=Ce(e.dy,t);return Fe.makeVList({positionType:"shift",positionData:-o,children:[{type:"elem",elem:r}]},t)},mathmlBuilder:function(e,t){var n=new mt.MathNode("mpadded",[xt(e.body,t)]),i=e.dy.number+e.dy.unit;return n.setAttribute("voffset",i),n}}),Xe({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler:function(e,t,n){var i=e.parser,r=n[0],o=$e(t[0],"size"),s=$e(t[1],"size");return{type:"rule",mode:i.mode,shift:r&&$e(r,"size").value,width:o.value,height:s.value}},htmlBuilder:function(e,t){var n=Fe.makeSpan(["mord","rule"],[],t),i=0;e.shift&&(i=Ce(e.shift,t));var r=Ce(e.width,t),o=Ce(e.height,t);return n.style.borderRightWidth=r+"em",n.style.borderTopWidth=o+"em",n.style.bottom=i+"em",n.width=r,n.height=o+i,n.depth=-i,n.maxFontSize=1.125*o*t.sizeMultiplier,n},mathmlBuilder:function(e,t){return new mt.MathNode("mrow")}}),Xe({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:function(e,t,n){var i=e.parser,r=!1,o=!1,s=n[0]&&$e(n[0],"ordgroup");if(s)for(var a="",l=0;l<s.body.length;++l){if("t"===(a=s.body[l].text))r=!0;else{if("b"!==a){r=!1,o=!1;break}o=!0}}else r=!0,o=!0;var u=t[0];return{type:"smash",mode:i.mode,body:u,smashHeight:r,smashDepth:o}},htmlBuilder:function(e,t){var n=Fe.makeSpan([],[ut(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return n;if(e.smashHeight&&(n.height=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].height=0;if(e.smashDepth&&(n.depth=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].depth=0;var o=Fe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t);return Fe.makeSpan(["mord"],[o],t)},mathmlBuilder:function(e,t){var n=new mt.MathNode("mpadded",[xt(e.body,t)]);return e.smashHeight&&n.setAttribute("height","0px"),e.smashDepth&&n.setAttribute("depth","0px"),n}}),Xe({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler:function(e,t,n){var i=e.parser,r=n[0],o=t[0];return{type:"sqrt",mode:i.mode,body:o,index:r}},htmlBuilder:function(e,t){var n=ut(e.body,t.havingCrampedStyle());0===n.height&&(n.height=t.fontMetrics().xHeight),n=Fe.wrapFragment(n,t);var i=t.fontMetrics().defaultRuleThickness,r=i;t.style.id<x.TEXT.id&&(r=t.fontMetrics().xHeight);var o=i+r/4,s=n.height+n.depth+o+i,a=Jt(s,t),l=a.span,u=a.ruleWidth,c=a.advanceWidth,p=l.height-u;p>n.height+n.depth+o&&(o=(o+p-n.height-n.depth)/2);var f=l.height-n.height-o-u;n.style.paddingLeft=c+"em";var d=Fe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+f)},{type:"elem",elem:l},{type:"kern",size:u}]},t);if(e.index){var h=t.havingStyle(x.SCRIPTSCRIPT),m=ut(e.index,h,t),g=.6*(d.height-d.depth),b=Fe.makeVList({positionType:"shift",positionData:-g,children:[{type:"elem",elem:m}]},t),y=Fe.makeSpan(["root"],[b]);return Fe.makeSpan(["mord","sqrt"],[y,d],t)}return Fe.makeSpan(["mord","sqrt"],[d],t)},mathmlBuilder:function(e,t){var n=e.body,i=e.index;return i?new mt.MathNode("mroot",[xt(n,t),xt(i,t)]):new mt.MathNode("msqrt",[xt(n,t)])}});var jn={display:x.DISPLAY,text:x.TEXT,script:x.SCRIPT,scriptscript:x.SCRIPTSCRIPT};Xe({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0},handler:function(e,t){var n=e.breakOnTokenText,i=e.funcName,r=e.parser,o=r.parseExpression(!0,n),s=i.slice(1,i.length-5);return{type:"styling",mode:r.mode,style:s,body:o}},htmlBuilder:function(e,t){var n=jn[e.style],i=t.havingStyle(n).withFont("");return In(e.body,i,t)},mathmlBuilder:function(e,t){var n={display:x.DISPLAY,text:x.TEXT,script:x.SCRIPT,scriptscript:x.SCRIPTSCRIPT}[e.style],i=t.havingStyle(n),r=vt(e.body,i),o=new mt.MathNode("mstyle",r),s={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[e.style];return o.setAttribute("scriptlevel",s[0]),o.setAttribute("displaystyle",s[1]),o}});Qe({type:"supsub",htmlBuilder:function(e,t){var n=function(e,t){var n=e.base;return n?"op"===n.type?n.limits&&(t.style.size===x.DISPLAY.size||n.alwaysHandleSupSub)?On:null:"accent"===n.type?p.isCharacterBox(n.base)?Rt:null:"horizBrace"===n.type&&!e.sub===n.isOver?Mn:null:null}(e,t);if(n)return n(e,t);var i,r,o,s=e.base,a=e.sup,l=e.sub,u=ut(s,t),c=t.fontMetrics(),f=0,d=0,h=s&&p.isCharacterBox(s);if(a){var m=t.havingStyle(t.style.sup());i=ut(a,m,t),h||(f=u.height-m.fontMetrics().supDrop*m.sizeMultiplier/t.sizeMultiplier)}if(l){var g=t.havingStyle(t.style.sub());r=ut(l,g,t),h||(d=u.depth+g.fontMetrics().subDrop*g.sizeMultiplier/t.sizeMultiplier)}o=t.style===x.DISPLAY?c.sup1:t.style.cramped?c.sup3:c.sup2;var b,y=t.sizeMultiplier,v=.5/c.ptPerEm/y+"em",_=null;if(r){var w=e.base&&"op"===e.base.type&&e.base.name&&("\\oiint"===e.base.name||"\\oiiint"===e.base.name);(u instanceof P||w)&&(_=-u.italic+"em")}if(i&&r){f=Math.max(f,o,i.depth+.25*c.xHeight),d=Math.max(d,c.sub2);var k=4*c.defaultRuleThickness;if(f-i.depth-(r.height-d)<k){d=k-(f-i.depth)+r.height;var S=.8*c.xHeight-(f-i.depth);S>0&&(f+=S,d-=S)}var C=[{type:"elem",elem:r,shift:d,marginRight:v,marginLeft:_},{type:"elem",elem:i,shift:-f,marginRight:v}];b=Fe.makeVList({positionType:"individualShift",children:C},t)}else if(r){d=Math.max(d,c.sub1,r.height-.8*c.xHeight);var E=[{type:"elem",elem:r,marginLeft:_,marginRight:v}];b=Fe.makeVList({positionType:"shift",positionData:d,children:E},t)}else{if(!i)throw new Error("supsub must have either sup or sub.");f=Math.max(f,o,i.depth+.25*c.xHeight),b=Fe.makeVList({positionType:"shift",positionData:-f,children:[{type:"elem",elem:i,marginRight:v}]},t)}var T=at(u,"right")||"mord";return Fe.makeSpan([T],[u,Fe.makeSpan(["msupsub"],[b])],t)},mathmlBuilder:function(e,t){var n,i=!1,r=je(e.base,"horizBrace");r&&!!e.sup===r.isOver&&(i=!0,n=r.isOver);var o,s=[xt(e.base,t)];if(e.sub&&s.push(xt(e.sub,t)),e.sup&&s.push(xt(e.sup,t)),i)o=n?"mover":"munder";else if(e.sub)if(e.sup){var a=e.base;o=a&&"op"===a.type&&a.limits&&t.style===x.DISPLAY?"munderover":"msubsup"}else{var l=e.base;o=l&&"op"===l.type&&l.limits&&t.style===x.DISPLAY?"munder":"msub"}else{var u=e.base;o=u&&"op"===u.type&&u.limits&&t.style===x.DISPLAY?"mover":"msup"}return new mt.MathNode(o,s)}}),Qe({type:"atom",htmlBuilder:function(e,t){return Fe.mathsym(e.text,e.mode,t,["m"+e.family])},mathmlBuilder:function(e,t){var n=new mt.MathNode("mo",[gt(e.text,e.mode)]);if("bin"===e.family){var i=yt(e,t);"bold-italic"===i&&n.setAttribute("mathvariant",i)}else"punct"===e.family&&n.setAttribute("separator","true");return n}});var Bn={mi:"italic",mn:"normal",mtext:"normal"};Qe({type:"mathord",htmlBuilder:function(e,t){return Fe.makeOrd(e,t,"mathord")},mathmlBuilder:function(e,t){var n=new mt.MathNode("mi",[gt(e.text,e.mode,t)]),i=yt(e,t)||"italic";return i!==Bn[n.type]&&n.setAttribute("mathvariant",i),n}}),Qe({type:"textord",htmlBuilder:function(e,t){return Fe.makeOrd(e,t,"textord")},mathmlBuilder:function(e,t){var n,i=gt(e.text,e.mode,t),r=yt(e,t)||"normal";return n="text"===e.mode?new mt.MathNode("mtext",[i]):/[0-9]/.test(e.text)?new mt.MathNode("mn",[i]):"\\prime"===e.text?new mt.MathNode("mo",[i]):new mt.MathNode("mi",[i]),r!==Bn[n.type]&&n.setAttribute("mathvariant",r),n}});var zn={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},qn={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Qe({type:"spacing",htmlBuilder:function(e,t){if(qn.hasOwnProperty(e.text)){var n=qn[e.text].className||"";if("text"===e.mode){var i=Fe.makeOrd(e,t,"textord");return i.classes.push(n),i}return Fe.makeSpan(["mspace",n],[Fe.mathsym(e.text,e.mode,t)],t)}if(zn.hasOwnProperty(e.text))return Fe.makeSpan(["mspace",zn[e.text]],[],t);throw new s('Unknown type of space "'+e.text+'"')},mathmlBuilder:function(e,t){if(!qn.hasOwnProperty(e.text)){if(zn.hasOwnProperty(e.text))return new mt.MathNode("mspace");throw new s('Unknown type of space "'+e.text+'"')}return new mt.MathNode("mtext",[new mt.TextNode(" ")])}}),Qe({type:"tag",mathmlBuilder:function(e,t){var n=new mt.MathNode("mtable",[new mt.MathNode("mlabeledtr",[new mt.MathNode("mtd",[_t(e.tag,t)]),new mt.MathNode("mtd",[_t(e.body,t)])])]);return n.setAttribute("side","right"),n}});var Hn={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},Un={"\\textbf":"textbf"},Wn={"\\textit":"textit"},Vn=function(e,t){var n=e.font;return n?Hn[n]?t.withTextFontFamily(Hn[n]):Un[n]?t.withTextFontWeight(Un[n]):t.withTextFontShape(Wn[n]):t};Xe({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textit"],props:{numArgs:1,argTypes:["text"],greediness:2,allowedInText:!0,consumeMode:"text"},handler:function(e,t){var n=e.parser,i=e.funcName,r=t[0];return{type:"text",mode:n.mode,body:Ze(r),font:i}},htmlBuilder:function(e,t){var n=Vn(e,t),i=rt(e.body,n,!0);return Fe.makeSpan(["mord","text"],Fe.tryCombineChars(i),n)},mathmlBuilder:function(e,t){var n=Vn(e,t);return _t(e.body,n)}}),Xe({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){return{type:"underline",mode:e.parser.mode,body:t[0]}},htmlBuilder:function(e,t){var n=ut(e.body,t),i=Fe.makeLineSpan("underline-line",t),r=Fe.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:i.height},{type:"elem",elem:i},{type:"kern",size:3*i.height},{type:"elem",elem:n}]},t);return Fe.makeSpan(["mord","underline"],[r],t)},mathmlBuilder:function(e,t){var n=new mt.MathNode("mo",[new mt.TextNode("‾")]);n.setAttribute("stretchy","true");var i=new mt.MathNode("munder",[xt(e.body,t),n]);return i.setAttribute("accentunder","true"),i}}),Xe({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler:function(e,t,n){throw new s("\\verb ended by end of line instead of matching delimiter")},htmlBuilder:function(e,t){for(var n=Gn(e),i=[],r=t.havingStyle(t.style.text()),o=0;o<n.length;o++){var s=n[o];"~"===s&&(s="\\textasciitilde"),i.push(Fe.makeSymbol(s,"Typewriter-Regular",e.mode,r,["mord","texttt"]))}return Fe.makeSpan(["mord","text"].concat(r.sizingClasses(t)),Fe.tryCombineChars(i),r)},mathmlBuilder:function(e,t){var n=new mt.TextNode(Gn(e)),i=new mt.MathNode("mtext",[n]);return i.setAttribute("mathvariant","monospace"),i}});var Gn=function(e){return e.body.replace(/ /g,e.star?"␣":" ")},Kn=Ge,Yn=new RegExp("^(\\\\[a-zA-Z@]+)[ \r\n\t]*$"),Xn=new RegExp("[̀-ͯ]+$"),Qn="([ \r\n\t]+)|([!-\\[\\]-‧‪-퟿豈-￿][̀-ͯ]*|[\ud800-\udbff][\udc00-\udfff][̀-ͯ]*|\\\\verb\\*([^]).*?\\3|\\\\verb([^*a-zA-Z]).*?\\4|\\\\[a-zA-Z@]+[ \r\n\t]*|\\\\[^\ud800-\udfff])",Zn=function(){function e(e,t){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=t,this.tokenRegex=new RegExp(Qn,"g"),this.catcodes={"%":14}}var t=e.prototype;return t.setCatcode=function(e,t){this.catcodes[e]=t},t.lex=function(){var e=this.input,t=this.tokenRegex.lastIndex;if(t===e.length)return new r("EOF",new i(this,t,t));var n=this.tokenRegex.exec(e);if(null===n||n.index!==t)throw new s("Unexpected character: '"+e[t]+"'",new r(e[t],new i(this,t,t+1)));var o=n[2]||" ";if(14===this.catcodes[o]){var a=e.indexOf("\n",this.tokenRegex.lastIndex);return-1===a?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=a+1,this.lex()}var l=o.match(Yn);return l&&(o=l[1]),new r(o,new i(this,t,this.tokenRegex.lastIndex))},e}(),Jn=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=t,this.builtins=e,this.undefStack=[]}var t=e.prototype;return t.beginGroup=function(){this.undefStack.push({})},t.endGroup=function(){if(0===this.undefStack.length)throw new s("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var t in e)e.hasOwnProperty(t)&&(void 0===e[t]?delete this.current[t]:this.current[t]=e[t])},t.has=function(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)},t.get=function(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]},t.set=function(e,t,n){if(void 0===n&&(n=!1),n){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=t)}else{var r=this.undefStack[this.undefStack.length-1];r&&!r.hasOwnProperty(e)&&(r[e]=this.current[e])}this.current[e]=t},e}(),ei={},ti=ei;function ni(e,t){ei[e]=t}ni("\\@firstoftwo",function(e){return{tokens:e.consumeArgs(2)[0],numArgs:0}}),ni("\\@secondoftwo",function(e){return{tokens:e.consumeArgs(2)[1],numArgs:0}}),ni("\\@ifnextchar",function(e){var t=e.consumeArgs(3),n=e.future();return 1===t[0].length&&t[0][0].text===n.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}}),ni("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),ni("\\TextOrMath",function(e){var t=e.consumeArgs(2);return"text"===e.mode?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}});var ii={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};ni("\\char",function(e){var t,n=e.popToken(),i="";if("'"===n.text)t=8,n=e.popToken();else if('"'===n.text)t=16,n=e.popToken();else if("`"===n.text)if("\\"===(n=e.popToken()).text[0])i=n.text.charCodeAt(1);else{if("EOF"===n.text)throw new s("\\char` missing argument");i=n.text.charCodeAt(0)}else t=10;if(t){if(null==(i=ii[n.text])||i>=t)throw new s("Invalid base-"+t+" digit "+n.text);for(var r;null!=(r=ii[e.future().text])&&r<t;)i*=t,i+=r,e.popToken()}return"\\@char{"+i+"}"});var ri=function(e,t){var n=e.consumeArgs(1)[0];if(1!==n.length)throw new s("\\gdef's first argument must be a macro name");var i=n[0].text,r=0;for(n=e.consumeArgs(1)[0];1===n.length&&"#"===n[0].text;){if(1!==(n=e.consumeArgs(1)[0]).length)throw new s('Invalid argument number length "'+n.length+'"');if(!/^[1-9]$/.test(n[0].text))throw new s('Invalid argument number "'+n[0].text+'"');if(r++,parseInt(n[0].text)!==r)throw new s('Argument number "'+n[0].text+'" out of order');n=e.consumeArgs(1)[0]}return e.macros.set(i,{tokens:n,numArgs:r},t),""};ni("\\gdef",function(e){return ri(e,!0)}),ni("\\def",function(e){return ri(e,!1)}),ni("\\global",function(e){var t=e.consumeArgs(1)[0];if(1!==t.length)throw new s("Invalid command after \\global");var n=t[0].text;if("\\def"===n)return ri(e,!0);throw new s("Invalid command '"+n+"' after \\global")});var oi=function(e,t,n){var i=e.consumeArgs(1)[0];if(1!==i.length)throw new s("\\newcommand's first argument must be a macro name");var r=i[0].text,o=e.isDefined(r);if(o&&!t)throw new s("\\newcommand{"+r+"} attempting to redefine "+r+"; use \\renewcommand");if(!o&&!n)throw new s("\\renewcommand{"+r+"} when command "+r+" does not yet exist; use \\newcommand");var a=0;if(1===(i=e.consumeArgs(1)[0]).length&&"["===i[0].text){for(var l="",u=e.expandNextToken();"]"!==u.text&&"EOF"!==u.text;)l+=u.text,u=e.expandNextToken();if(!l.match(/^\s*[0-9]+\s*$/))throw new s("Invalid number of arguments: "+l);a=parseInt(l),i=e.consumeArgs(1)[0]}return e.macros.set(r,{tokens:i,numArgs:a}),""};ni("\\newcommand",function(e){return oi(e,!1,!0)}),ni("\\renewcommand",function(e){return oi(e,!0,!1)}),ni("\\providecommand",function(e){return oi(e,!0,!0)}),ni("\\bgroup","{"),ni("\\egroup","}"),ni("\\lq","`"),ni("\\rq","'"),ni("\\aa","\\r a"),ni("\\AA","\\r A"),ni("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}"),ni("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),ni("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}"),ni("ℬ","\\mathscr{B}"),ni("ℰ","\\mathscr{E}"),ni("ℱ","\\mathscr{F}"),ni("ℋ","\\mathscr{H}"),ni("ℐ","\\mathscr{I}"),ni("ℒ","\\mathscr{L}"),ni("ℳ","\\mathscr{M}"),ni("ℛ","\\mathscr{R}"),ni("ℭ","\\mathfrak{C}"),ni("ℌ","\\mathfrak{H}"),ni("ℨ","\\mathfrak{Z}"),ni("·","\\cdotp"),ni("\\llap","\\mathllap{\\textrm{#1}}"),ni("\\rlap","\\mathrlap{\\textrm{#1}}"),ni("\\clap","\\mathclap{\\textrm{#1}}"),ni("\\not","\\mathrel{\\mathrlap\\@not}"),ni("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}"),ni("\\ne","\\neq"),ni("≠","\\neq"),ni("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}"),ni("∉","\\notin"),ni("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}"),ni("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}"),ni("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}"),ni("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}"),ni("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}"),ni("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}"),ni("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}"),ni("⟂","\\perp"),ni("‼","\\mathclose{!\\mkern-0.8mu!}"),ni("∌","\\notni"),ni("⌜","\\ulcorner"),ni("⌝","\\urcorner"),ni("⌞","\\llcorner"),ni("⌟","\\lrcorner"),ni("©","\\copyright"),ni("®","\\textregistered"),ni("️","\\textregistered"),ni("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}"),ni("⋮","\\vdots"),ni("\\varGamma","\\mathit{\\Gamma}"),ni("\\varDelta","\\mathit{\\Delta}"),ni("\\varTheta","\\mathit{\\Theta}"),ni("\\varLambda","\\mathit{\\Lambda}"),ni("\\varXi","\\mathit{\\Xi}"),ni("\\varPi","\\mathit{\\Pi}"),ni("\\varSigma","\\mathit{\\Sigma}"),ni("\\varUpsilon","\\mathit{\\Upsilon}"),ni("\\varPhi","\\mathit{\\Phi}"),ni("\\varPsi","\\mathit{\\Psi}"),ni("\\varOmega","\\mathit{\\Omega}"),ni("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu"),ni("\\boxed","\\fbox{$\\displaystyle{#1}$}"),ni("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),ni("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),ni("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var si={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};ni("\\dots",function(e){var t="\\dotso",n=e.expandAfterFuture().text;return n in si?t=si[n]:"\\not"===n.substr(0,4)?t="\\dotsb":n in V.math&&p.contains(["bin","rel"],V.math[n].group)&&(t="\\dotsb"),t});var ai={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};ni("\\dotso",function(e){return e.future().text in ai?"\\ldots\\,":"\\ldots"}),ni("\\dotsc",function(e){var t=e.future().text;return t in ai&&","!==t?"\\ldots\\,":"\\ldots"}),ni("\\cdots",function(e){return e.future().text in ai?"\\@cdots\\,":"\\@cdots"}),ni("\\dotsb","\\cdots"),ni("\\dotsm","\\cdots"),ni("\\dotsi","\\!\\cdots"),ni("\\dotsx","\\ldots\\,"),ni("\\DOTSI","\\relax"),ni("\\DOTSB","\\relax"),ni("\\DOTSX","\\relax"),ni("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),ni("\\,","\\tmspace+{3mu}{.1667em}"),ni("\\thinspace","\\,"),ni("\\>","\\mskip{4mu}"),ni("\\:","\\tmspace+{4mu}{.2222em}"),ni("\\medspace","\\:"),ni("\\;","\\tmspace+{5mu}{.2777em}"),ni("\\thickspace","\\;"),ni("\\!","\\tmspace-{3mu}{.1667em}"),ni("\\negthinspace","\\!"),ni("\\negmedspace","\\tmspace-{4mu}{.2222em}"),ni("\\negthickspace","\\tmspace-{5mu}{.277em}"),ni("\\enspace","\\kern.5em "),ni("\\enskip","\\hskip.5em\\relax"),ni("\\quad","\\hskip1em\\relax"),ni("\\qquad","\\hskip2em\\relax"),ni("\\tag","\\@ifstar\\tag@literal\\tag@paren"),ni("\\tag@paren","\\tag@literal{({#1})}"),ni("\\tag@literal",function(e){if(e.macros.get("\\df@tag"))throw new s("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),ni("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),ni("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),ni("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),ni("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),ni("\\pmb","\\html@mathml{\\@binrel{#1}{\\mathrlap{#1}\\mathrlap{\\mkern0.4mu\\raisebox{0.4mu}{$#1$}}{\\mkern0.8mu#1}}}{\\mathbf{#1}}"),ni("\\\\","\\newline"),ni("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var li=$["Main-Regular"]["T".charCodeAt(0)][1]-.7*$["Main-Regular"]["A".charCodeAt(0)][1]+"em";ni("\\LaTeX","\\textrm{\\html@mathml{L\\kern-.36em\\raisebox{"+li+"}{\\scriptsize A}\\kern-.15em\\TeX}{LaTeX}}"),ni("\\KaTeX","\\textrm{\\html@mathml{K\\kern-.17em\\raisebox{"+li+"}{\\scriptsize A}\\kern-.15em\\TeX}{KaTeX}}"),ni("\\hspace","\\@ifstar\\@hspacer\\@hspace"),ni("\\@hspace","\\hskip #1\\relax"),ni("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),ni("\\ordinarycolon",":"),ni("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),ni("\\dblcolon","\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}"),ni("\\coloneqq","\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}"),ni("\\Coloneqq","\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}"),ni("\\coloneq","\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}"),ni("\\Coloneq","\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}"),ni("\\eqqcolon","\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),ni("\\Eqqcolon","\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}"),ni("\\eqcolon","\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),ni("\\Eqcolon","\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}"),ni("\\colonapprox","\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}"),ni("\\Colonapprox","\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}"),ni("\\colonsim","\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}"),ni("\\Colonsim","\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}"),ni("≔","\\coloneqq"),ni("≕","\\eqqcolon"),ni("⩴","\\Coloneqq"),ni("\\ratio","\\vcentcolon"),ni("\\coloncolon","\\dblcolon"),ni("\\colonequals","\\coloneqq"),ni("\\coloncolonequals","\\Coloneqq"),ni("\\equalscolon","\\eqqcolon"),ni("\\equalscoloncolon","\\Eqqcolon"),ni("\\colonminus","\\coloneq"),ni("\\coloncolonminus","\\Coloneq"),ni("\\minuscolon","\\eqcolon"),ni("\\minuscoloncolon","\\Eqcolon"),ni("\\coloncolonapprox","\\Colonapprox"),ni("\\coloncolonsim","\\Colonsim"),ni("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),ni("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),ni("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),ni("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),ni("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}"),ni("\\limsup","\\DOTSB\\mathop{\\operatorname{lim\\,sup}}\\limits"),ni("\\liminf","\\DOTSB\\mathop{\\operatorname{lim\\,inf}}\\limits"),ni("⟦","\\mathopen{[\\mkern-3.2mu[}"),ni("⟧","\\mathclose{]\\mkern-3.2mu]}"),ni("\\darr","\\downarrow"),ni("\\dArr","\\Downarrow"),ni("\\Darr","\\Downarrow"),ni("\\lang","\\langle"),ni("\\rang","\\rangle"),ni("\\uarr","\\uparrow"),ni("\\uArr","\\Uparrow"),ni("\\Uarr","\\Uparrow"),ni("\\N","\\mathbb{N}"),ni("\\R","\\mathbb{R}"),ni("\\Z","\\mathbb{Z}"),ni("\\alef","\\aleph"),ni("\\alefsym","\\aleph"),ni("\\Alpha","\\mathrm{A}"),ni("\\Beta","\\mathrm{B}"),ni("\\bull","\\bullet"),ni("\\Chi","\\mathrm{X}"),ni("\\clubs","\\clubsuit"),ni("\\cnums","\\mathbb{C}"),ni("\\Complex","\\mathbb{C}"),ni("\\Dagger","\\ddagger"),ni("\\diamonds","\\diamondsuit"),ni("\\empty","\\emptyset"),ni("\\Epsilon","\\mathrm{E}"),ni("\\Eta","\\mathrm{H}"),ni("\\exist","\\exists"),ni("\\harr","\\leftrightarrow"),ni("\\hArr","\\Leftrightarrow"),ni("\\Harr","\\Leftrightarrow"),ni("\\hearts","\\heartsuit"),ni("\\image","\\Im"),ni("\\infin","\\infty"),ni("\\Iota","\\mathrm{I}"),ni("\\isin","\\in"),ni("\\Kappa","\\mathrm{K}"),ni("\\larr","\\leftarrow"),ni("\\lArr","\\Leftarrow"),ni("\\Larr","\\Leftarrow"),ni("\\lrarr","\\leftrightarrow"),ni("\\lrArr","\\Leftrightarrow"),ni("\\Lrarr","\\Leftrightarrow"),ni("\\Mu","\\mathrm{M}"),ni("\\natnums","\\mathbb{N}"),ni("\\Nu","\\mathrm{N}"),ni("\\Omicron","\\mathrm{O}"),ni("\\plusmn","\\pm"),ni("\\rarr","\\rightarrow"),ni("\\rArr","\\Rightarrow"),ni("\\Rarr","\\Rightarrow"),ni("\\real","\\Re"),ni("\\reals","\\mathbb{R}"),ni("\\Reals","\\mathbb{R}"),ni("\\Rho","\\mathrm{R}"),ni("\\sdot","\\cdot"),ni("\\sect","\\S"),ni("\\spades","\\spadesuit"),ni("\\sub","\\subset"),ni("\\sube","\\subseteq"),ni("\\supe","\\supseteq"),ni("\\Tau","\\mathrm{T}"),ni("\\thetasym","\\vartheta"),ni("\\weierp","\\wp"),ni("\\Zeta","\\mathrm{Z}"),ni("\\argmin","\\DOTSB\\mathop{\\operatorname{arg\\,min}}\\limits"),ni("\\argmax","\\DOTSB\\mathop{\\operatorname{arg\\,max}}\\limits");var ui={"\\relax":!0,"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0},ci=function(){function e(e,t,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=t,this.expansionCount=0,this.feed(e),this.macros=new Jn(ti,t.macros),this.mode=n,this.stack=[]}var t=e.prototype;return t.feed=function(e){this.lexer=new Zn(e,this.settings)},t.switchMode=function(e){this.mode=e},t.beginGroup=function(){this.macros.beginGroup()},t.endGroup=function(){this.macros.endGroup()},t.future=function(){return 0===this.stack.length&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]},t.popToken=function(){return this.future(),this.stack.pop()},t.pushToken=function(e){this.stack.push(e)},t.pushTokens=function(e){var t;(t=this.stack).push.apply(t,e)},t.consumeSpaces=function(){for(;;){if(" "!==this.future().text)break;this.stack.pop()}},t.consumeArgs=function(e){for(var t=[],n=0;n<e;++n){this.consumeSpaces();var i=this.popToken();if("{"===i.text){for(var r=[],o=1;0!==o;){var a=this.popToken();if(r.push(a),"{"===a.text)++o;else if("}"===a.text)--o;else if("EOF"===a.text)throw new s("End of input in macro argument",i)}r.pop(),r.reverse(),t[n]=r}else{if("EOF"===i.text)throw new s("End of input expecting macro argument");t[n]=[i]}}return t},t.expandOnce=function(){var e=this.popToken(),t=e.text,n=this._getExpansion(t);if(null==n)return this.pushToken(e),e;if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new s("Too many expansions: infinite loop or need to increase maxExpand setting");var i=n.tokens;if(n.numArgs)for(var r=this.consumeArgs(n.numArgs),o=(i=i.slice()).length-1;o>=0;--o){var a=i[o];if("#"===a.text){if(0===o)throw new s("Incomplete placeholder at end of macro body",a);if("#"===(a=i[--o]).text)i.splice(o+1,1);else{if(!/^[1-9]$/.test(a.text))throw new s("Not a valid argument number",a);var l;(l=i).splice.apply(l,[o,2].concat(r[+a.text-1]))}}}return this.pushTokens(i),i},t.expandAfterFuture=function(){return this.expandOnce(),this.future()},t.expandNextToken=function(){for(;;){var e=this.expandOnce();if(e instanceof r){if("\\relax"!==e.text)return this.stack.pop();this.stack.pop()}}throw new Error},t.expandMacro=function(e){if(this.macros.get(e)){var t=[],n=this.stack.length;for(this.pushToken(new r(e));this.stack.length>n;){this.expandOnce()instanceof r&&t.push(this.stack.pop())}return t}},t.expandMacroAsText=function(e){var t=this.expandMacro(e);return t?t.map(function(e){return e.text}).join(""):t},t._getExpansion=function(e){var t=this.macros.get(e);if(null==t)return t;var n="function"==typeof t?t(this):t;if("string"==typeof n){var i=0;if(-1!==n.indexOf("#"))for(var r=n.replace(/##/g,"");-1!==r.indexOf("#"+(i+1));)++i;for(var o=new Zn(n,this.settings),s=[],a=o.lex();"EOF"!==a.text;)s.push(a),a=o.lex();return s.reverse(),{tokens:s,numArgs:i}}return n},t.isDefined=function(e){return this.macros.has(e)||Kn.hasOwnProperty(e)||V.math.hasOwnProperty(e)||V.text.hasOwnProperty(e)||ui.hasOwnProperty(e)},e}(),pi={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"}},fi={"á":"á","à":"à","ä":"ä","ǟ":"ǟ","ã":"ã","ā":"ā","ă":"ă","ắ":"ắ","ằ":"ằ","ẵ":"ẵ","ǎ":"ǎ","â":"â","ấ":"ấ","ầ":"ầ","ẫ":"ẫ","ȧ":"ȧ","ǡ":"ǡ","å":"å","ǻ":"ǻ","ḃ":"ḃ","ć":"ć","č":"č","ĉ":"ĉ","ċ":"ċ","ď":"ď","ḋ":"ḋ","é":"é","è":"è","ë":"ë","ẽ":"ẽ","ē":"ē","ḗ":"ḗ","ḕ":"ḕ","ĕ":"ĕ","ě":"ě","ê":"ê","ế":"ế","ề":"ề","ễ":"ễ","ė":"ė","ḟ":"ḟ","ǵ":"ǵ","ḡ":"ḡ","ğ":"ğ","ǧ":"ǧ","ĝ":"ĝ","ġ":"ġ","ḧ":"ḧ","ȟ":"ȟ","ĥ":"ĥ","ḣ":"ḣ","í":"í","ì":"ì","ï":"ï","ḯ":"ḯ","ĩ":"ĩ","ī":"ī","ĭ":"ĭ","ǐ":"ǐ","î":"î","ǰ":"ǰ","ĵ":"ĵ","ḱ":"ḱ","ǩ":"ǩ","ĺ":"ĺ","ľ":"ľ","ḿ":"ḿ","ṁ":"ṁ","ń":"ń","ǹ":"ǹ","ñ":"ñ","ň":"ň","ṅ":"ṅ","ó":"ó","ò":"ò","ö":"ö","ȫ":"ȫ","õ":"õ","ṍ":"ṍ","ṏ":"ṏ","ȭ":"ȭ","ō":"ō","ṓ":"ṓ","ṑ":"ṑ","ŏ":"ŏ","ǒ":"ǒ","ô":"ô","ố":"ố","ồ":"ồ","ỗ":"ỗ","ȯ":"ȯ","ȱ":"ȱ","ő":"ő","ṕ":"ṕ","ṗ":"ṗ","ŕ":"ŕ","ř":"ř","ṙ":"ṙ","ś":"ś","ṥ":"ṥ","š":"š","ṧ":"ṧ","ŝ":"ŝ","ṡ":"ṡ","ẗ":"ẗ","ť":"ť","ṫ":"ṫ","ú":"ú","ù":"ù","ü":"ü","ǘ":"ǘ","ǜ":"ǜ","ǖ":"ǖ","ǚ":"ǚ","ũ":"ũ","ṹ":"ṹ","ū":"ū","ṻ":"ṻ","ŭ":"ŭ","ǔ":"ǔ","û":"û","ů":"ů","ű":"ű","ṽ":"ṽ","ẃ":"ẃ","ẁ":"ẁ","ẅ":"ẅ","ŵ":"ŵ","ẇ":"ẇ","ẘ":"ẘ","ẍ":"ẍ","ẋ":"ẋ","ý":"ý","ỳ":"ỳ","ÿ":"ÿ","ỹ":"ỹ","ȳ":"ȳ","ŷ":"ŷ","ẏ":"ẏ","ẙ":"ẙ","ź":"ź","ž":"ž","ẑ":"ẑ","ż":"ż","Á":"Á","À":"À","Ä":"Ä","Ǟ":"Ǟ","Ã":"Ã","Ā":"Ā","Ă":"Ă","Ắ":"Ắ","Ằ":"Ằ","Ẵ":"Ẵ","Ǎ":"Ǎ","Â":"Â","Ấ":"Ấ","Ầ":"Ầ","Ẫ":"Ẫ","Ȧ":"Ȧ","Ǡ":"Ǡ","Å":"Å","Ǻ":"Ǻ","Ḃ":"Ḃ","Ć":"Ć","Č":"Č","Ĉ":"Ĉ","Ċ":"Ċ","Ď":"Ď","Ḋ":"Ḋ","É":"É","È":"È","Ë":"Ë","Ẽ":"Ẽ","Ē":"Ē","Ḗ":"Ḗ","Ḕ":"Ḕ","Ĕ":"Ĕ","Ě":"Ě","Ê":"Ê","Ế":"Ế","Ề":"Ề","Ễ":"Ễ","Ė":"Ė","Ḟ":"Ḟ","Ǵ":"Ǵ","Ḡ":"Ḡ","Ğ":"Ğ","Ǧ":"Ǧ","Ĝ":"Ĝ","Ġ":"Ġ","Ḧ":"Ḧ","Ȟ":"Ȟ","Ĥ":"Ĥ","Ḣ":"Ḣ","Í":"Í","Ì":"Ì","Ï":"Ï","Ḯ":"Ḯ","Ĩ":"Ĩ","Ī":"Ī","Ĭ":"Ĭ","Ǐ":"Ǐ","Î":"Î","İ":"İ","Ĵ":"Ĵ","Ḱ":"Ḱ","Ǩ":"Ǩ","Ĺ":"Ĺ","Ľ":"Ľ","Ḿ":"Ḿ","Ṁ":"Ṁ","Ń":"Ń","Ǹ":"Ǹ","Ñ":"Ñ","Ň":"Ň","Ṅ":"Ṅ","Ó":"Ó","Ò":"Ò","Ö":"Ö","Ȫ":"Ȫ","Õ":"Õ","Ṍ":"Ṍ","Ṏ":"Ṏ","Ȭ":"Ȭ","Ō":"Ō","Ṓ":"Ṓ","Ṑ":"Ṑ","Ŏ":"Ŏ","Ǒ":"Ǒ","Ô":"Ô","Ố":"Ố","Ồ":"Ồ","Ỗ":"Ỗ","Ȯ":"Ȯ","Ȱ":"Ȱ","Ő":"Ő","Ṕ":"Ṕ","Ṗ":"Ṗ","Ŕ":"Ŕ","Ř":"Ř","Ṙ":"Ṙ","Ś":"Ś","Ṥ":"Ṥ","Š":"Š","Ṧ":"Ṧ","Ŝ":"Ŝ","Ṡ":"Ṡ","Ť":"Ť","Ṫ":"Ṫ","Ú":"Ú","Ù":"Ù","Ü":"Ü","Ǘ":"Ǘ","Ǜ":"Ǜ","Ǖ":"Ǖ","Ǚ":"Ǚ","Ũ":"Ũ","Ṹ":"Ṹ","Ū":"Ū","Ṻ":"Ṻ","Ŭ":"Ŭ","Ǔ":"Ǔ","Û":"Û","Ů":"Ů","Ű":"Ű","Ṽ":"Ṽ","Ẃ":"Ẃ","Ẁ":"Ẁ","Ẅ":"Ẅ","Ŵ":"Ŵ","Ẇ":"Ẇ","Ẍ":"Ẍ","Ẋ":"Ẋ","Ý":"Ý","Ỳ":"Ỳ","Ÿ":"Ÿ","Ỹ":"Ỹ","Ȳ":"Ȳ","Ŷ":"Ŷ","Ẏ":"Ẏ","Ź":"Ź","Ž":"Ž","Ẑ":"Ẑ","Ż":"Ż","ά":"ά","ὰ":"ὰ","ᾱ":"ᾱ","ᾰ":"ᾰ","έ":"έ","ὲ":"ὲ","ή":"ή","ὴ":"ὴ","ί":"ί","ὶ":"ὶ","ϊ":"ϊ","ΐ":"ΐ","ῒ":"ῒ","ῑ":"ῑ","ῐ":"ῐ","ό":"ό","ὸ":"ὸ","ύ":"ύ","ὺ":"ὺ","ϋ":"ϋ","ΰ":"ΰ","ῢ":"ῢ","ῡ":"ῡ","ῠ":"ῠ","ώ":"ώ","ὼ":"ὼ","Ύ":"Ύ","Ὺ":"Ὺ","Ϋ":"Ϋ","Ῡ":"Ῡ","Ῠ":"Ῠ","Ώ":"Ώ","Ὼ":"Ὼ"},di=function(){function e(e,t){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new ci(e,t,this.mode),this.settings=t,this.leftrightDepth=0}var t=e.prototype;return t.expect=function(e,t){if(void 0===t&&(t=!0),this.nextToken.text!==e)throw new s("Expected '"+e+"', got '"+this.nextToken.text+"'",this.nextToken);t&&this.consume()},t.consume=function(){this.nextToken=this.gullet.expandNextToken()},t.switchMode=function(e){this.mode=e,this.gullet.switchMode(e)},t.parse=function(){this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor"),this.consume();var e=this.parseExpression(!1);return this.expect("EOF",!1),this.gullet.endGroup(),e},t.parseExpression=function(t,n){for(var i=[];;){"math"===this.mode&&this.consumeSpaces();var r=this.nextToken;if(-1!==e.endOfExpression.indexOf(r.text))break;if(n&&r.text===n)break;if(t&&Kn[r.text]&&Kn[r.text].infix)break;var o=this.parseAtom(n);if(!o)break;i.push(o)}return"text"===this.mode&&this.formLigatures(i),this.handleInfixNodes(i)},t.handleInfixNodes=function(e){for(var t,n=-1,i=0;i<e.length;i++){var r=je(e[i],"infix");if(r){if(-1!==n)throw new s("only one infix operator per group",r.token);n=i,t=r.replaceWith}}if(-1!==n&&t){var o,a,l=e.slice(0,n),u=e.slice(n+1);return o=1===l.length&&"ordgroup"===l[0].type?l[0]:{type:"ordgroup",mode:this.mode,body:l},a=1===u.length&&"ordgroup"===u[0].type?u[0]:{type:"ordgroup",mode:this.mode,body:u},["\\\\abovefrac"===t?this.callFunction(t,[o,e[n],a],[]):this.callFunction(t,[o,a],[])]}return e},t.handleSupSubscript=function(t){var n=this.nextToken,i=n.text;this.consume(),this.consumeSpaces();var r=this.parseGroup(t,!1,e.SUPSUB_GREEDINESS);if(!r)throw new s("Expected group after '"+i+"'",n);return r},t.handleUnsupportedCmd=function(){for(var e=this.nextToken.text,t=[],n=0;n<e.length;n++)t.push({type:"textord",mode:"text",text:e[n]});var i={type:"text",mode:this.mode,body:t},r={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return this.consume(),r},t.parseAtom=function(e){var t,n,i=this.parseGroup("atom",!1,null,e);if("text"===this.mode)return i;for(;;){this.consumeSpaces();var r=this.nextToken;if("\\limits"===r.text||"\\nolimits"===r.text){var o=je(i,"op");if(!o)throw new s("Limit controls must follow a math operator",r);var a="\\limits"===r.text;o.limits=a,o.alwaysHandleSupSub=!0,this.consume()}else if("^"===r.text){if(t)throw new s("Double superscript",r);t=this.handleSupSubscript("superscript")}else if("_"===r.text){if(n)throw new s("Double subscript",r);n=this.handleSupSubscript("subscript")}else{if("'"!==r.text)break;if(t)throw new s("Double superscript",r);var l={type:"textord",mode:this.mode,text:"\\prime"},u=[l];for(this.consume();"'"===this.nextToken.text;)u.push(l),this.consume();"^"===this.nextToken.text&&u.push(this.handleSupSubscript("superscript")),t={type:"ordgroup",mode:this.mode,body:u}}}return t||n?{type:"supsub",mode:this.mode,base:i,sup:t,sub:n}:i},t.parseFunction=function(e,t,n){var i=this.nextToken,r=i.text,o=Kn[r];if(!o)return null;if(null!=n&&o.greediness<=n)throw new s("Got function '"+r+"' with no arguments"+(t?" as "+t:""),i);if("text"===this.mode&&!o.allowedInText)throw new s("Can't use function '"+r+"' in text mode",i);if("math"===this.mode&&!1===o.allowedInMath)throw new s("Can't use function '"+r+"' in math mode",i);if(o.argTypes&&"url"===o.argTypes[0]&&this.gullet.lexer.setCatcode("%",13),o.consumeMode){var a=this.mode;this.switchMode(o.consumeMode),this.consume(),this.switchMode(a)}else this.consume();var l=this.parseArguments(r,o),u=l.args,c=l.optArgs;return this.callFunction(r,u,c,i,e)},t.callFunction=function(e,t,n,i,r){var o={funcName:e,parser:this,token:i,breakOnTokenText:r},a=Kn[e];if(a&&a.handler)return a.handler(o,t,n);throw new s("No function handler for "+e)},t.parseArguments=function(e,t){var n=t.numArgs+t.numOptionalArgs;if(0===n)return{args:[],optArgs:[]};for(var i=t.greediness,r=[],o=[],a=0;a<n;a++){var l=t.argTypes&&t.argTypes[a],u=a<t.numOptionalArgs;a>0&&!u&&this.consumeSpaces(),0!==a||u||"math"!==this.mode||this.consumeSpaces();var c=this.nextToken,p=this.parseGroupOfType("argument to '"+e+"'",l,u,i);if(!p){if(u){o.push(null);continue}throw new s("Expected group after '"+e+"'",c)}(u?o:r).push(p)}return{args:r,optArgs:o}},t.parseGroupOfType=function(e,t,n,i){switch(t){case"color":return this.parseColorGroup(n);case"size":return this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n);case"math":case"text":return this.parseGroup(e,n,i,void 0,t);case"raw":if(n&&"{"===this.nextToken.text)return null;var r=this.parseStringGroup("raw",n,!0);if(r)return{type:"raw",mode:"text",string:r.text};throw new s("Expected raw group",this.nextToken);case"original":case null:case void 0:return this.parseGroup(e,n,i);default:throw new s("Unknown group type as "+e,this.nextToken)}},t.consumeSpaces=function(){for(;" "===this.nextToken.text;)this.consume()},t.parseStringGroup=function(e,t,n){var i=t?"[":"{",r=t?"]":"}",o=this.nextToken;if(o.text!==i){if(t)return null;if(n&&"EOF"!==o.text&&/[^{}[\]]/.test(o.text))return this.gullet.lexer.setCatcode("%",14),this.consume(),o}var a=this.mode;this.mode="text",this.expect(i);for(var l="",u=this.nextToken,c=0,p=u;n&&c>0||this.nextToken.text!==r;){switch(this.nextToken.text){case"EOF":throw new s("Unexpected end of input in "+e,u.range(p,l));case i:c++;break;case r:c--}l+=(p=this.nextToken).text,this.consume()}return this.mode=a,this.gullet.lexer.setCatcode("%",14),this.expect(r),u.range(p,l)},t.parseRegexGroup=function(e,t){var n=this.mode;this.mode="text";for(var i=this.nextToken,r=i,o="";"EOF"!==this.nextToken.text&&e.test(o+this.nextToken.text);)o+=(r=this.nextToken).text,this.consume();if(""===o)throw new s("Invalid "+t+": '"+i.text+"'",i);return this.mode=n,i.range(r,o)},t.parseColorGroup=function(e){var t=this.parseStringGroup("color",e);if(!t)return null;var n=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(t.text);if(!n)throw new s("Invalid color: '"+t.text+"'",t);var i=n[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}},t.parseSizeGroup=function(e){var t,n=!1;if(!(t=e||"{"===this.nextToken.text?this.parseStringGroup("size",e):this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size")))return null;e||0!==t.text.length||(t.text="0pt",n=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t.text);if(!i)throw new s("Invalid size: '"+t.text+"'",t);var r,o={number:+(i[1]+i[2]),unit:i[3]};if("string"!=typeof(r=o)&&(r=r.unit),!(r in ke||r in Se||"ex"===r))throw new s("Invalid unit: '"+o.unit+"'",t);return{type:"size",mode:this.mode,value:o,isBlank:n}},t.parseUrlGroup=function(e){var t=this.parseStringGroup("url",e,!0);if(!t)return null;var n=t.text.replace(/\\([#$%&~_^{}])/g,"$1"),i=/^\s*([^\\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(n);i=null!=i?i[1]:"_relative";var r=this.settings.allowedProtocols;if(!p.contains(r,"*")&&!p.contains(r,i))throw new s("Forbidden protocol '"+i+"'",t);return{type:"url",mode:this.mode,url:n}},t.parseGroup=function(t,n,r,o,a){var l,u,c=this.mode,p=this.nextToken,f=p.text;if(a&&this.switchMode(a),n?"["===f:"{"===f||"\\begingroup"===f){l=e.endOfGroup[f],this.gullet.beginGroup(),this.consume();var d=this.parseExpression(!1,l),h=this.nextToken;this.gullet.endGroup(),u={type:"ordgroup",mode:this.mode,loc:i.range(p,h),body:d,semisimple:"\\begingroup"===f||void 0}}else if(n)u=null;else if(null==(u=this.parseFunction(o,t,r)||this.parseSymbol())&&"\\"===f[0]&&!ui.hasOwnProperty(f)){if(this.settings.throwOnError)throw new s("Undefined control sequence: "+f,p);u=this.handleUnsupportedCmd()}return a&&this.switchMode(c),l&&this.expect(l),u},t.formLigatures=function(e){for(var t=e.length-1,n=0;n<t;++n){var r=e[n],o=r.text;"-"===o&&"-"===e[n+1].text&&(n+1<t&&"-"===e[n+2].text?(e.splice(n,3,{type:"textord",mode:"text",loc:i.range(r,e[n+2]),text:"---"}),t-=2):(e.splice(n,2,{type:"textord",mode:"text",loc:i.range(r,e[n+1]),text:"--"}),t-=1)),"'"!==o&&"`"!==o||e[n+1].text!==o||(e.splice(n,2,{type:"textord",mode:"text",loc:i.range(r,e[n+1]),text:o+o}),t-=1)}},t.parseSymbol=function(){var e=this.nextToken,t=e.text;if(/^\\verb[^a-zA-Z]/.test(t)){this.consume();var n=t.slice(5),r="*"===n.charAt(0);if(r&&(n=n.slice(1)),n.length<2||n.charAt(0)!==n.slice(-1))throw new s("\\verb assertion failed --\n                    please report what input caused this bug");return{type:"verb",mode:"text",body:n=n.slice(1,-1),star:r}}fi.hasOwnProperty(t[0])&&!V[this.mode][t[0]]&&(this.settings.strict&&"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+t[0]+'" used in math mode',e),t=fi[t[0]]+t.substr(1));var o,a=Xn.exec(t);if(a&&("i"===(t=t.substring(0,a.index))?t="ı":"j"===t&&(t="ȷ")),V[this.mode][t]){this.settings.strict&&"math"===this.mode&&"ÇÐÞçþ".indexOf(t)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+t[0]+'" used in math mode',e);var l,u=V[this.mode][t].group,c=i.range(e);if(H.hasOwnProperty(u)){var p=u;l={type:"atom",mode:this.mode,family:p,loc:c,text:t}}else l={type:u,mode:this.mode,loc:c,text:t};o=l}else{if(!(t.charCodeAt(0)>=128))return null;this.settings.strict&&(S(t.charCodeAt(0))?"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+t[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+t[0]+'" ('+t.charCodeAt(0)+")",e)),o={type:"textord",mode:this.mode,loc:i.range(e),text:t}}if(this.consume(),a)for(var f=0;f<a[0].length;f++){var d=a[0][f];if(!pi[d])throw new s("Unknown accent ' "+d+"'",e);var h=pi[d][this.mode];if(!h)throw new s("Accent "+d+" unsupported in "+this.mode+" mode",e);o={type:"accent",mode:this.mode,loc:i.range(e),label:h,isStretchy:!1,isShifty:!0,base:o}}return o},e}();di.endOfExpression=["}","\\endgroup","\\end","\\right","&"],di.endOfGroup={"[":"]","{":"}","\\begingroup":"\\endgroup"},di.SUPSUB_GREEDINESS=1;var hi=function(e,t){if(!("string"==typeof e||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var n=new di(e,t);delete n.gullet.macros.current["\\df@tag"];var i=n.parse();if(n.gullet.macros.get("\\df@tag")){if(!t.displayMode)throw new s("\\tag works only in display equations");n.gullet.feed("\\df@tag"),i=[{type:"tag",mode:"text",body:i,tag:n.parse()}]}return i},mi=function(e,t,n){t.textContent="";var i=bi(e,n).toNode();t.appendChild(i)};"undefined"!=typeof document&&"CSS1Compat"!==document.compatMode&&("undefined"!=typeof console&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),mi=function(){throw new s("KaTeX doesn't work in quirks mode.")});var gi=function(e,t,n){if(n.throwOnError||!(e instanceof s))throw e;var i=Fe.makeSpan(["katex-error"],[new P(t)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+n.errorColor),i},bi=function(e,t){var n=new f(t);try{var i=hi(e,n);return St(i,e,n)}catch(t){return gi(t,e,n)}},yi={version:"0.10.1",render:mi,renderToString:function(e,t){return bi(e,t).toMarkup()},ParseError:s,__parse:function(e,t){var n=new f(t);return hi(e,n)},__renderToDomTree:bi,__renderToHTMLTree:function(e,t){var n=new f(t);try{return function(e,t,n){var i=pt(e,wt(n)),r=Fe.makeSpan(["katex"],[i]);return kt(r,n)}(hi(e,n),0,n)}catch(t){return gi(t,e,n)}},__setFontMetrics:function(e,t){$[e]=t},__defineSymbol:G,__defineMacro:ni,__domTree:{Span:R,Anchor:O,SymbolNode:P,SvgNode:D,PathNode:I,LineNode:F}};t.default=yi}]).default},e.exports=i()},function(e,t,n){!function(e){"use strict";e.runMode=function(t,n,i,r){var o=e.getMode(e.defaults,n),s=/MSIE \d/.test(navigator.userAgent),a=s&&(null==document.documentMode||document.documentMode<9);if(i.appendChild){var l=r&&r.tabSize||e.defaults.tabSize,u=i,c=0;u.innerHTML="",i=function(e,t){if("\n"==e)return u.appendChild(document.createTextNode(a?"\r":e)),void(c=0);for(var n="",i=0;;){var r=e.indexOf("\t",i);if(-1==r){n+=e.slice(i),c+=e.length-i;break}c+=r-i,n+=e.slice(i,r);var o=l-c%l;c+=o;for(var s=0;s<o;++s)n+=" ";i=r+1}if(t){var p=u.appendChild(document.createElement("span"));p.className="cm-"+t.replace(/ +/g," cm-"),p.appendChild(document.createTextNode(n))}else u.appendChild(document.createTextNode(n))}}for(var p=e.splitLines(t),f=r&&r.state||e.startState(o),d=0,h=p.length;d<h;++d){d&&i("\n");var m=new e.StringStream(p[d]);for(!m.string&&o.blankLine&&o.blankLine(f);!m.eol();){var g=o.token(m,f);i(m.current(),g,d,m.start,f),m.start=m.pos}}}}(n(8))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(199);Object.defineProperty(t,"CharacterStream",{enumerable:!0,get:function(){return a(i).default}});var r=n(97);Object.defineProperty(t,"LexRules",{enumerable:!0,get:function(){return r.LexRules}}),Object.defineProperty(t,"ParseRules",{enumerable:!0,get:function(){return r.ParseRules}}),Object.defineProperty(t,"isIgnored",{enumerable:!0,get:function(){return r.isIgnored}});var o=n(98);Object.defineProperty(t,"butNot",{enumerable:!0,get:function(){return o.butNot}}),Object.defineProperty(t,"list",{enumerable:!0,get:function(){return o.list}}),Object.defineProperty(t,"opt",{enumerable:!0,get:function(){return o.opt}}),Object.defineProperty(t,"p",{enumerable:!0,get:function(){return o.p}}),Object.defineProperty(t,"t",{enumerable:!0,get:function(){return o.t}});var s=n(200);function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"onlineParser",{enumerable:!0,get:function(){return a(s).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getStartOfToken=function(){return n._start},this.getCurrentPosition=function(){return n._pos},this.eol=function(){return n._sourceText.length===n._pos},this.sol=function(){return 0===n._pos},this.peek=function(){return n._sourceText.charAt(n._pos)?n._sourceText.charAt(n._pos):null},this.next=function(){var e=n._sourceText.charAt(n._pos);return n._pos++,e},this.eat=function(e){if(n._testNextCharacter(e))return n._start=n._pos,n._pos++,n._sourceText.charAt(n._pos-1)},this.eatWhile=function(e){var t=n._testNextCharacter(e),i=!1;for(t&&(i=t,n._start=n._pos);t;)n._pos++,t=n._testNextCharacter(e),i=!0;return i},this.eatSpace=function(){return n.eatWhile(/[\s\u00a0]/)},this.skipToEnd=function(){n._pos=n._sourceText.length},this.skipTo=function(e){n._pos=e},this.match=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=null,o=null;"string"==typeof e?(o=new RegExp(e,i?"i":"g").test(n._sourceText.substr(n._pos,e.length)),r=e):e instanceof RegExp&&(r=(o=n._sourceText.slice(n._pos).match(e))&&o[0]);return!(null==o||!("string"==typeof e||o instanceof Array&&n._sourceText.startsWith(o[0],n._pos)))&&(t&&(n._start=n._pos,r&&r.length&&(n._pos+=r.length)),o)},this.backUp=function(e){n._pos-=e},this.column=function(){return n._pos},this.indentation=function(){var e=n._sourceText.match(/\s*/),t=0;if(e&&0===e.length)for(var i=e[0],r=0;i.length>r;)9===i.charCodeAt(r)?t+=2:t++,r++;return t},this.current=function(){return n._sourceText.slice(n._start,n._pos)},this._start=0,this._pos=0,this._sourceText=t}return e.prototype._testNextCharacter=function(e){var t=this._sourceText.charAt(this._pos);return"string"==typeof e?t===e:e instanceof RegExp?e.test(t):e(t)},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{eatWhitespace:function(e){return e.eatWhile(r.isIgnored)},lexRules:r.LexRules,parseRules:r.ParseRules,editorConfig:{}};return{startState:function(){var t={level:0,step:0,name:null,kind:null,type:null,rule:null,needsSeperator:!1,prevState:null};return a(e.parseRules,t,"Document"),t},token:function(t,n){return function(e,t,n){var i=n.lexRules,r=n.parseRules,c=n.eatWhitespace,f=n.editorConfig;t.rule&&0===t.rule.length?l(t):t.needsAdvance&&(t.needsAdvance=!1,u(t,!0));if(e.sol()){var d=f&&f.tabSize||2;t.indentLevel=Math.floor(e.indentation()/d)}if(c(e))return"ws";var h=function(e,t){for(var n=Object.keys(e),i=0;i<n.length;i++){var r=t.match(e[n[i]]);if(r&&r instanceof Array)return{kind:n[i],value:r[0]}}}(i,e);if(!h)return e.match(/\S+/),a(s,t,"Invalid"),"invalidchar";if("Comment"===h.kind)return a(s,t,"Comment"),"comment";var m=o({},t);if("Punctuation"===h.kind)if(/^[{([]/.test(h.value))t.levels=(t.levels||[]).concat(t.indentLevel+1);else if(/^[})\]]/.test(h.value)){var g=t.levels=(t.levels||[]).slice(0,-1);t.indentLevel&&g.length>0&&g[g.length-1]<t.indentLevel&&(t.indentLevel=g[g.length-1])}for(;t.rule;){var b="function"==typeof t.rule?0===t.step?t.rule(h,e):null:t.rule[t.step];if(t.needsSeperator&&(b=b&&b.separator),b){if(b.ofRule&&(b=b.ofRule),"string"==typeof b){a(r,t,b);continue}if(b.match&&b.match(h))return b.update&&b.update(t,h),"Punctuation"===h.kind?u(t,!0):t.needsAdvance=!0,b.style}p(t)}return o(t,m),a(s,t,"Invalid"),"invalidchar"}(t,n,e)}}};var r=n(97);function o(e,t){for(var n=Object.keys(t),i=0;i<n.length;i++)e[n[i]]=t[n[i]];return e}var s={Invalid:[],Comment:[]};function a(e,t,n){if(!e[n])throw new TypeError("Unknown rule: "+n);t.prevState=i({},t),t.kind=n,t.name=null,t.type=null,t.rule=e[n],t.step=0,t.needsSeperator=!1}function l(e){e.prevState&&(e.kind=e.prevState.kind,e.name=e.prevState.name,e.type=e.prevState.type,e.rule=e.prevState.rule,e.step=e.prevState.step,e.needsSeperator=e.prevState.needsSeperator,e.prevState=e.prevState.prevState)}function u(e,t){if(c(e)){if(e.rule&&e.rule[e.step].separator){var n=e.rule[e.step].separator;if(e.needsSeperator=!e.needsSeperator,!e.needsSeperator&&n.ofRule)return}if(t)return}for(e.needsSeperator=!1,e.step++;e.rule&&!(Array.isArray(e.rule)&&e.step<e.rule.length);)l(e),e.rule&&(c(e)?e.rule&&e.rule[e.step].separator&&(e.needsSeperator=!e.needsSeperator):(e.needsSeperator=!1,e.step++))}function c(e){return Array.isArray(e.rule)&&"string"!=typeof e.rule[e.step]&&e.rule[e.step].isList}function p(e){for(;e.rule&&(!Array.isArray(e.rule)||!e.rule[e.step].ofRule);)l(e);e.rule&&u(e,!1)}},function(e,t,n){!function(e){"use strict";e.multiplexingMode=function(t){var n=Array.prototype.slice.call(arguments,1);function i(e,t,n,i){if("string"==typeof t){var r=e.indexOf(t,n);return i&&r>-1?r+t.length:r}var o=t.exec(n?e.slice(n):e);return o?o.index+n+(i?o[0].length:0):-1}return{startState:function(){return{outer:e.startState(t),innerActive:null,inner:null}},copyState:function(n){return{outer:e.copyState(t,n.outer),innerActive:n.innerActive,inner:n.innerActive&&e.copyState(n.innerActive.mode,n.inner)}},token:function(r,o){if(o.innerActive){var s=o.innerActive,a=r.string;if(!s.close&&r.sol())return o.innerActive=o.inner=null,this.token(r,o);var l=s.close?i(a,s.close,r.pos,s.parseDelimiters):-1;if(l==r.pos&&!s.parseDelimiters)return r.match(s.close),o.innerActive=o.inner=null,s.delimStyle&&s.delimStyle+" "+s.delimStyle+"-close";l>-1&&(r.string=a.slice(0,l));var u=s.mode.token(r,o.inner);return l>-1&&(r.string=a),l==r.pos&&s.parseDelimiters&&(o.innerActive=o.inner=null),s.innerStyle&&(u=u?u+" "+s.innerStyle:s.innerStyle),u}for(var c=1/0,a=r.string,p=0;p<n.length;++p){var f=n[p],l=i(a,f.open,r.pos);if(l==r.pos){f.parseDelimiters||r.match(f.open),o.innerActive=f;var d=0;if(t.indent){var h=t.indent(o.outer,"","");h!==e.Pass&&(d=h)}return o.inner=e.startState(f.mode,d),f.delimStyle&&f.delimStyle+" "+f.delimStyle+"-open"}-1!=l&&l<c&&(c=l)}c!=1/0&&(r.string=a.slice(0,c));var m=t.token(r,o.outer);return c!=1/0&&(r.string=a),m},indent:function(n,i,r){var o=n.innerActive?n.innerActive.mode:t;return o.indent?o.indent(n.innerActive?n.inner:n.outer,i,r):e.Pass},blankLine:function(i){var r=i.innerActive?i.innerActive.mode:t;if(r.blankLine&&r.blankLine(i.innerActive?i.inner:i.outer),i.innerActive)"\n"===i.innerActive.close&&(i.innerActive=i.inner=null);else for(var o=0;o<n.length;++o){var s=n[o];"\n"===s.open&&(i.innerActive=s,i.inner=e.startState(s.mode,r.indent?r.indent(i.outer,"",""):0))}},electricChars:t.electricChars,innerMode:function(e){return e.inner?{state:e.inner,mode:e.innerActive.mode}:{state:e.outer,mode:t}}}}}(n(8))},function(e,t,n){!function(e){"use strict";e.defineMode("stex",function(e,t){function n(e,t){e.cmdState.push(t)}function i(e){return e.cmdState.length>0?e.cmdState[e.cmdState.length-1]:null}function r(e,t,n){return function(){this.name=e,this.bracketNo=0,this.style=t,this.styles=n,this.argument=null,this.styleIdentifier=function(){return this.styles[this.bracketNo-1]||null},this.openBracket=function(){return this.bracketNo++,"bracket"},this.closeBracket=function(){}}}var o={};function s(e,t){e.f=t}function a(e,t){var r;if(e.match(/^\\[a-zA-Z@]+/)){var a=e.current().slice(1);return r=new(r=o[a]||o.DEFAULT),n(t,r),s(t,u),r.style}if(e.match(/^\\[$&%#{}_]/))return"tag";if(e.match(/^\\[,;!\/\\]/))return"tag";if(e.match("\\["))return s(t,function(e,t){return l(e,t,"\\]")}),"keyword";if(e.match("\\("))return s(t,function(e,t){return l(e,t,"\\)")}),"keyword";if(e.match("$$"))return s(t,function(e,t){return l(e,t,"$$")}),"keyword";if(e.match("$"))return s(t,function(e,t){return l(e,t,"$")}),"keyword";var c=e.next();return"%"==c?(e.skipToEnd(),"comment"):"}"==c||"]"==c?(r=i(t))?(r.closeBracket(c),s(t,u),"bracket"):"error":"{"==c||"["==c?(r=new(r=o.DEFAULT),n(t,r),"bracket"):/\d/.test(c)?(e.eatWhile(/[\w.%]/),"atom"):(e.eatWhile(/[\w\-_]/),"begin"==(r=function(e){for(var t=e.cmdState,n=t.length-1;n>=0;n--){var i=t[n];if("DEFAULT"!=i.name)return i}return{styleIdentifier:function(){return null}}}(t)).name&&(r.argument=e.current()),r.styleIdentifier())}function l(e,t,n){if(e.eatSpace())return null;if(n&&e.match(n))return s(t,a),"keyword";if(e.match(/^\\[a-zA-Z@]+/))return"tag";if(e.match(/^[a-zA-Z]+/))return"variable-2";if(e.match(/^\\[$&%#{}_]/))return"tag";if(e.match(/^\\[,;!\/]/))return"tag";if(e.match(/^[\^_&]/))return"tag";if(e.match(/^[+\-<>|=,\/@!*:;'"`~#?]/))return null;if(e.match(/^(\d+\.\d*|\d*\.\d+|\d+)/))return"number";var i=e.next();return"{"==i||"}"==i||"["==i||"]"==i||"("==i||")"==i?"bracket":"%"==i?(e.skipToEnd(),"comment"):"error"}function u(e,t){var n=e.peek();return"{"==n||"["==n?(i(t).openBracket(n),e.eat(n),s(t,a),"bracket"):/[ \t\r]/.test(n)?(e.eat(n),null):(s(t,a),function(e){var t=e.cmdState.pop();t&&t.closeBracket()}(t),a(e,t))}return o.importmodule=r("importmodule","tag",["string","builtin"]),o.documentclass=r("documentclass","tag",["","atom"]),o.usepackage=r("usepackage","tag",["atom"]),o.begin=r("begin","tag",["atom"]),o.end=r("end","tag",["atom"]),o.label=r("label","tag",["atom"]),o.ref=r("ref","tag",["atom"]),o.eqref=r("eqref","tag",["atom"]),o.cite=r("cite","tag",["atom"]),o.bibitem=r("bibitem","tag",["atom"]),o.Bibitem=r("Bibitem","tag",["atom"]),o.RBibitem=r("RBibitem","tag",["atom"]),o.DEFAULT=function(){this.name="DEFAULT",this.style="tag",this.styleIdentifier=this.openBracket=this.closeBracket=function(){}},{startState:function(){var e=t.inMathMode?function(e,t){return l(e,t)}:a;return{cmdState:[],f:e}},copyState:function(e){return{cmdState:e.cmdState.slice(),f:e.f}},token:function(e,t){return t.f(e,t)},blankLine:function(e){e.f=a,e.cmdState.length=0},lineComment:"%"}}),e.defineMIME("text/x-stex","stex"),e.defineMIME("text/x-latex","stex")}(n(8))},function(e,t,n){!function(e){"use strict";e.overlayMode=function(t,n,i){return{startState:function(){return{base:e.startState(t),overlay:e.startState(n),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(i){return{base:e.copyState(t,i.base),overlay:e.copyState(n,i.overlay),basePos:i.basePos,baseCur:null,overlayPos:i.overlayPos,overlayCur:null}},token:function(e,r){return(e!=r.streamSeen||Math.min(r.basePos,r.overlayPos)<e.start)&&(r.streamSeen=e,r.basePos=r.overlayPos=e.start),e.start==r.basePos&&(r.baseCur=t.token(e,r.base),r.basePos=e.pos),e.start==r.overlayPos&&(e.pos=e.start,r.overlayCur=n.token(e,r.overlay),r.overlayPos=e.pos),e.pos=Math.min(r.basePos,r.overlayPos),null==r.overlayCur?r.baseCur:null!=r.baseCur&&r.overlay.combineTokens||i&&null==r.overlay.combineTokens?r.baseCur+" "+r.overlayCur:r.overlayCur},indent:t.indent&&function(e,n,i){return t.indent(e.base,n,i)},electricChars:t.electricChars,innerMode:function(e){return{state:e.base,mode:t}},blankLine:function(e){var r,o;return t.blankLine&&(r=t.blankLine(e.base)),n.blankLine&&(o=n.blankLine(e.overlay)),null==o?r:i&&null!=r?r+" "+o:o}}}}(n(8))},function(e,t,n){!function(e){"use strict";function t(e,t){if(!e.hasOwnProperty(t))throw new Error("Undefined state "+t+" in simple mode")}function n(e,t){if(!e)return/(?:)/;var n="";return e instanceof RegExp?(e.ignoreCase&&(n="i"),e=e.source):e=String(e),new RegExp((!1===t?"":"^")+"(?:"+e+")",n)}function i(e,i){(e.next||e.push)&&t(i,e.next||e.push),this.regex=n(e.regex),this.token=function(e){if(!e)return null;if(e.apply)return e;if("string"==typeof e)return e.replace(/\./g," ");for(var t=[],n=0;n<e.length;n++)t.push(e[n]&&e[n].replace(/\./g," "));return t}(e.token),this.data=e}function r(e,t){return function(n,i){if(i.pending){var r=i.pending.shift();return 0==i.pending.length&&(i.pending=null),n.pos+=r.text.length,r.token}if(i.local){if(i.local.end&&n.match(i.local.end)){var o=i.local.endToken||null;return i.local=i.localState=null,o}var a,o=i.local.mode.token(n,i.localState);return i.local.endScan&&(a=i.local.endScan.exec(n.current()))&&(n.pos=n.start+a.index),o}for(var l=e[i.state],u=0;u<l.length;u++){var c=l[u],p=(!c.data.sol||n.sol())&&n.match(c.regex);if(p){c.data.next?i.state=c.data.next:c.data.push?((i.stack||(i.stack=[])).push(i.state),i.state=c.data.push):c.data.pop&&i.stack&&i.stack.length&&(i.state=i.stack.pop()),c.data.mode&&s(t,i,c.data.mode,c.token),c.data.indent&&i.indent.push(n.indentation()+t.indentUnit),c.data.dedent&&i.indent.pop();var f=c.token;if(f&&f.apply&&(f=f(p)),p.length>2&&c.token&&"string"!=typeof c.token){i.pending=[];for(var d=2;d<p.length;d++)p[d]&&i.pending.push({text:p[d],token:c.token[d-1]});return n.backUp(p[0].length-(p[1]?p[1].length:0)),f[0]}return f&&f.join?f[0]:f}}return n.next(),null}}function o(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;var n=0;for(var i in e)if(e.hasOwnProperty(i)){if(!t.hasOwnProperty(i)||!o(e[i],t[i]))return!1;n++}for(var i in t)t.hasOwnProperty(i)&&n--;return 0==n}function s(t,i,r,s){var a;if(r.persistent)for(var l=i.persistentStates;l&&!a;l=l.next)(r.spec?o(r.spec,l.spec):r.mode==l.mode)&&(a=l);var u=a?a.mode:r.mode||e.getMode(t,r.spec),c=a?a.state:e.startState(u);r.persistent&&!a&&(i.persistentStates={mode:u,spec:r.spec,state:c,next:i.persistentStates}),i.localState=c,i.local={mode:u,end:r.end&&n(r.end),endScan:r.end&&!1!==r.forceEnd&&n(r.end,!1),endToken:s&&s.join?s[s.length-1]:s}}function a(t,n){return function(i,r,o){if(i.local&&i.local.mode.indent)return i.local.mode.indent(i.localState,r,o);if(null==i.indent||i.local||n.dontIndentStates&&function(e,t){for(var n=0;n<t.length;n++)if(t[n]===e)return!0}(i.state,n.dontIndentStates)>-1)return e.Pass;var s=i.indent.length-1,a=t[i.state];e:for(;;){for(var l=0;l<a.length;l++){var u=a[l];if(u.data.dedent&&!1!==u.data.dedentIfLineStart){var c=u.regex.exec(r);if(c&&c[0]){s--,(u.next||u.push)&&(a=t[u.next||u.push]),r=r.slice(c[0].length);continue e}}}break}return s<0?0:i.indent[s]}}e.defineSimpleMode=function(t,n){e.defineMode(t,function(t){return e.simpleMode(t,n)})},e.simpleMode=function(n,o){t(o,"start");var s={},l=o.meta||{},u=!1;for(var c in o)if(c!=l&&o.hasOwnProperty(c))for(var p=s[c]=[],f=o[c],d=0;d<f.length;d++){var h=f[d];p.push(new i(h,o)),(h.indent||h.dedent)&&(u=!0)}var m={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:u?[]:null}},copyState:function(t){var n={state:t.state,pending:t.pending,local:t.local,localState:null,indent:t.indent&&t.indent.slice(0)};t.localState&&(n.localState=e.copyState(t.local.mode,t.localState)),t.stack&&(n.stack=t.stack.slice(0));for(var i=t.persistentStates;i;i=i.next)n.persistentStates={mode:i.mode,spec:i.spec,state:i.state==t.localState?n.localState:e.copyState(i.mode,i.state),next:n.persistentStates};return n},token:r(s,n),innerMode:function(e){return e.local&&{mode:e.local.mode,state:e.localState}},indent:a(s,l)};if(l)for(var g in l)l.hasOwnProperty(g)&&(m[g]=l[g]);return m}}(n(8))},function(e,t,n){var i,r,o,s,a,l,u=[].indexOf;i=n(99),r=n(71),n(23),o=n(15),l=[],a={},s=Reflux.createStore({listenables:i,mixins:[mixins.ItemMixin,mixins.AjaxMixin],init:function(){return o.listen(this.onProjectChange)},onProjectChange:function(e){if(e.id)return a=e},setTabs:function(e){var t,n,i,r;for(_.each(e,function(e){return e.file=e.tab_type.startsWith("file-")}),!a.editing&&a.lite_mode_code_editor&&(e=_.filter(e,function(e){return!e.file})),l=_.sortBy(e,"position"),t=0,n=(r=_.pluck(_.uniq(l,function(e){return e.pane_position}),"pane_position")).length;t<n;t++)i=r[t],_.find(this.tabsInPane(i),function(e){return e.active})||this.openTab(_.find(l,function(e){return e.pane_position===i}));return this.trigger(l)},appendTabsForFiles:function(e){var t,n,i,r,o;for(n=_.filter(this.tabsInPane(1),"file"),i=0,r=e.length;i<r;i++)(t=e[i]).directory||t.hidden||_.find(n,function(e){return e.detail===t.path})||(o={active:!1,tab_type:t.type,detail:t.path,pane_position:1,position:this.lastPosition(1),id:this.lastId(),temporary:!0,file:!0},l=this.createItem(l,o,!1),this.ensureActiveTabInPane(1));return this.trigger(l)},createTab:function(e){return e.id||(e.position=this.lastPosition(e.pane_position),e.id=this.lastId(),e.temporary=!0),l=this.createItem(l,e,!1),this.openTab(e)},onSelectTab:function(e){return this.openTab(e)},setProperty:function(e,t,n){return(e=_.clone(e))[t]=n,l=this.updateItem(l,e,e),this.trigger(l)},closeTab:function(e){return l=this.deleteItem(l,e),this.onTabClose(e)},hideTabs:function(e){var t,n,i,r,o,s,a;for(t=0,i=e.length;t<i;t++)(a=e[t]).hidden=!0,l=this.updateItem(l,a,a);for(n=0,r=(s=_.unique(_.pluck(e,"pane_position"))).length;n<r;n++)o=s[n],this.ensureActiveTabInPane(o);return this.trigger(l)},unhideTabs:function(){var e,t,n,i;for(e=0,t=(n=_.filter(l,function(e){return e.hidden})).length;e<t;e++)(i=n[e]).hidden=!1,i.active=!1;return this.ensureActiveTabInEachPane(),this.trigger(l)},restoreTabs:function(){var e,t,n,i;for(e=0,t=(n=l.slice()).length;e<t;e++)(i=n[e]).hidden?i.hidden=!1:l=this.deleteItem(l,i);return this.trigger(l)},removeTabsFromDeletedPanes:function(e){var t,n,i,r,o,s;for(i=_.pluck(e,"position"),t=0,n=(r=l.slice()).length;t<n;t++)o=(s=r[t]).pane_position,u.call(i,o)<0&&(l=this.deleteItem(l,s));return this.trigger(l)},focusEditorTab:function(){var e;if(e=_.find(this.tabsInPane(1),function(e){return e.active&&"file-editor"===e.tab_type}))return this.setProperty(e,"clicked",!0)},openTab:function(e){var t,n,i,o;for(n=0,i=(o=_.filter(l,function(t){return t.active&&t.pane_position===e.pane_position&&t!==e&&!t.hidden})).length;n<i;n++)(t=o[n]).active=!1,l=this.updateItem(l,t,t);return e.active=!0,e.file=e.tab_type.startsWith("file-"),e.file&&r.setActive(e.detail),l=this.updateItem(l,e,e),this.trigger(l)},onTabClose:function(e){var t,n,i,o,s;if(o=this.tabsInPane(e.pane_position),e.tab_type.startsWith("file-")&&r.setActive(null),0!==o.length){for(t=0,n=(s=_.filter(o,function(t){return t.position>e.position})).length;t<n;t++)(i=s[t]).position-=1,l=this.updateItem(l,i,i);if(_.find(o,function(e){return e.active}))this.trigger(l);else switch(e.position){case 1:return this.openTab(_.find(o,function(e){return 1===e.position}));case o.length+1:return this.openTab(_.find(o,function(e){return e.position===o.length}));default:return this.openTab(_.find(o,function(t){return t.position===e.position}))}}else this.trigger(l)},ensureActiveTabInEachPane:function(){var e,t,n,i,r;for(r=[],e=0,t=(i=_.pluck(_.uniq(l,function(e){return e.pane_position}),"pane_position")).length;e<t;e++)n=i[e],r.push(this.ensureActiveTabInPane(n));return r},ensureActiveTabInPane:function(e){var t,n;if((n=this.tabsInPane(e)).length>0)return _.find(n,function(e){return e.active})?void 0:((t=_.sortBy(n,"position")[0]).active=!0,t.file&&r.setActive(t.detail),l=this.updateItem(l,t,t))},lastPosition:function(e){var t;return(t=_.pluck(this.tabsInPane(e),"position")).length>0?_.max(t)+1:1},lastId:function(){var e;return(e=_.pluck(l,"id")).length>0?_.max(e)+1:1},tabsInPane:function(e){return _.filter(l,function(t){return t.pane_position===e&&!t.hidden})},getInitialState:function(){return l}}),e.exports=s},function(e,t,n){var i=n(174);e.exports=function(e){return i(e)?e:Object(e)}},function(e,t,n){var i=n(327),r=n(313),o=n(312),s=Object.prototype.toString,a=i(Array,"isArray")||function(e){return o(e)&&r(e.length)&&"[object Array]"==s.call(e)};e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){return n?[e,t]:e},e.exports=t.default},function(e,t){e.exports=Reflux.createActions(["setContent","setProperty"])},function(e,t,n){var i=n(24).document;e.exports=i&&i.documentElement},function(e,t,n){var i=n(32),r=n(68),o=n(80)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),i(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t){},function(e,t,n){var i=n(31);e.exports=function(e,t,n,r){try{return r?t(i(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&i(o.call(e)),t}}},function(e,t,n){var i=n(51),r=n(19)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[r]===e)}},function(e,t,n){var i=n(67),r=n(19)("toStringTag"),o="Arguments"==i(function(){return arguments}());e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),r))?n:o?i(t):"Object"==(s=i(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){var i=n(19)("iterator"),r=!1;try{var o=[7][i]();o.return=function(){r=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var o=[7],s=o[i]();s.next=function(){return{done:n=!0}},o[i]=function(){return s},e(o)}catch(e){}return n}},function(e,t,n){
/*!
* screenfull
* v3.3.3 - 2018-09-04
* (c) Sindre Sorhus; MIT License
*/
!function(){"use strict";var t="undefined"!=typeof window&&void 0!==window.document?window.document:{},n=e.exports,i="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,r=function(){for(var e,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],i=0,r=n.length,o={};i<r;i++)if((e=n[i])&&e[1]in t){for(i=0;i<e.length;i++)o[n[0][i]]=e[i];return o}return!1}(),o={change:r.fullscreenchange,error:r.fullscreenerror},s={request:function(e){var n=r.requestFullscreen;e=e||t.documentElement,/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)?e[n]():e[n](i?Element.ALLOW_KEYBOARD_INPUT:{})},exit:function(){t[r.exitFullscreen]()},toggle:function(e){this.isFullscreen?this.exit():this.request(e)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(e,n){var i=o[e];i&&t.addEventListener(i,n,!1)},off:function(e,n){var i=o[e];i&&t.removeEventListener(i,n,!1)},raw:r};r?(Object.defineProperties(s,{isFullscreen:{get:function(){return Boolean(t[r.fullscreenElement])}},element:{enumerable:!0,get:function(){return t[r.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(t[r.fullscreenEnabled])}}}),n?e.exports=s:window.screenfull=s):n?e.exports=!1:window.screenfull=!1}()},function(e,t,n){var i,r,o,s;i=n(316),o=n(317),({textarea:s}=ReactDOMFactories),r=reactCreateClass({displayName:"MarkdownEditor",propTypes:{autoFocus:PropTypes.bool,initial_value:PropTypes.string,placeholder:PropTypes.string,onChange:PropTypes.func.isRequired,status:PropTypes.bool,toolbar:PropTypes.bool},getInitialState:function(){return{uid:Math.random().toString().substr(2),editor:null}},getDefaultProps:function(){return{autoFocus:!0,placeholder:"Enter GitHub-Flavored Markdown here...",status:!0,toolbar:!0}},componentDidMount:function(){var e,t;return e={autoFocus:this.props.autofocus,element:document.getElementById(`markdown-editor-${this.state.uid}`),hideIcons:["side-by-side","fullscreen"],initialValue:this.props.inital_value,placeholder:this.props.placeholder,promptURLs:!0,renderingConfig:{codeSyntaxHighlighting:!0},showIcons:["code","quote","table"],spellChecker:!1},this.props.status||(e.status=!1),this.props.toolbar?e.toolbar=["bold","italic",{name:"Heading",action:o.toggleHeadingBigger,className:"far fa-heading",title:"Heading (Ctrl-H)"},"|","code","quote","unordered-list","ordered-list","|","link",{name:"Upload Image",action:this.openFilePicker,className:"far fa-image",title:"Upload Image"},"table","|","preview"]:e.toolbar=!1,(t=new o(e)).codemirror.on("change",()=>this.props.onChange(t.value())),this.setState({editor:t})},componentWillUnmount:function(){if(this.state.editor)return this.state.editor.toTextArea()},openFilePicker:function(){return i.init("AVn4wbHFxSxKQ57ZHtYvSz").pick({accept:"image/*",minFiles:1,maxFiles:1,maxSize:10485760,fromSources:["local_file_system","url","imagesearch","googledrive","dropbox","github"]}).then(e=>{var t,n,i,r,o,s,a;for(a=[],i=0,r=(s=e.filesUploaded).length;i<r;i++)n=s[i],o=(t=this.state.editor.codemirror).getCursor(),t.setSelection(o,o),a.push(t.replaceSelection(`\n![${n.filename.replace(/\[\]/,"")}](${n.url})\n`));return a})},render:function(){return s({id:`markdown-editor-${this.state.uid}`})}}),e.exports=r},function(e,t){var n;n=Reflux.createActions(["connectToPubNub","setChecking","setAllChecking","syncTaskResults","toggleOpen"]),e.exports=n},function(e,t,n){e.exports={default:n(760),__esModule:!0}},function(e,t,n){(function(t){e.exports=t.Reflux=n(222)}).call(this,n(12))},function(e,t,n){var i=n(73);i.connect=n(227),i.connectFilter=n(228),i.ListenerMixin=n(76),i.listenTo=n(229),i.listenToMany=n(230),n(231),e.exports=i},function(e,t,n){"use strict";var i=Object.prototype.hasOwnProperty,r="function"!=typeof Object.create&&"~";function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(){}s.prototype._events=void 0,s.prototype.eventNames=function(){var e,t=this._events,n=[];if(!t)return n;for(e in t)i.call(t,e)&&n.push(r?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},s.prototype.listeners=function(e,t){var n=r?r+e:e,i=this._events&&this._events[n];if(t)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var o=0,s=i.length,a=new Array(s);o<s;o++)a[o]=i[o].fn;return a},s.prototype.emit=function(e,t,n,i,o,s){var a=r?r+e:e;if(!this._events||!this._events[a])return!1;var l,u,c=this._events[a],p=arguments.length;if("function"==typeof c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),p){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,i),!0;case 5:return c.fn.call(c.context,t,n,i,o),!0;case 6:return c.fn.call(c.context,t,n,i,o,s),!0}for(u=1,l=new Array(p-1);u<p;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var f,d=c.length;for(u=0;u<d;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),p){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,n);break;default:if(!l)for(f=1,l=new Array(p-1);f<p;f++)l[f-1]=arguments[f];c[u].fn.apply(c[u].context,l)}}return!0},s.prototype.on=function(e,t,n){var i=new o(t,n||this),s=r?r+e:e;return this._events||(this._events=r?{}:Object.create(null)),this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],i]:this._events[s].push(i):this._events[s]=i,this},s.prototype.once=function(e,t,n){var i=new o(t,n||this,!0),s=r?r+e:e;return this._events||(this._events=r?{}:Object.create(null)),this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],i]:this._events[s].push(i):this._events[s]=i,this},s.prototype.removeListener=function(e,t,n,i){var o=r?r+e:e;if(!this._events||!this._events[o])return this;var s=this._events[o],a=[];if(t)if(s.fn)(s.fn!==t||i&&!s.once||n&&s.context!==n)&&a.push(s);else for(var l=0,u=s.length;l<u;l++)(s[l].fn!==t||i&&!s[l].once||n&&s[l].context!==n)&&a.push(s[l]);return a.length?this._events[o]=1===a.length?a[0]:a:delete this._events[o],this},s.prototype.removeAllListeners=function(e){return this._events?(e?delete this._events[r?r+e:e]:this._events=r?{}:Object.create(null),this):this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prototype.setMaxListeners=function(){return this},s.prefixed=r,e.exports=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mix=function(e){var t={init:[],preEmit:[],shouldEmit:[]},n=function e(n){var r={};return n.mixins&&n.mixins.forEach(function(t){i.extend(r,e(t))}),i.extend(r,n),Object.keys(t).forEach(function(e){n.hasOwnProperty(e)&&t[e].push(n[e])}),r}(e);t.init.length>1&&(n.init=function(){var e=arguments;t.init.forEach(function(t){t.apply(this,e)},this)});t.preEmit.length>1&&(n.preEmit=function(){return t.preEmit.reduce(function(e,t){var n=t.apply(this,e);return void 0===n?e:[n]}.bind(this),arguments)});t.shouldEmit.length>1&&(n.shouldEmit=function(){var e=arguments;return!t.shouldEmit.some(function(t){return!t.apply(this,e)},this)});return Object.keys(t).forEach(function(e){1===t[e].length&&(n[e]=t[e][0])}),n};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(20))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bindMethods=function(e,t){for(var n in t)if(Object.getOwnPropertyDescriptor&&Object.defineProperty){var i=Object.getOwnPropertyDescriptor(t,n);if(!i.value||"function"!=typeof i.value||!t.hasOwnProperty(n))continue;e[n]=t[n].bind(e)}else{var r=t[n];if("function"!=typeof r||!t.hasOwnProperty(n))continue;e[n]=r.bind(e)}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAction=function e(t){t=t||{};i.isObject(t)||(t={actionName:t});for(var n in r)if(!l[n]&&o[n])throw new Error("Cannot override API method "+n+" in Reflux.ActionMethods. Use another method name or override it on Reflux.PublisherMethods instead.");for(var a in t)if(!l[a]&&o[a])throw new Error("Cannot override API method "+a+" in action creation. Use another method name or override it on Reflux.PublisherMethods instead.");t.children=t.children||[];t.asyncResult&&(t.children=t.children.concat(["completed","failed"]));var u=0,c={};for(;u<t.children.length;u++){var p=t.children[u];c[p]=e(p)}var f=i.extend({eventLabel:"action",emitter:new i.EventEmitter,_isAction:!0},o,r,t);var d=function e(){var t=e.sync?"trigger":"triggerAsync";return e[t].apply(e,arguments)};i.extend(d,c,f);s.addAction(d);return d};var i=a(n(20)),r=a(n(114)),o=a(n(75)),s=a(n(74));function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var l={preEmit:1,shouldEmit:1}},function(e,t,n){var i=n(30),r=n(76),o=n(20);e.exports=function(e,t){return o.throwIf(void 0===t,"Reflux.connect() requires a key."),{getInitialState:function(){return o.isFunction(e.getInitialState)?o.object([t],[e.getInitialState()]):{}},componentDidMount:function(){var n=this;o.extend(n,i),this.listenTo(e,function(e){n.setState(o.object([t],[e]))})},componentWillUnmount:r.componentWillUnmount}}},function(e,t,n){var i=n(30),r=n(76),o=n(20);e.exports=function(e,t,n){return o.throwIf(o.isFunction(t),"Reflux.connectFilter() requires a key."),{getInitialState:function(){if(!o.isFunction(e.getInitialState))return{};var i=n.call(this,e.getInitialState());return void 0!==i?o.object([t],[i]):{}},componentDidMount:function(){var r=this;o.extend(this,i),this.listenTo(e,function(e){var i=n.call(r,e);r.setState(o.object([t],[i]))})},componentWillUnmount:r.componentWillUnmount}}},function(e,t,n){var i=n(30);e.exports=function(e,t,n){return{componentDidMount:function(){for(var r in i)if(this[r]!==i[r]){if(this[r])throw"Can't have other property '"+r+"' when using Reflux.listenTo!";this[r]=i[r]}this.listenTo(e,t,n)},componentWillUnmount:i.stopListeningToAll}}},function(e,t,n){var i=n(30);e.exports=function(e){return{componentDidMount:function(){for(var t in i)if(this[t]!==i[t]){if(this[t])throw"Can't have other property '"+t+"' when using Reflux.listenToMany!";this[t]=i[t]}this.listenToMany(e)},componentWillUnmount:i.stopListeningToAll}}},function(e,t,n){var i=n(73);if(i.defineReact=n(232),"undefined"!=typeof React&&React)i.defineReact(React);else try{var r=n(1);i.defineReact(r)}catch(e){}},function(e,t,n){var i,r=n(73),o=!1;function s(e,t){if(!e)return t;for(var n=!1,i={},r=0,o=e.length;r<o;r++){var s=e[r];t.hasOwnProperty(s)&&(n=!0,i[s]=t[s])}return!!n&&i}e.exports=function e(t,n,a){var l,u;try{i=t||i||React,u=a||i.Component}catch(e){return}if(i&&u&&(!o||a)){var c=function(e){u.call(this,e)};if(function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(c,u),(l=c.prototype).storeKeys=null,l.componentWillMount=function(){if(this.store&&(Array.isArray(this.stores)?this.stores.unshift(this.store):this.stores=[this.store]),this.stores){this.__storeunsubscribes__=this.__storeunsubscribes__||[];for(var e=this.setState.bind(this),t=function(t){var n=s(this.storeKeys,t);n&&e(n)}.bind(this),n=0,i=this.stores.length;n<i;n++){var o=this.stores[n];if("function"==typeof o){var a=o.id;if(o.singleton||(o.singleton=new o,a&&(r.stores[a]=o.singleton)),this.stores[n]=o=o.singleton,o.id=a,a&&r.GlobalState[a]){for(var l in r.GlobalState[a])o.state[l]=r.GlobalState[a][l];r.GlobalState[a]=o.state}else a&&(r.GlobalState[a]=o.state)}this.__storeunsubscribes__.push(o.listen(t));var u=s(this.storeKeys,o.state);u&&this.setState(u)}}this.__readytomap__=!0;var c=this.__delayedmaps__;if(c)for(var p=0,f=c.length;p<f;p++)c[p].func(c[p].state);this.__delayedmaps__=null},l.componentWillUnmount=function(){for(var e=0,t=this.__storeunsubscribes__.length;e<t;e++)this.__storeunsubscribes__[e]();this.__readytomap__=!1},l.mapStoreToState=function(e,t){"function"==typeof e&&(e=e.singleton?e.singleton:r.initStore(e));var n=this;function i(e){var i=t.call(n,e);if(i){var r=!1;for(var o in i){r=!0;break}r&&n.setState(i)}}this.__storeunsubscribes__=this.__storeunsubscribes__||[],this.__storeunsubscribes__.push(e.listen(i)),this.__readytomap__?i(e.state):(this.__delayedmaps__=this.__delayedmaps__||[],this.__delayedmaps__.push({func:i,state:e.state}))},c.extend=function(t){return e(null,null,t)},a)return c;r.Component=c;var p=function(){this.__store__=r.createStore(),this.state={};var e=this;for(var t in this.__store__)!function(t){Object.defineProperty(e,t,{get:function(){return e.__store__[t]},set:function(n){e.__store__[t]=n}})}(t)};l=p.prototype,Object.defineProperty(l,"listenables",{get:function(){return this.__listenables__},set:function(e){var t={};Array.isArray(e)?e.forEach(function(e){for(var n in e)t[n]=e[n]}):t=e,this.__listenables__=t,this.listenToMany(t)},enumerable:!0,configurable:!0}),l.setState=function(e){for(var t in e)this.state[t]=e[t];this.id&&(r.GlobalState[this.id]=this.state),this.trigger(e)},Object.defineProperty(p,"isES6Store",{get:function(){return!0},enumerable:!0,configurable:!0}),r.Store=p,r.GlobalState=r.GlobalState||{},r.stores={},r.getGlobalState=function(){return function e(t,n){if(null===t||"object"!=typeof t)return t;if(t.constructor!==Object&&t.constructor!==Array)return t;if(t.constructor===Date||t.constructor===RegExp||t.constructor===Function||t.constructor===String||t.constructor===Number||t.constructor===Boolean)return new t.constructor(t);for(var i in n=n||new t.constructor,t)n[i]=void 0===n[i]?e(t[i],null):n[i];return n}(r.GlobalState)},r.setGlobalState=function(e){for(var t in e)r.stores[t]?r.stores[t].setState(e[t]):r.GlobalState[t]=e[t]},r.initializeGlobalStore=r.initStore=function(e){var t=e.id;if(e.singleton)return e.singleton;if(!t)return e.singleton=new e,e.singleton;var n=e.singleton=new e;if(r.stores[t]=n,n.id=t,r.GlobalState[t]){for(var i in r.GlobalState[t])n.state[i]=r.GlobalState[t][i];r.GlobalState[t]=n.state}else r.GlobalState[t]=n.state;return n},o=!0}}},function(e,t,n){(function(t){e.exports=t.layerMixins=n(234)}).call(this,n(12))},function(e,t,n){var i=n(10),r={componentDidMount:function(){this._layer=document.createElement("div"),document.body.appendChild(this._layer),this._renderLayer()},componentDidUpdate:function(){this._renderLayer()},componentWillUnmount:function(){this._unrenderLayer(),document.body.removeChild(this._layer)},_renderLayer:function(){var e=this.renderLayer();null===e?i.render(React.createElement("noscript",null),this._layer):i.render(e,this._layer),this.layerDidMount&&this.layerDidMount(this._layer)},_unrenderLayer:function(){this.layerWillUnmount&&this.layerWillUnmount(this._layer),i.unmountComponentAtNode(this._layer)}};e.exports=r},function(e,t,n){(function(t){e.exports=t.Bootstrap=n(310)}).call(this,n(12))},function(e,t,n){n(237),e.exports=n(16).Object.assign},function(e,t,n){var i=n(22);i(i.S+i.F,"Object",{assign:n(238)})},function(e,t,n){"use strict";var i=n(47),r=n(83),o=n(50),s=n(68),a=n(121),l=Object.assign;e.exports=!l||n(46)(function(){var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach(function(e){t[e]=e}),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=i})?function(e,t){for(var n=s(e),l=arguments.length,u=1,c=r.f,p=o.f;l>u;)for(var f,d=a(arguments[u++]),h=c?i(d).concat(c(d)):i(d),m=h.length,g=0;m>g;)p.call(d,f=h[g++])&&(n[f]=d[f]);return n}:l},function(e,t,n){var i=n(33),r=n(109),o=n(240);e.exports=function(e){return function(t,n,s){var a,l=i(t),u=r(l.length),c=o(s,u);if(e&&n!=n){for(;u>c;)if((a=l[c++])!=a)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}}},function(e,t,n){var i=n(79),r=Math.max,o=Math.min;e.exports=function(e,t){return(e=i(e))<0?r(e+t,0):o(e,t)}},function(e,t,n){e.exports={default:n(242),__esModule:!0}},function(e,t,n){n(106),n(191),e.exports=n(85).f("iterator")},function(e,t,n){var i=n(79),r=n(78);e.exports=function(e){return function(t,n){var o,s,a=String(r(t)),l=i(n),u=a.length;return l<0||l>=u?e?"":void 0:(o=a.charCodeAt(l))<55296||o>56319||l+1===u||(s=a.charCodeAt(l+1))<56320||s>57343?e?a.charAt(l):o:e?a.slice(l,l+2):s-56320+(o-55296<<10)+65536}}},function(e,t,n){"use strict";var i=n(84),r=n(49),o=n(70),s={};n(37)(s,n(19)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=i(s,{next:r(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var i=n(29),r=n(31),o=n(47);e.exports=n(36)?Object.defineProperties:function(e,t){r(e);for(var n,s=o(t),a=s.length,l=0;a>l;)i.f(e,n=s[l++],t[n]);return e}},function(e,t,n){"use strict";var i=n(247),r=n(248),o=n(51),s=n(33);e.exports=n(122)(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,r(1)):r(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){e.exports={default:n(250),__esModule:!0}},function(e,t,n){n(251),n(212),n(256),n(257),e.exports=n(16).Symbol},function(e,t,n){"use strict";var i=n(24),r=n(32),o=n(36),s=n(22),a=n(123),l=n(252).KEY,u=n(46),c=n(81),p=n(70),f=n(58),d=n(19),h=n(85),m=n(86),g=n(253),b=n(254),y=n(31),v=n(35),_=n(33),x=n(77),w=n(49),k=n(84),S=n(255),C=n(125),E=n(29),T=n(47),A=C.f,N=E.f,M=S.f,R=i.Symbol,O=i.JSON,L=O&&O.stringify,P=d("_hidden"),D=d("toPrimitive"),I={}.propertyIsEnumerable,F=c("symbol-registry"),$=c("symbols"),j=c("op-symbols"),B=Object.prototype,z="function"==typeof R,q=i.QObject,H=!q||!q.prototype||!q.prototype.findChild,U=o&&u(function(){return 7!=k(N({},"a",{get:function(){return N(this,"a",{value:7}).a}})).a})?function(e,t,n){var i=A(B,t);i&&delete B[t],N(e,t,n),i&&e!==B&&N(B,t,i)}:N,W=function(e){var t=$[e]=k(R.prototype);return t._k=e,t},V=z&&"symbol"==typeof R.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof R},G=function(e,t,n){return e===B&&G(j,t,n),y(e),t=x(t,!0),y(n),r($,t)?(n.enumerable?(r(e,P)&&e[P][t]&&(e[P][t]=!1),n=k(n,{enumerable:w(0,!1)})):(r(e,P)||N(e,P,w(1,{})),e[P][t]=!0),U(e,t,n)):N(e,t,n)},K=function(e,t){y(e);for(var n,i=g(t=_(t)),r=0,o=i.length;o>r;)G(e,n=i[r++],t[n]);return e},Y=function(e){var t=I.call(this,e=x(e,!0));return!(this===B&&r($,e)&&!r(j,e))&&(!(t||!r(this,e)||!r($,e)||r(this,P)&&this[P][e])||t)},X=function(e,t){if(e=_(e),t=x(t,!0),e!==B||!r($,t)||r(j,t)){var n=A(e,t);return!n||!r($,t)||r(e,P)&&e[P][t]||(n.enumerable=!0),n}},Q=function(e){for(var t,n=M(_(e)),i=[],o=0;n.length>o;)r($,t=n[o++])||t==P||t==l||i.push(t);return i},Z=function(e){for(var t,n=e===B,i=M(n?j:_(e)),o=[],s=0;i.length>s;)!r($,t=i[s++])||n&&!r(B,t)||o.push($[t]);return o};z||(a((R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(n){this===B&&t.call(j,n),r(this,P)&&r(this[P],e)&&(this[P][e]=!1),U(this,e,w(1,n))};return o&&H&&U(B,e,{configurable:!0,set:t}),W(e)}).prototype,"toString",function(){return this._k}),C.f=X,E.f=G,n(124).f=S.f=Q,n(50).f=Y,n(83).f=Z,o&&!n(69)&&a(B,"propertyIsEnumerable",Y,!0),h.f=function(e){return W(d(e))}),s(s.G+s.W+s.F*!z,{Symbol:R});for(var J="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;J.length>ee;)d(J[ee++]);for(var te=T(d.store),ne=0;te.length>ne;)m(te[ne++]);s(s.S+s.F*!z,"Symbol",{for:function(e){return r(F,e+="")?F[e]:F[e]=R(e)},keyFor:function(e){if(!V(e))throw TypeError(e+" is not a symbol!");for(var t in F)if(F[t]===e)return t},useSetter:function(){H=!0},useSimple:function(){H=!1}}),s(s.S+s.F*!z,"Object",{create:function(e,t){return void 0===t?k(e):K(k(e),t)},defineProperty:G,defineProperties:K,getOwnPropertyDescriptor:X,getOwnPropertyNames:Q,getOwnPropertySymbols:Z}),O&&s(s.S+s.F*(!z||u(function(){var e=R();return"[null]"!=L([e])||"{}"!=L({a:e})||"{}"!=L(Object(e))})),"JSON",{stringify:function(e){for(var t,n,i=[e],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=t=i[1],(v(t)||void 0!==e)&&!V(e))return b(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!V(t))return t}),i[1]=t,L.apply(O,i)}}),R.prototype[D]||n(37)(R.prototype,D,R.prototype.valueOf),p(R,"Symbol"),p(Math,"Math",!0),p(i.JSON,"JSON",!0)},function(e,t,n){var i=n(58)("meta"),r=n(35),o=n(32),s=n(29).f,a=0,l=Object.isExtensible||function(){return!0},u=!n(46)(function(){return l(Object.preventExtensions({}))}),c=function(e){s(e,i,{value:{i:"O"+ ++a,w:{}}})},p=e.exports={KEY:i,NEED:!1,fastKey:function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,i)){if(!l(e))return"F";if(!t)return"E";c(e)}return e[i].i},getWeak:function(e,t){if(!o(e,i)){if(!l(e))return!0;if(!t)return!1;c(e)}return e[i].w},onFreeze:function(e){return u&&p.NEED&&l(e)&&!o(e,i)&&c(e),e}}},function(e,t,n){var i=n(47),r=n(83),o=n(50);e.exports=function(e){var t=i(e),n=r.f;if(n)for(var s,a=n(e),l=o.f,u=0;a.length>u;)l.call(e,s=a[u++])&&t.push(s);return t}},function(e,t,n){var i=n(67);e.exports=Array.isArray||function(e){return"Array"==i(e)}},function(e,t,n){var i=n(33),r=n(124).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"[object Window]"==o.call(e)?function(e){try{return r(e)}catch(e){return s.slice()}}(e):r(i(e))}},function(e,t,n){n(86)("asyncIterator")},function(e,t,n){n(86)("observable")},function(e,t,n){e.exports={default:n(259),__esModule:!0}},function(e,t,n){n(260),e.exports=n(16).Object.setPrototypeOf},function(e,t,n){var i=n(22);i(i.S,"Object",{setPrototypeOf:n(261).set})},function(e,t,n){var i=n(35),r=n(31),o=function(e,t){if(r(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,i){try{(i=n(66)(Function.call,n(125).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:i(e,n),e}}({},!1):void 0),check:o}},function(e,t,n){e.exports={default:n(263),__esModule:!0}},function(e,t,n){n(264);var i=n(16).Object;e.exports=function(e,t){return i.create(e,t)}},function(e,t,n){var i=n(22);i(i.S,"Object",{create:n(84)})},function(e,t,n){n(266),e.exports=n(16).Object.entries},function(e,t,n){var i=n(22),r=n(126)(!0);i(i.S,"Object",{entries:function(e){return r(e)}})},function(e,t,n){n(268),e.exports=n(16).Object.values},function(e,t,n){var i=n(22),r=n(126)(!1);i(i.S,"Object",{values:function(e){return r(e)}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.replace(i,function(e,t){return t.toUpperCase()})};var i=/-(.)/g;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,o.default)(e).replace(s,"-ms-")};var i,r=n(271),o=(i=r)&&i.__esModule?i:{default:i};var s=/^ms-/;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.replace(i,"-$1").toLowerCase()};var i=/([A-Z])/g;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)throw new TypeError("No Element passed to `getComputedStyle()`");var t=e.ownerDocument;return"defaultView"in t?t.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):window.getComputedStyle(e,null):{getPropertyValue:function(t){var n=e.style;"float"==(t=(0,o.default)(t))&&(t="styleFloat");var i=e.currentStyle[t]||null;if(null==i&&n&&n[t]&&(i=n[t]),a.test(i)&&!s.test(t)){var r=n.left,l=e.runtimeStyle,u=l&&l.left;u&&(l.left=e.currentStyle.left),n.left="fontSize"===t?"1em":i,i=n.pixelLeft+"px",n.left=r,u&&(l.left=u)}return i}}};var i,r=n(127),o=(i=r)&&i.__esModule?i:{default:i};var s=/^(top|right|bottom|left)$/,a=/^([+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|))(?!px)[a-z%]+$/i;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return"removeProperty"in e.style?e.style.removeProperty(t):e.style.removeAttribute(t)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return!(!e||!i.test(e))};var i=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.default=function(e,t){return function n(a,l){var u,c;var p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];var f,d=a.displayName||a.name||"Component",h=s.getType(a).propTypes,m=s.isReactComponent(a),g=Object.keys(l);var b=["valueLink","checkedLink"].concat(g.map(s.defaultKey));f=s.uncontrolledPropTypes(l,h,d);(0,o.default)(m||!p.length,"[uncontrollable] stateless function components cannot pass through methods because they have no associated instances. Check component: "+d+", attempting to pass through methods: "+p.join(", "));p=s.transform(p,function(e,t){e[t]=function(){var e;return(e=this.refs.inner)[t].apply(e,arguments)}},{});var y=(c=u=function(n){function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,n.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,n),o.prototype.shouldComponentUpdate=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return!e.shouldComponentUpdate||e.shouldComponentUpdate.apply(this,n)},o.prototype.componentWillMount=function(){var e=this,t=this.props;this._values={},g.forEach(function(n){e._values[n]=t[s.defaultKey(n)]})},o.prototype.componentWillReceiveProps=function(t){var n=this,i=this.props;e.componentWillReceiveProps&&e.componentWillReceiveProps.call(this,t),g.forEach(function(e){void 0===s.getValue(t,e)&&void 0!==s.getValue(i,e)&&(n._values[e]=t[s.defaultKey(e)])})},o.prototype.componentWillUnmount=function(){this.unmounted=!0},o.prototype.getControlledInstance=function(){return this.refs.inner},o.prototype.render=function(){var e=this,n={},o=function(e){var t={};return s.each(e,function(e,n){-1===b.indexOf(n)&&(t[n]=e)}),t}(this.props);return s.each(l,function(i,r){var o=s.getLinkName(r),a=e.props[r];o&&!v(e.props,r)&&v(e.props,o)&&(a=e.props[o].value),n[r]=void 0!==a?a:e._values[r],n[i]=function(e,n){var i=s.getLinkName(e),r=this.props[l[e]];i&&v(this.props,i)&&!r&&(r=this.props[i].requestChange);for(var o=arguments.length,a=Array(o>2?o-2:0),u=2;u<o;u++)a[u-2]=arguments[u];t(this,e,r,n,a)}.bind(e,r)}),n=i({},o,n,{ref:m?"inner":null}),r.default.createElement(a,n)},o}(r.default.Component),u.displayName="Uncontrolled("+d+")",u.propTypes=f,c);i(y.prototype,p);y.ControlledComponent=a;y.deferControlTo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments[2];return n(e,i({},l,t),r)};return y;function v(e,t){return void 0!==e[t]}}};var r=a(n(1)),o=a(n(39)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(276));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.version=void 0,t.uncontrolledPropTypes=function(e,t,n){0;return{}},t.getType=function(e){return o[0]>=15||0===o[0]&&o[1]>=13?e:e.type},t.getValue=function(e,t){var n=a(t);return n&&!s(e,t)&&s(e,n)?e[n].value:e[t]},t.getLinkName=a,t.defaultKey=l,t.chain=function(e,t,n){return function(){for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];t&&t.call.apply(t,[e].concat(r)),n&&n.call.apply(n,[e].concat(r))}},t.transform=function(e,t,n){return u(e,t.bind(null,n=n||(Array.isArray(e)?[]:{}))),n},t.each=u,t.has=c,t.isReactComponent=function(e){return!!(e&&e.prototype&&e.prototype.isReactComponent)};var i=r(n(1));r(n(39));function r(e){return e&&e.__esModule?e:{default:e}}var o=t.version=i.default.version.split(".").map(parseFloat);function s(e,t){return void 0!==e[t]}function a(e){return"value"===e?"valueLink":"checked"===e?"checkedLink":null}function l(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function u(e,t,n){if(Array.isArray(e))return e.forEach(t,n);for(var i in e)c(e,i)&&t.call(n,e[i],i,e)}function c(e,t){return!!e&&Object.prototype.hasOwnProperty.call(e,t)}},function(e,t,n){n(106),n(278),e.exports=n(16).Array.from},function(e,t,n){"use strict";var i=n(66),r=n(22),o=n(68),s=n(213),a=n(214),l=n(109),u=n(279),c=n(192);r(r.S+r.F*!n(216)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,r,p,f=o(e),d="function"==typeof this?this:Array,h=arguments.length,m=h>1?arguments[1]:void 0,g=void 0!==m,b=0,y=c(f);if(g&&(m=i(m,h>2?arguments[2]:void 0,2)),null==y||d==Array&&a(y))for(n=new d(t=l(f.length));t>b;b++)u(n,b,g?m(f[b],b):f[b]);else for(p=y.call(f),n=new d;!(r=p.next()).done;b++)u(n,b,g?s(p,m,[r.value,b],!0):r.value);return n.length=b,n}})},function(e,t,n){"use strict";var i=n(29),r=n(49);e.exports=function(e,t,n){t in e?i.f(e,t,r(0,n)):e[t]=n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return function(n){var o=n.currentTarget,s=n.target,a=(0,r.default)(o,e);a.some(function(e){return(0,i.default)(e,s)})&&t.call(this,n)}};var i=o(n(26)),r=o(n(281));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n,o="#"===t[0],s="."===t[0],a=o||s?t.slice(1):t;if(i.test(a))return o?(e=e.getElementById?e:document,(n=e.getElementById(a))?[n]:[]):e.getElementsByClassName&&s?r(e.getElementsByClassName(a)):r(e.getElementsByTagName(t));return r(e.querySelectorAll(t))};var i=/^[\w-]*$/,r=Function.prototype.bind.call(Function.prototype.call,[].slice);e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(25)),r=s(n(59)),o=s(n(87));function s(e){return e&&e.__esModule?e:{default:e}}var a=function(){};i.default&&(a=function(e,t,n,i){return(0,r.default)(e,t,n,i),function(){(0,o.default)(e,t,n,i)}}),t.default=a,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i,r=n(17),o=(i=r)&&i.__esModule?i:{default:i};var s={};function a(e,t){return function(n,i,r,a,l){var u=r||"<<anonymous>>",c=l||i;if(null!=n[i]){var p=r+"."+i;(0,o.default)(s[p],"The "+a+" `"+c+"` of `"+u+"` is deprecated. "+t+"."),s[p]=!0}for(var f=arguments.length,d=Array(f>5?f-5:0),h=5;h<f;h++)d[h-5]=arguments[h];return e.apply(void 0,[n,i,r,a,l].concat(d))}}a._resetWarned=function(){s={}},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var i=l(n(285)),r=l(n(41)),o=l(n(65)),s=l(n(94)),a=n(288);function l(e){return e&&e.__esModule?e:{default:e}}t.default=function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=n.hideSiblingNodes,u=void 0===l||l,c=n.handleContainerOverflow,p=void 0===c||c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.add=function(e,n,l){var u=t.modals.indexOf(e),c=t.containers.indexOf(n);if(-1!==u)return u;if(u=t.modals.length,t.modals.push(e),t.hideSiblingNodes&&(0,a.hideSiblings)(n,e.mountNode),-1!==c)return t.data[c].modals.push(e),u;var p={modals:[e],classes:l?l.split(/\s+/):[],overflowing:(0,s.default)(n)};return t.handleContainerOverflow&&function(e,t){var n={overflow:"hidden"};e.style={overflow:t.style.overflow,paddingRight:t.style.paddingRight},e.overflowing&&(n.paddingRight=parseInt((0,r.default)(t,"paddingRight")||0,10)+(0,o.default)()+"px"),(0,r.default)(t,n)}(p,n),p.classes.forEach(i.default.addClass.bind(null,n)),t.containers.push(n),t.data.push(p),u},this.remove=function(e){var n=t.modals.indexOf(e);if(-1!==n){var r=function(e,t){return n=function(e){return-1!==e.modals.indexOf(t)},i=-1,e.some(function(e,t){if(n(e,t))return i=t,!0}),i;var n,i}(t.data,e),o=t.data[r],s=t.containers[r];o.modals.splice(o.modals.indexOf(e),1),t.modals.splice(n,1),0===o.modals.length?(o.classes.forEach(i.default.removeClass.bind(null,s)),t.handleContainerOverflow&&function(e,t){var n=e.style;Object.keys(n).forEach(function(e){return t.style[e]=n[e]})}(o,s),t.hideSiblingNodes&&(0,a.showSiblings)(s,e.mountNode),t.containers.splice(r,1),t.data.splice(r,1)):t.hideSiblingNodes&&(0,a.ariaHidden)(!1,o.modals[o.modals.length-1].mountNode)}},this.isTopModal=function(e){return!!t.modals.length&&t.modals[t.modals.length-1]===e},this.hideSiblingNodes=u,this.handleContainerOverflow=p,this.modals=[],this.containers=[],this.data=[]},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasClass=t.removeClass=t.addClass=void 0;var i=s(n(286)),r=s(n(287)),o=s(n(130));function s(e){return e&&e.__esModule?e:{default:e}}t.addClass=i.default,t.removeClass=r.default,t.hasClass=o.default,t.default={addClass:i.default,removeClass:r.default,hasClass:o.default}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.classList?e.classList.add(t):(0,o.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var i,r=n(130),o=(i=r)&&i.__esModule?i:{default:i};e.exports=t.default},function(e,t,n){"use strict";function i(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=i(e.className,t):e.setAttribute("class",i(e.className&&e.className.baseVal||"",t))}},function(e,t,n){"use strict";t.__esModule=!0,t.ariaHidden=o,t.hideSiblings=function(e,t){r(e,t,function(e){return o(!0,e)})},t.showSiblings=function(e,t){r(e,t,function(e){return o(!1,e)})};var i=["template","script","style"],r=function(e,t,n){t=[].concat(t),[].forEach.call(e.children,function(e){var r,o,s;-1===t.indexOf(e)&&(o=(r=e).nodeType,s=r.tagName,1===o&&-1===i.indexOf(s.toLowerCase()))&&n(e)})};function o(e,t){t&&(e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))}},function(e,t,n){"use strict";t.__esModule=!0;var i=u(n(0)),r=u(n(60)),o=u(n(1)),s=u(n(10)),a=u(n(62)),l=u(n(38));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,u=Array(r),p=0;p<r;p++)u[p]=arguments[p];return n=i=c(this,e.call.apply(e,[this].concat(u))),i._mountOverlayTarget=function(){i._overlayTarget||(i._overlayTarget=document.createElement("div"),i._portalContainerNode=(0,a.default)(i.props.container,(0,l.default)(i).body),i._portalContainerNode.appendChild(i._overlayTarget))},i._unmountOverlayTarget=function(){i._overlayTarget&&(i._portalContainerNode.removeChild(i._overlayTarget),i._overlayTarget=null),i._portalContainerNode=null},i._renderOverlay=function(){var e=i.props.children?o.default.Children.only(i.props.children):null;if(null!==e){i._mountOverlayTarget();var t=!i._overlayInstance;i._overlayInstance=s.default.unstable_renderSubtreeIntoContainer(i,e,i._overlayTarget,function(){t&&i.props.onRendered&&i.props.onRendered()})}else i._unrenderOverlay(),i._unmountOverlayTarget()},i._unrenderOverlay=function(){i._overlayTarget&&(s.default.unmountComponentAtNode(i._overlayTarget),i._overlayInstance=null)},i.getMountNode=function(){return i._overlayTarget},c(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this._isMounted=!0,this._renderOverlay()},t.prototype.componentDidUpdate=function(){this._renderOverlay()},t.prototype.componentWillReceiveProps=function(e){this._overlayTarget&&e.container!==this.props.container&&(this._portalContainerNode.removeChild(this._overlayTarget),this._portalContainerNode=(0,a.default)(e.container,(0,l.default)(this).body),this._portalContainerNode.appendChild(this._overlayTarget))},t.prototype.componentWillUnmount=function(){this._isMounted=!1,this._unrenderOverlay(),this._unmountOverlayTarget()},t.prototype.render=function(){return null},t}(o.default.Component);p.displayName="Portal",p.propTypes={container:i.default.oneOfType([r.default,i.default.func]),onRendered:i.default.func},t.default=p,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var i=o(n(0)),r=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}var s={children:i.default.node},a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return this.props.children},t}(r.default.Component);a.propTypes=s,t.default=a,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=!document.addEventListener,n=void 0;t?(document.attachEvent("onfocusin",e),n=function(){return document.detachEvent("onfocusin",e)}):(document.addEventListener("focus",e,!0),n=function(){return document.removeEventListener("focus",e,!0)});return{remove:n}},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=d(n(6)),o=d(n(0)),s=d(n(60)),a=n(1),l=d(a),u=d(n(10)),c=d(n(293)),p=d(n(62)),f=d(n(38));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}var m=function(e){function t(n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,i));return r.getTarget=function(){var e=r.props.target,t="function"==typeof e?e():e;return t&&u.default.findDOMNode(t)||null},r.maybeUpdatePosition=function(e){var t=r.getTarget();(r.props.shouldUpdatePosition||t!==r._lastTarget||e)&&r.updatePosition(t)},r.state={positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null},r._needsFlush=!1,r._lastTarget=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.updatePosition(this.getTarget())},t.prototype.componentWillReceiveProps=function(){this._needsFlush=!0},t.prototype.componentDidUpdate=function(e){this._needsFlush&&(this._needsFlush=!1,this.maybeUpdatePosition(this.props.placement!==e.placement))},t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,o=h(e,["children","className"]),s=this.state,u=s.positionLeft,c=s.positionTop,p=h(s,["positionLeft","positionTop"]);delete o.target,delete o.container,delete o.containerPadding,delete o.shouldUpdatePosition;var f=l.default.Children.only(t);return(0,a.cloneElement)(f,i({},o,p,{positionLeft:u,positionTop:c,className:(0,r.default)(n,f.props.className),style:i({},f.props.style,{left:u,top:c})}))},t.prototype.updatePosition=function(e){if(this._lastTarget=e,e){var t=u.default.findDOMNode(this),n=(0,p.default)(this.props.container,(0,f.default)(this).body);this.setState((0,c.default)(this.props.placement,t,e,n,this.props.containerPadding))}else this.setState({positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null})},t}(l.default.Component);m.propTypes={target:o.default.oneOfType([s.default,o.default.func]),container:o.default.oneOfType([s.default,o.default.func]),containerPadding:o.default.number,placement:o.default.oneOf(["top","right","bottom","left"]),shouldUpdatePosition:o.default.bool},m.displayName="Position",m.defaultProps={containerPadding:0,placement:"right",shouldUpdatePosition:!1},t.default=m,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n,o,s){var a="BODY"===o.tagName?(0,i.default)(n):(0,r.default)(n,o),u=(0,i.default)(t),c=u.height,p=u.width,f=void 0,d=void 0,h=void 0,m=void 0;if("left"===e||"right"===e){d=a.top+(a.height-c)/2,f="left"===e?a.left-p:a.left+a.width;var g=function(e,t,n,i){var r=l(n),o=r.scroll,s=r.height,a=e-i-o,u=e+i-o+t;return a<0?-a:u>s?s-u:0}(d,c,o,s);d+=g,m=50*(1-2*g/c)+"%",h=void 0}else{if("top"!==e&&"bottom"!==e)throw new Error('calcOverlayPosition(): No such placement of "'+e+'" found.');f=a.left+(a.width-p)/2,d="top"===e?a.top-c:a.top+a.height;var b=function(e,t,n,i){var r=l(n).width,o=e-i,s=e+i+t;if(o<0)return-o;if(s>r)return r-s;return 0}(f,p,o,s);f+=b,h=50*(1-2*b/p)+"%",m=void 0}return{positionLeft:f,positionTop:d,arrowOffsetLeft:h,arrowOffsetTop:m}};var i=a(n(132)),r=a(n(294)),o=a(n(133)),s=a(n(38));function a(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=void 0,n=void 0,r=void 0;if("BODY"===e.tagName)t=window.innerWidth,n=window.innerHeight,r=(0,o.default)((0,s.default)(e).documentElement)||(0,o.default)(e);else{var a=(0,i.default)(e);t=a.width,n=a.height,r=(0,o.default)(e)}return{width:t,height:n,scroll:r}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.default=function(e,t){var n,u={top:0,left:0};"fixed"===(0,l.default)(e,"position")?n=e.getBoundingClientRect():(t=t||(0,o.default)(e),n=(0,r.default)(e),"html"!==function(e){return e.nodeName&&e.nodeName.toLowerCase()}(t)&&(u=(0,r.default)(t)),u.top+=parseInt((0,l.default)(t,"borderTopWidth"),10)-(0,s.default)(t)||0,u.left+=parseInt((0,l.default)(t,"borderLeftWidth"),10)-(0,a.default)(t)||0);return i({},n,{top:n.top-u.top-(parseInt((0,l.default)(e,"marginTop"),10)||0),left:n.left-u.left-(parseInt((0,l.default)(e,"marginLeft"),10)||0)})};var r=u(n(132)),o=u(n(295)),s=u(n(133)),a=u(n(296)),l=u(n(41));function u(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,i.default)(e),n=e&&e.offsetParent;for(;n&&"html"!==s(e)&&"static"===(0,r.default)(n,"position");)n=n.offsetParent;return n||t.documentElement};var i=o(n(34)),r=o(n(41));function o(e){return e&&e.__esModule?e:{default:e}}function s(e){return e.nodeName&&e.nodeName.toLowerCase()}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,o.default)(e);if(void 0===t)return n?"pageXOffset"in n?n.pageXOffset:n.document.documentElement.scrollLeft:e.scrollLeft;n?n.scrollTo(t,"pageYOffset"in n?n.pageYOffset:n.document.documentElement.scrollTop):e.scrollLeft=t};var i,r=n(61),o=(i=r)&&i.__esModule?i:{default:i};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(1),s=f(o),a=f(n(6)),l=f(n(0)),u=f(n(298)),c=f(n(299)),p=n(300);function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n.handleTouchStart=n.handleTouchStart.bind(n),n.handleTouchMove=n.handleTouchMove.bind(n),n.handleTouchEnd=n.handleTouchEnd.bind(n),n.handleFocus=n.handleFocus.bind(n),n.handleBlur=n.handleBlur.bind(n),n.previouslyChecked=!(!e.checked&&!e.defaultChecked),n.state={checked:!(!e.checked&&!e.defaultChecked),hasFocus:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"componentWillReceiveProps",value:function(e){"checked"in e&&this.setState({checked:!!e.checked})}},{key:"handleClick",value:function(e){var t=this.input;if(e.target!==t&&!this.moved)return this.previouslyChecked=t.checked,e.preventDefault(),t.focus(),void t.click();var n=this.props.hasOwnProperty("checked")?this.props.checked:t.checked;this.setState({checked:n})}},{key:"handleTouchStart",value:function(e){this.startX=(0,p.pointerCoord)(e).x,this.activated=!0}},{key:"handleTouchMove",value:function(e){if(this.activated&&(this.moved=!0,this.startX)){var t=(0,p.pointerCoord)(e).x;this.state.checked&&t+15<this.startX?(this.setState({checked:!1}),this.startX=t,this.activated=!0):t-15>this.startX&&(this.setState({checked:!0}),this.startX=t,this.activated=t<this.startX+5)}}},{key:"handleTouchEnd",value:function(e){if(this.moved){var t=this.input;if(e.preventDefault(),this.startX){var n=(0,p.pointerCoord)(e).x;!0===this.previouslyChecked&&this.startX+4>n?this.previouslyChecked!==this.state.checked&&(this.setState({checked:!1}),this.previouslyChecked=this.state.checked,t.click()):this.startX-4<n&&this.previouslyChecked!==this.state.checked&&(this.setState({checked:!0}),this.previouslyChecked=this.state.checked,t.click()),this.activated=!1,this.startX=null,this.moved=!1}}}},{key:"handleFocus",value:function(e){var t=this.props.onFocus;t&&t(e),this.setState({hasFocus:!0})}},{key:"handleBlur",value:function(e){var t=this.props.onBlur;t&&t(e),this.setState({hasFocus:!1})}},{key:"getIcon",value:function(e){var n=this.props.icons;return n?void 0===n[e]?t.defaultProps.icons[e]:n[e]:null}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=(t.icons,function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(t,["className","icons"])),o=(0,a.default)("react-toggle",{"react-toggle--checked":this.state.checked,"react-toggle--focus":this.state.hasFocus,"react-toggle--disabled":this.props.disabled},n);return s.default.createElement("div",{className:o,onClick:this.handleClick,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd},s.default.createElement("div",{className:"react-toggle-track"},s.default.createElement("div",{className:"react-toggle-track-check"},this.getIcon("checked")),s.default.createElement("div",{className:"react-toggle-track-x"},this.getIcon("unchecked"))),s.default.createElement("div",{className:"react-toggle-thumb"}),s.default.createElement("input",i({},r,{ref:function(t){e.input=t},onFocus:this.handleFocus,onBlur:this.handleBlur,className:"react-toggle-screenreader-only",type:"checkbox"})))}}]),t}();t.default=d,d.displayName="Toggle",d.defaultProps={icons:{checked:s.default.createElement(u.default,null),unchecked:s.default.createElement(c.default,null)}},d.propTypes={checked:l.default.bool,disabled:l.default.bool,defaultChecked:l.default.bool,onChange:l.default.func,onFocus:l.default.func,onBlur:l.default.func,className:l.default.string,name:l.default.string,value:l.default.string,id:l.default.string,"aria-labelledby":l.default.string,"aria-label":l.default.string,icons:l.default.oneOfType([l.default.bool,l.default.shape({checked:l.default.node,unchecked:l.default.node})])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(1),o=(i=r)&&i.__esModule?i:{default:i};t.default=function(){return o.default.createElement("svg",{width:"14",height:"11",viewBox:"0 0 14 11"},o.default.createElement("title",null,"switch-check"),o.default.createElement("path",{d:"M11.264 0L5.26 6.004 2.103 2.847 0 4.95l5.26 5.26 8.108-8.107L11.264 0",fill:"#fff",fillRule:"evenodd"}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(1),o=(i=r)&&i.__esModule?i:{default:i};t.default=function(){return o.default.createElement("svg",{width:"10",height:"10",viewBox:"0 0 10 10"},o.default.createElement("title",null,"switch-x"),o.default.createElement("path",{d:"M9.9 2.12L7.78 0 4.95 2.828 2.12 0 0 2.12l2.83 2.83L0 7.776 2.123 9.9 4.95 7.07 7.78 9.9 9.9 7.776 7.072 4.95 9.9 2.12",fill:"#fff",fillRule:"evenodd"}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pointerCoord=function(e){if(e){var t=e.changedTouches;if(t&&t.length>0){var n=t[0];return{x:n.clientX,y:n.clientY}}var i=e.pageX;if(void 0!==i)return{x:i,y:e.pageY}}return{x:0,y:0}}},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h;i=n(23),p=n(302),f=n(217),h=n(303),c=n(134),o=n(304),r=n(305),s=n(193),a=n(1),l=n(104),({div:u,span:d}=l),e.exports={ItemMixin:{createItem:function(e,t,n){return n?e.unshift(t):e.push(t),e},updateItem:function(e,t,n){var i;return-1===(i=this.index(e,t))?e:h(e,{$splice:[[i,1,n]]})},deleteItem:function(e,t){var n;return-1===(n=this.index(e,t))?e:h(e,{$splice:[[n,1]]})},index:function(e,t,n){return _.findIndex(e,function(e){return e.id===t.id})}},ViewMixin:{propIcon:function(e){return`toggle-icon ${e?"far fa-check text-green":"far fa-times text-red"}`},markdownElm:function({contents:e,elm:t,key:n,klass:i,onClick:r}){return a.createElement(s,{contents:e||"",elm:t||"div",key:n,rkey:n,klass:i||"",onClick:r})},kbFormatter:function(e,t){var n,i,r;return 0===e?"0 KB":(1024,n=t||0,r=["KB","MB","GB","TB"],i=Math.floor(Math.log(e)/Math.log(1024)),parseFloat((e/1024**i).toFixed(n))+" "+r[i])},toggleFullScreen:function(e){var t;return(t=$('[data-toggle="tooltip"]')).length&&"function"==typeof t.tooltip&&t.tooltip("hide"),f.enabled?f.toggle(e):console.error("Screenful is not enabled, cannot fullscreen element")}},FormMixin:{handleChange:function(e){var t;return(t={})[e.target.name]=e.target.value,this.setState(t)},handleAutosavedChange:function(e,t){var n;return this.handleChange(t),n=t.target.name+"_timer",clearTimeout(window[n]),window[n]=setTimeout(e,1e3)},checkEnterKey:function(e,t){if(13===t.keyCode)return t.preventDefault(),e?e():void 0},onFocus:function(e){return e.target.value=e.target.value},checkSavedItem:function(e,t){var n,i,r;if(13===t.keyCode)return $(t.target).val(""),t.preventDefault(),n={text:this.state[`${e}_prompt`],key:Math.random()},i=this.createItem(this.state[e],n),(r={})[e]=i,r[`${e}_prompt`]="",this.setState(r)},removeItem:function(e,t){var n,i;return n=_(this.state[e]).find(function(e){return e.key===t}),(i={})[e]=_.reject(this.state[e],function(e){return e.key===n.key}),this.setState(i)},toggle:function(e){var t;return(t={})[e]=!this.state[e],this.setState(t)},toggleSetting:function(e,t){var n,r;return(n={})[e]=!(this.state.project||this.state.content)[e],r=this.state.project?this.state.project.content.id:this.state.content.id,this.ajaxPatch(c.contents.update({id:r}),{internal:!0,data:{project:n},success:function(n){if(i.setProperty(e,n.project[e]),"function"==typeof t)return t(n)}})},saveScript:function(e,t,n){var i,r;return(i={})[e]=this.state[e],r=this.state.project?this.state.project.content.id:this.state.content.id,this.ajaxPatch(c.contents.update({id:r}),{internal:!0,data:{project:i},success:function(e){if(t)return t(e)}})}},ContentEditorFormMixin:{toggleForm:function({state:e,item:t,title:n}){var i,r,o,s,a;if(this.setState({form_shown:!this.state.form_shown}),e&&this.setState({form_state:e}),this.setState({active_item:t}),this.formFields().length>0){for(s={},r=0,o=(a=this.formFields()).length;r<o;r++)s[i=a[r]]=t?t[i]:this.getInitialState()[i];return this.setState(s)}},toggleCreateForm:function(e){return this.toggleForm({state:"create",item:null,title:e})},toggleItemForm:function(e,t,n){return this.toggleForm({state:e,item:t,title:n})},closeForm:function(e){return e&&e.preventDefault(),this.toggleForm({})},form:function(){return u(null,function(){switch(this.state.form_state){case"create":return a.createElement(o,{action:this.onCreate,onClose:this.closeForm,fields:this.fields,valid:this.valid,button:"Create"});case"update":return a.createElement(o,{action:this.onUpdate,onClose:this.closeForm,fields:this.fields,valid:this.valid,button:"Update"});case"delete":return a.createElement(r,{onClose:this.closeForm,onDelete:this.onDelete})}}.call(this))}},SearchMixin:{searched:function(e,t,n){var i;return t?(i=new RegExp(t,"ig"),_.filter(e,function(e){var t,r;for(t=0,r=n.length;t<r;t++)if((e[n[t]]||"").match(i))return!0})):e}},StringMixin:{capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},pluralize:function(e){return p(e)},splitString:function(e){var t;return t=function(e,t){var n,i;return[n,i]=e,"\n"===t?[n.concat(i),""]:[n,i+t]},e.split("").reduce(t,[[],""])[0]}},TooltipMixin:{initializeTooltips:function(e,t=!1){var n;if((n=$(`${e}${t?"":" "}[data-toggle='tooltip']`)).length&&"function"==typeof n.tooltip)return n.tooltip({trigger:"hover",delay:{show:500}}),n.on("click",function(){return n.tooltip("hide")})},hideTooltips:function(e,t=!1){var n;if((n=$(`${e}${t?"":" "}[data-toggle='tooltip']`)).length&&"function"==typeof n.tooltip)return n.tooltip("hide")}},ImageMixin:{imgSource:function(e){return window.location.protocol+"//"+window.location.host+"/assets/"+e}},AjaxMixin:{request:function(e,t,n,i,r,o,s,a,l,u,c,p){return c=void 0===c||c,window.authenticity_token&&l&&(n||(n={}),n.authenticity_token=window.authenticity_token),$.ajax({async:c,crossDomain:void 0===l||!l,type:e,url:t,format:u||"JSON",dataType:u||"JSON",data:n,timeout:p||(c?6e4:1e3),success:function(e){if("function"==typeof i&&i(e),o&&s)return $.alert(`Successfuly ${s} ${o}!`,"success")},error:function(n){if("function"!=typeof r){if(o&&a&&$.alert(`Could not ${a} ${o}.`,"danger"),console.error(`Error: ${JSON.stringify(n)} when performing ${e} on ${t}.`),500===n.status&&"undefined"!=typeof Bugsnag)return Bugsnag.notify("AJAXError",`${t} returned 500`)}else{try{n=JSON.parse(n.responseText)}catch(e){n=n.responseText}r(n)}}})},ajaxGet:function(e,{data:t,success:n,error:i,resource:r,action:o,internal:s,type:a,async:l,timeout:u}){return this.request("GET",e,t,n,i,r,o||"loaded",o||"load",s,a,l,u)},ajaxPost:function(e,{data:t,success:n,error:i,resource:r,action:o,internal:s,type:a,async:l,timeout:u}){return this.request("POST",e,t,n,i,r,o||"created",o||"create",s,a,l,u)},ajaxPatch:function(e,{data:t,success:n,error:i,resource:r,action:o,internal:s,type:a,async:l,timeout:u}){return this.request("PATCH",e,t,n,i,r,o||"updated",o||"update",s,a,l,u)},ajaxDelete:function(e,{data:t,success:n,error:i,resource:r,action:o,internal:s,type:a,async:l,timeout:u}){return this.request("DELETE",e,t,n,i,r,o||"deleted",o||"delete",s,a,l,u)}},LockMixin:{initLock:function(e){return window.lock_timeout=setTimeout(this.refreshLock.bind(null,e),12e4)},refreshLock:function(e){return $.ajax({type:"PATCH",url:c.locks.update({id:e}),format:"JSON",success:()=>(clearTimeout(window.lock_timeout),window.lock_timeout=setTimeout(this.refreshLock.bind(null,e),12e4)),error:function(){return console.error("Could not refresh lock!")}})},destroyLock:function(e){$.ajax({async:!1,format:"JSON",type:"DELETE",url:c.locks.destroy({id:e}),success:function(){return clearTimeout(window.lock_timeout)},error:function(){return console.error("Could not delete lock!")}})}}}},function(e,t,n){e.exports=function(){var e=[],t=[],n={},i={},r={};function o(e){return"string"==typeof e?new RegExp("^"+e+"$","i"):e}function s(e,t){return e===t?t:e===e.toUpperCase()?t.toUpperCase():e[0]===e[0].toUpperCase()?t.charAt(0).toUpperCase()+t.substr(1).toLowerCase():t.toLowerCase()}function a(e,t){return e.replace(t[0],function(n,i){var r,o,a=(r=t[1],o=arguments,r.replace(/\$(\d{1,2})/g,function(e,t){return o[t]||""}));return s(""===n?e[i-1]:n,a)})}function l(e,t,i){if(!e.length||n.hasOwnProperty(e))return t;for(var r=i.length;r--;){var o=i[r];if(o[0].test(t))return a(t,o)}return t}function u(e,t,n){return function(i){var r=i.toLowerCase();return t.hasOwnProperty(r)?s(i,r):e.hasOwnProperty(r)?s(i,e[r]):l(r,i,n)}}function c(e,t,n,i){return function(i){var r=i.toLowerCase();return!!t.hasOwnProperty(r)||!e.hasOwnProperty(r)&&l(r,r,n)===r}}function p(e,t,n){var i=1===t?p.singular(e):p.plural(e);return(n?t+" ":"")+i}return p.plural=u(r,i,e),p.isPlural=c(r,i,e),p.singular=u(i,r,t),p.isSingular=c(i,r,t),p.addPluralRule=function(t,n){e.push([o(t),n])},p.addSingularRule=function(e,n){t.push([o(e),n])},p.addUncountableRule=function(e){"string"!=typeof e?(p.addPluralRule(e,"$0"),p.addSingularRule(e,"$0")):n[e.toLowerCase()]=!0},p.addIrregularRule=function(e,t){t=t.toLowerCase(),e=e.toLowerCase(),r[e]=t,i[t]=e},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["whiskey","whiskies"]].forEach(function(e){return p.addIrregularRule(e[0],e[1])}),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|tlas|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[emjzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|octop|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/(m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach(function(e){return p.addPluralRule(e[0],e[1])}),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/(m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|tlas|gas|(?:her|at|gr)o|ris)(?:es)?$/i,"$1"],[/(analy|ba|diagno|parenthe|progno|synop|the|empha|cri)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|octop|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach(function(e){return p.addSingularRule(e[0],e[1])}),["adulthood","advice","agenda","aid","alcohol","ammo","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","flounder","fun","gallows","garbage","graffiti","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","manga","news","pike","plankton","pliers","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","species","staff","swine","tennis","traffic","transporation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(p.addUncountableRule),p}()},function(e,t,n){"use strict";var i=n(48),r=n(105),o={}.hasOwnProperty;var s="$push",a="$unshift",l="$splice",u="$set",c="$merge",p="$apply",f=[s,a,l,u,c,p],d={};function h(e,t,n){r(Array.isArray(e),"update(): expected target of %s to be an array; got %s.",n,e);var i=t[n];r(Array.isArray(i),"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",n,i)}f.forEach(function(e){d[e]=!0}),e.exports=function e(t,n){if(r("object"==typeof n,"update(): You provided a key path to update() that did not contain one of %s. Did you forget to include {%s: ...}?",f.join(", "),u),o.call(n,u))return r(1===Object.keys(n).length,"Cannot have more than one key in an object with %s",u),n[u];var m,g=(m=t,Array.isArray(m)?m.concat():m&&"object"==typeof m?i(new m.constructor,m):m);if(o.call(n,c)){var b=n[c];r(b&&"object"==typeof b,"update(): %s expects a spec of type 'object'; got %s",c,b),r(g&&"object"==typeof g,"update(): %s expects a target of type 'object'; got %s",c,g),i(g,n[c])}for(var y in o.call(n,s)&&(h(t,n,s),n[s].forEach(function(e){g.push(e)})),o.call(n,a)&&(h(t,n,a),n[a].forEach(function(e){g.unshift(e)})),o.call(n,l)&&(r(Array.isArray(t),"Expected %s target to be an array; got %s",l,t),r(Array.isArray(n[l]),"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",l,n[l]),n[l].forEach(function(e){r(Array.isArray(e),"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",l,n[l]),g.splice.apply(g,e)})),o.call(n,p)&&(r("function"==typeof n[p],"update(): expected spec of %s to be a function; got %s.",p,n[p]),g=n[p](g)),n)d.hasOwnProperty(y)&&d[y]||(g[y]=e(t[y],n[y]));return g}},function(e,t){var n,i,r,o,s;({button:i,div:r,form:o,input:s}=ReactDOMFactories),n=reactCreateClass({displayName:"Form",propTypes:{action:PropTypes.func.isRequired,button:PropTypes.string.isRequired,fields:PropTypes.func.isRequired,onClose:PropTypes.func.isRequired,valid:PropTypes.func.isRequired},action:function(e){return e&&e.preventDefault(),this.props.action()},render:function(){return o({onSubmit:this.action},this.props.fields(),r({className:"footer-btns text-right"},i({className:"btn btn-text btn-red bold right-margin-20",onClick:this.props.onClose,type:"button"},"Back"),s({type:"submit",className:"btn btn-action btn-green bold",disabled:!this.props.valid(),value:this.props.button})))}}),e.exports=n},function(e,t){var n,i,r,o;({button:i,div:r,p:o}=ReactDOMFactories),n=reactCreateClass({displayName:"DeleteForm",propTypes:{onClose:PropTypes.func.isRequired,onDelete:PropTypes.func.isRequired},onDelete:function(e){return e&&e.preventDefault(),this.props.onDelete()},render:function(){return r(null,o({className:"bottom-margin-20"},"Click Delete to confirm removal."),r({className:"text-center"},i({className:"btn btn-text btn-gray bold right-margin-20",onClick:this.props.onClose},"Close"),i({className:"btn btn-action btn-red bold",onClick:this.onDelete},"Delete")))}}),e.exports=n},,,function(e,t,n){var i,r,o;o=n(107),r=n(503),n(71),i=n(99),e.exports={onAddTab:function(e){if(!e.tab_type.startsWith("file-")||!this.hidden(e.detail))return e.pane_position||(e.pane_position=1),i.createTab(e),this.persistTabCreation(e)},onSelectTab:function(e){return i.onSelectTab(e),this.persistTabUpdate(e,{active:!0})},closeTab:function(e,t){return t&&t.preventDefault(),t&&t.stopPropagation(),$(".js-tab-tooltip").length&&$(".js-tab-tooltip").tooltip("hide"),i.closeTab(e),this.persistTabDeletion(e)},persistTabUpdate:function(e,t){var n;if(!this.dontPersistTabChange(e))return n=e.persisted_id||e.id,this.ajaxPatch(routes.projects.panes.tabs.update({access_token:this.props.access_token,id:n}),{data:{tab:t}},{})},persistTabCreation:function(e){var t;if(!this.dontPersistTabChange(e))return t=_.find(this.state.panes,function(t){return t.position===e.pane_position}).id,this.ajaxPost(routes.projects.panes.tabs.create({access_token:this.props.access_token,pane_id:t}),{data:{tab:e},success:function(t){return i.setProperty(e,"persisted_id",t.id)}})},persistTabDeletion:function(e){var t;if(!this.dontPersistTabChange(e))return t=e.persisted_id||e.id,this.ajaxDelete(routes.projects.panes.tabs.destroy({access_token:this.props.access_token,id:t}),{})},dontPersistTabChange:function(e){return this.props.reviewing||e.temporary&&!e.persisted_id||this.props.in_content_editor||e.tab_type.startsWith("file-")&&!this.props.editing&&this.state.lite_mode_code_editor},tabDescription:function(e){switch(e){case"terminal":return"Terminal";case"sql-results":return"SQL Viewer";case"web-browser":return"Web Browser";case"python-gui":return"Python GUI";case"full-gui":return"GUI Viewer";case"jupyter-notebook":return"Jupyter Notebook"}},tabIcon:function(e){switch(e){case"terminal":return"far fa-terminal";case"sql-results":return"far fa-database";case"web-browser":return"far fa-globe";case"python-gui":return"far fa-paint-brush";case"full-gui":return"far fa-desktop";case"jupyter-notebook":return"far fa-file-code"}},tabDetail:function(e){switch(e){case"terminal":return"/bin/bash";case"sql-results":return"SQL Viewer";case"web-browser":return"";case"python-gui":return"Python GUI";case"full-gui":return"GUI Viewer";case"jupyter-notebook":return"Jupyter Notebook"}},hidden:function(e){var t,n;return t=o.basename(e),!this.props.editing&&-1!==e.indexOf(".solution")||(!!t.toLowerCase().match("^(codevolve|nt)(-)?(test|build)")||(!(this.props.editing||!this.state.lite_mode_code_editor||o.dirname(e)===this.state.path)||(n=_.map(this.state.hidden_files.split(/\n+/),r),!(this.props.editing||!_.find(n,function(t){return t.test(e)}))||void 0)))},createLabel:function(e){var t;return this.props.editing?`${e} File or Tab`:(t=`${e} `,this.props.file_actions_enabled&&(t+="File"),this.props.file_actions_enabled&&this.state.tabs_enabled.length&&(t+=" or "),this.state.tabs_enabled.length?t+"Tab":void 0)}}},function(e,t,n){var i=n(327),r=n(318),o=n(174),s=n(625),a=i(Object,"keys"),l=a?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&r(e)?s(e):o(e)?a(e):[]}:s;e.exports=l},function(e,t,n){"use strict";n.r(t);var i={};n.r(i),n.d(i,"prefix",function(){return $}),n.d(i,"bsClass",function(){return j}),n.d(i,"bsStyles",function(){return B}),n.d(i,"bsSizes",function(){return z}),n.d(i,"getClassSet",function(){return q}),n.d(i,"splitBsProps",function(){return W}),n.d(i,"splitBsPropsAndOmit",function(){return V}),n.d(i,"addStyle",function(){return G}),n.d(i,"_curry",function(){return K});var r={};n.r(r),n.d(r,"bootstrapUtils",function(){return i}),n.d(r,"createChainedFunction",function(){return Y}),n.d(r,"ValidComponentChildren",function(){return X});var o=n(2),s=n.n(o),a=n(3),l=n.n(a),u=n(4),c=n.n(u),p=n(5),f=n.n(p),d=n(1),h=n.n(d),m=n(52),g=n.n(m),b=n(7),y=n.n(b),v=n(6),_=n.n(v),x=n(0),w=n.n(x),k=n(53),S=n.n(k),C=n(39),E=n.n(C),T="large",A="small",N="xsmall",M={large:"lg",medium:"md",small:"sm",xsmall:"xs",lg:"lg",md:"md",sm:"sm",xs:"xs"},R=["lg","md","sm","xs"],O={SUCCESS:"success",WARNING:"warning",DANGER:"danger",INFO:"info"},L="default",P="primary",D="link",I="inverse";function F(e){return function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return"function"==typeof n[n.length-1]?e.apply(void 0,n):function(t){return e.apply(void 0,n.concat([t]))}}}function $(e,t){return null==e.bsClass&&E()(!1),e.bsClass+(t?"-"+t:"")}var j=F(function(e,t){var n=t.propTypes||(t.propTypes={}),i=t.defaultProps||(t.defaultProps={});return n.bsClass=w.a.string,i.bsClass=e,t}),B=F(function(e,t,n){"string"!=typeof t&&(n=t,t=void 0);var i=n.STYLES||[],r=n.propTypes||{};e.forEach(function(e){-1===i.indexOf(e)&&i.push(e)});var o=w.a.oneOf(i);(n.STYLES=i,o._values=i,n.propTypes=s()({},r,{bsStyle:o}),void 0!==t)&&((n.defaultProps||(n.defaultProps={})).bsStyle=t);return n}),z=F(function(e,t,n){"string"!=typeof t&&(n=t,t=void 0);var i=n.SIZES||[],r=n.propTypes||{};e.forEach(function(e){-1===i.indexOf(e)&&i.push(e)});var o=[];i.forEach(function(e){var t=M[e];t&&t!==e&&o.push(t),o.push(e)});var a=w.a.oneOf(o);return a._values=o,n.SIZES=i,n.propTypes=s()({},r,{bsSize:a}),void 0!==t&&(n.defaultProps||(n.defaultProps={}),n.defaultProps.bsSize=t),n});function q(e){var t,n=((t={})[$(e)]=!0,t);e.bsSize&&(n[$(e,M[e.bsSize]||e.bsSize)]=!0);return e.bsStyle&&(n[$(e,e.bsStyle)]=!0),n}function H(e){return{bsClass:e.bsClass,bsSize:e.bsSize,bsStyle:e.bsStyle,bsRole:e.bsRole}}function U(e){return"bsClass"===e||"bsSize"===e||"bsStyle"===e||"bsRole"===e}function W(e){var t={};return S()(e).forEach(function(e){var n=e[0],i=e[1];U(n)||(t[n]=i)}),[H(e),t]}function V(e,t){var n={};t.forEach(function(e){n[e]=!0});var i={};return S()(e).forEach(function(e){var t=e[0],r=e[1];U(t)||n[t]||(i[t]=r)}),[H(e),i]}function G(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];B(n,e)}var K=F;var Y=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(e){return null!=e}).reduce(function(e,t){if("function"!=typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];e.apply(this,i),t.apply(this,i)}},null)};var X={map:function(e,t,n){var i=0;return h.a.Children.map(e,function(e){return h.a.isValidElement(e)?t.call(n,e,i++):e})},forEach:function(e,t,n){var i=0;h.a.Children.forEach(e,function(e){h.a.isValidElement(e)&&t.call(n,e,i++)})},count:function(e){var t=0;return h.a.Children.forEach(e,function(e){h.a.isValidElement(e)&&++t}),t},find:function(e,t,n){var i=0,r=void 0;return h.a.Children.forEach(e,function(e){r||h.a.isValidElement(e)&&t.call(n,e,i++)&&(r=e)}),r},filter:function(e,t,n){var i=0,r=[];return h.a.Children.forEach(e,function(e){h.a.isValidElement(e)&&t.call(n,e,i++)&&r.push(e)}),r},every:function(e,t,n){var i=0,r=!0;return h.a.Children.forEach(e,function(e){r&&h.a.isValidElement(e)&&(t.call(n,e,i++)||(r=!1))}),r},some:function(e,t,n){var i=0,r=!1;return h.a.Children.forEach(e,function(e){r||h.a.isValidElement(e)&&t.call(n,e,i++)&&(r=!0)}),r},toArray:function(e){var t=[];return h.a.Children.forEach(e,function(e){h.a.isValidElement(e)&&t.push(e)}),t}},Q={accordion:w.a.bool,activeKey:w.a.any,defaultActiveKey:w.a.any,onSelect:w.a.func,role:w.a.string},Z=function(e){function t(n,i){l()(this,t);var r=c()(this,e.call(this,n,i));return r.handleSelect=r.handleSelect.bind(r),r.state={activeKey:n.defaultActiveKey},r}return f()(t,e),t.prototype.handleSelect=function(e,t){t.preventDefault(),this.props.onSelect&&this.props.onSelect(e,t),this.state.activeKey===e&&(e=null),this.setState({activeKey:e})},t.prototype.render=function(){var e=this,t=this.props,n=t.accordion,i=t.activeKey,r=t.className,o=t.children,a=V(y()(t,["accordion","activeKey","className","children"]),["defaultActiveKey","onSelect"]),l=a[0],u=a[1],c=void 0;n&&(c=null!=i?i:this.state.activeKey,u.role=u.role||"tablist");var p=q(l);return h.a.createElement("div",s()({},u,{className:_()(r,p)}),X.map(o,function(t){var i={bsStyle:t.props.bsStyle||l.bsStyle};return n&&g()(i,{headerRole:"tab",panelRole:"tabpanel",collapsible:!0,expanded:t.props.eventKey===c,onSelect:Y(e.handleSelect,t.props.onSelect)}),Object(d.cloneElement)(t,i)}))},t}(h.a.Component);Z.propTypes=Q,Z.defaultProps={accordion:!1};var J=j("panel-group",Z),ee=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){return h.a.createElement(J,s()({},this.props,{accordion:!0}),this.props.children)},t}(h.a.Component),te=n(18),ne=n.n(te),ie={label:w.a.string.isRequired,onClick:w.a.func},re=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.props,t=e.label,n=e.onClick;return h.a.createElement("button",{type:"button",className:"close",onClick:n},h.a.createElement("span",{"aria-hidden":"true"},"×"),h.a.createElement("span",{className:"sr-only"},t))},t}(h.a.Component);re.propTypes=ie,re.defaultProps={label:"Close"};var oe=re,se={onDismiss:w.a.func,closeLabel:w.a.string},ae=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e,t=this.props,n=t.onDismiss,i=t.closeLabel,r=t.className,o=t.children,a=W(y()(t,["onDismiss","closeLabel","className","children"])),l=a[0],u=a[1],c=!!n,p=s()({},q(l),((e={})[$(l,"dismissable")]=c,e));return h.a.createElement("div",s()({},u,{role:"alert",className:_()(r,p)}),c&&h.a.createElement(oe,{onClick:n,label:i}),o)},t}(h.a.Component);ae.propTypes=se,ae.defaultProps={closeLabel:"Close alert"};var le=B(ne()(O),O.INFO,j("alert",ae)),ue={pullRight:w.a.bool},ce=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.hasContent=function(e){var t=!1;return h.a.Children.forEach(e,function(e){t||(e||0===e)&&(t=!0)}),t},t.prototype.render=function(){var e=this.props,t=e.pullRight,n=e.className,i=e.children,r=W(y()(e,["pullRight","className","children"])),o=r[0],a=r[1],l=s()({},q(o),{"pull-right":t,hidden:!this.hasContent(i)});return h.a.createElement("span",s()({},a,{className:_()(n,l)}),i)},t}(h.a.Component);ce.propTypes=ue,ce.defaultProps={pullRight:!1};var pe=j("badge",ce),fe=n(9),de=n.n(fe),he={href:w.a.string,onClick:w.a.func,onKeyDown:w.a.func,disabled:w.a.bool,role:w.a.string,tabIndex:w.a.oneOfType([w.a.number,w.a.string]),componentClass:de.a};function me(e){return!e||"#"===e.trim()}var ge=function(e){function t(n,i){l()(this,t);var r=c()(this,e.call(this,n,i));return r.handleClick=r.handleClick.bind(r),r.handleKeyDown=r.handleKeyDown.bind(r),r}return f()(t,e),t.prototype.handleClick=function(e){var t=this.props,n=t.disabled,i=t.href,r=t.onClick;(n||me(i))&&e.preventDefault(),n?e.stopPropagation():r&&r(e)},t.prototype.handleKeyDown=function(e){" "===e.key&&(e.preventDefault(),this.handleClick(e))},t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.disabled,i=e.onKeyDown,r=y()(e,["componentClass","disabled","onKeyDown"]);return me(r.href)&&(r.role=r.role||"button",r.href=r.href||"#"),n&&(r.tabIndex=-1,r.style=s()({pointerEvents:"none"},r.style)),h.a.createElement(t,s()({},r,{onClick:this.handleClick,onKeyDown:Y(this.handleKeyDown,i)}))},t}(h.a.Component);ge.propTypes=he,ge.defaultProps={componentClass:"a"};var be=ge,ye={active:w.a.bool,href:w.a.string,title:w.a.node,target:w.a.string},ve=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.props,t=e.active,n=e.href,i=e.title,r=e.target,o=e.className,a=y()(e,["active","href","title","target","className"]),l={href:n,title:i,target:r};return h.a.createElement("li",{className:_()(o,{active:t})},t?h.a.createElement("span",a):h.a.createElement(be,s()({},a,l)))},t}(h.a.Component);ve.propTypes=ye,ve.defaultProps={active:!1};var _e=ve,xe=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=W(y()(e,["className"])),i=n[0],r=n[1],o=q(i);return h.a.createElement("ol",s()({},r,{role:"navigation","aria-label":"breadcrumbs",className:_()(t,o)}))},t}(h.a.Component);xe.Item=_e;var we=j("breadcrumb",xe),ke={active:w.a.bool,disabled:w.a.bool,block:w.a.bool,onClick:w.a.func,componentClass:de.a,href:w.a.string,type:w.a.oneOf(["button","reset","submit"])},Se=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.renderAnchor=function(e,t){return h.a.createElement(be,s()({},e,{className:_()(t,e.disabled&&"disabled")}))},t.prototype.renderButton=function(e,t){var n=e.componentClass,i=y()(e,["componentClass"]),r=n||"button";return h.a.createElement(r,s()({},i,{type:i.type||"button",className:t}))},t.prototype.render=function(){var e,t=this.props,n=t.active,i=t.block,r=t.className,o=W(y()(t,["active","block","className"])),a=o[0],l=o[1],u=s()({},q(a),((e={active:n})[$(a,"block")]=i,e)),c=_()(r,u);return l.href?this.renderAnchor(l,c):this.renderButton(l,c)},t}(h.a.Component);Se.propTypes=ke,Se.defaultProps={active:!1,block:!1,disabled:!1};var Ce=j("btn",z([T,A,N],B([].concat(ne()(O),[L,P,D]),L,Se))),Ee=n(27),Te=n.n(Ee),Ae={vertical:w.a.bool,justified:w.a.bool,block:Te()(w.a.bool,function(e){var t=e.block,n=e.vertical;return t&&!n?new Error("`block` requires `vertical` to be set to have any effect"):null})},Ne=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e,t=this.props,n=t.block,i=t.justified,r=t.vertical,o=t.className,a=W(y()(t,["block","justified","vertical","className"])),l=a[0],u=a[1],c=s()({},q(l),((e={})[$(l)]=!r,e[$(l,"vertical")]=r,e[$(l,"justified")]=i,e[$(Ce.defaultProps,"block")]=n,e));return h.a.createElement("div",s()({},u,{className:_()(o,c)}))},t}(h.a.Component);Ne.propTypes=Ae,Ne.defaultProps={block:!1,justified:!1,vertical:!1};var Me=j("btn-group",Ne),Re=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=W(y()(e,["className"])),i=n[0],r=n[1],o=q(i);return h.a.createElement("div",s()({},r,{role:"toolbar",className:_()(t,o)}))},t}(h.a.Component),Oe=j("btn-toolbar",Re),Le={componentClass:de.a},Pe=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,i=W(y()(e,["componentClass","className"])),r=i[0],o=i[1],a=q(r);return h.a.createElement(t,s()({},o,{className:_()(n,a)}))},t}(h.a.Component);Pe.propTypes=Le,Pe.defaultProps={componentClass:"div"};var De=j("carousel-caption",Pe),Ie=n(10),Fe=n.n(Ie),$e=!("undefined"==typeof window||!window.document||!window.document.createElement),je={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},Be=[];$e&&function(){var e=document.createElement("div").style;for(var t in"AnimationEvent"in window||delete je.animationend.animation,"TransitionEvent"in window||delete je.transitionend.transition,je){var n=je[t];for(var i in n)if(i in e){Be.push(n[i]);break}}}();var ze={addEndEventListener:function(e,t){0!==Be.length?Be.forEach(function(n){!function(e,t,n){e.addEventListener(t,n,!1)}(e,n,t)}):window.setTimeout(t,0)},removeEndEventListener:function(e,t){0!==Be.length&&Be.forEach(function(n){!function(e,t,n){e.removeEventListener(t,n,!1)}(e,n,t)})}},qe={direction:w.a.oneOf(["prev","next"]),onAnimateOutEnd:w.a.func,active:w.a.bool,animateIn:w.a.bool,animateOut:w.a.bool,index:w.a.number},He=function(e){function t(n,i){l()(this,t);var r=c()(this,e.call(this,n,i));return r.handleAnimateOutEnd=r.handleAnimateOutEnd.bind(r),r.state={direction:null},r.isUnmounted=!1,r}return f()(t,e),t.prototype.componentWillReceiveProps=function(e){this.props.active!==e.active&&this.setState({direction:null})},t.prototype.componentDidUpdate=function(e){var t=this,n=this.props.active,i=e.active;!n&&i&&ze.addEndEventListener(Fe.a.findDOMNode(this),this.handleAnimateOutEnd),n!==i&&setTimeout(function(){return t.startAnimation()},20)},t.prototype.componentWillUnmount=function(){this.isUnmounted=!0},t.prototype.handleAnimateOutEnd=function(){this.isUnmounted||this.props.onAnimateOutEnd&&this.props.onAnimateOutEnd(this.props.index)},t.prototype.startAnimation=function(){this.isUnmounted||this.setState({direction:"prev"===this.props.direction?"right":"left"})},t.prototype.render=function(){var e=this.props,t=e.direction,n=e.active,i=e.animateIn,r=e.animateOut,o=e.className,a=y()(e,["direction","active","animateIn","animateOut","className"]);delete a.onAnimateOutEnd,delete a.index;var l={item:!0,active:n&&!i||r};return t&&n&&i&&(l[t]=!0),this.state.direction&&(i||r)&&(l[this.state.direction]=!0),h.a.createElement("div",s()({},a,{className:_()(o,l)}))},t}(h.a.Component);He.propTypes=qe,He.defaultProps={active:!1,animateIn:!1,animateOut:!1};var Ue=He,We={glyph:w.a.string.isRequired},Ve=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e,t=this.props,n=t.glyph,i=t.className,r=W(y()(t,["glyph","className"])),o=r[0],a=r[1],l=s()({},q(o),((e={})[$(o,n)]=!0,e));return h.a.createElement("span",s()({},a,{className:_()(i,l)}))},t}(h.a.Component);Ve.propTypes=We;var Ge=j("glyphicon",Ve),Ke={slide:w.a.bool,indicators:w.a.bool,interval:w.a.number,controls:w.a.bool,pauseOnHover:w.a.bool,wrap:w.a.bool,onSelect:w.a.func,onSlideEnd:w.a.func,activeIndex:w.a.number,defaultActiveIndex:w.a.number,direction:w.a.oneOf(["prev","next"]),prevIcon:w.a.node,prevLabel:w.a.string,nextIcon:w.a.node,nextLabel:w.a.string},Ye={slide:!0,interval:5e3,pauseOnHover:!0,wrap:!0,indicators:!0,controls:!0,prevIcon:h.a.createElement(Ge,{glyph:"chevron-left"}),prevLabel:"Previous",nextIcon:h.a.createElement(Ge,{glyph:"chevron-right"}),nextLabel:"Next"},Xe=function(e){function t(n,i){l()(this,t);var r=c()(this,e.call(this,n,i));r.handleMouseOver=r.handleMouseOver.bind(r),r.handleMouseOut=r.handleMouseOut.bind(r),r.handlePrev=r.handlePrev.bind(r),r.handleNext=r.handleNext.bind(r),r.handleItemAnimateOutEnd=r.handleItemAnimateOutEnd.bind(r);var o=n.defaultActiveIndex;return r.state={activeIndex:null!=o?o:0,previousActiveIndex:null,direction:null},r.isUnmounted=!1,r}return f()(t,e),t.prototype.componentDidMount=function(){this.waitForNext()},t.prototype.componentWillReceiveProps=function(e){var t=this.getActiveIndex();null!=e.activeIndex&&e.activeIndex!==t&&(clearTimeout(this.timeout),this.setState({previousActiveIndex:t,direction:null!=e.direction?e.direction:this.getDirection(t,e.activeIndex)})),null==e.activeIndex&&this.state.activeIndex>=e.children.length&&this.setState({activeIndex:0,previousActiveIndex:null,direction:null})},t.prototype.componentWillUnmount=function(){clearTimeout(this.timeout),this.isUnmounted=!0},t.prototype.getActiveIndex=function(){var e=this.props.activeIndex;return null!=e?e:this.state.activeIndex},t.prototype.getDirection=function(e,t){return e===t?null:e>t?"prev":"next"},t.prototype.handleItemAnimateOutEnd=function(){var e=this;this.setState({previousActiveIndex:null,direction:null},function(){e.waitForNext(),e.props.onSlideEnd&&e.props.onSlideEnd()})},t.prototype.handleMouseOut=function(){this.isPaused&&this.play()},t.prototype.handleMouseOver=function(){this.props.pauseOnHover&&this.pause()},t.prototype.handleNext=function(e){var t=this.getActiveIndex()+1;if(t>X.count(this.props.children)-1){if(!this.props.wrap)return;t=0}this.select(t,e,"next")},t.prototype.handlePrev=function(e){var t=this.getActiveIndex()-1;if(t<0){if(!this.props.wrap)return;t=X.count(this.props.children)-1}this.select(t,e,"prev")},t.prototype.pause=function(){this.isPaused=!0,clearTimeout(this.timeout)},t.prototype.play=function(){this.isPaused=!1,this.waitForNext()},t.prototype.select=function(e,t,n){if(clearTimeout(this.timeout),!this.isUnmounted){var i=this.props.slide?this.getActiveIndex():null;n=n||this.getDirection(i,e);var r=this.props.onSelect;if(r&&(r.length>1?(t?(t.persist(),t.direction=n):t={direction:n},r(e,t)):r(e)),null==this.props.activeIndex&&e!==i){if(null!=this.state.previousActiveIndex)return;this.setState({activeIndex:e,previousActiveIndex:i,direction:n})}}},t.prototype.waitForNext=function(){var e=this.props,t=e.slide,n=e.interval,i=e.activeIndex;!this.isPaused&&t&&n&&null==i&&(this.timeout=setTimeout(this.handleNext,n))},t.prototype.renderControls=function(e){var t=e.wrap,n=e.children,i=e.activeIndex,r=e.prevIcon,o=e.nextIcon,s=e.bsProps,a=e.prevLabel,l=e.nextLabel,u=$(s,"control"),c=X.count(n);return[(t||0!==i)&&h.a.createElement(be,{key:"prev",className:_()(u,"left"),onClick:this.handlePrev},r,a&&h.a.createElement("span",{className:"sr-only"},a)),(t||i!==c-1)&&h.a.createElement(be,{key:"next",className:_()(u,"right"),onClick:this.handleNext},o,l&&h.a.createElement("span",{className:"sr-only"},l))]},t.prototype.renderIndicators=function(e,t,n){var i=this,r=[];return X.forEach(e,function(e,n){r.push(h.a.createElement("li",{key:n,className:n===t?"active":null,onClick:function(e){return i.select(n,e)}})," ")}),h.a.createElement("ol",{className:$(n,"indicators")},r)},t.prototype.render=function(){var e=this,t=this.props,n=t.slide,i=t.indicators,r=t.controls,o=t.wrap,a=t.prevIcon,l=t.prevLabel,u=t.nextIcon,c=t.nextLabel,p=t.className,f=t.children,m=y()(t,["slide","indicators","controls","wrap","prevIcon","prevLabel","nextIcon","nextLabel","className","children"]),g=this.state,b=g.previousActiveIndex,v=g.direction,x=V(m,["interval","pauseOnHover","onSelect","onSlideEnd","activeIndex","defaultActiveIndex","direction"]),w=x[0],k=x[1],S=this.getActiveIndex(),C=s()({},q(w),{slide:n});return h.a.createElement("div",s()({},k,{className:_()(p,C),onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut}),i&&this.renderIndicators(f,S,w),h.a.createElement("div",{className:$(w,"inner")},X.map(f,function(t,i){var r=i===S,o=n&&i===b;return Object(d.cloneElement)(t,{active:r,index:i,animateOut:o,animateIn:r&&null!=b&&n,direction:v,onAnimateOutEnd:o?e.handleItemAnimateOutEnd:null})})),r&&this.renderControls({wrap:o,children:f,activeIndex:S,prevIcon:a,prevLabel:l,nextIcon:u,nextLabel:c,bsProps:w}))},t}(h.a.Component);Xe.propTypes=Ke,Xe.defaultProps=Ye,Xe.Caption=De,Xe.Item=Ue;var Qe=j("carousel",Xe),Ze=(n(17),{inline:w.a.bool,disabled:w.a.bool,title:w.a.string,validationState:w.a.oneOf(["success","warning","error",null]),inputRef:w.a.func}),Je=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.props,t=e.inline,n=e.disabled,i=e.validationState,r=e.inputRef,o=e.className,a=e.style,l=e.title,u=e.children,c=W(y()(e,["inline","disabled","validationState","inputRef","className","style","title","children"])),p=c[0],f=c[1],d=h.a.createElement("input",s()({},f,{ref:r,type:"checkbox",disabled:n}));if(t){var m,g=((m={})[$(p,"inline")]=!0,m.disabled=n,m);return h.a.createElement("label",{className:_()(o,g),style:a,title:l},d,u)}var b=s()({},q(p),{disabled:n});return i&&(b["has-"+i]=!0),h.a.createElement("div",{className:_()(o,b),style:a},h.a.createElement("label",{title:l},d,u))},t}(h.a.Component);Je.propTypes=Ze,Je.defaultProps={inline:!1,disabled:!1,title:""};var et=j("checkbox",Je);function tt(e){return""+e.charAt(0).toUpperCase()+e.slice(1)}var nt={componentClass:de.a,visibleXsBlock:w.a.bool,visibleSmBlock:w.a.bool,visibleMdBlock:w.a.bool,visibleLgBlock:w.a.bool},it=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,i=W(y()(e,["componentClass","className"])),r=i[0],o=i[1],a=q(r);return R.forEach(function(e){var t="visible"+tt(e)+"Block";o[t]&&(a["visible-"+e+"-block"]=!0),delete o[t]}),h.a.createElement(t,s()({},o,{className:_()(n,a)}))},t}(h.a.Component);it.propTypes=nt,it.defaultProps={componentClass:"div"};var rt=j("clearfix",it),ot={htmlFor:w.a.string,srOnly:w.a.bool},st={$bs_formGroup:w.a.object},at=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.context.$bs_formGroup,t=e&&e.controlId,n=this.props,i=n.htmlFor,r=void 0===i?t:i,o=n.srOnly,a=n.className,l=W(y()(n,["htmlFor","srOnly","className"])),u=l[0],c=l[1],p=s()({},q(u),{"sr-only":o});return h.a.createElement("label",s()({},c,{htmlFor:r,className:_()(a,p)}))},t}(h.a.Component);at.propTypes=ot,at.defaultProps={srOnly:!1},at.contextTypes=st;var lt=j("control-label",at),ut={componentClass:de.a,xs:w.a.number,sm:w.a.number,md:w.a.number,lg:w.a.number,xsHidden:w.a.bool,smHidden:w.a.bool,mdHidden:w.a.bool,lgHidden:w.a.bool,xsOffset:w.a.number,smOffset:w.a.number,mdOffset:w.a.number,lgOffset:w.a.number,xsPush:w.a.number,smPush:w.a.number,mdPush:w.a.number,lgPush:w.a.number,xsPull:w.a.number,smPull:w.a.number,mdPull:w.a.number,lgPull:w.a.number},ct=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,i=W(y()(e,["componentClass","className"])),r=i[0],o=i[1],a=[];return R.forEach(function(e){function t(t,n){var i=""+e+t,s=o[i];null!=s&&a.push($(r,""+e+n+"-"+s)),delete o[i]}t("",""),t("Offset","-offset"),t("Push","-push"),t("Pull","-pull");var n=e+"Hidden";o[n]&&a.push("hidden-"+e),delete o[n]}),h.a.createElement(t,s()({},o,{className:_()(n,a)}))},t}(h.a.Component);ct.propTypes=ut,ct.defaultProps={componentClass:"div"};var pt=j("col",ct),ft=n(41),dt=n.n(ft),ht=n(64),mt=n.n(ht),gt={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};var bt={in:w.a.bool,mountOnEnter:w.a.bool,unmountOnExit:w.a.bool,transitionAppear:w.a.bool,timeout:w.a.number,onEnter:w.a.func,onEntering:w.a.func,onEntered:w.a.func,onExit:w.a.func,onExiting:w.a.func,onExited:w.a.func,dimension:w.a.oneOfType([w.a.oneOf(["height","width"]),w.a.func]),getDimensionValue:w.a.func,role:w.a.string},yt={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,transitionAppear:!1,dimension:"height",getDimensionValue:function(e,t){var n=t["offset"+tt(e)],i=gt[e];return n+parseInt(dt()(t,i[0]),10)+parseInt(dt()(t,i[1]),10)}},vt=function(e){function t(n,i){l()(this,t);var r=c()(this,e.call(this,n,i));return r.handleEnter=r.handleEnter.bind(r),r.handleEntering=r.handleEntering.bind(r),r.handleEntered=r.handleEntered.bind(r),r.handleExit=r.handleExit.bind(r),r.handleExiting=r.handleExiting.bind(r),r}return f()(t,e),t.prototype._dimension=function(){return"function"==typeof this.props.dimension?this.props.dimension():this.props.dimension},t.prototype._getScrollDimensionValue=function(e,t){return e["scroll"+tt(t)]+"px"},t.prototype.handleEnter=function(e){var t=this._dimension();e.style[t]="0"},t.prototype.handleEntered=function(e){var t=this._dimension();e.style[t]=null},t.prototype.handleEntering=function(e){var t=this._dimension();e.style[t]=this._getScrollDimensionValue(e,t)},t.prototype.handleExit=function(e){var t=this._dimension();e.style[t]=this.props.getDimensionValue(t,e)+"px",e.offsetHeight},t.prototype.handleExiting=function(e){var t=this._dimension();e.style[t]="0"},t.prototype.render=function(){var e=this.props,t=e.onEnter,n=e.onEntering,i=e.onEntered,r=e.onExit,o=e.onExiting,a=e.className,l=y()(e,["onEnter","onEntering","onEntered","onExit","onExiting","className"]);delete l.dimension,delete l.getDimensionValue;var u=Y(this.handleEnter,t),c=Y(this.handleEntering,n),p=Y(this.handleEntered,i),f=Y(this.handleExit,r),d=Y(this.handleExiting,o),m={width:"width"===this._dimension()};return h.a.createElement(mt.a,s()({},l,{"aria-expanded":l.role?l.in:null,className:_()(a,m),exitedClassName:"collapse",exitingClassName:"collapsing",enteredClassName:"collapse in",enteringClassName:"collapsing",onEnter:u,onEntering:c,onEntered:p,onExit:f,onExiting:d}))},t}(h.a.Component);vt.propTypes=bt,vt.defaultProps=yt;var _t=vt,xt=n(92),wt=n.n(xt),kt=n(26),St=n.n(kt),Ct=n(14),Et=n.n(Ct),Tt=n(28),At=n.n(Tt),Nt=n(21),Mt=n.n(Nt),Rt=n(111),Ot=n.n(Rt),Lt=n(93),Pt=n.n(Lt),Dt={open:w.a.bool,pullRight:w.a.bool,onClose:w.a.func,labelledBy:w.a.oneOfType([w.a.string,w.a.number]),onSelect:w.a.func,rootCloseEvent:w.a.oneOf(["click","mousedown"])},It=function(e){function t(n){l()(this,t);var i=c()(this,e.call(this,n));return i.handleRootClose=i.handleRootClose.bind(i),i.handleKeyDown=i.handleKeyDown.bind(i),i}return f()(t,e),t.prototype.getFocusableMenuItems=function(){var e=Fe.a.findDOMNode(this);return e?Ot()(e.querySelectorAll('[tabIndex="-1"]')):[]},t.prototype.getItemsAndActiveIndex=function(){var e=this.getFocusableMenuItems(),t=e.indexOf(document.activeElement);return{items:e,activeIndex:t}},t.prototype.focusNext=function(){var e=this.getItemsAndActiveIndex(),t=e.items,n=e.activeIndex;0!==t.length&&t[n===t.length-1?0:n+1].focus()},t.prototype.focusPrevious=function(){var e=this.getItemsAndActiveIndex(),t=e.items,n=e.activeIndex;0!==t.length&&t[0===n?t.length-1:n-1].focus()},t.prototype.handleKeyDown=function(e){switch(e.keyCode){case Et.a.codes.down:this.focusNext(),e.preventDefault();break;case Et.a.codes.up:this.focusPrevious(),e.preventDefault();break;case Et.a.codes.esc:case Et.a.codes.tab:this.props.onClose(e,{source:"keydown"})}},t.prototype.handleRootClose=function(e){this.props.onClose(e,{source:"rootClose"})},t.prototype.render=function(){var e,t=this,n=this.props,i=n.open,r=n.pullRight,o=n.labelledBy,a=n.onSelect,l=n.className,u=n.rootCloseEvent,c=n.children,p=V(y()(n,["open","pullRight","labelledBy","onSelect","className","rootCloseEvent","children"]),["onClose"]),f=p[0],d=p[1],m=s()({},q(f),((e={})[$(f,"right")]=r,e));return h.a.createElement(Pt.a,{disabled:!i,onRootClose:this.handleRootClose,event:u},h.a.createElement("ul",s()({},d,{role:"menu",className:_()(l,m),"aria-labelledby":o}),X.map(c,function(e){return h.a.cloneElement(e,{onKeyDown:Y(e.props.onKeyDown,t.handleKeyDown),onSelect:Y(e.props.onSelect,a)})})))},t}(h.a.Component);It.propTypes=Dt,It.defaultProps={bsRole:"menu",pullRight:!1};var Ft=j("dropdown-menu",It),$t={noCaret:w.a.bool,open:w.a.bool,title:w.a.string,useAnchor:w.a.bool},jt=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.props,t=e.noCaret,n=e.open,i=e.useAnchor,r=e.bsClass,o=e.className,a=e.children,l=y()(e,["noCaret","open","useAnchor","bsClass","className","children"]);delete l.bsRole;var u=i?be:Ce,c=!t;return h.a.createElement(u,s()({},l,{role:"button",className:_()(o,r),"aria-haspopup":!0,"aria-expanded":n}),a||l.title,c&&" ",c&&h.a.createElement("span",{className:"caret"}))},t}(h.a.Component);jt.propTypes=$t,jt.defaultProps={open:!1,useAnchor:!1,bsRole:"toggle"};var Bt=j("dropdown-toggle",jt),zt=n(40),qt=n.n(zt);var Ht=Bt.defaultProps.bsRole,Ut=Ft.defaultProps.bsRole,Wt={dropup:w.a.bool,id:At()(w.a.oneOfType([w.a.string,w.a.number])),componentClass:de.a,children:Te()(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return qt()(function(e,n,i){var r=void 0;return t.every(function(t){return!!X.some(e.children,function(e){return e.props.bsRole===t})||(r=t,!1)}),r?new Error("(children) "+i+" - Missing a required child with bsRole: "+r+". "+i+" must have at least one child of each of the following bsRoles: "+t.join(", ")):null})}(Ht,Ut),function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return qt()(function(e,n,i){var r=void 0;return t.every(function(t){return!(X.filter(e.children,function(e){return e.props.bsRole===t}).length>1&&(r=t,1))}),r?new Error("(children) "+i+" - Duplicate children detected of bsRole: "+r+". Only one child each allowed with the following bsRoles: "+t.join(", ")):null})}(Ut)),disabled:w.a.bool,pullRight:w.a.bool,open:w.a.bool,defaultOpen:w.a.bool,onToggle:w.a.func,onSelect:w.a.func,role:w.a.string,rootCloseEvent:w.a.oneOf(["click","mousedown"]),onMouseEnter:w.a.func,onMouseLeave:w.a.func},Vt={componentClass:Me},Gt=function(e){function t(n,i){l()(this,t);var r=c()(this,e.call(this,n,i));return r.handleClick=r.handleClick.bind(r),r.handleKeyDown=r.handleKeyDown.bind(r),r.handleClose=r.handleClose.bind(r),r._focusInDropdown=!1,r.lastOpenEventType=null,r}return f()(t,e),t.prototype.componentDidMount=function(){this.focusNextOnOpen()},t.prototype.componentWillUpdate=function(e){!e.open&&this.props.open&&(this._focusInDropdown=St()(Fe.a.findDOMNode(this.menu),wt()(document)))},t.prototype.componentDidUpdate=function(e){var t=this.props.open,n=e.open;t&&!n&&this.focusNextOnOpen(),!t&&n&&this._focusInDropdown&&(this._focusInDropdown=!1,this.focus())},t.prototype.focus=function(){var e=Fe.a.findDOMNode(this.toggle);e&&e.focus&&e.focus()},t.prototype.focusNextOnOpen=function(){var e=this.menu;e.focusNext&&("keydown"!==this.lastOpenEventType&&"menuitem"!==this.props.role||e.focusNext())},t.prototype.handleClick=function(e){this.props.disabled||this.toggleOpen(e,{source:"click"})},t.prototype.handleClose=function(e,t){this.props.open&&this.toggleOpen(e,t)},t.prototype.handleKeyDown=function(e){if(!this.props.disabled)switch(e.keyCode){case Et.a.codes.down:this.props.open?this.menu.focusNext&&this.menu.focusNext():this.toggleOpen(e,{source:"keydown"}),e.preventDefault();break;case Et.a.codes.esc:case Et.a.codes.tab:this.handleClose(e,{source:"keydown"})}},t.prototype.toggleOpen=function(e,t){var n=!this.props.open;n&&(this.lastOpenEventType=t.source),this.props.onToggle&&this.props.onToggle(n,e,t)},t.prototype.renderMenu=function(e,t){var n=this,i=t.id,r=t.onSelect,o=t.rootCloseEvent,a=y()(t,["id","onSelect","rootCloseEvent"]),l=function(e){n.menu=e};return"string"==typeof e.ref||(l=Y(e.ref,l)),Object(d.cloneElement)(e,s()({},a,{ref:l,labelledBy:i,bsClass:$(a,"menu"),onClose:Y(e.props.onClose,this.handleClose),onSelect:Y(e.props.onSelect,r,function(e,t){return n.handleClose(t,{source:"select"})}),rootCloseEvent:o}))},t.prototype.renderToggle=function(e,t){var n=this,i=function(e){n.toggle=e};return"string"==typeof e.ref||(i=Y(e.ref,i)),Object(d.cloneElement)(e,s()({},t,{ref:i,bsClass:$(t,"toggle"),onClick:Y(e.props.onClick,this.handleClick),onKeyDown:Y(e.props.onKeyDown,this.handleKeyDown)}))},t.prototype.render=function(){var e,t=this,n=this.props,i=n.componentClass,r=n.id,o=n.dropup,a=n.disabled,l=n.pullRight,u=n.open,c=n.onSelect,p=n.role,f=n.bsClass,d=n.className,m=n.rootCloseEvent,g=n.children,b=y()(n,["componentClass","id","dropup","disabled","pullRight","open","onSelect","role","bsClass","className","rootCloseEvent","children"]);delete b.onToggle;var v=((e={})[f]=!0,e.open=u,e.disabled=a,e);return o&&(v[f]=!1,v.dropup=!0),h.a.createElement(i,s()({},b,{className:_()(d,v)}),X.map(g,function(e){switch(e.props.bsRole){case Ht:return t.renderToggle(e,{id:r,disabled:a,open:u,role:p,bsClass:f});case Ut:return t.renderMenu(e,{id:r,open:u,pullRight:l,bsClass:f,onSelect:c,rootCloseEvent:m});default:return e}}))},t}(h.a.Component);Gt.propTypes=Wt,Gt.defaultProps=Vt,j("dropdown",Gt);var Kt=Mt()(Gt,{open:"onToggle"});Kt.Toggle=Bt,Kt.Menu=Ft;var Yt=Kt;function Xt(e,t){var n=t.propTypes,i={},r={};return S()(e).forEach(function(e){var t=e[0],o=e[1];n[t]?i[t]=o:r[t]=o}),[i,r]}var Qt=s()({},Yt.propTypes,{bsStyle:w.a.string,bsSize:w.a.string,title:w.a.node.isRequired,noCaret:w.a.bool,children:w.a.node}),Zt=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.props,t=e.bsSize,n=e.bsStyle,i=e.title,r=e.children,o=Xt(y()(e,["bsSize","bsStyle","title","children"]),Yt.ControlledComponent),a=o[0],l=o[1];return h.a.createElement(Yt,s()({},a,{bsSize:t,bsStyle:n}),h.a.createElement(Yt.Toggle,s()({},l,{bsSize:t,bsStyle:n}),i),h.a.createElement(Yt.Menu,null,r))},t}(h.a.Component);Zt.propTypes=Qt;var Jt=Zt,en={in:w.a.bool,mountOnEnter:w.a.bool,unmountOnExit:w.a.bool,transitionAppear:w.a.bool,timeout:w.a.number,onEnter:w.a.func,onEntering:w.a.func,onEntered:w.a.func,onExit:w.a.func,onExiting:w.a.func,onExited:w.a.func},tn=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){return h.a.createElement(mt.a,s()({},this.props,{className:_()(this.props.className,"fade"),enteredClassName:"in",enteringClassName:"in"}))},t}(h.a.Component);tn.propTypes=en,tn.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,transitionAppear:!1};var nn=tn,rn={horizontal:w.a.bool,inline:w.a.bool,componentClass:de.a},on=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.props,t=e.horizontal,n=e.inline,i=e.componentClass,r=e.className,o=W(y()(e,["horizontal","inline","componentClass","className"])),a=o[0],l=o[1],u=[];return t&&u.push($(a,"horizontal")),n&&u.push($(a,"inline")),h.a.createElement(i,s()({},l,{className:_()(r,u)}))},t}(h.a.Component);on.propTypes=rn,on.defaultProps={horizontal:!1,inline:!1,componentClass:"form"};var sn=j("form",on),an={$bs_formGroup:w.a.object},ln=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.getGlyph=function(e){switch(e){case"success":return"ok";case"warning":return"warning-sign";case"error":return"remove";default:return null}},t.prototype.renderDefaultFeedback=function(e,t,n,i){var r=this.getGlyph(e&&e.validationState);return r?h.a.createElement(Ge,s()({},i,{glyph:r,className:_()(t,n)})):null},t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,i=W(y()(e,["className","children"])),r=i[0],o=i[1],a=q(r);if(!n)return this.renderDefaultFeedback(this.context.$bs_formGroup,t,a,o);var l=h.a.Children.only(n);return h.a.cloneElement(l,s()({},o,{className:_()(l.props.className,t,a)}))},t}(h.a.Component);ln.defaultProps={bsRole:"feedback"},ln.contextTypes=an;var un=j("form-control-feedback",ln),cn={componentClass:de.a},pn=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,i=W(y()(e,["componentClass","className"])),r=i[0],o=i[1],a=q(r);return h.a.createElement(t,s()({},o,{className:_()(n,a)}))},t}(h.a.Component);pn.propTypes=cn,pn.defaultProps={componentClass:"p"};var fn=j("form-control-static",pn),dn={componentClass:de.a,type:w.a.string,id:w.a.string,inputRef:w.a.func},hn={$bs_formGroup:w.a.object},mn=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.context.$bs_formGroup,t=e&&e.controlId,n=this.props,i=n.componentClass,r=n.type,o=n.id,a=void 0===o?t:o,l=n.inputRef,u=n.className,c=n.bsSize,p=W(y()(n,["componentClass","type","id","inputRef","className","bsSize"])),f=p[0],d=p[1],m=void 0;("file"!==r&&(m=q(f)),c)&&(m[$({bsClass:"input"},M[c]||c)]=!0);return h.a.createElement(i,s()({},d,{type:r,id:a,ref:l,className:_()(u,m)}))},t}(h.a.Component);mn.propTypes=dn,mn.defaultProps={componentClass:"input"},mn.contextTypes=hn,mn.Feedback=un,mn.Static=fn;var gn=j("form-control",z([A,T],mn)),bn={controlId:w.a.string,validationState:w.a.oneOf(["success","warning","error",null])},yn={$bs_formGroup:w.a.object.isRequired},vn=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.getChildContext=function(){var e=this.props;return{$bs_formGroup:{controlId:e.controlId,validationState:e.validationState}}},t.prototype.hasFeedback=function(e){var t=this;return X.some(e,function(e){return"feedback"===e.props.bsRole||e.props.children&&t.hasFeedback(e.props.children)})},t.prototype.render=function(){var e=this.props,t=e.validationState,n=e.className,i=e.children,r=V(y()(e,["validationState","className","children"]),["controlId"]),o=r[0],a=r[1],l=s()({},q(o),{"has-feedback":this.hasFeedback(i)});return t&&(l["has-"+t]=!0),h.a.createElement("div",s()({},a,{className:_()(n,l)}),i)},t}(h.a.Component);vn.propTypes=bn,vn.childContextTypes=yn;var _n=j("form-group",z([T,A],vn)),xn={fluid:w.a.bool,componentClass:de.a},wn=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.props,t=e.fluid,n=e.componentClass,i=e.className,r=W(y()(e,["fluid","componentClass","className"])),o=r[0],a=r[1],l=$(o,t&&"fluid");return h.a.createElement(n,s()({},a,{className:_()(i,l)}))},t}(h.a.Component);wn.propTypes=xn,wn.defaultProps={componentClass:"div",fluid:!1};var kn=j("container",wn),Sn=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=W(y()(e,["className"])),i=n[0],r=n[1],o=q(i);return h.a.createElement("span",s()({},r,{className:_()(t,o)}))},t}(h.a.Component),Cn=j("help-block",Sn),En={responsive:w.a.bool,rounded:w.a.bool,circle:w.a.bool,thumbnail:w.a.bool},Tn=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e,t=this.props,n=t.responsive,i=t.rounded,r=t.circle,o=t.thumbnail,a=t.className,l=W(y()(t,["responsive","rounded","circle","thumbnail","className"])),u=l[0],c=l[1],p=((e={})[$(u,"responsive")]=n,e[$(u,"rounded")]=i,e[$(u,"circle")]=r,e[$(u,"thumbnail")]=o,e);return h.a.createElement("img",s()({},c,{className:_()(a,p)}))},t}(h.a.Component);Tn.propTypes=En,Tn.defaultProps={responsive:!1,rounded:!1,circle:!1,thumbnail:!1};var An=j("img",Tn),Nn=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=W(y()(e,["className"])),i=n[0],r=n[1],o=q(i);return h.a.createElement("span",s()({},r,{className:_()(t,o)}))},t}(h.a.Component),Mn=j("input-group-addon",Nn),Rn=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=W(y()(e,["className"])),i=n[0],r=n[1],o=q(i);return h.a.createElement("span",s()({},r,{className:_()(t,o)}))},t}(h.a.Component),On=j("input-group-btn",Rn),Ln=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=W(y()(e,["className"])),i=n[0],r=n[1],o=q(i);return h.a.createElement("span",s()({},r,{className:_()(t,o)}))},t}(h.a.Component);Ln.Addon=Mn,Ln.Button=On;var Pn=j("input-group",z([T,A],Ln)),Dn={componentClass:de.a},In=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,i=W(y()(e,["componentClass","className"])),r=i[0],o=i[1],a=q(r);return h.a.createElement(t,s()({},o,{className:_()(n,a)}))},t}(h.a.Component);In.propTypes=Dn,In.defaultProps={componentClass:"div"};var Fn=j("jumbotron",In),$n=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.hasContent=function(e){var t=!1;return h.a.Children.forEach(e,function(e){t||(e||0===e)&&(t=!0)}),t},t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,i=W(y()(e,["className","children"])),r=i[0],o=i[1],a=s()({},q(r),{hidden:!this.hasContent(n)});return h.a.createElement("span",s()({},o,{className:_()(t,a)}),n)},t}(h.a.Component),jn=j("label",B([].concat(ne()(O),[L,P]),L,$n)),Bn={active:w.a.any,disabled:w.a.any,header:w.a.node,listItem:w.a.bool,onClick:w.a.func,href:w.a.string,type:w.a.string},zn=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.renderHeader=function(e,t){return h.a.isValidElement(e)?Object(d.cloneElement)(e,{className:_()(e.props.className,t)}):h.a.createElement("h4",{className:t},e)},t.prototype.render=function(){var e=this.props,t=e.active,n=e.disabled,i=e.className,r=e.header,o=e.listItem,a=e.children,l=W(y()(e,["active","disabled","className","header","listItem","children"])),u=l[0],c=l[1],p=s()({},q(u),{active:t,disabled:n}),f=void 0;return c.href?f="a":c.onClick?(f="button",c.type=c.type||"button"):f=o?"li":"span",c.className=_()(i,p),r?h.a.createElement(f,c,this.renderHeader(r,$(u,"heading")),h.a.createElement("p",{className:$(u,"text")},a)):h.a.createElement(f,c,a)},t}(h.a.Component);zn.propTypes=Bn,zn.defaultProps={listItem:!1};var qn=j("list-group-item",B(ne()(O),zn)),Hn={componentClass:de.a};var Un=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.componentClass,i=void 0===n?function(e){return e?X.some(e,function(e){return e.type!==qn||e.props.href||e.props.onClick})?"div":"ul":"div"}(t):n,r=e.className,o=W(y()(e,["children","componentClass","className"])),a=o[0],l=o[1],u=q(a),c="ul"===i&&X.every(t,function(e){return e.type===qn});return h.a.createElement(i,s()({},l,{className:_()(r,u)}),c?X.map(t,function(e){return Object(d.cloneElement)(e,{listItem:!0})}):t)},t}(h.a.Component);Un.propTypes=Hn;var Wn=j("list-group",Un),Vn={align:w.a.oneOf(["top","middle","bottom"]),componentClass:de.a},Gn=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.align,i=e.className,r=W(y()(e,["componentClass","align","className"])),o=r[0],a=r[1],l=q(o);return n&&(l[$(ci.defaultProps,n)]=!0),h.a.createElement(t,s()({},a,{className:_()(i,l)}))},t}(h.a.Component);Gn.propTypes=Vn,Gn.defaultProps={componentClass:"div"};var Kn=j("media-body",Gn),Yn={componentClass:de.a},Xn=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,i=W(y()(e,["componentClass","className"])),r=i[0],o=i[1],a=q(r);return h.a.createElement(t,s()({},o,{className:_()(n,a)}))},t}(h.a.Component);Xn.propTypes=Yn,Xn.defaultProps={componentClass:"h4"};var Qn=j("media-heading",Xn),Zn={align:w.a.oneOf(["top","middle","bottom"])},Jn=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.props,t=e.align,n=e.className,i=W(y()(e,["align","className"])),r=i[0],o=i[1],a=q(r);return t&&(a[$(ci.defaultProps,t)]=!0),h.a.createElement("div",s()({},o,{className:_()(n,a)}))},t}(h.a.Component);Jn.propTypes=Zn;var ei=j("media-left",Jn),ti=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=W(y()(e,["className"])),i=n[0],r=n[1],o=q(i);return h.a.createElement("ul",s()({},r,{className:_()(t,o)}))},t}(h.a.Component),ni=j("media-list",ti),ii=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=W(y()(e,["className"])),i=n[0],r=n[1],o=q(i);return h.a.createElement("li",s()({},r,{className:_()(t,o)}))},t}(h.a.Component),ri=j("media",ii),oi={align:w.a.oneOf(["top","middle","bottom"])},si=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.props,t=e.align,n=e.className,i=W(y()(e,["align","className"])),r=i[0],o=i[1],a=q(r);return t&&(a[$(ci.defaultProps,t)]=!0),h.a.createElement("div",s()({},o,{className:_()(n,a)}))},t}(h.a.Component);si.propTypes=oi;var ai=j("media-right",si),li={componentClass:de.a},ui=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,i=W(y()(e,["componentClass","className"])),r=i[0],o=i[1],a=q(r);return h.a.createElement(t,s()({},o,{className:_()(n,a)}))},t}(h.a.Component);ui.propTypes=li,ui.defaultProps={componentClass:"div"},ui.Heading=Qn,ui.Body=Kn,ui.Left=ei,ui.Right=ai,ui.List=ni,ui.ListItem=ri;var ci=j("media",ui),pi={active:w.a.bool,disabled:w.a.bool,divider:Te()(w.a.bool,function(e){var t=e.divider,n=e.children;return t&&n?new Error("Children will not be rendered for dividers"):null}),eventKey:w.a.any,header:w.a.bool,href:w.a.string,onClick:w.a.func,onSelect:w.a.func},fi=function(e){function t(n,i){l()(this,t);var r=c()(this,e.call(this,n,i));return r.handleClick=r.handleClick.bind(r),r}return f()(t,e),t.prototype.handleClick=function(e){var t=this.props,n=t.href,i=t.disabled,r=t.onSelect,o=t.eventKey;n&&!i||e.preventDefault(),i||r&&r(o,e)},t.prototype.render=function(){var e=this.props,t=e.active,n=e.disabled,i=e.divider,r=e.header,o=e.onClick,a=e.className,l=e.style,u=V(y()(e,["active","disabled","divider","header","onClick","className","style"]),["eventKey","onSelect"]),c=u[0],p=u[1];return i?(p.children=void 0,h.a.createElement("li",s()({},p,{role:"separator",className:_()(a,"divider"),style:l}))):r?h.a.createElement("li",s()({},p,{role:"heading",className:_()(a,$(c,"header")),style:l})):h.a.createElement("li",{role:"presentation",className:_()(a,{active:t,disabled:n}),style:l},h.a.createElement(be,s()({},p,{role:"menuitem",tabIndex:"-1",onClick:Y(o,this.handleClick)})))},t}(h.a.Component);fi.propTypes=pi,fi.defaultProps={divider:!1,disabled:!1,header:!1};var di=j("dropdown",fi),hi=n(95),mi=n.n(hi),gi=n(34),bi=n.n(gi),yi=n(25),vi=n.n(yi),_i=n(65),xi=n.n(_i),wi=n(42),ki=n.n(wi),Si=n(94),Ci=n.n(Si),Ei={componentClass:de.a},Ti=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,i=W(y()(e,["componentClass","className"])),r=i[0],o=i[1],a=q(r);return h.a.createElement(t,s()({},o,{className:_()(n,a)}))},t}(h.a.Component);Ti.propTypes=Ei,Ti.defaultProps={componentClass:"div"};var Ai=j("modal-body",Ti),Ni={dialogClassName:w.a.string},Mi=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e,t=this.props,n=t.dialogClassName,i=t.className,r=t.style,o=t.children,a=W(y()(t,["dialogClassName","className","style","children"])),l=a[0],u=a[1],c=$(l),p=s()({display:"block"},r),f=s()({},q(l),((e={})[c]=!1,e[$(l,"dialog")]=!0,e));return h.a.createElement("div",s()({},u,{tabIndex:"-1",role:"dialog",style:p,className:_()(i,c)}),h.a.createElement("div",{className:_()(n,f)},h.a.createElement("div",{className:$(l,"content"),role:"document"},o)))},t}(h.a.Component);Mi.propTypes=Ni;var Ri=j("modal",z([T,A],Mi)),Oi={componentClass:de.a},Li=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,i=W(y()(e,["componentClass","className"])),r=i[0],o=i[1],a=q(r);return h.a.createElement(t,s()({},o,{className:_()(n,a)}))},t}(h.a.Component);Li.propTypes=Oi,Li.defaultProps={componentClass:"div"};var Pi=j("modal-footer",Li),Di={closeLabel:w.a.string,closeButton:w.a.bool,onHide:w.a.func},Ii={$bs_modal:w.a.shape({onHide:w.a.func})},Fi=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.props,t=e.closeLabel,n=e.closeButton,i=e.onHide,r=e.className,o=e.children,a=y()(e,["closeLabel","closeButton","onHide","className","children"]),l=this.context.$bs_modal,u=W(a),c=u[0],p=u[1],f=q(c);return h.a.createElement("div",s()({},p,{className:_()(r,f)}),n&&h.a.createElement(oe,{label:t,onClick:Y(l&&l.onHide,i)}),o)},t}(h.a.Component);Fi.propTypes=Di,Fi.defaultProps={closeLabel:"Close",closeButton:!1},Fi.contextTypes=Ii;var $i=j("modal-header",Fi),ji={componentClass:de.a},Bi=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,i=W(y()(e,["componentClass","className"])),r=i[0],o=i[1],a=q(r);return h.a.createElement(t,s()({},o,{className:_()(n,a)}))},t}(h.a.Component);Bi.propTypes=ji,Bi.defaultProps={componentClass:"h4"};var zi=j("modal-title",Bi),qi=s()({},ki.a.propTypes,Ri.propTypes,{backdrop:w.a.oneOf(["static",!0,!1]),backdropClassName:w.a.string,keyboard:w.a.bool,animation:w.a.bool,dialogComponentClass:de.a,autoFocus:w.a.bool,enforceFocus:w.a.bool,restoreFocus:w.a.bool,show:w.a.bool,onHide:w.a.func,onEnter:w.a.func,onEntering:w.a.func,onEntered:w.a.func,onExit:w.a.func,onExiting:w.a.func,onExited:w.a.func,container:ki.a.propTypes.container}),Hi=s()({},ki.a.defaultProps,{animation:!0,dialogComponentClass:Ri}),Ui={$bs_modal:w.a.shape({onHide:w.a.func})},Wi=function(e){function t(n,i){l()(this,t);var r=c()(this,e.call(this,n,i));return r.handleEntering=r.handleEntering.bind(r),r.handleExited=r.handleExited.bind(r),r.handleWindowResize=r.handleWindowResize.bind(r),r.handleDialogClick=r.handleDialogClick.bind(r),r.setModalRef=r.setModalRef.bind(r),r.state={style:{}},r}return f()(t,e),t.prototype.getChildContext=function(){return{$bs_modal:{onHide:this.props.onHide}}},t.prototype.componentWillUnmount=function(){this.handleExited()},t.prototype.setModalRef=function(e){this._modal=e},t.prototype.handleDialogClick=function(e){e.target===e.currentTarget&&this.props.onHide()},t.prototype.handleEntering=function(){mi.a.on(window,"resize",this.handleWindowResize),this.updateStyle()},t.prototype.handleExited=function(){mi.a.off(window,"resize",this.handleWindowResize)},t.prototype.handleWindowResize=function(){this.updateStyle()},t.prototype.updateStyle=function(){if(vi.a){var e=this._modal.getDialogElement(),t=e.scrollHeight,n=bi()(e),i=Ci()(Fe.a.findDOMNode(this.props.container||n.body)),r=t>n.documentElement.clientHeight;this.setState({style:{paddingRight:i&&!r?xi()():void 0,paddingLeft:!i&&r?xi()():void 0}})}},t.prototype.render=function(){var e=this.props,n=e.backdrop,i=e.backdropClassName,r=e.animation,o=e.show,a=e.dialogComponentClass,l=e.className,u=e.style,c=e.children,p=e.onEntering,f=e.onExited,d=y()(e,["backdrop","backdropClassName","animation","show","dialogComponentClass","className","style","children","onEntering","onExited"]),m=Xt(d,ki.a),g=m[0],b=m[1],v=o&&!r&&"in";return h.a.createElement(ki.a,s()({},g,{ref:this.setModalRef,show:o,onEntering:Y(p,this.handleEntering),onExited:Y(f,this.handleExited),backdrop:n,backdropClassName:_()($(d,"backdrop"),i,v),containerClassName:$(d,"open"),transition:r?nn:void 0,dialogTransitionTimeout:t.TRANSITION_DURATION,backdropTransitionTimeout:t.BACKDROP_TRANSITION_DURATION}),h.a.createElement(a,s()({},b,{style:s()({},this.state.style,u),className:_()(l,v),onClick:!0===n?this.handleDialogClick:null}),c))},t}(h.a.Component);Wi.propTypes=qi,Wi.defaultProps=Hi,Wi.childContextTypes=Ui,Wi.Body=Ai,Wi.Header=$i,Wi.Title=zi,Wi.Footer=Pi,Wi.Dialog=Ri,Wi.TRANSITION_DURATION=300,Wi.BACKDROP_TRANSITION_DURATION=150;var Vi=j("modal",z([T,A],Wi)),Gi={activeKey:w.a.any,activeHref:w.a.string,stacked:w.a.bool,justified:Te()(w.a.bool,function(e){var t=e.justified,n=e.navbar;return t&&n?Error("justified navbar `Nav`s are not supported"):null}),onSelect:w.a.func,role:w.a.string,navbar:w.a.bool,pullRight:w.a.bool,pullLeft:w.a.bool},Ki={$bs_navbar:w.a.shape({bsClass:w.a.string,onSelect:w.a.func}),$bs_tabContainer:w.a.shape({activeKey:w.a.any,onSelect:w.a.func.isRequired,getTabId:w.a.func.isRequired,getPaneId:w.a.func.isRequired})},Yi=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.componentDidUpdate=function(){var e=this;if(this._needsRefocus){this._needsRefocus=!1;var t=this.props.children,n=this.getActiveProps(),i=n.activeKey,r=n.activeHref,o=X.find(t,function(t){return e.isActive(t,i,r)}),s=X.toArray(t).indexOf(o),a=Fe.a.findDOMNode(this).children,l=a&&a[s];l&&l.firstChild&&l.firstChild.focus()}},t.prototype.getActiveProps=function(){var e=this.context.$bs_tabContainer;return e||this.props},t.prototype.getNextActiveChild=function(e){var t=this,n=this.props.children,i=n.filter(function(e){return null!=e.props.eventKey&&!e.props.disabled}),r=this.getActiveProps(),o=r.activeKey,s=r.activeHref,a=X.find(n,function(e){return t.isActive(e,o,s)}),l=i.indexOf(a);if(-1===l)return i[0];var u=l+e,c=i.length;return u>=c?u=0:u<0&&(u=c-1),i[u]},t.prototype.getTabProps=function(e,t,n,i,r){var o=this;if(!t&&"tablist"!==n)return null;var s=e.props,a=s.id,l=s["aria-controls"],u=s.eventKey,c=s.role,p=s.onKeyDown,f=s.tabIndex;return t&&(a=t.getTabId(u),l=t.getPaneId(u)),"tablist"===n&&(c=c||"tab",p=Y(function(e){return o.handleTabKeyDown(r,e)},p),f=i?f:-1),{id:a,role:c,onKeyDown:p,"aria-controls":l,tabIndex:f}},t.prototype.handleTabKeyDown=function(e,t){var n=void 0;switch(t.keyCode){case Et.a.codes.left:case Et.a.codes.up:n=this.getNextActiveChild(-1);break;case Et.a.codes.right:case Et.a.codes.down:n=this.getNextActiveChild(1);break;default:return}t.preventDefault(),e&&n&&null!=n.props.eventKey&&e(n.props.eventKey),this._needsRefocus=!0},t.prototype.isActive=function(e,t,n){var i=e.props;return!!(i.active||null!=t&&i.eventKey===t||n&&i.href===n)||i.active},t.prototype.render=function(){var e,t=this,n=this.props,i=n.stacked,r=n.justified,o=n.onSelect,a=n.role,l=n.navbar,u=n.pullRight,c=n.pullLeft,p=n.className,f=n.children,m=y()(n,["stacked","justified","onSelect","role","navbar","pullRight","pullLeft","className","children"]),g=this.context.$bs_tabContainer,b=a||(g?"tablist":null),v=this.getActiveProps(),x=v.activeKey,w=v.activeHref;delete m.activeKey,delete m.activeHref;var k=W(m),S=k[0],C=k[1],E=s()({},q(S),((e={})[$(S,"stacked")]=i,e[$(S,"justified")]=r,e)),T=null!=l?l:this.context.$bs_navbar,A=void 0,N=void 0;if(T){var M=this.context.$bs_navbar||{bsClass:"navbar"};E[$(M,"nav")]=!0,N=$(M,"right"),A=$(M,"left")}else N="pull-right",A="pull-left";return E[N]=u,E[A]=c,h.a.createElement("ul",s()({},C,{role:b,className:_()(p,E)}),X.map(f,function(e){var n=t.isActive(e,x,w),i=Y(e.props.onSelect,o,T&&T.onSelect,g&&g.onSelect);return Object(d.cloneElement)(e,s()({},t.getTabProps(e,g,b,n,i),{active:n,activeKey:x,activeHref:w,onSelect:i}))}))},t}(h.a.Component);Yi.propTypes=Gi,Yi.defaultProps={justified:!1,pullRight:!1,pullLeft:!1,stacked:!1},Yi.contextTypes=Ki;var Xi=j("nav",B(["tabs","pills"],Yi)),Qi={$bs_navbar:w.a.shape({bsClass:w.a.string})},Zi=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,i=y()(e,["className","children"]),r=$(this.context.$bs_navbar||{bsClass:"navbar"},"brand");return h.a.isValidElement(n)?h.a.cloneElement(n,{className:_()(n.props.className,t,r)}):h.a.createElement("span",s()({},i,{className:_()(t,r)}),n)},t}(h.a.Component);Zi.contextTypes=Qi;var Ji=Zi,er={$bs_navbar:w.a.shape({bsClass:w.a.string,expanded:w.a.bool})},tr=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=y()(e,["children"]),i=this.context.$bs_navbar||{bsClass:"navbar"},r=$(i,"collapse");return h.a.createElement(_t,s()({in:i.expanded},n),h.a.createElement("div",{className:r},t))},t}(h.a.Component);tr.contextTypes=er;var nr=tr,ir={$bs_navbar:w.a.shape({bsClass:w.a.string})},rr=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=y()(e,["className"]),i=$(this.context.$bs_navbar||{bsClass:"navbar"},"header");return h.a.createElement("div",s()({},n,{className:_()(t,i)}))},t}(h.a.Component);rr.contextTypes=ir;var or=rr,sr={onClick:w.a.func,children:w.a.node},ar={$bs_navbar:w.a.shape({bsClass:w.a.string,expanded:w.a.bool,onToggle:w.a.func.isRequired})},lr=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.props,t=e.onClick,n=e.className,i=e.children,r=y()(e,["onClick","className","children"]),o=this.context.$bs_navbar||{bsClass:"navbar"},a=s()({type:"button"},r,{onClick:Y(t,o.onToggle),className:_()(n,$(o,"toggle"),!o.expanded&&"collapsed")});return i?h.a.createElement("button",a,i):h.a.createElement("button",a,h.a.createElement("span",{className:"sr-only"},"Toggle navigation"),h.a.createElement("span",{className:"icon-bar"}),h.a.createElement("span",{className:"icon-bar"}),h.a.createElement("span",{className:"icon-bar"}))},t}(h.a.Component);lr.propTypes=sr,lr.contextTypes=ar;var ur=lr,cr={fixedTop:w.a.bool,fixedBottom:w.a.bool,staticTop:w.a.bool,inverse:w.a.bool,fluid:w.a.bool,componentClass:de.a,onToggle:w.a.func,onSelect:w.a.func,collapseOnSelect:w.a.bool,expanded:w.a.bool,role:w.a.string},pr={$bs_navbar:w.a.shape({bsClass:w.a.string,expanded:w.a.bool,onToggle:w.a.func.isRequired,onSelect:w.a.func})},fr=function(e){function t(n,i){l()(this,t);var r=c()(this,e.call(this,n,i));return r.handleToggle=r.handleToggle.bind(r),r.handleCollapse=r.handleCollapse.bind(r),r}return f()(t,e),t.prototype.getChildContext=function(){var e=this.props,t=e.bsClass,n=e.expanded,i=e.onSelect,r=e.collapseOnSelect;return{$bs_navbar:{bsClass:t,expanded:n,onToggle:this.handleToggle,onSelect:Y(i,r?this.handleCollapse:null)}}},t.prototype.handleCollapse=function(){var e=this.props,t=e.onToggle;e.expanded&&t(!1)},t.prototype.handleToggle=function(){var e=this.props;(0,e.onToggle)(!e.expanded)},t.prototype.render=function(){var e,t=this.props,n=t.componentClass,i=t.fixedTop,r=t.fixedBottom,o=t.staticTop,a=t.inverse,l=t.fluid,u=t.className,c=t.children,p=V(y()(t,["componentClass","fixedTop","fixedBottom","staticTop","inverse","fluid","className","children"]),["expanded","onToggle","onSelect","collapseOnSelect"]),f=p[0],d=p[1];void 0===d.role&&"nav"!==n&&(d.role="navigation"),a&&(f.bsStyle=I);var m=s()({},q(f),((e={})[$(f,"fixed-top")]=i,e[$(f,"fixed-bottom")]=r,e[$(f,"static-top")]=o,e));return h.a.createElement(n,s()({},d,{className:_()(u,m)}),h.a.createElement(kn,{fluid:l},c))},t}(h.a.Component);fr.propTypes=cr,fr.defaultProps={componentClass:"nav",fixedTop:!1,fixedBottom:!1,staticTop:!1,inverse:!1,fluid:!1,collapseOnSelect:!1},fr.childContextTypes=pr,j("navbar",fr);var dr=Mt()(fr,{expanded:"onToggle"});function hr(e,t,n){var i=function(e,n){var i=n.$bs_navbar,r=void 0===i?{bsClass:"navbar"}:i,o=e.componentClass,a=e.className,l=e.pullRight,u=e.pullLeft,c=y()(e,["componentClass","className","pullRight","pullLeft"]);return h.a.createElement(o,s()({},c,{className:_()(a,$(r,t),l&&$(r,"right"),u&&$(r,"left"))}))};return i.displayName=n,i.propTypes={componentClass:de.a,pullRight:w.a.bool,pullLeft:w.a.bool},i.defaultProps={componentClass:e,pullRight:!1,pullLeft:!1},i.contextTypes={$bs_navbar:w.a.shape({bsClass:w.a.string})},i}dr.Brand=Ji,dr.Header=or,dr.Toggle=ur,dr.Collapse=nr,dr.Form=hr("div","form","NavbarForm"),dr.Text=hr("p","text","NavbarText"),dr.Link=hr("a","link","NavbarLink");var mr=B([L,I],L,dr),gr=s()({},Yt.propTypes,{title:w.a.node.isRequired,noCaret:w.a.bool,active:w.a.bool,children:w.a.node}),br=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.isActive=function(e,t,n){var i=e.props,r=this;return!!(i.active||null!=t&&i.eventKey===t||n&&i.href===n)||(!!X.some(i.children,function(e){return r.isActive(e,t,n)})||i.active)},t.prototype.render=function(){var e=this,t=this.props,n=t.title,i=t.activeKey,r=t.activeHref,o=t.className,a=t.style,l=t.children,u=y()(t,["title","activeKey","activeHref","className","style","children"]),c=this.isActive(this,i,r);delete u.active,delete u.eventKey;var p=Xt(u,Yt.ControlledComponent),f=p[0],d=p[1];return h.a.createElement(Yt,s()({},f,{componentClass:"li",className:_()(o,{active:c}),style:a}),h.a.createElement(Yt.Toggle,s()({},d,{useAnchor:!0}),n),h.a.createElement(Yt.Menu,null,X.map(l,function(t){return h.a.cloneElement(t,{active:e.isActive(t,i,r)})})))},t}(h.a.Component);br.propTypes=gr;var yr=br,vr={active:w.a.bool,disabled:w.a.bool,role:w.a.string,href:w.a.string,onClick:w.a.func,onSelect:w.a.func,eventKey:w.a.any},_r=function(e){function t(n,i){l()(this,t);var r=c()(this,e.call(this,n,i));return r.handleClick=r.handleClick.bind(r),r}return f()(t,e),t.prototype.handleClick=function(e){this.props.onSelect&&(e.preventDefault(),this.props.disabled||this.props.onSelect(this.props.eventKey,e))},t.prototype.render=function(){var e=this.props,t=e.active,n=e.disabled,i=e.onClick,r=e.className,o=e.style,a=y()(e,["active","disabled","onClick","className","style"]);return delete a.onSelect,delete a.eventKey,delete a.activeKey,delete a.activeHref,a.role?"tab"===a.role&&(a["aria-selected"]=t):"#"===a.href&&(a.role="button"),h.a.createElement("li",{role:"presentation",className:_()(r,{active:t,disabled:n}),style:o},h.a.createElement(be,s()({},a,{disabled:n,onClick:Y(i,this.handleClick)})))},t}(h.a.Component);_r.propTypes=vr,_r.defaultProps={active:!1,disabled:!1};var xr=_r,wr=n(96),kr=n.n(wr),Sr=s()({},kr.a.propTypes,{show:w.a.bool,rootClose:w.a.bool,onHide:w.a.func,animation:w.a.oneOfType([w.a.bool,de.a]),onEnter:w.a.func,onEntering:w.a.func,onEntered:w.a.func,onExit:w.a.func,onExiting:w.a.func,onExited:w.a.func,placement:w.a.oneOf(["top","right","bottom","left"])}),Cr={animation:nn,rootClose:!1,show:!1,placement:"right"},Er=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.props,t=e.animation,n=e.children,i=y()(e,["animation","children"]),r=!0===t?nn:t||null,o=void 0;return o=r?n:Object(d.cloneElement)(n,{className:_()(n.props.className,"in")}),h.a.createElement(kr.a,s()({},i,{transition:r}),o)},t}(h.a.Component);Er.propTypes=Sr,Er.defaultProps=Cr;var Tr=Er;function Ar(e,t){return Array.isArray(t)?t.indexOf(e)>=0:e===t}var Nr=w.a.oneOf(["click","hover","focus"]),Mr=s()({},Tr.propTypes,{trigger:w.a.oneOfType([Nr,w.a.arrayOf(Nr)]),delay:w.a.number,delayShow:w.a.number,delayHide:w.a.number,defaultOverlayShown:w.a.bool,overlay:w.a.node.isRequired,onBlur:w.a.func,onClick:w.a.func,onFocus:w.a.func,onMouseOut:w.a.func,onMouseOver:w.a.func,target:w.a.oneOf([null]),onHide:w.a.oneOf([null]),show:w.a.oneOf([null])}),Rr=function(e){function t(n,i){l()(this,t);var r=c()(this,e.call(this,n,i));return r.handleToggle=r.handleToggle.bind(r),r.handleDelayedShow=r.handleDelayedShow.bind(r),r.handleDelayedHide=r.handleDelayedHide.bind(r),r.handleHide=r.handleHide.bind(r),r.handleMouseOver=function(e){return r.handleMouseOverOut(r.handleDelayedShow,e)},r.handleMouseOut=function(e){return r.handleMouseOverOut(r.handleDelayedHide,e)},r._mountNode=null,r.state={show:n.defaultOverlayShown},r}return f()(t,e),t.prototype.componentDidMount=function(){this._mountNode=document.createElement("div"),this.renderOverlay()},t.prototype.componentDidUpdate=function(){this.renderOverlay()},t.prototype.componentWillUnmount=function(){Fe.a.unmountComponentAtNode(this._mountNode),this._mountNode=null,clearTimeout(this._hoverShowDelay),clearTimeout(this._hoverHideDelay)},t.prototype.handleDelayedHide=function(){var e=this;if(null!=this._hoverShowDelay)return clearTimeout(this._hoverShowDelay),void(this._hoverShowDelay=null);if(this.state.show&&null==this._hoverHideDelay){var t=null!=this.props.delayHide?this.props.delayHide:this.props.delay;t?this._hoverHideDelay=setTimeout(function(){e._hoverHideDelay=null,e.hide()},t):this.hide()}},t.prototype.handleDelayedShow=function(){var e=this;if(null!=this._hoverHideDelay)return clearTimeout(this._hoverHideDelay),void(this._hoverHideDelay=null);if(!this.state.show&&null==this._hoverShowDelay){var t=null!=this.props.delayShow?this.props.delayShow:this.props.delay;t?this._hoverShowDelay=setTimeout(function(){e._hoverShowDelay=null,e.show()},t):this.show()}},t.prototype.handleHide=function(){this.hide()},t.prototype.handleMouseOverOut=function(e,t){var n=t.currentTarget,i=t.relatedTarget||t.nativeEvent.toElement;i&&i===n||St()(n,i)||e(t)},t.prototype.handleToggle=function(){this.state.show?this.hide():this.show()},t.prototype.hide=function(){this.setState({show:!1})},t.prototype.makeOverlay=function(e,t){return h.a.createElement(Tr,s()({},t,{show:this.state.show,onHide:this.handleHide,target:this}),e)},t.prototype.show=function(){this.setState({show:!0})},t.prototype.renderOverlay=function(){Fe.a.unstable_renderSubtreeIntoContainer(this,this._overlay,this._mountNode)},t.prototype.render=function(){var e=this.props,t=e.trigger,n=e.overlay,i=e.children,r=e.onBlur,o=e.onClick,s=e.onFocus,a=e.onMouseOut,l=e.onMouseOver,u=y()(e,["trigger","overlay","children","onBlur","onClick","onFocus","onMouseOut","onMouseOver"]);delete u.delay,delete u.delayShow,delete u.delayHide,delete u.defaultOverlayShown;var c=h.a.Children.only(i),p=c.props,f={};return this.state.show&&(f["aria-describedby"]=n.props.id),f.onClick=Y(p.onClick,o),Ar("click",t)&&(f.onClick=Y(f.onClick,this.handleToggle)),Ar("hover",t)&&(f.onMouseOver=Y(p.onMouseOver,l,this.handleMouseOver),f.onMouseOut=Y(p.onMouseOut,a,this.handleMouseOut)),Ar("focus",t)&&(f.onFocus=Y(p.onFocus,s,this.handleDelayedShow),f.onBlur=Y(p.onBlur,r,this.handleDelayedHide)),this._overlay=this.makeOverlay(n,u),Object(d.cloneElement)(c,f)},t}(h.a.Component);Rr.propTypes=Mr,Rr.defaultProps={defaultOverlayShown:!1,trigger:["hover","focus"]};var Or=Rr,Lr=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,i=W(y()(e,["className","children"])),r=i[0],o=i[1],a=q(r);return h.a.createElement("div",s()({},o,{className:_()(t,a)}),h.a.createElement("h1",null,n))},t}(h.a.Component),Pr=j("page-header",Lr),Dr={disabled:w.a.bool,previous:w.a.bool,next:w.a.bool,onClick:w.a.func,onSelect:w.a.func,eventKey:w.a.any},Ir=function(e){function t(n,i){l()(this,t);var r=c()(this,e.call(this,n,i));return r.handleSelect=r.handleSelect.bind(r),r}return f()(t,e),t.prototype.handleSelect=function(e){var t=this.props,n=t.disabled,i=t.onSelect,r=t.eventKey;(i||n)&&e.preventDefault(),n||i&&i(r,e)},t.prototype.render=function(){var e=this.props,t=e.disabled,n=e.previous,i=e.next,r=e.onClick,o=e.className,a=e.style,l=y()(e,["disabled","previous","next","onClick","className","style"]);return delete l.onSelect,delete l.eventKey,h.a.createElement("li",{className:_()(o,{disabled:t,previous:n,next:i}),style:a},h.a.createElement(be,s()({},l,{disabled:t,onClick:Y(r,this.handleSelect)})))},t}(h.a.Component);Ir.propTypes=Dr,Ir.defaultProps={disabled:!1,previous:!1,next:!1};var Fr=Ir,$r=n(63),jr=n.n($r),Br={};function zr(e,t,n){var i=void 0;"object"===(void 0===e?"undefined":jr()(e))?i=e.message:(i=e+" is deprecated. Use "+t+" instead.",n&&(i+="\nYou can read more about it at "+n)),Br[i]||(Br[i]=!0)}zr.wrapper=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.componentWillMount=function(){if(zr.apply(void 0,n),e.prototype.componentWillMount){for(var t,i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];(t=e.prototype.componentWillMount).call.apply(t,[this].concat(r))}},t}(e)};var qr=zr.wrapper(Fr,"`<PageItem>`","`<Pager.Item>`"),Hr={onSelect:w.a.func},Ur=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.props,t=e.onSelect,n=e.className,i=e.children,r=W(y()(e,["onSelect","className","children"])),o=r[0],a=r[1],l=q(o);return h.a.createElement("ul",s()({},a,{className:_()(n,l)}),X.map(i,function(e){return Object(d.cloneElement)(e,{onSelect:Y(e.props.onSelect,t)})}))},t}(h.a.Component);Ur.propTypes=Hr,Ur.Item=Fr;var Wr=j("pager",Ur),Vr={componentClass:de.a,className:w.a.string,eventKey:w.a.any,onSelect:w.a.func,disabled:w.a.bool,active:w.a.bool,onClick:w.a.func},Gr={componentClass:be,active:!1,disabled:!1},Kr=function(e){function t(n,i){l()(this,t);var r=c()(this,e.call(this,n,i));return r.handleClick=r.handleClick.bind(r),r}return f()(t,e),t.prototype.handleClick=function(e){var t=this.props,n=t.disabled,i=t.onSelect,r=t.eventKey;n||i&&i(r,e)},t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.active,i=e.disabled,r=e.onClick,o=e.className,a=e.style,l=y()(e,["componentClass","active","disabled","onClick","className","style"]);return t===be&&delete l.eventKey,delete l.onSelect,h.a.createElement("li",{className:_()(o,{active:n,disabled:i}),style:a},h.a.createElement(t,s()({},l,{disabled:i,onClick:Y(r,this.handleClick)})))},t}(h.a.Component);Kr.propTypes=Vr,Kr.defaultProps=Gr;var Yr=Kr,Xr={activePage:w.a.number,items:w.a.number,maxButtons:w.a.number,boundaryLinks:w.a.bool,ellipsis:w.a.oneOfType([w.a.bool,w.a.node]),first:w.a.oneOfType([w.a.bool,w.a.node]),last:w.a.oneOfType([w.a.bool,w.a.node]),prev:w.a.oneOfType([w.a.bool,w.a.node]),next:w.a.oneOfType([w.a.bool,w.a.node]),onSelect:w.a.func,buttonComponentClass:de.a},Qr=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.renderPageButtons=function(e,t,n,i,r,o){var a=[],l=void 0,u=void 0;n&&n<t?u=(l=Math.max(Math.min(e-Math.floor(n/2,10),t-n+1),1))+n-1:(l=1,u=t);for(var c=l;c<=u;++c)a.push(h.a.createElement(Yr,s()({},o,{key:c,eventKey:c,active:c===e}),c));return r&&i&&l>1&&(l>2&&a.unshift(h.a.createElement(Yr,{key:"ellipsisFirst",disabled:!0,componentClass:o.componentClass},h.a.createElement("span",{"aria-label":"More"},!0===r?"…":r))),a.unshift(h.a.createElement(Yr,s()({},o,{key:1,eventKey:1,active:!1}),"1"))),r&&u<t&&((!i||u<t-1)&&a.push(h.a.createElement(Yr,{key:"ellipsis",disabled:!0,componentClass:o.componentClass},h.a.createElement("span",{"aria-label":"More"},!0===r?"…":r))),i&&a.push(h.a.createElement(Yr,s()({},o,{key:t,eventKey:t,active:!1}),t))),a},t.prototype.render=function(){var e=this.props,t=e.activePage,n=e.items,i=e.maxButtons,r=e.boundaryLinks,o=e.ellipsis,a=e.first,l=e.last,u=e.prev,c=e.next,p=e.onSelect,f=e.buttonComponentClass,d=e.className,m=W(y()(e,["activePage","items","maxButtons","boundaryLinks","ellipsis","first","last","prev","next","onSelect","buttonComponentClass","className"])),g=m[0],b=m[1],v=q(g),x={onSelect:p,componentClass:f};return h.a.createElement("ul",s()({},b,{className:_()(d,v)}),a&&h.a.createElement(Yr,s()({},x,{eventKey:1,disabled:1===t}),h.a.createElement("span",{"aria-label":"First"},!0===a?"«":a)),u&&h.a.createElement(Yr,s()({},x,{eventKey:t-1,disabled:1===t}),h.a.createElement("span",{"aria-label":"Previous"},!0===u?"‹":u)),this.renderPageButtons(t,n,i,r,o,x),c&&h.a.createElement(Yr,s()({},x,{eventKey:t+1,disabled:t>=n}),h.a.createElement("span",{"aria-label":"Next"},!0===c?"›":c)),l&&h.a.createElement(Yr,s()({},x,{eventKey:n,disabled:t>=n}),h.a.createElement("span",{"aria-label":"Last"},!0===l?"»":l)))},t}(h.a.Component);Qr.propTypes=Xr,Qr.defaultProps={activePage:1,items:1,maxButtons:0,first:!1,last:!1,prev:!1,next:!1,ellipsis:!0,boundaryLinks:!1};var Zr=j("pagination",Qr),Jr={collapsible:w.a.bool,onSelect:w.a.func,header:w.a.node,id:w.a.oneOfType([w.a.string,w.a.number]),footer:w.a.node,defaultExpanded:w.a.bool,expanded:w.a.bool,eventKey:w.a.any,headerRole:w.a.string,panelRole:w.a.string,onEnter:w.a.func,onEntering:w.a.func,onEntered:w.a.func,onExit:w.a.func,onExiting:w.a.func,onExited:w.a.func},eo=function(e){function t(n,i){l()(this,t);var r=c()(this,e.call(this,n,i));return r.handleClickTitle=r.handleClickTitle.bind(r),r.state={expanded:r.props.defaultExpanded},r}return f()(t,e),t.prototype.handleClickTitle=function(e){e.persist(),e.selected=!0,this.props.onSelect?this.props.onSelect(this.props.eventKey,e):e.preventDefault(),e.selected&&this.setState({expanded:!this.state.expanded})},t.prototype.renderAnchor=function(e,t,n,i){return h.a.createElement("a",{role:n,href:t&&"#"+t,onClick:this.handleClickTitle,"aria-controls":t,"aria-expanded":i,"aria-selected":i,className:i?null:"collapsed"},e)},t.prototype.renderBody=function(e,t){var n=[],i=[],r=$(t,"body");function o(){i.length&&(n.push(h.a.createElement("div",{key:n.length,className:r},i)),i=[])}return h.a.Children.toArray(e).forEach(function(e){if(h.a.isValidElement(e)&&e.props.fill)return o(),void n.push(Object(d.cloneElement)(e,{fill:void 0}));i.push(e)}),o(),n},t.prototype.renderCollapsibleBody=function(e,t,n,i,r,o){return h.a.createElement(_t,s()({in:t},o),h.a.createElement("div",{id:e,role:n,className:$(r,"collapse"),"aria-hidden":!t},this.renderBody(i,r)))},t.prototype.renderHeader=function(e,t,n,i,r,o){var s=$(o,"title");return e?h.a.isValidElement(t)?Object(d.cloneElement)(t,{className:_()(t.props.className,s),children:this.renderAnchor(t.props.children,n,i,r)}):h.a.createElement("h4",{role:"presentation",className:s},this.renderAnchor(t,n,i,r)):h.a.isValidElement(t)?Object(d.cloneElement)(t,{className:_()(t.props.className,s)}):t},t.prototype.render=function(){var e=this.props,t=e.collapsible,n=e.header,i=e.id,r=e.footer,o=e.expanded,a=e.headerRole,l=e.panelRole,u=e.className,c=e.children,p=e.onEnter,f=e.onEntering,d=e.onEntered,m=e.onExit,g=e.onExiting,b=e.onExited,v=V(y()(e,["collapsible","header","id","footer","expanded","headerRole","panelRole","className","children","onEnter","onEntering","onEntered","onExit","onExiting","onExited"]),["defaultExpanded","eventKey","onSelect"]),x=v[0],w=v[1],k=null!=o?o:this.state.expanded,S=q(x);return h.a.createElement("div",s()({},w,{className:_()(u,S),id:t?null:i}),n&&h.a.createElement("div",{className:$(x,"heading")},this.renderHeader(t,n,i,a,k,x)),t?this.renderCollapsibleBody(i,k,l,c,x,{onEnter:p,onEntering:f,onEntered:d,onExit:m,onExiting:g,onExited:b}):this.renderBody(c,x),r&&h.a.createElement("div",{className:$(x,"footer")},r))},t}(h.a.Component);eo.propTypes=Jr,eo.defaultProps={defaultExpanded:!1};var to=j("panel",B([].concat(ne()(O),[L,P]),L,eo)),no={id:At()(w.a.oneOfType([w.a.string,w.a.number])),placement:w.a.oneOf(["top","right","bottom","left"]),positionTop:w.a.oneOfType([w.a.number,w.a.string]),positionLeft:w.a.oneOfType([w.a.number,w.a.string]),arrowOffsetTop:w.a.oneOfType([w.a.number,w.a.string]),arrowOffsetLeft:w.a.oneOfType([w.a.number,w.a.string]),title:w.a.node},io=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e,t=this.props,n=t.placement,i=t.positionTop,r=t.positionLeft,o=t.arrowOffsetTop,a=t.arrowOffsetLeft,l=t.title,u=t.className,c=t.style,p=t.children,f=W(y()(t,["placement","positionTop","positionLeft","arrowOffsetTop","arrowOffsetLeft","title","className","style","children"])),d=f[0],m=f[1],g=s()({},q(d),((e={})[n]=!0,e)),b=s()({display:"block",top:i,left:r},c),v={top:o,left:a};return h.a.createElement("div",s()({},m,{role:"tooltip",className:_()(u,g),style:b}),h.a.createElement("div",{className:"arrow",style:v}),l&&h.a.createElement("h3",{className:$(d,"title")},l),h.a.createElement("div",{className:$(d,"content")},p))},t}(h.a.Component);io.propTypes=no,io.defaultProps={placement:"right"};var ro=j("popover",io),oo=1e3;var so={min:w.a.number,now:w.a.number,max:w.a.number,label:w.a.node,srOnly:w.a.bool,striped:w.a.bool,active:w.a.bool,children:function(e,t,n){var i=e[t];if(!i)return null;var r=null;return h.a.Children.forEach(i,function(e){if(!r&&e.type!==lo){var t=h.a.isValidElement(e)?e.type.displayName||e.type.name||e.type:e;r=new Error("Children of "+n+" can contain only ProgressBar components. Found "+t+".")}}),r},isChild:w.a.bool};function ao(e,t,n){var i=(e-t)/(n-t)*100;return Math.round(i*oo)/oo}var lo=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.renderProgressBar=function(e){var t,n=e.min,i=e.now,r=e.max,o=e.label,a=e.srOnly,l=e.striped,u=e.active,c=e.className,p=e.style,f=W(y()(e,["min","now","max","label","srOnly","striped","active","className","style"])),d=f[0],m=f[1],g=s()({},q(d),((t={active:u})[$(d,"striped")]=u||l,t));return h.a.createElement("div",s()({},m,{role:"progressbar",className:_()(c,g),style:s()({width:ao(i,n,r)+"%"},p),"aria-valuenow":i,"aria-valuemin":n,"aria-valuemax":r}),a?h.a.createElement("span",{className:"sr-only"},o):o)},t.prototype.render=function(){var e=this.props,t=e.isChild,n=y()(e,["isChild"]);if(t)return this.renderProgressBar(n);var i=n.min,r=n.now,o=n.max,a=n.label,l=n.srOnly,u=n.striped,c=n.active,p=n.bsClass,f=n.bsStyle,m=n.className,g=n.children,b=y()(n,["min","now","max","label","srOnly","striped","active","bsClass","bsStyle","className","children"]);return h.a.createElement("div",s()({},b,{className:_()(m,"progress")}),g?X.map(g,function(e){return Object(d.cloneElement)(e,{isChild:!0})}):this.renderProgressBar({min:i,now:r,max:o,label:a,srOnly:l,striped:u,active:c,bsClass:p,bsStyle:f}))},t}(h.a.Component);lo.propTypes=so,lo.defaultProps={min:0,max:100,active:!1,isChild:!1,srOnly:!1,striped:!1};var uo=j("progress-bar",B(ne()(O),lo)),co={inline:w.a.bool,disabled:w.a.bool,title:w.a.string,validationState:w.a.oneOf(["success","warning","error",null]),inputRef:w.a.func},po=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.props,t=e.inline,n=e.disabled,i=e.validationState,r=e.inputRef,o=e.className,a=e.style,l=e.title,u=e.children,c=W(y()(e,["inline","disabled","validationState","inputRef","className","style","title","children"])),p=c[0],f=c[1],d=h.a.createElement("input",s()({},f,{ref:r,type:"radio",disabled:n}));if(t){var m,g=((m={})[$(p,"inline")]=!0,m.disabled=n,m);return h.a.createElement("label",{className:_()(o,g),style:a,title:l},d,u)}var b=s()({},q(p),{disabled:n});return i&&(b["has-"+i]=!0),h.a.createElement("div",{className:_()(o,b),style:a},h.a.createElement("label",{title:l},d,u))},t}(h.a.Component);po.propTypes=co,po.defaultProps={inline:!1,disabled:!1,title:""};var fo=j("radio",po),ho={children:w.a.element.isRequired,a16by9:w.a.bool,a4by3:w.a.bool},mo=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e,t=this.props,n=t.a16by9,i=t.a4by3,r=t.className,o=t.children,a=W(y()(t,["a16by9","a4by3","className","children"])),l=a[0],u=a[1],c=s()({},q(l),((e={})[$(l,"16by9")]=n,e[$(l,"4by3")]=i,e));return h.a.createElement("div",{className:_()(c)},Object(d.cloneElement)(o,s()({},u,{className:_()(r,$(l,"item"))})))},t}(h.a.Component);mo.propTypes=ho,mo.defaultProps={a16by9:!1,a4by3:!1};var go=j("embed-responsive",mo),bo={componentClass:de.a},yo=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,i=W(y()(e,["componentClass","className"])),r=i[0],o=i[1],a=q(r);return h.a.createElement(t,s()({},o,{className:_()(n,a)}))},t}(h.a.Component);yo.propTypes=bo,yo.defaultProps={componentClass:"div"};var vo=j("row",yo),_o=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){return h.a.createElement(Bt,s()({},this.props,{useAnchor:!1,noCaret:!1}))},t}(h.a.Component);_o.defaultProps=Bt.defaultProps;var xo=_o,wo=s()({},Yt.propTypes,{bsStyle:w.a.string,bsSize:w.a.string,href:w.a.string,onClick:w.a.func,title:w.a.node.isRequired,toggleLabel:w.a.string,children:w.a.node}),ko=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.props,t=e.bsSize,n=e.bsStyle,i=e.title,r=e.toggleLabel,o=e.children,a=y()(e,["bsSize","bsStyle","title","toggleLabel","children"]),l=Xt(a,Yt.ControlledComponent),u=l[0],c=l[1];return h.a.createElement(Yt,s()({},u,{bsSize:t,bsStyle:n}),h.a.createElement(Ce,s()({},c,{disabled:a.disabled,bsSize:t,bsStyle:n}),i),h.a.createElement(xo,{"aria-label":r||i,bsSize:t,bsStyle:n}),h.a.createElement(Yt.Menu,null,o))},t}(h.a.Component);ko.propTypes=wo,ko.Toggle=xo;var So=ko,Co=w.a.oneOfType([w.a.string,w.a.number]),Eo={id:function(e){var t=null;if(!e.generateChildId){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];(t=Co.apply(void 0,[e].concat(i)))||e.id||(t=new Error("In order to properly initialize Tabs in a way that is accessible to assistive technologies (such as screen readers) an `id` or a `generateChildId` prop to TabContainer is required"))}return t},generateChildId:w.a.func,onSelect:w.a.func,activeKey:w.a.any},To={$bs_tabContainer:w.a.shape({activeKey:w.a.any,onSelect:w.a.func.isRequired,getTabId:w.a.func.isRequired,getPaneId:w.a.func.isRequired})},Ao=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.getChildContext=function(){var e=this.props,t=e.activeKey,n=e.onSelect,i=e.generateChildId,r=e.id,o=i||function(e,t){return r?r+"-"+t+"-"+e:null};return{$bs_tabContainer:{activeKey:t,onSelect:n,getTabId:function(e){return o(e,"tab")},getPaneId:function(e){return o(e,"pane")}}}},t.prototype.render=function(){var e=this.props,t=e.children,n=y()(e,["children"]);return delete n.generateChildId,delete n.onSelect,delete n.activeKey,h.a.cloneElement(h.a.Children.only(t),n)},t}(h.a.Component);Ao.propTypes=Eo,Ao.childContextTypes=To;var No=Mt()(Ao,{activeKey:"onSelect"}),Mo={componentClass:de.a,animation:w.a.oneOfType([w.a.bool,de.a]),mountOnEnter:w.a.bool,unmountOnExit:w.a.bool},Ro={$bs_tabContainer:w.a.shape({activeKey:w.a.any})},Oo={$bs_tabContent:w.a.shape({bsClass:w.a.string,animation:w.a.oneOfType([w.a.bool,de.a]),activeKey:w.a.any,mountOnEnter:w.a.bool,unmountOnExit:w.a.bool,onPaneEnter:w.a.func.isRequired,onPaneExited:w.a.func.isRequired,exiting:w.a.bool.isRequired})},Lo=function(e){function t(n,i){l()(this,t);var r=c()(this,e.call(this,n,i));return r.handlePaneEnter=r.handlePaneEnter.bind(r),r.handlePaneExited=r.handlePaneExited.bind(r),r.state={activeKey:null,activeChild:null},r}return f()(t,e),t.prototype.getChildContext=function(){var e=this.props,t=e.bsClass,n=e.animation,i=e.mountOnEnter,r=e.unmountOnExit,o=this.state.activeKey,s=this.getContainerActiveKey(),a=null!=o&&o!==s;return{$bs_tabContent:{bsClass:t,animation:n,activeKey:null!=o?o:s,mountOnEnter:i,unmountOnExit:r,onPaneEnter:this.handlePaneEnter,onPaneExited:this.handlePaneExited,exiting:a}}},t.prototype.componentWillReceiveProps=function(e){!e.animation&&this.state.activeChild&&this.setState({activeKey:null,activeChild:null})},t.prototype.componentWillUnmount=function(){this.isUnmounted=!0},t.prototype.getContainerActiveKey=function(){var e=this.context.$bs_tabContainer;return e&&e.activeKey},t.prototype.handlePaneEnter=function(e,t){return!!this.props.animation&&(t===this.getContainerActiveKey()&&(this.setState({activeKey:t,activeChild:e}),!0))},t.prototype.handlePaneExited=function(e){this.isUnmounted||this.setState(function(t){return t.activeChild!==e?null:{activeKey:null,activeChild:null}})},t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,i=V(y()(e,["componentClass","className"]),["animation","mountOnEnter","unmountOnExit"]),r=i[0],o=i[1];return h.a.createElement(t,s()({},o,{className:_()(n,$(r,"content"))}))},t}(h.a.Component);Lo.propTypes=Mo,Lo.defaultProps={componentClass:"div",animation:!0,mountOnEnter:!1,unmountOnExit:!1},Lo.contextTypes=Ro,Lo.childContextTypes=Oo;var Po=j("tab",Lo),Do={eventKey:w.a.any,animation:w.a.oneOfType([w.a.bool,de.a]),id:w.a.string,"aria-labelledby":w.a.string,bsClass:w.a.string,onEnter:w.a.func,onEntering:w.a.func,onEntered:w.a.func,onExit:w.a.func,onExiting:w.a.func,onExited:w.a.func,mountOnEnter:w.a.bool,unmountOnExit:w.a.bool},Io={$bs_tabContainer:w.a.shape({getTabId:w.a.func,getPaneId:w.a.func}),$bs_tabContent:w.a.shape({bsClass:w.a.string,animation:w.a.oneOfType([w.a.bool,de.a]),activeKey:w.a.any,mountOnEnter:w.a.bool,unmountOnExit:w.a.bool,onPaneEnter:w.a.func.isRequired,onPaneExited:w.a.func.isRequired,exiting:w.a.bool.isRequired})},Fo={$bs_tabContainer:w.a.oneOf([null])},$o=function(e){function t(n,i){l()(this,t);var r=c()(this,e.call(this,n,i));return r.handleEnter=r.handleEnter.bind(r),r.handleExited=r.handleExited.bind(r),r.in=!1,r}return f()(t,e),t.prototype.getChildContext=function(){return{$bs_tabContainer:null}},t.prototype.componentDidMount=function(){this.shouldBeIn()&&this.handleEnter()},t.prototype.componentDidUpdate=function(){this.in?this.shouldBeIn()||this.handleExited():this.shouldBeIn()&&this.handleEnter()},t.prototype.componentWillUnmount=function(){this.in&&this.handleExited()},t.prototype.getAnimation=function(){if(null!=this.props.animation)return this.props.animation;var e=this.context.$bs_tabContent;return e&&e.animation},t.prototype.handleEnter=function(){var e=this.context.$bs_tabContent;e&&(this.in=e.onPaneEnter(this,this.props.eventKey))},t.prototype.handleExited=function(){var e=this.context.$bs_tabContent;e&&(e.onPaneExited(this),this.in=!1)},t.prototype.isActive=function(){var e=this.context.$bs_tabContent,t=e&&e.activeKey;return this.props.eventKey===t},t.prototype.shouldBeIn=function(){return this.getAnimation()&&this.isActive()},t.prototype.render=function(){var e=this.props,t=e.eventKey,n=e.className,i=e.onEnter,r=e.onEntering,o=e.onEntered,a=e.onExit,l=e.onExiting,u=e.onExited,c=e.mountOnEnter,p=e.unmountOnExit,f=y()(e,["eventKey","className","onEnter","onEntering","onEntered","onExit","onExiting","onExited","mountOnEnter","unmountOnExit"]),d=this.context,m=d.$bs_tabContent,g=d.$bs_tabContainer,b=V(f,["animation"]),v=b[0],x=b[1],w=this.isActive(),k=this.getAnimation(),S=null!=c?c:m&&m.mountOnEnter,C=null!=p?p:m&&m.unmountOnExit;if(!w&&!k&&C)return null;var E=!0===k?nn:k||null;m&&(v.bsClass=$(m,"pane"));var T=s()({},q(v),{active:w});g&&(x.id=g.getPaneId(t),x["aria-labelledby"]=g.getTabId(t));var A=h.a.createElement("div",s()({},x,{role:"tabpanel","aria-hidden":!w,className:_()(n,T)}));if(E){var N=m&&m.exiting;return h.a.createElement(E,{in:w&&!N,onEnter:Y(this.handleEnter,i),onEntering:r,onEntered:o,onExit:a,onExiting:l,onExited:Y(this.handleExited,u),mountOnEnter:S,unmountOnExit:C},A)}return A},t}(h.a.Component);$o.propTypes=Do,$o.contextTypes=Io,$o.childContextTypes=Fo;var jo=j("tab-pane",$o),Bo=s()({},jo.propTypes,{disabled:w.a.bool,title:w.a.node,tabClassName:w.a.string}),zo=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=s()({},this.props);return delete e.title,delete e.disabled,delete e.tabClassName,h.a.createElement(jo,e)},t}(h.a.Component);zo.propTypes=Bo,zo.Container=No,zo.Content=Po,zo.Pane=jo;var qo=zo,Ho={striped:w.a.bool,bordered:w.a.bool,condensed:w.a.bool,hover:w.a.bool,responsive:w.a.bool},Uo=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e,t=this.props,n=t.striped,i=t.bordered,r=t.condensed,o=t.hover,a=t.responsive,l=t.className,u=W(y()(t,["striped","bordered","condensed","hover","responsive","className"])),c=u[0],p=u[1],f=s()({},q(c),((e={})[$(c,"striped")]=n,e[$(c,"bordered")]=i,e[$(c,"condensed")]=r,e[$(c,"hover")]=o,e)),d=h.a.createElement("table",s()({},p,{className:_()(l,f)}));return a?h.a.createElement("div",{className:$(c,"responsive")},d):d},t}(h.a.Component);Uo.propTypes=Ho,Uo.defaultProps={bordered:!1,condensed:!1,hover:!1,responsive:!1,striped:!1};var Wo=j("table",Uo),Vo=No.ControlledComponent,Go={activeKey:w.a.any,bsStyle:w.a.oneOf(["tabs","pills"]),animation:w.a.bool,id:At()(w.a.oneOfType([w.a.string,w.a.number])),onSelect:w.a.func,mountOnEnter:w.a.bool,unmountOnExit:w.a.bool};var Ko=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.renderTab=function(e){var t=e.props,n=t.title,i=t.eventKey,r=t.disabled,o=t.tabClassName;return null==n?null:h.a.createElement(xr,{eventKey:i,disabled:r,className:o},n)},t.prototype.render=function(){var e=this.props,t=e.id,n=e.onSelect,i=e.animation,r=e.mountOnEnter,o=e.unmountOnExit,a=e.bsClass,l=e.className,u=e.style,c=e.children,p=e.activeKey,f=void 0===p?function(e){var t=void 0;return X.forEach(e,function(e){null==t&&(t=e.props.eventKey)}),t}(c):p,d=y()(e,["id","onSelect","animation","mountOnEnter","unmountOnExit","bsClass","className","style","children","activeKey"]);return h.a.createElement(Vo,{id:t,activeKey:f,onSelect:n,className:l,style:u},h.a.createElement("div",null,h.a.createElement(Xi,s()({},d,{role:"tablist"}),X.map(c,this.renderTab)),h.a.createElement(Po,{bsClass:a,animation:i,mountOnEnter:r,unmountOnExit:o},c)))},t}(h.a.Component);Ko.propTypes=Go,Ko.defaultProps={bsStyle:"tabs",animation:!0,mountOnEnter:!1,unmountOnExit:!1},j("tab",Ko);var Yo=Mt()(Ko,{activeKey:"onSelect"}),Xo={src:w.a.string,alt:w.a.string,href:w.a.string,onError:w.a.func,onLoad:w.a.func},Qo=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.props,t=e.src,n=e.alt,i=e.onError,r=e.onLoad,o=e.className,a=e.children,l=W(y()(e,["src","alt","onError","onLoad","className","children"])),u=l[0],c=l[1],p=c.href?be:"div",f=q(u);return h.a.createElement(p,s()({},c,{className:_()(o,f)}),h.a.createElement("img",{src:t,alt:n,onError:i,onLoad:r}),a&&h.a.createElement("div",{className:"caption"},a))},t}(h.a.Component);Qo.propTypes=Xo;var Zo=j("thumbnail",Qo),Jo={type:w.a.oneOf(["checkbox","radio"]),name:w.a.string,checked:w.a.bool,disabled:w.a.bool,onChange:w.a.func,value:w.a.any.isRequired},es=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.name,i=e.checked,r=e.type,o=e.onChange,a=e.value,l=y()(e,["children","name","checked","type","onChange","value"]),u=l.disabled;return h.a.createElement(Ce,s()({},l,{active:!!i,componentClass:"label"}),h.a.createElement("input",{name:n,type:r,autoComplete:"off",value:a,checked:!!i,disabled:!!u,onChange:o}),t)},t}(h.a.Component);es.propTypes=Jo;var ts=es,ns={name:w.a.string,value:w.a.any,onChange:w.a.func,type:w.a.oneOf(["checkbox","radio"]).isRequired},is=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.getValues=function(){var e=this.props.value;return null==e?[]:[].concat(e)},t.prototype.handleToggle=function(e){var t=this.props,n=t.type,i=t.onChange,r=this.getValues(),o=-1!==r.indexOf(e);"radio"!==n?i(o?r.filter(function(t){return t!==e}):[].concat(r,[e])):o||i(e)},t.prototype.render=function(){var e=this,t=this.props,n=t.children,i=t.type,r=t.name,o=y()(t,["children","type","name"]),a=this.getValues();return"radio"!==i||r||E()(!1),delete o.onChange,delete o.value,h.a.createElement(Me,s()({},o,{"data-toggle":"buttons"}),X.map(n,function(t){var n=t.props,o=n.value,s=n.onChange;return h.a.cloneElement(t,{type:i,name:t.name||r,checked:-1!==a.indexOf(o),onChange:Y(s,function(){return e.handleToggle(o)})})}))},t}(h.a.Component);is.propTypes=ns,is.defaultProps={type:"radio"};var rs=Mt()(is,{value:"onChange"});rs.Button=ts;var os=rs,ss={id:At()(w.a.oneOfType([w.a.string,w.a.number])),placement:w.a.oneOf(["top","right","bottom","left"]),positionTop:w.a.oneOfType([w.a.number,w.a.string]),positionLeft:w.a.oneOfType([w.a.number,w.a.string]),arrowOffsetTop:w.a.oneOfType([w.a.number,w.a.string]),arrowOffsetLeft:w.a.oneOfType([w.a.number,w.a.string])},as=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e,t=this.props,n=t.placement,i=t.positionTop,r=t.positionLeft,o=t.arrowOffsetTop,a=t.arrowOffsetLeft,l=t.className,u=t.style,c=t.children,p=W(y()(t,["placement","positionTop","positionLeft","arrowOffsetTop","arrowOffsetLeft","className","style","children"])),f=p[0],d=p[1],m=s()({},q(f),((e={})[n]=!0,e)),g=s()({top:i,left:r},u),b={top:o,left:a};return h.a.createElement("div",s()({},d,{role:"tooltip",className:_()(l,m),style:g}),h.a.createElement("div",{className:$(f,"arrow"),style:b}),h.a.createElement("div",{className:$(f,"inner")},c))},t}(h.a.Component);as.propTypes=ss,as.defaultProps={placement:"right"};var ls=j("tooltip",as),us=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=W(y()(e,["className"])),i=n[0],r=n[1],o=q(i);return h.a.createElement("div",s()({},r,{className:_()(t,o)}))},t}(h.a.Component),cs=j("well",z([T,A],us));n.d(t,"Accordion",function(){return ee}),n.d(t,"Alert",function(){return le}),n.d(t,"Badge",function(){return pe}),n.d(t,"Breadcrumb",function(){return we}),n.d(t,"BreadcrumbItem",function(){return _e}),n.d(t,"Button",function(){return Ce}),n.d(t,"ButtonGroup",function(){return Me}),n.d(t,"ButtonToolbar",function(){return Oe}),n.d(t,"Carousel",function(){return Qe}),n.d(t,"CarouselItem",function(){return Ue}),n.d(t,"Checkbox",function(){return et}),n.d(t,"Clearfix",function(){return rt}),n.d(t,"CloseButton",function(){return oe}),n.d(t,"ControlLabel",function(){return lt}),n.d(t,"Col",function(){return pt}),n.d(t,"Collapse",function(){return _t}),n.d(t,"Dropdown",function(){return Yt}),n.d(t,"DropdownButton",function(){return Jt}),n.d(t,"Fade",function(){return nn}),n.d(t,"Form",function(){return sn}),n.d(t,"FormControl",function(){return gn}),n.d(t,"FormGroup",function(){return _n}),n.d(t,"Glyphicon",function(){return Ge}),n.d(t,"Grid",function(){return kn}),n.d(t,"HelpBlock",function(){return Cn}),n.d(t,"Image",function(){return An}),n.d(t,"InputGroup",function(){return Pn}),n.d(t,"Jumbotron",function(){return Fn}),n.d(t,"Label",function(){return jn}),n.d(t,"ListGroup",function(){return Wn}),n.d(t,"ListGroupItem",function(){return qn}),n.d(t,"Media",function(){return ci}),n.d(t,"MenuItem",function(){return di}),n.d(t,"Modal",function(){return Vi}),n.d(t,"ModalBody",function(){return Ai}),n.d(t,"ModalFooter",function(){return Pi}),n.d(t,"ModalHeader",function(){return $i}),n.d(t,"ModalTitle",function(){return zi}),n.d(t,"Nav",function(){return Xi}),n.d(t,"Navbar",function(){return mr}),n.d(t,"NavbarBrand",function(){return Ji}),n.d(t,"NavDropdown",function(){return yr}),n.d(t,"NavItem",function(){return xr}),n.d(t,"Overlay",function(){return Tr}),n.d(t,"OverlayTrigger",function(){return Or}),n.d(t,"PageHeader",function(){return Pr}),n.d(t,"PageItem",function(){return qr}),n.d(t,"Pager",function(){return Wr}),n.d(t,"Pagination",function(){return Zr}),n.d(t,"PaginationButton",function(){return Yr}),n.d(t,"Panel",function(){return to}),n.d(t,"PanelGroup",function(){return J}),n.d(t,"Popover",function(){return ro}),n.d(t,"ProgressBar",function(){return uo}),n.d(t,"Radio",function(){return fo}),n.d(t,"ResponsiveEmbed",function(){return go}),n.d(t,"Row",function(){return vo}),n.d(t,"SafeAnchor",function(){return be}),n.d(t,"SplitButton",function(){return So}),n.d(t,"Tab",function(){return qo}),n.d(t,"TabContainer",function(){return No}),n.d(t,"TabContent",function(){return Po}),n.d(t,"Table",function(){return Wo}),n.d(t,"TabPane",function(){return jo}),n.d(t,"Tabs",function(){return Yo}),n.d(t,"Thumbnail",function(){return Zo}),n.d(t,"ToggleButton",function(){return ts}),n.d(t,"ToggleButtonGroup",function(){return os}),n.d(t,"Tooltip",function(){return ls}),n.d(t,"Well",function(){return cs}),n.d(t,"utils",function(){return r})},,function(e,t){e.exports=function(e){return!!e&&"object"==typeof e}},function(e,t){var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}},function(e,t){e.exports={processTemplate:function(e,t){var n;return n=t&&String(t).trim()||"8080",e=(e=e.replace(/\{\{\s*localhost\s*\}\}/,`localhost:${n}`)).replace(/\{\{\s*localhost\s*:\s*(\d+)\s*\}\}/,"localhost:$1")},localToRemoteURL:function({local_url:e,token:t,root_hostname:n}){var i,r,o,s,a;if(e){for(i=0,o=(r=["0.0.0.0","127.0.0.1","localhost","lvh.me"]).length;i<o;i++)if(s=new RegExp(`(http(s)?://)?${r[i]}`),e.match(s)){(a=e.match(/:\d+/))?(a=a[0].slice(1,a[0].length),e=(e=e.replace(`:${a}`,"")).replace(s,`https://${t}-${a}.${n}`)):e=e.replace(s,`https://${t}-80.${n}`);break}return e}},displayURL:function(e,t){var n,i,r,o;if(e){if(i=["0.0.0.0","127.0.0.1","localhost","lvh.me"],t)for(n=0,r=i.length;n<r;n++)o=new RegExp(`(http(s)?://)?${i[n]}(:\\d+)?/?`),e=e.replace(o,"");else e=e.replace(RegExp("localhost:(80|443)(?!\\d)"),"localhost");return e}}}},function(e,t){var n,i;Function.prototype.partial=function(...e){var t;return t=this,function(...n){return t.apply(this,[...e,...n])}},n=function(e,t,n={}){var i,r,o,s;for(t||(t=["access_token"]),t.indexOf(!1)&&t.push("access_token"),e=`${window.api_url||""}/api/v1${e}.json?access_token=:access_token`,i=0,r=t.length;i<r;i++){if(!(s=n[o=t[i]]))throw`"${o}" is a required param in "${e}"`;e=e.replace(`:${o}`,s)}return e},i=function(e,t,n={}){var i,r,o,s;for(t||(t=[]),e=`${window.api_url||""}/api/v1${e}.json`,i=0,r=t.length;i<r;i++){if(!(s=n[o=t[i]]))throw`"${o}" is a required param in "${e}"`;e=e.replace(`:${o}`,s)}return e},e.exports={help_topics:{index:n.partial("/help_topics",null),views:{create:n.partial("/help_topics/:id/views",["id"])}},projects:{activate:n.partial("/projects/activate",null),build:n.partial("/projects/build",null),check_task:n.partial("/projects/check_task",null),download:n.partial("/projects/download",null),get_quiz:n.partial("/projects/get_quiz",null),get_quiz_attempts:n.partial("/projects/get_quiz_attempts",null),kill_container:n.partial("/projects/kill_container",null),load_container:n.partial("/projects/load_container",null),load_solution:n.partial("/projects/load_solution",null),log_time:n.partial("/projects/log_time",null),save_terminal_output:n.partial("/projects/save_terminal_output",null),proxy:n.partial("/projects/proxy",null),check_quiz:n.partial("/projects/check_quiz",null),refresh_container:n.partial("/projects/refresh_container",null),reset:n.partial("/projects/reset",null),save_container:n.partial("/projects/save_container",null),screenshot:n.partial("/projects/screenshot",null),show:n.partial("/projects/show",null),submit:n.partial("/projects/submit",null),test:n.partial("/projects/test",null),update:n.partial("/projects/update",null),browser_simulations:{create:n.partial("/projects/browser_simulations",null),update:n.partial("/projects/browser_simulations/:id",["id"]),destroy:n.partial("/projects/browser_simulations/:id",["id"])},code_patterns:{create:n.partial("/projects/code_patterns",null),update:n.partial("/projects/code_patterns/:id",["id"]),destroy:n.partial("/projects/code_patterns/:id",["id"]),test_pattern:n.partial("/projects/code_patterns/test_pattern",null)},command_tests:{create:n.partial("/projects/command_tests",null),update:n.partial("/projects/command_tests/:id",["id"]),destroy:n.partial("/projects/command_tests/:id",["id"]),test_pattern:n.partial("/projects/command_tests/test_pattern",null)},custom_tests:{create:n.partial("/projects/custom_tests",null),update:n.partial("/projects/custom_tests/:id",["id"]),destroy:n.partial("/projects/custom_tests/:id",["id"])},directories:{create:n.partial("/projects/directories",null),update:n.partial("/projects/directories/:id",["id"]),destroy:n.partial("/projects/directories/:id",["id"])},full_gui_tests:{create:n.partial("/projects/full_gui_tests",null),update:n.partial("/projects/full_gui_tests/:id",["id"]),destroy:n.partial("/projects/full_gui_tests/:id",["id"])},github_file_links:{create:n.partial("/projects/github_file_links",null),update:n.partial("/projects/github_file_links/:id",["id"]),destroy:n.partial("/projects/github_file_links/:id",["id"])},html_parsers:{create:n.partial("/projects/html_parsers",null),update:n.partial("/projects/html_parsers/:id",["id"]),destroy:n.partial("/projects/html_parsers/:id",["id"])},image_tests:{create:n.partial("/projects/image_tests",null),load_image:n.partial("/projects/image_tests/:id/load_image",["id"]),update:n.partial("/projects/image_tests/:id",["id"]),destroy:n.partial("/projects/image_tests/:id",["id"])},issue_tests:{create:n.partial("/projects/issue_tests",null),update:n.partial("/projects/issue_tests/:id",["id"]),destroy:n.partial("/projects/issue_tests/:id",["id"])},sql_tests:{create:n.partial("/projects/sql_tests",null),update:n.partial("/projects/sql_tests/:id",["id"]),destroy:n.partial("/projects/sql_tests/:id",["id"])},python_gui_tests:{create:n.partial("/projects/python_gui_tests",null),update:n.partial("/projects/python_gui_tests/:id",["id"]),destroy:n.partial("/projects/python_gui_tests/:id",["id"])},quizzes:{create:n.partial("/projects/quizzes",null),update:n.partial("/projects/quizzes/:id",["id"]),destroy:n.partial("/projects/quizzes/:id",["id"])},snapshots:{index:n.partial("/projects/snapshots",null),show:n.partial("/projects/snapshots/:id",["id"]),load_assets:n.partial("/projects/snapshots/:id/load_assets",["id"])},snippets:{create:n.partial("/projects/snippets",null),update:n.partial("/projects/snippets/:id",["id"]),destroy:n.partial("/projects/snippets/:id",["id"])},steps:{index:n.partial("/projects/steps",null),create:n.partial("/projects/steps",null),update:n.partial("/projects/steps/:id",["id"]),destroy:n.partial("/projects/steps/:id",["id"]),blocks:{create:n.partial("/projects/steps/:step_id/blocks",["step_id"]),update:n.partial("/projects/steps/:step_id/blocks/:id",["step_id","id"]),destroy:n.partial("/projects/steps/:step_id/blocks/:id",["step_id","id"])}},panes:{tabs:{index:n.partial("/projects/panes/tabs",null),create:n.partial("/projects/panes/:pane_id/tabs",["pane_id"]),update:n.partial("/projects/panes/tabs/:id",["id"]),destroy:n.partial("/projects/panes/tabs/:id",["id"])}},tasks:{index:n.partial("/projects/tasks",null),create:n.partial("/projects/tasks",null),update:n.partial("/projects/tasks/:id",["id"]),destroy:n.partial("/projects/tasks/:id",["id"])},test_cases:{create:n.partial("/projects/test_cases",null),update:n.partial("/projects/test_cases/:id",["id"]),destroy:n.partial("/projects/test_cases/:id",["id"])},unit_tests:{create:n.partial("/projects/unit_tests",null),update:n.partial("/projects/unit_tests/:id",["id"]),destroy:n.partial("/projects/unit_tests/:id",["id"])},webpage_tests:{create:n.partial("/projects/webpage_tests",null),load_image:n.partial("/projects/webpage_tests/:id/load_image",["id"]),update:n.partial("/projects/webpage_tests/:id",["id"]),destroy:n.partial("/projects/webpage_tests/:id",["id"])}},providers:{access:i.partial("/providers/access",null)},realtime:{containers:{index:n.partial("/realtime/containers",null)},projects:{current_score:n.partial("/realtime/projects/current_score",null),steps:{index:n.partial("/realtime/projects/steps",null)},tasks:{results:{sync:n.partial("/realtime/projects/tasks/results/sync",null),show:n.partial("/realtime/projects/tasks/results/:id",["id"])}}}}}},function(e,t,n){(function(t){var n;n=function(){"use strict";var e={storeApiUrl:"https://www.filestackapi.com/api/store",fileApiUrl:"https://www.filestackapi.com/api/file",uploadApiUrl:"https://upload.filestackapi.com",cloudApiUrl:"https://cloud.filestackapi.com",processApiUrl:"https://process.filestackapi.com",previewApiUrl:"https://cdn.filestackcontent.com"},n=function(e){return"function"==typeof e},i=function(e){return null==e},r=function(e){return e.displayName||e.name||"<function"+e.length+">"};function o(e,t){return"function"==typeof t?r(t):t}function s(e,t){!0!==e&&(n(t)?t=t():i(t)&&(t='Assert failed (turn on "Pause on exceptions" in your Source panel)'),s.fail(t))}s.fail=function(e){throw new TypeError("[tcomb] "+e)},s.stringify=function(e){try{return JSON.stringify(e,o,2)}catch(t){return String(e)}};var a=s,l=function(e){return"string"==typeof e},u=function(e){return Array.isArray?Array.isArray(e):e instanceof Array},c=function(e){return!i(e)&&"object"==typeof e&&!u(e)},p=function(e){return n(e)&&c(e.meta)},f=function(e){return p(e)?e.displayName:r(e)},d=function(e,t){function n(e,t){return e}return n.meta={kind:"irreducible",name:e,predicate:t,identity:!0},n.displayName=e,n.is=t,n},h=d("Any",function(){return!0}),m=d("Array",u),g=d("Boolean",function(e){return!0===e||!1===e}),b=d("Date",function(e){return e instanceof Date}),y=d("Error",function(e){return e instanceof Error}),v=d("Function",n),_=d("Nil",i),x=d("Number",function(e){return"number"==typeof e&&isFinite(e)&&!isNaN(e)}),w=function(e){return!p(e)||e.meta.identity},k=function(e,t,n){return p(e)?e.meta.identity||"object"!=typeof t||null===t?e(t,n):new e(t,n):t},S=function(e,t){return p(t)?t.is(e):e instanceof t};function C(e,t){return"{"+f(e)+" | "+r(t)+"}"}function E(e,t,n){var i=n||C(e,t),r=w(e);function o(t,n){return k(e,t,n)}return o.meta={kind:"subtype",type:e,predicate:t,name:n,identity:r},o.displayName=i,o.is=function(n){return S(n,e)&&t(n)},o.update=function(e,t){return o(a.update(e,t))},o}E.getDefaultName=C;var T=E,A=T(x,function(e){return e%1==0},"Integer"),N=d("Object",c),M=d("RegExp",function(e){return e instanceof RegExp}),R=d("String",l),O=d("Type",p);function L(e,t){return"{[key: "+f(e)+"]: "+f(t)+"}"}function P(e,t,n){var i=n||L(e,t),r=(f(e),f(t),w(e)&&w(t));function o(n,i){if(r)return n;var o=!0,s={};for(var a in n)if(n.hasOwnProperty(a)){var l=n[a=k(e,a,null)],u=k(t,l,null);o=o&&l===u,s[a]=u}return o&&(s=n),s}return o.meta={kind:"dict",domain:e,codomain:t,name:n,identity:r},o.displayName=i,o.is=function(n){if(!c(n))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(!S(i,e)||!S(n[i],t)))return!1;return!0},o.update=function(e,t){return o(a.update(e,t))},o}P.getDefaultName=L;var D=P,I=function(e,t,n){if(i(t))return e;for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e},F=function(e){return p(e)&&"union"===e.meta.kind},$=1;function j(e){return Object.keys(e).map(function(e){return a.stringify(e)}).join(" | ")}function B(e,t){var n=t||j(e);function i(e,t){return e}return i.meta={kind:"enums",map:e,name:t,identity:!0},i.displayName=n,i.is=function(t){return e.hasOwnProperty(t)},i}B.of=function(e,t){e=l(e)?e.split(" "):e;var n={};return e.forEach(function(e){n[e]=e}),B(n,t)},B.getDefaultName=j;var z=B;function q(e){return"Array<"+f(e)+">"}function H(e,t){var n=t||q(e),i=(f(e),w(e));function r(t,n){if(i)return t;for(var r=!0,o=[],s=0,a=t.length;s<a;s++){var l=t[s],u=k(e,l,null);r=r&&l===u,o.push(u)}return r&&(o=t),o}return r.meta={kind:"list",type:e,name:t,identity:i},r.displayName=n,r.is=function(t){return u(t)&&t.every(function(t){return S(t,e)})},r.update=function(e,t){return r(a.update(e,t))},r}H.getDefaultName=q;var U=H,W=function(e){return p(e)&&"maybe"===e.meta.kind};function V(e){return"?"+f(e)}function G(e,t){if(W(e)||e===h||e===_)return e;var n=t||V(e),i=w(e);function r(t,n){return _.is(t)?t:k(e,t,n)}return r.meta={kind:"maybe",type:e,name:t,identity:i},r.displayName=n,r.is=function(t){return _.is(t)||S(t,e)},r}G.getDefaultName=V;var K=G,Y=function(e){return"{"+Object.keys(e).map(function(t){return t+": "+f(e[t])}).join(", ")+"}"};function X(e){return p(e)&&"subtype"===e.meta.kind}function Q(e){return X(e)?[e.meta.predicate].concat(Q(e.meta.type)):[]}function Z(e){return X(e)?Z(e.meta.type):e}var J=function(e){return{predicates:Q(e),unrefinedType:Z(e)}},ee=function(e,t,n){var i={},r={},o=[],s={};t.forEach(function(e,t){var n,a,l,u=J(e),p=u.unrefinedType;n=o,a=u.predicates,Array.prototype.push.apply(n,a),I(i,c(l=p)?l:l.meta.props),I(r,p.prototype),I(s,function(e){return c(e)?null:e.meta.defaultProps}(p),!0)}),(n=e.getOptions(n)).defaultProps=I(s,n.defaultProps,!0);var a=function(e,t){return e.reduce(function(e,t){return T(e,t)},t)}(o,e(i,n));return I(a.prototype,r),a};function te(e){return"Struct"+Y(e)}function ne(e,t){return ee(re,e,t)}function ie(e){return c(e)||(e=i(e)?{}:{name:e}),e.hasOwnProperty("strict")||(e.strict=re.strict),e.hasOwnProperty("defaultProps")||(e.defaultProps={}),e}function re(e,t){var n=(t=ie(t)).name,i=t.strict,r=t.defaultProps,o=n||te(e);function s(t,n){if(s.is(t))return t;if(!(this instanceof s))return new s(t,n);for(var i in e)if(e.hasOwnProperty(i)){var o=e[i],a=t[i];void 0===a&&(a=r[i]),this[i]=k(o,a,null)}}return s.meta={kind:"struct",props:e,name:n,identity:!1,strict:i,defaultProps:r},s.displayName=o,s.is=function(e){return e instanceof s},s.update=function(e,t){return new s(a.update(e,t))},s.extend=function(e,t){return ne([s].concat(e),t)},s}re.strict=!1,re.getOptions=ie,re.getDefaultName=te,re.extend=ne;var oe=re;function se(e){return"["+e.map(f).join(", ")+"]"}function ae(e,t){var n=t||se(e),i=e.every(w);function r(t,n){if(i)return t;for(var r=!0,o=[],s=0,a=e.length;s<a;s++){var l=e[s],u=t[s],c=k(l,u,null);r=r&&u===c,o.push(c)}return r&&(o=t),o}return r.meta={kind:"tuple",types:e,name:t,identity:i},r.displayName=n,r.is=function(t){return u(t)&&t.length===e.length&&e.every(function(e,n){return S(t[n],e)})},r.update=function(e,t){return r(a.update(e,t))},r}ae.getDefaultName=se;var le=ae;function ue(e){return e.map(f).join(" | ")}function ce(e,t){var n=t||ue(e),r=e.every(w);function o(e,t){if(r)return e;var n=o.dispatch(e);return!n&&o.is(e)?e:k(n,e,t)}return o.meta={kind:"union",types:e,name:t,identity:r},o.displayName=n,o.is=function(t){return e.some(function(e){return S(t,e)})},o.dispatch=function(t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(F(o)){var s=o.dispatch(t);if(!i(s))return s}else if(S(t,o))return o}},o.update=function(e,t){return o(a.update(e,t))},o}ce.getDefaultName=ue;var pe=ce;function fe(e,t){return"("+e.map(f).join(", ")+") => "+f(t)}function de(e){return v.is(e)&&c(e.instrumentation)}function he(e){for(var t=e.length,n=!1,i=t-1;i>=0;i--){var r=e[i];if(!p(r)||"maybe"!==r.meta.kind)return i+1;n=!0}return n?0:t}function me(e,t,n){e=u(e)?e:[e];var i=n||fe(e,t),o=e.length;he(e);function s(e,t){return de(e)?e:s.of(e)}return s.meta={kind:"func",domain:e,codomain:t,name:n,identity:!0},s.displayName=i,s.is=function(n){return de(n)&&n.instrumentation.domain.length===o&&n.instrumentation.domain.every(function(t,n){return t===e[n]})&&n.instrumentation.codomain===t},s.of=function(n,i){if(s.is(n))return n;function a(){var r=Array.prototype.slice.call(arguments),s=r.length;if(i&&s<o){var a=Function.prototype.bind.apply(n,[this].concat(r));return me(e.slice(s),t).of(a,!0)}return k(t,n.apply(this,r))}return a.instrumentation={domain:e,codomain:t,f:n},a.displayName=r(n),a},s}me.getDefaultName=fe,me.getOptionalArgumentsIndex=he;var ge=me,be=w;function ye(e){return e.map(f).join(" & ")}function ve(e,t){var n=t||ye(e),i=e.every(be);function r(e,t){return e}return r.meta={kind:"intersection",types:e,name:t,identity:i},r.displayName=n,r.is=function(t){return e.every(function(e){return S(t,e)})},r.update=function(e,t){return r(a.update(e,t))},r}ve.getDefaultName=ye;var _e=ve,xe=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e};function we(e,t){return ee(Se,e,t)}function ke(e){return c(e)||(e=i(e)?{}:{name:e}),e.hasOwnProperty("strict")||(e.strict=Se.strict),e}function Se(e,t){var n=(t=ke(t)).name,r=t.strict,o=n||Y(e),s=Object.keys(e).map(function(t){return e[t]}).every(w);function l(t,n){if(s)return t;var i=!0,r=s?{}:xe({},t);for(var o in e){var a=e[o],l=t[o],u=k(a,l,null);i=i&&l===u,r[o]=u}return i&&(r=t),r}return l.meta={kind:"interface",props:e,name:n,identity:s,strict:r},l.displayName=o,l.is=function(t){if(i(t))return!1;if(r)for(var n in t)if(!e.hasOwnProperty(n))return!1;for(var o in e)if(!S(t[o],e[o]))return!1;return!0},l.update=function(e,t){return l(a.update(e,t))},l.extend=function(e,t){return we([l].concat(e),t)},l}Se.strict=!1,Se.getOptions=ke,Se.getDefaultName=Y,Se.extend=we;var Ce=Se;function Ee(e){return c(e)?e instanceof Date||e instanceof RegExp?e:xe({},e):u(e)?e.concat():e}function Te(e){return Ne.commands.hasOwnProperty(e)}function Ae(e){return Ne.commands[e]}function Ne(e,t){var n,i=e,r=!1;for(var o in t)t.hasOwnProperty(o)&&(Te(o)?(n=Ae(o)(t[o],i))!==e?(r=!0,i=n):i=e:(i===e&&(i=Ee(e)),n=Ne(i[o],t[o]),r=r||n!==i[o],i[o]=n));return r?i:e}Ne.commands={$apply:function(e,t){return e(t)},$push:function(e,t){return e.length>0?t.concat(e):t},$remove:function(e,t){if(e.length>0){t=Ee(t);for(var n=0,i=e.length;n<i;n++)delete t[e[n]]}return t},$set:function(e){return e},$splice:function(e,t){return e.length>0?(t=Ee(t),e.reduce(function(e,t){return e.splice.apply(e,t),e},t)):t},$swap:function(e,t){if(e.from!==e.to){var n=(t=Ee(t))[e.to];t[e.to]=t[e.from],t[e.from]=n}return t},$unshift:function(e,t){return e.length>0?e.concat(t):t},$merge:function(e,t){var n=!1,i=Ee(t);for(var r in e)e.hasOwnProperty(r)&&(i[r]=e[r],n=n||i[r]!==t[r]);return n?i:t}};var Me=Ne;a.Any=h,a.Array=m,a.Boolean=g,a.Date=b,a.Error=y,a.Function=v,a.Nil=_,a.Number=x,a.Integer=A,a.IntegerT=a.Integer,a.Object=N,a.RegExp=M,a.String=R,a.Type=O,a.TypeT=a.Type,a.Arr=a.Array,a.Bool=a.Boolean,a.Dat=a.Date,a.Err=a.Error,a.Func=a.Function,a.Num=a.Number,a.Obj=a.Object,a.Re=a.RegExp,a.Str=a.String,a.dict=D,a.declare=function(e){var t;function n(e,n){return t(e,n)}return n.define=function(i){return F(i)&&n.hasOwnProperty("dispatch")&&(i.dispatch=n.dispatch),I(n,t=i,!0),e&&(t.displayName=n.displayName=e,n.meta.name=e),n.meta.identity=t.meta.identity,n.prototype=t.prototype,n},n.displayName=e||f(n)+"$"+$++,n.meta={identity:!1},n.prototype=null,n},a.enums=z,a.irreducible=d,a.list=U,a.maybe=K,a.refinement=T,a.struct=oe,a.tuple=le,a.union=pe,a.func=ge,a.intersection=_e,a.subtype=a.refinement,a.inter=Ce,a.interface=a.inter,a.assert=a,a.update=Me,a.mixin=I,a.isType=p,a.is=S,a.getTypeName=f,a.match=function(e){for(var t,i,r,o=1,s=arguments.length;o<s;)if(t=arguments[o],i=arguments[o+1],r=arguments[o+2],n(r)&&!p(r)?o+=3:(r=i,i=h.is,o+=2),t.is(e)&&i(e))return r(e);a.fail("Match error")};var Re=a,Oe=Re.stringify,Le={},Pe=Re.struct({message:Re.Any,actual:Re.Any,expected:Re.Any,path:Re.list(Re.union([Re.String,Re.Number]))},"ValidationError");function De(e,t,n,i){return Re.Function.is(t.getValidationErrorMessage)?t.getValidationErrorMessage(e,n,i):function(e,t,n){var i=Re.getTypeName(t),r=n.length?"/"+n.join("/")+": "+i:i;return"Invalid value "+Oe(e)+" supplied to "+r}(e,t,n)}Pe.of=function(e,t,n,i){return new Pe({message:De(e,t,n,i),actual:e,expected:t,path:n})};var Ie=Re.struct({errors:Re.list(Pe),value:Re.Any},"ValidationResult");function Fe(e,t,n){n=n||{};var i=Re.Array.is(n)?n:n.path||[];return new Ie($e(e,t,i,n))}function $e(e,t,n,i){return Re.isType(t)?je[t.meta.kind](e,t,n,i):je.es6classes(e,t,n,i)}Ie.prototype.isValid=function(){return!this.errors.length},Ie.prototype.firstError=function(){return this.isValid()?null:this.errors[0]},Ie.prototype.toString=function(){return this.isValid()?"[ValidationResult, true, "+Oe(this.value)+"]":"[ValidationResult, false, ("+this.errors.map(function(e){return Oe(e.message)}).join(", ")+")]"};var je=Fe.validators={};je.es6classes=function(e,t,n,i){return{value:e,errors:e instanceof t?[]:[Pe.of(e,t,n,i.context)]}},je.irreducible=je.enums=function(e,t,n,i){return{value:e,errors:t.is(e)?[]:[Pe.of(e,t,n,i.context)]}},je.list=function(e,t,n,i){if(!Re.Array.is(e))return{value:e,errors:[Pe.of(e,t,n,i.context)]};for(var r={value:[],errors:[]},o=0,s=e.length;o<s;o++){var a=$e(e[o],t.meta.type,n.concat(o),i);r.value[o]=a.value,r.errors=r.errors.concat(a.errors)}return r},je.subtype=function(e,t,n,i){var r=$e(e,t.meta.type,n,i);return r.errors.length?r:(t.meta.predicate(r.value)||(r.errors=[Pe.of(e,t,n,i.context)]),r)},je.maybe=function(e,t,n,i){return Re.Nil.is(e)?{value:e,errors:[]}:$e(e,t.meta.type,n,i)},je.struct=function(e,t,n,i){if(!Re.Object.is(e))return{value:e,errors:[Pe.of(e,t,n,i.context)]};if(t.is(e))return{value:e,errors:[]};var r={value:{},errors:[]},o=t.meta.props,s=t.meta.defaultProps||Le;for(var a in o)if(o.hasOwnProperty(a)){var l=e[a];void 0===l&&(l=s[a]);var u=$e(l,o[a],n.concat(a),i);r.value[a]=u.value,r.errors=r.errors.concat(u.errors)}if(i.hasOwnProperty("strict")?i.strict:t.meta.strict)for(var c in e)e.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&r.errors.push(Pe.of(e[c],Re.Nil,n.concat(c),i.context));return r.errors.length||(r.value=new t(r.value)),r},je.tuple=function(e,t,n,i){var r=t.meta.types,o=r.length;if(!Re.Array.is(e)||e.length>o)return{value:e,errors:[Pe.of(e,t,n,i.context)]};for(var s={value:[],errors:[]},a=0;a<o;a++){var l=$e(e[a],r[a],n.concat(a),i);s.value[a]=l.value,s.errors=s.errors.concat(l.errors)}return s},je.dict=function(e,t,n,i){if(!Re.Object.is(e))return{value:e,errors:[Pe.of(e,t,n,i.context)]};var r={value:{},errors:[]};for(var o in e)if(e.hasOwnProperty(o)){var s=n.concat(o),a=$e(o,t.meta.domain,s,i),l=$e(e[o],t.meta.codomain,s,i);r.value[o]=l.value,r.errors=r.errors.concat(a.errors,l.errors)}return r},je.union=function(e,t,n,i){var r=t.dispatch(e);return Re.Function.is(r)?$e(e,r,n.concat(t.meta.types.indexOf(r)),i):{value:e,errors:[Pe.of(e,t,n,i.context)]}},je.intersection=function(e,t,n,i){for(var r=t.meta.types,o=r.length,s={value:e,errors:[]},a=0,l=0;l<o;l++){"struct"===r[l].meta.kind&&a++;var u=$e(e,r[l],n,i);s.errors=s.errors.concat(u.errors)}return a>1&&s.errors.push(Pe.of(e,t,n,i.context)),s},je.interface=function(e,t,n,i){if(!Re.Object.is(e))return{value:e,errors:[Pe.of(e,t,n,i.context)]};var r={value:{},errors:[]},o=t.meta.props;for(var s in o){var a=$e(e[s],o[s],n.concat(s),i);r.value[s]=a.value,r.errors=r.errors.concat(a.errors)}if(i.hasOwnProperty("strict")?i.strict:t.meta.strict)for(var l in e)o.hasOwnProperty(l)||Re.Nil.is(e[l])||r.errors.push(Pe.of(e[l],Re.Nil,n.concat(l),i.context));return r},Re.mixin(Re,{ValidationError:Pe,ValidationResult:Ie,validate:Fe});var Be=Re,ze="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};function qe(e,t){return e(t={exports:{}},t.exports),t.exports}var He=qe(function(e){function t(e){if(e)return function(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks["$"+e];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r=0;r<i.length;r++)if((n=i[r])===t||n.fn===t){i.splice(r,1);break}return this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var i=0,r=(n=n.slice(0)).length;i<r;++i)n[i].apply(this,t);return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}}),Ue=function(e){return null!==e&&"object"==typeof e},We=Ve;function Ve(e){if(e)return function(e){for(var t in Ve.prototype)e[t]=Ve.prototype[t];return e}(e)}Ve.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},Ve.prototype.parse=function(e){return this._parser=e,this},Ve.prototype.responseType=function(e){return this._responseType=e,this},Ve.prototype.serialize=function(e){return this._serializer=e,this},Ve.prototype.timeout=function(e){if(!e||"object"!=typeof e)return this._timeout=e,this._responseTimeout=0,this;for(var t in e)switch(t){case"deadline":this._timeout=e.deadline;break;case"response":this._responseTimeout=e.response;break;default:console.warn("Unknown timeout option",t)}return this},Ve.prototype.retry=function(e,t){return 0!==arguments.length&&!0!==e||(e=1),e<=0&&(e=0),this._maxRetries=e,this._retries=0,this._retryCallback=t,this};var Ge=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];Ve.prototype._shouldRetry=function(e,t){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var n=this._retryCallback(e,t);if(!0===n)return!0;if(!1===n)return!1}catch(e){console.error(e)}if(t&&t.status&&t.status>=500&&501!=t.status)return!0;if(e){if(e.code&&~Ge.indexOf(e.code))return!0;if(e.timeout&&"ECONNABORTED"==e.code)return!0;if(e.crossDomain)return!0}return!1},Ve.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},Ve.prototype.then=function(e,t){if(!this._fullfilledPromise){var n=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(e,t){n.end(function(n,i){n?t(n):e(i)})})}return this._fullfilledPromise.then(e,t)},Ve.prototype.catch=function(e){return this.then(void 0,e)},Ve.prototype.use=function(e){return e(this),this},Ve.prototype.ok=function(e){if("function"!=typeof e)throw Error("Callback required");return this._okCallback=e,this},Ve.prototype._isResponseOK=function(e){return!!e&&(this._okCallback?this._okCallback(e):e.status>=200&&e.status<300)},Ve.prototype.get=function(e){return this._header[e.toLowerCase()]},Ve.prototype.getHeader=Ve.prototype.get,Ve.prototype.set=function(e,t){if(Ue(e)){for(var n in e)this.set(n,e[n]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},Ve.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},Ve.prototype.field=function(e,t){if(null==e)throw new Error(".field(name, val) name can not be empty");if(this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()"),Ue(e)){for(var n in e)this.field(n,e[n]);return this}if(Array.isArray(t)){for(var i in t)this.field(e,t[i]);return this}if(null==t)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof t&&(t=""+t),this._getFormData().append(e,t),this},Ve.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},Ve.prototype._auth=function(e,t,n,i){switch(n.type){case"basic":this.set("Authorization","Basic "+i(e+":"+t));break;case"auto":this.username=e,this.password=t;break;case"bearer":this.set("Authorization","Bearer "+e)}return this},Ve.prototype.withCredentials=function(e){return null==e&&(e=!0),this._withCredentials=e,this},Ve.prototype.redirects=function(e){return this._maxRedirects=e,this},Ve.prototype.maxResponseSize=function(e){if("number"!=typeof e)throw TypeError("Invalid argument");return this._maxResponseSize=e,this},Ve.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},Ve.prototype.send=function(e){var t=Ue(e),n=this._header["content-type"];if(this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()"),t&&!this._data)Array.isArray(e)?this._data=[]:this._isHost(e)||(this._data={});else if(e&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(t&&Ue(this._data))for(var i in e)this._data[i]=e[i];else"string"==typeof e?(n||this.type("form"),n=this._header["content-type"],this._data="application/x-www-form-urlencoded"==n?this._data?this._data+"&"+e:e:(this._data||"")+e):this._data=e;return!t||this._isHost(e)?this:(n||this.type("json"),this)},Ve.prototype.sortQuery=function(e){return this._sort=void 0===e||e,this},Ve.prototype._finalizeQueryString=function(){var e=this._query.join("&");if(e&&(this.url+=(this.url.indexOf("?")>=0?"&":"?")+e),this._query.length=0,this._sort){var t=this.url.indexOf("?");if(t>=0){var n=this.url.substring(t+1).split("&");"function"==typeof this._sort?n.sort(this._sort):n.sort(),this.url=this.url.substring(0,t)+"?"+n.join("&")}}},Ve.prototype._appendQueryString=function(){console.trace("Unsupported")},Ve.prototype._timeoutError=function(e,t,n){if(!this._aborted){var i=new Error(e+t+"ms exceeded");i.timeout=t,i.code="ECONNABORTED",i.errno=n,this.timedout=!0,this.abort(),this.callback(i)}},Ve.prototype._setTimeouts=function(){var e=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){e._timeoutError("Timeout of ",e._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){e._timeoutError("Response timeout of ",e._responseTimeout,"ETIMEDOUT")},this._responseTimeout))};var Ke=function(e){return e.split(/ *; */).shift()},Ye=function(e){return e.split(/ *; */).reduce(function(e,t){var n=t.split(/ *= */),i=n.shift(),r=n.shift();return i&&r&&(e[i]=r),e},{})},Xe=function(e){return e.split(/ *, */).reduce(function(e,t){var n=t.split(/ *; */),i=n[0].slice(1,-1);return e[n[1].split(/ *= */)[1].slice(1,-1)]=i,e},{})},Qe=Ze;function Ze(e){if(e)return function(e){for(var t in Ze.prototype)e[t]=Ze.prototype[t];return e}(e)}function Je(){this._defaults=[]}Ze.prototype.get=function(e){return this.header[e.toLowerCase()]},Ze.prototype._setHeaderProperties=function(e){var t=e["content-type"]||"";this.type=Ke(t);var n=Ye(t);for(var i in n)this[i]=n[i];this.links={};try{e.link&&(this.links=Xe(e.link))}catch(e){}},Ze.prototype._setStatusProperties=function(e){var t=e/100|0;this.status=this.statusCode=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.redirect=3==t,this.clientError=4==t,this.serverError=5==t,this.error=(4==t||5==t)&&this.toError(),this.accepted=202==e,this.noContent=204==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.forbidden=403==e,this.notFound=404==e},["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert"].forEach(function(e){Je.prototype[e]=function(){return this._defaults.push({fn:e,arguments:arguments}),this}}),Je.prototype._setDefaults=function(e){this._defaults.forEach(function(t){e[t.fn].apply(e,t.arguments)})};var et,tt=Je,nt=qe(function(e,t){var n;function i(){}"undefined"!=typeof window?n=window:"undefined"!=typeof self?n=self:(console.warn("Using browser-only version of superagent in non-browser environment"),n=ze);var r=t=e.exports=function(e,n){return"function"==typeof n?new t.Request("GET",e).end(n):1==arguments.length?new t.Request("GET",e):new t.Request(e,n)};t.Request=p,r.getXHR=function(){if(!(!n.XMLHttpRequest||n.location&&"file:"==n.location.protocol&&n.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}throw Error("Browser-only version of superagent could not find XHR")};var o="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};function s(e){if(!Ue(e))return e;var t=[];for(var n in e)a(t,n,e[n]);return t.join("&")}function a(e,t,n){if(null!=n)if(Array.isArray(n))n.forEach(function(n){a(e,t,n)});else if(Ue(n))for(var i in n)a(e,t+"["+i+"]",n[i]);else e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));else null===n&&e.push(encodeURIComponent(t))}function l(e){for(var t,n,i={},r=e.split("&"),o=0,s=r.length;o<s;++o)-1==(n=(t=r[o]).indexOf("="))?i[decodeURIComponent(t)]="":i[decodeURIComponent(t.slice(0,n))]=decodeURIComponent(t.slice(n+1));return i}function u(e){return/[\/+]json\b/.test(e)}function c(e){this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var t=this.xhr.status;1223===t&&(t=204),this._setStatusProperties(t),this.header=this.headers=function(e){for(var t,n,i,r,s=e.split(/\r?\n/),a={},l=0,u=s.length;l<u;++l)-1!==(t=(n=s[l]).indexOf(":"))&&(i=n.slice(0,t).toLowerCase(),r=o(n.slice(t+1)),a[i]=r);return a}(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&e._responseType?this.body=this.xhr.response:this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function p(e,t){var n=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",function(){var e,t=null,i=null;try{i=new c(n)}catch(e){return(t=new Error("Parser is unable to parse the response")).parse=!0,t.original=e,n.xhr?(t.rawResponse=void 0===n.xhr.responseType?n.xhr.responseText:n.xhr.response,t.status=n.xhr.status?n.xhr.status:null,t.statusCode=t.status):(t.rawResponse=null,t.status=null),n.callback(t)}n.emit("response",i);try{n._isResponseOK(i)||(e=new Error(i.statusText||"Unsuccessful HTTP response"))}catch(t){e=t}e?(e.original=t,e.response=i,e.status=i.status,n.callback(e,i)):n.callback(null,i)})}function f(e,t,n){var i=r("DELETE",e);return"function"==typeof t&&(n=t,t=null),t&&i.send(t),n&&i.end(n),i}r.serializeObject=s,r.parseString=l,r.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},r.serialize={"application/x-www-form-urlencoded":s,"application/json":JSON.stringify},r.parse={"application/x-www-form-urlencoded":l,"application/json":JSON.parse},Qe(c.prototype),c.prototype._parseBody=function(e){var t=r.parse[this.type];return this.req._parser?this.req._parser(this,e):(!t&&u(this.type)&&(t=r.parse["application/json"]),t&&e&&(e.length||e instanceof Object)?t(e):null)},c.prototype.toError=function(){var e=this.req,t=e.method,n=e.url,i="cannot "+t+" "+n+" ("+this.status+")",r=new Error(i);return r.status=this.status,r.method=t,r.url=n,r},r.Response=c,He(p.prototype),We(p.prototype),p.prototype.type=function(e){return this.set("Content-Type",r.types[e]||e),this},p.prototype.accept=function(e){return this.set("Accept",r.types[e]||e),this},p.prototype.auth=function(e,t,n){1===arguments.length&&(t=""),"object"==typeof t&&null!==t&&(n=t,t=""),n||(n={type:"function"==typeof btoa?"basic":"auto"});return this._auth(e,t,n,function(e){if("function"==typeof btoa)return btoa(e);throw new Error("Cannot use basic auth, btoa is not a function")})},p.prototype.query=function(e){return"string"!=typeof e&&(e=s(e)),e&&this._query.push(e),this},p.prototype.attach=function(e,t,n){if(t){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(e,t,n||t.name)}return this},p.prototype._getFormData=function(){return this._formData||(this._formData=new n.FormData),this._formData},p.prototype.callback=function(e,t){if(this._shouldRetry(e,t))return this._retry();var n=this._callback;this.clearTimeout(),e&&(this._maxRetries&&(e.retries=this._retries-1),this.emit("error",e)),n(e,t)},p.prototype.crossDomainError=function(){var e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},p.prototype.buffer=p.prototype.ca=p.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},p.prototype.pipe=p.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},p.prototype._isHost=function(e){return e&&"object"==typeof e&&!Array.isArray(e)&&"[object Object]"!==Object.prototype.toString.call(e)},p.prototype.end=function(e){return this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=e||i,this._finalizeQueryString(),this._end()},p.prototype._end=function(){var e=this,t=this.xhr=r.getXHR(),n=this._formData||this._data;this._setTimeouts(),t.onreadystatechange=function(){var n=t.readyState;if(n>=2&&e._responseTimeoutTimer&&clearTimeout(e._responseTimeoutTimer),4==n){var i;try{i=t.status}catch(e){i=0}if(!i){if(e.timedout||e._aborted)return;return e.crossDomainError()}e.emit("end")}};var i=function(t,n){n.total>0&&(n.percent=n.loaded/n.total*100),n.direction=t,e.emit("progress",n)};if(this.hasListeners("progress"))try{t.onprogress=i.bind(null,"download"),t.upload&&(t.upload.onprogress=i.bind(null,"upload"))}catch(e){}try{this.username&&this.password?t.open(this.method,this.url,!0,this.username,this.password):t.open(this.method,this.url,!0)}catch(e){return this.callback(e)}if(this._withCredentials&&(t.withCredentials=!0),!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof n&&!this._isHost(n)){var o=this._header["content-type"],s=this._serializer||r.serialize[o?o.split(";")[0]:""];!s&&u(o)&&(s=r.serialize["application/json"]),s&&(n=s(n))}for(var a in this.header)null!=this.header[a]&&this.header.hasOwnProperty(a)&&t.setRequestHeader(a,this.header[a]);return this._responseType&&(t.responseType=this._responseType),this.emit("request",this),t.send(void 0!==n?n:null),this},r.agent=function(){return new tt},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(e){tt.prototype[e.toLowerCase()]=function(t,n){var i=new r.Request(e,t);return this._setDefaults(i),n&&i.end(n),i}}),tt.prototype.del=tt.prototype.delete,r.get=function(e,t,n){var i=r("GET",e);return"function"==typeof t&&(n=t,t=null),t&&i.query(t),n&&i.end(n),i},r.head=function(e,t,n){var i=r("HEAD",e);return"function"==typeof t&&(n=t,t=null),t&&i.query(t),n&&i.end(n),i},r.options=function(e,t,n){var i=r("OPTIONS",e);return"function"==typeof t&&(n=t,t=null),t&&i.send(t),n&&i.end(n),i},r.del=f,r.delete=f,r.patch=function(e,t,n){var i=r("PATCH",e);return"function"==typeof t&&(n=t,t=null),t&&i.send(t),n&&i.end(n),i},r.post=function(e,t,n){var i=r("POST",e);return"function"==typeof t&&(n=t,t=null),t&&i.send(t),n&&i.end(n),i},r.put=function(e,t,n){var i=r("PUT",e);return"function"==typeof t&&(n=t,t=null),t&&i.send(t),n&&i.end(n),i}}),it=function(e,t){return nt[e](t).set("Filestack-Source","JS-0.6.0")},rt={tr:{regexp:/\u0130|\u0049|\u0049\u0307/g,map:{"İ":"i",I:"ı","İ":"i"}},az:{regexp:/[\u0130]/g,map:{"İ":"i",I:"ı","İ":"i"}},lt:{regexp:/[\u0049\u004A\u012E\u00CC\u00CD\u0128]/g,map:{I:"i̇",J:"j̇","Į":"į̇","Ì":"i̇̀","Í":"i̇́","Ĩ":"i̇̃"}}},ot=/[^A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D66-\u0D75\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]+/g,st=/([a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0561-\u0587\u13F8-\u13FD\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7B5\uA7B7\uA7FA\uAB30-\uAB5A\uAB60-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D66-\u0D75\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19])([A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AD\uA7B0-\uA7B4\uA7B6\uFF21-\uFF3A])/g,at=/([A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AD\uA7B0-\uA7B4\uA7B6\uFF21-\uFF3A]+)([A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AD\uA7B0-\uA7B4\uA7B6\uFF21-\uFF3A][a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0561-\u0587\u13F8-\u13FD\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7B5\uA7B7\uA7FA\uAB30-\uAB5A\uAB60-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A])/g,lt=function(e,t,n){if(null==e)return"";return n="string"!=typeof n?" ":n,function(e,t){var n=rt[t];return e=null==e?"":String(e),n&&(e=e.replace(n.regexp,function(e){return n.map[e]})),e.toLowerCase()}(e=String(e).replace(st,"$1 $2").replace(at,"$1 $2").replace(ot,function(e,t,i){return 0===t||t===i.length-e.length?"":n}),t)},ut=function(e,t){return lt(e,t,"_")},ct=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ft=Be.validate,dt=function(e,t,n){var i=Object.keys(n),r=t.map(function(e){return e.name}),o=r.join(", ");return i.forEach(function(t){if(r.indexOf(t)<0)throw new Error(t+" is not a valid option for "+e+". Valid options are: "+o)}),t.forEach(function(e){var t=n[e.name];if("location"===e.name&&"string"==typeof t&&(t=t.toLowerCase()),void 0!==t){var i=ft(t,e.type);if(!i.isValid())throw new Error(i.firstError().message)}}),i},ht=function(e){var t=pt({},e);return Object.keys(t).forEach(function(e){return!t[e]&&void 0!==t[e]&&delete t[e]}),t},mt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=pt({},e);return Object.keys(n).reduce(function(e,i){return e[ut(t+"-"+i)]=n[i],delete n[i],e},{})},gt={init:function(){window.filestackInternals.logger.working=!1},isWorking:function(){return window.filestackInternals.logger.working},on:function(){window.filestackInternals.logger.working=!0},off:function(){window.filestackInternals.logger.working=!1}},bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yt=function e(t,n){var i=function(){for(var e=arguments.length,i=Array(e),r=0;r<e;r++)i[r]=arguments[r];var o,s=[].concat(i).map(function(e){return"object"===(void 0===e?"undefined":bt(e))?JSON.stringify(e,function(e,t){if("function"==typeof t){if("json"===e)try{return t()}catch(e){}return"[Function]"}return t instanceof File?"[File name: "+t.name+", mimetype: "+t.type+", size: "+t.size+"]":t},2):e});n.isWorking()&&(o=console).log.apply(o,["["+t+"]"].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(s)))};return i.context=function(i){return e(t+"]["+i,n)},i.on=n.on,i.off=n.off,i}("filestack",gt);et=void 0,"object"===("undefined"==typeof window?"undefined":bt(window))&&((et=window.filestackInternals)||(et={},window.filestackInternals=et),et.logger||(et.logger=yt,gt.init()));var vt=yt.context("api-client"),_t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t||"string"!=typeof t)throw new Error("handle or storage alias is required for preview");var i=[{name:"id",type:Be.String},{name:"css",type:Be.String},{name:"policy",type:Be.String},{name:"signature",type:Be.String},{name:"v1",type:Be.Boolean}];dt("preview",i,n);var r=ht(n),o=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=pt({},n);!i.policy&&!i.signature&&e.policy&&e.signature&&(i.policy=e.policy,i.signature=e.signature);var r=i.signature&&i.policy,o=i.policy,s=i.signature,a=[],l=[e.urls.previewApiUrl],u=n.css,c=n.css&&encodeURIComponent('"'+n.css+'"'),p=c?"preview=css:"+c:"preview";n.v1?(l.push("api/preview"),n.css&&a.push("css="+u),r&&a.push("policy="+o+"&signature="+s)):(-1!==t.indexOf("src:")?l.push(e.apikey+"/"+p):l.push(p),r&&l.push("security=policy:"+o+",signature:"+s)),l.push(t);var f=l.join("/");return a.length?f+"?"+a.join("&"):f}(e,t,r);if(r.id){var s=r.id,a=document.createElement("iframe"),l=document.getElementById(s);if(a.src=o,a.width="100%",a.height="100%",!l)throw new Error('DOM Element with id "'+s+'" not found.');return l.appendChild(a)}return window.open(o,t)},xt=function(e,t){return Be.refinement(Be.Number,function(n){return n>=e&&n<=t})},wt=function(e){return Be.refinement(Be.Integer,function(t){return t<=e})},kt=function(e,t){return Be.tuple([(n=e,Be.refinement(Be.Integer,function(e){return e>=n})),wt(t)],"range");var n},St=Be.enums.of("top left right bottom"),Ct=Be.refinement(Be.tuple([St,St]),function(e){return e[0]!==e[1]},"pair"),Et=function(e,t,n){var i=t.map(function(e){return function(e,t){var n=ut(e.name),i=t[e.name];return Array.isArray(i)?n+":["+i+"]":i?n+":"+i:null}(e,n)}).filter(function(e){return e}).join(","),r=ut(e);return i.length?r+"="+i:r},Tt={crop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=[{name:"dim",type:Be.struct({x:Be.Integer,y:Be.Integer,width:Be.Integer,height:Be.Integer})}];dt("crop",n,t);var i=t.dim,r="crop=dim:["+i.x+","+i.y+","+i.width+","+i.height+"]";return e.concat(r)},resize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=[{name:"width",type:xt(0,1e4)},{name:"height",type:xt(0,1e4)},{name:"fit",type:Be.enums.of("clip crop scale max")},{name:"align",type:Be.union([Be.enums.of("center top bottom left right faces"),Ct])}];if(dt("resize",n,t).length<1)throw new Error("Resize options must contain either width, height, fit, or align");var i=Et("resize",n,t);return e.concat(i)},rotate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=[{name:"deg",type:Be.union([xt(0,359),Be.enums.of("exif")])},{name:"exif",type:Be.Boolean},{name:"background",type:Be.String}];if(dt("rotate",n,t).length<1)throw new Error("Rotate options must contain either deg or exif");var i=Et("rotate",n,t);return e.concat(i)},roundedCorners:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=[{name:"radius",type:Be.union([xt(1,1e4),Be.enums.of("max")])},{name:"blur",type:xt(0,20)},{name:"background",type:Be.String}];dt("roundedCorners",n,t);var i=Et("roundedCorners",n,t);return e.concat(i)},vignette:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=[{name:"amount",type:xt(0,100)},{name:"blurmode",type:Be.enums.of("linear gaussian")},{name:"background",type:Be.String}];dt("vignette",n,t);var i=Et("vignette",n,t);return e.concat(i)},polaroid:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=[{name:"color",type:Be.String},{name:"rotate",type:xt(0,359)},{name:"background",type:Be.String}];dt("polaroid",n,t);var i=Et("polaroid",n,t);return e.concat(i)},tornEdges:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=[{name:"spread",type:kt(1,1e4)},{name:"background",type:Be.String}];dt("tornEdges",n,t);var i=Et("tornEdges",n,t);return e.concat(i)},shadow:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=[{name:"blur",type:xt(0,20)},{name:"opacity",type:xt(0,100)},{name:"vector",type:kt(-1e3,1e3)},{name:"color",type:Be.String},{name:"background",type:Be.String}];dt("shadow",n,t);var i=Et("shadow",n,t);return e.concat(i)},circle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=[{name:"background",type:Be.String}];dt("circle",n,t);var i=Et("circle",n,t);return e.concat(i)},border:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=[{name:"width",type:xt(1,1e3)},{name:"color",type:Be.String},{name:"background",type:Be.String}];dt("border",n,t);var i=Et("border",n,t);return e.concat(i)},flip:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];if("boolean"!=typeof t)throw Error("flip must be a Boolean value");return t?e.concat("flip"):e},flop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];if("boolean"!=typeof t)throw Error("flop must be a Boolean value");return t?e.concat("flop"):e},blackwhite:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=[{name:"threshold",type:xt(0,100)}];dt("blackwhite",n,t);var i=Et("blackwhite",n,t);return e.concat(i)},monochrome:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];if("boolean"!=typeof t)throw Error("monochrome must be a Boolean value");return t?e.concat("monochrome"):e},sepia:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=[{name:"tone",type:xt(0,100)}];dt("sepia",n,t);var i=Et("sepia",n,t);return e.concat(i)},output:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=[{name:"format",type:Be.String},{name:"background",type:Be.String},{name:"page",type:xt(1,1e4)},{name:"density",type:xt(1,500)},{name:"compress",type:Be.Boolean},{name:"quality",type:Be.union([xt(1,100),Be.enums.of("input")])},{name:"input",type:Be.Boolean},{name:"strip",type:Be.Boolean},{name:"colorspace",type:Be.enums.of("rgb cmyk input")},{name:"secure",type:Be.Boolean},{name:"docinfo",type:Be.Boolean},{name:"pageformat",type:Be.enums.of("a3 a4 a5 b4 b5 letter legal tabloid")},{name:"pageorientation",type:Be.enums.of("landscape portrait")}];dt("output",n,t);var i=Et("output",n,t);return e.concat(i)}},At=qe(function(e){var t,n;t=ze,n=function(){var e=!0;function t(t){function n(e){var n=t.match(e);return n&&n.length>1&&n[1]||""}var i,r,o,s=n(/(ipod|iphone|ipad)/i).toLowerCase(),a=!/like android/i.test(t)&&/android/i.test(t),l=/nexus\s*[0-6]\s*/i.test(t),u=!l&&/nexus\s*[0-9]+/i.test(t),c=/CrOS/.test(t),p=/silk/i.test(t),f=/sailfish/i.test(t),d=/tizen/i.test(t),h=/(web|hpw)os/i.test(t),m=/windows phone/i.test(t),g=(/SamsungBrowser/i.test(t),!m&&/windows/i.test(t)),b=!s&&!p&&/macintosh/i.test(t),y=!a&&!f&&!d&&!h&&/linux/i.test(t),v=n(/edge\/(\d+(\.\d+)?)/i),_=n(/version\/(\d+(\.\d+)?)/i),x=/tablet/i.test(t)&&!/tablet pc/i.test(t),w=!x&&/[^-]mobi/i.test(t),k=/xbox/i.test(t);/opera/i.test(t)?i={name:"Opera",opera:e,version:_||n(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr|opios/i.test(t)?i={name:"Opera",opera:e,version:n(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||_}:/SamsungBrowser/i.test(t)?i={name:"Samsung Internet for Android",samsungBrowser:e,version:_||n(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/coast/i.test(t)?i={name:"Opera Coast",coast:e,version:_||n(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(t)?i={name:"Yandex Browser",yandexbrowser:e,version:_||n(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(t)?i={name:"UC Browser",ucbrowser:e,version:n(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(t)?i={name:"Maxthon",maxthon:e,version:n(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(t)?i={name:"Epiphany",epiphany:e,version:n(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(t)?i={name:"Puffin",puffin:e,version:n(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(t)?i={name:"Sleipnir",sleipnir:e,version:n(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(t)?i={name:"K-Meleon",kMeleon:e,version:n(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:m?(i={name:"Windows Phone",windowsphone:e},v?(i.msedge=e,i.version=v):(i.msie=e,i.version=n(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(t)?i={name:"Internet Explorer",msie:e,version:n(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:c?i={name:"Chrome",chromeos:e,chromeBook:e,chrome:e,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/chrome.+? edge/i.test(t)?i={name:"Microsoft Edge",msedge:e,version:v}:/vivaldi/i.test(t)?i={name:"Vivaldi",vivaldi:e,version:n(/vivaldi\/(\d+(\.\d+)?)/i)||_}:f?i={name:"Sailfish",sailfish:e,version:n(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(t)?i={name:"SeaMonkey",seamonkey:e,version:n(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(t)?(i={name:"Firefox",firefox:e,version:n(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(t)&&(i.firefoxos=e)):p?i={name:"Amazon Silk",silk:e,version:n(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(t)?i={name:"PhantomJS",phantom:e,version:n(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(t)?i={name:"SlimerJS",slimer:e,version:n(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(t)||/rim\stablet/i.test(t)?i={name:"BlackBerry",blackberry:e,version:_||n(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:h?(i={name:"WebOS",webos:e,version:_||n(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(t)&&(i.touchpad=e)):/bada/i.test(t)?i={name:"Bada",bada:e,version:n(/dolfin\/(\d+(\.\d+)?)/i)}:d?i={name:"Tizen",tizen:e,version:n(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||_}:/qupzilla/i.test(t)?i={name:"QupZilla",qupzilla:e,version:n(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||_}:/chromium/i.test(t)?i={name:"Chromium",chromium:e,version:n(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||_}:/chrome|crios|crmo/i.test(t)?i={name:"Chrome",chrome:e,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:a?i={name:"Android",version:_}:/safari|applewebkit/i.test(t)?(i={name:"Safari",safari:e},_&&(i.version=_)):s?(i={name:"iphone"==s?"iPhone":"ipad"==s?"iPad":"iPod"},_&&(i.version=_)):i=/googlebot/i.test(t)?{name:"Googlebot",googlebot:e,version:n(/googlebot\/(\d+(\.\d+))/i)||_}:{name:n(/^(.*)\/(.*) /),version:(r=/^(.*)\/(.*) /,o=t.match(r),o&&o.length>1&&o[2]||"")},!i.msedge&&/(apple)?webkit/i.test(t)?(/(apple)?webkit\/537\.36/i.test(t)?(i.name=i.name||"Blink",i.blink=e):(i.name=i.name||"Webkit",i.webkit=e),!i.version&&_&&(i.version=_)):!i.opera&&/gecko\//i.test(t)&&(i.name=i.name||"Gecko",i.gecko=e,i.version=i.version||n(/gecko\/(\d+(\.\d+)?)/i)),i.windowsphone||i.msedge||!a&&!i.silk?i.windowsphone||i.msedge||!s?b?i.mac=e:k?i.xbox=e:g?i.windows=e:y&&(i.linux=e):(i[s]=e,i.ios=e):i.android=e;var S="";i.windows?S=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(n(/Windows ((NT|XP)( \d\d?.\d)?)/i)):i.windowsphone?S=n(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):i.mac?S=(S=n(/Mac OS X (\d+([_\.\s]\d+)*)/i)).replace(/[_\s]/g,"."):s?S=(S=n(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):a?S=n(/android[ \/-](\d+(\.\d+)*)/i):i.webos?S=n(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):i.blackberry?S=n(/rim\stablet\sos\s(\d+(\.\d+)*)/i):i.bada?S=n(/bada\/(\d+(\.\d+)*)/i):i.tizen&&(S=n(/tizen[\/\s](\d+(\.\d+)*)/i)),S&&(i.osversion=S);var C=!i.windows&&S.split(".")[0];return x||u||"ipad"==s||a&&(3==C||C>=4&&!w)||i.silk?i.tablet=e:(w||"iphone"==s||"ipod"==s||a||l||i.blackberry||i.webos||i.bada)&&(i.mobile=e),i.msedge||i.msie&&i.version>=10||i.yandexbrowser&&i.version>=15||i.vivaldi&&i.version>=1||i.chrome&&i.version>=20||i.samsungBrowser&&i.version>=4||i.firefox&&i.version>=20||i.safari&&i.version>=6||i.opera&&i.version>=10||i.ios&&i.osversion&&i.osversion.split(".")[0]>=6||i.blackberry&&i.version>=10.1||i.chromium&&i.version>=20?i.a=e:i.msie&&i.version<10||i.chrome&&i.version<20||i.firefox&&i.version<20||i.safari&&i.version<6||i.opera&&i.version<10||i.ios&&i.osversion&&i.osversion.split(".")[0]<6||i.chromium&&i.version<20?i.c=e:i.x=e,i}var n=t("undefined"!=typeof navigator&&navigator.userAgent||"");function i(e){return e.split(".").length}function r(e,t){var n,i=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n++)i.push(t(e[n]));return i}function o(e){for(var t=Math.max(i(e[0]),i(e[1])),n=r(e,function(e){var n=t-i(e);return r((e+=new Array(n+1).join(".0")).split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});--t>=0;){if(n[0][t]>n[1][t])return 1;if(n[0][t]!==n[1][t])return-1;if(0===t)return 0}}function s(e,i,r){var s=n;"string"==typeof i&&(r=i,i=void 0),void 0===i&&(i=!1),r&&(s=t(r));var a=""+s.version;for(var l in e)if(e.hasOwnProperty(l)&&s[l]){if("string"!=typeof e[l])throw new Error("Browser version in the minVersion map should be a string: "+l+": "+String(e));return o([a,e[l]])<0}return i}return n.test=function(e){for(var t=0;t<e.length;++t){var i=e[t];if("string"==typeof i&&i in n)return!0}return!1},n.isUnsupportedBrowser=s,n.compareVersions=o,n.check=function(e,t,n){return!s(e,t,n)},n._detect=t,n},e.exports?e.exports=n():t.bowser=n()}),Nt=qe(function(e,t){e.exports=function(e){var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(e,t){var n=e[0],i=e[1],r=e[2],o=e[3];n+=(i&r|~i&o)+t[0]-680876936|0,o+=((n=(n<<7|n>>>25)+i|0)&i|~n&r)+t[1]-389564586|0,r+=((o=(o<<12|o>>>20)+n|0)&n|~o&i)+t[2]+606105819|0,i+=((r=(r<<17|r>>>15)+o|0)&o|~r&n)+t[3]-1044525330|0,n+=((i=(i<<22|i>>>10)+r|0)&r|~i&o)+t[4]-176418897|0,o+=((n=(n<<7|n>>>25)+i|0)&i|~n&r)+t[5]+1200080426|0,r+=((o=(o<<12|o>>>20)+n|0)&n|~o&i)+t[6]-1473231341|0,i+=((r=(r<<17|r>>>15)+o|0)&o|~r&n)+t[7]-45705983|0,n+=((i=(i<<22|i>>>10)+r|0)&r|~i&o)+t[8]+1770035416|0,o+=((n=(n<<7|n>>>25)+i|0)&i|~n&r)+t[9]-1958414417|0,r+=((o=(o<<12|o>>>20)+n|0)&n|~o&i)+t[10]-42063|0,i+=((r=(r<<17|r>>>15)+o|0)&o|~r&n)+t[11]-1990404162|0,n+=((i=(i<<22|i>>>10)+r|0)&r|~i&o)+t[12]+1804603682|0,o+=((n=(n<<7|n>>>25)+i|0)&i|~n&r)+t[13]-40341101|0,r+=((o=(o<<12|o>>>20)+n|0)&n|~o&i)+t[14]-1502002290|0,i+=((r=(r<<17|r>>>15)+o|0)&o|~r&n)+t[15]+1236535329|0,n+=((i=(i<<22|i>>>10)+r|0)&o|r&~o)+t[1]-165796510|0,o+=((n=(n<<5|n>>>27)+i|0)&r|i&~r)+t[6]-1069501632|0,r+=((o=(o<<9|o>>>23)+n|0)&i|n&~i)+t[11]+643717713|0,i+=((r=(r<<14|r>>>18)+o|0)&n|o&~n)+t[0]-373897302|0,n+=((i=(i<<20|i>>>12)+r|0)&o|r&~o)+t[5]-701558691|0,o+=((n=(n<<5|n>>>27)+i|0)&r|i&~r)+t[10]+38016083|0,r+=((o=(o<<9|o>>>23)+n|0)&i|n&~i)+t[15]-660478335|0,i+=((r=(r<<14|r>>>18)+o|0)&n|o&~n)+t[4]-405537848|0,n+=((i=(i<<20|i>>>12)+r|0)&o|r&~o)+t[9]+568446438|0,o+=((n=(n<<5|n>>>27)+i|0)&r|i&~r)+t[14]-1019803690|0,r+=((o=(o<<9|o>>>23)+n|0)&i|n&~i)+t[3]-187363961|0,i+=((r=(r<<14|r>>>18)+o|0)&n|o&~n)+t[8]+1163531501|0,n+=((i=(i<<20|i>>>12)+r|0)&o|r&~o)+t[13]-1444681467|0,o+=((n=(n<<5|n>>>27)+i|0)&r|i&~r)+t[2]-51403784|0,r+=((o=(o<<9|o>>>23)+n|0)&i|n&~i)+t[7]+1735328473|0,i+=((r=(r<<14|r>>>18)+o|0)&n|o&~n)+t[12]-1926607734|0,n+=((i=(i<<20|i>>>12)+r|0)^r^o)+t[5]-378558|0,o+=((n=(n<<4|n>>>28)+i|0)^i^r)+t[8]-2022574463|0,r+=((o=(o<<11|o>>>21)+n|0)^n^i)+t[11]+1839030562|0,i+=((r=(r<<16|r>>>16)+o|0)^o^n)+t[14]-35309556|0,n+=((i=(i<<23|i>>>9)+r|0)^r^o)+t[1]-1530992060|0,o+=((n=(n<<4|n>>>28)+i|0)^i^r)+t[4]+1272893353|0,r+=((o=(o<<11|o>>>21)+n|0)^n^i)+t[7]-155497632|0,i+=((r=(r<<16|r>>>16)+o|0)^o^n)+t[10]-1094730640|0,n+=((i=(i<<23|i>>>9)+r|0)^r^o)+t[13]+681279174|0,o+=((n=(n<<4|n>>>28)+i|0)^i^r)+t[0]-358537222|0,r+=((o=(o<<11|o>>>21)+n|0)^n^i)+t[3]-722521979|0,i+=((r=(r<<16|r>>>16)+o|0)^o^n)+t[6]+76029189|0,n+=((i=(i<<23|i>>>9)+r|0)^r^o)+t[9]-640364487|0,o+=((n=(n<<4|n>>>28)+i|0)^i^r)+t[12]-421815835|0,r+=((o=(o<<11|o>>>21)+n|0)^n^i)+t[15]+530742520|0,i+=((r=(r<<16|r>>>16)+o|0)^o^n)+t[2]-995338651|0,n+=(r^((i=(i<<23|i>>>9)+r|0)|~o))+t[0]-198630844|0,o+=(i^((n=(n<<6|n>>>26)+i|0)|~r))+t[7]+1126891415|0,r+=(n^((o=(o<<10|o>>>22)+n|0)|~i))+t[14]-1416354905|0,i+=(o^((r=(r<<15|r>>>17)+o|0)|~n))+t[5]-57434055|0,n+=(r^((i=(i<<21|i>>>11)+r|0)|~o))+t[12]+1700485571|0,o+=(i^((n=(n<<6|n>>>26)+i|0)|~r))+t[3]-1894986606|0,r+=(n^((o=(o<<10|o>>>22)+n|0)|~i))+t[10]-1051523|0,i+=(o^((r=(r<<15|r>>>17)+o|0)|~n))+t[1]-2054922799|0,n+=(r^((i=(i<<21|i>>>11)+r|0)|~o))+t[8]+1873313359|0,o+=(i^((n=(n<<6|n>>>26)+i|0)|~r))+t[15]-30611744|0,r+=(n^((o=(o<<10|o>>>22)+n|0)|~i))+t[6]-1560198380|0,i+=(o^((r=(r<<15|r>>>17)+o|0)|~n))+t[13]+1309151649|0,n+=(r^((i=(i<<21|i>>>11)+r|0)|~o))+t[4]-145523070|0,o+=(i^((n=(n<<6|n>>>26)+i|0)|~r))+t[11]-1120210379|0,r+=(n^((o=(o<<10|o>>>22)+n|0)|~i))+t[2]+718787259|0,i=((i+=(o^((r=(r<<15|r>>>17)+o|0)|~n))+t[9]-343485551|0)<<21|i>>>11)+r|0,e[0]=n+e[0]|0,e[1]=i+e[1]|0,e[2]=r+e[2]|0,e[3]=o+e[3]|0}function i(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function o(e){var t,r,o,s,a,l,u=e.length,c=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=u;t+=64)n(c,i(e.substring(t-64,t)));for(e=e.substring(t-64),r=e.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)o[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(n(c,o),t=0;t<16;t+=1)o[t]=0;return s=(s=8*u).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(s[2],16),l=parseInt(s[1],16)||0,o[14]=a,o[15]=l,n(c,o),c}function s(e){var n,i="";for(n=0;n<4;n+=1)i+=t[e>>8*n+4&15]+t[e>>8*n&15];return i}function a(e){var t;for(t=0;t<e.length;t+=1)e[t]=s(e[t]);return e.join("")}function l(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function u(e){var t,n=[],i=e.length;for(t=0;t<i-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function c(){this.reset()}return a(o("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(n,i){var r,o,s,a,l=this.byteLength,u=t(n,l),c=l;return i!==e&&(c=t(i,l)),u>c?new ArrayBuffer(0):(r=c-u,o=new ArrayBuffer(r),s=new Uint8Array(o),a=new Uint8Array(this,u,r),s.set(a),o)}}(),c.prototype.append=function(e){return this.appendBinary(l(e)),this},c.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,r=this._buff.length;for(t=64;t<=r;t+=64)n(this._hash,i(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},c.prototype.end=function(e){var t,n,i=this._buff,r=i.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r;t+=1)o[t>>2]|=i.charCodeAt(t)<<(t%4<<3);return this._finish(o,r),n=a(this._hash),e&&(n=u(n)),this.reset(),n},c.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},c.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},c.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},c.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},c.prototype._finish=function(e,t){var i,r,o,s=t;if(e[s>>2]|=128<<(s%4<<3),s>55)for(n(this._hash,e),s=0;s<16;s+=1)e[s]=0;i=(i=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(i[2],16),o=parseInt(i[1],16)||0,e[14]=r,e[15]=o,n(this._hash,e)},c.hash=function(e,t){return c.hashBinary(l(e),t)},c.hashBinary=function(e,t){var n=a(o(e));return t?u(n):n},c.ArrayBuffer=function(){this.reset()},c.ArrayBuffer.prototype.append=function(e){var t,i,o,s,a,l=(i=this._buff.buffer,o=e,s=!0,(a=new Uint8Array(i.byteLength+o.byteLength)).set(new Uint8Array(i)),a.set(new Uint8Array(o),i.byteLength),s?a:a.buffer),u=l.length;for(this._length+=e.byteLength,t=64;t<=u;t+=64)n(this._hash,r(l.subarray(t-64,t)));return this._buff=t-64<u?new Uint8Array(l.buffer.slice(t-64)):new Uint8Array(0),this},c.ArrayBuffer.prototype.end=function(e){var t,n,i=this._buff,r=i.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r;t+=1)o[t>>2]|=i[t]<<(t%4<<3);return this._finish(o,r),n=a(this._hash),e&&(n=u(n)),this.reset(),n},c.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},c.ArrayBuffer.prototype.getState=function(){var e,t=c.prototype.getState.call(this);return t.buff=(e=t.buff,String.fromCharCode.apply(null,new Uint8Array(e))),t},c.ArrayBuffer.prototype.setState=function(e){return e.buff=function(e,t){var n,i=e.length,r=new ArrayBuffer(i),o=new Uint8Array(r);for(n=0;n<i;n+=1)o[n]=e.charCodeAt(n);return t?o:r}(e.buff,!0),c.prototype.setState.call(this,e)},c.ArrayBuffer.prototype.destroy=c.prototype.destroy,c.ArrayBuffer.prototype._finish=c.prototype._finish,c.ArrayBuffer.hash=function(e,t){var i=a(function(e){var t,i,o,s,a,l,u=e.length,c=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=u;t+=64)n(c,r(e.subarray(t-64,t)));for(e=t-64<u?e.subarray(t-64):new Uint8Array(0),i=e.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<i;t+=1)o[t>>2]|=e[t]<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(n(c,o),t=0;t<16;t+=1)o[t]=0;return s=(s=8*u).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(s[2],16),l=parseInt(s[1],16)||0,o[14]=a,o[15]=l,n(c,o),c}(new Uint8Array(e)));return t?u(i):i},c}()}),Mt=qe(function(e){function t(e,t,n,i){this.resolve=e,this.fn=t,this.self=n||null,this.args=i}function n(){this._s1=[],this._s2=[]}e.exports=function(i){var r;function o(e,i){var o=new n;function s(n,i,s){if(e){e--;var l=new r(function(e){e(n.apply(i,s))});return l.then(a,a),l}return new r(function(e){o.push(new t(e,n,i,s))})}function a(){if(e++,!o.isEmpty()){var t=o.shift();t.resolve(s(t.fn,t.self,t.args))}}if("function"==typeof e){var l=i;i=e,e=l}if("number"!=typeof e)throw new TypeError("Expected throat size to be a number but got "+typeof e);if(void 0!==i&&"function"!=typeof i)throw new TypeError("Expected throat fn to be a function but got "+typeof i);return"function"==typeof i?function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);return s(i,this,e)}:function(e){if("function"!=typeof e)throw new TypeError("Expected throat fn to be a function but got "+typeof e);for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);return s(e,this,t)}}if(1===arguments.length&&"function"==typeof i)return r=i,o;if("function"!=typeof(r=e.exports.Promise))throw new Error("You must provide a Promise polyfill for this library to work in older environments");return o(arguments[0],arguments[1])},"function"==typeof Promise&&(e.exports.Promise=Promise),n.prototype.push=function(e){this._s1.push(e)},n.prototype.shift=function(){var e=this._s2;if(0===e.length){var t=this._s1;if(0===t.length)return;this._s1=e,e=this._s2=t.reverse()}return e.pop()},n.prototype.isEmpty=function(){return!this._s1.length&&!this._s2.length}}),Rt=1/0,Ot=9007199254740991,Lt=1.7976931348623157e308,Pt=NaN,Dt="[object Function]",It="[object GeneratorFunction]",Ft="[object Symbol]",$t=/^\s+|\s+$/g,jt=/^[-+]0x[0-9a-f]+$/i,Bt=/^0b[01]+$/i,zt=/^0o[0-7]+$/i,qt=/^(?:0|[1-9]\d*)$/,Ht=parseInt,Ut=Object.prototype.toString,Wt=Math.ceil,Vt=Math.max;function Gt(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Kt(e){return e?(e=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&Ut.call(e)==Ft}(e))return Pt;if(Gt(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Gt(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace($t,"");var n=Bt.test(e);return n||zt.test(e)?Ht(e.slice(2),n?2:8):jt.test(e)?Pt:+e}(e))===Rt||e===-Rt?(e<0?-1:1)*Lt:e==e?e:0:0===e?e:0}var Yt,Xt=function(e,t,n){return n&&"number"!=typeof n&&function(e,t,n){if(!Gt(n))return!1;var i=typeof t;return!!("number"==i?function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Ot}(e.length)&&!function(e){var t=Gt(e)?Ut.call(e):"";return t==Dt||t==It}(e)}(n)&&function(e,t){return!!(t=null==t?Ot:t)&&("number"==typeof e||qt.test(e))&&e>-1&&e%1==0&&e<t}(t,n.length):"string"==i&&t in n)&&function(e,t){return e===t||e!=e&&t!=t}(n[t],e)}(e,t,n)&&(t=n=void 0),e=Kt(e),void 0===t?(t=e,e=0):t=Kt(t),function(e,t,n,i){for(var r=-1,o=Vt(Wt((t-e)/(n||1)),0),s=Array(o);o--;)s[i?o:++r]=e,e+=n;return s}(e,t,n=void 0===n?e<t?1:-1:Kt(n),Yt)},Qt="Expected a function",Zt=NaN,Jt="[object Symbol]",en=/^\s+|\s+$/g,tn=/^[-+]0x[0-9a-f]+$/i,nn=/^0b[01]+$/i,rn=/^0o[0-7]+$/i,on=parseInt,sn="object"==typeof ze&&ze&&ze.Object===Object&&ze,an="object"==typeof self&&self&&self.Object===Object&&self,ln=sn||an||Function("return this")(),un=Object.prototype.toString,cn=Math.max,pn=Math.min,fn=function(){return ln.Date.now()};function dn(e,t,n){var i,r,o,s,a,l,u=0,c=!1,p=!1,f=!0;if("function"!=typeof e)throw new TypeError(Qt);function d(t){var n=i,o=r;return i=r=void 0,u=t,s=e.apply(o,n)}function h(e){var n=e-l;return void 0===l||n>=t||n<0||p&&e-u>=o}function m(){var e=fn();if(h(e))return g(e);a=setTimeout(m,function(e){var n=t-(e-l);return p?pn(n,o-(e-u)):n}(e))}function g(e){return a=void 0,f&&i?d(e):(i=r=void 0,s)}function b(){var e=fn(),n=h(e);if(i=arguments,r=this,l=e,n){if(void 0===a)return function(e){return u=e,a=setTimeout(m,t),c?d(e):s}(l);if(p)return a=setTimeout(m,t),d(l)}return void 0===a&&(a=setTimeout(m,t)),s}return t=mn(t)||0,hn(n)&&(c=!!n.leading,o=(p="maxWait"in n)?cn(mn(n.maxWait)||0,t):o,f="trailing"in n?!!n.trailing:f),b.cancel=function(){void 0!==a&&clearTimeout(a),u=0,i=l=r=a=void 0},b.flush=function(){return void 0===a?s:g(fn())},b}function hn(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function mn(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&un.call(e)==Jt}(e))return Zt;if(hn(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=hn(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(en,"");var n=nn.test(e);return n||rn.test(e)?on(e.slice(2),n?2:8):tn.test(e)?Zt:+e}var gn=function(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new TypeError(Qt);return hn(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),dn(e,t,{leading:i,maxWait:t,trailing:r})},bn=yt.context("api-client"),yn=function(e){return e&&function(e){return"https://"+e}(e)},vn=function(e){return e.customName||e.name},_n=function(e,t,n){var i=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,r=function(e,t,n){var i=t*n.partSize;return{start:i,end:Math.min(i+n.partSize,e.size)}}(e,t,n),o=r.start,s=r.end;return i.call(e,o,s)},xn=function(e){return window.btoa(Nt.ArrayBuffer.hash(e,!0))},wn=function(e,t){var n=new FormData;return Object.keys(e).forEach(function(t){n.append(t,e[t])}),Object.keys(t.store).forEach(function(e){n.append(e,t.store[e])}),n},kn=function(e,t,n,i,r,o){var s=r.debug?r.host:yn(e.location_url)||r.host,a=e.location_region,l=pt({apikey:r.apikey,part:t.number+1,size:n,md5:i},e);(!0===r.intelligent||t.intelligentOverride)&&(l.multipart=!0,l.offset=o);var u=wn(l,r);return it("post",s+"/multipart/upload").set("Filestack-Upload-Region",a).timeout(r.timeout).send(u)},Sn=function(e,t,n,i){var r=i.fakeS3?i.host+"/fakeS3":t.url,o=Math.max(i.timeout,e.byteLength/100),s=nt.put(r).set(t.headers).timeout(o).send(e);return n?s.on("progress",n):s},Cn=function(e,t,n){bn("calling upload with config:",t,"file: ",e);var i={progressTick:null,paused:!1,failed:!1,done:!1,retries:{}},r=Math.ceil(e.size/t.partSize),o=Xt(0,r).map(function(e){return{size:null,number:e,loaded:0,request:null,intelligentOverride:!1,chunks:[],chunkSize:t.intelligentChunkSize?t.intelligentChunkSize:At.mobile?1048576:8388608}}),s=function(){t.onProgress&&(i.progressTick=setInterval(function(){var n=o.map(function(e){return e.loaded}),r=o.map(function(e){return e.chunks}).reduce(function(e,t){return e.concat(t)},[]).map(function(e){return e.loaded}).filter(function(e){return e}),s=n;(!0===t.intelligent&&(s=r),"fallback"===t.intelligent)&&(s=o.filter(function(e){return!e.intelligentOverride}).map(function(e){return e.loaded}).concat(r));var a=s.reduce(function(e,t){return e+t},0),l=function(t){return Math.round(t/e.size*100)}(a),u={totalBytes:a,totalPercent:l},c=i.previousPayload||{};100!==l?(l<c.totalPercent&&(u.totalBytes=c.totalBytes,u.totalPercent=c.totalPercent),t.onProgress(u),i.previousPayload=u):clearInterval(i.progressTick)},t.progressInterval))},a=function(){if(t.onProgress){var n={totalBytes:e.size,totalPercent:100};t.onProgress(n),clearInterval(i.progressTick)}};n.pause=function(){i.failed||i.done||i.paused||(bn("Upload flow paused"),i.paused=!0,clearInterval(i.progressTick))},n.resume=function(){i.failed||i.done||!i.paused||(bn("Upload flow resumed"),i.paused=!1,s()),i.paused&&i.done&&(i.paused=!1,a())};var l=new Promise(function(e,t){n.cancel=function(){i.failed||i.done||(clearInterval(i.progressTick),o.forEach(function(e){e.request&&e.request.abort(),delete e.request,e.chunks.forEach(function(e){e.request&&e.request.abort(),delete e.request})}),i.failed=!0,t(new Error("Upload cancelled")))}}),u=function(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return i.failed?Promise.resolve():i.paused?new Promise(function(t){!function r(){i.paused?setTimeout(function(){return r()},100):t(e.apply(void 0,n))}()}):e.apply(void 0,n)}},c=function(n,r,s){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=i.retries[n]||0,c=Math.min(t.retryMaxTime,1e3*Math.pow(t.retryFactor,u)),p=new Promise(function(l,p){u===t.retry||i.failed||400===s.status&&"PUT"!==s.method||401===s.status||403===s.status||404===s.status||a.chunkSize<=32768?(clearInterval(i.progressTick),i.failed=!0,p(new Error("Upload for "+vn(e)+" failed. "+s.message))):setTimeout(function(){i.failed?l():(!0===t.intelligent||a.intelligentOverride)&&(s.crossDomain&&"PUT"===s.method||400===s.status&&"PUT"===s.method||s.timeout)?a.chunkSize<=32768?l():(a.chunkSize/=2,t.onRetry&&t.onRetry({location:n,parts:o,filename:vn(e),chunkSize:a.chunkSize}),l(r())):"fallback"===t.intelligent&&(s.crossDomain&&"PUT"===s.method||400===s.status&&"PUT"===s.method||s.timeout)?(a.intelligentOverride=!0,a.chunkSize===t.partSize&&(a.chunkSize/=2),t.onRetry&&t.onRetry({location:n,parts:o,filename:vn(e),chunkSize:a.chunkSize}),l(r())):(u+=1,i.retries[n]=u,t.onRetry&&t.onRetry({location:n,parts:o,filename:vn(e),attempt:u}),l(r()))},c)});return Promise.race([l,p])},p=function(n,r){var o=function(e){return new Promise(function(t,n){var i=void 0;window.File&&window.FileReader&&window.Blob?i=new FileReader:n(new Error("The File APIs are not fully supported by your browser")),i.onloadend=t,i.onerror=n,i.readAsArrayBuffer(e)})}(_n(e,n.number,t)).then(function(e){return n.buffer=!0===t.intelligent||n.intelligentOverride?e.target.result:new Uint8Array(e.target.result),n.size=n.buffer.byteLength,0===n.size?(i.failed=!0,Promise.reject(new Error("Upload aborted due to empty chunk."))):n});return!0===t.intelligent||n.intelligentOverride?o.then(function(n){var i=u(function(e){return function(e,t,n){e.buf=new Uint8Array(e.buf);var i=xn(e.buf);return kn(t,e.part,e.size,i,n,e.offset).then(function(t){var i=void 0;return n.onProgress&&(i=gn(function(t){t.loaded>0&&(e.loaded=t.loaded)},n.progressInterval)),delete t.xhr,delete t.req,e.request=Sn(e.buf,t.body,i,n),e.request}).then(function(t){return delete e.buf,delete e.request,delete t.req,delete t.xhr,t})}(e,r,t)});return n.chunks=function(e,t){for(var n=0,i=[],r=ArrayBuffer.prototype.slice;n<e.size;){var o=r.call(e.buffer,n,n+t),s={buf:o,offset:n,size:o.byteLength,part:e};i.push(s),n+=t}return i}(n,n.chunkSize),Promise.race([l,Promise.all(n.chunks.map(Mt(t.concurrency,i)))]).then(function(){return delete n.buffer,n.loaded=n.size,function(e,t,n,i){var r=i.debug?i.host:yn(n.location_url)||i.host,o=pt({apikey:i.apikey,part:t.number+1,size:e.size},n),s=wn(o,i);return it("post",r+"/multipart/commit").timeout(i.timeout).send(s)}(e,n,r,t).then(function(e){return 206===e.status?Promise.reject(new Error("FII chunks missing")):e})})}):o.then(function(e){var n=xn(e.buffer);return e.request=kn(r,e,e.size,n,t),e.request}).then(function(e){var i=void 0;return t.onProgress&&(i=gn(function(e){e.loaded>0&&(n.loaded=e.loaded)},t.progressInterval)),n.request=Sn(n.buffer,e.body,i,t),n.request}).then(function(e){if(delete n.buffer,delete n.request,delete e.req,delete e.xhr,void 0===e.headers.etag){i.failed=!0;return Promise.reject(new Error("Response from S3 is missing ETag header. Please expose it in your bucket CORS config."))}return e})};return Promise.race([l,function n(){return function(e,t){var n={apikey:t.apikey,filename:vn(e),mimetype:e.type||"application/octet-stream",size:e.size};t.policy&&t.signature&&(n.policy=t.policy,n.signature=t.signature),t.intelligent&&(n.multipart=!0);var i=wn(n,t);return it("post",t.host+"/multipart/start").timeout(t.timeout).send(i)}(e,t).catch(function(e){return c("start",n,e)})}()]).then(function(n){var r=n.body;s();var f=u(function(e){return p(e,r).catch(function(t){return e.loaded=0,e.chunks=[],c("upload part "+(e.number+1),function(){return f(e)},t,e)})}),d=Promise.all(o.map(Mt(t.concurrency,f)));return Promise.race([l,d]).then(function(n){var o=void 0;!0!==t.intelligent&&(o=function(e){return e.map(function(e,t){return t+1+":"+e}).join(";")}(n.map(function(e){return e.headers&&e.headers.etag})));var s=u(function(){return function(e,t,n,i){var r=i.debug?i.host:yn(n.location_url)||i.host,o=n.location_region,s=pt({apikey:i.apikey,size:e.size,filename:e.customName||e.name,mimetype:e.type||"application/octet-stream",parts:t},n);i.intelligent&&(s.multipart=!0,delete s.parts);var a=wn(s,i);return it("post",r+"/multipart/complete").set("Filestack-Upload-Region",o).timeout(i.timeout).send(a)}(e,o,r,t).then(function(e){return 202===e.status?new Promise(function(e){setTimeout(function(){return e(s())},1e3)}):(i.done=!0,i.paused||a(),e.body)}).catch(function(e){return c("complete",s,e)})});return s()})})},En=function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if("string"==typeof t&&(t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:512,n=void 0,i="";e.split(",")[0].indexOf("base64")>=0&&(n=e.split(",")[1]),void 0!==n&&(i=e.split(",")[0].split(":")[1].split(";")[0],e=decodeURI(n));for(var r=atob(e),o=[],s=0;s<r.length;s+=t){for(var a=r.slice(s,s+t),l=new Array(a.length),u=0;u<a.length;u+=1)l[u]=a.charCodeAt(u);var c=new Uint8Array(l);o.push(c)}return new Blob(o,{type:i})}(t)),!t||"[object File]"!==(n=t).toString()&&"[object Blob]"!==n.toString())return Promise.reject(new TypeError("File parameter is not a valid Blob or File instance"));if(void 0!==t.size&&0===t.size)return Promise.reject(new Error("File has a size of 0."));var s=[{name:"host",type:Be.String},{name:"partSize",type:Be.Number},{name:"concurrency",type:Be.refinement(Be.Integer,function(e){return e>0})},{name:"onProgress",type:Be.Function},{name:"progressInterval",type:Be.Integer},{name:"onRetry",type:Be.Function},{name:"retry",type:Be.Integer},{name:"retryFactor",type:Be.Integer},{name:"retryMaxTime",type:Be.Integer},{name:"timeout",type:Be.Integer},{name:"debug",type:Be.Bool},{name:"intelligent",type:Be.union([Be.Bool,Be.enums.of("fallback")])},{name:"intelligentChunkSize",type:Be.Number},{name:"fakeS3",type:Be.Bool}],a=[{name:"location",type:Be.enums.of("s3 gcs rackspace azure dropbox")},{name:"region",type:Be.String},{name:"path",type:Be.String},{name:"container",type:Be.String},{name:"filename",type:Be.String},{name:"access",type:Be.enums.of("public private")}];if(dt("upload (options)",s,i),dt("upload (storeOptions)",a,r),r.filename)t.customName=r.filename;else if(void 0===t.name)if(t.type){var l=t.type.split("/").pop();t.customName="untitled."+l}else t.customName="untitled";delete r.filename,void 0===r.location&&(r.location="s3"),i.intelligent&&(i.partSize=8388608);var u=mt(r,"store"),c=pt({host:e.urls.uploadApiUrl,apikey:e.apikey,policy:e.policy,signature:e.signature,partSize:6291456,concurrency:3,onProgress:null,progressInterval:1e3,onRetry:null,retry:10,retryFactor:2,retryMaxTime:1e4,store:u,timeout:12e4,debug:!1},i);return Cn(t,c,o)},Tn=function(t,n,i){if(!t||"string"!=typeof t)throw new Error("apikey is required to initialize the Filestack client");var r,o=pt({},n,{apikey:t,urls:(r=e,i&&Object.keys(e).forEach(function(t){r[t]=e[t].replace("filestackapi.com",i)}),r)});return{apikey:t,cname:i,getSecurity:function(){return{policy:o.policy,signature:o.signature}},setSecurity:function(e){if(e&&(!e.policy||!e.signature))throw new Error("signature and policy are both required for security");return o.policy=e.policy,o.signature=e.signature,o},storeURL:function(e,t,n){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=e.urls.storeApiUrl;if(!t||"string"!=typeof t)throw new Error("url is required for storeURL");var o=[{name:"filename",type:Be.String},{name:"location",type:Be.enums.of("s3 gcs rackspace azure dropbox")},{name:"mimetype",type:Be.String},{name:"path",type:Be.String},{name:"region",type:Be.String},{name:"container",type:Be.String},{name:"access",type:Be.enums.of("public private")}];dt("storeURL",o,n);var s=n.location||"s3",a=ht(n);e.policy&&e.signature&&(a.policy=e.policy,a.signature=e.signature);var l=r+"/"+s,u=new FormData;return u.append("url",t),new Promise(function(t,n){var r=nt.post(l).query({key:e.apikey}).query(a).send(u).end(function(e,i){if(e)n(e);else if(i.body&&i.body.url){var r=i.body.url.split("/").pop(),o=pt({},i.body,{handle:r});t(o)}else t(i.body)});i.cancel=function(){r.abort(),n(new Error("Upload cancelled"))}})}(o,e,t,n)},retrieve:function(e,t){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e.urls.fileApiUrl;if(!t||"string"!=typeof t)throw new Error("handle is required for retrieve");var r=[{name:"metadata",type:Be.Boolean},{name:"head",type:Be.Boolean},{name:"cache",type:Be.Boolean},{name:"dl",type:Be.Boolean},{name:"extension",type:Be.String}];dt("retrieve",r,n);var o=i+"/"+t,s=ht(n);return s.extension&&(o+="+"+s.extension,delete s.extension),s.metadata&&(o+="/metadata"),e.policy&&e.signature&&(s.policy=e.policy,s.signature=e.signature),s.head?(delete s.head,new Promise(function(e,t){nt.head(o).query(s).end(function(n,i){n?t(n):e(i.headers)})})):new Promise(function(e,t){var n=s.metadata?"json":"blob";delete s.metadata,nt.get(o).query(s).responseType(n).end(function(n,i){n?t(n):e(i.body)})})}(o,e,t)},remove:function(e,t){return function(e,t){var n=e.urls.fileApiUrl;if(!t||"string"!=typeof t)throw new Error("handle is required for remove");if(!e.policy||!e.signature)throw new Error("security policy and signature are required for remove");var i=n+"/"+t;return new Promise(function(t,n){nt.delete(i).query({key:e.apikey}).query({policy:e.policy,signature:e.signature}).end(function(e,i){e?n(e):t(i)})})}(o,e)},preview:function(e,t){return _t(o,e,t)},overwrite:function(e,t){return function(e,t){var n=e.urls.fileApiUrl;if(!t||"string"!=typeof t)throw new Error("handle is required for overwrite");if(!e.policy||!e.signature)throw new Error("security policy and signature are required for overwrite");var i=n+"/"+t;return new Promise(function(n,r){nt.post(i).query({key:e.apikey}).query({policy:e.policy,signature:e.signature}).end(function(e,i){if(e)r(e);else{var o=pt({},i.body,{handle:t});n(o)}})})}(o,e)},metadata:function(e,t){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e.urls.fileApiUrl;if(!t||"string"!=typeof t)throw new Error("handle is required for metadata");var r=[{name:"size",type:Be.Boolean},{name:"mimetype",type:Be.Boolean},{name:"filename",type:Be.Boolean},{name:"width",type:Be.Boolean},{name:"height",type:Be.Boolean},{name:"uploaded",type:Be.Boolean},{name:"writeable",type:Be.Boolean},{name:"cloud",type:Be.Boolean},{name:"sourceUrl",type:Be.Boolean},{name:"md5",type:Be.Boolean},{name:"sha1",type:Be.Boolean},{name:"sha224",type:Be.Boolean},{name:"sha256",type:Be.Boolean},{name:"sha384",type:Be.Boolean},{name:"sha512",type:Be.Boolean},{name:"location",type:Be.Boolean},{name:"path",type:Be.Boolean},{name:"container",type:Be.Boolean},{name:"exif",type:Be.Boolean}];dt("retrieve",r,n);var o=ht(mt(n));e.policy&&e.signature&&(o.policy=e.policy,o.signature=e.signature);var s=i+"/"+t+"/metadata";return new Promise(function(e,t){nt.get(s).query(o).end(function(n,i){n?t(n):e(i.body)})})}(o,e,t)},transform:function(e,t){return function(e,t,n){var i=e.urls.processApiUrl,r=Object.keys(Tt),o=Object.keys(n);o.forEach(function(e){if(r.indexOf(e)<0)throw new Error("Invalid option specified: "+e+" is not a valid transform option.")});var s=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(i===o.length)return t;var r=o[i],s=n[r],a=i+1;return e((0,Tt[r])(t,s),a)};if(e.policy&&e.signature){var a="security=policy:"+e.policy+",signature:"+e.signature;return i+"/"+e.apikey+"/"+a+"/"+s().join("/")+"/"+t}var l=i+"/"+e.apikey;return s().length?l+"/"+s().join("/")+"/"+t:t}(o,e,t)},upload:function(e,t,n,i){return En(o,e,t,n,i)},prefetch:function(){return function(e){var t=e.urls.cloudApiUrl,n={apikey:e.apikey};return nt.get(t+"/prefetch").timeout(5e3).query(n).then(function(e){return e.body})}(o)},cloud:function(){return function(e){var t=e.urls.cloudApiUrl;return{list:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={apikey:e.apikey,clouds:n};return e.policy&&e.signature&&(r.policy=e.policy,r.signature=e.signature),vt("cloud.list() called:",r),new Promise(function(e,n){var o=nt.post(t+"/folder/list").send(r).withCredentials().end(function(t,i){t?n(t):(vt("cloud.list() responded:",i.body),e(i.body))});i.cancel=function(){o.abort(),n(new Error("Cancelled"))}})},store:function(n,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};vt("cloud.store() called:",n,i,r);var a=[{name:"location",type:Be.enums.of("s3 gcs rackspace azure dropbox")},{name:"region",type:Be.String},{name:"path",type:Be.String},{name:"container",type:Be.String},{name:"access",type:Be.enums.of("public private")}];dt("cloud.store",a,r),void 0===r.location&&(r.location="s3");var l={apikey:e.apikey,clouds:ct({},n,{path:i,store:pt({},ht(r))})};return"customsource"===n&&o.customSourcePath&&(l.clouds.customsource.customSourcePath=o.customSourcePath),"customsource"===n&&o.customSourceContainer&&(l.clouds.customsource.customSourceContainer=o.customSourceContainer),e.policy&&e.signature&&(l.policy=e.policy,l.signature=e.signature),new Promise(function(e,i){var r=nt.post(t+"/store/").send(l).withCredentials().end(function(t,r){t?i(t):(vt("cloud.store() responded:",r.body),r.body[n]?e(r.body[n]):e(r.body))});s.cancel=function(){r.abort(),i(new Error("Cancelled"))}})},link:function(n,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};vt("cloud.link() called:",n,i);var s={apikey:e.apikey,clouds:ct({},n,{path:i})};return"customsource"===n&&r.customSourcePath&&(s.clouds.customsource.customSourcePath=r.customSourcePath),"customsource"===n&&r.customSourceContainer&&(s.clouds.customsource.customSourceContainer=r.customSourceContainer),e.policy&&e.signature&&(s.policy=e.policy,s.signature=e.signature),new Promise(function(e,i){var r=nt.post(t+"/link/").send(s).withCredentials().end(function(t,r){t?i(t):(vt("cloud.link() responded:",r.body),r.body[n]?e(r.body[n]):e(r.body))});o.cancel=function(){r.abort(),i(new Error("Cancelled"))}})},metadata:function(n){var i={apikey:e.apikey,url:n};return e.policy&&e.signature&&(i.policy=e.policy,i.signature=e.signature),new Promise(function(e,n){nt.post(t+"/metadata").send(i).end(function(t,i){t?n(t):(vt("cloud.metadata() responded:",i.body),e(i.body))})})},logout:function(n){vt("cloud.logout() called:",n);var i={apikey:e.apikey};return n&&(i.clouds=ct({},n,{})),new Promise(function(e,n){nt.post(t+"/auth/logout/").send(i).withCredentials().end(function(t,i){t?n(t):(vt("cloud.logout() responded:",i.body),e(i.body))})})},tokInit:function(e){if("video"!==e&&"audio"!==e)throw new Error("Type must be one of video or audio.");return nt.post(t+"/recording/"+e+"/init")},tokStart:function(e,n,i){if("video"!==e&&"audio"!==e)throw new Error("Type must be one of video or audio.");var r={apikey:n,session_id:i};return nt.post(t+"/recording/"+e+"/start").send(r)},tokStop:function(e,n,i,r){if("video"!==e&&"audio"!==e)throw new Error("Type must be one of video or audio.");var o={apikey:n,session_id:i,archive_id:r};return nt.post(t+"/recording/"+e+"/stop").send(o)}}}(o)}}},An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nn=function(){var e=void 0;return"object"===("undefined"==typeof window?"undefined":An(window))&&((e=window.filestackInternals)||(e={},window.filestackInternals=e),e.loader||(e.loader={modules:{}})),e}(),Mn=Nn&&Nn.loader.modules,Rn=function(e,t){var n=Mn[e];if(n||(Mn[e]={},n=Mn[e]),n.instance)return Promise.resolve(n.instance);if(n.promise)return n.promise;var i=new Promise(function(i,r){!function o(){"complete"===document.readyState?function(){n.resolvePromise=i;var o=document.createElement("script");o.src=e,o.onerror=r,t&&(o.id=t),document.body.appendChild(o)}():setTimeout(o,50)}()});return n.promise=i,i},On={picker:"__filestack-picker-module"},Ln=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};return{version:"0.11.5",init:function(e,t,n){var i=Tn(e,t,n),r=function(e){return{picker:"https://static."+(e||"filestackapi.com")+"/picker/v3/picker-0.12.11.js"}}(n);return{getSecurity:function(){return i.getSecurity()},setSecurity:function(e){return i.setSecurity(e)},cropFiles:function(e,t){var n=Ln({},t,{cropFiles:e});return Rn(r.picker,On.picker).then(function(e){return e(i,n)})},makeDropPane:function(e,t){var n=Ln({},t,{dropPane:e});Rn(r.picker,On.picker).then(function(e){e(i,n)})},pick:function(e){return Rn(r.picker,On.picker).then(function(t){return t(i,e)})},storeURL:function(e,t){return i.storeURL(e,t)},transform:function(e,t){return i.transform(e,t)},upload:function(e,t,n,r){return i.upload(e,t,n,r)},retrieve:function(e,t){return i.retrieve(e,t)},remove:function(e){return i.remove(e)},metadata:function(e,t){return i.metadata(e,t)},preview:function(e,t){return i.preview(e,t)},logout:function(){return i.cloud().logout()}}}}},e.exports=n()}).call(this,n(12))},function(e,t){
/**
 * simplemde v1.11.2
 * Copyright Next Step Webs, Inc.
 * @link https://github.com/NextStepWebs/simplemde-markdown-editor
 * @license MIT
 */
!function(n){if("object"==typeof t&&void 0!==e)e.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).SimpleMDE=n()}}(function(){return function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return r(n||e)},c,c.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,t,n){"use strict";function i(e){return o[e>>18&63]+o[e>>12&63]+o[e>>6&63]+o[63&e]}function r(e,t,n){for(var r,o=[],s=t;n>s;s+=3)r=(e[s]<<16)+(e[s+1]<<8)+e[s+2],o.push(i(r));return o.join("")}n.toByteArray=function(e){var t,n,i,r,o,l,u=e.length;if(u%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o="="===e[u-2]?2:"="===e[u-1]?1:0,l=new a(3*u/4-o),i=o>0?u-4:u;var c=0;for(t=0,n=0;i>t;t+=4,n+=3)r=s[e.charCodeAt(t)]<<18|s[e.charCodeAt(t+1)]<<12|s[e.charCodeAt(t+2)]<<6|s[e.charCodeAt(t+3)],l[c++]=r>>16&255,l[c++]=r>>8&255,l[c++]=255&r;return 2===o?(r=s[e.charCodeAt(t)]<<2|s[e.charCodeAt(t+1)]>>4,l[c++]=255&r):1===o&&(r=s[e.charCodeAt(t)]<<10|s[e.charCodeAt(t+1)]<<4|s[e.charCodeAt(t+2)]>>2,l[c++]=r>>8&255,l[c++]=255&r),l},n.fromByteArray=function(e){for(var t,n=e.length,i=n%3,s="",a=[],l=16383,u=0,c=n-i;c>u;u+=l)a.push(r(e,u,u+l>c?c:u+l));return 1===i?(t=e[n-1],s+=o[t>>2],s+=o[t<<4&63],s+="=="):2===i&&(t=(e[n-2]<<8)+e[n-1],s+=o[t>>10],s+=o[t>>4&63],s+=o[t<<2&63],s+="="),a.push(s),a.join("")};var o=[],s=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array;!function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,n=e.length;n>t;++t)o[t]=e[t],s[e.charCodeAt(t)]=t;s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63}()},{}],2:[function(e,t,n){},{}],3:[function(e,t,n){(function(t){"use strict";function i(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function r(e,t){if(i()<t)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=o.prototype:(null===e&&(e=new o(t)),e.length=t),e}function o(e,t,n){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return s(this,e,t,n)}function s(e,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,i){if(t.byteLength,0>n||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return t=void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i),o.TYPED_ARRAY_SUPPORT?(e=t).__proto__=o.prototype:e=u(e,t),e}(e,t,n,i):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!o.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|p(t,n);return(e=r(e,i)).write(t,n),e}(e,t,n):function(e,t){if(o.isBuffer(t)){var n=0|c(t.length);return 0===(e=r(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?r(e,0):u(e,t);if("Buffer"===t.type&&j(t.data))return u(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function a(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number')}function l(e,t){if(a(t),e=r(e,0>t?0:0|c(t)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;t>n;n++)e[n]=0;return e}function u(e,t){var n=0|c(t.length);e=r(e,n);for(var i=0;n>i;i+=1)e[i]=255&t[i];return e}function c(e){if(e>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|e}function p(e,t){if(o.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":case void 0:return P(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return D(e).length;default:if(i)return P(e).length;t=(""+t).toLowerCase(),i=!0}}function f(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function d(e,t,n,i){function r(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}var o=1,s=e.length,a=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;o=2,s/=2,a/=2,n/=2}for(var l=-1,u=0;s>n+u;u++)if(r(e,n+u)===r(t,-1===l?0:u-l)){if(-1===l&&(l=u),u-l+1===a)return(n+l)*o}else-1!==l&&(u-=u-l),l=-1;return-1}function h(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=t.length;if(o%2!=0)throw new Error("Invalid hex string");i>o/2&&(i=o/2);for(var s=0;i>s;s++){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function m(e,t,n,i){return I(P(t,e.length-n),e,n,i)}function g(e,t,n,i){return I(function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}(t),e,n,i)}function b(e,t,n,i){return g(e,t,n,i)}function y(e,t,n,i){return I(D(t),e,n,i)}function v(e,t,n,i){return I(function(e,t){for(var n,i,r,o=[],s=0;s<e.length&&!((t-=2)<0);s++)n=e.charCodeAt(s),i=n>>8,r=n%256,o.push(r),o.push(i);return o}(t,e.length-n),e,n,i)}function _(e,t,n){return 0===t&&n===e.length?F.fromByteArray(e):F.fromByteArray(e.slice(t,n))}function x(e,t,n){n=Math.min(e.length,n);for(var i=[],r=t;n>r;){var o,s,a,l,u=e[r],c=null,p=u>239?4:u>223?3:u>191?2:1;if(n>=r+p)switch(p){case 1:128>u&&(c=u);break;case 2:128==(192&(o=e[r+1]))&&((l=(31&u)<<6|63&o)>127&&(c=l));break;case 3:o=e[r+1],s=e[r+2],128==(192&o)&&128==(192&s)&&((l=(15&u)<<12|(63&o)<<6|63&s)>2047&&(55296>l||l>57343)&&(c=l));break;case 4:o=e[r+1],s=e[r+2],a=e[r+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&((l=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&1114112>l&&(c=l))}null===c?(c=65533,p=1):c>65535&&(c-=65536,i.push(c>>>10&1023|55296),c=56320|1023&c),i.push(c),r+=p}return function(e){var t=e.length;if(B>=t)return String.fromCharCode.apply(String,e);for(var n="",i=0;t>i;)n+=String.fromCharCode.apply(String,e.slice(i,i+=B));return n}(i)}function w(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;n>r;r++)i+=String.fromCharCode(127&e[r]);return i}function k(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;n>r;r++)i+=String.fromCharCode(e[r]);return i}function S(e,t,n){var i=e.length;(!t||0>t)&&(t=0),(!n||0>n||n>i)&&(n=i);for(var r="",o=t;n>o;o++)r+=L(e[o]);return r}function C(e,t,n){for(var i=e.slice(t,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function E(e,t,n){if(e%1!=0||0>e)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function T(e,t,n,i,r,s){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||s>t)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function A(e,t,n,i){0>t&&(t=65535+t+1);for(var r=0,o=Math.min(e.length-n,2);o>r;r++)e[n+r]=(t&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function N(e,t,n,i){0>t&&(t=4294967295+t+1);for(var r=0,o=Math.min(e.length-n,4);o>r;r++)e[n+r]=t>>>8*(i?r:3-r)&255}function M(e,t,n,i,r,o){if(n+i>e.length)throw new RangeError("Index out of range");if(0>n)throw new RangeError("Index out of range")}function R(e,t,n,i,r){return r||M(e,0,n,4),$.write(e,t,n,i,23,4),n+4}function O(e,t,n,i,r){return r||M(e,0,n,8),$.write(e,t,n,i,52,8),n+8}function L(e){return 16>e?"0"+e.toString(16):e.toString(16)}function P(e,t){t=t||1/0;for(var n,i=e.length,r=null,o=[],s=0;i>s;s++){if((n=e.charCodeAt(s))>55295&&57344>n){if(!r){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===i){(t-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(56320>n){(t-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,128>n){if((t-=1)<0)break;o.push(n)}else if(2048>n){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(65536>n){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(1114112>n))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function D(e){return F.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(z,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function I(e,t,n,i){for(var r=0;i>r&&!(r+n>=t.length||r>=e.length);r++)t[r+n]=e[r];return r}var F=e("base64-js"),$=e("ieee754"),j=e("isarray");n.Buffer=o,n.SlowBuffer=function(e){return+e!=e&&(e=0),o.alloc(+e)},n.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.foo=function(){return 42},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),n.kMaxLength=i(),o.poolSize=8192,o._augment=function(e){return e.__proto__=o.prototype,e},o.from=function(e,t,n){return s(null,e,t,n)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(e,t,n){return function(e,t,n,i){return a(t),0>=t?r(e,t):void 0!==n?"string"==typeof i?r(e,t).fill(n,i):r(e,t).fill(n):r(e,t)}(null,e,t,n)},o.allocUnsafe=function(e){return l(null,e)},o.allocUnsafeSlow=function(e){return l(null,e)},o.isBuffer=function(e){return!(null==e||!e._isBuffer)},o.compare=function(e,t){if(!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,r=0,s=Math.min(n,i);s>r;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return i>n?-1:n>i?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!j(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;n++)t+=e[n].length;var i=o.allocUnsafe(t),r=0;for(n=0;n<e.length;n++){var s=e[n];if(!o.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,r),r+=s.length}return i},o.byteLength=p,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;e>t;t+=2)f(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;e>t;t+=4)f(this,t,t+3),f(this,t+1,t+2);return this},o.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?x(this,0,e):function(e,t,n){var i=!1;if((void 0===t||0>t)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),0>=n)return"";if((t>>>=0)>=(n>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return S(this,t,n);case"utf8":case"utf-8":return x(this,t,n);case"ascii":return w(this,t,n);case"binary":return k(this,t,n);case"base64":return _(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}.apply(this,arguments)},o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},o.prototype.compare=function(e,t,n,i,r){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),0>t||n>e.length||0>i||r>this.length)throw new RangeError("out of range index");if(i>=r&&t>=n)return 0;if(i>=r)return-1;if(t>=n)return 1;if(this===e)return 0;for(var s=(r>>>=0)-(i>>>=0),a=(n>>>=0)-(t>>>=0),l=Math.min(s,a),u=this.slice(i,r),c=e.slice(t,n),p=0;l>p;++p)if(u[p]!==c[p]){s=u[p],a=c[p];break}return a>s?-1:s>a?1:0},o.prototype.indexOf=function(e,t,n){if("string"==typeof t?(n=t,t=0):t>2147483647?t=2147483647:-2147483648>t&&(t=-2147483648),t>>=0,0===this.length)return-1;if(t>=this.length)return-1;if(0>t&&(t=Math.max(this.length+t,0)),"string"==typeof e&&(e=o.from(e,n)),o.isBuffer(e))return 0===e.length?-1:d(this,e,t,n);if("number"==typeof e)return o.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,e,t):d(this,[e],t,n);throw new TypeError("val must be string, number or Buffer")},o.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},o.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(0>n||0>t)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return h(this,e,t,n);case"utf8":case"utf-8":return m(this,e,t,n);case"ascii":return g(this,e,t,n);case"binary":return b(this,e,t,n);case"base64":return y(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var B=4096;o.prototype.slice=function(e,t){var n,i=this.length;if(0>(e=~~e)?0>(e+=i)&&(e=0):e>i&&(e=i),0>(t=void 0===t?i:~~t)?0>(t+=i)&&(t=0):t>i&&(t=i),e>t&&(t=e),o.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=o.prototype;else{var r=t-e;n=new o(r,void 0);for(var s=0;r>s;s++)n[s]=this[s+e]}return n},o.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||E(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i},o.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||E(e,t,this.length);for(var i=this[e+--t],r=1;t>0&&(r*=256);)i+=this[e+--t]*r;return i},o.prototype.readUInt8=function(e,t){return t||E(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return t||E(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return t||E(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return t||E(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return t||E(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||E(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},o.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||E(e,t,this.length);for(var i=t,r=1,o=this[e+--i];i>0&&(r*=256);)o+=this[e+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return t||E(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){t||E(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(e,t){t||E(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(e,t){return t||E(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return t||E(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return t||E(e,4,this.length),$.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return t||E(e,4,this.length),$.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return t||E(e,8,this.length),$.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return t||E(e,8,this.length),$.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||T(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[t]=255&e;++o<n&&(r*=256);)this[t+o]=e/r&255;return t+n},o.prototype.writeUIntBE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||T(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[t+r]=255&e;--r>=0&&(o*=256);)this[t+r]=e/o&255;return t+n},o.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,1,255,0),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):A(this,e,t,!0),t+2},o.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):A(this,e,t,!1),t+2},o.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):N(this,e,t,!0),t+4},o.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},o.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);T(this,e,t,n,r-1,-r)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)0>e&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},o.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);T(this,e,t,n,r-1,-r)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)0>e&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},o.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,1,127,-128),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),0>e&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):A(this,e,t,!0),t+2},o.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):A(this,e,t,!1),t+2},o.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):N(this,e,t,!0),t+4},o.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},o.prototype.writeFloatLE=function(e,t,n){return R(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){return R(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){return O(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){return O(this,e,t,!1,n)},o.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&n>i&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(0>t)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("sourceStart out of bounds");if(0>i)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var r,s=i-n;if(this===e&&t>n&&i>t)for(r=s-1;r>=0;r--)e[r+t]=this[r+n];else if(1e3>s||!o.TYPED_ARRAY_SUPPORT)for(r=0;s>r;r++)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+s),t);return s},o.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===e.length){var r=e.charCodeAt(0);256>r&&(e=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!o.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(0>t||this.length<t||this.length<n)throw new RangeError("Out of range index");if(t>=n)return this;var s;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(s=t;n>s;s++)this[s]=e;else{var a=o.isBuffer(e)?e:P(new o(e,i).toString()),l=a.length;for(s=0;n-t>s;s++)this[s+t]=a[s%l]}return this};var z=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":1,ieee754:15,isarray:16}],4:[function(e,t,n){"use strict";function i(e){return"function"!=typeof(e=e||{}).codeMirrorInstance||"function"!=typeof e.codeMirrorInstance.defineMode?void console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`"):(String.prototype.includes||(String.prototype.includes=function(){return-1!==String.prototype.indexOf.apply(this,arguments)}),void e.codeMirrorInstance.defineMode("spell-checker",function(t){if(!i.aff_loading){i.aff_loading=!0;var n=new XMLHttpRequest;n.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),n.onload=function(){4===n.readyState&&200===n.status&&(i.aff_data=n.responseText,i.num_loaded++,2==i.num_loaded&&(i.typo=new r("en_US",i.aff_data,i.dic_data,{platform:"any"})))},n.send(null)}if(!i.dic_loading){i.dic_loading=!0;var o=new XMLHttpRequest;o.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),o.onload=function(){4===o.readyState&&200===o.status&&(i.dic_data=o.responseText,i.num_loaded++,2==i.num_loaded&&(i.typo=new r("en_US",i.aff_data,i.dic_data,{platform:"any"})))},o.send(null)}var s='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',a={token:function(e){var t=e.peek(),n="";if(s.includes(t))return e.next(),null;for(;null!=(t=e.peek())&&!s.includes(t);)n+=t,e.next();return i.typo&&!i.typo.check(n)?"spell-error":null}},l=e.codeMirrorInstance.getMode(t,t.backdrop||"text/plain");return e.codeMirrorInstance.overlayMode(l,a,!0)}))}var r=e("typo-js");i.num_loaded=0,i.aff_loading=!1,i.dic_loading=!1,i.aff_data="",i.dic_data="",i.typo,t.exports=i},{"typo-js":18}],5:[function(e,t,n){(function(e){"use strict";e.defineOption("fullScreen",!1,function(t,n,i){i==e.Init&&(i=!1),!i!=!n&&(n?function(e){var t=e.getWrapperElement();e.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:t.style.width,height:t.style.height},t.style.width="",t.style.height="auto",t.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",e.refresh()}(t):function(e){var t=e.getWrapperElement();t.className=t.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var n=e.state.fullScreenRestore;t.style.width=n.width,t.style.height=n.height,window.scrollTo(n.scrollLeft,n.scrollTop),e.refresh()}(t))})})("object"==typeof n&&"object"==typeof t?e("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":10}],6:[function(e,t,n){(function(e){function t(e){e.state.placeholder&&(e.state.placeholder.parentNode.removeChild(e.state.placeholder),e.state.placeholder=null)}function n(e){t(e);var n=e.state.placeholder=document.createElement("pre");n.style.cssText="height: 0; overflow: visible",n.className="CodeMirror-placeholder";var i=e.getOption("placeholder");"string"==typeof i&&(i=document.createTextNode(i)),n.appendChild(i),e.display.lineSpace.insertBefore(n,e.display.lineSpace.firstChild)}function i(e){o(e)&&n(e)}function r(e){var i=e.getWrapperElement(),r=o(e);i.className=i.className.replace(" CodeMirror-empty","")+(r?" CodeMirror-empty":""),r?n(e):t(e)}function o(e){return 1===e.lineCount()&&""===e.getLine(0)}e.defineOption("placeholder","",function(n,o,s){var a=s&&s!=e.Init;if(o&&!a)n.on("blur",i),n.on("change",r),n.on("swapDoc",r),r(n);else if(!o&&a){n.off("blur",i),n.off("change",r),n.off("swapDoc",r),t(n);var l=n.getWrapperElement();l.className=l.className.replace(" CodeMirror-empty","")}o&&!n.hasFocus()&&i(n)})})("object"==typeof n&&"object"==typeof t?e("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":10}],7:[function(e,t,n){(function(e){"use strict";var t=/^(\s*)(>[> ]*|[*+-]\s|(\d+)([.)]))(\s*)/,n=/^(\s*)(>[> ]*|[*+-]|(\d+)[.)])(\s*)$/,i=/[*+-]\s/;e.commands.newlineAndIndentContinueMarkdownList=function(r){if(r.getOption("disableInput"))return e.Pass;for(var o=r.listSelections(),s=[],a=0;a<o.length;a++){var l=o[a].head,u=r.getStateAfter(l.line),c=!1!==u.list,p=0!==u.quote,f=r.getLine(l.line),d=t.exec(f);if(!o[a].empty()||!c&&!p||!d)return void r.execCommand("newlineAndIndent");if(n.test(f))r.replaceRange("",{line:l.line,ch:0},{line:l.line,ch:l.ch+1}),s[a]="\n";else{var h=d[1],m=d[5],g=i.test(d[2])||d[2].indexOf(">")>=0?d[2]:parseInt(d[3],10)+1+d[4];s[a]="\n"+h+g+m}}r.replaceSelections(s)}})("object"==typeof n&&"object"==typeof t?e("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":10}],8:[function(e,t,n){(function(e){"use strict";e.overlayMode=function(t,n,i){return{startState:function(){return{base:e.startState(t),overlay:e.startState(n),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(i){return{base:e.copyState(t,i.base),overlay:e.copyState(n,i.overlay),basePos:i.basePos,baseCur:null,overlayPos:i.overlayPos,overlayCur:null}},token:function(e,r){return(e!=r.streamSeen||Math.min(r.basePos,r.overlayPos)<e.start)&&(r.streamSeen=e,r.basePos=r.overlayPos=e.start),e.start==r.basePos&&(r.baseCur=t.token(e,r.base),r.basePos=e.pos),e.start==r.overlayPos&&(e.pos=e.start,r.overlayCur=n.token(e,r.overlay),r.overlayPos=e.pos),e.pos=Math.min(r.basePos,r.overlayPos),null==r.overlayCur?r.baseCur:null!=r.baseCur&&r.overlay.combineTokens||i&&null==r.overlay.combineTokens?r.baseCur+" "+r.overlayCur:r.overlayCur},indent:t.indent&&function(e,n){return t.indent(e.base,n)},electricChars:t.electricChars,innerMode:function(e){return{state:e.base,mode:t}},blankLine:function(e){t.blankLine&&t.blankLine(e.base),n.blankLine&&n.blankLine(e.overlay)}}}})("object"==typeof n&&"object"==typeof t?e("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":10}],9:[function(e,t,n){(function(e){"use strict";function t(e){e.operation(function(){!function(e){if(!e.somethingSelected())return r(e);if(e.listSelections().length>1)return o(e);var t=e.getCursor("start"),n=e.getCursor("end"),a=e.state.markedSelection;if(!a.length)return i(e,t,n);var u=a[0].find(),c=a[a.length-1].find();if(!u||!c||n.line-t.line<s||l(t,c.to)>=0||l(n,u.from)<=0)return o(e);for(;l(t,u.from)>0;)a.shift().clear(),u=a[0].find();for(l(t,u.from)<0&&(u.to.line-t.line<s?(a.shift().clear(),i(e,t,u.to,0)):i(e,t,u.from,0));l(n,c.to)<0;)a.pop().clear(),c=a[a.length-1].find();l(n,c.to)>0&&(n.line-c.from.line<s?(a.pop().clear(),i(e,c.from,n)):i(e,c.to,n))}(e)})}function n(e){e.state.markedSelection.length&&e.operation(function(){r(e)})}function i(e,t,n,i){if(0!=l(t,n))for(var r=e.state.markedSelection,o=e.state.markedSelectionStyle,u=t.line;;){var c=u==t.line?t:a(u,0),p=u+s,f=p>=n.line,d=f?n:a(p,0),h=e.markText(c,d,{className:o});if(null==i?r.push(h):r.splice(i++,0,h),f)break;u=p}}function r(e){for(var t=e.state.markedSelection,n=0;n<t.length;++n)t[n].clear();t.length=0}function o(e){r(e);for(var t=e.listSelections(),n=0;n<t.length;n++)i(e,t[n].from(),t[n].to())}e.defineOption("styleSelectedText",!1,function(i,s,a){var l=a&&a!=e.Init;s&&!l?(i.state.markedSelection=[],i.state.markedSelectionStyle="string"==typeof s?s:"CodeMirror-selectedtext",o(i),i.on("cursorActivity",t),i.on("change",n)):!s&&l&&(i.off("cursorActivity",t),i.off("change",n),r(i),i.state.markedSelection=i.state.markedSelectionStyle=null)});var s=8,a=e.Pos,l=e.cmpPos})("object"==typeof n&&"object"==typeof t?e("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":10}],10:[function(e,t,n){!function(e){"object"==typeof n&&"object"==typeof t?t.exports=e():(this||window).CodeMirror=e()}(function(){"use strict";function e(n,i){if(!(this instanceof e))return new e(n,i);this.options=i=i?Vi(i):{},Vi(io,i,!1),f(i);var r=i.value;"string"==typeof r&&(r=new Ao(r,i.mode,null,i.lineSeparator)),this.doc=r;var o=new e.inputStyles[i.inputStyle](this),a=this.display=new t(n,r,o);a.wrapper.CodeMirror=this,l(this),s(this),i.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),i.autofocus&&!Or&&a.input.focus(),g(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new ji,keySeq:null,specialChars:null};var u=this;for(var c in wr&&11>kr&&setTimeout(function(){u.display.input.reset(!0)},20),function(e){function t(){i.activeTouch&&(r=setTimeout(function(){i.activeTouch=null},1e3),(o=i.activeTouch).end=+new Date)}function n(e,t){if(null==t.left)return!0;var n=t.left-e.left,i=t.top-e.top;return n*n+i*i>400}var i=e.display;Po(i.scroller,"mousedown",gt(e,Mt)),Po(i.scroller,"dblclick",wr&&11>kr?gt(e,function(t){if(!Di(e,t)){var n=Nt(e,t);if(n&&!Ot(e,t)&&!At(e.display,t)){Ro(t);var i=e.findWordAt(n);he(e.doc,i.anchor,i.head)}}}):function(t){Di(e,t)||Ro(t)}),$r||Po(i.scroller,"contextmenu",function(t){Vt(e,t)});var r,o={end:0};Po(i.scroller,"touchstart",function(t){if(!Di(e,t)&&!function(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}(t)){clearTimeout(r);var n=+new Date;i.activeTouch={start:n,moved:!1,prev:n-o.end<=300?o:null},1==t.touches.length&&(i.activeTouch.left=t.touches[0].pageX,i.activeTouch.top=t.touches[0].pageY)}}),Po(i.scroller,"touchmove",function(){i.activeTouch&&(i.activeTouch.moved=!0)}),Po(i.scroller,"touchend",function(r){var o=i.activeTouch;if(o&&!At(i,r)&&null!=o.left&&!o.moved&&new Date-o.start<300){var s,a=e.coordsChar(i.activeTouch,"page");s=!o.prev||n(o,o.prev)?new se(a,a):!o.prev.prev||n(o,o.prev.prev)?e.findWordAt(a):new se(zr(a.line,0),ce(e.doc,zr(a.line+1,0))),e.setSelection(s.anchor,s.head),e.focus(),Ro(r)}t()}),Po(i.scroller,"touchcancel",t),Po(i.scroller,"scroll",function(){i.scroller.clientHeight&&(Dt(e,i.scroller.scrollTop),It(e,i.scroller.scrollLeft,!0),Fo(e,"scroll",e))}),Po(i.scroller,"mousewheel",function(t){Ft(e,t)}),Po(i.scroller,"DOMMouseScroll",function(t){Ft(e,t)}),Po(i.wrapper,"scroll",function(){i.wrapper.scrollTop=i.wrapper.scrollLeft=0}),i.dragFunctions={enter:function(t){Di(e,t)||Lo(t)},over:function(t){Di(e,t)||(function(e,t){var n=Nt(e,t);if(n){var i=document.createDocumentFragment();Ne(e,n,i),e.display.dragCursor||(e.display.dragCursor=Qi("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),Ji(e.display.dragCursor,i)}}(e,t),Lo(t))},start:function(t){!function(e,t){if(wr&&(!e.state.draggingText||+new Date-Xr<100))return void Lo(t);if(!Di(e,t)&&!At(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!Ar)){var n=Qi("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Tr&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),Tr&&n.parentNode.removeChild(n)}}(e,t)},drop:gt(e,Lt),leave:function(t){Di(e,t)||Pt(e)}};var s=i.input.getField();Po(s,"keyup",function(t){qt.call(e,t)}),Po(s,"keydown",gt(e,zt)),Po(s,"keypress",gt(e,Ht)),Po(s,"focus",Gi(Ut,e)),Po(s,"blur",Gi(Wt,e))}(this),function(){is||(Po(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,ir(Tt)},100))}),Po(window,"blur",function(){ir(Wt)}),is=!0);var e}(),lt(this),this.curOp.forceUpdate=!0,ui(this,r),i.autofocus&&!Or||u.hasFocus()?setTimeout(Gi(Ut,this),20):Wt(this),ro)ro.hasOwnProperty(c)&&ro[c](this,i[c],oo);x(this),i.finishInit&&i.finishInit(this);for(var p=0;p<uo.length;++p)uo[p](this);ut(this),Sr&&i.lineWrapping&&"optimizelegibility"==getComputedStyle(a.lineDiv).textRendering&&(a.lineDiv.style.textRendering="auto")}function t(e,t,n){var i=this;this.input=n,i.scrollbarFiller=Qi("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=Qi("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=Qi("div",null,"CodeMirror-code"),i.selectionDiv=Qi("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=Qi("div",null,"CodeMirror-cursors"),i.measure=Qi("div",null,"CodeMirror-measure"),i.lineMeasure=Qi("div",null,"CodeMirror-measure"),i.lineSpace=Qi("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none"),i.mover=Qi("div",[Qi("div",[i.lineSpace],"CodeMirror-lines")],null,"position: relative"),i.sizer=Qi("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=Qi("div",null,null,"position: absolute; height: "+jo+"px; width: 1px;"),i.gutters=Qi("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=Qi("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=Qi("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),wr&&8>kr&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),Sr||vr&&Or||(i.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(i.wrapper):e(i.wrapper)),i.viewFrom=i.viewTo=t.first,i.reportedViewFrom=i.reportedViewTo=t.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,n.init(i)}function n(t){t.doc.mode=e.getMode(t.options,t.doc.modeOption),i(t)}function i(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,Oe(e,100),e.state.modeGen++,e.curOp&&xt(e)}function r(e){var t=st(e.display),n=e.options.lineWrapping,i=n&&Math.max(5,e.display.scroller.clientWidth/at(e.display)-3);return function(r){if($n(e.doc,r))return 0;var o=0;if(r.widgets)for(var s=0;s<r.widgets.length;s++)r.widgets[s].height&&(o+=r.widgets[s].height);return n?o+(Math.ceil(r.text.length/i)||1)*t:o+t}}function o(e){var t=e.doc,n=r(e);t.iter(function(e){var t=n(e);t!=e.height&&di(e,t)})}function s(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Ye(e)}function a(e){l(e),xt(e),setTimeout(function(){_(e)},20)}function l(e){var t=e.display.gutters,n=e.options.gutters;Zi(t);for(var i=0;i<n.length;++i){var r=n[i],o=t.appendChild(Qi("div",null,"CodeMirror-gutter "+r));"CodeMirror-linenumbers"==r&&(e.display.lineGutter=o,o.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=i?"":"none",u(e)}function u(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function c(e){if(0==e.height)return 0;for(var t,n=e.text.length,i=e;t=On(i);){i=(r=t.find(0,!0)).from.line,n+=r.from.ch-r.to.ch}for(i=e;t=Ln(i);){var r=t.find(0,!0);n-=i.text.length-r.from.ch,n+=(i=r.to.line).text.length-r.to.ch}return n}function p(e){var t=e.display,n=e.doc;t.maxLine=ci(n,n.first),t.maxLineLength=c(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=c(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}function f(e){var t=qi(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function d(e){var t=e.display,n=t.gutters.offsetWidth,i=Math.round(e.doc.height+Ie(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:i,scrollHeight:i+$e(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}function h(e,t,n){this.cm=n;var i=this.vert=Qi("div",[Qi("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),r=this.horiz=Qi("div",[Qi("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(i),e(r),Po(i,"scroll",function(){i.clientHeight&&t(i.scrollTop,"vertical")}),Po(r,"scroll",function(){r.clientWidth&&t(r.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,wr&&8>kr&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function m(){}function g(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&ts(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new e.scrollbarModel[t.options.scrollbarStyle](function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),Po(e,"mousedown",function(){t.state.focused&&setTimeout(function(){t.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,n){"horizontal"==n?It(t,e):Dt(t,e)},t),t.display.scrollbars.addClass&&ns(t.display.wrapper,t.display.scrollbars.addClass)}function b(e,t){t||(t=d(e));var n=e.display.barWidth,i=e.display.barHeight;y(e,t);for(var r=0;4>r&&n!=e.display.barWidth||i!=e.display.barHeight;r++)n!=e.display.barWidth&&e.options.lineWrapping&&N(e),y(e,d(e)),n=e.display.barWidth,i=e.display.barHeight}function y(e,t){var n=e.display,i=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=i.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=i.bottom)+"px",n.heightForcer.style.borderBottom=i.bottom+"px solid transparent",i.right&&i.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=i.bottom+"px",n.scrollbarFiller.style.width=i.right+"px"):n.scrollbarFiller.style.display="",i.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=i.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}function v(e,t,n){var i=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;i=Math.floor(i-De(e));var r=n&&null!=n.bottom?n.bottom:i+e.wrapper.clientHeight,o=mi(t,i),s=mi(t,r);if(n&&n.ensure){var a=n.ensure.from.line,l=n.ensure.to.line;o>a?(o=a,s=mi(t,gi(ci(t,a))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=s&&(o=mi(t,gi(ci(t,l))-e.wrapper.clientHeight),s=l)}return{from:o,to:Math.max(s,o+1)}}function _(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var i=k(t)-t.scroller.scrollLeft+e.doc.scrollLeft,r=t.gutters.offsetWidth,o=i+"px",s=0;s<n.length;s++)if(!n[s].hidden){e.options.fixedGutter&&n[s].gutter&&(n[s].gutter.style.left=o);var a=n[s].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=i+r+"px")}}function x(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=w(e.options,t.first+t.size-1),i=e.display;if(n.length!=i.lineNumChars){var r=i.measure.appendChild(Qi("div",[Qi("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=r.firstChild.offsetWidth,s=r.offsetWidth-o;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(o,i.lineGutter.offsetWidth-s)+1,i.lineNumWidth=i.lineNumInnerWidth+s,i.lineNumChars=i.lineNumInnerWidth?n.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",u(e),!0}return!1}function w(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function k(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function S(e,t,n){var i=e.display;this.viewport=t,this.visible=v(i,e.doc,t),this.editorIsHidden=!i.wrapper.offsetWidth,this.wrapperHeight=i.wrapper.clientHeight,this.wrapperWidth=i.wrapper.clientWidth,this.oldDisplayWidth=je(e),this.force=n,this.dims=R(e),this.events=[]}function C(e,t){var n=e.display,i=e.doc;if(t.editorIsHidden)return kt(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==Et(e))return!1;x(e)&&(kt(e),t.dims=R(e));var r=i.first+i.size,o=Math.max(t.visible.from-e.options.viewportMargin,i.first),s=Math.min(r,t.visible.to+e.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(i.first,n.viewFrom)),n.viewTo>s&&n.viewTo-s<20&&(s=Math.min(r,n.viewTo)),Br&&(o=In(e.doc,o),s=Fn(e.doc,s));var a=o!=n.viewFrom||s!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;(function(e,t,n){var i=e.display;0==i.view.length||t>=i.viewTo||n<=i.viewFrom?(i.view=_t(e,t,n),i.viewFrom=t):(i.viewFrom>t?i.view=_t(e,t,i.viewFrom).concat(i.view):i.viewFrom<t&&(i.view=i.view.slice(St(e,t))),i.viewFrom=t,i.viewTo<n?i.view=i.view.concat(_t(e,i.viewTo,n)):i.viewTo>n&&(i.view=i.view.slice(0,St(e,n)))),i.viewTo=n})(e,o,s),n.viewOffset=gi(ci(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var l=Et(e);if(!a&&0==l&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var u=er();return l>4&&(n.lineDiv.style.display="none"),function(e,t,n){function i(t){var n=t.nextSibling;return Sr&&Lr&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var r=e.display,o=e.options.lineNumbers,s=r.lineDiv,a=s.firstChild,l=r.view,u=r.viewFrom,c=0;c<l.length;c++){var p=l[c];if(p.hidden);else if(p.node&&p.node.parentNode==s){for(;a!=p.node;)a=i(a);var f=o&&null!=t&&u>=t&&p.lineNumber;p.changes&&(qi(p.changes,"gutter")>-1&&(f=!1),O(e,p,u,n)),f&&(Zi(p.lineNumber),p.lineNumber.appendChild(document.createTextNode(w(e.options,u)))),a=p.node.nextSibling}else{var d=j(e,p,u,n);s.insertBefore(d,a)}u+=p.size}for(;a;)a=i(a)}(e,n.updateLineNumbers,t.dims),l>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,u&&er()!=u&&u.offsetHeight&&u.focus(),Zi(n.cursorDiv),Zi(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,a&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,Oe(e,400)),n.updateLineNumbers=null,!0}function E(e,t){for(var n=t.viewport,i=!0;(i&&e.options.lineWrapping&&t.oldDisplayWidth!=je(e)||(n&&null!=n.top&&(n={top:Math.min(e.doc.height+Ie(e.display)-Be(e),n.top)}),t.visible=v(e.display,e.doc,n),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&C(e,t);i=!1){N(e);var r=d(e);Te(e),b(e,r),A(e,r)}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function T(e,t){var n=new S(e,t);if(C(e,n)){N(e),E(e,n);var i=d(e);Te(e),b(e,i),A(e,i),n.finish()}}function A(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+$e(e)+"px"}function N(e){for(var t=e.display,n=t.lineDiv.offsetTop,i=0;i<t.view.length;i++){var r,o=t.view[i];if(!o.hidden){if(wr&&8>kr){var s=o.node.offsetTop+o.node.offsetHeight;r=s-n,n=s}else{var a=o.node.getBoundingClientRect();r=a.bottom-a.top}var l=o.line.height-r;if(2>r&&(r=st(t)),(l>.001||-.001>l)&&(di(o.line,r),M(o.line),o.rest))for(var u=0;u<o.rest.length;u++)M(o.rest[u])}}}function M(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.parentNode.offsetHeight}function R(e){for(var t=e.display,n={},i={},r=t.gutters.clientLeft,o=t.gutters.firstChild,s=0;o;o=o.nextSibling,++s)n[e.options.gutters[s]]=o.offsetLeft+o.clientLeft+r,i[e.options.gutters[s]]=o.clientWidth;return{fixedPos:k(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:i,wrapperWidth:t.wrapper.clientWidth}}function O(e,t,n,i){for(var r=0;r<t.changes.length;r++){var o=t.changes[r];"text"==o?D(e,t):"gutter"==o?F(e,t,n,i):"class"==o?I(t):"widget"==o&&$(e,t,i)}t.changes=null}function L(e){return e.node==e.text&&(e.node=Qi("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),wr&&8>kr&&(e.node.style.zIndex=2)),e.node}function P(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):Zn(e,t)}function D(e,t){var n=t.text.className,i=P(e,t);t.text==t.node&&(t.node=i.pre),t.text.parentNode.replaceChild(i.pre,t.text),t.text=i.pre,i.bgClass!=t.bgClass||i.textClass!=t.textClass?(t.bgClass=i.bgClass,t.textClass=i.textClass,I(t)):n&&(t.text.className=n)}function I(e){(function(e){var t=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(t&&(t+=" CodeMirror-linebackground"),e.background)t?e.background.className=t:(e.background.parentNode.removeChild(e.background),e.background=null);else if(t){var n=L(e);e.background=n.insertBefore(Qi("div",null,t),n.firstChild)}})(e),e.line.wrapClass?L(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var t=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=t||""}function F(e,t,n,i){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var r=L(t);t.gutterBackground=Qi("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px"),r.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){r=L(t);var s=t.gutter=Qi("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px");if(e.display.input.setUneditable(s),r.insertBefore(s,t.text),t.line.gutterClass&&(s.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(Qi("div",w(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var a=0;a<e.options.gutters.length;++a){var l=e.options.gutters[a],u=o.hasOwnProperty(l)&&o[l];u&&s.appendChild(Qi("div",[u],"CodeMirror-gutter-elt","left: "+i.gutterLeft[l]+"px; width: "+i.gutterWidth[l]+"px"))}}}function $(e,t,n){t.alignable&&(t.alignable=null);for(var i=t.node.firstChild;i;i=r){var r=i.nextSibling;"CodeMirror-linewidget"==i.className&&t.node.removeChild(i)}B(e,t,n)}function j(e,t,n,i){var r=P(e,t);return t.text=t.node=r.pre,r.bgClass&&(t.bgClass=r.bgClass),r.textClass&&(t.textClass=r.textClass),I(t),F(e,t,n,i),B(e,t,i),t.node}function B(e,t,n){if(z(e,t.line,t,n,!0),t.rest)for(var i=0;i<t.rest.length;i++)z(e,t.rest[i],t,n,!1)}function z(e,t,n,i,r){if(t.widgets)for(var o=L(n),s=0,a=t.widgets;s<a.length;++s){var l=a[s],u=Qi("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),q(l,u,n,i),e.display.input.setUneditable(u),r&&l.above?o.insertBefore(u,n.gutter||n.text):o.appendChild(u),Li(l,"redraw")}}function q(e,t,n,i){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var r=i.wrapperWidth;t.style.left=i.fixedPos+"px",e.coverGutter||(r-=i.gutterTotalWidth,t.style.paddingLeft=i.gutterTotalWidth+"px"),t.style.width=r+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-i.gutterTotalWidth+"px"))}function H(e){return zr(e.line,e.ch)}function U(e,t){return qr(e,t)<0?t:e}function W(e,t){return qr(e,t)<0?e:t}function V(e){e.state.focused||(e.display.input.focus(),Ut(e))}function G(e,t,n,i,r){var o=e.doc;e.display.shift=!1,i||(i=o.sel);var s=e.state.pasteIncoming||"paste"==r,a=o.splitLines(t),l=null;if(s&&i.ranges.length>1)if(Hr&&Hr.text.join("\n")==t){if(i.ranges.length%Hr.text.length==0){l=[];for(var u=0;u<Hr.text.length;u++)l.push(o.splitLines(Hr.text[u]))}}else a.length==i.ranges.length&&(l=Hi(a,function(e){return[e]}));for(u=i.ranges.length-1;u>=0;u--){var c=i.ranges[u],p=c.from(),f=c.to();c.empty()&&(n&&n>0?p=zr(p.line,p.ch-n):e.state.overwrite&&!s?f=zr(f.line,Math.min(ci(o,f.line).text.length,f.ch+zi(a).length)):Hr&&Hr.lineWise&&Hr.text.join("\n")==t&&(p=f=zr(p.line,0)));var d=e.curOp.updateInput,h={from:p,to:f,text:l?l[u%l.length]:a,origin:r||(s?"paste":e.state.cutIncoming?"cut":"+input")};Qt(e.doc,h),Li(e,"inputRead",e,h)}t&&!s&&Y(e,t),an(e),e.curOp.updateInput=d,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function K(e,t){var n=e.clipboardData&&e.clipboardData.getData("text/plain");return n?(e.preventDefault(),t.isReadOnly()||t.options.disableInput||mt(t,function(){G(t,n,0,null,"paste")}),!0):void 0}function Y(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,i=n.ranges.length-1;i>=0;i--){var r=n.ranges[i];if(!(r.head.ch>100||i&&n.ranges[i-1].head.line==r.head.line)){var o=e.getModeAt(r.head),s=!1;if(o.electricChars){for(var a=0;a<o.electricChars.length;a++)if(t.indexOf(o.electricChars.charAt(a))>-1){s=un(e,r.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(ci(e.doc,r.head.line).text.slice(0,r.head.ch))&&(s=un(e,r.head.line,"smart"));s&&Li(e,"electricInput",e,r.head.line)}}}function X(e){for(var t=[],n=[],i=0;i<e.doc.sel.ranges.length;i++){var r=e.doc.sel.ranges[i].head.line,o={anchor:zr(r,0),head:zr(r+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function Q(e){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck","false")}function Z(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new ji,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function J(){var e=Qi("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),t=Qi("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return Sr?e.style.width="1000px":e.setAttribute("wrap","off"),Rr&&(e.style.border="1px solid black"),Q(e),t}function ee(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new ji,this.gracePeriod=!1}function te(e,t){var n=He(e,t.line);if(!n||n.hidden)return null;var i=ci(e.doc,t.line),r=ze(n,i,t.line),o=bi(i),s="left";o&&(s=dr(o,t.ch)%2?"right":"left");var a=Ve(r.map,t.ch,s);return a.offset="right"==a.collapse?a.end:a.start,a}function ne(e,t){return t&&(e.bad=!0),e}function ie(e,t,n){var i;if(t==e.display.lineDiv){if(!(i=e.display.lineDiv.childNodes[n]))return ne(e.clipPos(zr(e.display.viewTo-1)),!0);t=null,n=0}else for(i=t;;i=i.parentNode){if(!i||i==e.display.lineDiv)return null;if(i.parentNode&&i.parentNode==e.display.lineDiv)break}for(var r=0;r<e.display.view.length;r++){var o=e.display.view[r];if(o.node==i)return re(o,t,n)}}function re(e,t,n){function i(t,n,i){for(var r=-1;r<(c?c.length:0);r++)for(var o=0>r?u.map:c[r],s=0;s<o.length;s+=3){var a=o[s+2];if(a==t||a==n){var l=hi(0>r?e.line:e.rest[r]),p=o[s]+i;return(0>i||a!=t)&&(p=o[s+(i?1:0)]),zr(l,p)}}}var r=e.text.firstChild,o=!1;if(!t||!Zo(r,t))return ne(zr(hi(e.line),0),!0);if(t==r&&(o=!0,t=r.childNodes[n],n=0,!t)){var s=e.rest?zi(e.rest):e.line;return ne(zr(hi(s),s.text.length),o)}var a=3==t.nodeType?t:null,l=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,n&&(n=a.nodeValue.length));l.parentNode!=r;)l=l.parentNode;var u=e.measure,c=u.maps,p=i(a,l,n);if(p)return ne(p,o);for(var f=l.nextSibling,d=a?a.nodeValue.length-n:0;f;f=f.nextSibling){if(p=i(f,f.firstChild,0))return ne(zr(p.line,p.ch-d),o);d+=f.textContent.length}var h=l.previousSibling;for(d=n;h;h=h.previousSibling){if(p=i(h,h.firstChild,-1))return ne(zr(p.line,p.ch+d),o);d+=f.textContent.length}}function oe(e,t){this.ranges=e,this.primIndex=t}function se(e,t){this.anchor=e,this.head=t}function ae(e,t){var n=e[t];e.sort(function(e,t){return qr(e.from(),t.from())}),t=qi(e,n);for(var i=1;i<e.length;i++){var r=e[i],o=e[i-1];if(qr(o.to(),r.from())>=0){var s=W(o.from(),r.from()),a=U(o.to(),r.to()),l=o.empty()?r.from()==r.head:o.from()==o.head;t>=i&&--t,e.splice(--i,2,new se(l?a:s,l?s:a))}}return new oe(e,t)}function le(e,t){return new oe([new se(e,t||e)],0)}function ue(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function ce(e,t){if(t.line<e.first)return zr(e.first,0);var n=e.first+e.size-1;return t.line>n?zr(n,ci(e,n).text.length):function(e,t){var n=e.ch;return null==n||n>t?zr(e.line,t):0>n?zr(e.line,0):e}(t,ci(e,t.line).text.length)}function pe(e,t){return t>=e.first&&t<e.first+e.size}function fe(e,t){for(var n=[],i=0;i<t.length;i++)n[i]=ce(e,t[i]);return n}function de(e,t,n,i){if(e.cm&&e.cm.display.shift||e.extend){var r=t.anchor;if(i){var o=qr(n,r)<0;o!=qr(i,r)<0?(r=n,n=i):o!=qr(n,i)<0&&(n=i)}return new se(r,n)}return new se(i||n,n)}function he(e,t,n,i){ve(e,new oe([de(e,e.sel.primary(),t,n)],0),i)}function me(e,t,n){for(var i=[],r=0;r<e.sel.ranges.length;r++)i[r]=de(e,e.sel.ranges[r],t[r],null);ve(e,ae(i,e.sel.primIndex),n)}function ge(e,t,n,i){var r=e.sel.ranges.slice(0);r[t]=n,ve(e,ae(r,e.sel.primIndex),i)}function be(e,t,n,i){ve(e,le(t,n),i)}function ye(e,t,n){var i=e.history.done,r=zi(i);r&&r.ranges?(i[i.length-1]=t,_e(e,t,n)):ve(e,t,n)}function ve(e,t,n){_e(e,t,n),function(e,t,n,i){var r=e.history,o=i&&i.origin;n==r.lastSelOp||o&&r.lastSelOrigin==o&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==o||function(e,t,n,i){var r=t.charAt(0);return"*"==r||"+"==r&&n.ranges.length==i.ranges.length&&n.somethingSelected()==i.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}(e,o,zi(r.done),t))?r.done[r.done.length-1]=t:wi(t,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=o,r.lastSelOp=n,i&&!1!==i.clearRedo&&_i(r.undone)}(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function _e(e,t,n){(Fi(e,"beforeSelectionChange")||e.cm&&Fi(e.cm,"beforeSelectionChange"))&&(t=function(e,t,n){var i={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new se(ce(e,t[n].anchor),ce(e,t[n].head))},origin:n&&n.origin};return Fo(e,"beforeSelectionChange",e,i),e.cm&&Fo(e.cm,"beforeSelectionChange",e.cm,i),i.ranges!=t.ranges?ae(i.ranges,i.ranges.length-1):t}(e,t,n));var i=n&&n.bias||(qr(t.primary().head,e.sel.primary().head)<0?-1:1);xe(e,ke(e,t,i,!0)),n&&!1===n.scroll||!e.cm||an(e.cm)}function xe(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,Ii(e.cm)),Li(e,"cursorActivity",e))}function we(e){xe(e,ke(e,e.sel,null,!1))}function ke(e,t,n,i){for(var r,o=0;o<t.ranges.length;o++){var s=t.ranges[o],a=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],l=Ce(e,s.anchor,a&&a.anchor,n,i),u=Ce(e,s.head,a&&a.head,n,i);(r||l!=s.anchor||u!=s.head)&&(r||(r=t.ranges.slice(0,o)),r[o]=new se(l,u))}return r?ae(r,t.primIndex):t}function Se(e,t,n,i,r){var o=ci(e,t.line);if(o.markedSpans)for(var s=0;s<o.markedSpans.length;++s){var a=o.markedSpans[s],l=a.marker;if((null==a.from||(l.inclusiveLeft?a.from<=t.ch:a.from<t.ch))&&(null==a.to||(l.inclusiveRight?a.to>=t.ch:a.to>t.ch))){if(r&&(Fo(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--s;continue}break}if(!l.atomic)continue;if(n){var u,c=l.find(0>i?1:-1);if((0>i?l.inclusiveRight:l.inclusiveLeft)&&(c=Ee(e,c,-i,c&&c.line==t.line?o:null)),c&&c.line==t.line&&(u=qr(c,n))&&(0>i?0>u:u>0))return Se(e,c,t,i,r)}var p=l.find(0>i?-1:1);return(0>i?l.inclusiveLeft:l.inclusiveRight)&&(p=Ee(e,p,i,p.line==t.line?o:null)),p?Se(e,p,t,i,r):null}}return t}function Ce(e,t,n,i,r){var o=i||1,s=Se(e,t,n,o,r)||!r&&Se(e,t,n,o,!0)||Se(e,t,n,-o,r)||!r&&Se(e,t,n,-o,!0);return s||(e.cantEdit=!0,zr(e.first,0))}function Ee(e,t,n,i){return 0>n&&0==t.ch?t.line>e.first?ce(e,zr(t.line-1)):null:n>0&&t.ch==(i||ci(e,t.line)).text.length?t.line<e.first+e.size-1?zr(t.line+1,0):null:new zr(t.line,t.ch+n)}function Te(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Ae(e,t){for(var n=e.doc,i={},r=i.cursors=document.createDocumentFragment(),o=i.selection=document.createDocumentFragment(),s=0;s<n.sel.ranges.length;s++)if(!1!==t||s!=n.sel.primIndex){var a=n.sel.ranges[s];if(!(a.from().line>=e.display.viewTo||a.to().line<e.display.viewFrom)){var l=a.empty();(l||e.options.showCursorWhenSelecting)&&Ne(e,a.head,r),l||Me(e,a,o)}}return i}function Ne(e,t,n){var i=tt(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),r=n.appendChild(Qi("div"," ","CodeMirror-cursor"));if(r.style.left=i.left+"px",r.style.top=i.top+"px",r.style.height=Math.max(0,i.bottom-i.top)*e.options.cursorHeight+"px",i.other){var o=n.appendChild(Qi("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=i.other.left+"px",o.style.top=i.other.top+"px",o.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function Me(e,t,n){function i(e,t,n,i){0>t&&(t=0),t=Math.round(t),i=Math.round(i),a.appendChild(Qi("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==n?c-e:n)+"px; height: "+(i-t)+"px"))}function r(t,n,r){function o(n,i){return et(e,zr(t,n),"div",p,i)}var a,l,p=ci(s,t),f=p.text.length;return function(e,t,n,i){if(!e)return i(t,n,"ltr");for(var r=!1,o=0;o<e.length;++o){var s=e[o];(s.from<n&&s.to>t||t==n&&s.to==t)&&(i(Math.max(s.from,t),Math.min(s.to,n),1==s.level?"rtl":"ltr"),r=!0)}r||i(t,n,"ltr")}(bi(p),n||0,null==r?f:r,function(e,t,s){var p,d,h,m=o(e,"left");if(e==t)p=m,d=h=m.left;else{if(p=o(t-1,"right"),"rtl"==s){var g=m;m=p,p=g}d=m.left,h=p.right}null==n&&0==e&&(d=u),p.top-m.top>3&&(i(d,m.top,null,m.bottom),d=u,m.bottom<p.top&&i(d,m.bottom,null,p.top)),null==r&&t==f&&(h=c),(!a||m.top<a.top||m.top==a.top&&m.left<a.left)&&(a=m),(!l||p.bottom>l.bottom||p.bottom==l.bottom&&p.right>l.right)&&(l=p),u+1>d&&(d=u),i(d,p.top,h-d,p.bottom)}),{start:a,end:l}}var o=e.display,s=e.doc,a=document.createDocumentFragment(),l=Fe(e.display),u=l.left,c=Math.max(o.sizerWidth,je(e)-o.sizer.offsetLeft)-l.right,p=t.from(),f=t.to();if(p.line==f.line)r(p.line,p.ch,f.ch);else{var d=ci(s,p.line),h=ci(s,f.line),m=Dn(d)==Dn(h),g=r(p.line,p.ch,m?d.text.length+1:null).end,b=r(f.line,m?0:null,f.ch).start;m&&(g.top<b.top-2?(i(g.right,g.top,null,g.bottom),i(u,b.top,b.left,b.bottom)):i(g.right,g.top,b.left-g.right,g.bottom)),g.bottom<b.top&&i(u,g.bottom,null,b.top)}n.appendChild(a)}function Re(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Oe(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,Gi(Le,e))}function Le(e){var t=e.doc;if(t.frontier<t.first&&(t.frontier=t.first),!(t.frontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,i=po(t.mode,Pe(e,t.frontier)),r=[];t.iter(t.frontier,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(t.frontier>=e.display.viewFrom){var s=o.styles,a=o.text.length>e.options.maxHighlightLength,l=Kn(e,o,a?po(t.mode,i):i,!0);o.styles=l.styles;var u=o.styleClasses,c=l.classes;c?o.styleClasses=c:u&&(o.styleClasses=null);for(var p=!s||s.length!=o.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),f=0;!p&&f<s.length;++f)p=s[f]!=o.styles[f];p&&r.push(t.frontier),o.stateAfter=a?i:po(t.mode,i)}else o.text.length<=e.options.maxHighlightLength&&Xn(e,o.text,i),o.stateAfter=t.frontier%5==0?po(t.mode,i):null;return++t.frontier,+new Date>n?(Oe(e,e.options.workDelay),!0):void 0}),r.length&&mt(e,function(){for(var t=0;t<r.length;t++)wt(e,r[t],"text")})}}function Pe(e,t,n){var i=e.doc,r=e.display;if(!i.mode.startState)return!0;var o=function(e,t,n){for(var i,r,o=e.doc,s=n?-1:t-(e.doc.mode.innerMode?1e3:100),a=t;a>s;--a){if(a<=o.first)return o.first;var l=ci(o,a-1);if(l.stateAfter&&(!n||a<=o.frontier))return a;var u=Uo(l.text,null,e.options.tabSize);(null==r||i>u)&&(r=a-1,i=u)}return r}(e,t,n),s=o>i.first&&ci(i,o-1).stateAfter;return s=s?po(i.mode,s):fo(i.mode),i.iter(o,t,function(n){Xn(e,n.text,s);var a=o==t-1||o%5==0||o>=r.viewFrom&&o<r.viewTo;n.stateAfter=a?po(i.mode,s):null,++o}),n&&(i.frontier=o),s}function De(e){return e.lineSpace.offsetTop}function Ie(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Fe(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=Ji(e.measure,Qi("pre","x")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,i={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(i.left)||isNaN(i.right)||(e.cachedPaddingH=i),i}function $e(e){return jo-e.display.nativeBarWidth}function je(e){return e.display.scroller.clientWidth-$e(e)-e.display.barWidth}function Be(e){return e.display.scroller.clientHeight-$e(e)-e.display.barHeight}function ze(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var i=0;i<e.rest.length;i++)if(e.rest[i]==t)return{map:e.measure.maps[i],cache:e.measure.caches[i]};for(i=0;i<e.rest.length;i++)if(hi(e.rest[i])>n)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function qe(e,t,n,i){return We(e,Ue(e,t),n,i)}function He(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[St(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function Ue(e,t){var n=hi(t),i=He(e,n);i&&!i.text?i=null:i&&i.changes&&(O(e,i,n,R(e)),e.curOp.forceUpdate=!0),i||(i=function(e,t){var n=hi(t=Dn(t)),i=e.display.externalMeasured=new vt(e.doc,t,n);i.lineN=n;var r=i.built=Zn(e,i);return i.text=r.pre,Ji(e.display.lineMeasure,r.pre),i}(e,t));var r=ze(i,t,n);return{line:t,view:i,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function We(e,t,n,i,r){t.before&&(n=-1);var o,s=n+(i||"");return t.cache.hasOwnProperty(s)?o=t.cache[s]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(function(e,t,n){var i=e.options.lineWrapping,r=i&&je(e);if(!t.measure.heights||i&&t.measure.width!=r){var o=t.measure.heights=[];if(i){t.measure.width=r;for(var s=t.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var l=s[a],u=s[a+1];Math.abs(l.bottom-u.bottom)>2&&o.push((l.bottom+u.top)/2-n.top)}}o.push(n.bottom-n.top)}}(e,t.view,t.rect),t.hasHeights=!0),(o=function(e,t,n,i){var r,o=Ve(t.map,n,i),s=o.node,a=o.start,l=o.end,u=o.collapse;if(3==s.nodeType){for(var c=0;4>c;c++){for(;a&&Xi(t.line.text.charAt(o.coverStart+a));)--a;for(;o.coverStart+l<o.coverEnd&&Xi(t.line.text.charAt(o.coverStart+l));)++l;if(wr&&9>kr&&0==a&&l==o.coverEnd-o.coverStart)r=s.parentNode.getBoundingClientRect();else if(wr&&e.options.lineWrapping){var p=Ko(s,a,l).getClientRects();r=p.length?p["right"==i?p.length-1:0]:Gr}else r=Ko(s,a,l).getBoundingClientRect()||Gr;if(r.left||r.right||0==a)break;l=a,a-=1,u="right"}wr&&11>kr&&(r=function(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(e){if(null!=ls)return ls;var t=Ji(e,Qi("span","x")),n=t.getBoundingClientRect(),i=Ko(t,0,1).getBoundingClientRect();return ls=Math.abs(n.left-i.left)>1}(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,i=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*i,bottom:t.bottom*i}}(e.display.measure,r))}else{a>0&&(u=i="right"),r=e.options.lineWrapping&&(p=s.getClientRects()).length>1?p["right"==i?p.length-1:0]:s.getBoundingClientRect()}if(wr&&9>kr&&!a&&(!r||!r.left&&!r.right)){var f=s.parentNode.getClientRects()[0];r=f?{left:f.left,right:f.left+at(e.display),top:f.top,bottom:f.bottom}:Gr}for(var d=r.top-t.rect.top,h=r.bottom-t.rect.top,m=(d+h)/2,g=t.view.measure.heights,c=0;c<g.length-1&&!(m<g[c]);c++);var b=c?g[c-1]:0,y=g[c],v={left:("right"==u?r.right:r.left)-t.rect.left,right:("left"==u?r.left:r.right)-t.rect.left,top:b,bottom:y};return r.left||r.right||(v.bogus=!0),e.options.singleCursorHeightPerLine||(v.rtop=d,v.rbottom=h),v}(e,t,n,i)).bogus||(t.cache[s]=o)),{left:o.left,right:o.right,top:r?o.rtop:o.top,bottom:r?o.rbottom:o.bottom}}function Ve(e,t,n){for(var i,r,o,s,a=0;a<e.length;a+=3){var l=e[a],u=e[a+1];if(l>t?(r=0,o=1,s="left"):u>t?o=(r=t-l)+1:(a==e.length-3||t==u&&e[a+3]>t)&&(r=(o=u-l)-1,t>=u&&(s="right")),null!=r){if(i=e[a+2],l==u&&n==(i.insertLeft?"left":"right")&&(s=n),"left"==n&&0==r)for(;a&&e[a-2]==e[a-3]&&e[a-1].insertLeft;)i=e[2+(a-=3)],s="left";if("right"==n&&r==u-l)for(;a<e.length-3&&e[a+3]==e[a+4]&&!e[a+5].insertLeft;)i=e[(a+=3)+2],s="right";break}}return{node:i,start:r,end:o,collapse:s,coverStart:l,coverEnd:u}}function Ge(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function Ke(e){e.display.externalMeasure=null,Zi(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)Ge(e.display.view[t])}function Ye(e){Ke(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Xe(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Qe(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function Ze(e,t,n,i){if(t.widgets)for(var r=0;r<t.widgets.length;++r)if(t.widgets[r].above){var o=zn(t.widgets[r]);n.top+=o,n.bottom+=o}if("line"==i)return n;i||(i="local");var s=gi(t);if("local"==i?s+=De(e.display):s-=e.display.viewOffset,"page"==i||"window"==i){var a=e.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==i?0:Qe());var l=a.left+("window"==i?0:Xe());n.left+=l,n.right+=l}return n.top+=s,n.bottom+=s,n}function Je(e,t,n){if("div"==n)return t;var i=t.left,r=t.top;if("page"==n)i-=Xe(),r-=Qe();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();i+=o.left,r+=o.top}var s=e.display.lineSpace.getBoundingClientRect();return{left:i-s.left,top:r-s.top}}function et(e,t,n,i,r){return i||(i=ci(e.doc,t.line)),Ze(e,i,qe(e,i,t.ch,r),n)}function tt(e,t,n,i,r,o){function s(t,s){var a=We(e,r,t,s?"right":"left",o);return s?a.left=a.right:a.right=a.left,Ze(e,i,a,n)}function a(e,t){var n=l[t],i=n.level%2;return e==sr(n)&&t&&n.level<l[t-1].level?(e=ar(n=l[--t])-(n.level%2?0:1),i=!0):e==ar(n)&&t<l.length-1&&n.level<l[t+1].level&&(e=sr(n=l[++t])-n.level%2,i=!1),i&&e==n.to&&e>n.from?s(e-1):s(e,i)}i=i||ci(e.doc,t.line),r||(r=Ue(e,i));var l=bi(i),u=t.ch;if(!l)return s(u);var c=a(u,dr(l,u));return null!=cs&&(c.other=a(u,cs)),c}function nt(e,t){var n=0;t=ce(e.doc,t);e.options.lineWrapping||(n=at(e.display)*t.ch);var i=ci(e.doc,t.line),r=gi(i)+De(e.display);return{left:n,right:n,top:r,bottom:r+i.height}}function it(e,t,n,i){var r=zr(e,t);return r.xRel=i,n&&(r.outside=!0),r}function rt(e,t,n){var i=e.doc;if(0>(n+=e.display.viewOffset))return it(i.first,0,!0,-1);var r=mi(i,n),o=i.first+i.size-1;if(r>o)return it(i.first+i.size-1,ci(i,o).text.length,!0,1);0>t&&(t=0);for(var s=ci(i,r);;){var a=ot(e,s,r,t,n),l=Ln(s),u=l&&l.find(0,!0);if(!l||!(a.ch>u.from.ch||a.ch==u.from.ch&&a.xRel>0))return a;r=hi(s=u.to.line)}}function ot(e,t,n,i,r){function o(i){var r=tt(e,zr(n,i),"line",t,u);return a=!0,s>r.bottom?r.left-l:s<r.top?r.left+l:(a=!1,r.left)}var s=r-gi(t),a=!1,l=2*e.display.wrapper.clientWidth,u=Ue(e,t),c=bi(t),p=t.text.length,f=lr(t),d=ur(t),h=o(f),m=a,g=o(d),b=a;if(i>g)return it(n,d,b,1);for(;;){if(c?d==f||d==mr(t,f,1):1>=d-f){for(var y=h>i||g-i>=i-h?f:d,v=i-(y==f?h:g);Xi(t.text.charAt(y));)++y;return it(n,y,y==f?m:b,-1>v?-1:v>1?1:0)}var _=Math.ceil(p/2),x=f+_;if(c){x=f;for(var w=0;_>w;++w)x=mr(t,x,1)}var k=o(x);k>i?(d=x,g=k,(b=a)&&(g+=1e3),p=_):(f=x,h=k,m=a,p-=_)}}function st(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Ur){Ur=Qi("pre");for(var t=0;49>t;++t)Ur.appendChild(document.createTextNode("x")),Ur.appendChild(Qi("br"));Ur.appendChild(document.createTextNode("x"))}Ji(e.measure,Ur);var n=Ur.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),Zi(e.measure),n||1}function at(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=Qi("span","xxxxxxxxxx"),n=Qi("pre",[t]);Ji(e.measure,n);var i=t.getBoundingClientRect(),r=(i.right-i.left)/10;return r>2&&(e.cachedCharWidth=r),r||10}function lt(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Yr},Kr?Kr.ops.push(e.curOp):e.curOp.ownsGroup=Kr={ops:[e.curOp],delayedCallbacks:[]}}function ut(e){var t=e.curOp.ownsGroup;if(t)try{!function(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var i=0;i<e.ops.length;i++){var r=e.ops[i];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(n<t.length)}(t)}finally{Kr=null;for(var n=0;n<t.ops.length;n++)t.ops[n].cm.curOp=null;!function(e){for(var t=e.ops,n=0;n<t.length;n++)ct(t[n]);for(var n=0;n<t.length;n++)pt(t[n]);for(var n=0;n<t.length;n++)ft(t[n]);for(var n=0;n<t.length;n++)dt(t[n]);for(var n=0;n<t.length;n++)ht(t[n])}(t)}}function ct(e){var t=e.cm,n=t.display;(function(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=$e(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=$e(e)+"px",t.scrollbarsClipped=!0)})(t),e.updateMaxLine&&p(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new S(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function pt(e){e.updatedDisplay=e.mustUpdate&&C(e.cm,e.update)}function ft(e){var t=e.cm,n=t.display;e.updatedDisplay&&N(t),e.barMeasure=d(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=qe(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+$e(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-je(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection(e.focus))}function dt(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&It(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==er()&&(!document.hasFocus||document.hasFocus());e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&b(t,e.barMeasure),e.updatedDisplay&&A(t,e.barMeasure),e.selectionChanged&&Re(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&V(e.cm)}function ht(e){var t=e.cm,n=t.display,i=t.doc;if(e.updatedDisplay&&E(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null==e.scrollTop||n.scroller.scrollTop==e.scrollTop&&!e.forceScroll||(i.scrollTop=Math.max(0,Math.min(n.scroller.scrollHeight-n.scroller.clientHeight,e.scrollTop)),n.scrollbars.setScrollTop(i.scrollTop),n.scroller.scrollTop=i.scrollTop),null==e.scrollLeft||n.scroller.scrollLeft==e.scrollLeft&&!e.forceScroll||(i.scrollLeft=Math.max(0,Math.min(n.scroller.scrollWidth-n.scroller.clientWidth,e.scrollLeft)),n.scrollbars.setScrollLeft(i.scrollLeft),n.scroller.scrollLeft=i.scrollLeft,_(t)),e.scrollToPos){var r=function(e,t,n,i){null==i&&(i=0);for(var r=0;5>r;r++){var o=!1,s=tt(e,t),a=n&&n!=t?tt(e,n):s,l=on(e,Math.min(s.left,a.left),Math.min(s.top,a.top)-i,Math.max(s.left,a.left),Math.max(s.bottom,a.bottom)+i),u=e.doc.scrollTop,c=e.doc.scrollLeft;if(null!=l.scrollTop&&(Dt(e,l.scrollTop),Math.abs(e.doc.scrollTop-u)>1&&(o=!0)),null!=l.scrollLeft&&(It(e,l.scrollLeft),Math.abs(e.doc.scrollLeft-c)>1&&(o=!0)),!o)break}return s}(t,ce(i,e.scrollToPos.from),ce(i,e.scrollToPos.to),e.scrollToPos.margin);e.scrollToPos.isCursor&&t.state.focused&&function(e,t){if(!Di(e,"scrollCursorIntoView")){var n=e.display,i=n.sizer.getBoundingClientRect(),r=null;if(t.top+i.top<0?r=!0:t.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(r=!1),null!=r&&!Mr){var o=Qi("div","​",null,"position: absolute; top: "+(t.top-n.viewOffset-De(e.display))+"px; height: "+(t.bottom-t.top+$e(e)+n.barHeight)+"px; left: "+t.left+"px; width: 2px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(r),e.display.lineSpace.removeChild(o)}}}(t,r)}var o=e.maybeHiddenMarkers,s=e.maybeUnhiddenMarkers;if(o)for(var a=0;a<o.length;++a)o[a].lines.length||Fo(o[a],"hide");if(s)for(a=0;a<s.length;++a)s[a].lines.length&&Fo(s[a],"unhide");n.wrapper.offsetHeight&&(i.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&Fo(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function mt(e,t){if(e.curOp)return t();lt(e);try{return t()}finally{ut(e)}}function gt(e,t){return function(){if(e.curOp)return t.apply(e,arguments);lt(e);try{return t.apply(e,arguments)}finally{ut(e)}}}function bt(e){return function(){if(this.curOp)return e.apply(this,arguments);lt(this);try{return e.apply(this,arguments)}finally{ut(this)}}}function yt(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);lt(t);try{return e.apply(this,arguments)}finally{ut(t)}}}function vt(e,t,n){this.line=t,this.rest=function(e){for(var t,n;t=Ln(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}(t),this.size=this.rest?hi(zi(this.rest))-n+1:1,this.node=this.text=null,this.hidden=$n(e,t)}function _t(e,t,n){for(var i,r=[],o=t;n>o;o=i){var s=new vt(e.doc,ci(e.doc,o),o);i=o+s.size,r.push(s)}return r}function xt(e,t,n,i){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),i||(i=0);var r=e.display;if(i&&n<r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>t)&&(r.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=r.viewTo)Br&&In(e.doc,t)<r.viewTo&&kt(e);else if(n<=r.viewFrom)Br&&Fn(e.doc,n+i)>r.viewFrom?kt(e):(r.viewFrom+=i,r.viewTo+=i);else if(t<=r.viewFrom&&n>=r.viewTo)kt(e);else if(t<=r.viewFrom){(o=Ct(e,n,n+i,1))?(r.view=r.view.slice(o.index),r.viewFrom=o.lineN,r.viewTo+=i):kt(e)}else if(n>=r.viewTo){var o;(o=Ct(e,t,t,-1))?(r.view=r.view.slice(0,o.index),r.viewTo=o.lineN):kt(e)}else{var s=Ct(e,t,t,-1),a=Ct(e,n,n+i,1);s&&a?(r.view=r.view.slice(0,s.index).concat(_t(e,s.lineN,a.lineN)).concat(r.view.slice(a.index)),r.viewTo+=i):kt(e)}var l=r.externalMeasured;l&&(n<l.lineN?l.lineN+=i:t<l.lineN+l.size&&(r.externalMeasured=null))}function wt(e,t,n){e.curOp.viewChanged=!0;var i=e.display,r=e.display.externalMeasured;if(r&&t>=r.lineN&&t<r.lineN+r.size&&(i.externalMeasured=null),!(t<i.viewFrom||t>=i.viewTo)){var o=i.view[St(e,t)];if(null!=o.node){var s=o.changes||(o.changes=[]);-1==qi(s,n)&&s.push(n)}}}function kt(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function St(e,t){if(t>=e.display.viewTo)return null;if(0>(t-=e.display.viewFrom))return null;for(var n=e.display.view,i=0;i<n.length;i++)if(0>(t-=n[i].size))return i}function Ct(e,t,n,i){var r,o=St(e,t),s=e.display.view;if(!Br||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var a=0,l=e.display.viewFrom;o>a;a++)l+=s[a].size;if(l!=t){if(i>0){if(o==s.length-1)return null;r=l+s[o].size-t,o++}else r=l-t;t+=r,n+=r}for(;In(e.doc,n)!=n;){if(o==(0>i?0:s.length-1))return null;n+=i*s[o-(0>i?1:0)].size,o+=i}return{index:o,lineN:n}}function Et(e){for(var t=e.display.view,n=0,i=0;i<t.length;i++){var r=t[i];r.hidden||r.node&&!r.changes||++n}return n}function Tt(e){var t=e.display;t.lastWrapHeight==t.wrapper.clientHeight&&t.lastWrapWidth==t.wrapper.clientWidth||(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function At(e,t){for(var n=Mi(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function Nt(e,t,n,i){var r=e.display;if(!n&&"true"==Mi(t).getAttribute("cm-not-content"))return null;var o,s,a=r.lineSpace.getBoundingClientRect();try{o=t.clientX-a.left,s=t.clientY-a.top}catch(t){return null}var l,u=rt(e,o,s);if(i&&1==u.xRel&&(l=ci(e.doc,u.line).text).length==u.ch){var c=Uo(l,l.length,e.options.tabSize)-l.length;u=zr(u.line,Math.max(0,Math.round((o-Fe(e.display).left)/at(e.display))-c))}return u}function Mt(e){var t=this,n=t.display;if(!(Di(t,e)||n.activeTouch&&n.input.supportsTouch())){if(n.shift=e.shiftKey,At(n,e))return void(Sr||(n.scroller.draggable=!1,setTimeout(function(){n.scroller.draggable=!0},100)));if(!Ot(t,e)){var i=Nt(t,e);switch(window.focus(),Ri(e)){case 1:t.state.selectingText?t.state.selectingText(e):i?function(e,t,n){wr?setTimeout(Gi(V,e),0):e.curOp.focus=er();var i,r=+new Date;Vr&&Vr.time>r-400&&0==qr(Vr.pos,n)?i="triple":Wr&&Wr.time>r-400&&0==qr(Wr.pos,n)?(i="double",Vr={time:r,pos:n}):(i="single",Wr={time:r,pos:n});var o,s=e.doc.sel,a=Lr?t.metaKey:t.ctrlKey;e.options.dragDrop&&rs&&!e.isReadOnly()&&"single"==i&&(o=s.contains(n))>-1&&(qr((o=s.ranges[o]).from(),n)<0||n.xRel>0)&&(qr(o.to(),n)>0||n.xRel<0)?function(e,t,n,i){var r=e.display,o=+new Date,s=gt(e,function(a){Sr&&(r.scroller.draggable=!1),e.state.draggingText=!1,Io(document,"mouseup",s),Io(r.scroller,"drop",s),Math.abs(t.clientX-a.clientX)+Math.abs(t.clientY-a.clientY)<10&&(Ro(a),!i&&+new Date-200<o&&he(e.doc,n),Sr||wr&&9==kr?setTimeout(function(){document.body.focus(),r.input.focus()},20):r.input.focus())});Sr&&(r.scroller.draggable=!0),e.state.draggingText=s,r.scroller.dragDrop&&r.scroller.dragDrop(),Po(document,"mouseup",s),Po(r.scroller,"drop",s)}(e,t,n,a):function(e,t,n,i,r){function o(t){if(0!=qr(g,t))if(g=t,"rect"==i){for(var r=[],o=e.options.tabSize,s=Uo(ci(u,n.line).text,n.ch,o),a=Uo(ci(u,t.line).text,t.ch,o),l=Math.min(s,a),d=Math.max(s,a),h=Math.min(n.line,t.line),m=Math.min(e.lastLine(),Math.max(n.line,t.line));m>=h;h++){var b=ci(u,h).text,y=Wo(b,l,o);l==d?r.push(new se(zr(h,y),zr(h,y))):b.length>y&&r.push(new se(zr(h,y),zr(h,Wo(b,d,o))))}r.length||r.push(new se(n,n)),ve(u,ae(f.ranges.slice(0,p).concat(r),p),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var v=c,_=v.anchor,x=t;if("single"!=i){if("double"==i)var w=e.findWordAt(t);else var w=new se(zr(t.line,0),ce(u,zr(t.line+1,0)));qr(w.anchor,_)>0?(x=w.head,_=W(v.from(),w.anchor)):(x=w.anchor,_=U(v.to(),w.head))}var r=f.ranges.slice(0);r[p]=new se(ce(u,_),x),ve(u,ae(r,p),qo)}}function s(t){var n=++y,r=Nt(e,t,!0,"rect"==i);if(r)if(0!=qr(r,g)){e.curOp.focus=er(),o(r);var a=v(l,u);(r.line>=a.to||r.line<a.from)&&setTimeout(gt(e,function(){y==n&&s(t)}),150)}else{var c=t.clientY<b.top?-20:t.clientY>b.bottom?20:0;c&&setTimeout(gt(e,function(){y==n&&(l.scroller.scrollTop+=c,s(t))}),50)}}function a(t){e.state.selectingText=!1,y=1/0,Ro(t),l.input.focus(),Io(document,"mousemove",_),Io(document,"mouseup",x),u.history.lastSelOrigin=null}var l=e.display,u=e.doc;Ro(t);var c,p,f=u.sel,d=f.ranges;if(r&&!t.shiftKey?(p=u.sel.contains(n),c=p>-1?d[p]:new se(n,n)):(c=u.sel.primary(),p=u.sel.primIndex),Pr?t.shiftKey&&t.metaKey:t.altKey)i="rect",r||(c=new se(n,n)),n=Nt(e,t,!0,!0),p=-1;else if("double"==i){var h=e.findWordAt(n);c=e.display.shift||u.extend?de(u,c,h.anchor,h.head):h}else if("triple"==i){var m=new se(zr(n.line,0),ce(u,zr(n.line+1,0)));c=e.display.shift||u.extend?de(u,c,m.anchor,m.head):m}else c=de(u,c,n);r?-1==p?(p=d.length,ve(u,ae(d.concat([c]),p),{scroll:!1,origin:"*mouse"})):d.length>1&&d[p].empty()&&"single"==i&&!t.shiftKey?(ve(u,ae(d.slice(0,p).concat(d.slice(p+1)),0),{scroll:!1,origin:"*mouse"}),f=u.sel):ge(u,p,c,qo):(p=0,ve(u,new oe([c],0),qo),f=u.sel);var g=n,b=l.wrapper.getBoundingClientRect(),y=0,_=gt(e,function(e){Ri(e)?s(e):a(e)}),x=gt(e,a);e.state.selectingText=x,Po(document,"mousemove",_),Po(document,"mouseup",x)}(e,t,n,i,a)}(t,e,i):Mi(e)==n.scroller&&Ro(e);break;case 2:Sr&&(t.state.lastMiddleDown=+new Date),i&&he(t.doc,i),setTimeout(function(){n.input.focus()},20),Ro(e);break;case 3:$r?Vt(t,e):function(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,Wt(e))},100)}(t)}}}}function Rt(e,t,n,i){try{var r=t.clientX,o=t.clientY}catch(t){return!1}if(r>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;i&&Ro(t);var s=e.display,a=s.lineDiv.getBoundingClientRect();if(o>a.bottom||!Fi(e,n))return Ni(t);o-=a.top-s.viewOffset;for(var l=0;l<e.options.gutters.length;++l){var u=s.gutters.childNodes[l];if(u&&u.getBoundingClientRect().right>=r){var c=mi(e.doc,o),p=e.options.gutters[l];return Fo(e,n,e,c,p,t),Ni(t)}}}function Ot(e,t){return Rt(e,t,"gutterClick",!0)}function Lt(e){var t=this;if(Pt(t),!Di(t,e)&&!At(t.display,e)){Ro(e),wr&&(Xr=+new Date);var n=Nt(t,e,!0),i=e.dataTransfer.files;if(n&&!t.isReadOnly())if(i&&i.length&&window.FileReader&&window.File)for(var r=i.length,o=Array(r),s=0,a=function(e,i){if(!t.options.allowDropFileTypes||-1!=qi(t.options.allowDropFileTypes,e.type)){var a=new FileReader;a.onload=gt(t,function(){var e=a.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),o[i]=e,++s==r){var l={from:n=ce(t.doc,n),to:n,text:t.doc.splitLines(o.join(t.doc.lineSeparator())),origin:"paste"};Qt(t.doc,l),ye(t.doc,le(n,no(l)))}}),a.readAsText(e)}},l=0;r>l;++l)a(i[l],l);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout(function(){t.display.input.focus()},20);try{if(o=e.dataTransfer.getData("Text")){if(t.state.draggingText&&!(Lr?e.altKey:e.ctrlKey))var u=t.listSelections();if(_e(t.doc,le(n,n)),u)for(l=0;l<u.length;++l)rn(t.doc,"",u[l].anchor,u[l].head,"drag");t.replaceSelection(o,"around","paste"),t.display.input.focus()}}catch(e){}}}}function Pt(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Dt(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,vr||T(e,{top:t}),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbars.setScrollTop(t),vr&&T(e),Oe(e,100))}function It(e,t,n){(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,_(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Ft(e,t){var n=Jr(t),i=n.x,r=n.y,o=e.display,s=o.scroller,a=s.scrollWidth>s.clientWidth,l=s.scrollHeight>s.clientHeight;if(i&&a||r&&l){if(r&&Lr&&Sr)e:for(var u=t.target,c=o.view;u!=s;u=u.parentNode)for(var p=0;p<c.length;p++)if(c[p].node==u){e.display.currentWheelTarget=u;break e}if(i&&!vr&&!Tr&&null!=Zr)return r&&l&&Dt(e,Math.max(0,Math.min(s.scrollTop+r*Zr,s.scrollHeight-s.clientHeight))),It(e,Math.max(0,Math.min(s.scrollLeft+i*Zr,s.scrollWidth-s.clientWidth))),(!r||r&&l)&&Ro(t),void(o.wheelStartX=null);if(r&&null!=Zr){var f=r*Zr,d=e.doc.scrollTop,h=d+o.wrapper.clientHeight;0>f?d=Math.max(0,d+f-50):h=Math.min(e.doc.height,h+f+50),T(e,{top:d,bottom:h})}20>Qr&&(null==o.wheelStartX?(o.wheelStartX=s.scrollLeft,o.wheelStartY=s.scrollTop,o.wheelDX=i,o.wheelDY=r,setTimeout(function(){if(null!=o.wheelStartX){var e=s.scrollLeft-o.wheelStartX,t=s.scrollTop-o.wheelStartY,n=t&&o.wheelDY&&t/o.wheelDY||e&&o.wheelDX&&e/o.wheelDX;o.wheelStartX=o.wheelStartY=null,n&&(Zr=(Zr*Qr+n)/(Qr+1),++Qr)}},200)):(o.wheelDX+=i,o.wheelDY+=r))}}function $t(e,t,n){if("string"==typeof t&&!(t=ho[t]))return!1;e.display.input.ensurePolled();var i=e.display.shift,r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),r=t(e)!=Bo}finally{e.display.shift=i,e.state.suppressEdits=!1}return r}function jt(e,t,n,i){var r=e.state.keySeq;if(r){if(bo(t))return"handled";eo.set(50,function(){e.state.keySeq==r&&(e.state.keySeq=null,e.display.input.reset())}),t=r+" "+t}var o=function(e,t,n){for(var i=0;i<e.state.keyMaps.length;i++){var r=go(t,e.state.keyMaps[i],n,e);if(r)return r}return e.options.extraKeys&&go(t,e.options.extraKeys,n,e)||go(t,e.options.keyMap,n,e)}(e,t,i);return"multi"==o&&(e.state.keySeq=t),"handled"==o&&Li(e,"keyHandled",e,t,n),"handled"!=o&&"multi"!=o||(Ro(n),Re(e)),r&&!o&&/\'$/.test(t)?(Ro(n),!0):!!o}function Bt(e,t){var n=yo(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?jt(e,"Shift-"+n,t,function(t){return $t(e,t,!0)})||jt(e,n,t,function(t){return("string"==typeof t?/^go[A-Z]/.test(t):t.motion)?$t(e,t):void 0}):jt(e,n,t,function(t){return $t(e,t)}))}function zt(e){var t=this;if(t.curOp.focus=er(),!Di(t,e)){wr&&11>kr&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var i=Bt(t,e);Tr&&(to=i?n:null,!i&&88==n&&!as&&(Lr?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||function(e){function t(e){18!=e.keyCode&&e.altKey||(ts(n,"CodeMirror-crosshair"),Io(document,"keyup",t),Io(document,"mouseover",t))}var n=e.display.lineDiv;ns(n,"CodeMirror-crosshair"),Po(document,"keyup",t),Po(document,"mouseover",t)}(t)}}function qt(e){16==e.keyCode&&(this.doc.sel.shift=!1),Di(this,e)}function Ht(e){var t=this;if(!(At(t.display,e)||Di(t,e)||e.ctrlKey&&!e.altKey||Lr&&e.metaKey)){var n=e.keyCode,i=e.charCode;if(Tr&&n==to)return to=null,void Ro(e);if(!Tr||e.which&&!(e.which<10)||!Bt(t,e))(function(e,t,n){return jt(e,"'"+n+"'",t,function(t){return $t(e,t,!0)})})(t,e,String.fromCharCode(null==i?n:i))||t.display.input.onKeyPress(e)}}function Ut(e){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(Fo(e,"focus",e),e.state.focused=!0,ns(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),Sr&&setTimeout(function(){e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Re(e))}function Wt(e){e.state.delayingBlurEvent||(e.state.focused&&(Fo(e,"blur",e),e.state.focused=!1,ts(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function Vt(e,t){At(e.display,t)||function(e,t){return!!Fi(e,"gutterContextMenu")&&Rt(e,t,"gutterContextMenu",!1)}(e,t)||Di(e,t,"contextmenu")||e.display.input.onContextMenu(t)}function Gt(e,t){if(qr(e,t.from)<0)return e;if(qr(e,t.to)<=0)return no(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,i=e.ch;return e.line==t.to.line&&(i+=no(t).ch-t.to.ch),zr(n,i)}function Kt(e,t){for(var n=[],i=0;i<e.sel.ranges.length;i++){var r=e.sel.ranges[i];n.push(new se(Gt(r.anchor,t),Gt(r.head,t)))}return ae(n,e.sel.primIndex)}function Yt(e,t,n){return e.line==t.line?zr(n.line,e.ch-t.ch+n.ch):zr(n.line+(e.line-t.line),e.ch)}function Xt(e,t,n){var i={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){this.canceled=!0}};return n&&(i.update=function(t,n,i,r){t&&(this.from=ce(e,t)),n&&(this.to=ce(e,n)),i&&(this.text=i),void 0!==r&&(this.origin=r)}),Fo(e,"beforeChange",e,i),e.cm&&Fo(e.cm,"beforeChange",e.cm,i),i.canceled?null:{from:i.from,to:i.to,text:i.text,origin:i.origin}}function Qt(e,t,n){if(e.cm){if(!e.cm.curOp)return gt(e.cm,Qt)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(Fi(e,"beforeChange")||e.cm&&Fi(e.cm,"beforeChange"))||(t=Xt(e,t,!0))){var i=jr&&!n&&function(e,t,n){var i=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||i&&-1!=qi(i,n)||(i||(i=[])).push(n)}}),!i)return null;for(var r=[{from:t,to:n}],o=0;o<i.length;++o)for(var s=i[o],a=s.find(0),l=0;l<r.length;++l){var u=r[l];if(!(qr(u.to,a.from)<0||qr(u.from,a.to)>0)){var c=[l,1],p=qr(u.from,a.from),f=qr(u.to,a.to);(0>p||!s.inclusiveLeft&&!p)&&c.push({from:u.from,to:a.from}),(f>0||!s.inclusiveRight&&!f)&&c.push({from:a.to,to:u.to}),r.splice.apply(r,c),l+=c.length-1}}return r}(e,t.from,t.to);if(i)for(var r=i.length-1;r>=0;--r)Zt(e,{from:i[r].from,to:i[r].to,text:r?[""]:t.text});else Zt(e,t)}}function Zt(e,t){if(1!=t.text.length||""!=t.text[0]||0!=qr(t.from,t.to)){var n=Kt(e,t);xi(e,t,n,e.cm?e.cm.curOp.id:NaN),tn(e,t,n,kn(e,t));var i=[];li(e,function(e,n){n||-1!=qi(i,e.history)||(Ai(e.history,t),i.push(e.history)),tn(e,t,null,kn(e,t))})}}function Jt(e,t,n){if(!e.cm||!e.cm.state.suppressEdits){for(var i,r=e.history,o=e.sel,s="undo"==t?r.done:r.undone,a="undo"==t?r.undone:r.done,l=0;l<s.length&&(i=s[l],n?!i.ranges||i.equals(e.sel):i.ranges);l++);if(l!=s.length){for(r.lastOrigin=r.lastSelOrigin=null;(i=s.pop()).ranges;){if(wi(i,a),n&&!i.equals(e.sel))return void ve(e,i,{clearRedo:!1});o=i}var u=[];wi(o,a),a.push({changes:u,generation:r.generation}),r.generation=i.generation||++r.maxGeneration;var c=Fi(e,"beforeChange")||e.cm&&Fi(e.cm,"beforeChange");for(l=i.changes.length-1;l>=0;--l){var p=i.changes[l];if(p.origin=t,c&&!Xt(e,p,!1))return void(s.length=0);u.push(vi(e,p));var f=l?Kt(e,p):zi(s);tn(e,p,f,Cn(e,p)),!l&&e.cm&&e.cm.scrollIntoView({from:p.from,to:no(p)});var d=[];li(e,function(e,t){t||-1!=qi(d,e.history)||(Ai(e.history,p),d.push(e.history)),tn(e,p,null,Cn(e,p))})}}}}function en(e,t){if(0!=t&&(e.first+=t,e.sel=new oe(Hi(e.sel.ranges,function(e){return new se(zr(e.anchor.line+t,e.anchor.ch),zr(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){xt(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,i=n.viewFrom;i<n.viewTo;i++)wt(e.cm,i,"gutter")}}function tn(e,t,n,i){if(e.cm&&!e.cm.curOp)return gt(e.cm,tn)(e,t,n,i);if(t.to.line<e.first)en(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var r=t.text.length-1-(e.first-t.from.line);en(e,r),t={from:zr(e.first,0),to:zr(t.to.line+r,t.to.ch),text:[zi(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:zr(o,ci(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=pi(e,t.from,t.to),n||(n=Kt(e,t)),e.cm?nn(e.cm,t,i):oi(e,t,i),_e(e,n,zo)}}function nn(e,t,n){var i=e.doc,o=e.display,s=t.from,a=t.to,l=!1,u=s.line;e.options.lineWrapping||(u=hi(Dn(ci(i,s.line))),i.iter(u,a.line+1,function(e){return e==o.maxLine?(l=!0,!0):void 0})),i.sel.contains(t.from,t.to)>-1&&Ii(e),oi(i,t,n,r(e)),e.options.lineWrapping||(i.iter(u,s.line+t.text.length,function(e){var t=c(e);t>o.maxLineLength&&(o.maxLine=e,o.maxLineLength=t,o.maxLineChanged=!0,l=!1)}),l&&(e.curOp.updateMaxLine=!0)),i.frontier=Math.min(i.frontier,s.line),Oe(e,400);var p=t.text.length-(a.line-s.line)-1;t.full?xt(e):s.line!=a.line||1!=t.text.length||ri(e.doc,t)?xt(e,s.line,a.line+1,p):wt(e,s.line,"text");var f=Fi(e,"changes"),d=Fi(e,"change");if(d||f){var h={from:s,to:a,text:t.text,removed:t.removed,origin:t.origin};d&&Li(e,"change",e,h),f&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(h)}e.display.selForContextMenu=null}function rn(e,t,n,i,r){if(i||(i=n),qr(i,n)<0){var o=i;i=n,n=o}"string"==typeof t&&(t=e.splitLines(t)),Qt(e,{from:n,to:i,text:t,origin:r})}function on(e,t,n,i,r){var o=e.display,s=st(e.display);0>n&&(n=0);var a=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:o.scroller.scrollTop,l=Be(e),u={};r-n>l&&(r=n+l);var c=e.doc.height+Ie(o),p=s>n,f=r>c-s;if(a>n)u.scrollTop=p?0:n;else if(r>a+l){var d=Math.min(n,(f?c:r)-l);d!=a&&(u.scrollTop=d)}var h=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:o.scroller.scrollLeft,m=je(e)-(e.options.fixedGutter?o.gutters.offsetWidth:0),g=i-t>m;return g&&(i=t+m),10>t?u.scrollLeft=0:h>t?u.scrollLeft=Math.max(0,t-(g?0:10)):i>m+h-3&&(u.scrollLeft=i+(g?0:10)-m),u}function sn(e,t,n){null==t&&null==n||ln(e),null!=t&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc.scrollLeft:e.curOp.scrollLeft)+t),null!=n&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+n)}function an(e){ln(e);var t=e.getCursor(),n=t,i=t;e.options.lineWrapping||(n=t.ch?zr(t.line,t.ch-1):t,i=zr(t.line,t.ch+1)),e.curOp.scrollToPos={from:n,to:i,margin:e.options.cursorScrollMargin,isCursor:!0}}function ln(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=nt(e,t.from),i=nt(e,t.to),r=on(e,Math.min(n.left,i.left),Math.min(n.top,i.top)-t.margin,Math.max(n.right,i.right),Math.max(n.bottom,i.bottom)+t.margin);e.scrollTo(r.scrollLeft,r.scrollTop)}}function un(e,t,n,i){var r,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?r=Pe(e,t):n="prev");var s=e.options.tabSize,a=ci(o,t),l=Uo(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var u,c=a.text.match(/^\s*/)[0];if(i||/\S/.test(a.text)){if("smart"==n&&((u=o.mode.indent(r,a.text.slice(c.length),a.text))==Bo||u>150)){if(!i)return;n="prev"}}else u=0,n="not";"prev"==n?u=t>o.first?Uo(ci(o,t-1).text,null,s):0:"add"==n?u=l+e.options.indentUnit:"subtract"==n?u=l-e.options.indentUnit:"number"==typeof n&&(u=l+n),u=Math.max(0,u);var p="",f=0;if(e.options.indentWithTabs)for(var d=Math.floor(u/s);d;--d)f+=s,p+="\t";if(u>f&&(p+=Bi(u-f)),p!=c)return rn(o,p,zr(t,0),zr(t,c.length),"+input"),a.stateAfter=null,!0;for(d=0;d<o.sel.ranges.length;d++){var h=o.sel.ranges[d];if(h.head.line==t&&h.head.ch<c.length){ge(o,d,new se(f=zr(t,c.length),f));break}}}function cn(e,t,n,i){var r=t,o=t;return"number"==typeof t?o=ci(e,ue(e,t)):r=hi(t),null==r?null:(i(o,r)&&e.cm&&wt(e.cm,r,n),o)}function pn(e,t){for(var n=e.doc.sel.ranges,i=[],r=0;r<n.length;r++){for(var o=t(n[r]);i.length&&qr(o.from,zi(i).to)<=0;){var s=i.pop();if(qr(s.from,o.from)<0){o.from=s.from;break}}i.push(o)}mt(e,function(){for(var t=i.length-1;t>=0;t--)rn(e.doc,"",i[t].from,i[t].to,"+delete");an(e)})}function fn(e,t,n,i,r){function o(){var t=a+n;return!(t<e.first||t>=e.first+e.size)&&(a=t,c=ci(e,t))}function s(e){var t=(r?mr:gr)(c,l,n,!0);if(null==t){if(e||!o())return!1;l=r?(0>n?ur:lr)(c):0>n?c.text.length:0}else l=t;return!0}var a=t.line,l=t.ch,u=n,c=ci(e,a);if("char"==i)s();else if("column"==i)s(!0);else if("word"==i||"group"==i)for(var p=null,f="group"==i,d=e.cm&&e.cm.getHelper(t,"wordChars"),h=!0;!(0>n)||s(!h);h=!1){var m=c.text.charAt(l)||"\n",g=Ki(m,d)?"w":f&&"\n"==m?"n":!f||/\s/.test(m)?null:"p";if(!f||h||g||(g="s"),p&&p!=g){0>n&&(n=1,s());break}if(g&&(p=g),n>0&&!s(!h))break}var b=Ce(e,zr(a,l),t,u,!0);return qr(t,b)||(b.hitSide=!0),b}function dn(e,t,n,i){var r,o=e.doc,s=t.left;if("page"==i){var a=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);r=t.top+n*(a-(0>n?1.5:.5)*st(e.display))}else"line"==i&&(r=n>0?t.bottom+3:t.top-3);for(;;){var l=rt(e,s,r);if(!l.outside)break;if(0>n?0>=r:r>=o.height){l.hitSide=!0;break}r+=5*n}return l}function hn(t,n,i,r){e.defaults[t]=n,i&&(ro[t]=r?function(e,t,n){n!=oo&&i(e,t,n)}:i)}function mn(e){for(var t,n,i,r,o=e.split(/-(?!$)/),s=(e=o[o.length-1],0);s<o.length-1;s++){var a=o[s];if(/^(cmd|meta|m)$/i.test(a))r=!0;else if(/^a(lt)?$/i.test(a))t=!0;else if(/^(c|ctrl|control)$/i.test(a))n=!0;else{if(!/^s(hift)$/i.test(a))throw new Error("Unrecognized modifier name: "+a);i=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),r&&(e="Cmd-"+e),i&&(e="Shift-"+e),e}function gn(e){return"string"==typeof e?mo[e]:e}function bn(e,t,n,i,r){if(i&&i.shared)return function(e,t,n,i,r){(i=Vi(i)).shared=!1;var o=[bn(e,t,n,i,r)],s=o[0],a=i.widgetNode;return li(e,function(e){a&&(i.widgetNode=a.cloneNode(!0)),o.push(bn(e,ce(e,t),ce(e,n),i,r));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;s=zi(o)}),new wo(o,s)}(e,t,n,i,r);if(e.cm&&!e.cm.curOp)return gt(e.cm,bn)(e,t,n,i,r);var o=new xo(e,r),s=qr(t,n);if(i&&Vi(i,o,!1),s>0||0==s&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=Qi("span",[o.replacedWith],"CodeMirror-widget"),i.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),i.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Pn(e,t.line,t,n,o)||t.line!=n.line&&Pn(e,n.line,t,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Br=!0}o.addToHistory&&xi(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var a,l=t.line,u=e.cm;if(e.iter(l,n.line+1,function(e){u&&o.collapsed&&!u.options.lineWrapping&&Dn(e)==u.display.maxLine&&(a=!0),o.collapsed&&l!=t.line&&di(e,0),function(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}(e,new _n(o,l==t.line?t.ch:null,l==n.line?n.ch:null)),++l}),o.collapsed&&e.iter(t.line,n.line+1,function(t){$n(e,t)&&di(t,0)}),o.clearOnEnter&&Po(o,"beforeCursorEnter",function(){o.clear()}),o.readOnly&&(jr=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++_o,o.atomic=!0),u){if(a&&(u.curOp.updateMaxLine=!0),o.collapsed)xt(u,t.line,n.line+1);else if(o.className||o.title||o.startStyle||o.endStyle||o.css)for(var c=t.line;c<=n.line;c++)wt(u,c,"text");o.atomic&&we(u.doc),Li(u,"markerAdded",u,o)}return o}function yn(e){return e.findMarks(zr(e.first,0),e.clipPos(zr(e.lastLine())),function(e){return e.parent})}function vn(e){for(var t=0;t<e.length;t++){var n=e[t],i=[n.primary.doc];li(n.primary.doc,function(e){i.push(e)});for(var r=0;r<n.markers.length;r++){var o=n.markers[r];-1==qi(i,o.doc)&&(o.parent=null,n.markers.splice(r--,1))}}}function _n(e,t,n){this.marker=e,this.from=t,this.to=n}function xn(e,t){if(e)for(var n=0;n<e.length;++n){var i=e[n];if(i.marker==t)return i}}function wn(e,t){for(var n,i=0;i<e.length;++i)e[i]!=t&&(n||(n=[])).push(e[i]);return n}function kn(e,t){if(t.full)return null;var n=pe(e,t.from.line)&&ci(e,t.from.line).markedSpans,i=pe(e,t.to.line)&&ci(e,t.to.line).markedSpans;if(!n&&!i)return null;var r=t.from.ch,o=t.to.ch,s=0==qr(t.from,t.to),a=function(e,t,n){if(e)for(var i,r=0;r<e.length;++r){var o=e[r],s=o.marker;if(null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t)||o.from==t&&"bookmark"==s.type&&(!n||!o.marker.insertLeft)){var a=null==o.to||(s.inclusiveRight?o.to>=t:o.to>t);(i||(i=[])).push(new _n(s,o.from,a?null:o.to))}}return i}(n,r,s),l=function(e,t,n){if(e)for(var i,r=0;r<e.length;++r){var o=e[r],s=o.marker;if(null==o.to||(s.inclusiveRight?o.to>=t:o.to>t)||o.from==t&&"bookmark"==s.type&&(!n||o.marker.insertLeft)){var a=null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t);(i||(i=[])).push(new _n(s,a?null:o.from-t,null==o.to?null:o.to-t))}}return i}(i,o,s),u=1==t.text.length,c=zi(t.text).length+(u?r:0);if(a)for(var p=0;p<a.length;++p){if(null==(f=a[p]).to)(d=xn(l,f.marker))?u&&(f.to=null==d.to?null:d.to+c):f.to=r}if(l)for(p=0;p<l.length;++p){var f,d;if(null!=(f=l[p]).to&&(f.to+=c),null==f.from)(d=xn(a,f.marker))||(f.from=c,u&&(a||(a=[])).push(f));else f.from+=c,u&&(a||(a=[])).push(f)}a&&(a=Sn(a)),l&&l!=a&&(l=Sn(l));var h=[a];if(!u){var m,g=t.text.length-2;if(g>0&&a)for(p=0;p<a.length;++p)null==a[p].to&&(m||(m=[])).push(new _n(a[p].marker,null,null));for(p=0;g>p;++p)h.push(m);h.push(l)}return h}function Sn(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Cn(e,t){var n=function(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var i=0,r=[];i<t.text.length;++i)r.push(Si(n[i]));return r}(e,t),i=kn(e,t);if(!n)return i;if(!i)return n;for(var r=0;r<n.length;++r){var o=n[r],s=i[r];if(o&&s)e:for(var a=0;a<s.length;++a){for(var l=s[a],u=0;u<o.length;++u)if(o[u].marker==l.marker)continue e;o.push(l)}else s&&(n[r]=s)}return n}function En(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function Tn(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function An(e){return e.inclusiveLeft?-1:0}function Nn(e){return e.inclusiveRight?1:0}function Mn(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var i=e.find(),r=t.find(),o=qr(i.from,r.from)||An(e)-An(t);if(o)return-o;var s=qr(i.to,r.to)||Nn(e)-Nn(t);return s||t.id-e.id}function Rn(e,t){var n,i=Br&&e.markedSpans;if(i)for(var r,o=0;o<i.length;++o)(r=i[o]).marker.collapsed&&null==(t?r.from:r.to)&&(!n||Mn(n,r.marker)<0)&&(n=r.marker);return n}function On(e){return Rn(e,!0)}function Ln(e){return Rn(e,!1)}function Pn(e,t,n,i,r){var o=ci(e,t),s=Br&&o.markedSpans;if(s)for(var a=0;a<s.length;++a){var l=s[a];if(l.marker.collapsed){var u=l.marker.find(0),c=qr(u.from,n)||An(l.marker)-An(r),p=qr(u.to,i)||Nn(l.marker)-Nn(r);if(!(c>=0&&0>=p||0>=c&&p>=0)&&(0>=c&&(l.marker.inclusiveRight&&r.inclusiveLeft?qr(u.to,n)>=0:qr(u.to,n)>0)||c>=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?qr(u.from,i)<=0:qr(u.from,i)<0)))return!0}}}function Dn(e){for(var t;t=On(e);)e=t.find(-1,!0).line;return e}function In(e,t){var n=ci(e,t),i=Dn(n);return n==i?t:hi(i)}function Fn(e,t){if(t>e.lastLine())return t;var n,i=ci(e,t);if(!$n(e,i))return t;for(;n=Ln(i);)i=n.find(1,!0).line;return hi(i)+1}function $n(e,t){var n=Br&&t.markedSpans;if(n)for(var i,r=0;r<n.length;++r)if((i=n[r]).marker.collapsed){if(null==i.from)return!0;if(!i.marker.widgetNode&&0==i.from&&i.marker.inclusiveLeft&&jn(e,t,i))return!0}}function jn(e,t,n){if(null==n.to){var i=n.marker.find(1,!0);return jn(e,i.line,xn(i.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var r,o=0;o<t.markedSpans.length;++o)if((r=t.markedSpans[o]).marker.collapsed&&!r.marker.widgetNode&&r.from==n.to&&(null==r.to||r.to!=n.from)&&(r.marker.inclusiveLeft||n.marker.inclusiveRight)&&jn(e,t,r))return!0}function Bn(e,t,n){gi(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&sn(e,null,n)}function zn(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!Zo(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),Ji(t.display.measure,Qi("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function qn(e){e.parent=null,En(e)}function Hn(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var i=n[1]?"bgClass":"textClass";null==t[i]?t[i]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[i])||(t[i]+=" "+n[2])}return e}function Un(t,n){if(t.blankLine)return t.blankLine(n);if(t.innerMode){var i=e.innerMode(t,n);return i.mode.blankLine?i.mode.blankLine(i.state):void 0}}function Wn(t,n,i,r){for(var o=0;10>o;o++){r&&(r[0]=e.innerMode(t,i).mode);var s=t.token(n,i);if(n.pos>n.start)return s}throw new Error("Mode "+t.name+" failed to advance stream.")}function Vn(e,t,n,i){function r(e){return{start:p.start,end:p.pos,string:p.current(),type:o||null,state:e?po(s.mode,c):c}}var o,s=e.doc,a=s.mode;t=ce(s,t);var l,u=ci(s,t.line),c=Pe(e,t.line,n),p=new vo(u.text,e.options.tabSize);for(i&&(l=[]);(i||p.pos<t.ch)&&!p.eol();)p.start=p.pos,o=Wn(a,p,c),i&&l.push(r(!0));return i?l:r()}function Gn(e,t,n,i,r,o,s){var a=n.flattenSpans;null==a&&(a=e.options.flattenSpans);var l,u=0,c=null,p=new vo(t,e.options.tabSize),f=e.options.addModeClass&&[null];for(""==t&&Hn(Un(n,i),o);!p.eol();){if(p.pos>e.options.maxHighlightLength?(a=!1,s&&Xn(e,t,i,p.pos),p.pos=t.length,l=null):l=Hn(Wn(n,p,i,f),o),f){var d=f[0].name;d&&(l="m-"+(l?d+" "+l:d))}if(!a||c!=l){for(;u<p.start;)r(u=Math.min(p.start,u+5e4),c);c=l}p.start=p.pos}for(;u<p.pos;){var h=Math.min(p.pos,u+5e4);r(h,c),u=h}}function Kn(e,t,n,i){var r=[e.state.modeGen],o={};Gn(e,t.text,e.doc.mode,n,function(e,t){r.push(e,t)},o,i);for(var s=0;s<e.state.overlays.length;++s){var a=e.state.overlays[s],l=1,u=0;Gn(e,t.text,a.mode,!0,function(e,t){for(var n=l;e>u;){var i=r[l];i>e&&r.splice(l,1,e,r[l+1],i),l+=2,u=Math.min(e,i)}if(t)if(a.opaque)r.splice(n,l-n,e,"cm-overlay "+t),l=n+2;else for(;l>n;n+=2){var o=r[n+1];r[n+1]=(o?o+" ":"")+"cm-overlay "+t}},o)}return{styles:r,classes:o.bgClass||o.textClass?o:null}}function Yn(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var i=Pe(e,hi(t)),r=Kn(e,t,t.text.length>e.options.maxHighlightLength?po(e.doc.mode,i):i);t.stateAfter=i,t.styles=r.styles,r.classes?t.styleClasses=r.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.frontier&&e.doc.frontier++}return t.styles}function Xn(e,t,n,i){var r=e.doc.mode,o=new vo(t,e.options.tabSize);for(o.start=o.pos=i||0,""==t&&Un(r,n);!o.eol();)Wn(r,o,n),o.start=o.pos}function Qn(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?Eo:Co;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function Zn(e,t){var n=Qi("span",null,null,Sr?"padding-right: .1px":null),i={pre:Qi("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,splitSpaces:(wr||Sr)&&e.getOption("lineWrapping")};t.measure={};for(var r=0;r<=(t.rest?t.rest.length:0);r++){var o,s=r?t.rest[r-1]:t.line;i.pos=0,i.addToken=Jn,or(e.display.measure)&&(o=bi(s))&&(i.addToken=ti(i.addToken,o)),i.map=[],ii(s,i,Yn(e,s,t!=e.display.externalMeasured&&hi(s))),s.styleClasses&&(s.styleClasses.bgClass&&(i.bgClass=nr(s.styleClasses.bgClass,i.bgClass||"")),s.styleClasses.textClass&&(i.textClass=nr(s.styleClasses.textClass,i.textClass||""))),0==i.map.length&&i.map.push(0,0,i.content.appendChild(rr(e.display.measure))),0==r?(t.measure.map=i.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(i.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(Sr){var a=i.content.lastChild;(/\bcm-tab\b/.test(a.className)||a.querySelector&&a.querySelector(".cm-tab"))&&(i.content.className="cm-tab-wrap-hack")}return Fo(e,"renderLine",e,t.line,i.pre),i.pre.className&&(i.textClass=nr(i.pre.className,i.textClass||"")),i}function Jn(e,t,n,i,r,o,s){if(t){var a=e.splitSpaces?t.replace(/ {3,}/g,ei):t,l=e.cm.state.specialChars,u=!1;if(l.test(t))for(var c=document.createDocumentFragment(),p=0;;){l.lastIndex=p;var f=l.exec(t),d=f?f.index-p:t.length-p;if(d){var h=document.createTextNode(a.slice(p,p+d));wr&&9>kr?c.appendChild(Qi("span",[h])):c.appendChild(h),e.map.push(e.pos,e.pos+d,h),e.col+=d,e.pos+=d}if(!f)break;if(p+=d+1,"\t"==f[0]){var m=e.cm.options.tabSize,g=m-e.col%m;(h=c.appendChild(Qi("span",Bi(g),"cm-tab"))).setAttribute("role","presentation"),h.setAttribute("cm-text","\t"),e.col+=g}else if("\r"==f[0]||"\n"==f[0]){(h=c.appendChild(Qi("span","\r"==f[0]?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",f[0]),e.col+=1}else{(h=e.cm.options.specialCharPlaceholder(f[0])).setAttribute("cm-text",f[0]),wr&&9>kr?c.appendChild(Qi("span",[h])):c.appendChild(h),e.col+=1}e.map.push(e.pos,e.pos+1,h),e.pos++}else{e.col+=t.length;c=document.createTextNode(a);e.map.push(e.pos,e.pos+t.length,c),wr&&9>kr&&(u=!0),e.pos+=t.length}if(n||i||r||u||s){var b=n||"";i&&(b+=i),r&&(b+=r);var y=Qi("span",[c],b,s);return o&&(y.title=o),e.content.appendChild(y)}e.content.appendChild(c)}}function ei(e){for(var t=" ",n=0;n<e.length-2;++n)t+=n%2?" ":" ";return t+" "}function ti(e,t){return function(n,i,r,o,s,a,l){r=r?r+" cm-force-border":"cm-force-border";for(var u=n.pos,c=u+i.length;;){for(var p=0;p<t.length;p++){var f=t[p];if(f.to>u&&f.from<=u)break}if(f.to>=c)return e(n,i,r,o,s,a,l);e(n,i.slice(0,f.to-u),r,o,null,a,l),o=null,i=i.slice(f.to-u),u=f.to}}}function ni(e,t,n,i){var r=!i&&n.widgetNode;r&&e.map.push(e.pos,e.pos+t,r),!i&&e.cm.display.input.needsContentAttribute&&(r||(r=e.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",n.id)),r&&(e.cm.display.input.setUneditable(r),e.content.appendChild(r)),e.pos+=t}function ii(e,t,n){var i=e.markedSpans,r=e.text,o=0;if(i)for(var s,a,l,u,c,p,f,d=r.length,h=0,m=1,g="",b=0;;){if(b==h){l=u=c=p=a="",f=null,b=1/0;for(var y,v=[],_=0;_<i.length;++_){var x=i[_],w=x.marker;"bookmark"==w.type&&x.from==h&&w.widgetNode?v.push(w):x.from<=h&&(null==x.to||x.to>h||w.collapsed&&x.to==h&&x.from==h)?(null!=x.to&&x.to!=h&&b>x.to&&(b=x.to,u=""),w.className&&(l+=" "+w.className),w.css&&(a=(a?a+";":"")+w.css),w.startStyle&&x.from==h&&(c+=" "+w.startStyle),w.endStyle&&x.to==b&&(y||(y=[])).push(w.endStyle,x.to),w.title&&!p&&(p=w.title),w.collapsed&&(!f||Mn(f.marker,w)<0)&&(f=x)):x.from>h&&b>x.from&&(b=x.from)}if(y)for(_=0;_<y.length;_+=2)y[_+1]==b&&(u+=" "+y[_]);if(!f||f.from==h)for(_=0;_<v.length;++_)ni(t,0,v[_]);if(f&&(f.from||0)==h){if(ni(t,(null==f.to?d+1:f.to)-h,f.marker,null==f.from),null==f.to)return;f.to==h&&(f=!1)}}if(h>=d)break;for(var k=Math.min(d,b);;){if(g){var S=h+g.length;if(!f){var C=S>k?g.slice(0,k-h):g;t.addToken(t,C,s?s+l:l,c,h+C.length==b?u:"",p,a)}if(S>=k){g=g.slice(k-h),h=k;break}h=S,c=""}g=r.slice(o,o=n[m++]),s=Qn(n[m++],t.cm.options)}}else for(m=1;m<n.length;m+=2)t.addToken(t,r.slice(o,o=n[m]),Qn(n[m+1],t.cm.options))}function ri(e,t){return 0==t.from.ch&&0==t.to.ch&&""==zi(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function oi(e,t,n,i){function r(e){return n?n[e]:null}function o(e,n,r){(function(e,t,n,i){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),En(e),Tn(e,n);var r=i?i(e):1;r!=e.height&&di(e,r)})(e,n,r,i),Li(e,"change",e,t)}function s(e,t){for(var n=e,o=[];t>n;++n)o.push(new So(u[n],r(n),i));return o}var a=t.from,l=t.to,u=t.text,c=ci(e,a.line),p=ci(e,l.line),f=zi(u),d=r(u.length-1),h=l.line-a.line;if(t.full)e.insert(0,s(0,u.length)),e.remove(u.length,e.size-u.length);else if(ri(e,t)){var m=s(0,u.length-1);o(p,p.text,d),h&&e.remove(a.line,h),m.length&&e.insert(a.line,m)}else if(c==p)if(1==u.length)o(c,c.text.slice(0,a.ch)+f+c.text.slice(l.ch),d);else{(m=s(1,u.length-1)).push(new So(f+c.text.slice(l.ch),d,i)),o(c,c.text.slice(0,a.ch)+u[0],r(0)),e.insert(a.line+1,m)}else if(1==u.length)o(c,c.text.slice(0,a.ch)+u[0]+p.text.slice(l.ch),r(0)),e.remove(a.line+1,h);else{o(c,c.text.slice(0,a.ch)+u[0],r(0)),o(p,f+p.text.slice(l.ch),d);m=s(1,u.length-1);h>1&&e.remove(a.line+1,h-1),e.insert(a.line+1,m)}Li(e,"change",e,t)}function si(e){this.lines=e,this.parent=null;for(var t=0,n=0;t<e.length;++t)e[t].parent=this,n+=e[t].height;this.height=n}function ai(e){this.children=e;for(var t=0,n=0,i=0;i<e.length;++i){var r=e[i];t+=r.chunkSize(),n+=r.height,r.parent=this}this.size=t,this.height=n,this.parent=null}function li(e,t,n){!function e(i,r,o){if(i.linked)for(var s=0;s<i.linked.length;++s){var a=i.linked[s];if(a.doc!=r){var l=o&&a.sharedHist;n&&!l||(t(a.doc,l),e(a.doc,i,l))}}}(e,null,!0)}function ui(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,o(e),n(e),e.options.lineWrapping||p(e),e.options.mode=t.modeOption,xt(e)}function ci(e,t){if(0>(t-=e.first)||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var i=0;;++i){var r=n.children[i],o=r.chunkSize();if(o>t){n=r;break}t-=o}return n.lines[t]}function pi(e,t,n){var i=[],r=t.line;return e.iter(t.line,n.line+1,function(e){var o=e.text;r==n.line&&(o=o.slice(0,n.ch)),r==t.line&&(o=o.slice(t.ch)),i.push(o),++r}),i}function fi(e,t,n){var i=[];return e.iter(t,n,function(e){i.push(e.text)}),i}function di(e,t){var n=t-e.height;if(n)for(var i=e;i;i=i.parent)i.height+=n}function hi(e){if(null==e.parent)return null;for(var t=e.parent,n=qi(t.lines,e),i=t.parent;i;t=i,i=i.parent)for(var r=0;i.children[r]!=t;++r)n+=i.children[r].chunkSize();return n+t.first}function mi(e,t){var n=e.first;e:do{for(var i=0;i<e.children.length;++i){var r=e.children[i],o=r.height;if(o>t){e=r;continue e}t-=o,n+=r.chunkSize()}return n}while(!e.lines);for(i=0;i<e.lines.length;++i){var s=e.lines[i].height;if(s>t)break;t-=s}return n+i}function gi(e){for(var t=0,n=(e=Dn(e)).parent,i=0;i<n.lines.length;++i){var r=n.lines[i];if(r==e)break;t+=r.height}for(var o=n.parent;o;o=(n=o).parent)for(i=0;i<o.children.length;++i){var s=o.children[i];if(s==n)break;t+=s.height}return t}function bi(e){var t=e.order;return null==t&&(t=e.order=ps(e.text)),t}function yi(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function vi(e,t){var n={from:H(t.from),to:no(t),text:pi(e,t.from,t.to)};return ki(e,n,t.from.line,t.to.line+1),li(e,function(e){ki(e,n,t.from.line,t.to.line+1)},!0),n}function _i(e){for(;e.length;){if(!zi(e).ranges)break;e.pop()}}function xi(e,t,n,i){var r=e.history;r.undone.length=0;var o,s=+new Date;if((r.lastOp==i||r.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&r.lastModTime>s-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(o=function(e,t){return t?(_i(e.done),zi(e.done)):e.done.length&&!zi(e.done).ranges?zi(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),zi(e.done)):void 0}(r,r.lastOp==i))){var a=zi(o.changes);0==qr(t.from,t.to)&&0==qr(t.from,a.to)?a.to=no(t):o.changes.push(vi(e,t))}else{var l=zi(r.done);for(l&&l.ranges||wi(e.sel,r.done),o={changes:[vi(e,t)],generation:r.generation},r.done.push(o);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(n),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=s,r.lastOp=r.lastSelOp=i,r.lastOrigin=r.lastSelOrigin=t.origin,a||Fo(e,"historyAdded")}function wi(e,t){var n=zi(t);n&&n.ranges&&n.equals(e)||t.push(e)}function ki(e,t,n,i){var r=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,i),function(n){n.markedSpans&&((r||(r=t["spans_"+e.id]={}))[o]=n.markedSpans),++o})}function Si(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function Ci(e,t,n){for(var i=0,r=[];i<e.length;++i){var o=e[i];if(o.ranges)r.push(n?oe.prototype.deepCopy.call(o):o);else{var s=o.changes,a=[];r.push({changes:a});for(var l=0;l<s.length;++l){var u,c=s[l];if(a.push({from:c.from,to:c.to,text:c.text}),t)for(var p in c)(u=p.match(/^spans_(\d+)$/))&&qi(t,Number(u[1]))>-1&&(zi(a)[p]=c[p],delete c[p])}}}return r}function Ei(e,t,n,i){n<e.line?e.line+=i:t<e.line&&(e.line=t,e.ch=0)}function Ti(e,t,n,i){for(var r=0;r<e.length;++r){var o=e[r],s=!0;if(o.ranges){o.copied||((o=e[r]=o.deepCopy()).copied=!0);for(var a=0;a<o.ranges.length;a++)Ei(o.ranges[a].anchor,t,n,i),Ei(o.ranges[a].head,t,n,i)}else{for(a=0;a<o.changes.length;++a){var l=o.changes[a];if(n<l.from.line)l.from=zr(l.from.line+i,l.from.ch),l.to=zr(l.to.line+i,l.to.ch);else if(t<=l.to.line){s=!1;break}}s||(e.splice(0,r+1),r=0)}}}function Ai(e,t){var n=t.from.line,i=t.to.line,r=t.text.length-(i-n)-1;Ti(e.done,n,i,r),Ti(e.undone,n,i,r)}function Ni(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Mi(e){return e.target||e.srcElement}function Ri(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),Lr&&e.ctrlKey&&1==t&&(t=3),t}function Oi(e,t,n){var i=e._handlers&&e._handlers[t];return n?i&&i.length>0?i.slice():Do:i||Do}function Li(e,t){function n(e){return function(){e.apply(null,o)}}var i=Oi(e,t,!1);if(i.length){var r,o=Array.prototype.slice.call(arguments,2);Kr?r=Kr.delayedCallbacks:$o?r=$o:(r=$o=[],setTimeout(Pi,0));for(var s=0;s<i.length;++s)r.push(n(i[s]))}}function Pi(){var e=$o;$o=null;for(var t=0;t<e.length;++t)e[t]()}function Di(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),Fo(e,n||t.type,e,t),Ni(t)||t.codemirrorIgnore}function Ii(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),i=0;i<t.length;++i)-1==qi(n,t[i])&&n.push(t[i])}function Fi(e,t){return Oi(e,t).length>0}function $i(e){e.prototype.on=function(e,t){Po(this,e,t)},e.prototype.off=function(e,t){Io(this,e,t)}}function ji(){this.id=null}function Bi(e){for(;Vo.length<=e;)Vo.push(zi(Vo)+" ");return Vo[e]}function zi(e){return e[e.length-1]}function qi(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}function Hi(e,t){for(var n=[],i=0;i<e.length;i++)n[i]=t(e[i],i);return n}function Ui(){}function Wi(e,t){var n;return Object.create?n=Object.create(e):(Ui.prototype=e,n=new Ui),t&&Vi(t,n),n}function Vi(e,t,n){for(var i in t||(t={}),e)!e.hasOwnProperty(i)||!1===n&&t.hasOwnProperty(i)||(t[i]=e[i]);return t}function Gi(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function Ki(e,t){return t?!!(t.source.indexOf("\\w")>-1&&Xo(e))||t.test(e):Xo(e)}function Yi(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function Xi(e){return e.charCodeAt(0)>=768&&Qo.test(e)}function Qi(e,t,n,i){var r=document.createElement(e);if(n&&(r.className=n),i&&(r.style.cssText=i),"string"==typeof t)r.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)r.appendChild(t[o]);return r}function Zi(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function Ji(e,t){return Zi(e).appendChild(t)}function er(){for(var e=document.activeElement;e&&e.root&&e.root.activeElement;)e=e.root.activeElement;return e}function tr(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function nr(e,t){for(var n=e.split(" "),i=0;i<n.length;i++)n[i]&&!tr(n[i]).test(t)&&(t+=" "+n[i]);return t}function ir(e){if(document.body.getElementsByClassName)for(var t=document.body.getElementsByClassName("CodeMirror"),n=0;n<t.length;n++){var i=t[n].CodeMirror;i&&e(i)}}function rr(e){if(null==Jo){var t=Qi("span","​");Ji(e,Qi("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Jo=t.offsetWidth<=1&&t.offsetHeight>2&&!(wr&&8>kr))}var n=Jo?Qi("span","​"):Qi("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function or(e){if(null!=es)return es;var t=Ji(e,document.createTextNode("AخA")),n=Ko(t,0,1).getBoundingClientRect();if(!n||n.left==n.right)return!1;var i=Ko(t,1,2).getBoundingClientRect();return es=i.right-n.right<3}function sr(e){return e.level%2?e.to:e.from}function ar(e){return e.level%2?e.from:e.to}function lr(e){var t=bi(e);return t?sr(t[0]):0}function ur(e){var t=bi(e);return t?ar(zi(t)):e.text.length}function cr(e,t){var n=ci(e.doc,t),i=Dn(n);i!=n&&(t=hi(i));var r=bi(i),o=r?r[0].level%2?ur(i):lr(i):0;return zr(t,o)}function pr(e,t){var n=cr(e,t.line),i=ci(e.doc,n.line),r=bi(i);if(!r||0==r[0].level){var o=Math.max(0,i.text.search(/\S/)),s=t.line==n.line&&t.ch<=o&&t.ch;return zr(n.line,s?0:o)}return n}function fr(e,t,n){var i=e[0].level;return t==i||n!=i&&n>t}function dr(e,t){cs=null;for(var n,i=0;i<e.length;++i){var r=e[i];if(r.from<t&&r.to>t)return i;if(r.from==t||r.to==t){if(null!=n)return fr(e,r.level,e[n].level)?(r.from!=r.to&&(cs=n),i):(r.from!=r.to&&(cs=i),n);n=i}}return n}function hr(e,t,n,i){if(!i)return t+n;do{t+=n}while(t>0&&Xi(e.text.charAt(t)));return t}function mr(e,t,n,i){var r=bi(e);if(!r)return gr(e,t,n,i);for(var o=dr(r,t),s=r[o],a=hr(e,t,s.level%2?-n:n,i);;){if(a>s.from&&a<s.to)return a;if(a==s.from||a==s.to)return dr(r,a)==o?a:n>0==(s=r[o+=n]).level%2?s.to:s.from;if(!(s=r[o+=n]))return null;a=n>0==s.level%2?hr(e,s.to,-1,i):hr(e,s.from,1,i)}}function gr(e,t,n,i){var r=t+n;if(i)for(;r>0&&Xi(e.text.charAt(r));)r+=n;return 0>r||r>e.text.length?null:r}var br=navigator.userAgent,yr=navigator.platform,vr=/gecko\/\d/i.test(br),_r=/MSIE \d/.test(br),xr=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(br),wr=_r||xr,kr=wr&&(_r?document.documentMode||6:xr[1]),Sr=/WebKit\//.test(br),Cr=Sr&&/Qt\/\d+\.\d+/.test(br),Er=/Chrome\//.test(br),Tr=/Opera\//.test(br),Ar=/Apple Computer/.test(navigator.vendor),Nr=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(br),Mr=/PhantomJS/.test(br),Rr=/AppleWebKit/.test(br)&&/Mobile\/\w+/.test(br),Or=Rr||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(br),Lr=Rr||/Mac/.test(yr),Pr=/\bCrOS\b/.test(br),Dr=/win/i.test(yr),Ir=Tr&&br.match(/Version\/(\d*\.\d*)/);Ir&&(Ir=Number(Ir[1])),Ir&&Ir>=15&&(Tr=!1,Sr=!0);var Fr=Lr&&(Cr||Tr&&(null==Ir||12.11>Ir)),$r=vr||wr&&kr>=9,jr=!1,Br=!1;h.prototype=Vi({update:function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,i=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?i+"px":"0";var r=e.viewHeight-(t?i:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+r)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?i+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?i:0);this.horiz.firstChild.style.width=e.scrollWidth-e.clientWidth+o+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==i&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?i:0,bottom:t?i:0}},setScrollLeft:function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz)},setScrollTop:function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert)},zeroWidthHack:function(){var e=Lr&&!Nr?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new ji,this.disableVert=new ji},enableZeroWidthBar:function(e,t){e.style.pointerEvents="auto",t.set(1e3,function n(){var i=e.getBoundingClientRect();document.elementFromPoint(i.left+1,i.bottom-1)!=e?e.style.pointerEvents="none":t.set(1e3,n)})},clear:function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)}},h.prototype),m.prototype=Vi({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},m.prototype),e.scrollbarModel={native:h,null:m},S.prototype.signal=function(e,t){Fi(e,t)&&this.events.push(arguments)},S.prototype.finish=function(){for(var e=0;e<this.events.length;e++)Fo.apply(null,this.events[e])};var zr=e.Pos=function(e,t){return this instanceof zr?(this.line=e,void(this.ch=t)):new zr(e,t)},qr=e.cmpPos=function(e,t){return e.line-t.line||e.ch-t.ch},Hr=null;Z.prototype=Vi({init:function(e){function t(e){if(!Di(i,e)){if(i.somethingSelected())Hr={lineWise:!1,text:i.getSelections()},n.inaccurateSelection&&(n.prevInput="",n.inaccurateSelection=!1,o.value=Hr.text.join("\n"),Go(o));else{if(!i.options.lineWiseCopyCut)return;var t=X(i);Hr={lineWise:!0,text:t.text},"cut"==e.type?i.setSelections(t.ranges,null,zo):(n.prevInput="",o.value=t.text.join("\n"),Go(o))}"cut"==e.type&&(i.state.cutIncoming=!0)}}var n=this,i=this.cm,r=this.wrapper=J(),o=this.textarea=r.firstChild;e.wrapper.insertBefore(r,e.wrapper.firstChild),Rr&&(o.style.width="0px"),Po(o,"input",function(){wr&&kr>=9&&n.hasSelection&&(n.hasSelection=null),n.poll()}),Po(o,"paste",function(e){Di(i,e)||K(e,i)||(i.state.pasteIncoming=!0,n.fastPoll())}),Po(o,"cut",t),Po(o,"copy",t),Po(e.scroller,"paste",function(t){At(e,t)||Di(i,t)||(i.state.pasteIncoming=!0,n.focus())}),Po(e.lineSpace,"selectstart",function(t){At(e,t)||Ro(t)}),Po(o,"compositionstart",function(){var e=i.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:i.markText(e,i.getCursor("to"),{className:"CodeMirror-composing"})}}),Po(o,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},prepareSelection:function(){var e=this.cm,t=e.display,n=e.doc,i=Ae(e);if(e.options.moveInputWithCursor){var r=tt(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),s=t.lineDiv.getBoundingClientRect();i.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,r.top+s.top-o.top)),i.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,r.left+s.left-o.left))}return i},showSelection:function(e){var t=this.cm.display;Ji(t.cursorDiv,e.cursors),Ji(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},reset:function(e){if(!this.contextMenuPending){var t,n,i=this.cm,r=i.doc;if(i.somethingSelected()){this.prevInput="";var o=r.sel.primary(),s=(t=as&&(o.to().line-o.from().line>100||(n=i.getSelection()).length>1e3))?"-":n||i.getSelection();this.textarea.value=s,i.state.focused&&Go(this.textarea),wr&&kr>=9&&(this.hasSelection=s)}else e||(this.prevInput=this.textarea.value="",wr&&kr>=9&&(this.hasSelection=null));this.inaccurateSelection=t}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!Or||er()!=this.textarea))try{this.textarea.focus()}catch(e){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var e=this;e.pollingFast||e.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},fastPoll:function(){var e=!1,t=this;t.pollingFast=!0,t.polling.set(20,function n(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,n))})},poll:function(){var e=this.cm,t=this.textarea,n=this.prevInput;if(this.contextMenuPending||!e.state.focused||ss(t)&&!n&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var i=t.value;if(i==n&&!e.somethingSelected())return!1;if(wr&&kr>=9&&this.hasSelection===i||Lr&&/[\uf700-\uf7ff]/.test(i))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var r=i.charCodeAt(0);if(8203!=r||n||(n="​"),8666==r)return this.reset(),this.cm.execCommand("undo")}for(var o=0,s=Math.min(n.length,i.length);s>o&&n.charCodeAt(o)==i.charCodeAt(o);)++o;var a=this;return mt(e,function(){G(e,i.slice(o),n.length-o,null,a.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?t.value=a.prevInput="":a.prevInput=i,a.composing&&(a.composing.range.clear(),a.composing.range=e.markText(a.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){wr&&kr>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(e){function t(){if(null!=s.selectionStart){var e=r.somethingSelected(),t="​"+(e?s.value:"");s.value="⇚",s.value=t,i.prevInput=e?"":"​",s.selectionStart=1,s.selectionEnd=t.length,o.selForContextMenu=r.doc.sel}}function n(){if(i.contextMenuPending=!1,i.wrapper.style.cssText=c,s.style.cssText=u,wr&&9>kr&&o.scrollbars.setScrollTop(o.scroller.scrollTop=l),null!=s.selectionStart){(!wr||wr&&9>kr)&&t();var e=0,n=function(){o.selForContextMenu==r.doc.sel&&0==s.selectionStart&&s.selectionEnd>0&&"​"==i.prevInput?gt(r,ho.selectAll)(r):e++<10?o.detectingSelectAll=setTimeout(n,500):o.input.reset()};o.detectingSelectAll=setTimeout(n,200)}}var i=this,r=i.cm,o=r.display,s=i.textarea,a=Nt(r,e),l=o.scroller.scrollTop;if(a&&!Tr){r.options.resetSelectionOnContextMenu&&-1==r.doc.sel.contains(a)&&gt(r,ve)(r.doc,le(a),zo);var u=s.style.cssText,c=i.wrapper.style.cssText;i.wrapper.style.cssText="position: absolute";var p=i.wrapper.getBoundingClientRect();if(s.style.cssText="position: absolute; width: 30px; height: 30px; top: "+(e.clientY-p.top-5)+"px; left: "+(e.clientX-p.left-5)+"px; z-index: 1000; background: "+(wr?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",Sr)var f=window.scrollY;if(o.input.focus(),Sr&&window.scrollTo(null,f),o.input.reset(),r.somethingSelected()||(s.value=i.prevInput=" "),i.contextMenuPending=!0,o.selForContextMenu=r.doc.sel,clearTimeout(o.detectingSelectAll),wr&&kr>=9&&t(),$r){Lo(e);var d=function(){Io(window,"mouseup",d),setTimeout(n,20)};Po(window,"mouseup",d)}else setTimeout(n,50)}},readOnlyChanged:function(e){e||this.reset()},setUneditable:Ui,needsContentAttribute:!1},Z.prototype),ee.prototype=Vi({init:function(e){function t(e){if(!Di(i,e)){if(i.somethingSelected())Hr={lineWise:!1,text:i.getSelections()},"cut"==e.type&&i.replaceSelection("",null,"cut");else{if(!i.options.lineWiseCopyCut)return;var t=X(i);Hr={lineWise:!0,text:t.text},"cut"==e.type&&i.operation(function(){i.setSelections(t.ranges,0,zo),i.replaceSelection("",null,"cut")})}if(e.clipboardData&&!Rr)e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData("text/plain",Hr.text.join("\n"));else{var n=J(),r=n.firstChild;i.display.lineSpace.insertBefore(n,i.display.lineSpace.firstChild),r.value=Hr.text.join("\n");var o=document.activeElement;Go(r),setTimeout(function(){i.display.lineSpace.removeChild(n),o.focus()},50)}}}var n=this,i=n.cm,r=n.div=e.lineDiv;Q(r),Po(r,"paste",function(e){Di(i,e)||K(e,i)}),Po(r,"compositionstart",function(e){var t=e.data;if(n.composing={sel:i.doc.sel,data:t,startData:t},t){var r=i.doc.sel.primary(),o=i.getLine(r.head.line).indexOf(t,Math.max(0,r.head.ch-t.length));o>-1&&o<=r.head.ch&&(n.composing.sel=le(zr(r.head.line,o),zr(r.head.line,o+t.length)))}}),Po(r,"compositionupdate",function(e){n.composing.data=e.data}),Po(r,"compositionend",function(e){var t=n.composing;t&&(e.data==t.startData||/\u200b/.test(e.data)||(t.data=e.data),setTimeout(function(){t.handled||n.applyComposition(t),n.composing==t&&(n.composing=null)},50))}),Po(r,"touchstart",function(){n.forceCompositionEnd()}),Po(r,"input",function(){n.composing||!i.isReadOnly()&&n.pollContent()||mt(n.cm,function(){xt(i)})}),Po(r,"copy",t),Po(r,"cut",t)},prepareSelection:function(){var e=Ae(this.cm,!1);return e.focus=this.cm.state.focused,e},showSelection:function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},showPrimarySelection:function(){var e=window.getSelection(),t=this.cm.doc.sel.primary(),n=ie(this.cm,e.anchorNode,e.anchorOffset),i=ie(this.cm,e.focusNode,e.focusOffset);if(!n||n.bad||!i||i.bad||0!=qr(W(n,i),t.from())||0!=qr(U(n,i),t.to())){var r=te(this.cm,t.from()),o=te(this.cm,t.to());if(r||o){var s=this.cm.display.view,a=e.rangeCount&&e.getRangeAt(0);if(r){if(!o){var l=s[s.length-1].measure,u=l.maps?l.maps[l.maps.length-1]:l.map;o={node:u[u.length-1],offset:u[u.length-2]-u[u.length-3]}}}else r={node:s[0].measure.map[2],offset:0};try{var c=Ko(r.node,r.offset,o.offset,o.node)}catch(e){}c&&(!vr&&this.cm.state.focused?(e.collapse(r.node,r.offset),c.collapsed||e.addRange(c)):(e.removeAllRanges(),e.addRange(c)),a&&null==e.anchorNode?e.addRange(a):vr&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){e.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(e){Ji(this.cm.display.cursorDiv,e.cursors),Ji(this.cm.display.selectionDiv,e.selection)},rememberSelection:function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},selectionInEditor:function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return Zo(this.div,t)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){var e=this;this.selectionInEditor()?this.pollSelection():mt(this.cm,function(){e.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))})},selectionChanged:function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;this.rememberSelection();var n=ie(t,e.anchorNode,e.anchorOffset),i=ie(t,e.focusNode,e.focusOffset);n&&i&&mt(t,function(){ve(t.doc,le(n,i),zo),(n.bad||i.bad)&&(t.curOp.selectionChanged=!0)})}},pollContent:function(){var e,t=this.cm,n=t.display,i=t.doc.sel.primary(),r=i.from(),o=i.to();if(r.line<n.viewFrom||o.line>n.viewTo-1)return!1;if(r.line==n.viewFrom||0==(e=St(t,r.line)))var s=hi(n.view[0].line),a=n.view[0].node;else s=hi(n.view[e].line),a=n.view[e-1].node.nextSibling;var l=St(t,o.line);if(l==n.view.length-1)var u=n.viewTo-1,c=n.lineDiv.lastChild;else u=hi(n.view[l+1].line)-1,c=n.view[l+1].node.previousSibling;for(var p=t.doc.splitLines(function(e,t,n,i,r){function o(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(null!=n)return""==n&&(n=t.textContent.replace(/\u200b/g,"")),void(s+=n);var u,c=t.getAttribute("cm-marker");if(c){var p=e.findMarks(zr(i,0),zr(r+1,0),function(e){return function(t){return t.id==e}}(+c));return void(p.length&&(u=p[0].find())&&(s+=pi(e.doc,u.from,u.to).join(l)))}if("false"==t.getAttribute("contenteditable"))return;for(var f=0;f<t.childNodes.length;f++)o(t.childNodes[f]);/^(pre|div|p)$/i.test(t.nodeName)&&(a=!0)}else if(3==t.nodeType){var d=t.nodeValue;if(!d)return;a&&(s+=l,a=!1),s+=d}}for(var s="",a=!1,l=e.doc.lineSeparator();o(t),t!=n;)t=t.nextSibling;return s}(t,a,c,s,u)),f=pi(t.doc,zr(s,0),zr(u,ci(t.doc,u).text.length));p.length>1&&f.length>1;)if(zi(p)==zi(f))p.pop(),f.pop(),u--;else{if(p[0]!=f[0])break;p.shift(),f.shift(),s++}for(var d=0,h=0,m=p[0],g=f[0],b=Math.min(m.length,g.length);b>d&&m.charCodeAt(d)==g.charCodeAt(d);)++d;for(var y=zi(p),v=zi(f),_=Math.min(y.length-(1==p.length?d:0),v.length-(1==f.length?d:0));_>h&&y.charCodeAt(y.length-h-1)==v.charCodeAt(v.length-h-1);)++h;p[p.length-1]=y.slice(0,y.length-h),p[0]=p[0].slice(d);var x=zr(s,d),w=zr(u,f.length?zi(f).length-h:0);return p.length>1||p[0]||qr(x,w)?(rn(t.doc,p,x,w,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(e){this.cm.isReadOnly()?gt(this.cm,xt)(this.cm):e.data&&e.data!=e.startData&&gt(this.cm,G)(this.cm,e.data,0,e.sel)},setUneditable:function(e){e.contentEditable="false"},onKeyPress:function(e){e.preventDefault(),this.cm.isReadOnly()||gt(this.cm,G)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0)},readOnlyChanged:function(e){this.div.contentEditable=String("nocursor"!=e)},onContextMenu:Ui,resetPosition:Ui,needsContentAttribute:!0},ee.prototype),e.inputStyles={textarea:Z,contenteditable:ee},oe.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],i=e.ranges[t];if(0!=qr(n.anchor,i.anchor)||0!=qr(n.head,i.head))return!1}return!0},deepCopy:function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new se(H(this.ranges[t].anchor),H(this.ranges[t].head));return new oe(e,this.primIndex)},somethingSelected:function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},contains:function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var i=this.ranges[n];if(qr(t,i.from())>=0&&qr(e,i.to())<=0)return n}return-1}},se.prototype={from:function(){return W(this.anchor,this.head)},to:function(){return U(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var Ur,Wr,Vr,Gr={left:0,right:0,top:0,bottom:0},Kr=null,Yr=0,Xr=0,Qr=0,Zr=null;wr?Zr=-.53:vr?Zr=15:Er?Zr=-.7:Ar&&(Zr=-1/3);var Jr=function(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}};e.wheelEventPixels=function(e){var t=Jr(e);return t.x*=Zr,t.y*=Zr,t};var eo=new ji,to=null,no=e.changeEnd=function(e){return e.text?zr(e.from.line+e.text.length-1,zi(e.text).length+(1==e.text.length?e.from.ch:0)):e.to};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,t){var n=this.options,i=n[e];n[e]==t&&"mode"!=e||(n[e]=t,ro.hasOwnProperty(e)&&gt(this,ro[e])(this,t,i))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](gn(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:bt(function(t,n){var i=t.token?t:e.getMode(this.options,t);if(i.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:i,modeSpec:t,opaque:n&&n.opaque}),this.state.modeGen++,xt(this)}),removeOverlay:bt(function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var i=t[n].modeSpec;if(i==e||"string"==typeof e&&i.name==e)return t.splice(n,1),this.state.modeGen++,void xt(this)}}),indentLine:bt(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),pe(this.doc,e)&&un(this,e,t,n)}),indentSelection:bt(function(e){for(var t=this.doc.sel.ranges,n=-1,i=0;i<t.length;i++){var r=t[i];if(r.empty())r.head.line>n&&(un(this,r.head.line,e,!0),n=r.head.line,i==this.doc.sel.primIndex&&an(this));else{var o=r.from(),s=r.to(),a=Math.max(n,o.line);n=Math.min(this.lastLine(),s.line-(s.ch?0:1))+1;for(var l=a;n>l;++l)un(this,l,e);var u=this.doc.sel.ranges;0==o.ch&&t.length==u.length&&u[i].from().ch>0&&ge(this.doc,i,new se(o,u[i].to()),zo)}}}),getTokenAt:function(e,t){return Vn(this,e,t)},getLineTokens:function(e,t){return Vn(this,zr(e),t,!0)},getTokenTypeAt:function(e){e=ce(this.doc,e);var t,n=Yn(this,ci(this.doc,e.line)),i=0,r=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var s=i+r>>1;if((s?n[2*s-1]:0)>=o)r=s;else{if(!(n[2*s+1]<o)){t=n[2*s+2];break}i=s+1}}var a=t?t.indexOf("cm-overlay "):-1;return 0>a?t:0==a?null:t.slice(0,a-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!co.hasOwnProperty(t))return n;var i=co[t],r=this.getModeAt(e);if("string"==typeof r[t])i[r[t]]&&n.push(i[r[t]]);else if(r[t])for(var o=0;o<r[t].length;o++){var s=i[r[t][o]];s&&n.push(s)}else r.helperType&&i[r.helperType]?n.push(i[r.helperType]):i[r.name]&&n.push(i[r.name]);for(o=0;o<i._global.length;o++){var a=i._global[o];a.pred(r,this)&&-1==qi(n,a.val)&&n.push(a.val)}return n},getStateAfter:function(e,t){var n=this.doc;return Pe(this,(e=ue(n,null==e?n.first+n.size-1:e))+1,t)},cursorCoords:function(e,t){var n=this.doc.sel.primary();return tt(this,null==e?n.head:"object"==typeof e?ce(this.doc,e):e?n.from():n.to(),t||"page")},charCoords:function(e,t){return et(this,ce(this.doc,e),t||"page")},coordsChar:function(e,t){return rt(this,(e=Je(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=Je(this,{top:e,left:0},t||"page").top,mi(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t){var n,i=!1;if("number"==typeof e){var r=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>r&&(e=r,i=!0),n=ci(this.doc,e)}else n=e;return Ze(this,n,{top:0,left:0},t||"page").top+(i?this.doc.height-gi(n):0)},defaultTextHeight:function(){return st(this.display)},defaultCharWidth:function(){return at(this.display)},setGutterMarker:bt(function(e,t,n){return cn(this.doc,e,"gutter",function(e){var i=e.gutterMarkers||(e.gutterMarkers={});return i[t]=n,!n&&Yi(i)&&(e.gutterMarkers=null),!0})}),clearGutter:bt(function(e){var t=this,n=t.doc,i=n.first;n.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&(n.gutterMarkers[e]=null,wt(t,i,"gutter"),Yi(n.gutterMarkers)&&(n.gutterMarkers=null)),++i})}),lineInfo:function(e){if("number"==typeof e){if(!pe(this.doc,e))return null;var t=e;if(!(e=ci(this.doc,e)))return null}else{if(null==(t=hi(e)))return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,i,r){var o=this.display,s=(e=tt(this,ce(this.doc,e))).bottom,a=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==i)s=e.top;else if("above"==i||"near"==i){var l=Math.max(o.wrapper.clientHeight,this.doc.height),u=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==i||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?s=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(s=e.bottom),a+t.offsetWidth>u&&(a=u-t.offsetWidth)}t.style.top=s+"px",t.style.left=t.style.right="","right"==r?(a=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==r?a=0:"middle"==r&&(a=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=a+"px"),n&&function(e,t,n,i,r){var o=on(e,t,n,i,r);null!=o.scrollTop&&Dt(e,o.scrollTop),null!=o.scrollLeft&&It(e,o.scrollLeft)}(this,a,s,a+t.offsetWidth,s+t.offsetHeight)},triggerOnKeyDown:bt(zt),triggerOnKeyPress:bt(Ht),triggerOnKeyUp:qt,execCommand:function(e){return ho.hasOwnProperty(e)?ho[e].call(null,this):void 0},triggerElectric:bt(function(e){Y(this,e)}),findPosH:function(e,t,n,i){var r=1;0>t&&(r=-1,t=-t);for(var o=0,s=ce(this.doc,e);t>o&&!(s=fn(this.doc,s,r,n,i)).hitSide;++o);return s},moveH:bt(function(e,t){var n=this;n.extendSelectionsBy(function(i){return n.display.shift||n.doc.extend||i.empty()?fn(n.doc,i.head,e,t,n.options.rtlMoveVisually):0>e?i.from():i.to()},Ho)}),deleteH:bt(function(e,t){var n=this.doc.sel,i=this.doc;n.somethingSelected()?i.replaceSelection("",null,"+delete"):pn(this,function(n){var r=fn(i,n.head,e,t,!1);return 0>e?{from:r,to:n.head}:{from:n.head,to:r}})}),findPosV:function(e,t,n,i){var r=1,o=i;0>t&&(r=-1,t=-t);for(var s=0,a=ce(this.doc,e);t>s;++s){var l=tt(this,a,"div");if(null==o?o=l.left:l.left=o,(a=dn(this,l,r,n)).hitSide)break}return a},moveV:bt(function(e,t){var n=this,i=this.doc,r=[],o=!n.display.shift&&!i.extend&&i.sel.somethingSelected();if(i.extendSelectionsBy(function(s){if(o)return 0>e?s.from():s.to();var a=tt(n,s.head,"div");null!=s.goalColumn&&(a.left=s.goalColumn),r.push(a.left);var l=dn(n,a,e,t);return"page"==t&&s==i.sel.primary()&&sn(n,null,et(n,l,"div").top-a.top),l},Ho),r.length)for(var s=0;s<i.sel.ranges.length;s++)i.sel.ranges[s].goalColumn=r[s]}),findWordAt:function(e){var t=ci(this.doc,e.line).text,n=e.ch,i=e.ch;if(t){var r=this.getHelper(e,"wordChars");(e.xRel<0||i==t.length)&&n?--n:++i;for(var o=t.charAt(n),s=Ki(o,r)?function(e){return Ki(e,r)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!Ki(e)};n>0&&s(t.charAt(n-1));)--n;for(;i<t.length&&s(t.charAt(i));)++i}return new se(zr(e.line,n),zr(e.line,i))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?ns(this.display.cursorDiv,"CodeMirror-overwrite"):ts(this.display.cursorDiv,"CodeMirror-overwrite"),Fo(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==er()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:bt(function(e,t){null==e&&null==t||ln(this),null!=e&&(this.curOp.scrollLeft=e),null!=t&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-$e(this)-this.display.barHeight,width:e.scrollWidth-$e(this)-this.display.barWidth,clientHeight:Be(this),clientWidth:je(this)}},scrollIntoView:bt(function(e,t){if(null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:zr(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line)ln(this),this.curOp.scrollToPos=e;else{var n=on(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin);this.scrollTo(n.scrollLeft,n.scrollTop)}}),setSize:bt(function(e,t){function n(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}var i=this;null!=e&&(i.display.wrapper.style.width=n(e)),null!=t&&(i.display.wrapper.style.height=n(t)),i.options.lineWrapping&&Ke(this);var r=i.display.viewFrom;i.doc.iter(r,i.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){wt(i,r,"widget");break}++r}),i.curOp.forceUpdate=!0,Fo(i,"refresh",this)}),operation:function(e){return mt(this,e)},refresh:bt(function(){var e=this.display.cachedTextHeight;xt(this),this.curOp.forceUpdate=!0,Ye(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),u(this),(null==e||Math.abs(e-st(this.display))>.5)&&o(this),Fo(this,"refresh",this)}),swapDoc:bt(function(e){var t=this.doc;return t.cm=null,ui(this,e),Ye(this),this.display.input.reset(),this.scrollTo(e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,Li(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},$i(e);var io=e.defaults={},ro=e.optionHandlers={},oo=e.Init={toString:function(){return"CodeMirror.Init"}};hn("value","",function(e,t){e.setValue(t)},!0),hn("mode",null,function(e,t){e.doc.modeOption=t,n(e)},!0),hn("indentUnit",2,n,!0),hn("indentWithTabs",!1),hn("smartIndent",!0),hn("tabSize",4,function(e){i(e),Ye(e),xt(e)},!0),hn("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var n=[],i=e.doc.first;e.doc.iter(function(e){for(var r=0;;){var o=e.text.indexOf(t,r);if(-1==o)break;r=o+t.length,n.push(zr(i,o))}i++});for(var r=n.length-1;r>=0;r--)rn(e.doc,t,n[r],zr(n[r].line,n[r].ch+t.length))}}),hn("specialChars",/[\u0000-\u001f\u007f\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(t,n,i){t.state.specialChars=new RegExp(n.source+(n.test("\t")?"":"|\t"),"g"),i!=e.Init&&t.refresh()}),hn("specialCharPlaceholder",function(e){var t=Qi("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t},function(e){e.refresh()},!0),hn("electricChars",!0),hn("inputStyle",Or?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),hn("rtlMoveVisually",!Dr),hn("wholeLineUpdateBefore",!0),hn("theme","default",function(e){s(e),a(e)},!0),hn("keyMap","default",function(t,n,i){var r=gn(n),o=i!=e.Init&&gn(i);o&&o.detach&&o.detach(t,r),r.attach&&r.attach(t,o||null)}),hn("extraKeys",null),hn("lineWrapping",!1,function(e){e.options.lineWrapping?(ns(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(ts(e.display.wrapper,"CodeMirror-wrap"),p(e)),o(e),xt(e),Ye(e),setTimeout(function(){b(e)},100)},!0),hn("gutters",[],function(e){f(e.options),a(e)},!0),hn("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?k(e.display)+"px":"0",e.refresh()},!0),hn("coverGutterNextToScrollbar",!1,function(e){b(e)},!0),hn("scrollbarStyle","native",function(e){g(e),b(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),hn("lineNumbers",!1,function(e){f(e.options),a(e)},!0),hn("firstLineNumber",1,a,!0),hn("lineNumberFormatter",function(e){return e},a,!0),hn("showCursorWhenSelecting",!1,Te,!0),hn("resetSelectionOnContextMenu",!0),hn("lineWiseCopyCut",!0),hn("readOnly",!1,function(e,t){"nocursor"==t?(Wt(e),e.display.input.blur(),e.display.disabled=!0):e.display.disabled=!1,e.display.input.readOnlyChanged(t)}),hn("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),hn("dragDrop",!0,function(t,n,i){if(!n!=!(i&&i!=e.Init)){var r=t.display.dragFunctions,o=n?Po:Io;o(t.display.scroller,"dragstart",r.start),o(t.display.scroller,"dragenter",r.enter),o(t.display.scroller,"dragover",r.over),o(t.display.scroller,"dragleave",r.leave),o(t.display.scroller,"drop",r.drop)}}),hn("allowDropFileTypes",null),hn("cursorBlinkRate",530),hn("cursorScrollMargin",0),hn("cursorHeight",1,Te,!0),hn("singleCursorHeightPerLine",!0,Te,!0),hn("workTime",100),hn("workDelay",100),hn("flattenSpans",!0,i,!0),hn("addModeClass",!1,i,!0),hn("pollInterval",100),hn("undoDepth",200,function(e,t){e.doc.history.undoDepth=t}),hn("historyEventDelay",1250),hn("viewportMargin",10,function(e){e.refresh()},!0),hn("maxHighlightLength",1e4,i,!0),hn("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),hn("tabindex",null,function(e,t){e.display.input.getField().tabIndex=t||""}),hn("autofocus",null);var so=e.modes={},ao=e.mimeModes={};e.defineMode=function(t,n){e.defaults.mode||"null"==t||(e.defaults.mode=t),arguments.length>2&&(n.dependencies=Array.prototype.slice.call(arguments,2)),so[t]=n},e.defineMIME=function(e,t){ao[e]=t},e.resolveMode=function(t){if("string"==typeof t&&ao.hasOwnProperty(t))t=ao[t];else if(t&&"string"==typeof t.name&&ao.hasOwnProperty(t.name)){var n=ao[t.name];"string"==typeof n&&(n={name:n}),(t=Wi(n,t)).name=n.name}else if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return e.resolveMode("application/xml");return"string"==typeof t?{name:t}:t||{name:"null"}},e.getMode=function(t,n){n=e.resolveMode(n);var i=so[n.name];if(!i)return e.getMode(t,"text/plain");var r=i(t,n);if(lo.hasOwnProperty(n.name)){var o=lo[n.name];for(var s in o)o.hasOwnProperty(s)&&(r.hasOwnProperty(s)&&(r["_"+s]=r[s]),r[s]=o[s])}if(r.name=n.name,n.helperType&&(r.helperType=n.helperType),n.modeProps)for(var s in n.modeProps)r[s]=n.modeProps[s];return r},e.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),e.defineMIME("text/plain","null");var lo=e.modeExtensions={};e.extendMode=function(e,t){Vi(t,lo.hasOwnProperty(e)?lo[e]:lo[e]={})},e.defineExtension=function(t,n){e.prototype[t]=n},e.defineDocExtension=function(e,t){Ao.prototype[e]=t},e.defineOption=hn;var uo=[];e.defineInitHook=function(e){uo.push(e)};var co=e.helpers={};e.registerHelper=function(t,n,i){co.hasOwnProperty(t)||(co[t]=e[t]={_global:[]}),co[t][n]=i},e.registerGlobalHelper=function(t,n,i,r){e.registerHelper(t,n,r),co[t]._global.push({pred:i,val:r})};var po=e.copyState=function(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var i in t){var r=t[i];r instanceof Array&&(r=r.concat([])),n[i]=r}return n},fo=e.startState=function(e,t,n){return!e.startState||e.startState(t,n)};e.innerMode=function(e,t){for(;e.innerMode;){var n=e.innerMode(t);if(!n||n.mode==e)break;t=n.state,e=n.mode}return n||{mode:e,state:t}};var ho=e.commands={selectAll:function(e){e.setSelection(zr(e.firstLine(),0),zr(e.lastLine()),zo)},singleSelection:function(e){e.setSelection(e.getCursor("anchor"),e.getCursor("head"),zo)},killLine:function(e){pn(e,function(t){if(t.empty()){var n=ci(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:zr(t.head.line+1,0)}:{from:t.head,to:zr(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){pn(e,function(t){return{from:zr(t.from().line,0),to:ce(e.doc,zr(t.to().line+1,0))}})},delLineLeft:function(e){pn(e,function(e){return{from:zr(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){pn(e,function(t){var n=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:n},"div"),to:t.from()}})},delWrappedLineRight:function(e){pn(e,function(t){var n=e.charCoords(t.head,"div").top+5,i=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:i}})},undo:function(e){e.undo()},redo:function(e){e.redo()},undoSelection:function(e){e.undoSelection()},redoSelection:function(e){e.redoSelection()},goDocStart:function(e){e.extendSelection(zr(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(zr(e.lastLine()))},goLineStart:function(e){e.extendSelectionsBy(function(t){return cr(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){e.extendSelectionsBy(function(t){return pr(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){e.extendSelectionsBy(function(t){return function(e,t){for(var n,i=ci(e.doc,t);n=Ln(i);)i=n.find(1,!0).line,t=null;var r=bi(i),o=r?r[0].level%2?lr(i):ur(i):i.text.length;return zr(null==t?hi(i):t,o)}(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},Ho)},goLineLeft:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},Ho)},goLineLeftSmart:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5,i=e.coordsChar({left:0,top:n},"div");return i.ch<e.getLine(i.line).search(/\S/)?pr(e,t.head):i},Ho)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),i=e.options.tabSize,r=0;r<n.length;r++){var o=n[r].from(),s=Uo(e.getLine(o.line),o.ch,i);t.push(Bi(i-s%i))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){mt(e,function(){for(var t=e.listSelections(),n=[],i=0;i<t.length;i++){var r=t[i].head,o=ci(e.doc,r.line).text;if(o)if(r.ch==o.length&&(r=new zr(r.line,r.ch-1)),r.ch>0)r=new zr(r.line,r.ch+1),e.replaceRange(o.charAt(r.ch-1)+o.charAt(r.ch-2),zr(r.line,r.ch-2),r,"+transpose");else if(r.line>e.doc.first){var s=ci(e.doc,r.line-1).text;s&&e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+s.charAt(s.length-1),zr(r.line-1,s.length-1),zr(r.line,1),"+transpose")}n.push(new se(r,r))}e.setSelections(n)})},newlineAndIndent:function(e){mt(e,function(){for(var t=e.listSelections().length,n=0;t>n;n++){var i=e.listSelections()[n];e.replaceRange(e.doc.lineSeparator(),i.anchor,i.head,"+input"),e.indentLine(i.from().line+1,null,!0)}an(e)})},openLine:function(e){e.replaceSelection("\n","start")},toggleOverwrite:function(e){e.toggleOverwrite()}},mo=e.keyMap={};mo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},mo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},mo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},mo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},mo.default=Lr?mo.macDefault:mo.pcDefault,e.normalizeKeyMap=function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==i){delete e[n];continue}for(var r=Hi(n.split(" "),mn),o=0;o<r.length;o++){var s,a;o==r.length-1?(a=r.join(" "),s=i):(a=r.slice(0,o+1).join(" "),s="...");var l=t[a];if(l){if(l!=s)throw new Error("Inconsistent bindings for "+a)}else t[a]=s}delete e[n]}for(var u in t)e[u]=t[u];return e};var go=e.lookupKey=function(e,t,n,i){var r=(t=gn(t)).call?t.call(e,i):t[e];if(!1===r)return"nothing";if("..."===r)return"multi";if(null!=r&&n(r))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return go(e,t.fallthrough,n,i);for(var o=0;o<t.fallthrough.length;o++){var s=go(e,t.fallthrough[o],n,i);if(s)return s}}},bo=e.isModifierKey=function(e){var t="string"==typeof e?e:us[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t},yo=e.keyName=function(e,t){if(Tr&&34==e.keyCode&&e.char)return!1;var n=us[e.keyCode],i=n;return null!=i&&!e.altGraphKey&&(e.altKey&&"Alt"!=n&&(i="Alt-"+i),(Fr?e.metaKey:e.ctrlKey)&&"Ctrl"!=n&&(i="Ctrl-"+i),(Fr?e.ctrlKey:e.metaKey)&&"Cmd"!=n&&(i="Cmd-"+i),!t&&e.shiftKey&&"Shift"!=n&&(i="Shift-"+i),i)};e.fromTextArea=function(t,n){function i(){t.value=l.getValue()}if((n=n?Vi(n):{}).value=t.value,!n.tabindex&&t.tabIndex&&(n.tabindex=t.tabIndex),!n.placeholder&&t.placeholder&&(n.placeholder=t.placeholder),null==n.autofocus){var r=er();n.autofocus=r==t||null!=t.getAttribute("autofocus")&&r==document.body}if(t.form&&(Po(t.form,"submit",i),!n.leaveSubmitMethodAlone)){var o=t.form,s=o.submit;try{var a=o.submit=function(){i(),o.submit=s,o.submit(),o.submit=a}}catch(e){}}n.finishInit=function(e){e.save=i,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,i(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(Io(t.form,"submit",i),"function"==typeof t.form.submit&&(t.form.submit=s))}},t.style.display="none";var l=e(function(e){t.parentNode.insertBefore(e,t.nextSibling)},n);return l};var vo=e.StringStream=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};vo.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var n=t==e;else n=t&&(e.test?e.test(t):e(t));return n?(++this.pos,t):void 0},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);return t>-1?(this.pos=t,!0):void 0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Uo(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Uo(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return Uo(this.string,null,this.tabSize)-(this.lineStart?Uo(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,n){if("string"!=typeof e){var i=this.string.slice(this.pos).match(e);return i&&i.index>0?null:(i&&!1!==t&&(this.pos+=i[0].length),i)}var r=function(e){return n?e.toLowerCase():e};return r(this.string.substr(this.pos,e.length))==r(e)?(!1!==t&&(this.pos+=e.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}};var _o=0,xo=e.TextMarker=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++_o};$i(xo),xo.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&lt(e),Fi(this,"clear")){var n=this.find();n&&Li(this,"clear",n.from,n.to)}for(var i=null,r=null,o=0;o<this.lines.length;++o){var s=this.lines[o],a=xn(s.markedSpans,this);e&&!this.collapsed?wt(e,hi(s),"text"):e&&(null!=a.to&&(r=hi(s)),null!=a.from&&(i=hi(s))),s.markedSpans=wn(s.markedSpans,a),null==a.from&&this.collapsed&&!$n(this.doc,s)&&e&&di(s,st(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(o=0;o<this.lines.length;++o){var l=Dn(this.lines[o]),u=c(l);u>e.display.maxLineLength&&(e.display.maxLine=l,e.display.maxLineLength=u,e.display.maxLineChanged=!0)}null!=i&&e&&this.collapsed&&xt(e,i,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&we(e.doc)),e&&Li(e,"markerCleared",e,this),t&&ut(e),this.parent&&this.parent.clear()}},xo.prototype.find=function(e,t){null==e&&"bookmark"==this.type&&(e=1);for(var n,i,r=0;r<this.lines.length;++r){var o=this.lines[r],s=xn(o.markedSpans,this);if(null!=s.from&&(n=zr(t?o:hi(o),s.from),-1==e))return n;if(null!=s.to&&(i=zr(t?o:hi(o),s.to),1==e))return i}return n&&{from:n,to:i}},xo.prototype.changed=function(){var e=this.find(-1,!0),t=this,n=this.doc.cm;e&&n&&mt(n,function(){var i=e.line,r=hi(e.line),o=He(n,r);if(o&&(Ge(o),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!$n(t.doc,i)&&null!=t.height){var s=t.height;t.height=null;var a=zn(t)-s;a&&di(i,i.height+a)}})},xo.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=qi(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},xo.prototype.detachLine=function(e){if(this.lines.splice(qi(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}};_o=0;var wo=e.SharedTextMarker=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};$i(wo),wo.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();Li(this,"clear")}},wo.prototype.find=function(e,t){return this.primary.find(e,t)};var ko=e.LineWidget=function(e,t,n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i]);this.doc=e,this.node=t};$i(ko),ko.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,i=hi(n);if(null!=i&&t){for(var r=0;r<t.length;++r)t[r]==this&&t.splice(r--,1);t.length||(n.widgets=null);var o=zn(this);di(n,Math.max(0,n.height-o)),e&&mt(e,function(){Bn(e,n,-o),wt(e,i,"widget")})}},ko.prototype.changed=function(){var e=this.height,t=this.doc.cm,n=this.line;this.height=null;var i=zn(this)-e;i&&(di(n,n.height+i),t&&mt(t,function(){t.curOp.forceUpdate=!0,Bn(t,n,i)}))};var So=e.Line=function(e,t,n){this.text=e,Tn(this,t),this.height=n?n(this):1};$i(So),So.prototype.lineNo=function(){return hi(this)};var Co={},Eo={};si.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,i=e+t;i>n;++n){var r=this.lines[n];this.height-=r.height,qn(r),Li(r,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var i=0;i<t.length;++i)t[i].parent=this},iterN:function(e,t,n){for(var i=e+t;i>e;++e)if(n(this.lines[e]))return!0}},ai.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var i=this.children[n],r=i.chunkSize();if(r>e){var o=Math.min(t,r-e),s=i.height;if(i.removeInner(e,o),this.height-=s-i.height,r==o&&(this.children.splice(n--,1),i.parent=null),0==(t-=o))break;e=0}else e-=r}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof si))){var a=[];this.collapse(a),this.children=[new si(a)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.chunkSize();if(o>=e){if(r.insertInner(e,t,n),r.lines&&r.lines.length>50){for(var s=r.lines.length%25+25,a=s;a<r.lines.length;){var l=new si(r.lines.slice(a,a+=25));r.height-=l.height,this.children.splice(++i,0,l),l.parent=this}r.lines=r.lines.slice(0,s),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new ai(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var n=qi(e.parent.children,e);e.parent.children.splice(n+1,0,t)}else{var i=new ai(e.children);i.parent=e,e.children=[i,t],e=i}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.chunkSize();if(o>e){var s=Math.min(t,o-e);if(r.iterN(e,s,n))return!0;if(0==(t-=s))break;e=0}else e-=o}}};var To=0,Ao=e.Doc=function(e,t,n,i){if(!(this instanceof Ao))return new Ao(e,t,n,i);null==n&&(n=0),ai.call(this,[new si([new So("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=n;var r=zr(n,0);this.sel=le(r),this.history=new yi(null),this.id=++To,this.modeOption=t,this.lineSep=i,this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),oi(this,{from:r,to:r,text:e}),ve(this,le(r),zo)};Ao.prototype=Wi(ai.prototype,{constructor:Ao,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,i=0;i<t.length;++i)n+=t[i].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=fi(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:yt(function(e){var t=zr(this.first,0),n=this.first+this.size-1;Qt(this,{from:t,to:zr(n,ci(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),ve(this,le(t))}),replaceRange:function(e,t,n,i){rn(this,e,t=ce(this,t),n=n?ce(this,n):t,i)},getRange:function(e,t,n){var i=pi(this,ce(this,e),ce(this,t));return!1===n?i:i.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){return pe(this,e)?ci(this,e):void 0},getLineNumber:function(e){return hi(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=ci(this,e)),Dn(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return ce(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:yt(function(e,t,n){be(this,ce(this,"number"==typeof e?zr(e,t||0):e),null,n)}),setSelection:yt(function(e,t,n){be(this,ce(this,e),ce(this,t||e),n)}),extendSelection:yt(function(e,t,n){he(this,ce(this,e),t&&ce(this,t),n)}),extendSelections:yt(function(e,t){me(this,fe(this,e),t)}),extendSelectionsBy:yt(function(e,t){me(this,fe(this,Hi(this.sel.ranges,e)),t)}),setSelections:yt(function(e,t,n){if(e.length){for(var i=0,r=[];i<e.length;i++)r[i]=new se(ce(this,e[i].anchor),ce(this,e[i].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),ve(this,ae(r,t),n)}}),addSelection:yt(function(e,t,n){var i=this.sel.ranges.slice(0);i.push(new se(ce(this,e),ce(this,t||e))),ve(this,ae(i,i.length-1),n)}),getSelection:function(e){for(var t,n=this.sel.ranges,i=0;i<n.length;i++){var r=pi(this,n[i].from(),n[i].to());t=t?t.concat(r):r}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,i=0;i<n.length;i++){var r=pi(this,n[i].from(),n[i].to());!1!==e&&(r=r.join(e||this.lineSeparator())),t[i]=r}return t},replaceSelection:function(e,t,n){for(var i=[],r=0;r<this.sel.ranges.length;r++)i[r]=e;this.replaceSelections(i,t,n||"+input")},replaceSelections:yt(function(e,t,n){for(var i=[],r=this.sel,o=0;o<r.ranges.length;o++){var s=r.ranges[o];i[o]={from:s.from(),to:s.to(),text:this.splitLines(e[o]),origin:n}}var a=t&&"end"!=t&&function(e,t,n){for(var i=[],r=zr(e.first,0),o=r,s=0;s<t.length;s++){var a=t[s],l=Yt(a.from,r,o),u=Yt(no(a),r,o);if(r=a.to,o=u,"around"==n){var c=e.sel.ranges[s],p=qr(c.head,c.anchor)<0;i[s]=new se(p?u:l,p?l:u)}else i[s]=new se(l,l)}return new oe(i,e.sel.primIndex)}(this,i,t);for(o=i.length-1;o>=0;o--)Qt(this,i[o]);a?ye(this,a):this.cm&&an(this.cm)}),undo:yt(function(){Jt(this,"undo")}),redo:yt(function(){Jt(this,"redo")}),undoSelection:yt(function(){Jt(this,"undo",!0)}),redoSelection:yt(function(){Jt(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,i=0;i<e.done.length;i++)e.done[i].ranges||++t;for(i=0;i<e.undone.length;i++)e.undone[i].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new yi(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Ci(this.history.done),undone:Ci(this.history.undone)}},setHistory:function(e){var t=this.history=new yi(this.history.maxGeneration);t.done=Ci(e.done.slice(0),null,!0),t.undone=Ci(e.undone.slice(0),null,!0)},addLineClass:yt(function(e,t,n){return cn(this,e,"gutter"==t?"gutter":"class",function(e){var i="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[i]){if(tr(n).test(e[i]))return!1;e[i]+=" "+n}else e[i]=n;return!0})}),removeLineClass:yt(function(e,t,n){return cn(this,e,"gutter"==t?"gutter":"class",function(e){var i="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",r=e[i];if(!r)return!1;if(null==n)e[i]=null;else{var o=r.match(tr(n));if(!o)return!1;var s=o.index+o[0].length;e[i]=r.slice(0,o.index)+(o.index&&s!=r.length?" ":"")+r.slice(s)||null}return!0})}),addLineWidget:yt(function(e,t,n){return function(e,t,n,i){var r=new ko(e,n,i),o=e.cm;return o&&r.noHScroll&&(o.display.alignWidgets=!0),cn(e,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);if(null==r.insertAt?n.push(r):n.splice(Math.min(n.length-1,Math.max(0,r.insertAt)),0,r),r.line=t,o&&!$n(e,t)){var i=gi(t)<e.scrollTop;di(t,t.height+zn(r)),i&&sn(o,null,r.height),o.curOp.forceUpdate=!0}return!0}),r}(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return bn(this,ce(this,e),ce(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return bn(this,e=ce(this,e),e,n,"bookmark")},findMarksAt:function(e){var t=[],n=ci(this,(e=ce(this,e)).line).markedSpans;if(n)for(var i=0;i<n.length;++i){var r=n[i];(null==r.from||r.from<=e.ch)&&(null==r.to||r.to>=e.ch)&&t.push(r.marker.parent||r.marker)}return t},findMarks:function(e,t,n){e=ce(this,e),t=ce(this,t);var i=[],r=e.line;return this.iter(e.line,t.line+1,function(o){var s=o.markedSpans;if(s)for(var a=0;a<s.length;a++){var l=s[a];null!=l.to&&r==e.line&&e.ch>=l.to||null==l.from&&r!=e.line||null!=l.from&&r==t.line&&l.from>=t.ch||n&&!n(l.marker)||i.push(l.marker.parent||l.marker)}++r}),i},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var i=0;i<n.length;++i)null!=n[i].from&&e.push(n[i].marker)}),e},posFromIndex:function(e){var t,n=this.first,i=this.lineSeparator().length;return this.iter(function(r){var o=r.text.length+i;return o>e?(t=e,!0):(e-=o,void++n)}),ce(this,zr(n,t))},indexFromPos:function(e){var t=(e=ce(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+n}),t},copy:function(e){var t=new Ao(fi(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var i=new Ao(fi(this,t,n),e.mode||this.modeOption,t,this.lineSep);return e.sharedHist&&(i.history=this.history),(this.linked||(this.linked=[])).push({doc:i,sharedHist:e.sharedHist}),i.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n],r=i.find(),o=e.clipPos(r.from),s=e.clipPos(r.to);if(qr(o,s)){var a=bn(e,o,s,i.primary,i.primary.type);i.markers.push(a),a.parent=i}}}(i,yn(this)),i},unlinkDoc:function(t){if(t instanceof e&&(t=t.doc),this.linked)for(var n=0;n<this.linked.length;++n){if(this.linked[n].doc==t){this.linked.splice(n,1),t.unlinkDoc(this),vn(yn(this));break}}if(t.history==this.history){var i=[t.id];li(t,function(e){i.push(e.id)},!0),t.history=new yi(null),t.history.done=Ci(this.history.done,i),t.history.undone=Ci(this.history.undone,i)}},iterLinkedDocs:function(e){li(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):os(e)},lineSeparator:function(){return this.lineSep||"\n"}}),Ao.prototype.eachLine=Ao.prototype.iter;var No="iter insert remove copy getEditor constructor".split(" ");for(var Mo in Ao.prototype)Ao.prototype.hasOwnProperty(Mo)&&qi(No,Mo)<0&&(e.prototype[Mo]=function(e){return function(){return e.apply(this.doc,arguments)}}(Ao.prototype[Mo]));$i(Ao);var Ro=e.e_preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},Oo=e.e_stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},Lo=e.e_stop=function(e){Ro(e),Oo(e)},Po=e.on=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var i=e._handlers||(e._handlers={});(i[t]||(i[t]=[])).push(n)}},Do=[],Io=e.off=function(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else for(var i=Oi(e,t,!1),r=0;r<i.length;++r)if(i[r]==n){i.splice(r,1);break}},Fo=e.signal=function(e,t){var n=Oi(e,t,!0);if(n.length)for(var i=Array.prototype.slice.call(arguments,2),r=0;r<n.length;++r)n[r].apply(null,i)},$o=null,jo=30,Bo=e.Pass={toString:function(){return"CodeMirror.Pass"}},zo={scroll:!1},qo={origin:"*mouse"},Ho={origin:"+move"};ji.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var Uo=e.countColumn=function(e,t,n,i,r){null==t&&(-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length));for(var o=i||0,s=r||0;;){var a=e.indexOf("\t",o);if(0>a||a>=t)return s+(t-o);s+=a-o,s+=n-s%n,o=a+1}},Wo=e.findColumn=function(e,t,n){for(var i=0,r=0;;){var o=e.indexOf("\t",i);-1==o&&(o=e.length);var s=o-i;if(o==e.length||r+s>=t)return i+Math.min(s,t-r);if(r+=o-i,i=o+1,(r+=n-r%n)>=t)return i}},Vo=[""],Go=function(e){e.select()};Rr?Go=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:wr&&(Go=function(e){try{e.select()}catch(e){}});var Ko,Yo=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Xo=e.isWordChar=function(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||Yo.test(e))},Qo=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;Ko=document.createRange?function(e,t,n,i){var r=document.createRange();return r.setEnd(i||e,n),r.setStart(e,t),r}:function(e,t,n){var i=document.body.createTextRange();try{i.moveToElementText(e.parentNode)}catch(e){return i}return i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",t),i};var Zo=e.contains=function(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)};wr&&11>kr&&(er=function(){try{return document.activeElement}catch(e){return document.body}});var Jo,es,ts=e.rmClass=function(e,t){var n=e.className,i=tr(t).exec(n);if(i){var r=n.slice(i.index+i[0].length);e.className=n.slice(0,i.index)+(r?i[1]+r:"")}},ns=e.addClass=function(e,t){var n=e.className;tr(t).test(n)||(e.className+=(n?" ":"")+t)},is=!1,rs=function(){if(wr&&9>kr)return!1;var e=Qi("div");return"draggable"in e||"dragDrop"in e}(),os=e.splitLines=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],i=e.length;i>=t;){var r=e.indexOf("\n",t);-1==r&&(r=e.length);var o=e.slice(t,"\r"==e.charAt(r-1)?r-1:r),s=o.indexOf("\r");-1!=s?(n.push(o.slice(0,s)),t+=s+1):(n.push(o),t=r+1)}return n}:function(e){return e.split(/\r\n?|\n/)},ss=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},as=function(){var e=Qi("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),ls=null,us=e.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};!function(){for(var e=0;10>e;e++)us[e+48]=us[e+96]=String(e);for(e=65;90>=e;e++)us[e]=String.fromCharCode(e);for(e=1;12>=e;e++)us[e+111]=us[e+63235]="F"+e}();var cs,ps=function(){function e(e){return 247>=e?n.charAt(e):e>=1424&&1524>=e?"R":e>=1536&&1773>=e?i.charAt(e-1536):e>=1774&&2220>=e?"r":e>=8192&&8203>=e?"w":8204==e?"b":"L"}function t(e,t,n){this.level=e,this.from=t,this.to=n}var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",i="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,s=/[LRr]/,a=/[Lb1n]/,l=/[1n]/,u="L";return function(n){if(!r.test(n))return!1;for(var i=n.length,c=[],p=0;i>p;++p)c.push(b=e(n.charCodeAt(p)));p=0;for(var f=u;i>p;++p){"m"==(b=c[p])?c[p]=f:f=b}p=0;for(var d=u;i>p;++p){"1"==(b=c[p])&&"r"==d?c[p]="n":s.test(b)&&(d=b,"r"==b&&(c[p]="R"))}for(p=1,f=c[0];i-1>p;++p){"+"==(b=c[p])&&"1"==f&&"1"==c[p+1]?c[p]="1":","!=b||f!=c[p+1]||"1"!=f&&"n"!=f||(c[p]=f),f=b}for(p=0;i>p;++p){if(","==(b=c[p]))c[p]="N";else if("%"==b){for(var h=p+1;i>h&&"%"==c[h];++h);for(var m=p&&"!"==c[p-1]||i>h&&"1"==c[h]?"1":"N",g=p;h>g;++g)c[g]=m;p=h-1}}for(p=0,d=u;i>p;++p){var b=c[p];"L"==d&&"1"==b?c[p]="L":s.test(b)&&(d=b)}for(p=0;i>p;++p)if(o.test(c[p])){for(h=p+1;i>h&&o.test(c[h]);++h);var y="L"==(p?c[p-1]:u),v="L"==(i>h?c[h]:u);for(m=y||v?"L":"R",g=p;h>g;++g)c[g]=m;p=h-1}var _,x=[];for(p=0;i>p;)if(a.test(c[p])){var w=p;for(++p;i>p&&a.test(c[p]);++p);x.push(new t(0,w,p))}else{var k=p,S=x.length;for(++p;i>p&&"L"!=c[p];++p);for(g=k;p>g;)if(l.test(c[g])){g>k&&x.splice(S,0,new t(1,k,g));var C=g;for(++g;p>g&&l.test(c[g]);++g);x.splice(S,0,new t(2,C,g)),k=g}else++g;p>k&&x.splice(S,0,new t(1,k,p))}return 1==x[0].level&&(_=n.match(/^\s+/))&&(x[0].from=_[0].length,x.unshift(new t(0,0,_[0].length))),1==zi(x).level&&(_=n.match(/\s+$/))&&(zi(x).to-=_[0].length,x.push(new t(0,i-_[0].length,i))),2==x[0].level&&x.unshift(new t(1,x[0].to,x[0].to)),x[0].level!=zi(x).level&&x.push(new t(x[0].level,i,i)),x}}();return e.version="5.15.2",e})},{}],11:[function(e,t,n){var i;i=function(e){"use strict";var t=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?«»“”‘’]))/i;e.defineMode("gfm",function(n,i){var r=0,o={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(e){return{code:e.code,codeBlock:e.codeBlock,ateSpace:e.ateSpace}},token:function(e,n){if(n.combineTokens=null,n.codeBlock)return e.match(/^```+/)?(n.codeBlock=!1,null):(e.skipToEnd(),null);if(e.sol()&&(n.code=!1),e.sol()&&e.match(/^```+/))return e.skipToEnd(),n.codeBlock=!0,null;if("`"===e.peek()){e.next();var o=e.pos;e.eatWhile("`");var s=1+e.pos-o;return n.code?s===r&&(n.code=!1):(r=s,n.code=!0),null}if(n.code)return e.next(),null;if(e.eatSpace())return n.ateSpace=!0,null;if((e.sol()||n.ateSpace)&&(n.ateSpace=!1,!1!==i.gitHubSpice)){if(e.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?:[a-f0-9]{7,40}\b)/))return n.combineTokens=!0,"link";if(e.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return n.combineTokens=!0,"link"}return e.match(t)&&"]("!=e.string.slice(e.start-2,e.start)&&(0==e.start||/\W/.test(e.string.charAt(e.start-1)))?(n.combineTokens=!0,"link"):(e.next(),null)},blankLine:function(e){return e.code=!1,null}},s={underscoresBreakWords:!1,taskLists:!0,fencedCodeBlocks:"```",strikethrough:!0};for(var a in i)s[a]=i[a];return s.name="markdown",e.overlayMode(e.getMode(n,s),o)},"markdown"),e.defineMIME("text/x-gfm","gfm")},"object"==typeof n&&"object"==typeof t?i(e("../../lib/codemirror"),e("../markdown/markdown"),e("../../addon/mode/overlay")):i(CodeMirror)},{"../../addon/mode/overlay":8,"../../lib/codemirror":10,"../markdown/markdown":12}],12:[function(e,t,n){var i;i=function(e){"use strict";e.defineMode("markdown",function(t,n){function i(n){if(e.findModeByName){var i=e.findModeByName(n);i&&(n=i.mime||i.mimes[0])}var r=e.getMode(t,n);return"null"==r.name?null:r}function r(e,t,n){return t.f=t.inline=n,n(e,t)}function o(e){return!e||!/\S/.test(e.string)}function s(e){return e.linkTitle=!1,e.em=!1,e.strong=!1,e.strikethrough=!1,e.quote=0,e.indentedCode=!1,_&&e.f==l&&(e.f=d,e.block=a),e.trailingSpace=0,e.trailingSpaceNewLine=!1,e.prevLine=e.thisLine,e.thisLine=null,null}function a(t,s){var a=t.sol(),l=!1!==s.list,c=s.indentedCode;s.indentedCode=!1,l&&(s.indentationDiff>=0?(s.indentationDiff<4&&(s.indentation-=s.indentationDiff),s.list=null):s.indentation>0?s.list=null:s.list=!1);var f=null;if(s.indentationDiff>=4)return t.skipToEnd(),c||o(s.prevLine)?(s.indentation-=4,s.indentedCode=!0,x.code):null;if(t.eatSpace())return null;if((f=t.match(T))&&f[1].length<=6)return s.header=f[1].length,n.highlightFormatting&&(s.formatting="header"),s.f=s.inline,p(s);if(!(o(s.prevLine)||s.quote||l||c)&&(f=t.match(A)))return s.header="="==f[0].charAt(0)?1:2,n.highlightFormatting&&(s.formatting="header"),s.f=s.inline,p(s);if(t.eat(">"))return s.quote=a?1:s.quote+1,n.highlightFormatting&&(s.formatting="quote"),t.eatSpace(),p(s);if("["===t.peek())return r(t,s,g);if(t.match(k,!0))return s.hr=!0,x.hr;if((o(s.prevLine)||l)&&(t.match(S,!1)||t.match(C,!1))){var d=null;for(t.match(S,!0)?d="ul":(t.match(C,!0),d="ol"),s.indentation=t.column()+t.current().length,s.list=!0;s.listStack&&t.column()<s.listStack[s.listStack.length-1];)s.listStack.pop();return s.listStack.push(s.indentation),n.taskLists&&t.match(E,!1)&&(s.taskList=!0),s.f=s.inline,n.highlightFormatting&&(s.formatting=["list","list-"+d]),p(s)}return n.fencedCodeBlocks&&(f=t.match(M,!0))?(s.fencedChars=f[1],s.localMode=i(f[2]),s.localMode&&(s.localState=e.startState(s.localMode)),s.f=s.block=u,n.highlightFormatting&&(s.formatting="code-block"),s.code=-1,p(s)):r(t,s,s.inline)}function l(t,n){var i=v.token(t,n.htmlState);if(!_){var r=e.innerMode(v,n.htmlState);("xml"==r.mode.name&&null===r.state.tagStart&&!r.state.context&&r.state.tokenize.isInText||n.md_inside&&t.current().indexOf(">")>-1)&&(n.f=d,n.block=a,n.htmlState=null)}return i}function u(e,t){return t.fencedChars&&e.match(t.fencedChars,!1)?(t.localMode=t.localState=null,t.f=t.block=c,null):t.localMode?t.localMode.token(e,t.localState):(e.skipToEnd(),x.code)}function c(e,t){e.match(t.fencedChars),t.block=a,t.f=d,t.fencedChars=null,n.highlightFormatting&&(t.formatting="code-block"),t.code=1;var i=p(t);return t.code=0,i}function p(e){var t=[];if(e.formatting){t.push(x.formatting),"string"==typeof e.formatting&&(e.formatting=[e.formatting]);for(var i=0;i<e.formatting.length;i++)t.push(x.formatting+"-"+e.formatting[i]),"header"===e.formatting[i]&&t.push(x.formatting+"-"+e.formatting[i]+"-"+e.header),"quote"===e.formatting[i]&&(!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=e.quote?t.push(x.formatting+"-"+e.formatting[i]+"-"+e.quote):t.push("error"))}if(e.taskOpen)return t.push("meta"),t.length?t.join(" "):null;if(e.taskClosed)return t.push("property"),t.length?t.join(" "):null;if(e.linkHref?t.push(x.linkHref,"url"):(e.strong&&t.push(x.strong),e.em&&t.push(x.em),e.strikethrough&&t.push(x.strikethrough),e.linkText&&t.push(x.linkText),e.code&&t.push(x.code)),e.header&&t.push(x.header,x.header+"-"+e.header),e.quote&&(t.push(x.quote),!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=e.quote?t.push(x.quote+"-"+e.quote):t.push(x.quote+"-"+n.maxBlockquoteDepth)),!1!==e.list){var r=(e.listStack.length-1)%3;r?1===r?t.push(x.list2):t.push(x.list3):t.push(x.list1)}return e.trailingSpaceNewLine?t.push("trailing-space-new-line"):e.trailingSpace&&t.push("trailing-space-"+(e.trailingSpace%2?"a":"b")),t.length?t.join(" "):null}function f(e,t){return e.match(N,!0)?p(t):void 0}function d(t,i){var r=i.text(t,i);if(void 0!==r)return r;if(i.list)return i.list=null,p(i);if(i.taskList)return"x"!==t.match(E,!0)[1]?i.taskOpen=!0:i.taskClosed=!0,n.highlightFormatting&&(i.formatting="task"),i.taskList=!1,p(i);if(i.taskOpen=!1,i.taskClosed=!1,i.header&&t.match(/^#+$/,!0))return n.highlightFormatting&&(i.formatting="header"),p(i);var o=t.sol(),s=t.next();if(i.linkTitle){i.linkTitle=!1;var a=s;"("===s&&(a=")");var u="^\\s*(?:[^"+(a=(a+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"))+"\\\\]+|\\\\\\\\|\\\\.)"+a;if(t.match(new RegExp(u),!0))return x.linkHref}if("`"===s){var c=i.formatting;n.highlightFormatting&&(i.formatting="code"),t.eatWhile("`");var f=t.current().length;if(0==i.code)return i.code=f,p(i);if(f==i.code){var d=p(i);return i.code=0,d}return i.formatting=c,p(i)}if(i.code)return p(i);if("\\"===s&&(t.next(),n.highlightFormatting)){var g=p(i),b=x.formatting+"-escape";return g?g+" "+b:b}if("!"===s&&t.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return t.match(/\[[^\]]*\]/),i.inline=i.f=m,x.image;if("["===s&&t.match(/[^\]]*\](\(.*\)| ?\[.*?\])/,!1))return i.linkText=!0,n.highlightFormatting&&(i.formatting="link"),p(i);if("]"===s&&i.linkText&&t.match(/\(.*?\)| ?\[.*?\]/,!1)){n.highlightFormatting&&(i.formatting="link");var g=p(i);return i.linkText=!1,i.inline=i.f=m,g}if("<"===s&&t.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1))return i.f=i.inline=h,n.highlightFormatting&&(i.formatting="link"),(g=p(i))?g+=" ":g="",g+x.linkInline;if("<"===s&&t.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return i.f=i.inline=h,n.highlightFormatting&&(i.formatting="link"),(g=p(i))?g+=" ":g="",g+x.linkEmail;if("<"===s&&t.match(/^(!--|\w)/,!1)){var y=t.string.indexOf(">",t.pos);if(-1!=y){var _=t.string.substring(t.start,y);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(_)&&(i.md_inside=!0)}return t.backUp(1),i.htmlState=e.startState(v),function(e,t,n){return t.f=t.block=n,n(e,t)}(t,i,l)}if("<"===s&&t.match(/^\/\w*?>/))return i.md_inside=!1,"tag";var w=!1;if(!n.underscoresBreakWords&&"_"===s&&"_"!==t.peek()&&t.match(/(\w)/,!1)){var k=t.pos-2;if(k>=0){var S=t.string.charAt(k);"_"!==S&&S.match(/(\w)/,!1)&&(w=!0)}}if("*"===s||"_"===s&&!w)if(o&&" "===t.peek());else{if(i.strong===s&&t.eat(s)){n.highlightFormatting&&(i.formatting="strong");d=p(i);return i.strong=!1,d}if(!i.strong&&t.eat(s))return i.strong=s,n.highlightFormatting&&(i.formatting="strong"),p(i);if(i.em===s){n.highlightFormatting&&(i.formatting="em");d=p(i);return i.em=!1,d}if(!i.em)return i.em=s,n.highlightFormatting&&(i.formatting="em"),p(i)}else if(" "===s&&(t.eat("*")||t.eat("_"))){if(" "===t.peek())return p(i);t.backUp(1)}if(n.strikethrough)if("~"===s&&t.eatWhile(s)){if(i.strikethrough){n.highlightFormatting&&(i.formatting="strikethrough");d=p(i);return i.strikethrough=!1,d}if(t.match(/^[^\s]/,!1))return i.strikethrough=!0,n.highlightFormatting&&(i.formatting="strikethrough"),p(i)}else if(" "===s&&t.match(/^~~/,!0)){if(" "===t.peek())return p(i);t.backUp(2)}return" "===s&&(t.match(/ +$/,!1)?i.trailingSpace++:i.trailingSpace&&(i.trailingSpaceNewLine=!0)),p(i)}function h(e,t){if(">"===e.next()){t.f=t.inline=d,n.highlightFormatting&&(t.formatting="link");var i=p(t);return i?i+=" ":i="",i+x.linkInline}return e.match(/^[^>]+/,!0),x.linkInline}function m(e,t){if(e.eatSpace())return null;var i=e.next();return"("===i||"["===i?(t.f=t.inline=function(e){return function(t,i){var r=t.next();if(r===e){i.f=i.inline=d,n.highlightFormatting&&(i.formatting="link-string");var o=p(i);return i.linkHref=!1,o}return t.match(R[e]),i.linkHref=!0,p(i)}}("("===i?")":"]"),n.highlightFormatting&&(t.formatting="link-string"),t.linkHref=!0,p(t)):"error"}function g(e,t){return e.match(/^([^\]\\]|\\.)*\]:/,!1)?(t.f=b,e.next(),n.highlightFormatting&&(t.formatting="link"),t.linkText=!0,p(t)):r(e,t,d)}function b(e,t){if(e.match(/^\]:/,!0)){t.f=t.inline=y,n.highlightFormatting&&(t.formatting="link");var i=p(t);return t.linkText=!1,i}return e.match(/^([^\]\\]|\\.)+/,!0),x.linkText}function y(e,t){return e.eatSpace()?null:(e.match(/^[^\s]+/,!0),void 0===e.peek()?t.linkTitle=!0:e.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),t.f=t.inline=d,x.linkHref+" url")}var v=e.getMode(t,"text/html"),_="null"==v.name;void 0===n.highlightFormatting&&(n.highlightFormatting=!1),void 0===n.maxBlockquoteDepth&&(n.maxBlockquoteDepth=0),void 0===n.underscoresBreakWords&&(n.underscoresBreakWords=!0),void 0===n.taskLists&&(n.taskLists=!1),void 0===n.strikethrough&&(n.strikethrough=!1),void 0===n.tokenTypeOverrides&&(n.tokenTypeOverrides={});var x={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"tag",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough"};for(var w in x)x.hasOwnProperty(w)&&n.tokenTypeOverrides[w]&&(x[w]=n.tokenTypeOverrides[w]);var k=/^([*\-_])(?:\s*\1){2,}\s*$/,S=/^[*\-+]\s+/,C=/^[0-9]+([.)])\s+/,E=/^\[(x| )\](?=\s)/,T=n.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,A=/^ *(?:\={1,}|-{1,})\s*$/,N=/^[^#!\[\]*_\\<>` "'(~]+/,M=new RegExp("^("+(!0===n.fencedCodeBlocks?"~~~+|```+":n.fencedCodeBlocks)+")[ \\t]*([\\w+#-]*)"),R={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\\]]|\\.)*\])*?(?=\])/},O={startState:function(){return{f:a,prevLine:null,thisLine:null,block:a,htmlState:null,indentation:0,inline:d,text:f,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,fencedChars:null}},copyState:function(t){return{f:t.f,prevLine:t.prevLine,thisLine:t.thisLine,block:t.block,htmlState:t.htmlState&&e.copyState(v,t.htmlState),indentation:t.indentation,localMode:t.localMode,localState:t.localMode?e.copyState(t.localMode,t.localState):null,inline:t.inline,text:t.text,formatting:!1,linkTitle:t.linkTitle,code:t.code,em:t.em,strong:t.strong,strikethrough:t.strikethrough,header:t.header,hr:t.hr,taskList:t.taskList,list:t.list,listStack:t.listStack.slice(0),quote:t.quote,indentedCode:t.indentedCode,trailingSpace:t.trailingSpace,trailingSpaceNewLine:t.trailingSpaceNewLine,md_inside:t.md_inside,fencedChars:t.fencedChars}},token:function(e,t){if(t.formatting=!1,e!=t.thisLine){var n=t.header||t.hr;if(t.header=0,t.hr=!1,e.match(/^\s*$/,!0)||n){if(s(t),!n)return null;t.prevLine=null}t.prevLine=t.thisLine,t.thisLine=e,t.taskList=!1,t.trailingSpace=0,t.trailingSpaceNewLine=!1,t.f=t.block;var i=e.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length;if(t.indentationDiff=Math.min(i-t.indentation,4),t.indentation=t.indentation+t.indentationDiff,i>0)return null}return t.f(e,t)},innerMode:function(e){return e.block==l?{state:e.htmlState,mode:v}:e.localState?{state:e.localState,mode:e.localMode}:{state:e,mode:O}},blankLine:s,getType:p,fold:"markdown"};return O},"xml"),e.defineMIME("text/x-markdown","markdown")},"object"==typeof n&&"object"==typeof t?i(e("../../lib/codemirror"),e("../xml/xml"),e("../meta")):i(CodeMirror)},{"../../lib/codemirror":10,"../meta":13,"../xml/xml":14}],13:[function(e,t,n){(function(e){"use strict";e.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["pgp"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists.txt$/},{name:"CoffeeScript",mime:"text/x-coffeescript",mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded Javascript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history).md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"]},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Jade",mime:"text/x-jade",mode:"jade",ext:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"null",mode:"jinja2"},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mime:"text/n-triples",mode:"ntriples",ext:["nt"]},{name:"Objective C",mime:"text/x-objectivec",mode:"clike",ext:["m","mm"],alias:["objective-c","objc"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mime:"application/x-httpd-php",mode:"php",ext:["php","php3","php4","php5","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mime:"text/x-sh",mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki ",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mime:"text/x-yaml",mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]}];for(var t=0;t<e.modeInfo.length;t++){var n=e.modeInfo[t];n.mimes&&(n.mime=n.mimes[0])}e.findModeByMIME=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var i=e.modeInfo[n];if(i.mime==t)return i;if(i.mimes)for(var r=0;r<i.mimes.length;r++)if(i.mimes[r]==t)return i}},e.findModeByExtension=function(t){for(var n=0;n<e.modeInfo.length;n++){var i=e.modeInfo[n];if(i.ext)for(var r=0;r<i.ext.length;r++)if(i.ext[r]==t)return i}},e.findModeByFileName=function(t){for(var n=0;n<e.modeInfo.length;n++){var i=e.modeInfo[n];if(i.file&&i.file.test(t))return i}var r=t.lastIndexOf("."),o=r>-1&&t.substring(r+1,t.length);return o?e.findModeByExtension(o):void 0},e.findModeByName=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var i=e.modeInfo[n];if(i.name.toLowerCase()==t)return i;if(i.alias)for(var r=0;r<i.alias.length;r++)if(i.alias[r].toLowerCase()==t)return i}}})("object"==typeof n&&"object"==typeof t?e("../lib/codemirror"):CodeMirror)},{"../lib/codemirror":10}],14:[function(e,t,n){(function(e){"use strict";var t={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},n={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1};e.defineMode("xml",function(i,r){function o(e,t){function n(n){return t.tokenize=n,n(e,t)}var i=e.next();return"<"==i?e.eat("!")?e.eat("[")?e.match("CDATA[")?n(a("atom","]]>")):null:e.match("--")?n(a("comment","--\x3e")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(function e(t){return function(n,i){for(var r;null!=(r=n.next());){if("<"==r)return i.tokenize=e(t+1),i.tokenize(n,i);if(">"==r){if(1==t){i.tokenize=o;break}return i.tokenize=e(t-1),i.tokenize(n,i)}}return"meta"}}(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=a("meta","?>"),"meta"):(_=e.eat("/")?"closeTag":"openTag",t.tokenize=s,"tag bracket"):"&"==i?(e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"))?"atom":"error":(e.eatWhile(/[^&<]/),null)}function s(e,t){var n=e.next();if(">"==n||"/"==n&&e.eat(">"))return t.tokenize=o,_=">"==n?"endTag":"selfcloseTag","tag bracket";if("="==n)return _="equals",null;if("<"==n){t.tokenize=o,t.state=p,t.tagName=t.tagStart=null;var i=t.tokenize(e,t);return i?i+" tag error":"tag error"}return/[\'\"]/.test(n)?(t.tokenize=function(e){var t=function(t,n){for(;!t.eol();)if(t.next()==e){n.tokenize=s;break}return"string"};return t.isInAttribute=!0,t}(n),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function a(e,t){return function(n,i){for(;!n.eol();){if(n.match(t)){i.tokenize=o;break}n.next()}return e}}function l(e,t,n){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=n,(k.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function u(e){e.context&&(e.context=e.context.prev)}function c(e,t){for(var n;;){if(!e.context)return;if(n=e.context.tagName,!k.contextGrabbers.hasOwnProperty(n)||!k.contextGrabbers[n].hasOwnProperty(t))return;u(e)}}function p(e,t,n){return"openTag"==e?(n.tagStart=t.column(),f):"closeTag"==e?d:p}function f(e,t,n){return"word"==e?(n.tagName=t.current(),x="tag",g):(x="error",f)}function d(e,t,n){if("word"==e){var i=t.current();return n.context&&n.context.tagName!=i&&k.implicitlyClosed.hasOwnProperty(n.context.tagName)&&u(n),n.context&&n.context.tagName==i||!1===k.matchClosing?(x="tag",h):(x="tag error",m)}return x="error",m}function h(e,t,n){return"endTag"!=e?(x="error",h):(u(n),p)}function m(e,t,n){return x="error",h(e,0,n)}function g(e,t,n){if("word"==e)return x="attribute",b;if("endTag"==e||"selfcloseTag"==e){var i=n.tagName,r=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==e||k.autoSelfClosers.hasOwnProperty(i)?c(n,i):(c(n,i),n.context=new l(n,i,r==n.indented)),p}return x="error",g}function b(e,t,n){return"equals"==e?y:(k.allowMissing||(x="error"),g(e,0,n))}function y(e,t,n){return"string"==e?v:"word"==e&&k.allowUnquoted?(x="string",g):(x="error",g(e,0,n))}function v(e,t,n){return"string"==e?v:g(e,0,n)}var _,x,w=i.indentUnit,k={},S=r.htmlMode?t:n;for(var C in S)k[C]=S[C];for(var C in r)k[C]=r[C];return o.isInText=!0,{startState:function(e){var t={tokenize:o,state:p,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;_=null;var n=t.tokenize(e,t);return(n||_)&&"comment"!=n&&(x=null,t.state=t.state(_||n,e,t),x&&(n="error"==x?n+" error":x)),n},indent:function(t,n,i){var r=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+w;if(r&&r.noIndent)return e.Pass;if(t.tokenize!=s&&t.tokenize!=o)return i?i.match(/^(\s*)/)[0].length:0;if(t.tagName)return!1!==k.multilineTagIndentPastTag?t.tagStart+t.tagName.length+2:t.tagStart+w*(k.multilineTagIndentFactor||1);if(k.alignCDATA&&/<!\[CDATA\[/.test(n))return 0;var a=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(a&&a[1])for(;r;){if(r.tagName==a[2]){r=r.prev;break}if(!k.implicitlyClosed.hasOwnProperty(r.tagName))break;r=r.prev}else if(a)for(;r;){var l=k.contextGrabbers[r.tagName];if(!l||!l.hasOwnProperty(a[2]))break;r=r.prev}for(;r&&r.prev&&!r.startOfLine;)r=r.prev;return r?r.indent+w:t.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:k.htmlMode?"html":"xml",helperType:k.htmlMode?"html":"xml",skipAttribute:function(e){e.state==y&&(e.state=g)}}}),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})})("object"==typeof n&&"object"==typeof t?e("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":10}],15:[function(e,t,n){n.read=function(e,t,n,i,r){var o,s,a=8*r-i-1,l=(1<<a)-1,u=l>>1,c=-7,p=n?r-1:0,f=n?-1:1,d=e[t+p];for(p+=f,o=d&(1<<-c)-1,d>>=-c,c+=a;c>0;o=256*o+e[t+p],p+=f,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=i;c>0;s=256*s+e[t+p],p+=f,c-=8);if(0===o)o=1-u;else{if(o===l)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,i),o-=u}return(d?-1:1)*s*Math.pow(2,o-i)},n.write=function(e,t,n,i,r,o){var s,a,l,u=8*o-r-1,c=(1<<u)-1,p=c>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:o-1,h=i?1:-1,m=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+p>=1?f/l:f*Math.pow(2,1-p))*l>=2&&(s++,l/=2),s+p>=c?(a=0,s=c):s+p>=1?(a=(t*l-1)*Math.pow(2,r),s+=p):(a=t*Math.pow(2,p-1)*Math.pow(2,r),s=0));r>=8;e[n+d]=255&a,d+=h,a/=256,r-=8);for(s=s<<r|a,u+=r;u>0;e[n+d]=255&s,d+=h,s/=256,u-=8);e[n+d-h]|=128*m}},{}],16:[function(e,t,n){var i={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},{}],17:[function(e,t,n){(function(e){(function(){function e(e){this.tokens=[],this.tokens.links={},this.options=e||c.defaults,this.rules=p.normal,this.options.gfm&&(this.options.tables?this.rules=p.tables:this.rules=p.gfm)}function i(e,t){if(this.options=t||c.defaults,this.links=e,this.rules=f.normal,this.renderer=this.options.renderer||new r,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=f.breaks:this.rules=f.gfm:this.options.pedantic&&(this.rules=f.pedantic)}function r(e){this.options=e||{}}function o(e){this.tokens=[],this.token=null,this.options=e||c.defaults,this.options.renderer=this.options.renderer||new r,this.renderer=this.options.renderer,this.renderer.options=this.options}function s(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function a(e,t){return e=e.source,t=t||"",function n(i,r){return i?(r=(r=r.source||r).replace(/(^|[^\[])\^/g,"$1"),e=e.replace(i,r),n):new RegExp(e,t)}}function l(){}function u(e){for(var t,n,i=1;i<arguments.length;i++)for(n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function c(t,n,i){if(i||"function"==typeof n){i||(i=n,n=null);var r,a,l=(n=u({},c.defaults,n||{})).highlight,p=0;try{r=e.lex(t,n)}catch(e){return i(e)}a=r.length;var f=function(e){if(e)return n.highlight=l,i(e);var t;try{t=o.parse(r,n)}catch(t){e=t}return n.highlight=l,e?i(e):i(null,t)};if(!l||l.length<3)return f();if(delete n.highlight,!a)return f();for(;p<r.length;p++)!function(e){"code"!==e.type?--a||f():l(e.text,e.lang,function(t,n){return t?f(t):null==n||n===e.text?--a||f():(e.text=n,e.escaped=!0,void(--a||f()))})}(r[p])}else try{return n&&(n=u({},c.defaults,n)),o.parse(e.lex(t,n),n)}catch(e){if(e.message+="\nPlease report this to https://github.com/chjj/marked.",(n||c.defaults).silent)return"<p>An error occured:</p><pre>"+s(e.message+"",!0)+"</pre>";throw e}}var p={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:l,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:l,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:l,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/,bullet:/(?:[*+-]|\d+\.)/,item:/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/};p.item=a(p.item,"gm")(/bull/g,p.bullet)(),p.list=a(p.list)(/bull/g,p.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+p.def.source+")")(),p.blockquote=a(p.blockquote)("def",p.def)(),p._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",p.html=a(p.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,p._tag)(),p.paragraph=a(p.paragraph)("hr",p.hr)("heading",p.heading)("lheading",p.lheading)("blockquote",p.blockquote)("tag","<"+p._tag)("def",p.def)(),p.normal=u({},p),p.gfm=u({},p.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),p.gfm.paragraph=a(p.paragraph)("(?!","(?!"+p.gfm.fences.source.replace("\\1","\\2")+"|"+p.list.source.replace("\\1","\\3")+"|")(),p.tables=u({},p.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),e.rules=p,e.lex=function(t,n){return new e(n).lex(t)},e.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},e.prototype.token=function(e,t,n){var i,r,o,s,a,l,u,c,f;for(e=e.replace(/^ +$/gm,"");e;)if((o=this.rules.newline.exec(e))&&(e=e.substring(o[0].length),o[0].length>1&&this.tokens.push({type:"space"})),o=this.rules.code.exec(e))e=e.substring(o[0].length),o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?o:o.replace(/\n+$/,"")});else if(o=this.rules.fences.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"code",lang:o[2],text:o[3]||""});else if(o=this.rules.heading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});else if(t&&(o=this.rules.nptable.exec(e))){for(e=e.substring(o[0].length),l={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/\n$/,"").split("\n")},c=0;c<l.align.length;c++)/^ *-+: *$/.test(l.align[c])?l.align[c]="right":/^ *:-+: *$/.test(l.align[c])?l.align[c]="center":/^ *:-+ *$/.test(l.align[c])?l.align[c]="left":l.align[c]=null;for(c=0;c<l.cells.length;c++)l.cells[c]=l.cells[c].split(/ *\| */);this.tokens.push(l)}else if(o=this.rules.lheading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2]?1:2,text:o[1]});else if(o=this.rules.hr.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"hr"});else if(o=this.rules.blockquote.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,t,!0),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(e)){for(e=e.substring(o[0].length),s=o[2],this.tokens.push({type:"list_start",ordered:s.length>1}),i=!1,f=(o=o[0].match(this.rules.item)).length,c=0;f>c;c++)u=(l=o[c]).length,~(l=l.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(u-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(new RegExp("^ {1,"+u+"}","gm"),"")),this.options.smartLists&&c!==f-1&&(s===(a=p.bullet.exec(o[c+1])[0])||s.length>1&&a.length>1||(e=o.slice(c+1).join("\n")+e,c=f-1)),r=i||/\n\n(?!\s*$)/.test(l),c!==f-1&&(i="\n"===l.charAt(l.length-1),r||(r=i)),this.tokens.push({type:r?"loose_item_start":"list_item_start"}),this.token(l,!1,n),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(o=this.rules.html.exec(e))e=e.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===o[1]||"script"===o[1]||"style"===o[1]),text:o[0]});else if(!n&&t&&(o=this.rules.def.exec(e)))e=e.substring(o[0].length),this.tokens.links[o[1].toLowerCase()]={href:o[2],title:o[3]};else if(t&&(o=this.rules.table.exec(e))){for(e=e.substring(o[0].length),l={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/(?: *\| *)?\n$/,"").split("\n")},c=0;c<l.align.length;c++)/^ *-+: *$/.test(l.align[c])?l.align[c]="right":/^ *:-+: *$/.test(l.align[c])?l.align[c]="center":/^ *:-+ *$/.test(l.align[c])?l.align[c]="left":l.align[c]=null;for(c=0;c<l.cells.length;c++)l.cells[c]=l.cells[c].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(l)}else if(t&&(o=this.rules.paragraph.exec(e)))e=e.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var f={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:l,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:l,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/,_inside:/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,_href:/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/};f.link=a(f.link)("inside",f._inside)("href",f._href)(),f.reflink=a(f.reflink)("inside",f._inside)(),f.normal=u({},f),f.pedantic=u({},f.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),f.gfm=u({},f.normal,{escape:a(f.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:a(f.text)("]|","~]|")("|","|https?://|")()}),f.breaks=u({},f.gfm,{br:a(f.br)("{2,}","*")(),text:a(f.gfm.text)("{2,}","*")()}),i.rules=f,i.output=function(e,t,n){return new i(t,n).output(e)},i.prototype.output=function(e){for(var t,n,i,r,o="";e;)if(r=this.rules.escape.exec(e))e=e.substring(r[0].length),o+=r[1];else if(r=this.rules.autolink.exec(e))e=e.substring(r[0].length),"@"===r[2]?(n=":"===r[1].charAt(6)?this.mangle(r[1].substring(7)):this.mangle(r[1]),i=this.mangle("mailto:")+n):i=n=s(r[1]),o+=this.renderer.link(i,null,n);else if(this.inLink||!(r=this.rules.url.exec(e))){if(r=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(r[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(r[0])&&(this.inLink=!1),e=e.substring(r[0].length),o+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):s(r[0]):r[0];else if(r=this.rules.link.exec(e))e=e.substring(r[0].length),this.inLink=!0,o+=this.outputLink(r,{href:r[2],title:r[3]}),this.inLink=!1;else if((r=this.rules.reflink.exec(e))||(r=this.rules.nolink.exec(e))){if(e=e.substring(r[0].length),t=(r[2]||r[1]).replace(/\s+/g," "),!(t=this.links[t.toLowerCase()])||!t.href){o+=r[0].charAt(0),e=r[0].substring(1)+e;continue}this.inLink=!0,o+=this.outputLink(r,t),this.inLink=!1}else if(r=this.rules.strong.exec(e))e=e.substring(r[0].length),o+=this.renderer.strong(this.output(r[2]||r[1]));else if(r=this.rules.em.exec(e))e=e.substring(r[0].length),o+=this.renderer.em(this.output(r[2]||r[1]));else if(r=this.rules.code.exec(e))e=e.substring(r[0].length),o+=this.renderer.codespan(s(r[2],!0));else if(r=this.rules.br.exec(e))e=e.substring(r[0].length),o+=this.renderer.br();else if(r=this.rules.del.exec(e))e=e.substring(r[0].length),o+=this.renderer.del(this.output(r[1]));else if(r=this.rules.text.exec(e))e=e.substring(r[0].length),o+=this.renderer.text(s(this.smartypants(r[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else e=e.substring(r[0].length),i=n=s(r[1]),o+=this.renderer.link(i,null,n);return o},i.prototype.outputLink=function(e,t){var n=s(t.href),i=t.title?s(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,i,this.output(e[1])):this.renderer.image(n,i,s(e[1]))},i.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},i.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,n="",i=e.length,r=0;i>r;r++)t=e.charCodeAt(r),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},r.prototype.code=function(e,t,n){if(this.options.highlight){var i=this.options.highlight(e,t);null!=i&&i!==e&&(n=!0,e=i)}return t?'<pre><code class="'+this.options.langPrefix+s(t,!0)+'">'+(n?e:s(e,!0))+"\n</code></pre>\n":"<pre><code>"+(n?e:s(e,!0))+"\n</code></pre>"},r.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},r.prototype.html=function(e){return e},r.prototype.heading=function(e,t,n){return"<h"+t+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},r.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},r.prototype.list=function(e,t){var n=t?"ol":"ul";return"<"+n+">\n"+e+"</"+n+">\n"},r.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},r.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},r.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},r.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},r.prototype.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},r.prototype.strong=function(e){return"<strong>"+e+"</strong>"},r.prototype.em=function(e){return"<em>"+e+"</em>"},r.prototype.codespan=function(e){return"<code>"+e+"</code>"},r.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},r.prototype.del=function(e){return"<del>"+e+"</del>"},r.prototype.link=function(e,t,n){if(this.options.sanitize){try{var i=decodeURIComponent(function(e){return e.replace(/&([#\w]+);/g,function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return""}if(0===i.indexOf("javascript:")||0===i.indexOf("vbscript:"))return""}var r='<a href="'+e+'"';return t&&(r+=' title="'+t+'"'),r+">"+n+"</a>"},r.prototype.image=function(e,t,n){var i='<img src="'+e+'" alt="'+n+'"';return t&&(i+=' title="'+t+'"'),i+(this.options.xhtml?"/>":">")},r.prototype.text=function(e){return e},o.parse=function(e,t,n){return new o(t,n).parse(e)},o.prototype.parse=function(e){this.inline=new i(e.links,this.options,this.renderer),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},o.prototype.next=function(){return this.token=this.tokens.pop()},o.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},o.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},o.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,i,r="",o="";for(n="",e=0;e<this.token.header.length;e++)({header:!0,align:this.token.align[e]}),n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(r+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",i=0;i<t.length;i++)n+=this.renderer.tablecell(this.inline.output(t[i]),{header:!1,align:this.token.align[i]});o+=this.renderer.tablerow(n)}return this.renderer.table(r,o);case"blockquote_start":for(o="";"blockquote_end"!==this.next().type;)o+=this.tok();return this.renderer.blockquote(o);case"list_start":o="";for(var s=this.token.ordered;"list_end"!==this.next().type;)o+=this.tok();return this.renderer.list(o,s);case"list_item_start":for(o="";"list_item_end"!==this.next().type;)o+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(o);case"loose_item_start":for(o="";"list_item_end"!==this.next().type;)o+=this.tok();return this.renderer.listitem(o);case"html":var a=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(a);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},l.exec=l,c.options=c.setOptions=function(e){return u(c.defaults,e),c},c.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new r,xhtml:!1},c.Parser=o,c.parser=o.parse,c.Renderer=r,c.Lexer=e,c.lexer=e.lex,c.InlineLexer=i,c.inlineLexer=i.output,c.parse=c,void 0!==t&&"object"==typeof n?t.exports=c:this.marked=c}).call(function(){return this||("undefined"!=typeof window?window:e)}())}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],18:[function(e,t,n){(function(n,i){"use strict";var r=function(e,t,n,r){if(r=r||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=r.flags||{},e){if(this.dictionary=e,"undefined"!=typeof window&&"chrome"in window&&"extension"in window.chrome&&"getURL"in window.chrome.extension)t||(t=this._readFile(chrome.extension.getURL("lib/typo/dictionaries/"+e+"/"+e+".aff"))),n||(n=this._readFile(chrome.extension.getURL("lib/typo/dictionaries/"+e+"/"+e+".dic")));else{if(r.dictionaryPath)var o=r.dictionaryPath;else if(void 0!==i)o=i+"/dictionaries";else o="./dictionaries";t||(t=this._readFile(o+"/"+e+"/"+e+".aff")),n||(n=this._readFile(o+"/"+e+"/"+e+".dic"))}this.rules=this._parseAFF(t),this.compoundRuleCodes={};for(var s=0,a=this.compoundRules.length;a>s;s++)for(var l=this.compoundRules[s],u=0,c=l.length;c>u;u++)this.compoundRuleCodes[l[u]]=[];for(var s in"ONLYINCOMPOUND"in this.flags&&(this.compoundRuleCodes[this.flags.ONLYINCOMPOUND]=[]),this.dictionaryTable=this._parseDIC(n),this.compoundRuleCodes)0==this.compoundRuleCodes[s].length&&delete this.compoundRuleCodes[s];for(s=0,a=this.compoundRules.length;a>s;s++){var p=this.compoundRules[s],f="";for(u=0,c=p.length;c>u;u++){var d=p[u];f+=d in this.compoundRuleCodes?"("+this.compoundRuleCodes[d].join("|")+")":d}this.compoundRules[s]=new RegExp(f,"i")}}return this};r.prototype={load:function(e){for(var t in e)this[t]=e[t];return this},_readFile:function(t,i){if(i||(i="utf8"),"undefined"!=typeof XMLHttpRequest){var r=new XMLHttpRequest;return r.open("GET",t,!1),r.overrideMimeType&&r.overrideMimeType("text/plain; charset="+i),r.send(null),r.responseText}if(void 0!==e){var o=e("fs");try{if(o.existsSync(t)){var s=o.statSync(t),a=o.openSync(t,"r"),l=new n(s.size);return o.readSync(a,l,0,l.length,null),l.toString(i,0,l.length)}console.log("Path "+t+" does not exist.")}catch(e){return console.log(e),""}}},_parseAFF:function(e){for(var t={},n=(e=this._removeAffixComments(e)).split("\n"),i=0,r=n.length;r>i;i++){var o=(v=n[i]).split(/\s+/),s=o[0];if("PFX"==s||"SFX"==s){for(var a=o[1],l=o[2],u=[],c=i+1,p=i+1+(y=parseInt(o[3],10));p>c;c++){var f=(_=(v=n[c]).split(/\s+/))[2],d=_[3].split("/"),h=d[0];"0"===h&&(h="");var m=this.parseRuleCodes(d[1]),g=_[4],b={};b.add=h,m.length>0&&(b.continuationClasses=m),"."!==g&&(b.match="SFX"===s?new RegExp(g+"$"):new RegExp("^"+g)),"0"!=f&&(b.remove="SFX"===s?new RegExp(f+"$"):f),u.push(b)}t[a]={type:s,combineable:"Y"==l,entries:u},i+=y}else if("COMPOUNDRULE"===s){var y;for(c=i+1,p=i+1+(y=parseInt(o[1],10));p>c;c++){var v,_=(v=n[c]).split(/\s+/);this.compoundRules.push(_[1])}i+=y}else if("REP"===s){3===(_=v.split(/\s+/)).length&&this.replacementTable.push([_[1],_[2]])}else this.flags[s]=o[1]}return t},_removeAffixComments:function(e){return(e=(e=(e=e.replace(/#.*$/gm,"")).replace(/^\s\s*/m,"").replace(/\s\s*$/m,"")).replace(/\n{2,}/g,"\n")).replace(/^\s\s*/,"").replace(/\s\s*$/,"")},_parseDIC:function(e){function t(e,t){e in i&&"object"==typeof i[e]||(i[e]=[]),i[e].push(t)}for(var n=(e=this._removeDicComments(e)).split("\n"),i={},r=1,o=n.length;o>r;r++){var s=n[r].split("/",2),a=s[0];if(s.length>1){var l=this.parseRuleCodes(s[1]);"NEEDAFFIX"in this.flags&&-1!=l.indexOf(this.flags.NEEDAFFIX)||t(a,l);for(var u=0,c=l.length;c>u;u++){var p=l[u],f=this.rules[p];if(f)for(var d=this._applyRule(a,f),h=0,m=d.length;m>h;h++){var g=d[h];if(t(g,[]),f.combineable)for(var b=u+1;c>b;b++){var y=l[b],v=this.rules[y];if(v&&v.combineable&&f.type!=v.type)for(var _=this._applyRule(g,v),x=0,w=_.length;w>x;x++){t(_[x],[])}}}p in this.compoundRuleCodes&&this.compoundRuleCodes[p].push(a)}}else t(a.trim(),[])}return i},_removeDicComments:function(e){return e.replace(/^\t.*$/gm,"")},parseRuleCodes:function(e){if(!e)return[];if(!("FLAG"in this.flags))return e.split("");if("long"===this.flags.FLAG){for(var t=[],n=0,i=e.length;i>n;n+=2)t.push(e.substr(n,2));return t}return"num"===this.flags.FLAG?textCode.split(","):void 0},_applyRule:function(e,t){for(var n=t.entries,i=[],r=0,o=n.length;o>r;r++){var s=n[r];if(!s.match||e.match(s.match)){var a=e;if(s.remove&&(a=a.replace(s.remove,"")),"SFX"===t.type?a+=s.add:a=s.add+a,i.push(a),"continuationClasses"in s)for(var l=0,u=s.continuationClasses.length;u>l;l++){var c=this.rules[s.continuationClasses[l]];c&&(i=i.concat(this._applyRule(a,c)))}}}return i},check:function(e){var t=e.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(t))return!0;if(t.toUpperCase()===t){var n=t[0]+t.substring(1).toLowerCase();if(this.hasFlag(n,"KEEPCASE"))return!1;if(this.checkExact(n))return!0}var i=t.toLowerCase();if(i!==t){if(this.hasFlag(i,"KEEPCASE"))return!1;if(this.checkExact(i))return!0}return!1},checkExact:function(e){var t=this.dictionaryTable[e];if(void 0===t){if("COMPOUNDMIN"in this.flags&&e.length>=this.flags.COMPOUNDMIN)for(var n=0,i=this.compoundRules.length;i>n;n++)if(e.match(this.compoundRules[n]))return!0;return!1}if("object"==typeof t){for(n=0,i=t.length;i>n;n++)if(!this.hasFlag(e,"ONLYINCOMPOUND",t[n]))return!0;return!1}},hasFlag:function(e,t,n){if(t in this.flags){if(void 0===n)n=Array.prototype.concat.apply([],this.dictionaryTable[e]);if(n&&-1!==n.indexOf(this.flags[t]))return!0}return!1},alphabet:"",suggest:function(e,t){function n(e){for(var t=[],n=0,i=e.length;i>n;n++){for(var r=e[n],o=[],s=0,a=r.length+1;a>s;s++)o.push([r.substring(0,s),r.substring(s,r.length)]);var u=[];for(s=0,a=o.length;a>s;s++){(h=o[s])[1]&&u.push(h[0]+h[1].substring(1))}var c=[];for(s=0,a=o.length;a>s;s++){(h=o[s])[1].length>1&&c.push(h[0]+h[1][1]+h[1][0]+h[1].substring(2))}var p=[];for(s=0,a=o.length;a>s;s++){if((h=o[s])[1])for(var f=0,d=l.alphabet.length;d>f;f++)p.push(h[0]+l.alphabet[f]+h[1].substring(1))}for(s=0,a=o.length;a>s;s++){var h;if((h=o[s])[1])for(f=0,d=l.alphabet.length;d>f;f++)p.push(h[0]+l.alphabet[f]+h[1])}t=(t=(t=(t=t.concat(u)).concat(c)).concat(p)).concat([])}return t}function i(e){for(var t=[],n=0;n<e.length;n++)l.check(e[n])&&t.push(e[n]);return t}if(t||(t=5),this.check(e))return[];for(var r=0,o=this.replacementTable.length;o>r;r++){var s=this.replacementTable[r];if(-1!==e.indexOf(s[0])){var a=e.replace(s[0],s[1]);if(this.check(a))return[a]}}var l=this;return l.alphabet="abcdefghijklmnopqrstuvwxyz",function(e){for(var r=n([e]),o=n(r),s=i(r).concat(i(o)),a={},u=0,c=s.length;c>u;u++)s[u]in a?a[s[u]]+=1:a[s[u]]=1;var p=[];for(var u in a)p.push([u,a[u]]);p.sort(function(e,t){return e[1]<t[1]?-1:1}).reverse();var f=[];for(u=0,c=Math.min(t,p.length);c>u;u++)l.hasFlag(p[u][0],"NOSUGGEST")||f.push(p[u][0]);return f}(e)}},void 0!==t&&(t.exports=r)}).call(this,e("buffer").Buffer,"/node_modules/typo-js")},{buffer:3,fs:2}],19:[function(e,t,n){var i=e("codemirror");i.commands.tabAndIndentMarkdownList=function(e){var t=e.listSelections()[0].head;if(!1!==e.getStateAfter(t.line).list)e.execCommand("indentMore");else if(e.options.indentWithTabs)e.execCommand("insertTab");else{var n=Array(e.options.tabSize+1).join(" ");e.replaceSelection(n)}},i.commands.shiftTabAndUnindentMarkdownList=function(e){var t=e.listSelections()[0].head;if(!1!==e.getStateAfter(t.line).list)e.execCommand("indentLess");else if(e.options.indentWithTabs)e.execCommand("insertTab");else{var n=Array(e.options.tabSize+1).join(" ");e.replaceSelection(n)}}},{codemirror:10}],20:[function(e,t,n){"use strict";function i(e){return q?e.replace("Ctrl","Cmd"):e.replace("Cmd","Ctrl")}function r(e,t,n){e=e||{};var i=document.createElement("a");return t=null==t||t,e.title&&t&&(i.title=s(e.title,e.action,n),q&&(i.title=i.title.replace("Ctrl","⌘"),i.title=i.title.replace("Alt","⌥"))),i.tabIndex=-1,i.className=e.className,i}function o(){var e=document.createElement("i");return e.className="separator",e.innerHTML="|",e}function s(e,t,n){var r,o=e;return t&&(n[r=W(t)]&&(o+=" ("+i(n[r])+")")),o}function a(e,t){t=t||e.getCursor("start");var n=e.getTokenAt(t);if(!n.type)return{};for(var i,r,o=n.type.split(" "),s={},a=0;a<o.length;a++)"strong"===(i=o[a])?s.bold=!0:"variable-2"===i?(r=e.getLine(t.line),/^\s*\d+\.\s/.test(r)?s["ordered-list"]=!0:s["unordered-list"]=!0):"atom"===i?s.quote=!0:"em"===i?s.italic=!0:"quote"===i?s.quote=!0:"strikethrough"===i?s.strikethrough=!0:"comment"===i?s.code=!0:"link"===i?s.link=!0:"tag"===i?s.image=!0:i.match(/^header(\-[1-6])?$/)&&(s[i.replace("header","heading")]=!0);return s}function l(e){var t=e.codemirror;t.setOption("fullScreen",!t.getOption("fullScreen")),t.getOption("fullScreen")?(G=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=G;var n=t.getWrapperElement();/fullscreen/.test(n.previousSibling.className)?n.previousSibling.className=n.previousSibling.className.replace(/\s*fullscreen\b/,""):n.previousSibling.className+=" fullscreen";var i=e.toolbarElements.fullscreen;/active/.test(i.className)?i.className=i.className.replace(/\s*active\s*/g,""):i.className+=" active";var r=t.getWrapperElement().nextSibling;/editor-preview-active-side/.test(r.className)&&A(e)}function u(e){L(e,"bold",e.options.blockStyles.bold)}function c(e){L(e,"italic",e.options.blockStyles.italic)}function p(e){L(e,"strikethrough","~~")}function f(e){function t(e){if("object"!=typeof e)throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof e+": "+e;return e.styles&&e.styles[2]&&-1!==e.styles[2].indexOf("formatting-code-block")}function n(e){return e.state.base.base||e.state.base}function i(e,i,r,o,s){r=r||e.getLineHandle(i),o=o||e.getTokenAt({line:i,ch:1}),s=s||!!r.text&&e.getTokenAt({line:i,ch:r.text.length-1});var a=o.type?o.type.split(" "):[];return s&&n(s).indentedCode?"indented":-1!==a.indexOf("comment")&&(n(o).fencedChars||n(s).fencedChars||t(r)?"fenced":"single")}var r,o,s,a=e.options.blockStyles.code,l=e.codemirror,u=l.getCursor("start"),c=l.getCursor("end"),p=l.getTokenAt({line:u.line,ch:u.ch||1}),f=l.getLineHandle(u.line),d=i(l,u.line,f,p);if("single"===d){var h=f.text.slice(0,u.ch).replace("`",""),m=f.text.slice(u.ch).replace("`","");l.replaceRange(h+m,{line:u.line,ch:0},{line:u.line,ch:99999999999999}),u.ch--,u!==c&&c.ch--,l.setSelection(u,c),l.focus()}else if("fenced"===d)if(u.line!==c.line||u.ch!==c.ch){for(r=u.line;r>=0&&!t(f=l.getLineHandle(r));r--);var g,b,y,v,_=n(l.getTokenAt({line:r,ch:1})).fencedChars;t(l.getLineHandle(u.line))?(g="",b=u.line):t(l.getLineHandle(u.line-1))?(g="",b=u.line-1):(g=_+"\n",b=u.line),t(l.getLineHandle(c.line))?(y="",v=c.line,0===c.ch&&(v+=1)):0!==c.ch&&t(l.getLineHandle(c.line+1))?(y="",v=c.line+1):(y=_+"\n",v=c.line+1),0===c.ch&&(v-=1),l.operation(function(){l.replaceRange(y,{line:v,ch:0},{line:v+(y?0:1),ch:0}),l.replaceRange(g,{line:b,ch:0},{line:b+(g?0:1),ch:0})}),l.setSelection({line:b+(g?1:0),ch:0},{line:v+(g?1:-1),ch:0}),l.focus()}else{var x=u.line;if(t(l.getLineHandle(u.line))&&("fenced"===i(l,u.line+1)?(r=u.line,x=u.line+1):(o=u.line,x=u.line-1)),void 0===r)for(r=x;r>=0&&!t(f=l.getLineHandle(r));r--);if(void 0===o)for(s=l.lineCount(),o=x;s>o&&!t(f=l.getLineHandle(o));o++);l.operation(function(){l.replaceRange("",{line:r,ch:0},{line:r+1,ch:0}),l.replaceRange("",{line:o-1,ch:0},{line:o,ch:0})}),l.focus()}else if("indented"===d){if(u.line!==c.line||u.ch!==c.ch)r=u.line,o=c.line,0===c.ch&&o--;else{for(r=u.line;r>=0;r--)if(!(f=l.getLineHandle(r)).text.match(/^\s*$/)&&"indented"!==i(l,r,f)){r+=1;break}for(s=l.lineCount(),o=u.line;s>o;o++)if(!(f=l.getLineHandle(o)).text.match(/^\s*$/)&&"indented"!==i(l,o,f)){o-=1;break}}var w=l.getLineHandle(o+1),k=w&&l.getTokenAt({line:o+1,ch:w.text.length-1});k&&n(k).indentedCode&&l.replaceRange("\n",{line:o+1,ch:0});for(var S=r;o>=S;S++)l.indentLine(S,"subtract");l.focus()}else{var C=u.line===c.line&&u.ch===c.ch&&0===u.ch,E=u.line!==c.line;C||E?function(e,t,n,i){var r=t.line+1,o=n.line+1,s=t.line!==n.line,a=i+"\n",l="\n"+i;s&&o++,s&&0===n.ch&&(l=i+"\n",o--),M(e,!1,[a,l]),e.setSelection({line:r,ch:0},{line:o,ch:0})}(l,u,c,a):M(l,!1,["`","`"])}}function d(e){O(e.codemirror,"quote")}function h(e){R(e.codemirror,"smaller")}function m(e){R(e.codemirror,"bigger")}function g(e){R(e.codemirror,void 0,1)}function b(e){R(e.codemirror,void 0,2)}function y(e){R(e.codemirror,void 0,3)}function v(e){O(e.codemirror,"unordered-list")}function _(e){O(e.codemirror,"ordered-list")}function x(e){!function(e){if(!/editor-preview-active/.test(e.getWrapperElement().lastChild.className))for(var t,n=e.getCursor("start"),i=e.getCursor("end"),r=n.line;r<=i.line;r++)t=(t=e.getLine(r)).replace(/^[ ]*([# ]+|\*|\-|[> ]+|[0-9]+(.|\)))[ ]*/,""),e.replaceRange(t,{line:r,ch:0},{line:r,ch:99999999999999})}(e.codemirror)}function w(e){var t=e.codemirror,n=a(t),i=e.options,r="http://";return!(i.promptURLs&&(r=prompt(i.promptTexts.link),!r))&&void M(t,n.link,i.insertTexts.link,r)}function k(e){var t=e.codemirror,n=a(t),i=e.options,r="http://";return!(i.promptURLs&&(r=prompt(i.promptTexts.image),!r))&&void M(t,n.image,i.insertTexts.image,r)}function S(e){var t=e.codemirror,n=a(t),i=e.options;M(t,n.table,i.insertTexts.table)}function C(e){var t=e.codemirror,n=a(t),i=e.options;M(t,n.image,i.insertTexts.horizontalRule)}function E(e){var t=e.codemirror;t.undo(),t.focus()}function T(e){var t=e.codemirror;t.redo(),t.focus()}function A(e){var t=e.codemirror,n=t.getWrapperElement(),i=n.nextSibling,r=e.toolbarElements["side-by-side"],o=!1;/editor-preview-active-side/.test(i.className)?(i.className=i.className.replace(/\s*editor-preview-active-side\s*/g,""),r.className=r.className.replace(/\s*active\s*/g,""),n.className=n.className.replace(/\s*CodeMirror-sided\s*/g," ")):(setTimeout(function(){t.getOption("fullScreen")||l(e),i.className+=" editor-preview-active-side"},1),r.className+=" active",n.className+=" CodeMirror-sided",o=!0);var s=n.lastChild;if(/editor-preview-active/.test(s.className)){s.className=s.className.replace(/\s*editor-preview-active\s*/g,"");var a=e.toolbarElements.preview,u=n.previousSibling;a.className=a.className.replace(/\s*active\s*/g,""),u.className=u.className.replace(/\s*disabled-for-preview*/g,"")}t.sideBySideRenderingFunction||(t.sideBySideRenderingFunction=function(){i.innerHTML=e.options.previewRender(e.value(),i)}),o?(i.innerHTML=e.options.previewRender(e.value(),i),t.on("update",t.sideBySideRenderingFunction)):t.off("update",t.sideBySideRenderingFunction),t.refresh()}function N(e){var t=e.codemirror,n=t.getWrapperElement(),i=n.previousSibling,r=!!e.options.toolbar&&e.toolbarElements.preview,o=n.lastChild;o&&/editor-preview/.test(o.className)||((o=document.createElement("div")).className="editor-preview",n.appendChild(o)),/editor-preview-active/.test(o.className)?(o.className=o.className.replace(/\s*editor-preview-active\s*/g,""),r&&(r.className=r.className.replace(/\s*active\s*/g,""),i.className=i.className.replace(/\s*disabled-for-preview*/g,""))):(setTimeout(function(){o.className+=" editor-preview-active"},1),r&&(r.className+=" active",i.className+=" disabled-for-preview")),o.innerHTML=e.options.previewRender(e.value(),o);var s=t.getWrapperElement().nextSibling;/editor-preview-active-side/.test(s.className)&&A(e)}function M(e,t,n,i){if(!/editor-preview-active/.test(e.getWrapperElement().lastChild.className)){var r,o=n[0],s=n[1],a=e.getCursor("start"),l=e.getCursor("end");i&&(s=s.replace("#url#",i)),t?(o=(r=e.getLine(a.line)).slice(0,a.ch),s=r.slice(a.ch),e.replaceRange(o+s,{line:a.line,ch:0})):(r=e.getSelection(),e.replaceSelection(o+r+s),a.ch+=o.length,a!==l&&(l.ch+=o.length)),e.setSelection(a,l),e.focus()}}function R(e,t,n){if(!/editor-preview-active/.test(e.getWrapperElement().lastChild.className)){for(var i=e.getCursor("start"),r=e.getCursor("end"),o=i.line;o<=r.line;o++)!function(i){var r=e.getLine(i),o=r.search(/[^#]/);r=void 0!==t?0>=o?"bigger"==t?"###### "+r:"# "+r:6==o&&"smaller"==t?r.substr(7):1==o&&"bigger"==t?r.substr(2):"bigger"==t?r.substr(1):"#"+r:1==n?0>=o?"# "+r:o==n?r.substr(o+1):"# "+r.substr(o+1):2==n?0>=o?"## "+r:o==n?r.substr(o+1):"## "+r.substr(o+1):0>=o?"### "+r:o==n?r.substr(o+1):"### "+r.substr(o+1),e.replaceRange(r,{line:i,ch:0},{line:i,ch:99999999999999})}(o);e.focus()}}function O(e,t){if(!/editor-preview-active/.test(e.getWrapperElement().lastChild.className)){for(var n=a(e),i=e.getCursor("start"),r=e.getCursor("end"),o={quote:/^(\s*)\>\s+/,"unordered-list":/^(\s*)(\*|\-|\+)\s+/,"ordered-list":/^(\s*)\d+\.\s+/},s={quote:"> ","unordered-list":"* ","ordered-list":"1. "},l=i.line;l<=r.line;l++)!function(i){var r=e.getLine(i);r=n[t]?r.replace(o[t],"$1"):s[t]+r,e.replaceRange(r,{line:i,ch:0},{line:i,ch:99999999999999})}(l);e.focus()}}function L(e,t,n,i){if(!/editor-preview-active/.test(e.codemirror.getWrapperElement().lastChild.className)){i=void 0===i?n:i;var r,o=e.codemirror,s=a(o),l=n,u=i,c=o.getCursor("start"),p=o.getCursor("end");s[t]?(l=(r=o.getLine(c.line)).slice(0,c.ch),u=r.slice(c.ch),"bold"==t?(l=l.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),u=u.replace(/(\*\*|__)/,"")):"italic"==t?(l=l.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),u=u.replace(/(\*|_)/,"")):"strikethrough"==t&&(l=l.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),u=u.replace(/(\*\*|~~)/,"")),o.replaceRange(l+u,{line:c.line,ch:0},{line:c.line,ch:99999999999999}),"bold"==t||"strikethrough"==t?(c.ch-=2,c!==p&&(p.ch-=2)):"italic"==t&&(c.ch-=1,c!==p&&(p.ch-=1))):(r=o.getSelection(),"bold"==t?r=(r=r.split("**").join("")).split("__").join(""):"italic"==t?r=(r=r.split("*").join("")).split("_").join(""):"strikethrough"==t&&(r=r.split("~~").join("")),o.replaceSelection(l+r+u),c.ch+=n.length,p.ch=c.ch+r.length),o.setSelection(c,p),o.focus()}}function P(e,t){for(var n in t)t.hasOwnProperty(n)&&(t[n]instanceof Array?e[n]=t[n].concat(e[n]instanceof Array?e[n]:[]):null!==t[n]&&"object"==typeof t[n]&&t[n].constructor===Object?e[n]=P(e[n]||{},t[n]):e[n]=t[n]);return e}function D(e){for(var t=1;t<arguments.length;t++)e=P(e,arguments[t]);return e}function I(e){var t=e.match(/[a-zA-Z0-9_\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g),n=0;if(null===t)return n;for(var i=0;i<t.length;i++)n+=t[i].charCodeAt(0)>=19968?t[i].length:1;return n}function F(e){(e=e||{}).parent=this;var t=!0;if(!1===e.autoDownloadFontAwesome&&(t=!1),!0!==e.autoDownloadFontAwesome)for(var n=document.styleSheets,i=0;i<n.length;i++)n[i].href&&n[i].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")>-1&&(t=!1);if(t){var r=document.createElement("link");r.rel="stylesheet",r.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(r)}if(e.element)this.element=e.element;else if(null===e.element)return void console.log("SimpleMDE: Error. No element was found.");if(void 0===e.toolbar)for(var o in e.toolbar=[],K)K.hasOwnProperty(o)&&(-1!=o.indexOf("separator-")&&e.toolbar.push("|"),(!0===K[o].default||e.showIcons&&e.showIcons.constructor===Array&&-1!=e.showIcons.indexOf(o))&&e.toolbar.push(o));e.hasOwnProperty("status")||(e.status=["autosave","lines","words","cursor"]),e.previewRender||(e.previewRender=function(e){return this.parent.markdown(e)}),e.parsingConfig=D({highlightFormatting:!0},e.parsingConfig||{}),e.insertTexts=D({},Y,e.insertTexts||{}),e.promptTexts=X,e.blockStyles=D({},Q,e.blockStyles||{}),e.shortcuts=D({},U,e.shortcuts||{}),null!=e.autosave&&null!=e.autosave.unique_id&&""!=e.autosave.unique_id&&(e.autosave.uniqueId=e.autosave.unique_id),this.options=e,this.render(),!e.initialValue||this.options.autosave&&!0===this.options.autosave.foundSavedValue||this.value(e.initialValue)}function $(){if("object"!=typeof localStorage)return!1;try{localStorage.setItem("smde_localStorage",1),localStorage.removeItem("smde_localStorage")}catch(e){return!1}return!0}var j=e("codemirror");e("codemirror/addon/edit/continuelist.js"),e("./codemirror/tablist"),e("codemirror/addon/display/fullscreen.js"),e("codemirror/mode/markdown/markdown.js"),e("codemirror/addon/mode/overlay.js"),e("codemirror/addon/display/placeholder.js"),e("codemirror/addon/selection/mark-selection.js"),e("codemirror/mode/gfm/gfm.js"),e("codemirror/mode/xml/xml.js");var B=e("codemirror-spell-checker"),z=e("marked"),q=/Mac/.test(navigator.platform),H={toggleBold:u,toggleItalic:c,drawLink:w,toggleHeadingSmaller:h,toggleHeadingBigger:m,drawImage:k,toggleBlockquote:d,toggleOrderedList:_,toggleUnorderedList:v,toggleCodeBlock:f,togglePreview:N,toggleStrikethrough:p,toggleHeading1:g,toggleHeading2:b,toggleHeading3:y,cleanBlock:x,drawTable:S,drawHorizontalRule:C,undo:E,redo:T,toggleSideBySide:A,toggleFullScreen:l},U={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"},W=function(e){for(var t in H)if(H[t]===e)return t;return null},V=function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t},G="",K={bold:{name:"bold",action:u,className:"fa fa-bold",title:"Bold",default:!0},italic:{name:"italic",action:c,className:"fa fa-italic",title:"Italic",default:!0},strikethrough:{name:"strikethrough",action:p,className:"fa fa-strikethrough",title:"Strikethrough"},heading:{name:"heading",action:h,className:"fa fa-header",title:"Heading",default:!0},"heading-smaller":{name:"heading-smaller",action:h,className:"fa fa-header fa-header-x fa-header-smaller",title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:m,className:"fa fa-header fa-header-x fa-header-bigger",title:"Bigger Heading"},"heading-1":{name:"heading-1",action:g,className:"fa fa-header fa-header-x fa-header-1",title:"Big Heading"},"heading-2":{name:"heading-2",action:b,className:"fa fa-header fa-header-x fa-header-2",title:"Medium Heading"},"heading-3":{name:"heading-3",action:y,className:"fa fa-header fa-header-x fa-header-3",title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:f,className:"fa fa-code",title:"Code"},quote:{name:"quote",action:d,className:"fa fa-quote-left",title:"Quote",default:!0},"unordered-list":{name:"unordered-list",action:v,className:"fa fa-list-ul",title:"Generic List",default:!0},"ordered-list":{name:"ordered-list",action:_,className:"fa fa-list-ol",title:"Numbered List",default:!0},"clean-block":{name:"clean-block",action:x,className:"fa fa-eraser fa-clean-block",title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:w,className:"fa fa-link",title:"Create Link",default:!0},image:{name:"image",action:k,className:"fa fa-picture-o",title:"Insert Image",default:!0},table:{name:"table",action:S,className:"fa fa-table",title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:C,className:"fa fa-minus",title:"Insert Horizontal Line"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:N,className:"fa fa-eye no-disable",title:"Toggle Preview",default:!0},"side-by-side":{name:"side-by-side",action:A,className:"fa fa-columns no-disable no-mobile",title:"Toggle Side by Side",default:!0},fullscreen:{name:"fullscreen",action:l,className:"fa fa-arrows-alt no-disable no-mobile",title:"Toggle Fullscreen",default:!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://simplemde.com/markdown-guide",className:"fa fa-question-circle",title:"Markdown Guide",default:!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:E,className:"fa fa-undo no-disable",title:"Undo"},redo:{name:"redo",action:T,className:"fa fa-repeat no-disable",title:"Redo"}},Y={link:["[","](#url#)"],image:["![](","#url#)"],table:["","\n\n| Column 1 | Column 2 | Column 3 |\n| -------- | -------- | -------- |\n| Text     | Text     | Text     |\n\n"],horizontalRule:["","\n\n-----\n\n"]},X={link:"URL for the link:",image:"URL of the image:"},Q={bold:"**",code:"```",italic:"*"};F.prototype.markdown=function(e){if(z){var t={};return this.options&&this.options.renderingConfig&&!1===this.options.renderingConfig.singleLineBreaks?t.breaks=!1:t.breaks=!0,this.options&&this.options.renderingConfig&&!0===this.options.renderingConfig.codeSyntaxHighlighting&&window.hljs&&(t.highlight=function(e){return window.hljs.highlightAuto(e).value}),z.setOptions(t),z(e)}},F.prototype.render=function(e){if(e||(e=this.element||document.getElementsByTagName("textarea")[0]),!this._rendered||this._rendered!==e){this.element=e;var t,n,r=this.options,o=this,s={};for(var a in r.shortcuts)null!==r.shortcuts[a]&&null!==H[a]&&function(e){s[i(r.shortcuts[e])]=function(){H[e](o)}}(a);if(s.Enter="newlineAndIndentContinueMarkdownList",s.Tab="tabAndIndentMarkdownList",s["Shift-Tab"]="shiftTabAndUnindentMarkdownList",s.Esc=function(e){e.getOption("fullScreen")&&l(o)},document.addEventListener("keydown",function(e){27==(e=e||window.event).keyCode&&o.codemirror.getOption("fullScreen")&&l(o)},!1),!1!==r.spellChecker?(t="spell-checker",(n=r.parsingConfig).name="gfm",n.gitHubSpice=!1,B({codeMirrorInstance:j})):((t=r.parsingConfig).name="gfm",t.gitHubSpice=!1),this.codemirror=j.fromTextArea(e,{mode:t,backdrop:n,theme:"paper",tabSize:null!=r.tabSize?r.tabSize:2,indentUnit:null!=r.tabSize?r.tabSize:2,indentWithTabs:!1!==r.indentWithTabs,lineNumbers:!1,autofocus:!0===r.autofocus,extraKeys:s,lineWrapping:!1!==r.lineWrapping,allowDropFileTypes:["text/plain"],placeholder:r.placeholder||e.getAttribute("placeholder")||"",styleSelectedText:null==r.styleSelectedText||r.styleSelectedText}),!0===r.forceSync){var u=this.codemirror;u.on("change",function(){u.save()})}this.gui={},!1!==r.toolbar&&(this.gui.toolbar=this.createToolbar()),!1!==r.status&&(this.gui.statusbar=this.createStatusbar()),null!=r.autosave&&!0===r.autosave.enabled&&this.autosave(),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element;var c=this.codemirror;setTimeout(function(){c.refresh()}.bind(c),0)}},F.prototype.autosave=function(){if($()){var e=this;if(null==this.options.autosave.uniqueId||""==this.options.autosave.uniqueId)return void console.log("SimpleMDE: You must set a uniqueId to use the autosave feature");null!=e.element.form&&null!=e.element.form&&e.element.form.addEventListener("submit",function(){localStorage.removeItem("smde_"+e.options.autosave.uniqueId)}),!0!==this.options.autosave.loaded&&("string"==typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)&&""!=localStorage.getItem("smde_"+this.options.autosave.uniqueId)&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0),localStorage.setItem("smde_"+this.options.autosave.uniqueId,e.value());var t=document.getElementById("autosaved");if(null!=t&&null!=t&&""!=t){var n=new Date,i=n.getHours(),r=n.getMinutes(),o="am",s=i;s>=12&&(s=i-12,o="pm"),0==s&&(s=12),r=10>r?"0"+r:r,t.innerHTML="Autosaved: "+s+":"+r+" "+o}this.autosaveTimeoutId=setTimeout(function(){e.autosave()},this.options.autosave.delay||1e4)}else console.log("SimpleMDE: localStorage not available, cannot autosave")},F.prototype.clearAutosavedValue=function(){if($()){if(null==this.options.autosave||null==this.options.autosave.uniqueId||""==this.options.autosave.uniqueId)return void console.log("SimpleMDE: You must set a uniqueId to clear the autosave value");localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}else console.log("SimpleMDE: localStorage not available, cannot autosave")},F.prototype.createSideBySide=function(){var e=this.codemirror,t=e.getWrapperElement(),n=t.nextSibling;n&&/editor-preview-side/.test(n.className)||((n=document.createElement("div")).className="editor-preview-side",t.parentNode.insertBefore(n,t.nextSibling));var i=!1,r=!1;return e.on("scroll",function(e){if(i)i=!1;else{r=!0;var t=e.getScrollInfo().height-e.getScrollInfo().clientHeight,o=parseFloat(e.getScrollInfo().top)/t,s=(n.scrollHeight-n.clientHeight)*o;n.scrollTop=s}}),n.onscroll=function(){if(r)r=!1;else{i=!0;var t=n.scrollHeight-n.clientHeight,o=parseFloat(n.scrollTop)/t,s=(e.getScrollInfo().height-e.getScrollInfo().clientHeight)*o;e.scrollTo(0,s)}},n},F.prototype.createToolbar=function(e){if((e=e||this.options.toolbar)&&0!==e.length){var t;for(t=0;t<e.length;t++)null!=K[e[t]]&&(e[t]=K[e[t]]);var n=document.createElement("div");n.className="editor-toolbar";var i=this,s={};for(i.toolbar=e,t=0;t<e.length;t++)if(("guide"!=e[t].name||!1!==i.options.toolbarGuideIcon)&&!(i.options.hideIcons&&-1!=i.options.hideIcons.indexOf(e[t].name)||("fullscreen"==e[t].name||"side-by-side"==e[t].name)&&V())){if("|"===e[t]){for(var l=!1,u=t+1;u<e.length;u++)"|"===e[u]||i.options.hideIcons&&-1!=i.options.hideIcons.indexOf(e[u].name)||(l=!0);if(!l)continue}!function(e){var t;t="|"===e?o():r(e,i.options.toolbarTips,i.options.shortcuts),e.action&&("function"==typeof e.action?t.onclick=function(t){t.preventDefault(),e.action(i)}:"string"==typeof e.action&&(t.href=e.action,t.target="_blank")),s[e.name||e]=t,n.appendChild(t)}(e[t])}i.toolbarElements=s;var c=this.codemirror;c.on("cursorActivity",function(){var e=a(c);for(var t in s)!function(t){var n=s[t];e[t]?n.className+=" active":"fullscreen"!=t&&"side-by-side"!=t&&(n.className=n.className.replace(/\s*active\s*/g,""))}(t)});var p=c.getWrapperElement();return p.parentNode.insertBefore(n,p),n}},F.prototype.createStatusbar=function(e){e=e||this.options.status;var t=this.options,n=this.codemirror;if(e&&0!==e.length){var i,r,o,s=[];for(i=0;i<e.length;i++)if(r=void 0,o=void 0,"object"==typeof e[i])s.push({className:e[i].className,defaultValue:e[i].defaultValue,onUpdate:e[i].onUpdate});else{var a=e[i];"words"===a?(o=function(e){e.innerHTML=I(n.getValue())},r=function(e){e.innerHTML=I(n.getValue())}):"lines"===a?(o=function(e){e.innerHTML=n.lineCount()},r=function(e){e.innerHTML=n.lineCount()}):"cursor"===a?(o=function(e){e.innerHTML="0:0"},r=function(e){var t=n.getCursor();e.innerHTML=t.line+":"+t.ch}):"autosave"===a&&(o=function(e){null!=t.autosave&&!0===t.autosave.enabled&&e.setAttribute("id","autosaved")}),s.push({className:a,defaultValue:o,onUpdate:r})}var l=document.createElement("div");for(l.className="editor-statusbar",i=0;i<s.length;i++){var u=s[i],c=document.createElement("span");c.className=u.className,"function"==typeof u.defaultValue&&u.defaultValue(c),"function"==typeof u.onUpdate&&this.codemirror.on("update",function(e,t){return function(){t.onUpdate(e)}}(c,u)),l.appendChild(c)}var p=this.codemirror.getWrapperElement();return p.parentNode.insertBefore(l,p.nextSibling),l}},F.prototype.value=function(e){return void 0===e?this.codemirror.getValue():(this.codemirror.getDoc().setValue(e),this)},F.toggleBold=u,F.toggleItalic=c,F.toggleStrikethrough=p,F.toggleBlockquote=d,F.toggleHeadingSmaller=h,F.toggleHeadingBigger=m,F.toggleHeading1=g,F.toggleHeading2=b,F.toggleHeading3=y,F.toggleCodeBlock=f,F.toggleUnorderedList=v,F.toggleOrderedList=_,F.cleanBlock=x,F.drawLink=w,F.drawImage=k,F.drawTable=S,F.drawHorizontalRule=C,F.undo=E,F.redo=T,F.togglePreview=N,F.toggleSideBySide=A,F.toggleFullScreen=l,F.prototype.toggleBold=function(){u(this)},F.prototype.toggleItalic=function(){c(this)},F.prototype.toggleStrikethrough=function(){p(this)},F.prototype.toggleBlockquote=function(){d(this)},F.prototype.toggleHeadingSmaller=function(){h(this)},F.prototype.toggleHeadingBigger=function(){m(this)},F.prototype.toggleHeading1=function(){g(this)},F.prototype.toggleHeading2=function(){b(this)},F.prototype.toggleHeading3=function(){y(this)},F.prototype.toggleCodeBlock=function(){f(this)},F.prototype.toggleUnorderedList=function(){v(this)},F.prototype.toggleOrderedList=function(){_(this)},F.prototype.cleanBlock=function(){x(this)},F.prototype.drawLink=function(){w(this)},F.prototype.drawImage=function(){k(this)},F.prototype.drawTable=function(){S(this)},F.prototype.drawHorizontalRule=function(){C(this)},F.prototype.undo=function(){E(this)},F.prototype.redo=function(){T(this)},F.prototype.togglePreview=function(){N(this)},F.prototype.toggleSideBySide=function(){A(this)},F.prototype.toggleFullScreen=function(){l(this)},F.prototype.isPreviewActive=function(){var e=this.codemirror.getWrapperElement().lastChild;return/editor-preview-active/.test(e.className)},F.prototype.isSideBySideActive=function(){var e=this.codemirror.getWrapperElement().nextSibling;return/editor-preview-active-side/.test(e.className)},F.prototype.isFullscreenActive=function(){return this.codemirror.getOption("fullScreen")},F.prototype.getState=function(){return a(this.codemirror)},F.prototype.toTextArea=function(){var e=this.codemirror,t=e.getWrapperElement();t.parentNode&&(this.gui.toolbar&&t.parentNode.removeChild(this.gui.toolbar),this.gui.statusbar&&t.parentNode.removeChild(this.gui.statusbar),this.gui.sideBySide&&t.parentNode.removeChild(this.gui.sideBySide)),e.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())},t.exports=F},{"./codemirror/tablist":19,codemirror:10,"codemirror-spell-checker":4,"codemirror/addon/display/fullscreen.js":5,"codemirror/addon/display/placeholder.js":6,"codemirror/addon/edit/continuelist.js":7,"codemirror/addon/mode/overlay.js":8,"codemirror/addon/selection/mark-selection.js":9,"codemirror/mode/gfm/gfm.js":11,"codemirror/mode/markdown/markdown.js":12,"codemirror/mode/xml/xml.js":14,marked:17}]},{},[20])(20)})},function(e,t,n){var i=n(510),r=n(313);e.exports=function(e){return null!=e&&r(i(e))}},function(e,t,n){var i=n(512);e.exports=function(e,t,n){if("function"!=typeof e)return i;if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,o){return e.call(t,n,i,r,o)};case 5:return function(n,i,r,o,s){return e.call(t,n,i,r,o,s)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(739),o=(i=r)&&i.__esModule?i:{default:i};t.default=o.default},function(e,t,n){!function(e){"use strict";var t,n,i=e.Pos;function r(e,t){for(var n=function(e){var t=e.flags;return null!=t?t:(e.ignoreCase?"i":"")+(e.global?"g":"")+(e.multiline?"m":"")}(e),i=n,r=0;r<t.length;r++)-1==i.indexOf(t.charAt(r))&&(i+=t.charAt(r));return n==i?e:new RegExp(e.source,i)}function o(e,t,n){t=r(t,"g");for(var o=n.line,s=n.ch,a=e.lastLine();o<=a;o++,s=0){t.lastIndex=s;var l=e.getLine(o),u=t.exec(l);if(u)return{from:i(o,u.index),to:i(o,u.index+u[0].length),match:u}}}function s(e,t){for(var n,i=0;;){t.lastIndex=i;var r=t.exec(e);if(!r)return n;if((i=(n=r).index+(n[0].length||1))==e.length)return n}}function a(e,t,n,i){if(e.length==t.length)return n;for(var r=0,o=n+Math.max(0,e.length-t.length);;){if(r==o)return r;var s=r+o>>1,a=i(e.slice(0,s)).length;if(a==n)return s;a>n?o=s:r=s+1}}function l(e,l,u,c){var p;this.atOccurrence=!1,this.doc=e,u=u?e.clipPos(u):i(0,0),this.pos={from:u,to:u},"object"==typeof c?p=c.caseFold:(p=c,c=null),"string"==typeof l?(null==p&&(p=!1),this.matches=function(r,o){return(r?function(e,r,o,s){if(!r.length)return null;var l=s?t:n,u=l(r).split(/\r|\n\r?/);e:for(var c=o.line,p=o.ch,f=e.firstLine()-1+u.length;c>=f;c--,p=-1){var d=e.getLine(c);p>-1&&(d=d.slice(0,p));var h=l(d);if(1==u.length){var m=h.lastIndexOf(u[0]);if(-1==m)continue e;return{from:i(c,a(d,h,m,l)),to:i(c,a(d,h,m+u[0].length,l))}}var g=u[u.length-1];if(h.slice(0,g.length)==g){for(var b=1,o=c-u.length+1;b<u.length-1;b++)if(l(e.getLine(o+b))!=u[b])continue e;var y=e.getLine(c+1-u.length),v=l(y);if(v.slice(v.length-u[0].length)==u[0])return{from:i(c+1-u.length,a(y,v,y.length-u[0].length,l)),to:i(c,a(d,h,g.length,l))}}}}:function(e,r,o,s){if(!r.length)return null;var l=s?t:n,u=l(r).split(/\r|\n\r?/);e:for(var c=o.line,p=o.ch,f=e.lastLine()+1-u.length;c<=f;c++,p=0){var d=e.getLine(c).slice(p),h=l(d);if(1==u.length){var m=h.indexOf(u[0]);if(-1==m)continue e;var o=a(d,h,m,l)+p;return{from:i(c,a(d,h,m,l)+p),to:i(c,a(d,h,m+u[0].length,l)+p)}}var g=h.length-u[0].length;if(h.slice(g)==u[0]){for(var b=1;b<u.length-1;b++)if(l(e.getLine(c+b))!=u[b])continue e;var y=e.getLine(c+u.length-1),v=l(y),_=u[u.length-1];if(v.slice(0,_.length)==_)return{from:i(c,a(d,h,g,l)+p),to:i(c+u.length-1,a(y,v,_.length,l))}}}})(e,l,o,p)}):(l=r(l,"gm"),c&&!1===c.multiline?this.matches=function(t,n){return(t?function(e,t,n){t=r(t,"g");for(var o=n.line,a=n.ch,l=e.firstLine();o>=l;o--,a=-1){var u=e.getLine(o);a>-1&&(u=u.slice(0,a));var c=s(u,t);if(c)return{from:i(o,c.index),to:i(o,c.index+c[0].length),match:c}}}:o)(e,l,n)}:this.matches=function(t,n){return(t?function(e,t,n){t=r(t,"gm");for(var o,a=1,l=n.line,u=e.firstLine();l>=u;){for(var c=0;c<a;c++){var p=e.getLine(l--);o=null==o?p.slice(0,n.ch):p+"\n"+o}a*=2;var f=s(o,t);if(f){var d=o.slice(0,f.index).split("\n"),h=f[0].split("\n"),m=l+d.length,g=d[d.length-1].length;return{from:i(m,g),to:i(m+h.length-1,1==h.length?g+h[0].length:h[h.length-1].length),match:f}}}}:function(e,t,n){if(!function(e){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(e.source)}(t))return o(e,t,n);t=r(t,"gm");for(var s,a=1,l=n.line,u=e.lastLine();l<=u;){for(var c=0;c<a&&!(l>u);c++){var p=e.getLine(l++);s=null==s?p:s+"\n"+p}a*=2,t.lastIndex=n.ch;var f=t.exec(s);if(f){var d=s.slice(0,f.index).split("\n"),h=f[0].split("\n"),m=n.line+d.length-1,g=d[d.length-1].length;return{from:i(m,g),to:i(m+h.length-1,1==h.length?g+h[0].length:h[h.length-1].length),match:f}}}})(e,l,n)})}String.prototype.normalize?(t=function(e){return e.normalize("NFD").toLowerCase()},n=function(e){return e.normalize("NFD")}):(t=function(e){return e.toLowerCase()},n=function(e){return e}),l.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(t){for(var n=this.matches(t,this.doc.clipPos(t?this.pos.from:this.pos.to));n&&0==e.cmpPos(n.from,n.to);)t?n.from.ch?n.from=i(n.from.line,n.from.ch-1):n=n.from.line==this.doc.firstLine()?null:this.matches(t,this.doc.clipPos(i(n.from.line-1))):n.to.ch<this.doc.getLine(n.to.line).length?n.to=i(n.to.line,n.to.ch+1):n=n.to.line==this.doc.lastLine()?null:this.matches(t,i(n.to.line+1,0));if(n)return this.pos=n,this.atOccurrence=!0,this.pos.match||!0;var r=i(t?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:r,to:r},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(t,n){if(this.atOccurrence){var r=e.splitLines(t);this.doc.replaceRange(r,this.pos.from,this.pos.to,n),this.pos.to=i(this.pos.from.line+r.length-1,r[r.length-1].length+(1==r.length?this.pos.from.ch:0))}}},e.defineExtension("getSearchCursor",function(e,t,n){return new l(this.doc,e,t,n)}),e.defineDocExtension("getSearchCursor",function(e,t,n){return new l(this,e,t,n)}),e.defineExtension("selectMatches",function(t,n){for(var i=[],r=this.getSearchCursor(t,this.getCursor("from"),n);r.findNext()&&!(e.cmpPos(r.to(),this.getCursor("to"))>0);)i.push({anchor:r.from(),head:r.to()});i.length&&this.setSelections(i,0)})}(n(8))},function(e,t,n){var i,r,o,s,a;r=n(43),({button:o,i:s,span:a}=ReactDOMFactories),i=reactCreateClass({displayName:"Button",mixins:[Reflux.connect(r,"container")],propTypes:{btn_class:PropTypes.string.isRequired,disabled:PropTypes.bool.isRequired,disabled_tooltip:PropTypes.string.isRequired,icon:PropTypes.string,onClick:PropTypes.func.isRequired,shortcut:PropTypes.string,span_class:PropTypes.string,text:PropTypes.string,tooltip:PropTypes.string,tooltip_placement:PropTypes.string},getDefaultProps:function(){return{shortcut:"",span_class:"",tooltip:"",tooltip_placement:"auto top"}},disabled:function(){return this.props.disabled||this.state.container.dead},tooltip:function(){var e;return this.state.container.dead?"Your sandbox has shutdown. Please reload the page.":this.props.disabled?this.props.disabled_tooltip:(e=this.props.shortcut?`(${this.props.shortcut})`:"",`${this.props.tooltip} ${e}`)},render:function(){return a({className:`button__tooltip ${this.disabled()?"disabled":""} ${this.props.span_class}`,"data-toggle":"tooltip","data-placement":this.props.tooltip_placement,"data-original-title":this.tooltip()},o({className:`btn ${this.props.btn_class}`,onClick:this.props.onClick,disabled:this.disabled()},this.props.icon?s({className:`fas ${this.props.icon}`}):void 0,this.props.text?this.props.text:void 0))}}),e.exports=i},,function(e,t){e.exports=Reflux.createActions(["connectToPubNub","requestSandbox","setDead"])},function(e,t,n){var i,r;r=n(607),i=n(502),e.exports=Reflux.createStore({listenables:i,connectToPubNub:function(e,t,n,i){var o;return i=_.map(i,function(e){return`${n}.${e}`}),(o=new r({subscribeKey:t,ssl:!0})).addListener({status:t=>{var n;if("PNConnectedCategory"===t.category)return n=_.map(t.affectedChannels,e=>this.cleanChannel(e)),_.each(n,t=>this.trigger(e,t,"open",null))},message:t=>this.trigger(e,this.cleanChannel(t.channel),"message",t.message)}),o.subscribe({channels:i})},cleanChannel:function(e){return e.replace(/.+?\./,"")}})},function(e,t,n){var i,r,o,s,a;o=n(609),a=n(107),({button:i,div:r,i:s}=ReactDOMFactories),e.exports={fileBottomBar:function(e){if(this.props.toggleActionsModal&&this.props.file_actions_enabled)return r({className:"pane-bottom-nav"},i({"data-toggle":"tooltip","data-placement":"top","data-title":"Rename File",className:"btn btn-text btn-blue bold",onClick:this.props.toggleActionsModal.bind(null,{action:"rename",active:e})},s({className:"fas fa-pencil"})),i({"data-toggle":"tooltip","data-placement":"top","data-title":"Delete File",className:"btn btn-text btn-red bold",onClick:this.props.toggleActionsModal.bind(null,{action:"delete",active:e})},s({className:"fas fa-trash"})),i({"data-toggle":"tooltip","data-placement":"top","data-title":"Download File",className:`bold btn btn-text btn-${"light"===this.state.color_scheme?"gray":"white"}`,onClick:this.downloadFile.bind(null,e)},s({className:"fas fa-download"})))},downloadFile:function(e){var t;return t=(t=>this.readFileContents(this.state.container.root_hostname,this.state.container.token,e.path,{pwd:"/",base64:!0,cb:function(n){return o(`data:${t};base64,${n}`,a.basename(e.path),t)}})),this.checkFileMIME(this.state.container.root_hostname,this.state.container.token,e.path,{pwd:"/",cb:t})},tabToActiveFile:function(e){return{name:a.basename(e.detail),path:e.detail}}}},function(e,t,n){var i=n(623);e.exports=function(e,t){var n=null==e?void 0:e[t];return i(n)?n:void 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=arguments.length<=2||void 0===arguments[2]?function(e,t){return e+t}:arguments[2];return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,["-webkit-","-moz-",""].map(function(e){return n(e,t)}))},e.exports=t.default},function(e,t,n){!function(e){function t(t,n,i){var r,o=t.getWrapperElement();return(r=o.appendChild(document.createElement("div"))).className=i?"CodeMirror-dialog CodeMirror-dialog-bottom":"CodeMirror-dialog CodeMirror-dialog-top","string"==typeof n?r.innerHTML=n:r.appendChild(n),e.addClass(o,"dialog-opened"),r}function n(e,t){e.state.currentNotificationClose&&e.state.currentNotificationClose(),e.state.currentNotificationClose=t}e.defineExtension("openDialog",function(i,r,o){o||(o={}),n(this,null);var s=t(this,i,o.bottom),a=!1,l=this;function u(t){if("string"==typeof t)p.value=t;else{if(a)return;a=!0,e.rmClass(s.parentNode,"dialog-opened"),s.parentNode.removeChild(s),l.focus(),o.onClose&&o.onClose(s)}}var c,p=s.getElementsByTagName("input")[0];return p?(p.focus(),o.value&&(p.value=o.value,!1!==o.selectValueOnOpen&&p.select()),o.onInput&&e.on(p,"input",function(e){o.onInput(e,p.value,u)}),o.onKeyUp&&e.on(p,"keyup",function(e){o.onKeyUp(e,p.value,u)}),e.on(p,"keydown",function(t){o&&o.onKeyDown&&o.onKeyDown(t,p.value,u)||((27==t.keyCode||!1!==o.closeOnEnter&&13==t.keyCode)&&(p.blur(),e.e_stop(t),u()),13==t.keyCode&&r(p.value,t))}),!1!==o.closeOnBlur&&e.on(p,"blur",u)):(c=s.getElementsByTagName("button")[0])&&(e.on(c,"click",function(){u(),l.focus()}),!1!==o.closeOnBlur&&e.on(c,"blur",u),c.focus()),u}),e.defineExtension("openConfirm",function(i,r,o){n(this,null);var s=t(this,i,o&&o.bottom),a=s.getElementsByTagName("button"),l=!1,u=this,c=1;function p(){l||(l=!0,e.rmClass(s.parentNode,"dialog-opened"),s.parentNode.removeChild(s),u.focus())}a[0].focus();for(var f=0;f<a.length;++f){var d=a[f];!function(t){e.on(d,"click",function(n){e.e_preventDefault(n),p(),t&&t(u)})}(r[f]),e.on(d,"blur",function(){--c,setTimeout(function(){c<=0&&p()},200)}),e.on(d,"focus",function(){++c})}}),e.defineExtension("openNotification",function(i,r){n(this,u);var o,s=t(this,i,r&&r.bottom),a=!1,l=r&&void 0!==r.duration?r.duration:5e3;function u(){a||(a=!0,clearTimeout(o),e.rmClass(s.parentNode,"dialog-opened"),s.parentNode.removeChild(s))}return e.on(s,"click",function(t){e.e_preventDefault(t),u()}),l&&(o=setTimeout(u,l)),u})}(n(8))},function(e,t){e.exports={loadUrl:function(e,t){return $(`#${e}`).attr("src",t),this.setState({timeout:setTimeout(this.stopLoad.bind(null,e),1e4)})},urlValid:function(e){return!!(e&&e.length&&e.match(/^http(s):\/\//))||($.alert("URL is invalid.","danger"),!1)},stopLoad:function(e){return $(`#${e}`).attr("src","http://about:blank")},setClearTimeout:function(e,t){return $(`#${e}`).on("load",()=>{if(this.state.timeout&&clearTimeout(this.state.timeout),t)return t()})}}},function(e,t,n){var i,r,o,s,a,l;r=n(15),i=n(322),({button:s,i:a,span:l}=ReactDOMFactories),o=reactCreateClass({displayName:"RunButton",mixins:[Reflux.connectFilter(r,"btns_enabled",function(e){return e.btns_enabled})],propTypes:{btn_class:PropTypes.string,disabled:PropTypes.bool.isRequired,disabled_tooltip:PropTypes.string,friendly:PropTypes.bool,icon:PropTypes.string,is_shortcut_btn:PropTypes.bool.isRequired,onClick:PropTypes.func.isRequired,tooltip:PropTypes.string},getDefaultProps:function(){return{disabled_tooltip:"Create or open a file to run.",friendly:!1,icon:"fa-play",tooltip:"Run Code"}},render:function(){return React.createElement(i,{btn_class:`component-action-btn pull-right ${this.props.btn_class||""} ${this.state.btns_enabled||this.props.friendly?"friendly":""} ${this.props.is_shortcut_btn?"component-action-btn__shortcut":""}`,disabled:this.props.disabled,disabled_tooltip:this.props.disabled_tooltip,icon:this.state.btns_enabled?`fas ${this.props.icon} pane-bottom-nav__btn-icon`:"",onClick:this.props.onClick,shortcut:this.props.is_shortcut_btn?"Ctrl+Enter":"",span_class:`pull-right ${this.state.btns_enabled?"friendly":""}`,text:this.state.btns_enabled?"":"Run",tooltip:this.props.tooltip,tooltip_placement:"auto left"})}}),e.exports=o},function(e,t){e.exports={shortcutBtn:function(){return this.props.tab.pane_position===this.state.shortcut_pane&&!this.props.hidden},checkAction:function(e){var t;if((e.ctrlKey||e.metaKey)&&13===e.keyCode&&(e.preventDefault(),e.stopPropagation(),t=(t=document.getElementsByClassName("component-action-btn__shortcut")).length>0?t[0]:null,!(!this.shortcutBtn()||t&&t.disabled))){switch(this.constructor.displayName.toLowerCase()){case"terminal":this.buildAndRun();break;case"webbrowser":this.loadBrowserURL();break;case"sqlresults":this.runQueryFromFile();break;case"pythongui":this.runCode()}return!1}}}},function(e,t,n){var i,r,o,s,a,l;i=n(219),r=n(325),l=[],s=null,a={},o=Reflux.createStore({listenables:i,mixins:[mixins.AjaxMixin,mixins.ItemMixin],init:function(){return r.listen(this.onPubNubChange)},onPubNubChange:function(e,t,n,i){if("projects-tasks-results"===t)return"open"===n?this.syncTaskResults(e):"message"===n?this.ajaxGet(routes.realtime.projects.tasks.results.show({id:i.id,access_token:e}),{success:e=>this.processTaskResult(e)}):void 0},syncTaskResults:function(e){return this.ajaxGet(routes.realtime.projects.tasks.results.sync({access_token:e}),{success:e=>(l=e,this.clearAllTimers(),this.trigger(l))})},processTaskResult:function(e){var t;if(t=_.find(l,function(t){return t.uid===e.uid})){if(t.t_updated_at>=e.t_updated_at)return;e.open=t.open,e.badge=e.attempts>t.attempts,l=this.updateItem(l,t,e)}else l=this.createItem(l,e,!1);return this.clearTimers(e.uid),this.trigger(l)},setChecking:function(e,t,n){var i;return(i=_.find(l,function(t){return t.uid===e})).checking=t,i.badge=!1,l=this.updateItem(l,i,i),this.setOrClearTimers(e,t,n),this.trigger(l)},setAllChecking:function(e,t){var n,i,r;for(i=0,r=l.length;i<r;i++)(n=l[i]).checking=e,n.badge=!1,l=this.updateItem(l,n,n),this.setOrClearTimers(n.uid,e,t);return this.trigger(l)},toggleOpen:function(e){var t;return(t=_.find(l,function(t){return t.uid===e})).t_updated_at+=1e-6,t.open=!t.open,t.badge=!1,l=this.updateItem(l,t,t),this.trigger(l)},setOrClearTimers:function(e,t,n){return t?this.setTimers(e,n):this.clearTimers(e)},setTimers:function(e,t){return this.clearTimers(e),s||(s=setInterval(this.pollTaskResults.bind(null,t),15e3)),a[e]=setTimeout(this.resetTask.bind(null,e),6e4)},clearTimers:function(e){if(s&&!_.find(l,"checking")&&(clearInterval(s),s=null),a[e])return clearTimeout(a[e]),delete a[e]},clearAllTimers:function(){return _.each(l,({uid:e})=>this.clearTimers(e))},pollTaskResults:function(e){return this.ajaxGet(routes.realtime.projects.tasks.results.sync({access_token:e}),{success:e=>_.each(e,e=>this.processTaskResult(e))})},resetTask:function(e){return this.setChecking(e,!1),$.alert("Could not check task.","danger")},getInitialState:function(){return l}}),e.exports=o},function(e,t,n){var i,r,o;i=n(365),o=[],r=Reflux.createStore({listenables:i,mixins:[mixins.ItemMixin],setQuizAttempts:function(e){return o=e,this.trigger(o)},createQuizAttempt:function(e){return o=this.createItem(o,e,!1),this.trigger(o)},getInitialState:function(){return o}}),e.exports=r},function(e,t){e.exports=Reflux.createActions(["setQuizzes","createQuiz","updateQuiz","deleteQuiz"])},function(e,t){var n;n=Reflux.createActions(["setTasks","createTask","updateTask","deleteTask"]),e.exports=n},function(e,t){e.exports=Reflux.createActions(["setDirectories","createDirectory","updateDirectory","deleteDirectory"])},function(e,t){e.exports=Reflux.createActions(["setGitHubFileLinks","createGitHubFileLink","updateGitHubFileLink","deleteGitHubFileLink"])},function(e,t,n){e.exports={default:n(763),__esModule:!0}},,,,,function(e,t){var n,i,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var l,u=[],c=!1,p=-1;function f(){c&&l&&(c=!1,l.length?u=l.concat(u):p=-1,u.length&&d())}function d(){if(!c){var e=a(f);c=!0;for(var t=u.length;t;){for(l=u,u=[];++p<t;)l&&l[p].run();p=-1,t=u.length}l=null,c=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||c||a(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,n){"use strict";n.r(t);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function r(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return function(e,t){this.target=t,this.type=e}}(),s=function(e){function t(t,n){var i=e.call(this,"error",n)||this;return i.message=t.message,i.error=t,i}return r(t,e),t}(o),a=function(e){function t(t,n,i){void 0===t&&(t=1e3),void 0===n&&(n="");var r=e.call(this,"close",i)||this;return r.wasClean=!0,r.code=t,r.reason=n,r}return r(t,e),t}(o),l=function(){if("undefined"!=typeof WebSocket)return WebSocket},u={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+4e3*Math.random(),minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:1/0,debug:!1},c=function(){function e(e,t,n){void 0===n&&(n={});var i=this;this._listeners={error:[],message:[],open:[],close:[]},this._retryCount=-1,this._shouldReconnect=!0,this._connectLock=!1,this._binaryType="blob",this._closeCalled=!1,this._messageQueue=[],this.onclose=void 0,this.onerror=void 0,this.onmessage=void 0,this.onopen=void 0,this._handleOpen=function(e){i._debug("open event");var t=i._options.minUptime,n=void 0===t?u.minUptime:t;clearTimeout(i._connectTimeout),i._uptimeTimeout=setTimeout(function(){return i._acceptOpen()},n),i._ws.binaryType=i._binaryType,i._messageQueue.forEach(function(e){return i._ws.send(e)}),i._messageQueue=[],i.onopen&&i.onopen(e),i._listeners.open.forEach(function(t){return i._callEventListener(e,t)})},this._handleMessage=function(e){i._debug("message event"),i.onmessage&&i.onmessage(e),i._listeners.message.forEach(function(t){return i._callEventListener(e,t)})},this._handleError=function(e){i._debug("error event",e.message),i._disconnect(void 0,"TIMEOUT"===e.message?"timeout":void 0),i.onerror&&i.onerror(e),i._debug("exec error listeners"),i._listeners.error.forEach(function(t){return i._callEventListener(e,t)}),i._connect()},this._handleClose=function(e){i._debug("close event"),i._clearTimeouts(),i._shouldReconnect&&i._connect(),i.onclose&&i.onclose(e),i._listeners.close.forEach(function(t){return i._callEventListener(e,t)})},this._url=e,this._protocols=t,this._options=n,this._connect()}return Object.defineProperty(e,"CONNECTING",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(e,"OPEN",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CLOSING",{get:function(){return 2},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CLOSED",{get:function(){return 3},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CONNECTING",{get:function(){return e.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"OPEN",{get:function(){return e.OPEN},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CLOSING",{get:function(){return e.CLOSING},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CLOSED",{get:function(){return e.CLOSED},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"binaryType",{get:function(){return this._ws?this._ws.binaryType:this._binaryType},set:function(e){this._binaryType=e,this._ws&&(this._ws.binaryType=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"retryCount",{get:function(){return Math.max(this._retryCount,0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bufferedAmount",{get:function(){return this._messageQueue.reduce(function(e,t){return"string"==typeof t?e+=t.length:t instanceof Blob?e+=t.size:e+=t.byteLength,e},0)+(this._ws?this._ws.bufferedAmount:0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extensions",{get:function(){return this._ws?this._ws.extensions:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"protocol",{get:function(){return this._ws?this._ws.protocol:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readyState",{get:function(){return this._ws?this._ws.readyState:e.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this._ws?this._ws.url:""},enumerable:!0,configurable:!0}),e.prototype.close=function(e,t){void 0===e&&(e=1e3),this._closeCalled=!0,this._shouldReconnect=!1,this._clearTimeouts(),this._ws?this._ws.readyState!==this.CLOSED?this._ws.close(e,t):this._debug("close: already closed"):this._debug("close enqueued: no ws instance")},e.prototype.reconnect=function(e,t){this._shouldReconnect=!0,this._closeCalled=!1,this._retryCount=-1,this._ws&&this._ws.readyState!==this.CLOSED?(this._disconnect(e,t),this._connect()):this._connect()},e.prototype.send=function(e){this._ws&&this._ws.readyState===this.OPEN?(this._debug("send",e),this._ws.send(e)):(this._debug("enqueue",e),this._messageQueue.push(e))},e.prototype.addEventListener=function(e,t){this._listeners[e]&&this._listeners[e].push(t)},e.prototype.removeEventListener=function(e,t){this._listeners[e]&&(this._listeners[e]=this._listeners[e].filter(function(e){return e!==t}))},e.prototype._debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._options.debug&&console.log.apply(console,["RWS>"].concat(e))},e.prototype._getNextDelay=function(){var e=this._options,t=e.reconnectionDelayGrowFactor,n=void 0===t?u.reconnectionDelayGrowFactor:t,i=e.minReconnectionDelay,r=void 0===i?u.minReconnectionDelay:i,o=e.maxReconnectionDelay,s=void 0===o?u.maxReconnectionDelay:o,a=r;return this._retryCount>0&&(a=r*Math.pow(n,this._retryCount-1))>s&&(a=s),this._debug("next delay",a),a},e.prototype._wait=function(){var e=this;return new Promise(function(t){setTimeout(t,e._getNextDelay())})},e.prototype._getNextUrl=function(e){if("string"==typeof e)return Promise.resolve(e);if("function"==typeof e){var t=e();if("string"==typeof t)return Promise.resolve(t);if(t.then)return t}throw Error("Invalid URL")},e.prototype._connect=function(){var e=this;if(!this._connectLock&&this._shouldReconnect){this._connectLock=!0;var t=this._options,n=t.maxRetries,i=void 0===n?u.maxRetries:n,r=t.connectionTimeout,o=void 0===r?u.connectionTimeout:r,s=t.WebSocket,a=void 0===s?l():s;if(this._retryCount>=i)this._debug("max retries reached",this._retryCount,">=",i);else{if(this._retryCount++,this._debug("connect",this._retryCount),this._removeListeners(),"function"!=typeof(c=a)||2!==c.CLOSING)throw Error("No valid WebSocket class provided");var c;this._wait().then(function(){return e._getNextUrl(e._url)}).then(function(t){e._closeCalled?e._connectLock=!1:(e._debug("connect",{url:t,protocols:e._protocols}),e._ws=e._protocols?new a(t,e._protocols):new a(t),e._ws.binaryType=e._binaryType,e._connectLock=!1,e._addListeners(),e._connectTimeout=setTimeout(function(){return e._handleTimeout()},o))})}}},e.prototype._handleTimeout=function(){this._debug("timeout event"),this._handleError(new s(Error("TIMEOUT"),this))},e.prototype._disconnect=function(e,t){if(void 0===e&&(e=1e3),this._clearTimeouts(),this._ws){this._removeListeners();try{this._ws.close(e,t),this._handleClose(new a(e,t,this))}catch(e){}}},e.prototype._acceptOpen=function(){this._debug("accept open"),this._retryCount=0},e.prototype._callEventListener=function(e,t){"handleEvent"in t?t.handleEvent(e):t(e)},e.prototype._removeListeners=function(){this._ws&&(this._debug("removeListeners"),this._ws.removeEventListener("open",this._handleOpen),this._ws.removeEventListener("close",this._handleClose),this._ws.removeEventListener("message",this._handleMessage),this._ws.removeEventListener("error",this._handleError))},e.prototype._addListeners=function(){this._ws&&(this._debug("addListeners"),this._ws.addEventListener("open",this._handleOpen),this._ws.addEventListener("close",this._handleClose),this._ws.addEventListener("message",this._handleMessage),this._ws.addEventListener("error",this._handleError))},e.prototype._clearTimeouts=function(){clearTimeout(this._connectTimeout),clearTimeout(this._uptimeTimeout)},e}();t.default=c},function(e,t,n){var i=n(620),r=n(508),o=n(627)(i,r);e.exports=o},function(e,t,n){var i=n(318),r=n(312),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable;e.exports=function(e){return r(e)&&i(e)&&s.call(e,"callee")&&!a.call(e,"callee")}},function(e,t){var n=/^\d+$/,i=9007199254740991;e.exports=function(e,t){return e="number"==typeof e||n.test(e)?+e:-1,t=null==t?i:t,e>-1&&e%1==0&&e<t}},function(e,t,n){var i=n(347),r=n(207),o=n(348),s=n(313),a=n(174),l=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return[];a(e)||(e=Object(e));var t=e.length;t=t&&s(t)&&(r(e)||i(e))&&t||0;for(var n=e.constructor,u=-1,c="function"==typeof n&&n.prototype===e,p=Array(t),f=t>0;++u<t;)p[u]=u+"";for(var d in e)f&&o(d,t)||"constructor"==d&&(c||!l.call(e,d))||p.push(d);return p}},function(e,t,n){var i=n(628),r=n(174),o=n(312);e.exports=function e(t,n,s,a,l,u){return t===n||(null==t||null==n||!r(t)&&!o(n)?t!=t&&n!=n:i(t,n,e,s,a,l,u))}},function(e,t,n){"use strict";if("undefined"==typeof window||"undefined"==typeof navigator||-1!==navigator.userAgent.indexOf("Node.js")||-1!==navigator.userAgent.indexOf("jsdom")){var i=function(){};(i.Utilities={}).removeData=function(){},i.velocityReactServerShim=!0,e.exports=i}else{var r=window.jQuery||window.Zepto||window;e.exports=r.Velocity?r.Velocity:n(646)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userAgent=t,this._listeners=[],this._cssSet={}}return e.prototype.subscribe=function(e){var t=this;return-1===this._listeners.indexOf(e)&&this._listeners.push(e),{remove:function(){var n=t._listeners.indexOf(e);n>-1&&t._listeners.splice(n,1)}}},e.prototype.addCSS=function(e){var t=this;return this._cssSet[e]||(this._cssSet[e]=!0,this._emitChange()),{remove:function(){delete t._cssSet[e],t._emitChange()}}},e.prototype.getCSS=function(){return Object.keys(this._cssSet).join("\n")},e.prototype._emitChange=function(){this._listeners.forEach(function(e){return e()})},e}();t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(!t)return"";var a=(0,o.default)(t,function(e,t){return(0,i.default)(t,e)}),l=(0,s.getPrefixedStyle)(a,n),u=(c=(0,r.default)(l),Object.keys(c).map(function(e){return e+": "+c[e]+";"}).join("\n"));var c;return e+"{"+u+"}"};var i=a(n(525)),r=a(n(687)),o=a(n(526)),s=n(354);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.getPrefixedKeyframes=function(e){return u(e).prefixedKeyframes},t.getPrefixedStyle=function(e,t){var n=function(e){return Object.keys(e).reduce(function(t,n){var r=e[n];return Array.isArray(r)?r=r.join(";"+n+":"):r&&"object"===(void 0===r?"undefined":i(r))&&"function"==typeof r.toString&&(r=r.toString()),t[n]=r,t},{})}(e);return u(t).prefix(n)};var r,o=n(688),s=(r=o)&&r.__esModule?r:{default:r};var a=void 0,l=void 0;function u(t){var n=t||e&&e.navigator&&e.navigator.userAgent;return l&&n===a||(l="all"===n?{prefix:s.default.prefixAll,prefixedKeyframes:"keyframes"}:new s.default({userAgent:n}),a=n),l}}).call(this,n(12))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Array.isArray(e)&&(e=e.join(",")),null!==e.match(/-webkit-|-moz-|-ms-/)},e.exports=t.default},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h,m,g,b,y;i=n(8),y=n(320),f=y.default,n(71),c=n(23),h=n(99),o=n(43),l=n(136),p=n(15),r=n(100),a=n(326),u=n(139),d=n(358),m=n(308),n(741),n(742),n(329),n(743),n(359),n(744),n(745),n(747),n(321),n(748),n(749),n(750),n(140),n(141),n(88),n(142),n(143),n(144),n(145),n(55),n(146),n(147),n(148),n(149),n(150),n(151),n(152),n(153),n(44),n(56),n(154),n(155),n(156),n(157),n(158),n(90),n(159),n(160),n(161),n(162),n(91),n(163),n(164),n(89),n(165),n(166),n(167),n(168),n(169),n(135),n(170),n(171),n(172),n(45),n(173),({div:g,i:b}=ReactDOMFactories),s=reactCreateClass({displayName:"Editor",mixins:[mixins.AjaxMixin,mixins.TooltipMixin,r,a,u,d,m,Reflux.connectFilter(l,"files",function(e){return e.files}),Reflux.connectFilter(l,"sockets",function(e){return e.sockets}),Reflux.connectFilter(p,"color_scheme",function(e){return e.color_scheme}),Reflux.connectFilter(p,"keymap",function(e){return e.keymap}),Reflux.connectFilter(p,"project_active_file",function(e){return e.active_file}),Reflux.connect(o,"container")],propTypes:{access_token:PropTypes.string,file_actions_enabled:PropTypes.bool,focusable:PropTypes.bool.isRequired,hidden:PropTypes.bool,in_content_editor:PropTypes.bool,onChange:PropTypes.func,onKeyDown:PropTypes.func,pane_position:PropTypes.number,position:PropTypes.func,reviewing:PropTypes.bool,snippet:PropTypes.object,tab:PropTypes.object},getDefaultProps:function(){return{tab:{}}},getInitialState:function(){return{connected:!1,done_typing_interval:50,editor:null,file:null,file_loaded:!1,files_count:0,id:Math.random().toString().substr(2),loading:!1}},componentDidMount:function(){return this.mounted=!0,$(window).on("beforeunload",this.onPageUnload),this.initEditor(),this.attemptSocketConnection(),this.initializeTooltips(`#code-space-${this.state.id}`)},shouldComponentUpdate:function(e,t){return!this.state.editor||this.state.editor&&!this.state.editor.hasFocus()||t.color_scheme!==this.state.color_scheme||t.keymap!==this.state.keymap||t.file_loaded!==this.state.file_loaded||t.project_active_file!==this.state.project_active_file||e.in_content_editor!==this.props.in_content_editor||e.hidden!==this.props.hidden||e.snippet!==this.props.snippet||e.tab!==this.props.tab},componentDidUpdate:function(e,t){if(this.attemptSocketConnection(),t.color_scheme!==this.state.color_scheme&&this.state.editor&&this.state.editor.setOption("theme",this.state.color_scheme),t.keymap!==this.state.keymap&&this.state.editor&&this.state.editor.setOption("keyMap",this.state.keymap),e.hidden&&!this.props.hidden&&this.state.editor&&(this.state.editor.refresh(),this.props.focusable&&this.state.editor.focus(),this.updateActiveFile(this.state.editor.getValue())),!e.tab.clicked&&this.props.tab.clicked&&(h.setProperty(this.props.tab,"clicked",!1),this.props.focusable))return this.state.editor.focus()},componentWillUnmount:function(){var e;if(this.mounted=!1,$(window).off("beforeunload",this.onPageUnload),this.state.socket&&this.state.socket.removeEventListener("message",this.onSocketMessage),e=this.state.project_active_file,!this.props.snippet&&e&&e.path===this.props.tab.detail)return c.setProperty("active_file",null)},onPageUnload:function(e){if(this.mounted=!1,!this.props.in_content_editor)return this.save()},path:function(){return this.props.snippet?this.props.curDetail():this.props.tab.detail},handleRemoteOpen:function(e){return this.handleRemoteRead(e)},handleRemoteRead:function(e){return this.setState({file_loaded:!0},()=>{var t;return this.props.snippet?(e.image||(this.state.file?this.safeSetValue(e):(this.setEditor(e),this.props.position(e),t=!0),this.props.onChange&&this.props.onChange(e.contents)),t?this.safelySetLoaded():void 0):(this.setEditor(e),this.updateActiveFile(e.contents))})},handleRemoteUpdate:function(e){return this.props.snippet?(this.state.editor.hasFocus()||this.safeSetValue(e),void(this.props.onChange&&this.props.onChange(e.contents))):(!this.state.editor.hasFocus()&&e&&this.safeSetValue(e),this.updateActiveFile(e.contents))},updateActiveFile:function(e){var t;if(!this.props.reviewing&&(!this.props.hidden||this.state.project_active_file&&this.state.project_active_file.path===this.props.tab.detail)&&(t=_.find(this.state.files,e=>e.id===this.props.tab.detail)))return t.contents=e,c.setProperty("active_file",t)},setEditor:function(e){return this.setState({loading:!0,file:e},()=>{var t;if(this.state.editor.setOption("theme",this.state.color_scheme),this.state.editor.setOption("readOnly",!!this.props.reviewing&&"nocursor"),this.state.editor.setValue(e.contents||""),this.state.editor.clearHistory(),this.setState({loading:!1}),t=this.findMime(e),this.state.editor.setOption("mode",t),this.state.editor.setOption("indentUnit",this.spaces(t)),this.state.editor.setOption("smartIndent",!0),this.state.editor.setOption("matchBrackets",!0),this.state.editor.setOption("autoCloseBrackets",!0),this.state.editor.setOption("continueComments",!0),this.state.editor.addKeyMap({"Shift-Tab":"indentLess"}),this.state.editor.setOption("extraKeys",{"Ctrl-/":()=>this.commentSelected(),"Cmd-/":()=>this.commentSelected(),Tab:function(e){return e.somethingSelected()?e.indentSelection("add"):e.replaceSelection(Array(e.getOption("indentUnit")+1).join(" "))}}),this.props.focusable)return this.state.editor.focus()})},resetEditor:function(){return this.setState({file:null},()=>(this.state.editor.setOption("readOnly","nocursor"),this.state.editor.setValue(""),this.state.editor.clearHistory()))},safeSetValue:function(e){var t,n;if(e.contents!==this.state.editor.getValue()){if(t=this.state.editor.getCursor(),n=this.state.editor.getScrollInfo(),this.state.editor.setValue(e.contents||""),!this.props.position)return this.state.editor.setCursor(t),this.state.editor.scrollTo(n.left,n.top);this.props.position(e)}},setCursor:function(e){return this.state.editor.setCursor(e),this.state.editor.focus()},scrollToLine:function(e){var t,n;return n=(t=this.state.editor).charCoords({line:e,ch:0},"local").top,t.scrollTo(null,n)},initEditor:function(){var e;return(e=i(document.getElementById(`codemirror-ide-editor-${this.state.id}`),{mode:"",theme:this.state.color_scheme,lineWrapping:!0,lineNumbers:!0,readOnly:!0,viewportMargin:10})).on("change",this.onEditorChange),e.on("blur",this.save.bind(null,null)),this.props.onKeyDown&&e.on("keydown",this.props.onKeyDown),e.on("dragenter",function(e,t){return t.preventDefault()}),e.setOption("readOnly","nocursor"),e.on("dragenter",function(e,t){return t.preventDefault()}),this.setState({editor:e})},onEditorChange:function(e){if(!this.state.loading&&this.state.editor.hasFocus())return this.props.onChange&&this.props.onChange(e.getValue()),clearTimeout(window.typing_timer),window.typing_timer=setTimeout(this.save,this.state.done_typing_interval)},save:function(e){var t;if(this.mounted)return t=this.state.editor.getValue(),this.props.snippet||""===t||"\n"===_.last(t)||(t=`${t}\n`),this.state.socket&&this.state.socket.send(JSON.stringify({action:"updateFile",path:this.path(),contents:t})),e?e(t):void 0},commentSelected:function(){var e,t,n,i,r,o;return n=this.state.editor.doc.getCursor("from"),o=this.state.editor.doc.getCursor("to"),t=n.line,e=n.ch,r=o.line,i=o.ch,this.state.editor.toggleComment({from:{fLine:t,fChar:e},to:{tLine:r,tChar:i}})},safelySetLoaded:function(){if(this.props.setLoaded)return this.props.setLoaded()},focus:function(){return this.state.editor.focus()},hasFocus:function(){return this.state.editor.hasFocus()},render:function(){return g({id:`code-space-${this.state.id}`,className:`code-space editor-container ${this.state.color_scheme?this.state.color_scheme:""} ${this.props.file_actions_enabled?"":"files-disabled"}`},g({id:`codemirror-ide-editor-${this.state.id}`,className:"codemirror-ide-editor"}),this.props.snippet?void 0:this.fileBottomBar(this.tabToActiveFile(this.props.tab)),this.state.file_loaded||this.props.snippet?void 0:g({className:"loading-container loading-container--absolute"},this.state.container.token?b({className:"fal fa-spinner-third fa-spin"}):void 0),React.createElement(f,{handleWidth:!0,handleHeight:!0,onResize:()=>{if(this.state.editor&&!this.props.hidden)return this.state.editor.refresh()}}))}}),e.exports=s},function(e,t,n){var i,r;i=n(71),r=n(99),e.exports={attemptSocketConnection:function(){var e,t,n;if(!this.state.connected)return e=this.path(),n=_.find(_.keys(this.state.sockets),function(t){return 0===e.indexOf(t)}),(t=this.state.sockets[n])&&1===t.readyState?this.setState({socket:t,connected:!0},()=>this.handleSocket(t)):void 0},handleSocket:function(e){return e.addEventListener("message",this.onSocketMessage),e.send(JSON.stringify({action:"openFile",path:this.path()}))},onSocketMessage:function(e){var t;if((t=JSON.parse(e.data)).path===this.path())switch(t.action){case"createFile":return this._handleRemoteCreate(t);case"openFile":return this._handleRemoteOpen(t);case"readFile":return this._handleRemoteRead(t);case"updateFile":return this._handleRemoteUpdate(t);case"deleteFile":return this._handleRemoteDelete(t);case"notFound":return this._handleRemoteNotFound(t)}},handleFileTypeChanged:function(e){return!this.props.snippet&&e.type!==this.props.tab.tab_type&&(r.setProperty(this.props.tab,"tab_type",e.type),this.persistTabUpdate(this.props.tab,{tab_type:e.type}),!0)},_handleRemoteOpen:function(e){if(!this.handleFileTypeChanged(e)&&this.handleRemoteOpen)return this.handleRemoteOpen(e)},_handleRemoteRead:function(e){if(!this.handleFileTypeChanged(e)&&this.handleRemoteRead)return this.handleRemoteRead(e)},_handleRemoteUpdate:function(e){if(!this.handleFileTypeChanged(e)&&this.handleRemoteUpdate)return this.handleRemoteUpdate(e)},_handleRemoteDelete:function(e){if(!this.props.snippet)return this.closeTab(this.props.tab)},_handleRemoteNotFound:function(e){if(this.props.snippet||this.closeTab(this.props.tab),this.props.snippet)return i.createRemoteFile(e.name,e.parent_id,!1)},_handleRemoteCreate:function(e){if(this.props.snippet)return this.setEditor(e),this.safelySetLoaded()}}},function(e,t,n){!function(e){var t=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),n=e.Pos,i={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function r(e){return e&&e.bracketRegex||/[(){}[\]]/}function o(e,t,o){var a=e.getLineHandle(t.line),l=t.ch-1,u=o&&o.afterCursor;null==u&&(u=/(^| )cm-fat-cursor($| )/.test(e.getWrapperElement().className));var c=r(o),p=!u&&l>=0&&c.test(a.text.charAt(l))&&i[a.text.charAt(l)]||c.test(a.text.charAt(l+1))&&i[a.text.charAt(++l)];if(!p)return null;var f=">"==p.charAt(1)?1:-1;if(o&&o.strict&&f>0!=(l==t.ch))return null;var d=e.getTokenTypeAt(n(t.line,l+1)),h=s(e,n(t.line,l+(f>0?1:0)),f,d||null,o);return null==h?null:{from:n(t.line,l),to:h&&h.pos,match:h&&h.ch==p.charAt(0),forward:f>0}}function s(e,t,o,s,a){for(var l=a&&a.maxScanLineLength||1e4,u=a&&a.maxScanLines||1e3,c=[],p=r(a),f=o>0?Math.min(t.line+u,e.lastLine()+1):Math.max(e.firstLine()-1,t.line-u),d=t.line;d!=f;d+=o){var h=e.getLine(d);if(h){var m=o>0?0:h.length-1,g=o>0?h.length:-1;if(!(h.length>l))for(d==t.line&&(m=t.ch-(o<0?1:0));m!=g;m+=o){var b=h.charAt(m);if(p.test(b)&&(void 0===s||e.getTokenTypeAt(n(d,m+1))==s)){var y=i[b];if(">"==y.charAt(1)==o>0)c.push(b);else{if(!c.length)return{pos:n(d,m),ch:b};c.pop()}}}}}return d-o!=(o>0?e.lastLine():e.firstLine())&&null}function a(e,i,r){for(var s=e.state.matchBrackets.maxHighlightLineLength||1e3,a=[],l=e.listSelections(),u=0;u<l.length;u++){var c=l[u].empty()&&o(e,l[u].head,r);if(c&&e.getLine(c.from.line).length<=s){var p=c.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";a.push(e.markText(c.from,n(c.from.line,c.from.ch+1),{className:p})),c.to&&e.getLine(c.to.line).length<=s&&a.push(e.markText(c.to,n(c.to.line,c.to.ch+1),{className:p}))}}if(a.length){t&&e.state.focused&&e.focus();var f=function(){e.operation(function(){for(var e=0;e<a.length;e++)a[e].clear()})};if(!i)return f;setTimeout(f,800)}}function l(e){e.operation(function(){e.state.matchBrackets.currentlyHighlighted&&(e.state.matchBrackets.currentlyHighlighted(),e.state.matchBrackets.currentlyHighlighted=null),e.state.matchBrackets.currentlyHighlighted=a(e,!1,e.state.matchBrackets)})}e.defineOption("matchBrackets",!1,function(t,n,i){i&&i!=e.Init&&(t.off("cursorActivity",l),t.state.matchBrackets&&t.state.matchBrackets.currentlyHighlighted&&(t.state.matchBrackets.currentlyHighlighted(),t.state.matchBrackets.currentlyHighlighted=null)),n&&(t.state.matchBrackets="object"==typeof n?n:{},t.on("cursorActivity",l))}),e.defineExtension("matchBrackets",function(){a(this,!0)}),e.defineExtension("findMatchingBracket",function(e,t,n){return(n||"boolean"==typeof t)&&(n?(n.strict=t,t=n):t=t?{strict:!0}:null),o(this,e,t)}),e.defineExtension("scanForBracket",function(e,t,n,i){return s(this,e,t,n,i)})}(n(8))},function(e,t){var n,i;n=function(e,{starting:t,stopping:n}){var i;switch(i=t?"Starting ":n?"Stopping ":"",e){case"full-gui":return console.info(`${i}full GUI`);case"jupyter-notebook":return console.info(`${i}Jupyter Notebook`)}},i=function(e){switch(e){case"full-gui":return["Xvfb","x11vnc","noVNC","openbox"];case"jupyter-notebook":return["jupyter-notebook"]}},e.exports={startServices:function(e){if(!this.state.loaded&&this.state.container.id)return this.setState({loaded:!0},()=>n(e,{starting:!0})),this.exec(this.state.container.root_hostname,this.state.container.token,["systemctl","start"].concat(i(e)),{cb:()=>this.setState({timeout:setTimeout(this.onServicesStarted,2e3)})})},stopServices:function(e,t){if(!_.find(this.state.tabs,n=>n.tab_type===e&&n.id!==t))return n(e,{stopping:!0}),this.exec(this.state.container.root_hostname,this.state.container.token,["systemctl","stop"].concat(i(e)),{})}}},function(e,t,n){"use strict";var i=n(138);function r(e){var t,n;this.promise=new e(function(e,i){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=i}),this.resolve=i(t),this.reject=i(n)}e.exports.f=function(e){return new r(e)}},function(e,t){var n,i,r,o,s,a,l,u;({div:i,table:r,th:a,tbody:o,thead:l,tr:u,td:s}=ReactDOMFactories),n=reactCreateClass({displayName:"ScrollableTable",propTypes:{headers:PropTypes.array.isRequired,data:PropTypes.array.isRequired,highlights:PropTypes.object},highlight:function(e){if(this.props.highlights)return this.props.highlights[e]},render:function(){var e,t,n,l,c,p;return this.props.headers.length||this.props.data.length?i({className:"table-scroll-wrapper"},r({className:"table table-striped table-scroll"},o(null,u(null,function(){var e,n,i,r;for(i=this.props.headers,r=[],l=e=0,n=i.length;e<n;l=++e)t=i[l],r.push(a({key:l},t));return r}.call(this)),function(){var t,i,r,o;for(r=this.props.data,o=[],l=t=0,i=r.length;t<i;l=++t)p=r[l],n=this.highlight(l),o.push(u({key:l,className:n},function(){var t,n,i;for(i=[],c=t=0,n=p.length;t<n;c=++t)e=p[c],i.push(s({key:c},e));return i}()));return o}.call(this)))):i({className:"callout info"},"No data")}}),e.exports=n},function(e,t,n){var i,r,o,s,a,l,u,c;({localToRemoteURL:c}=n(314)),r=n(345).default,i=n(364),o=n(779),s=n(536),a=n(780),l=n(781),u=n(782),a.apply(s),l.apply(s),u.apply(s),e.exports={connectTerminal:function({endpoint:e,cmd:t,idx:n,connected:a,onConnect:l,onClose:u,onData:p,onKeyDown:f,snippet:d,lite_mode:h}){var m,g,b,y,v,_,x;return this.state.cur_terminal_history||this.setState({cur_terminal_history:""}),_=new s({fontFamily:"Ubuntu Mono",fontSize:16,cursorBlink:!0,enableBold:!1}),m=document.getElementById(`term-inner-${n}`),_.on("keydown",e=>{switch(e.keyCode){case 8:this.setState({cur_terminal_history:this.state.cur_terminal_history.slice(0,-1)});break;case 13:i.appendHistory(this.state.cur_terminal_history),this.setState({cur_terminal_history:""});break;default:e.key.length>1||this.setState({cur_terminal_history:this.state.cur_terminal_history+e.key.replace(/[^\x20-\x7E]+/g,"")})}(e.metaKey||e.ctrlKey||e.shiftKey||e.altKey)&&window.dispatchEvent(new KeyboardEvent("keydown",e))}),y={source:/[^\s]*(0\.0\.0\.0|127\.0\.0\.1|localhost|lvh\.me)[^\s]*/,flags:""},_.registerLinkMatcher(y,(e,t)=>{var n;return this.state.container&&this.state.container.token?(n=c({local_url:t,token:this.state.container.token,root_hostname:this.state.container.root_hostname}),window.open(n,"_blank")):window.open(t,"_blank")}),console.info("Attempting to connect to terminal"),d||h?(x=new o,_.on("data",function(e){a()&&x.send(e)}),g={endpoint:e,command:`resize &> /dev/null && ${t}`},x.connect($.extend(g,{onError:function(e){console.error(e),"undefined"!=typeof Bugsnag&&Bugsnag.notify(e)},onConnect:()=>{console.info("Terminal started"),this.mounted&&this.forceUpdate(),l&&l(_),_._core.showCursor()},onClose:()=>{console.info("Terminal disconnected"),this.mounted&&this.forceUpdate(),u&&u(_)},onData:e=>{_.write(e),p&&this.mounted&&p(e)}})),_.open(m,!1),_.fit(),v=x._connection):(b=Math.floor(1001*Math.random()+2e3),v=new r(e,[],{connectionTimeout:b,maxRetries:9,minReconnectionDelay:100,maxReconnectionDelay:10*b,reconnectionDelayGrowFactor:4}),_.ran_cmd=!1,v.addEventListener("open",()=>{if(_.terminadoAttach(v),_.fit(),_._core.showCursor(),console.info("Terminal connected"),l&&l(_),this.mounted)return this.forceUpdate()}),v.addEventListener("message",function(e){var n;if("stdout"===(n=JSON.parse(e.data))[0]){if(p&&p(n[1]),n[1],_.ran_cmd)return;if(_.ran_cmd=!0,-1===["/bin/bash","bash"].indexOf(t))return _.emit("data",`${t}\n`)}}),v.addEventListener("close",()=>{if(console.info("Terminal disconnected"),u&&u(_),this.mounted)return this.forceUpdate()}),v.addEventListener("error",function(e){if(console.error(e),"undefined"!=typeof Bugsnag)return Bugsnag.notify(e)}),_.open(m,!1)),this.setTheme(_),this.setState({cmd:t,socket:v,term:_})},colors:function(){return{dark:"#1E2325",dev:"#1C2529",light:"#252525"}},setTheme:function(e){var t;return t={background:this.colors()[this.state.theme],red:"#F90000",green:"#67CC07",yellow:"#F3C600",blue:"#5789C9",magenta:"#AA86B0",white:"#DEE1DB",brightBlack:"#7F827C",brightRed:"#F14949",brightGreen:"#8FE33E",brightBlue:"#79A3D1",brightMagenta:"#B58BB0",brightCyan:"#3EE3E3"},"dev"===this.state.theme&&(t.foreground="#57C979",t.cursor="#57C979"),e.setOption("theme",t)}}},function(e,t){var n;n=Reflux.createActions(["appendHistory","clearHistory"]),e.exports=n},function(e,t){var n;n=Reflux.createActions(["setQuizAttempts","createQuizAttempt"]),e.exports=n},function(e,t,n){var i,r;i="undefined"!=typeof window?window:this,r=function(){var e="second_minute_hour_day_week_month_year".split("_"),t="秒_分钟_小时_天_周_月_年".split("_"),n={en:function(t,n){if(0===n)return["just now","right now"];var i=e[parseInt(n/2)];return t>1&&(i+="s"),[t+" "+i+" ago","in "+t+" "+i]},zh_CN:function(e,n){if(0===n)return["刚刚","片刻后"];var i=t[parseInt(n/2)];return[e+i+"前",e+i+"后"]}},i=[60,60,24,7,365/7/12,12],r=6,o="data-tid",s={};function a(e){return e instanceof Date?e:isNaN(e)?/^\d+$/.test(e)?new Date(l(e)):(e=(e||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(e)):new Date(l(e))}function l(e){return parseInt(e)}function u(e,t,o){t=n[t]?t:n[o]?o:"en";for(var s=0,a=e<0?1:0,u=e=Math.abs(e);e>=i[s]&&s<r;s++)e/=i[s];return(e=l(e))>(0===(s*=2)?9:1)&&(s+=1),n[t](e,s,u)[a].replace("%s",e)}function c(e,t){return((t=t?a(t):new Date)-a(e))/1e3}function p(e,t){return e.getAttribute?e.getAttribute(t):e.attr?e.attr(t):void 0}function f(e,t){this.nowDate=e,this.defaultLocale=t||"en"}function d(e,t){return new f(e,t)}return f.prototype.doRender=function(e,t,n){var a,l=c(t,this.nowDate),p=this;e.innerHTML=u(l,n,this.defaultLocale),s[a=setTimeout(function(){p.doRender(e,t,n),delete s[a]},Math.min(1e3*function(e){for(var t=1,n=0,o=Math.abs(e);e>=i[n]&&n<r;n++)e/=i[n],t*=i[n];return o=(o%=t)?t-o:t,Math.ceil(o)}(l),2147483647))]=0,function(e,t){e.setAttribute?e.setAttribute(o,t):e.attr&&e.attr(o,t)}(e,a)},f.prototype.format=function(e,t){return u(c(e,this.nowDate),t,this.defaultLocale)},f.prototype.render=function(e,t){void 0===e.length&&(e=[e]);for(var n=0,i=e.length;n<i;n++)this.doRender(e[n],p(r=e[n],"data-timeago")||p(r,"datetime"),t);var r},f.prototype.setLocale=function(e){this.defaultLocale=e},d.register=function(e,t){n[e]=t},d.cancel=function(e){var t;if(e)(t=p(e,o))&&(clearTimeout(t),delete s[t]);else{for(t in s)clearTimeout(t);s={}}},d},e.exports?(e.exports=r(),e.exports.default=e.exports):i.timeago=r()},function(e,t,n){var i,r;i=n(335),r=[],e.exports=Reflux.createStore({listenables:i,mixins:[mixins.ItemMixin],setQuizzes:function(e){return r=e,this.trigger(r)},createQuiz:function(e){return r.push(e),this.trigger(r)},updateQuiz:function(e,t){return r=this.updateItem(r,e,t),this.trigger(r)},deleteQuiz:function(e){return r=this.deleteItem(r,e),this.trigger(r)},getInitialState:function(){return r}})},function(e,t,n){var i,r,o;i=n(336),o=[],r=Reflux.createStore({listenables:i,mixins:[mixins.ItemMixin],setTasks:function(e){return o=e,this.trigger(o)},createTask:function(e){return o=this.createItem(o,e),this.trigger(o)},deleteTask:function(e){return o=this.deleteItem(o,e),this.trigger(o)},updateTask:function(e,t){return o=this.updateItem(o,e,t),this.trigger(o)},getInitialState:function(){return o}}),e.exports=r},function(e,t){e.exports=Reflux.createActions(["setGitHubMarkdowns"])},function(e,t){e.exports=Reflux.createActions(["setSnippets","createSnippet","updateSnippet","deleteSnippet"])},function(e,t){e.exports=Reflux.createActions(["resetTests","setTests","createTest","updateTest","deleteTest"])},function(e,t,n){"use strict";n.r(t);var i=n(113),r=n.n(i),o=n(220),s=n.n(o),a=n(52),l=n.n(a),u=n(339),c=n.n(u),p=n(112),f=n.n(p),d=n(3),h=n.n(d),m=n(72),g=n.n(m),b=n(4),y=n.n(b),v=n(5),_=n.n(v),x=n(0),w=n.n(x),k=n(10),S=n.n(k),C=function(){function e(){h()(this,e)}return g()(e,null,[{key:"isBrowser",value:function(){return"undefined"!=typeof window}},{key:"isOpera",value:function(){return e.isBrowser()&&(!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0)}},{key:"isFirefox",value:function(){return e.isBrowser()&&"undefined"!=typeof InstallTrigger}},{key:"isSafari",value:function(){return!!e.isBrowser()&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isIE",value:function(){
/*@cc_on!@*/
return e.isBrowser()&&!!document.documentMode}},{key:"isEdge",value:function(){return e.isBrowser()&&!e.isIE()&&!!window.StyleMedia}},{key:"isChrome",value:function(){return e.isBrowser()&&!!window.chrome&&!!window.chrome.webstore}},{key:"isBlink",value:function(){return e.isBrowser()&&(e.isChrome()||e.isOpera())&&!!window.CSS}},{key:"getUserAgent",value:function(){return"undefined"==typeof navigator?"":navigator.userAgent}},{key:"isAndroid",value:function(){return e.isBrowser()&&e.getUserAgent().match(/Android/i)}},{key:"isBlackBerry",value:function(){return e.isBrowser()&&e.getUserAgent().match(/BlackBerry/i)}},{key:"isIOS",value:function(){return e.isBrowser()&&e.getUserAgent().match(/iPhone|iPad|iPod/i)}},{key:"isOpera",value:function(){return e.isBrowser()&&e.getUserAgent().match(/Opera Mini/i)}},{key:"isWindows",value:function(){return e.isBrowser()&&e.isWindowsDesktop()||e.isWindowsMobile()}},{key:"isWindowsMobile",value:function(){return e.isBrowser()&&e.getUserAgent().match(/IEMobile/i)}},{key:"isWindowsDesktop",value:function(){return e.isBrowser()&&e.getUserAgent().match(/WPDesktop/i)}},{key:"isMobile",value:function(){return e.isBrowser()&&(e.isWindowsMobile()||e.isBlackBerry()||e.isAndroid()||e.isIOS())}}]),e}(),E=n(1),T=n.n(E),A=function(e){function t(e){h()(this,t);var n=y()(this,(t.__proto__||f()(t)).call(this,e));return n.state={active:!1},n.onMouseMove=n.onMouseMove.bind(n),n.onMouseDown=n.onMouseDown.bind(n),n.onMouseUp=n.onMouseUp.bind(n),n.document=e.document,n}return _()(t,e),g()(t,[{key:"componentDidMount",value:function(){this.document&&(this.document.addEventListener("touchend",this.onMouseUp),this.document.addEventListener("mouseup",this.onMouseUp),this.document.addEventListener("mousemove",this.onMouseMove,{passive:!1}),this.document.addEventListener("touchmove",this.onMouseMove,{passive:!1}))}},{key:"componentWillUnmount",value:function(){this.document&&(this.document.removeEventListener("mouseup",this.onMouseUp),this.document.removeEventListener("touchend",this.onMouseUp),this.document.removeEventListener("mousemove",this.onMouseMove),this.document.removeEventListener("touchmove",this.onMouseMove),this.state.active&&this.props.events.emit("stopResize",{index:this.props.index,event:null}))}},{key:"onMouseMove",value:function(e){this.state.active&&(this.props.events.emit("resize",{index:this.props.index,event:e}),this.props.onResize&&this.props.onResize({domElement:S.a.findDOMNode(this),component:this}),e.stopPropagation(),e.preventDefault())}},{key:"onMouseDown",value:function(e){this.setState({active:!0}),this.props.onStartResize&&this.props.onStartResize({domElement:S.a.findDOMNode(this),component:this})||this.props.events.emit("startResize",{index:this.props.index,event:e})}},{key:"onMouseUp",value:function(e){this.state.active&&(this.setState({active:!1}),this.props.onStopResize&&this.props.onStopResize({domElement:S.a.findDOMNode(this),component:this}),this.props.events.emit("stopResize",{index:this.props.index,event:e}))}},{key:"render",value:function(){var e=["reflex-splitter"].concat(r()(this.props.className.split(" ")));return C.isMobile()&&e.push("reflex-thin"),this.state.active&&e.push("active"),T.a.createElement("div",{className:e.join(" "),onTouchStart:this.onMouseDown,onMouseDown:this.onMouseDown,style:this.props.style,id:this.props.id},this.props.children)}}]),t}(T.a.Component);A.propTypes={children:w.a.oneOfType([w.a.arrayOf(w.a.node),w.a.node]),onStartResize:w.a.func,onStopResize:w.a.func,className:w.a.string,propagate:w.a.bool,onResize:w.a.func,style:w.a.object},A.defaultProps={document:"undefined"==typeof document?null:document,onStartResize:null,onStopResize:null,propagate:!1,onResize:null,className:"",style:{}};var N=A,M=function(){function e(){h()(this,e),this._events={}}return g()(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach(function(e){n._events[e]=n._events[e]||[],n._events[e].push(t)}),this}},{key:"off",value:function(e,t){var n=this;if(null!=e)return e.split(" ").forEach(function(e){e in n._events!=!1&&(t?n._events[e].splice(n._events[e].indexOf(t),1):n._events[e]=[])}),this;this._events={}}},{key:"emit",value:function(e){if(void 0!==this._events[e])for(var t=this._events[e].slice(),n=0;n<t.length;++n){var i=t[n].apply(this,Array.prototype.slice.call(arguments,1));if(void 0!==i)return i}}}]),e}(),R=function(e){function t(e){h()(this,t);var n=y()(this,(t.__proto__||f()(t)).call(this,e));return n.state={flexData:[]},n.events=new M,n.onStartResize=n.onStartResize.bind(n),n.onStopResize=n.onStopResize.bind(n),n.onResize=n.onResize.bind(n),n.onElementSize=n.onElementSize.bind(n),n.children=[],n}return _()(t,e),g()(t,[{key:"setPartialState",value:function(e){var t=this;return new c.a(function(n){t.setState(l()({},t.state,e),function(){n()})})}},{key:"componentDidMount",value:function(){var e=this.computeFlexData();this.setPartialState({flexData:e}),this.events.on("startResize",this.onStartResize),this.events.on("stopResize",this.onStopResize),this.events.on("resize",this.onResize),this.events.on("element.size",this.onElementSize)}},{key:"componentWillUnmount",value:function(){this.events.off()}},{key:"getValidChildren",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return this.toArray(e.children).filter(function(e){return!!e})}},{key:"componentWillReceiveProps",value:function(e){var t=this.getValidChildren(e);if(t.length!==this.state.flexData.length||this.flexHasChanged(e)){var n=this.computeFlexData(t);this.setPartialState({flexData:n})}}},{key:"flexHasChanged",value:function(e){var t=this.getValidChildren(e).map(function(e){return e.props.flex||0});return!this.getValidChildren().map(function(e){return e.props.flex||0}).every(function(e,n){return e===t[n]})}},{key:"getSize",value:function(e){var t=e.ref?this.refs[e.ref]:e,n=S.a.findDOMNode(t);switch(this.props.orientation){case"horizontal":return n.offsetHeight;case"vertical":default:return n.offsetWidth}}},{key:"getOffset",value:function(e){var t=e.changedTouches?e.changedTouches[0]:e;switch(this.props.orientation){case"horizontal":return t.pageY-this.previousPos;case"vertical":default:return t.pageX-this.previousPos}}},{key:"onStartResize",value:function(e){var t=e.event.changedTouches?e.event.changedTouches[0]:e.event;switch(this.props.orientation){case"horizontal":document.body.style.cursor="row-resize",this.previousPos=t.pageY;break;case"vertical":default:document.body.style.cursor="col-resize",this.previousPos=t.pageX}this.elements=[this.children[e.index-1],this.children[e.index+1]],this.emitElementsEvent(this.elements,"onStartResize")}},{key:"onResize",value:function(e){var t=this,n=this.getOffset(e.event),i=this.computeAvailableOffset(e.index,n);if(i){var r=e.event.changedTouches?e.event.changedTouches[0]:e.event;switch(this.props.orientation){case"horizontal":this.previousPos=r.pageY;break;case"vertical":default:this.previousPos=r.pageX}this.elements=this.dispatchOffset(e.index,i),this.adjustFlex(this.elements),this.setPartialState(this.state).then(function(){t.emitElementsEvent(t.elements,"onResize")})}}},{key:"isSplitterElement",value:function(e){return e.type===N}},{key:"onStopResize",value:function(e){var t=this;document.body.style.cursor="auto";var n=this.elements.map(function(e){return e.ref}),i=this.children.filter(function(e){return!t.isSplitterElement(e)&&n.includes(e.ref)});this.emitElementsEvent(i,"onStopResize")}},{key:"onElementSize",value:function(e){var t=this;return new c.a(function(n){try{var i=e.index,r=t.getSize(t.children[i]),o=e.size-r,s=e.direction,a=i+s,l=t.computeAvailableOffset(a,s*o);t.elements=null,l&&(t.elements=t.dispatchOffset(a,l),t.adjustFlex(t.elements)),t.setPartialState(t.state).then(function(){t.emitElementsEvent(t.elements,"onResize"),n()})}catch(e){}})}},{key:"adjustFlex",value:function(e){var t=this,n=e.reduce(function(n,i){var r=i.props.index;return n+(i.props.flex-t.state.flexData[r].flex)/e.length},0);e.forEach(function(e){t.state.flexData[e.props.index].flex+=n})}},{key:"computeAvailableOffset",value:function(e,t){var n=this.computeAvailableStretch(e,t),i=this.computeAvailableShrink(e,t);return Math.min(n,i)*s()(t)}},{key:"checkPropagate",value:function(e,t){if(t>0){if(e<this.children.length-2){var n=this.children[e+2];return this.isSplitterElement(n)&&n.props.propagate}}else if(e>2){var i=this.children[e-2];return this.isSplitterElement(i)&&i.props.propagate}return!1}},{key:"computeAvailableStretch",value:function(e,t){var n=t<0?e+1:e-1,i=this.children[n],r=this.getSize(i),o=i.props.maxSize-r;if(o<Math.abs(t)&&this.checkPropagate(e,-1*t)){var a=s()(t)*(Math.abs(t)-o);return o+this.computeAvailableStretch(t<0?e+2:e-2,a)}return Math.min(o,Math.abs(t))}},{key:"computeAvailableShrink",value:function(e,t){var n=t>0?e+1:e-1,i=this.children[n],r=this.getSize(i)-Math.max(i.props.minSize,0);if(r<Math.abs(t)&&this.checkPropagate(e,t)){var o=s()(t)*(Math.abs(t)-r);return r+this.computeAvailableShrink(t>0?e+2:e-2,o)}return Math.min(r,Math.abs(t))}},{key:"computePixelFlex",value:function(){var e=S.a.findDOMNode(this);switch(this.props.orientation){case"horizontal":return 0===e.offsetHeight?(console.warn("Found ReflexContainer with height=0, this will cause invalid behavior..."),console.warn(e),0):1/e.offsetHeight;case"vertical":default:return 0===e.offsetWidth?(console.warn("Found ReflexContainer with width=0, this will cause invalid behavior..."),console.warn(e),0):1/e.offsetWidth}}},{key:"addOffset",value:function(e,t){var n=this.getSize(e),i=e.props.index,r=Math.max(n+t,0),o=this.state.flexData[i].flex,s=o>0?o*r/n:this.computePixelFlex()*r;this.state.flexData[i].flex=!isFinite(s)||isNaN(s)?0:s}},{key:"dispatchStretch",value:function(e,t){var n=t<0?e+1:e-1;if(n<0||n>this.children.length-1)return[];var i=this.children[n],o=this.getSize(i),a=Math.min(i.props.maxSize,o+Math.abs(t))-o;if(this.addOffset(i,a),a<Math.abs(t)){var l=e-2*s()(t),u=s()(t)*(Math.abs(t)-a);return[i].concat(r()(this.dispatchStretch(l,u)))}return[i]}},{key:"dispatchShrink",value:function(e,t){var n=t>0?e+1:e-1;if(n<0||n>this.children.length-1)return[];var i=this.children[n],o=this.getSize(i),a=Math.max(i.props.minSize,o-Math.abs(t))-o;if(this.addOffset(i,a),Math.abs(a)<Math.abs(t)){var l=e+2*s()(t),u=s()(t)*(Math.abs(t)+a);return[i].concat(r()(this.dispatchShrink(l,u)))}return[i]}},{key:"dispatchOffset",value:function(e,t){return[].concat(r()(this.dispatchStretch(e,t)),r()(this.dispatchShrink(e,t)))}},{key:"emitElementsEvent",value:function(e,t){var n=this;this.toArray(e).forEach(function(e){if(e.props[t]){var i=n.refs[e.ref];e.props[t]({domElement:S.a.findDOMNode(i),component:e})}})}},{key:"computeFlexData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getValidChildren(),n=this.computePixelFlex();return function t(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=!1,o=n.reduce(function(t,n){return e.isSplitterElement(n)||n.constrained?t:t+1},0),s=function(t){return t.reduce(function(t,n){return!e.isSplitterElement(n)&&n.constrained?t-n.flex:t},1)}(n),a=n.map(function(t){if(e.isSplitterElement(t))return t;var n=t.constrained?t.flex:s/o,i=Math.min(t.sizeFlex,Math.min(t.maxFlex,Math.max(t.minFlex,n))),a=i!==n;return r=r||a,l()({},t,{flex:i,constrained:a})});return r&&i<e.props.maxRecDepth?t(a,i+1):a}(t.map(function(t){var i=t.props;return{maxFlex:(i.maxSize||Number.MAX_VALUE)*n,sizeFlex:(i.size||Number.MAX_VALUE)*n,minFlex:(i.minSize||1)*n,constrained:void 0!==i.flex,guid:i.ref||e.guid(),flex:i.flex||0,type:t.type}})).map(function(t){return{flex:e.isSplitterElement(t)?0:t.flex,guid:t.guid}})}},{key:"guid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"xxxx-xxxx",t=(new Date).getTime();return e.replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:7&n|8).toString(16)})}},{key:"toArray",value:function(e){return e?Array.isArray(e)?e:[e]:[]}},{key:"render",value:function(){var e=this,t=["reflex-layout","reflex-container",this.props.orientation].concat(r()(this.props.className.split(" ")));return this.children=T.a.Children.map(this.getValidChildren(),function(t,n){if(n>e.state.flexData.length-1)return T.a.createElement("div",null);var i=e.state.flexData[n],r=l()({},t.props,{maxSize:t.props.maxSize||Number.MAX_VALUE,orientation:e.props.orientation,minSize:t.props.minSize||1,events:e.events,flex:i.flex,ref:i.guid,index:n});return T.a.cloneElement(t,r)}),T.a.createElement("div",{className:t.join(" "),style:this.props.style},this.children)}}]),t}(T.a.Component);R.propTypes={orientation:w.a.oneOf(["horizontal","vertical"]),maxRecDepth:w.a.number,className:w.a.string,style:w.a.object},R.defaultProps={orientation:"horizontal",maxRecDepth:100,className:"",style:{}};var O=R,L=n(2),P=n.n(L),D=n(373),I=n.n(D),F=n(554),$=n.n(F),j=n(555),B=n.n(j),z=function(e){function t(e){h()(this,t);var n=y()(this,(t.__proto__||f()(t)).call(this,e));return n.state={active:!1},n.onMouseMove=n.onMouseMove.bind(n),n.onMouseDown=n.onMouseDown.bind(n),n.onMouseUp=n.onMouseUp.bind(n),n.document=e.document,n}return _()(t,e),g()(t,[{key:"componentDidMount",value:function(){this.document&&(this.document.addEventListener("touchend",this.onMouseUp),this.document.addEventListener("mouseup",this.onMouseUp),this.document.addEventListener("mousemove",this.onMouseMove,{passive:!1}),this.document.addEventListener("touchmove",this.onMouseMove,{passive:!1}))}},{key:"componentWillUnmount",value:function(){this.document&&(this.document.removeEventListener("mouseup",this.onMouseUp),this.document.removeEventListener("touchend",this.onMouseUp),this.document.removeEventListener("mousemove",this.onMouseMove),this.document.removeEventListener("touchmove",this.onMouseMove),this.state.active&&this.props.events.emit("stopResize",{index:this.props.index,event:null}))}},{key:"onMouseMove",value:function(e){this.state.active&&(this.props.events.emit("resize",{index:this.props.index,event:e}),this.props.onResize&&this.props.onResize({domElement:S.a.findDOMNode(this),component:this}),e.stopPropagation(),e.preventDefault())}},{key:"onMouseDown",value:function(e){this.setState({active:!0}),this.props.onStartResize&&this.props.onStartResize({domElement:S.a.findDOMNode(this),component:this})||this.props.events.emit("startResize",{index:this.props.index,event:e})}},{key:"onMouseUp",value:function(e){this.state.active&&(this.setState({active:!1}),this.props.onStopResize&&this.props.onStopResize({domElement:S.a.findDOMNode(this),component:this}),this.props.events.emit("stopResize",{index:this.props.index,event:e}))}},{key:"render",value:function(){var e=["reflex-handle"].concat(r()(this.props.className.split(" ")));return this.state.active&&e.push("active"),T.a.createElement("div",{className:e.join(" "),onTouchStart:this.onMouseDown,onMouseDown:this.onMouseDown,style:this.props.style,id:this.props.id},this.props.children)}}]),t}(T.a.Component);z.propTypes={children:w.a.oneOfType([w.a.arrayOf(w.a.node),w.a.node]),onStartResize:w.a.func,onStopResize:w.a.func,className:w.a.string,propagate:w.a.bool,onResize:w.a.func,style:w.a.object},z.defaultProps={document:"undefined"==typeof document?null:document,onStartResize:null,onStopResize:null,propagate:!1,onResize:null,className:"",style:{}};var q=z,H=n(556),U=n.n(H);function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var V=n(557),G=["client","offset","scroll","bounds","margin"];var K,Y,X,Q,Z=(K=function(e){var t=e.measure,n=e.measureRef,i=e.contentRect;return(0,e.children)({measure:t,measureRef:n,contentRect:i})},X=Y=function(e){var t,n;function i(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={contentRect:{entry:{},client:{},offset:{},scroll:{},bounds:{},margin:{}}},t._animationFrameID=null,t._resizeObserver=new V.a(function(){t.measure()}),t.measure=function(e){var n,i,r=function(e,t){var n={};if(t.indexOf("client")>-1&&(n.client={top:e.clientTop,left:e.clientLeft,width:e.clientWidth,height:e.clientHeight}),t.indexOf("offset")>-1&&(n.offset={top:e.offsetTop,left:e.offsetLeft,width:e.offsetWidth,height:e.offsetHeight}),t.indexOf("scroll")>-1&&(n.scroll={top:e.scrollTop,left:e.scrollLeft,width:e.scrollWidth,height:e.scrollHeight}),t.indexOf("bounds")>-1){var i=e.getBoundingClientRect();n.bounds={top:i.top,right:i.right,bottom:i.bottom,left:i.left,width:i.width,height:i.height}}if(t.indexOf("margin")>-1){var r=getComputedStyle(e);n.margin={top:r?parseInt(r.marginTop):0,right:r?parseInt(r.marginRight):0,bottom:r?parseInt(r.marginBottom):0,left:r?parseInt(r.marginLeft):0}}return n}(t._node,Q||(n=t.props,i=[],G.forEach(function(e){n[e]&&i.push(e)}),i));e&&(r.entry=e[0].contentRect),t._animationFrameID=window.requestAnimationFrame(function(){t._resizeObserver&&t.setState({contentRect:r})}),"function"==typeof t.props.onResize&&t.props.onResize(r)},t._handleRef=function(e){t._resizeObserver&&(e?t._resizeObserver.observe(e):t._resizeObserver.unobserve(t._node)),t._node=e,"function"==typeof t.props.innerRef&&t.props.innerRef(e)},t}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=i.prototype;return r.componentWillUnmount=function(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null),window.cancelAnimationFrame(this._animationFrameID)},r.render=function(){var e=this.props,t=(e.innerRef,e.onResize,function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,["innerRef","onResize"]));return Object(E.createElement)(K,W({},t,{measureRef:this._handleRef,measure:this.measure,contentRect:this.state.contentRect}))},i}(E.Component),Y.propTypes={client:w.a.bool,offset:w.a.bool,scroll:w.a.bool,bounds:w.a.bool,margin:w.a.bool,innerRef:w.a.func,onResize:w.a.func},X);Z.displayName="Measure",Z.propTypes.children=w.a.func;var J=Z,ee=function(e){function t(e){h()(this,t);var n=y()(this,(t.__proto__||f()(t)).call(this,e));return n.onResize=n.onResize.bind(n),n.setStateThrottled=U()(function(e){n.setState(e)},n.props.renderOnResizeRate),n.state={dimensions:{height:"100%",width:"100%"}},n}return _()(t,e),g()(t,[{key:"componentWillReceiveProps",value:function(){var e=B()(I.a.mark(function e(t){var n,i,r,o,s,a,l;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.size===this.props.size){e.next=28;break}n=this.toArray(t.direction),i=!0,r=!1,o=void 0,e.prev=5,s=$()(n);case 7:if(i=(a=s.next()).done){e.next=14;break}return l=a.value,e.next=11,this.props.events.emit("element.size",{index:t.index,size:t.size,direction:l});case 11:i=!0,e.next=7;break;case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(5),r=!0,o=e.t0;case 20:e.prev=20,e.prev=21,!i&&s.return&&s.return();case 23:if(e.prev=23,!r){e.next=26;break}throw o;case 26:return e.finish(23);case 27:return e.finish(20);case 28:case"end":return e.stop()}},e,this,[[5,16,20,28],[21,,23,27]])}));return function(t){return e.apply(this,arguments)}}()},{key:"toArray",value:function(e){return e?Array.isArray(e)?e:[e]:[]}},{key:"onResize",value:function(e){var t=this.props,n=t.renderOnResize,i=t.resizeHeight,r=t.resizeWidth;n&&this.setStateThrottled({dimensions:P()({},i&&{height:Math.floor(e.bounds.height)},r&&{width:Math.floor(e.bounds.width)})})}},{key:"isHandleElement",value:function(e){return e.type===q}},{key:"renderChildren",value:function(){var e=this;return T.a.Children.map(this.props.children,function(t){if(!t)return null;var n=P()({},t.props);return e.props.propagateDimensions&&(n=P()({},n,{dimensions:e.state.dimensions})),e.isHandleElement(t)&&(n=P()({},n,{index:e.props.index-1,events:e.props.events})),T.a.cloneElement(t,n)})}},{key:"render",value:function(){var e=this,t=["reflex-element"].concat(r()(this.props.className.split(" "))).join(" "),n=l()({},{WebkitBoxFlex:this.props.flex,FlexElement:this.props.flex,MozBoxFlex:this.props.flex,WebkitFlex:this.props.flex,flex:this.props.flex},this.props.style),i={height:this.state.dimensions.height,width:this.state.dimensions.width};return T.a.createElement(J,{bounds:!0,onResize:this.onResize},function(r){var o=r.measureRef;return T.a.createElement("div",{ref:o,className:t,style:n},T.a.createElement("div",{style:i},e.renderChildren()))})}}]),t}(T.a.Component);ee.propTypes={renderOnResizeRate:w.a.number,propagateDimensions:w.a.bool,renderOnResize:w.a.bool,resizeHeight:w.a.bool,resizeWidth:w.a.bool,className:w.a.string},ee.defaultProps={renderOnResize:C.isSafari(),propagateDimensions:!1,renderOnResizeRate:60,resizeHeight:!0,resizeWidth:!0,direction:[1],className:""};var te=ee;n.d(t,"ReflexContainer",function(){return O}),n.d(t,"ReflexSplitter",function(){return N}),n.d(t,"ReflexElement",function(){return te}),n.d(t,"ReflexHandle",function(){return q})},function(e,t,n){e.exports=n(773)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports=Reflux.createActions(["connectToPubNub"])},function(e,t){e.exports=function(e,t){if("string"!=typeof e)throw new TypeError("Expected a string");for(var n,i=String(e),r="",o=!!t&&!!t.extended,s=!!t&&!!t.globstar,a=!1,l=t&&"string"==typeof t.flags?t.flags:"",u=0,c=i.length;u<c;u++)switch(n=i[u]){case"\\":case"/":case"$":case"^":case"+":case".":case"(":case")":case"=":case"!":case"|":r+="\\"+n;break;case"?":if(o){r+=".";break}case"[":case"]":if(o){r+=n;break}case"{":if(o){a=!0,r+="(";break}case"}":if(o){a=!1,r+=")";break}case",":if(a){r+="|";break}r+="\\"+n;break;case"*":for(var p=i[u-1],f=1;"*"===i[u+1];)f++,u++;var d=i[u+1];if(s)f>1&&("/"===p||void 0===p)&&("/"===d||void 0===d)?(r+="(?:[^/]*(?:/|$))*",u++):r+="[^/]*";else r+=".*";break;default:r+=n}return l&&~l.indexOf("g")||(r="^"+r+"$"),new RegExp(r,l)}},function(e,t,n){var i,r,o;i=n(505),o=[],r=Reflux.createStore({listenables:i,mixins:[mixins.ItemMixin],setSteps:function(e){return o=e,this.trigger(o)},createStep:function(e){return o=this.createItem(o,e),this.trigger(o)},deleteStep:function(e){return o=this.deleteItem(o,e),this.trigger(o)},updateStep:function(e,t){return o=this.updateItem(o,e,t),this.trigger(o)},getInitialState:function(){return o}}),e.exports=r},function(e,t){var n;n=Reflux.createActions(["setSteps","createStep","updateStep","deleteStep"]),e.exports=n},function(e,t,n){var i=n(22),r=n(16),o=n(46);e.exports=function(e,t){var n=(r.Object||{})[e]||Object[e],s={};s[e]=t(n),i(i.S+i.F*o(function(){n(1)}),"Object",s)}},function(e,t,n){"use strict";e.exports={VelocityComponent:n(619),VelocityTransitionGroup:n(647),velocityHelpers:n(672)}},function(e,t,n){var i=n(621),r=n(626)(i);e.exports=r},function(e,t,n){var i=n(622)();e.exports=i},function(e,t,n){var i=n(511)("length");e.exports=i},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var i=n(350),r=n(319);e.exports=function(e,t,n,o){var s=(n="function"==typeof n?r(n,o,3):void 0)?n(e,t):void 0;return void 0===s?i(e,t,n):!!s}},function(e,t,n){var i=n(515),r=n(634),o=n(641),s=n(319),a=n(349),l=n(643),u=n(644),c=n(516)(function(e,t){if(null==e)return{};if("function"!=typeof t[0]){t=i(o(t),String);return l(e,r(a(e),t))}var n=s(t[0],t[1],3);return u(e,function(e,t,i){return!n(e,t,i)})});e.exports=c},function(e,t){e.exports=function(e,t){for(var n=-1,i=e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}},function(e,t){var n="Expected a function",i=Math.max;e.exports=function(e,t){if("function"!=typeof e)throw new TypeError(n);return t=i(void 0===t?e.length-1:+t||0,0),function(){for(var n=arguments,r=-1,o=i(n.length-t,0),s=Array(o);++r<o;)s[r]=n[t+r];switch(t){case 0:return e.call(this,s);case 1:return e.call(this,n[0],s);case 2:return e.call(this,n[0],n[1],s)}var a=Array(t+1);for(r=-1;++r<t;)a[r]=n[r];return a[t]=s,e.apply(this,a)}}},function(e,t,n){var i=n(174);e.exports=function(e){return e==e&&!i(e)}},function(e,t,n){var i=n(206);e.exports=function(e,t,n){if(null!=e){void 0!==n&&n in i(e)&&(t=[n]);for(var r=0,o=t.length;null!=e&&r<o;)e=e[t[r++]];return r&&r==o?e:void 0}}},function(e,t,n){var i=n(207),r=n(206),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=function(e,t){var n=typeof e;return!!("string"==n&&s.test(e)||"number"==n)||!i(e)&&(!o.test(e)||null!=t&&e in r(t))}},function(e,t,n){var i=n(666),r=n(207),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,s=/\\(\\)?/g;e.exports=function(e){if(r(e))return e;var t=[];return i(e).replace(o,function(e,n,i,r){t.push(i?r.replace(s,"$1"):n||e)}),t}},function(e,t,n){var i=n(511),r=n(667),o=n(519);e.exports=function(e){return o(e)?i(e):r(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=d(n(112)),o=d(n(3)),s=d(n(72)),a=d(n(4)),l=d(n(5)),u=d(n(1)),c=d(n(0)),p=d(n(685)),f=n(507);function d(e){return e&&e.__esModule?e:{default:e}}var h=function(e){var t=e.style;return u.default.createElement("div",{style:t},"loading...")};h.propTypes={style:c.default.object};var m=function(e){var t=e.style,n=t.height,i=t.width,r="0,0 0,"+n+" "+i+","+.5*n;return u.default.createElement("div",{style:t.base},u.default.createElement("div",{style:t.wrapper},u.default.createElement("svg",{height:n,width:i},u.default.createElement("polygon",{points:r,style:t.arrow}))))};m.propTypes={style:c.default.object};var g=function(e){var t=e.node,n=e.style;return u.default.createElement("div",{style:n.base},u.default.createElement("div",{style:n.title},t.name))};g.propTypes={style:c.default.object,node:c.default.object.isRequired};var b=(0,p.default)(i=function(e){function t(){return(0,o.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.style,i=t.decorators,r=t.terminal,o=t.onClick,s=t.node;return u.default.createElement("div",{onClick:o,ref:function(t){return e.clickableRef=t},style:n.container},r?null:this.renderToggle(),u.default.createElement(i.Header,{node:s,style:n.header}))}},{key:"renderToggle",value:function(){var e=this,t=this.props.animations;return t?u.default.createElement(f.VelocityComponent,{animation:t.toggle.animation,duration:t.toggle.duration,ref:function(t){return e.velocityRef=t}},this.renderToggleDecorator()):this.renderToggleDecorator()}},{key:"renderToggleDecorator",value:function(){var e=this.props,t=e.style,n=e.decorators;return u.default.createElement(n.Toggle,{style:t.toggle})}}]),t}(u.default.Component))||i;b.propTypes={style:c.default.object.isRequired,decorators:c.default.object.isRequired,terminal:c.default.bool.isRequired,onClick:c.default.func.isRequired,animations:c.default.oneOfType([c.default.object,c.default.bool]).isRequired,node:c.default.object.isRequired},t.default={Loading:h,Toggle:m,Header:g,Container:b}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function e(t){var n,u;var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("function"!=typeof t){var m=i({},d,t);return function(t){return e(t,m)}}var g=t;var b=g;(function(e){return"function"==typeof e&&/^\s*class\s+/.test(e.toString())})(b)&&(b=function(e){function t(){var t=new(Function.prototype.bind.apply(e,[null].concat(Array.prototype.slice.call(arguments))));return h(t,this),this}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(b));(function(e){return!(e.render||e.prototype&&e.prototype.render)})(b)&&((b=function(e){function t(){return c(this,t),p(this,e.apply(this,arguments))}return f(t,e),t.prototype.render=function(){return g(this.props,this.context)},t}(o.Component)).displayName=g.displayName||g.name);var y=(u=n=function(e){function t(){c(this,t);var n=p(this,e.apply(this,arguments));return n.state=n.state||{},n.state._radiumStyleState={},n._radiumIsMounted=!0,n}return f(t,e),t.prototype.componentWillUnmount=function(){e.prototype.componentWillUnmount&&e.prototype.componentWillUnmount.call(this),this._radiumIsMounted=!1,this._radiumMouseUpListener&&this._radiumMouseUpListener.remove(),this._radiumMediaQueryListenersByQuery&&Object.keys(this._radiumMediaQueryListenersByQuery).forEach(function(e){this._radiumMediaQueryListenersByQuery[e].remove()},this)},t.prototype.getChildContext=function(){var t=e.prototype.getChildContext?e.prototype.getChildContext.call(this):{};if(!this.props.radiumConfig)return t;var n=i({},t);return this.props.radiumConfig&&(n._radiumConfig=this.props.radiumConfig),n},t.prototype.render=function(){var t=e.prototype.render.call(this),n=this.props.radiumConfig||this.context._radiumConfig||d;return d&&n!==d&&(n=i({},d,n)),(0,l.default)(this,t,n)},t}(b),n._isRadiumEnhanced=!0,u);h(g,y);0;y.propTypes&&y.propTypes.style&&(y.propTypes=i({},y.propTypes,{style:s.default.oneOfType([s.default.array,s.default.object])}));y.displayName=g.displayName||g.name||"Component";y.contextTypes=i({},y.contextTypes,{_radiumConfig:s.default.object,_radiumStyleKeeper:s.default.instanceOf(a.default)});y.childContextTypes=i({},y.childContextTypes,{_radiumConfig:s.default.object,_radiumStyleKeeper:s.default.instanceOf(a.default)});return y};var o=n(1),s=u(n(0)),a=u(n(352)),l=u(n(524));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=["arguments","callee","caller","length","name","prototype","type"];function h(e,t){Object.getOwnPropertyNames(e).forEach(function(n){if(d.indexOf(n)<0&&!t.hasOwnProperty(n)){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,i)}})}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=h(n(686)),s=h(n(353)),a=h(n(530)),l=h(n(531)),u=h(n(532)),c=n(716),p=h(n(533)),f=h(n(726)),d=h(n(1));function h(e){return e&&e.__esModule?e:{default:e}}var m={plugins:[p.default.mergeStyleArray,p.default.checkProps,p.default.resolveMediaQueries,p.default.resolveInteractionStyles,p.default.keyframes,p.default.visited,p.default.removeNestedStyles,p.default.prefix,p.default.checkProps]},g={},b=null,y=function(e){var t=e.children,n=e.component,i=e.config,o=e.existingKeyMap;if(!t)return t;var s=void 0===t?"undefined":r(t);if("string"===s||"number"===s)return t;if("function"===s)return function(){var e=t.apply(this,arguments);return d.default.isValidElement(e)?b(n,e,i,o,!0):e};if(1===d.default.Children.count(t)&&t.type){var a=d.default.Children.only(t);return b(n,a,i,o,!0)}return d.default.Children.map(t,function(e){return d.default.isValidElement(e)?b(n,e,i,o,!0):e})},v=function(e){var t=e.component,n=e.config,r=e.existingKeyMap,o=e.props,s=o;return Object.keys(o).forEach(function(e){if("children"!==e){var a=o[e];d.default.isValidElement(a)&&((s=i({},s))[e]=b(t,a,n,r,!0))}}),s},_=function(e){var t=e.component,n=e.config,r=e.existingKeyMap,p=e.props,h=e.renderedElement;if(!d.default.isValidElement(h)||"string"!=typeof h.type||!p.style)return p;var b=p,y=n.plugins||m.plugins,v=t.constructor.displayName||t.constructor.name,_=function(e){var t=e.componentName,n=e.existingKeyMap,i=e.renderedElement,r="string"==typeof i.ref?i.ref:i.key,o=(0,l.default)(r),s=!1;return function(){if(s)return o;if(s=!0,n[o]){var e=void 0;throw"string"==typeof i.type?e=i.type:i.type.constructor&&(e=i.type.constructor.displayName||i.type.constructor.name),new Error("Radium requires each element with interactive styles to have a unique key, set using either the ref or key prop. "+(r?'Key "'+r+'" is a duplicate.':"Multiple elements have no key specified.")+' Component: "'+t+'". '+(e?'Element: "'+e+'".':""))}return n[o]=!0,o}}({renderedElement:h,existingKeyMap:r,componentName:v}),w=function(e){return t[e]},k=function(e){return g[e]},S=function(e,n){return(0,a.default)(t.state,n||_(),e)},C=function(e,n,r){return function(e,t,n,r){if(e._radiumIsMounted){var o=e._lastRadiumState||e.state&&e.state._radiumStyleState||{},s={_radiumStyleState:i({},o)};s._radiumStyleState[t]=i({},s._radiumStyleState[t]),s._radiumStyleState[t][n]=r,e._lastRadiumState=s._radiumStyleState,e.setState(s)}}(t,r||_(),e,n)},E=function(e){var n=t._radiumStyleKeeper||t.context._radiumStyleKeeper;if(!n){if(x)return{remove:function(){}};throw new Error("To use plugins requiring `addCSS` (e.g. keyframes, media queries), please wrap your application in the StyleRoot component. Component name: `"+v+"`.")}return n.addCSS(e)},T=p.style;return y.forEach(function(e){var r=e({ExecutionEnvironment:f.default,addCSS:E,appendImportantToEachValue:o.default,componentName:v,config:n,cssRuleSetToString:s.default,getComponentField:w,getGlobalState:k,getState:S,hash:u.default,mergeStyles:c.mergeStyles,props:b,setState:C,isNestedStyle:c.isNestedStyle,style:T})||{};T=r.style||T,b=r.props&&Object.keys(r.props).length?i({},b,r.props):b;var a=r.componentFields||{};Object.keys(a).forEach(function(e){t[e]=a[e]});var l=r.globalState||{};Object.keys(l).forEach(function(e){g[e]=l[e]})}),T!==p.style&&(b=i({},b,{style:T})),b};b=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m,r=arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(r=r||{},!t||t.props&&t.props["data-radium"]||o&&!function(e){return e.type&&!e.type._isRadiumEnhanced}(t))return t;var s=y({children:t.props.children,component:e,config:n,existingKeyMap:r}),a=v({component:e,config:n,existingKeyMap:r,props:t.props});return a=_({component:e,config:n,existingKeyMap:r,props:a,renderedElement:t}),s===t.props.children&&a===t.props?t:function(e,t,n){return"string"==typeof e.type&&(t=i({},t,{"data-radium":!0})),d.default.cloneElement(e,t,n)}(t,a!==t.props?a:{},s)};var x=!1;t.default=b,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return i[e]||"number"!=typeof t||0===t?t:t+"px"};var i={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return Object.keys(e).reduce(function(n,i){return n[i]=t(e[i],i),n},{})},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={Webkit:{transform:!0,transformOrigin:!0,transformOriginX:!0,transformOriginY:!0,backfaceVisibility:!0,perspective:!0,perspectiveOrigin:!0,transformStyle:!0,transformOriginZ:!0,animation:!0,animationDelay:!0,animationDirection:!0,animationFillMode:!0,animationDuration:!0,animationIterationCount:!0,animationName:!0,animationPlayState:!0,animationTimingFunction:!0,appearance:!0,userSelect:!0,fontKerning:!0,textEmphasisPosition:!0,textEmphasis:!0,textEmphasisStyle:!0,textEmphasisColor:!0,boxDecorationBreak:!0,clipPath:!0,maskImage:!0,maskMode:!0,maskRepeat:!0,maskPosition:!0,maskClip:!0,maskOrigin:!0,maskSize:!0,maskComposite:!0,mask:!0,maskBorderSource:!0,maskBorderMode:!0,maskBorderSlice:!0,maskBorderWidth:!0,maskBorderOutset:!0,maskBorderRepeat:!0,maskBorder:!0,maskType:!0,textDecorationStyle:!0,textDecorationSkip:!0,textDecorationLine:!0,textDecorationColor:!0,filter:!0,fontFeatureSettings:!0,breakAfter:!0,breakBefore:!0,breakInside:!0,columnCount:!0,columnFill:!0,columnGap:!0,columnRule:!0,columnRuleColor:!0,columnRuleStyle:!0,columnRuleWidth:!0,columns:!0,columnSpan:!0,columnWidth:!0,flex:!0,flexBasis:!0,flexDirection:!0,flexGrow:!0,flexFlow:!0,flexShrink:!0,flexWrap:!0,alignContent:!0,alignItems:!0,alignSelf:!0,justifyContent:!0,order:!0,transition:!0,transitionDelay:!0,transitionDuration:!0,transitionProperty:!0,transitionTimingFunction:!0,backdropFilter:!0,scrollSnapType:!0,scrollSnapPointsX:!0,scrollSnapPointsY:!0,scrollSnapDestination:!0,scrollSnapCoordinate:!0,shapeImageThreshold:!0,shapeImageMargin:!0,shapeImageOutside:!0,hyphens:!0,flowInto:!0,flowFrom:!0,regionFragment:!0,textSizeAdjust:!0},Moz:{appearance:!0,userSelect:!0,boxSizing:!0,textAlignLast:!0,textDecorationStyle:!0,textDecorationSkip:!0,textDecorationLine:!0,textDecorationColor:!0,tabSize:!0,hyphens:!0,fontFeatureSettings:!0,breakAfter:!0,breakBefore:!0,breakInside:!0,columnCount:!0,columnFill:!0,columnGap:!0,columnRule:!0,columnRuleColor:!0,columnRuleStyle:!0,columnRuleWidth:!0,columns:!0,columnSpan:!0,columnWidth:!0},ms:{flex:!0,flexBasis:!1,flexDirection:!0,flexGrow:!1,flexFlow:!0,flexShrink:!1,flexWrap:!0,alignContent:!1,alignItems:!1,alignSelf:!1,justifyContent:!1,order:!1,transform:!0,transformOrigin:!0,transformOriginX:!0,transformOriginY:!0,userSelect:!0,wrapFlow:!0,wrapThrough:!0,wrapMargin:!0,scrollSnapType:!0,scrollSnapPointsX:!0,scrollSnapPointsY:!0,scrollSnapDestination:!0,scrollSnapCoordinate:!0,touchAction:!0,hyphens:!0,flowInto:!0,flowFrom:!0,breakBefore:!0,breakAfter:!0,breakInside:!0,regionFragment:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridTemplate:!0,gridAutoColumns:!0,gridAutoRows:!0,gridAutoFlow:!0,grid:!0,gridRowStart:!0,gridColumnStart:!0,gridRowEnd:!0,gridRow:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnGap:!0,gridRowGap:!0,gridArea:!0,gridGap:!0,textSizeAdjust:!0}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Object.keys(e).sort(function(e,t){return(0,o.default)(e)&&!(0,o.default)(t)?-1:!(0,o.default)(e)&&(0,o.default)(t)?1:0}).reduce(function(t,n){return t[n]=e[n],t},{})};var i,r=n(690),o=(i=r)&&i.__esModule?i:{default:i};e.exports=t.default},function(e,t,n){"use strict";var i=/[A-Z]/g,r=/^ms-/,o={};e.exports=function(e){return e in o?o[e]:o[e]=e.replace(i,"-$&").toLowerCase().replace(r,"-ms-")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(531),o=(i=r)&&i.__esModule?i:{default:i};t.default=function(e,t,n){var i=(0,o.default)(t);return!!e&&!!e._radiumStyleState&&!!e._radiumStyleState[i]&&e._radiumStyleState[i][n]},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return null==e?"main":e.toString()},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)return"";var t=5381,n=e.length-1;for(;n;)t=33*t^e.charCodeAt(n),n-=1;return(t>>>0).toString(16)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=p(n(717)),r=p(n(718)),o=p(n(719)),s=p(n(720)),a=p(n(721)),l=p(n(722)),u=p(n(724)),c=p(n(725));function p(e){return e&&e.__esModule?e:{default:e}}t.default={checkProps:i.default,keyframes:r.default,mergeStyleArray:o.default,prefix:s.default,removeNestedStyles:a.default,resolveInteractionStyles:l.default,resolveMediaQueries:u.default,visited:c.default},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={tree:{base:{listStyle:"none",backgroundColor:"#21252B",margin:0,padding:0,color:"#9DA5AB",fontFamily:"lucida grande ,tahoma,verdana,arial,sans-serif",fontSize:"14px"},node:{base:{position:"relative"},link:{cursor:"pointer",position:"relative",padding:"0px 5px",display:"block"},activeLink:{background:"#31363F"},toggle:{base:{position:"relative",display:"inline-block",verticalAlign:"top",marginLeft:"-5px",height:"24px",width:"24px"},wrapper:{position:"absolute",top:"50%",left:"50%",margin:"-7px 0 0 -7px",height:"14px"},height:14,width:14,arrow:{fill:"#9DA5AB",strokeWidth:0}},header:{base:{display:"inline-block",verticalAlign:"top",color:"#9DA5AB"},connector:{width:"2px",height:"12px",borderLeft:"solid 2px black",borderBottom:"solid 2px black",position:"absolute",top:"0px",left:"-21px"},title:{lineHeight:"24px",verticalAlign:"middle"}},subtree:{listStyle:"none",paddingLeft:"19px"},loading:{color:"#E2C089"}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={toggle:function(e){return{animation:{rotateZ:e.node.toggled?90:0},duration:300}},drawer:function(){return{enter:{animation:"slideDown",duration:300},leave:{animation:"slideUp",duration:300}}}}},function(e,t){!function(n){if("object"==typeof t&&void 0!==e)e.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Terminal=n()}}(function(){return function(){return function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){return r(t[s][1][e]||e)},c,c.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}}()({1:[function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=e("./Strings"),s=e("./core/Platform"),a=e("./ui/RenderDebouncer"),l=e("./ui/Lifecycle"),u=e("./common/Lifecycle"),c=function(e){function t(t){var n=e.call(this)||this;n._terminal=t,n._liveRegionLineCount=0,n._charsToConsume=[],n._accessibilityTreeRoot=document.createElement("div"),n._accessibilityTreeRoot.classList.add("xterm-accessibility"),n._rowContainer=document.createElement("div"),n._rowContainer.classList.add("xterm-accessibility-tree"),n._rowElements=[];for(var i=0;i<n._terminal.rows;i++)n._rowElements[i]=n._createAccessibilityTreeNode(),n._rowContainer.appendChild(n._rowElements[i]);return n._topBoundaryFocusListener=function(e){return n._onBoundaryFocus(e,0)},n._bottomBoundaryFocusListener=function(e){return n._onBoundaryFocus(e,1)},n._rowElements[0].addEventListener("focus",n._topBoundaryFocusListener),n._rowElements[n._rowElements.length-1].addEventListener("focus",n._bottomBoundaryFocusListener),n._refreshRowsDimensions(),n._accessibilityTreeRoot.appendChild(n._rowContainer),n._renderRowsDebouncer=new a.RenderDebouncer(n._terminal,n._renderRows.bind(n)),n._refreshRows(),n._liveRegion=document.createElement("div"),n._liveRegion.classList.add("live-region"),n._liveRegion.setAttribute("aria-live","assertive"),n._accessibilityTreeRoot.appendChild(n._liveRegion),n._terminal.element.insertAdjacentElement("afterbegin",n._accessibilityTreeRoot),n.register(n._renderRowsDebouncer),n.register(n._terminal.addDisposableListener("resize",function(e){return n._onResize(e.rows)})),n.register(n._terminal.addDisposableListener("refresh",function(e){return n._refreshRows(e.start,e.end)})),n.register(n._terminal.addDisposableListener("scroll",function(e){return n._refreshRows()})),n.register(n._terminal.addDisposableListener("a11y.char",function(e){return n._onChar(e)})),n.register(n._terminal.addDisposableListener("linefeed",function(){return n._onChar("\n")})),n.register(n._terminal.addDisposableListener("a11y.tab",function(e){return n._onTab(e)})),n.register(n._terminal.addDisposableListener("key",function(e){return n._onKey(e)})),n.register(n._terminal.addDisposableListener("blur",function(){return n._clearLiveRegion()})),n.register(n._terminal.addDisposableListener("dprchange",function(){return n._refreshRowsDimensions()})),n.register(n._terminal.renderer.addDisposableListener("resize",function(){return n._refreshRowsDimensions()})),n.register(l.addDisposableDomListener(window,"resize",function(){return n._refreshRowsDimensions()})),n}return r(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._terminal.element.removeChild(this._accessibilityTreeRoot),this._rowElements.length=0},t.prototype._onBoundaryFocus=function(e,t){var n=e.target,i=this._rowElements[0===t?1:this._rowElements.length-2];if(n.getAttribute("aria-posinset")!==(0===t?"1":""+this._terminal.buffer.lines.length)&&e.relatedTarget===i){var r,o;if(0===t?(r=n,o=this._rowElements.pop(),this._rowContainer.removeChild(o)):(r=this._rowElements.shift(),o=n,this._rowContainer.removeChild(r)),r.removeEventListener("focus",this._topBoundaryFocusListener),o.removeEventListener("focus",this._bottomBoundaryFocusListener),0===t){var s=this._createAccessibilityTreeNode();this._rowElements.unshift(s),this._rowContainer.insertAdjacentElement("afterbegin",s)}else{s=this._createAccessibilityTreeNode();this._rowElements.push(s),this._rowContainer.appendChild(s)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(0===t?-1:1),this._rowElements[0===t?1:this._rowElements.length-2].focus(),e.preventDefault(),e.stopImmediatePropagation()}},t.prototype._onResize=function(e){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(var t=this._rowContainer.children.length;t<this._terminal.rows;t++)this._rowElements[t]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[t]);for(;this._rowElements.length>e;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()},t.prototype._createAccessibilityTreeNode=function(){var e=document.createElement("div");return e.setAttribute("role","listitem"),e.tabIndex=-1,this._refreshRowDimensions(e),e},t.prototype._onTab=function(e){for(var t=0;t<e;t++)this._onChar(" ")},t.prototype._onChar=function(e){var t=this;if(this._liveRegionLineCount<21){if(this._charsToConsume.length>0)this._charsToConsume.shift()!==e&&this._announceCharacter(e);else this._announceCharacter(e);"\n"===e&&(this._liveRegionLineCount++,21===this._liveRegionLineCount&&(this._liveRegion.textContent+=o.tooMuchOutput)),s.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(function(){t._accessibilityTreeRoot.appendChild(t._liveRegion)},0)}},t.prototype._clearLiveRegion=function(){this._liveRegion.textContent="",this._liveRegionLineCount=0,s.isMac&&this._liveRegion.parentNode&&this._accessibilityTreeRoot.removeChild(this._liveRegion)},t.prototype._onKey=function(e){this._clearLiveRegion(),this._charsToConsume.push(e)},t.prototype._refreshRows=function(e,t){this._renderRowsDebouncer.refresh(e,t)},t.prototype._renderRows=function(e,t){for(var n=this._terminal.buffer,i=n.lines.length.toString(),r=e;r<=t;r++){var s=n.translateBufferLineToString(n.ydisp+r,!0),a=(n.ydisp+r+1).toString(),l=this._rowElements[r];l.textContent=0===s.length?o.blankLine:s,l.setAttribute("aria-posinset",a),l.setAttribute("aria-setsize",i)}},t.prototype._refreshRowsDimensions=function(){if(this._terminal.renderer.dimensions.actualCellHeight){this._rowElements.length!==this._terminal.rows&&this._onResize(this._terminal.rows);for(var e=0;e<this._terminal.rows;e++)this._refreshRowDimensions(this._rowElements[e])}},t.prototype._refreshRowDimensions=function(e){e.style.height=this._terminal.renderer.dimensions.actualCellHeight+"px"},t.prototype._announceCharacter=function(e){" "===e?this._liveRegion.innerHTML+="&nbsp;":this._liveRegion.textContent+=e},t}(u.Disposable);n.AccessibilityManager=c},{"./Strings":13,"./common/Lifecycle":19,"./core/Platform":22,"./ui/Lifecycle":49,"./ui/RenderDebouncer":52}],2:[function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=e("./common/CircularList"),s=e("./common/EventEmitter"),a=e("./BufferLine"),l=e("./renderer/atlas/Types");n.DEFAULT_ATTR=256|l.DEFAULT_COLOR<<9,n.CHAR_DATA_ATTR_INDEX=0,n.CHAR_DATA_CHAR_INDEX=1,n.CHAR_DATA_WIDTH_INDEX=2,n.CHAR_DATA_CODE_INDEX=3,n.MAX_BUFFER_SIZE=4294967295,n.NULL_CELL_CHAR="",n.NULL_CELL_WIDTH=1,n.NULL_CELL_CODE=0,n.WHITESPACE_CELL_CHAR=" ",n.WHITESPACE_CELL_WIDTH=1,n.WHITESPACE_CELL_CODE=32;var u=function(){function e(e,t){this._terminal=e,this._hasScrollback=t,this.markers=[],this.clear()}return e.prototype.setBufferLineFactory=function(e){"JsArray"===e?this._bufferLineConstructor!==a.BufferLineJSArray&&(this._bufferLineConstructor=a.BufferLineJSArray,this._recreateLines()):this._bufferLineConstructor!==a.BufferLine&&(this._bufferLineConstructor=a.BufferLine,this._recreateLines())},e.prototype._recreateLines=function(){if(this.lines)for(var e=0;e<this.lines.length;++e){for(var t=this.lines.get(e),n=new this._bufferLineConstructor(t.length),i=0;i<t.length;++i)n.set(i,t.get(i));this.lines.set(e,n)}},e.prototype.getBlankLine=function(e,t){var i=[e,n.NULL_CELL_CHAR,n.NULL_CELL_WIDTH,n.NULL_CELL_CODE];return new this._bufferLineConstructor(this._terminal.cols,i,t)},Object.defineProperty(e.prototype,"hasScrollback",{get:function(){return this._hasScrollback&&this.lines.maxLength>this._terminal.rows},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCursorInViewport",{get:function(){var e=this.ybase+this.y-this.ydisp;return e>=0&&e<this._terminal.rows},enumerable:!0,configurable:!0}),e.prototype._getCorrectBufferLength=function(e){if(!this._hasScrollback)return e;var t=e+this._terminal.options.scrollback;return t>n.MAX_BUFFER_SIZE?n.MAX_BUFFER_SIZE:t},e.prototype.fillViewportRows=function(e){if(0===this.lines.length){void 0===e&&(e=n.DEFAULT_ATTR);for(var t=this._terminal.rows;t--;)this.lines.push(this.getBlankLine(e))}},e.prototype.clear=function(){this.setBufferLineFactory(this._terminal.options.experimentalBufferLineImpl),this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new o.CircularList(this._getCorrectBufferLength(this._terminal.rows)),this.scrollTop=0,this.scrollBottom=this._terminal.rows-1,this.setupTabStops()},e.prototype.resize=function(e,t){var i=this._getCorrectBufferLength(t);if(i>this.lines.maxLength&&(this.lines.maxLength=i),this.lines.length>0){if(this._terminal.cols<e)for(var r=[n.DEFAULT_ATTR,n.NULL_CELL_CHAR,n.NULL_CELL_WIDTH,n.NULL_CELL_CODE],o=0;o<this.lines.length;o++)this.lines.get(o).resize(e,r);var s=0;if(this._terminal.rows<t){for(var a=this._terminal.rows;a<t;a++)if(this.lines.length<t+this.ybase)if(this.ybase>0&&this.lines.length<=this.ybase+this.y+s+1)this.ybase--,s++,this.ydisp>0&&this.ydisp--;else{var l=[n.DEFAULT_ATTR,n.NULL_CELL_CHAR,n.NULL_CELL_WIDTH,n.NULL_CELL_CODE];this.lines.push(new this._bufferLineConstructor(e,l))}}else for(a=this._terminal.rows;a>t;a--)this.lines.length>t+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(i<this.lines.maxLength){var u=this.lines.length-i;u>0&&(this.lines.trimStart(u),this.ybase=Math.max(this.ybase-u,0),this.ydisp=Math.max(this.ydisp-u,0)),this.lines.maxLength=i}this.x=Math.min(this.x,e-1),this.y=Math.min(this.y,t-1),s&&(this.y+=s),this.savedY=Math.min(this.savedY,t-1),this.savedX=Math.min(this.savedX,e-1),this.scrollTop=0}this.scrollBottom=t-1},e.prototype.stringIndexToBufferIndex=function(e,t){for(;t;){var i=this.lines.get(e);if(!i)return[-1,-1];for(var r=0;r<i.length;++r)if((t-=i.get(r)[n.CHAR_DATA_CHAR_INDEX].length)<0)return[e,r];e++}return[e,0]},e.prototype.translateBufferLineToString=function(e,t,n,i){void 0===n&&(n=0);var r=this.lines.get(e);return r?r.translateToString(t,n,i):""},e.prototype.getWrappedRangeForLine=function(e){for(var t=e,n=e;t>0&&this.lines.get(t).isWrapped;)t--;for(;n+1<this.lines.length&&this.lines.get(n+1).isWrapped;)n++;return{first:t,last:n}},e.prototype.setupTabStops=function(e){for(null!=e?this.tabs[e]||(e=this.prevStop(e)):(this.tabs={},e=0);e<this._terminal.cols;e+=this._terminal.options.tabStopWidth)this.tabs[e]=!0},e.prototype.prevStop=function(e){for(null==e&&(e=this.x);!this.tabs[--e]&&e>0;);return e>=this._terminal.cols?this._terminal.cols-1:e<0?0:e},e.prototype.nextStop=function(e){for(null==e&&(e=this.x);!this.tabs[++e]&&e<this._terminal.cols;);return e>=this._terminal.cols?this._terminal.cols-1:e<0?0:e},e.prototype.addMarker=function(e){var t=this,n=new c(e);return this.markers.push(n),n.register(this.lines.addDisposableListener("trim",function(e){n.line-=e,n.line<0&&n.dispose()})),n.register(n.addDisposableListener("dispose",function(){return t._removeMarker(n)})),n},e.prototype._removeMarker=function(e){this.markers.splice(this.markers.indexOf(e),1)},e.prototype.iterator=function(e,t,n,i,r){return new p(this,e,t,n,i,r)},e}();n.Buffer=u;var c=function(e){function t(n){var i=e.call(this)||this;return i.line=n,i._id=t._nextId++,i.isDisposed=!1,i}return r(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.emit("dispose"),e.prototype.dispose.call(this))},t._nextId=1,t}(s.EventEmitter);n.Marker=c;var p=function(){function e(e,t,n,i,r,o){void 0===n&&(n=0),void 0===i&&(i=e.lines.length),void 0===r&&(r=0),void 0===o&&(o=0),this._buffer=e,this._trimRight=t,this._startIndex=n,this._endIndex=i,this._startOverscan=r,this._endOverscan=o,this._startIndex<0&&(this._startIndex=0),this._endIndex>this._buffer.lines.length&&(this._endIndex=this._buffer.lines.length),this._current=this._startIndex}return e.prototype.hasNext=function(){return this._current<this._endIndex},e.prototype.next=function(){var e=this._buffer.getWrappedRangeForLine(this._current);e.first<this._startIndex-this._startOverscan&&(e.first=this._startIndex-this._startOverscan),e.last>this._endIndex+this._endOverscan&&(e.last=this._endIndex+this._endOverscan),e.first=Math.max(e.first,0),e.last=Math.min(e.last,this._buffer.lines.length);for(var t="",n=e.first;n<=e.last;++n)t+=this._buffer.translateBufferLineToString(n,this._trimRight);return this._current=e.last+1,{range:e,content:t}},e}();n.BufferStringIterator=p},{"./BufferLine":3,"./common/CircularList":16,"./common/EventEmitter":18,"./renderer/atlas/Types":44}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Buffer"),r=function(){function e(e,t,n){this.isWrapped=!1,this._data=[],t||(t=[0,i.NULL_CELL_CHAR,i.NULL_CELL_WIDTH,i.NULL_CELL_CODE]);for(var r=0;r<e;r++)this._push(t);n&&(this.isWrapped=!0),this.length=this._data.length}return e.prototype._pop=function(){var e=this._data.pop();return this.length=this._data.length,e},e.prototype._push=function(e){this._data.push(e),this.length=this._data.length},e.prototype._splice=function(e,t){for(var n,i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];var o=(n=this._data).splice.apply(n,[e,t].concat(i));return this.length=this._data.length,o},e.prototype.get=function(e){return this._data[e]},e.prototype.set=function(e,t){this._data[e]=t},e.prototype.insertCells=function(e,t,n){for(;t--;)this._splice(e,0,n),this._pop()},e.prototype.deleteCells=function(e,t,n){for(;t--;)this._splice(e,1),this._push(n)},e.prototype.replaceCells=function(e,t,n){for(;e<t&&e<this.length;)this.set(e++,n)},e.prototype.resize=function(e,t,n){for(void 0===n&&(n=!1);this._data.length<e;)this._data.push(t);if(n)for(;this._data.length>e;)this._data.pop();this.length=this._data.length},e.prototype.fill=function(e){for(var t=0;t<this.length;++t)this.set(t,e)},e.prototype.copyFrom=function(e){this._data=e._data.slice(0),this.length=e.length,this.isWrapped=e.isWrapped},e.prototype.clone=function(){var t=new e(0);return t.copyFrom(this),t},e.prototype.getTrimmedLength=function(){for(var e=this.length-1;e>=0;--e){var t=this.get(e);if(""!==t[i.CHAR_DATA_CHAR_INDEX])return e+t[i.CHAR_DATA_WIDTH_INDEX]}return 0},e.prototype.translateToString=function(e,t,n){void 0===e&&(e=!1),void 0===t&&(t=0),void 0===n&&(n=this.length),e&&(n=Math.min(n,this.getTrimmedLength()));for(var r="";t<n;)r+=this.get(t)[i.CHAR_DATA_CHAR_INDEX]||i.WHITESPACE_CELL_CHAR,t+=this.get(t)[i.CHAR_DATA_WIDTH_INDEX]||1;return r},e}();n.BufferLineJSArray=r;var o=3,s=function(){function e(e,t,n){if(void 0===n&&(n=!1),this.isWrapped=n,this._data=null,this._combined={},t||(t=[0,i.NULL_CELL_CHAR,i.NULL_CELL_WIDTH,i.NULL_CELL_CODE]),e){this._data=new Uint32Array(e*o);for(var r=0;r<e;++r)this.set(r,t)}this.length=e}return e.prototype.get=function(e){var t=this._data[e*o+1];return[this._data[e*o+0],2147483648&t?this._combined[e]:t?String.fromCharCode(t):"",this._data[e*o+2],2147483648&t?this._combined[e].charCodeAt(this._combined[e].length-1):t]},e.prototype.set=function(e,t){this._data[e*o+0]=t[0],t[1].length>1?(this._combined[e]=t[1],this._data[e*o+1]=2147483648|e):this._data[e*o+1]=t[1].charCodeAt(0),this._data[e*o+2]=t[2]},e.prototype.insertCells=function(e,t,n){if(e%=this.length,t<this.length-e){for(var i=this.length-e-t-1;i>=0;--i)this.set(e+t+i,this.get(e+i));for(i=0;i<t;++i)this.set(e+i,n)}else for(i=e;i<this.length;++i)this.set(i,n)},e.prototype.deleteCells=function(e,t,n){if(e%=this.length,t<this.length-e){for(var i=0;i<this.length-e-t;++i)this.set(e+i,this.get(e+t+i));for(i=this.length-t;i<this.length;++i)this.set(i,n)}else for(i=e;i<this.length;++i)this.set(i,n)},e.prototype.replaceCells=function(e,t,n){for(;e<t&&e<this.length;)this.set(e++,n)},e.prototype.resize=function(e,t,n){if(void 0===n&&(n=!1),!(e===this.length||!n&&e<this.length)){if(e>this.length){var i=new Uint32Array(e*o);this.length&&(e*o<this._data.length?i.set(this._data.subarray(0,e*o)):i.set(this._data)),this._data=i;for(var r=this.length;r<e;++r)this.set(r,t)}else if(n){if(e)(i=new Uint32Array(e*o)).set(this._data.subarray(0,e*o)),this._data=i;else this._data=null}this.length=e}},e.prototype.fill=function(e){this._combined={};for(var t=0;t<this.length;++t)this.set(t,e)},e.prototype.copyFrom=function(e){for(var t in this.length!==e.length?this._data=new Uint32Array(e._data):this._data.set(e._data),this.length=e.length,this._combined={},e._combined)this._combined[t]=e._combined[t];this.isWrapped=e.isWrapped},e.prototype.clone=function(){var t=new e(0);for(var n in t._data=new Uint32Array(this._data),t.length=this.length,this._combined)t._combined[n]=this._combined[n];return t.isWrapped=this.isWrapped,t},e.prototype.getTrimmedLength=function(){for(var e=this.length-1;e>=0;--e)if(0!==this._data[e*o+1])return e+this._data[e*o+2];return 0},e.prototype.translateToString=function(e,t,n){void 0===e&&(e=!1),void 0===t&&(t=0),void 0===n&&(n=this.length),e&&(n=Math.min(n,this.getTrimmedLength()));for(var r="";t<n;){var s=this._data[t*o+1];r+=2147483648&s?this._combined[t]:s?String.fromCharCode(s):i.WHITESPACE_CELL_CHAR,t+=this._data[t*o+2]||1}return r},e}();n.BufferLine=s},{"./Buffer":2}],4:[function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=e("./Buffer"),s=function(e){function t(t){var n=e.call(this)||this;return n._terminal=t,n._normal=new o.Buffer(n._terminal,!0),n._normal.fillViewportRows(),n._alt=new o.Buffer(n._terminal,!1),n._activeBuffer=n._normal,n.setupTabStops(),n}return r(t,e),Object.defineProperty(t.prototype,"alt",{get:function(){return this._alt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"active",{get:function(){return this._activeBuffer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"normal",{get:function(){return this._normal},enumerable:!0,configurable:!0}),t.prototype.activateNormalBuffer=function(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clear(),this._activeBuffer=this._normal,this.emit("activate",{activeBuffer:this._normal,inactiveBuffer:this._alt}))},t.prototype.activateAltBuffer=function(e){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(e),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this.emit("activate",{activeBuffer:this._alt,inactiveBuffer:this._normal}))},t.prototype.resize=function(e,t){this._normal.resize(e,t),this._alt.resize(e,t)},t.prototype.setupTabStops=function(e){this._normal.setupTabStops(e),this._alt.setupTabStops(e)},t}(e("./common/EventEmitter").EventEmitter);n.BufferSet=s},{"./Buffer":2,"./common/EventEmitter":18}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./common/TypedArrayUtils");n.wcwidth=function(e){var t=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],n=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];var r=0|e.control,o=new Uint8Array(65536);i.fill(o,1),o[0]=e.nul,i.fill(o,e.control,1,32),i.fill(o,e.control,127,160),i.fill(o,2,4352,4448),o[9001]=2,o[9002]=2,i.fill(o,2,11904,42192),o[12351]=1,i.fill(o,2,44032,55204),i.fill(o,2,63744,64256),i.fill(o,2,65040,65050),i.fill(o,2,65072,65136),i.fill(o,2,65280,65377),i.fill(o,2,65504,65511);for(var s=0;s<t.length;++s)i.fill(o,0,t[s][0],t[s][1]+1);return function(e){return e<32?0|r:e<127?1:e<65536?o[e]:function(e,t){var n,i=0,r=t.length-1;if(e<t[0][0]||e>t[r][1])return!1;for(;r>=i;)if(e>t[n=i+r>>1][1])i=n+1;else{if(!(e<t[n][0]))return!0;r=n-1}return!1}(t=e,n)?0:t>=131072&&t<=196605||t>=196608&&t<=262141?2:1;var t}}({nul:0,control:0}),n.getStringCellWidth=function(e){for(var t=0,i=e.length,r=0;r<i;++r){var o=e.charCodeAt(r);if(55296<=o&&o<=56319){if(++r>=i)return t+n.wcwidth(o);var s=e.charCodeAt(r);56320<=s&&s<=57343?o=1024*(o-55296)+s-56320+65536:t+=n.wcwidth(s)}t+=n.wcwidth(o)}return t}},{"./common/TypedArrayUtils":20}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t,n){this._textarea=e,this._compositionView=t,this._terminal=n,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:null,end:null}}return e.prototype.compositionstart=function(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._compositionView.classList.add("active")},e.prototype.compositionupdate=function(e){var t=this;this._compositionView.textContent=e.data,this.updateCompositionElements(),setTimeout(function(){t._compositionPosition.end=t._textarea.value.length},0)},e.prototype.compositionend=function(){this._finalizeComposition(!0)},e.prototype.keydown=function(e){if(this._isComposing||this._isSendingComposition){if(229===e.keyCode)return!1;if(16===e.keyCode||17===e.keyCode||18===e.keyCode)return!1;this._finalizeComposition(!1)}return 229!==e.keyCode||(this._handleAnyTextareaChanges(),!1)},e.prototype._finalizeComposition=function(e){var t=this;if(this._compositionView.classList.remove("active"),this._isComposing=!1,this._clearTextareaPosition(),e){var n={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(function(){if(t._isSendingComposition){t._isSendingComposition=!1;var e=void 0;e=t._isComposing?t._textarea.value.substring(n.start,n.end):t._textarea.value.substring(n.start),t._terminal.handler(e)}},0)}else{this._isSendingComposition=!1;var i=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._terminal.handler(i)}},e.prototype._handleAnyTextareaChanges=function(){var e=this,t=this._textarea.value;setTimeout(function(){if(!e._isComposing){var n=e._textarea.value.replace(t,"");n.length>0&&e._terminal.handler(n)}},0)},e.prototype.updateCompositionElements=function(e){var t=this;if(this._isComposing){if(this._terminal.buffer.isCursorInViewport){var n=Math.ceil(this._terminal.charMeasure.height*this._terminal.options.lineHeight),i=this._terminal.buffer.y*n,r=this._terminal.buffer.x*this._terminal.charMeasure.width;this._compositionView.style.left=r+"px",this._compositionView.style.top=i+"px",this._compositionView.style.height=n+"px",this._compositionView.style.lineHeight=n+"px";var o=this._compositionView.getBoundingClientRect();this._textarea.style.left=r+"px",this._textarea.style.top=i+"px",this._textarea.style.width=o.width+"px",this._textarea.style.height=o.height+"px",this._textarea.style.lineHeight=o.height+"px"}e||setTimeout(function(){return t.updateCompositionElements(!0)},0)}},e.prototype._clearTextareaPosition=function(){this._textarea.style.left="",this._textarea.style.top=""},e}();n.CompositionHelper=i},{}],7:[function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=e("./common/Lifecycle");function s(e,t){for(var n=t-e,i=new Array(n);n--;)i[n]=--t;return i}var a=function(){function e(e){this.table="undefined"==typeof Uint8Array?new Array(e):new Uint8Array(e)}return e.prototype.add=function(e,t,n,i){this.table[t<<8|e]=(0|n)<<4|(void 0===i?t:i)},e.prototype.addMany=function(e,t,n,i){for(var r=0;r<e.length;r++)this.add(e[r],t,n,i)},e}();n.TransitionTable=a;var l=s(32,127),u=s(0,24);u.push(25),u.push.apply(u,s(28,32));n.VT500_TRANSITION_TABLE=function(){var e,t=new a(4095),n=s(0,14);for(e in n)for(var i=0;i<=160;++i)t.add(i,e,1,0);for(e in t.addMany(l,0,2,0),n)t.addMany([24,26,153,154],e,3,0),t.addMany(s(128,144),e,3,0),t.addMany(s(144,152),e,3,0),t.add(156,e,0,0),t.add(27,e,11,1),t.add(157,e,4,8),t.addMany([152,158,159],e,0,7),t.add(155,e,11,3),t.add(144,e,11,9);return t.addMany(u,0,3,0),t.addMany(u,1,3,1),t.add(127,1,0,1),t.addMany(u,8,0,8),t.addMany(u,3,3,3),t.add(127,3,0,3),t.addMany(u,4,3,4),t.add(127,4,0,4),t.addMany(u,6,3,6),t.addMany(u,5,3,5),t.add(127,5,0,5),t.addMany(u,2,3,2),t.add(127,2,0,2),t.add(93,1,4,8),t.addMany(l,8,5,8),t.add(127,8,5,8),t.addMany([156,27,24,26,7],8,6,0),t.addMany(s(28,32),8,0,8),t.addMany([88,94,95],1,0,7),t.addMany(l,7,0,7),t.addMany(u,7,0,7),t.add(156,7,0,0),t.add(91,1,11,3),t.addMany(s(64,127),3,7,0),t.addMany(s(48,58),3,8,4),t.add(59,3,8,4),t.addMany([60,61,62,63],3,9,4),t.addMany(s(48,58),4,8,4),t.add(59,4,8,4),t.addMany(s(64,127),4,7,0),t.addMany([58,60,61,62,63],4,0,6),t.addMany(s(32,64),6,0,6),t.add(127,6,0,6),t.addMany(s(64,127),6,0,0),t.add(58,3,0,6),t.addMany(s(32,48),3,9,5),t.addMany(s(32,48),5,9,5),t.addMany(s(48,64),5,0,6),t.addMany(s(64,127),5,7,0),t.addMany(s(32,48),4,9,5),t.addMany(s(32,48),1,9,2),t.addMany(s(32,48),2,9,2),t.addMany(s(48,127),2,10,0),t.addMany(s(48,80),1,10,0),t.addMany(s(81,88),1,10,0),t.addMany([89,90,92],1,10,0),t.addMany(s(96,127),1,10,0),t.add(80,1,11,9),t.addMany(u,9,0,9),t.add(127,9,0,9),t.addMany(s(28,32),9,0,9),t.addMany(s(32,48),9,9,12),t.add(58,9,0,11),t.addMany(s(48,58),9,8,10),t.add(59,9,8,10),t.addMany([60,61,62,63],9,9,10),t.addMany(u,11,0,11),t.addMany(s(32,128),11,0,11),t.addMany(s(28,32),11,0,11),t.addMany(u,10,0,10),t.add(127,10,0,10),t.addMany(s(28,32),10,0,10),t.addMany(s(48,58),10,8,10),t.add(59,10,8,10),t.addMany([58,60,61,62,63],10,0,11),t.addMany(s(32,48),10,9,12),t.addMany(u,12,0,12),t.add(127,12,0,12),t.addMany(s(28,32),12,0,12),t.addMany(s(32,48),12,9,12),t.addMany(s(48,64),12,0,11),t.addMany(s(64,127),12,12,13),t.addMany(s(64,127),10,12,13),t.addMany(s(64,127),9,12,13),t.addMany(u,13,13,13),t.addMany(l,13,13,13),t.add(127,13,0,13),t.addMany([27,156],13,14,0),t.add(160,8,5,8),t}();var c=function(){function e(){}return e.prototype.hook=function(e,t,n){},e.prototype.put=function(e,t,n){},e.prototype.unhook=function(){},e}(),p=function(e){function t(t){void 0===t&&(t=n.VT500_TRANSITION_TABLE);var i=e.call(this)||this;return i.TRANSITIONS=t,i.initialState=0,i.currentState=i.initialState,i._osc="",i._params=[0],i._collect="",i._printHandlerFb=function(e,t,n){},i._executeHandlerFb=function(e){},i._csiHandlerFb=function(e,t,n){},i._escHandlerFb=function(e,t){},i._oscHandlerFb=function(e,t){},i._dcsHandlerFb=new c,i._errorHandlerFb=function(e){return e},i._printHandler=i._printHandlerFb,i._executeHandlers=Object.create(null),i._csiHandlers=Object.create(null),i._escHandlers=Object.create(null),i._oscHandlers=Object.create(null),i._dcsHandlers=Object.create(null),i._activeDcsHandler=null,i._errorHandler=i._errorHandlerFb,i.setEscHandler("\\",function(){}),i}return r(t,e),t.prototype.dispose=function(){this._printHandlerFb=null,this._executeHandlerFb=null,this._csiHandlerFb=null,this._escHandlerFb=null,this._oscHandlerFb=null,this._dcsHandlerFb=null,this._errorHandlerFb=null,this._printHandler=null,this._executeHandlers=null,this._escHandlers=null,this._csiHandlers=null,this._oscHandlers=null,this._dcsHandlers=null,this._activeDcsHandler=null,this._errorHandler=null},t.prototype.setPrintHandler=function(e){this._printHandler=e},t.prototype.clearPrintHandler=function(){this._printHandler=this._printHandlerFb},t.prototype.setExecuteHandler=function(e,t){this._executeHandlers[e.charCodeAt(0)]=t},t.prototype.clearExecuteHandler=function(e){this._executeHandlers[e.charCodeAt(0)]&&delete this._executeHandlers[e.charCodeAt(0)]},t.prototype.setExecuteHandlerFallback=function(e){this._executeHandlerFb=e},t.prototype.addCsiHandler=function(e,t){var n=e.charCodeAt(0);void 0===this._csiHandlers[n]&&(this._csiHandlers[n]=[]);var i=this._csiHandlers[n];return i.push(t),{dispose:function(){var e=i.indexOf(t);-1!==e&&i.splice(e,1)}}},t.prototype.setCsiHandler=function(e,t){this._csiHandlers[e.charCodeAt(0)]=[t]},t.prototype.clearCsiHandler=function(e){this._csiHandlers[e.charCodeAt(0)]&&delete this._csiHandlers[e.charCodeAt(0)]},t.prototype.setCsiHandlerFallback=function(e){this._csiHandlerFb=e},t.prototype.setEscHandler=function(e,t){this._escHandlers[e]=t},t.prototype.clearEscHandler=function(e){this._escHandlers[e]&&delete this._escHandlers[e]},t.prototype.setEscHandlerFallback=function(e){this._escHandlerFb=e},t.prototype.addOscHandler=function(e,t){void 0===this._oscHandlers[e]&&(this._oscHandlers[e]=[]);var n=this._oscHandlers[e];return n.push(t),{dispose:function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}}},t.prototype.setOscHandler=function(e,t){this._oscHandlers[e]=[t]},t.prototype.clearOscHandler=function(e){this._oscHandlers[e]&&delete this._oscHandlers[e]},t.prototype.setOscHandlerFallback=function(e){this._oscHandlerFb=e},t.prototype.setDcsHandler=function(e,t){this._dcsHandlers[e]=t},t.prototype.clearDcsHandler=function(e){this._dcsHandlers[e]&&delete this._dcsHandlers[e]},t.prototype.setDcsHandlerFallback=function(e){this._dcsHandlerFb=e},t.prototype.setErrorHandler=function(e){this._errorHandler=e},t.prototype.clearErrorHandler=function(){this._errorHandler=this._errorHandlerFb},t.prototype.reset=function(){this.currentState=this.initialState,this._osc="",this._params=[0],this._collect="",this._activeDcsHandler=null},t.prototype.parse=function(e){for(var t=0,n=0,i=!1,r=this.currentState,o=-1,s=-1,a=this._osc,l=this._collect,u=this._params,c=this.TRANSITIONS.table,p=this._activeDcsHandler,f=null,d=e.length,h=0;h<d;++h)if(t=e.charCodeAt(h),0===r&&t>31&&t<128){o=~o?o:h;do{h++}while(h<d&&e.charCodeAt(h)>31&&e.charCodeAt(h)<128);h--}else if(4===r&&t>47&&t<57)u[u.length-1]=10*u[u.length-1]+t-48;else{switch((n=c[r<<8|(t<160?t:160)])>>4){case 2:o=~o?o:h;break;case 3:~o&&(this._printHandler(e,o,h),o=-1),(f=this._executeHandlers[t])?f():this._executeHandlerFb(t);break;case 0:~o?(this._printHandler(e,o,h),o=-1):~s&&(p.put(e,s,h),s=-1);break;case 1:if(t>159)switch(r){case 0:o=~o?o:h;break;case 6:n|=6;break;case 11:n|=11;break;case 13:s=~s?s:h,n|=13;break;default:i=!0}else i=!0;if(i){if(this._errorHandler({position:h,code:t,currentState:r,print:o,dcs:s,osc:a,collect:l,params:u,abort:!1}).abort)return;i=!1}break;case 7:for(var m=this._csiHandlers[t],g=m?m.length-1:-1;g>=0&&!m[g](u,l);g--);g<0&&this._csiHandlerFb(l,u,t);break;case 8:59===t?u.push(0):u[u.length-1]=10*u[u.length-1]+t-48;break;case 9:l+=String.fromCharCode(t);break;case 10:(f=this._escHandlers[l+String.fromCharCode(t)])?f(l,t):this._escHandlerFb(l,t);break;case 11:~o&&(this._printHandler(e,o,h),o=-1),a="",u=[0],l="",s=-1;break;case 12:(p=this._dcsHandlers[l+String.fromCharCode(t)])||(p=this._dcsHandlerFb),p.hook(l,u,t);break;case 13:s=~s?s:h;break;case 14:p&&(~s&&p.put(e,s,h),p.unhook(),p=null),27===t&&(n|=1),a="",u=[0],l="",s=-1;break;case 4:~o&&(this._printHandler(e,o,h),o=-1),a="";break;case 5:for(var b=h+1;;b++)if(b>=d||(t=e.charCodeAt(b))<32||t>127&&t<=159){a+=e.substring(h,b),h=b-1;break}break;case 6:if(a&&24!==t&&26!==t){var y=a.indexOf(";");if(-1===y)this._oscHandlerFb(-1,a);else{for(var v=parseInt(a.substring(0,y)),_=a.substring(y+1),x=this._oscHandlers[v],w=x?x.length-1:-1;w>=0&&!x[w](_);w--);w<0&&this._oscHandlerFb(v,_)}}27===t&&(n|=1),a="",u=[0],l="",s=-1}r=15&n}0===r&&~o?this._printHandler(e,o,e.length):13===r&&~s&&p&&p.put(e,s,e.length),this._osc=a,this._collect=l,this._params=u,this._activeDcsHandler=p,this.currentState=r},t}(o.Disposable);n.EscapeSequenceParser=p},{"./common/Lifecycle":19}],8:[function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=e("./common/data/EscapeSequences"),s=e("./core/data/Charsets"),a=e("./Buffer"),l=e("./CharWidth"),u=e("./EscapeSequenceParser"),c=e("./common/Lifecycle"),p={"(":0,")":1,"*":2,"+":3,"-":1,".":2},f=function(){function e(e){this._terminal=e}return e.prototype.hook=function(e,t,n){this._data=""},e.prototype.put=function(e,t,n){this._data+=e.substring(t,n)},e.prototype.unhook=function(){this._terminal.handler(o.C0.ESC+"P0+r"+this._data+o.C0.ESC+"\\")},e}(),d=function(){function e(e){this._terminal=e}return e.prototype.hook=function(e,t,n){this._data=""},e.prototype.put=function(e,t,n){this._data+=e.substring(t,n)},e.prototype.unhook=function(){switch(this._data){case'"q':return this._terminal.handler(o.C0.ESC+'P1$r0"q'+o.C0.ESC+"\\");case'"p':return this._terminal.handler(o.C0.ESC+'P1$r61"p'+o.C0.ESC+"\\");case"r":var e=this._terminal.buffer.scrollTop+1+";"+(this._terminal.buffer.scrollBottom+1)+"r";return this._terminal.handler(o.C0.ESC+"P1$r"+e+o.C0.ESC+"\\");case"m":return this._terminal.handler(o.C0.ESC+"P1$r0m"+o.C0.ESC+"\\");case" q":var t={block:2,underline:4,bar:6}[this._terminal.getOption("cursorStyle")];return t-=this._terminal.getOption("cursorBlink"),this._terminal.handler(o.C0.ESC+"P1$r"+t+" q"+o.C0.ESC+"\\");default:this._terminal.error("Unknown DCS $q %s",this._data),this._terminal.handler(o.C0.ESC+"P0$r"+this._data+o.C0.ESC+"\\")}},e}(),h=function(e){function t(t,n){void 0===n&&(n=new u.EscapeSequenceParser);var i=e.call(this)||this;i._terminal=t,i._parser=n,i.register(i._parser),i._surrogateFirst="",i._parser.setCsiHandlerFallback(function(e,t,n){i._terminal.error("Unknown CSI code: ",{collect:e,params:t,flag:String.fromCharCode(n)})}),i._parser.setEscHandlerFallback(function(e,t){i._terminal.error("Unknown ESC code: ",{collect:e,flag:String.fromCharCode(t)})}),i._parser.setExecuteHandlerFallback(function(e){i._terminal.error("Unknown EXECUTE code: ",{code:e})}),i._parser.setOscHandlerFallback(function(e,t){i._terminal.error("Unknown OSC code: ",{identifier:e,data:t})}),i._parser.setPrintHandler(function(e,t,n){return i.print(e,t,n)}),i._parser.setCsiHandler("@",function(e,t){return i.insertChars(e)}),i._parser.setCsiHandler("A",function(e,t){return i.cursorUp(e)}),i._parser.setCsiHandler("B",function(e,t){return i.cursorDown(e)}),i._parser.setCsiHandler("C",function(e,t){return i.cursorForward(e)}),i._parser.setCsiHandler("D",function(e,t){return i.cursorBackward(e)}),i._parser.setCsiHandler("E",function(e,t){return i.cursorNextLine(e)}),i._parser.setCsiHandler("F",function(e,t){return i.cursorPrecedingLine(e)}),i._parser.setCsiHandler("G",function(e,t){return i.cursorCharAbsolute(e)}),i._parser.setCsiHandler("H",function(e,t){return i.cursorPosition(e)}),i._parser.setCsiHandler("I",function(e,t){return i.cursorForwardTab(e)}),i._parser.setCsiHandler("J",function(e,t){return i.eraseInDisplay(e)}),i._parser.setCsiHandler("K",function(e,t){return i.eraseInLine(e)}),i._parser.setCsiHandler("L",function(e,t){return i.insertLines(e)}),i._parser.setCsiHandler("M",function(e,t){return i.deleteLines(e)}),i._parser.setCsiHandler("P",function(e,t){return i.deleteChars(e)}),i._parser.setCsiHandler("S",function(e,t){return i.scrollUp(e)}),i._parser.setCsiHandler("T",function(e,t){return i.scrollDown(e,t)}),i._parser.setCsiHandler("X",function(e,t){return i.eraseChars(e)}),i._parser.setCsiHandler("Z",function(e,t){return i.cursorBackwardTab(e)}),i._parser.setCsiHandler("`",function(e,t){return i.charPosAbsolute(e)}),i._parser.setCsiHandler("a",function(e,t){return i.hPositionRelative(e)}),i._parser.setCsiHandler("b",function(e,t){return i.repeatPrecedingCharacter(e)}),i._parser.setCsiHandler("c",function(e,t){return i.sendDeviceAttributes(e,t)}),i._parser.setCsiHandler("d",function(e,t){return i.linePosAbsolute(e)}),i._parser.setCsiHandler("e",function(e,t){return i.vPositionRelative(e)}),i._parser.setCsiHandler("f",function(e,t){return i.hVPosition(e)}),i._parser.setCsiHandler("g",function(e,t){return i.tabClear(e)}),i._parser.setCsiHandler("h",function(e,t){return i.setMode(e,t)}),i._parser.setCsiHandler("l",function(e,t){return i.resetMode(e,t)}),i._parser.setCsiHandler("m",function(e,t){return i.charAttributes(e)}),i._parser.setCsiHandler("n",function(e,t){return i.deviceStatus(e,t)}),i._parser.setCsiHandler("p",function(e,t){return i.softReset(e,t)}),i._parser.setCsiHandler("q",function(e,t){return i.setCursorStyle(e,t)}),i._parser.setCsiHandler("r",function(e,t){return i.setScrollRegion(e,t)}),i._parser.setCsiHandler("s",function(e,t){return i.saveCursor(e)}),i._parser.setCsiHandler("u",function(e,t){return i.restoreCursor(e)}),i._parser.setExecuteHandler(o.C0.BEL,function(){return i.bell()}),i._parser.setExecuteHandler(o.C0.LF,function(){return i.lineFeed()}),i._parser.setExecuteHandler(o.C0.VT,function(){return i.lineFeed()}),i._parser.setExecuteHandler(o.C0.FF,function(){return i.lineFeed()}),i._parser.setExecuteHandler(o.C0.CR,function(){return i.carriageReturn()}),i._parser.setExecuteHandler(o.C0.BS,function(){return i.backspace()}),i._parser.setExecuteHandler(o.C0.HT,function(){return i.tab()}),i._parser.setExecuteHandler(o.C0.SO,function(){return i.shiftOut()}),i._parser.setExecuteHandler(o.C0.SI,function(){return i.shiftIn()}),i._parser.setExecuteHandler(o.C1.IND,function(){return i.index()}),i._parser.setExecuteHandler(o.C1.NEL,function(){return i.nextLine()}),i._parser.setExecuteHandler(o.C1.HTS,function(){return i.tabSet()}),i._parser.setOscHandler(0,function(e){return i.setTitle(e)}),i._parser.setOscHandler(2,function(e){return i.setTitle(e)}),i._parser.setEscHandler("7",function(){return i.saveCursor([])}),i._parser.setEscHandler("8",function(){return i.restoreCursor([])}),i._parser.setEscHandler("D",function(){return i.index()}),i._parser.setEscHandler("E",function(){return i.nextLine()}),i._parser.setEscHandler("H",function(){return i.tabSet()}),i._parser.setEscHandler("M",function(){return i.reverseIndex()}),i._parser.setEscHandler("=",function(){return i.keypadApplicationMode()}),i._parser.setEscHandler(">",function(){return i.keypadNumericMode()}),i._parser.setEscHandler("c",function(){return i.reset()}),i._parser.setEscHandler("n",function(){return i.setgLevel(2)}),i._parser.setEscHandler("o",function(){return i.setgLevel(3)}),i._parser.setEscHandler("|",function(){return i.setgLevel(3)}),i._parser.setEscHandler("}",function(){return i.setgLevel(2)}),i._parser.setEscHandler("~",function(){return i.setgLevel(1)}),i._parser.setEscHandler("%@",function(){return i.selectDefaultCharset()}),i._parser.setEscHandler("%G",function(){return i.selectDefaultCharset()});var r=function(e){a._parser.setEscHandler("("+e,function(){return i.selectCharset("("+e)}),a._parser.setEscHandler(")"+e,function(){return i.selectCharset(")"+e)}),a._parser.setEscHandler("*"+e,function(){return i.selectCharset("*"+e)}),a._parser.setEscHandler("+"+e,function(){return i.selectCharset("+"+e)}),a._parser.setEscHandler("-"+e,function(){return i.selectCharset("-"+e)}),a._parser.setEscHandler("."+e,function(){return i.selectCharset("."+e)}),a._parser.setEscHandler("/"+e,function(){return i.selectCharset("/"+e)})},a=this;for(var l in s.CHARSETS)r(l);return i._parser.setErrorHandler(function(e){return i._terminal.error("Parsing error: ",e),e}),i._parser.setDcsHandler("$q",new d(i._terminal)),i._parser.setDcsHandler("+q",new f(i._terminal)),i}return r(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._terminal=null},t.prototype.parse=function(e){if(this._terminal){var t=this._terminal.buffer,n=t.x,i=t.y;this._terminal.debug&&this._terminal.log("data: "+e),this._surrogateFirst&&(e=this._surrogateFirst+e,this._surrogateFirst=""),this._parser.parse(e),(t=this._terminal.buffer).x===n&&t.y===i||this._terminal.emit("cursormove")}},t.prototype.print=function(e,t,n){var i,r,o,s=this._terminal.buffer,u=this._terminal.charset,c=this._terminal.options.screenReaderMode,p=this._terminal.cols,f=this._terminal.wraparoundMode,d=this._terminal.insertMode,h=this._terminal.curAttr,m=s.lines.get(s.y+s.ybase);this._terminal.updateRange(s.y);for(var g=t;g<n;++g){if(i=e.charAt(g),55296<=(r=e.charCodeAt(g))&&r<=56319){if(++g>=n){this._surrogateFirst=i;continue}var b=e.charCodeAt(g);56320<=b&&b<=57343?(r=1024*(r-55296)+b-56320+65536,i+=e.charAt(g)):g--}if(o=l.wcwidth(r),u&&(r=(i=u[i]||i).charCodeAt(0)),c&&this._terminal.emit("a11y.char",i),o||!s.x){if(s.x+o-1>=p)if(f)s.x=0,s.y++,s.y>s.scrollBottom?(s.y--,this._terminal.scroll(!0)):s.lines.get(s.y).isWrapped=!0,m=s.lines.get(s.y+s.ybase);else if(2===o)continue;if(d)m.insertCells(s.x,o,[h,a.NULL_CELL_CHAR,a.NULL_CELL_WIDTH,a.NULL_CELL_CODE]),2===m.get(p-1)[a.CHAR_DATA_WIDTH_INDEX]&&m.set(p-1,[h,a.NULL_CELL_CHAR,a.NULL_CELL_WIDTH,a.NULL_CELL_CODE]);if(m.set(s.x++,[h,i,o,r]),o>0)for(;--o;)m.set(s.x++,[h,"",0,void 0])}else{var y=m.get(s.x-1);if(y)if(y[a.CHAR_DATA_WIDTH_INDEX])y[a.CHAR_DATA_CHAR_INDEX]+=i,y[a.CHAR_DATA_CODE_INDEX]=r,m.set(s.x-1,y);else{var v=m.get(s.x-2);v&&(v[a.CHAR_DATA_CHAR_INDEX]+=i,v[a.CHAR_DATA_CODE_INDEX]=r,m.set(s.x-2,v))}}}this._terminal.updateRange(s.y)},t.prototype.addCsiHandler=function(e,t){return this._parser.addCsiHandler(e,t)},t.prototype.addOscHandler=function(e,t){return this._parser.addOscHandler(e,t)},t.prototype.bell=function(){this._terminal.bell()},t.prototype.lineFeed=function(){var e=this._terminal.buffer;this._terminal.options.convertEol&&(e.x=0),e.y++,e.y>e.scrollBottom&&(e.y--,this._terminal.scroll()),e.x>=this._terminal.cols&&e.x--,this._terminal.emit("linefeed")},t.prototype.carriageReturn=function(){this._terminal.buffer.x=0},t.prototype.backspace=function(){this._terminal.buffer.x>0&&this._terminal.buffer.x--},t.prototype.tab=function(){var e=this._terminal.buffer.x;this._terminal.buffer.x=this._terminal.buffer.nextStop(),this._terminal.options.screenReaderMode&&this._terminal.emit("a11y.tab",this._terminal.buffer.x-e)},t.prototype.shiftOut=function(){this._terminal.setgLevel(1)},t.prototype.shiftIn=function(){this._terminal.setgLevel(0)},t.prototype.insertChars=function(e){this._terminal.buffer.lines.get(this._terminal.buffer.y+this._terminal.buffer.ybase).insertCells(this._terminal.buffer.x,e[0]||1,[this._terminal.eraseAttr(),a.NULL_CELL_CHAR,a.NULL_CELL_WIDTH,a.NULL_CELL_CODE]),this._terminal.updateRange(this._terminal.buffer.y)},t.prototype.cursorUp=function(e){var t=e[0];t<1&&(t=1),this._terminal.buffer.y-=t,this._terminal.buffer.y<0&&(this._terminal.buffer.y=0)},t.prototype.cursorDown=function(e){var t=e[0];t<1&&(t=1),this._terminal.buffer.y+=t,this._terminal.buffer.y>=this._terminal.rows&&(this._terminal.buffer.y=this._terminal.rows-1),this._terminal.buffer.x>=this._terminal.cols&&this._terminal.buffer.x--},t.prototype.cursorForward=function(e){var t=e[0];t<1&&(t=1),this._terminal.buffer.x+=t,this._terminal.buffer.x>=this._terminal.cols&&(this._terminal.buffer.x=this._terminal.cols-1)},t.prototype.cursorBackward=function(e){var t=e[0];t<1&&(t=1),this._terminal.buffer.x>=this._terminal.cols&&this._terminal.buffer.x--,this._terminal.buffer.x-=t,this._terminal.buffer.x<0&&(this._terminal.buffer.x=0)},t.prototype.cursorNextLine=function(e){var t=e[0];t<1&&(t=1),this._terminal.buffer.y+=t,this._terminal.buffer.y>=this._terminal.rows&&(this._terminal.buffer.y=this._terminal.rows-1),this._terminal.buffer.x=0},t.prototype.cursorPrecedingLine=function(e){var t=e[0];t<1&&(t=1),this._terminal.buffer.y-=t,this._terminal.buffer.y<0&&(this._terminal.buffer.y=0),this._terminal.buffer.x=0},t.prototype.cursorCharAbsolute=function(e){var t=e[0];t<1&&(t=1),this._terminal.buffer.x=t-1},t.prototype.cursorPosition=function(e){var t,n=e[0]-1;t=e.length>=2?e[1]-1:0,n<0?n=0:n>=this._terminal.rows&&(n=this._terminal.rows-1),t<0?t=0:t>=this._terminal.cols&&(t=this._terminal.cols-1),this._terminal.buffer.x=t,this._terminal.buffer.y=n},t.prototype.cursorForwardTab=function(e){for(var t=e[0]||1;t--;)this._terminal.buffer.x=this._terminal.buffer.nextStop()},t.prototype._eraseInBufferLine=function(e,t,n,i){void 0===i&&(i=!1);var r=this._terminal.buffer.lines.get(this._terminal.buffer.ybase+e);r.replaceCells(t,n,[this._terminal.eraseAttr(),a.NULL_CELL_CHAR,a.NULL_CELL_WIDTH,a.NULL_CELL_CODE]),i&&(r.isWrapped=!1)},t.prototype._resetBufferLine=function(e){this._eraseInBufferLine(e,0,this._terminal.cols,!0)},t.prototype.eraseInDisplay=function(e){var t;switch(e[0]){case 0:for(t=this._terminal.buffer.y,this._terminal.updateRange(t),this._eraseInBufferLine(t++,this._terminal.buffer.x,this._terminal.cols,0===this._terminal.buffer.x);t<this._terminal.rows;t++)this._resetBufferLine(t);this._terminal.updateRange(t);break;case 1:for(t=this._terminal.buffer.y,this._terminal.updateRange(t),this._eraseInBufferLine(t,0,this._terminal.buffer.x+1,!0),this._terminal.buffer.x+1>=this._terminal.cols&&(this._terminal.buffer.lines.get(t+1).isWrapped=!1);t--;)this._resetBufferLine(t);this._terminal.updateRange(0);break;case 2:for(t=this._terminal.rows,this._terminal.updateRange(t-1);t--;)this._resetBufferLine(t);this._terminal.updateRange(0);break;case 3:var n=this._terminal.buffer.lines.length-this._terminal.rows;n>0&&(this._terminal.buffer.lines.trimStart(n),this._terminal.buffer.ybase=Math.max(this._terminal.buffer.ybase-n,0),this._terminal.buffer.ydisp=Math.max(this._terminal.buffer.ydisp-n,0),this._terminal.emit("scroll",0))}},t.prototype.eraseInLine=function(e){switch(e[0]){case 0:this._eraseInBufferLine(this._terminal.buffer.y,this._terminal.buffer.x,this._terminal.cols);break;case 1:this._eraseInBufferLine(this._terminal.buffer.y,0,this._terminal.buffer.x+1);break;case 2:this._eraseInBufferLine(this._terminal.buffer.y,0,this._terminal.cols)}this._terminal.updateRange(this._terminal.buffer.y)},t.prototype.insertLines=function(e){var t=e[0];t<1&&(t=1);for(var n=this._terminal.buffer,i=n.y+n.ybase,r=this._terminal.rows-1-n.scrollBottom,o=this._terminal.rows-1+n.ybase-r+1;t--;)n.lines.splice(o-1,1),n.lines.splice(i,0,n.getBlankLine(this._terminal.eraseAttr()));this._terminal.updateRange(n.y),this._terminal.updateRange(n.scrollBottom)},t.prototype.deleteLines=function(e){var t=e[0];t<1&&(t=1);var n,i=this._terminal.buffer,r=i.y+i.ybase;for(n=this._terminal.rows-1-i.scrollBottom,n=this._terminal.rows-1+i.ybase-n;t--;)i.lines.splice(r,1),i.lines.splice(n,0,i.getBlankLine(this._terminal.eraseAttr()));this._terminal.updateRange(i.y),this._terminal.updateRange(i.scrollBottom)},t.prototype.deleteChars=function(e){this._terminal.buffer.lines.get(this._terminal.buffer.y+this._terminal.buffer.ybase).deleteCells(this._terminal.buffer.x,e[0]||1,[this._terminal.eraseAttr(),a.NULL_CELL_CHAR,a.NULL_CELL_WIDTH,a.NULL_CELL_CODE]),this._terminal.updateRange(this._terminal.buffer.y)},t.prototype.scrollUp=function(e){for(var t=e[0]||1,n=this._terminal.buffer;t--;)n.lines.splice(n.ybase+n.scrollTop,1),n.lines.splice(n.ybase+n.scrollBottom,0,n.getBlankLine(a.DEFAULT_ATTR));this._terminal.updateRange(n.scrollTop),this._terminal.updateRange(n.scrollBottom)},t.prototype.scrollDown=function(e,t){if(e.length<2&&!t){for(var n=e[0]||1,i=this._terminal.buffer;n--;)i.lines.splice(i.ybase+i.scrollBottom,1),i.lines.splice(i.ybase+i.scrollBottom,0,i.getBlankLine(a.DEFAULT_ATTR));this._terminal.updateRange(i.scrollTop),this._terminal.updateRange(i.scrollBottom)}},t.prototype.eraseChars=function(e){this._terminal.buffer.lines.get(this._terminal.buffer.y+this._terminal.buffer.ybase).replaceCells(this._terminal.buffer.x,this._terminal.buffer.x+(e[0]||1),[this._terminal.eraseAttr(),a.NULL_CELL_CHAR,a.NULL_CELL_WIDTH,a.NULL_CELL_CODE])},t.prototype.cursorBackwardTab=function(e){for(var t=e[0]||1,n=this._terminal.buffer;t--;)n.x=n.prevStop()},t.prototype.charPosAbsolute=function(e){var t=e[0];t<1&&(t=1),this._terminal.buffer.x=t-1,this._terminal.buffer.x>=this._terminal.cols&&(this._terminal.buffer.x=this._terminal.cols-1)},t.prototype.hPositionRelative=function(e){var t=e[0];t<1&&(t=1),this._terminal.buffer.x+=t,this._terminal.buffer.x>=this._terminal.cols&&(this._terminal.buffer.x=this._terminal.cols-1)},t.prototype.repeatPrecedingCharacter=function(e){var t=this._terminal.buffer,n=t.lines.get(t.ybase+t.y);n.replaceCells(t.x,t.x+(e[0]||1),n.get(t.x-1)||[a.DEFAULT_ATTR,a.NULL_CELL_CHAR,a.NULL_CELL_WIDTH,a.NULL_CELL_CODE])},t.prototype.sendDeviceAttributes=function(e,t){e[0]>0||(t?">"===t&&(this._terminal.is("xterm")?this._terminal.handler(o.C0.ESC+"[>0;276;0c"):this._terminal.is("rxvt-unicode")?this._terminal.handler(o.C0.ESC+"[>85;95;0c"):this._terminal.is("linux")?this._terminal.handler(e[0]+"c"):this._terminal.is("screen")&&this._terminal.handler(o.C0.ESC+"[>83;40003;0c")):this._terminal.is("xterm")||this._terminal.is("rxvt-unicode")||this._terminal.is("screen")?this._terminal.handler(o.C0.ESC+"[?1;2c"):this._terminal.is("linux")&&this._terminal.handler(o.C0.ESC+"[?6c"))},t.prototype.linePosAbsolute=function(e){var t=e[0];t<1&&(t=1),this._terminal.buffer.y=t-1,this._terminal.buffer.y>=this._terminal.rows&&(this._terminal.buffer.y=this._terminal.rows-1)},t.prototype.vPositionRelative=function(e){var t=e[0];t<1&&(t=1),this._terminal.buffer.y+=t,this._terminal.buffer.y>=this._terminal.rows&&(this._terminal.buffer.y=this._terminal.rows-1),this._terminal.buffer.x>=this._terminal.cols&&this._terminal.buffer.x--},t.prototype.hVPosition=function(e){e[0]<1&&(e[0]=1),e[1]<1&&(e[1]=1),this._terminal.buffer.y=e[0]-1,this._terminal.buffer.y>=this._terminal.rows&&(this._terminal.buffer.y=this._terminal.rows-1),this._terminal.buffer.x=e[1]-1,this._terminal.buffer.x>=this._terminal.cols&&(this._terminal.buffer.x=this._terminal.cols-1)},t.prototype.tabClear=function(e){var t=e[0];t<=0?delete this._terminal.buffer.tabs[this._terminal.buffer.x]:3===t&&(this._terminal.buffer.tabs={})},t.prototype.setMode=function(e,t){if(e.length>1)for(var n=0;n<e.length;n++)this.setMode([e[n]]);else if(t){if("?"===t)switch(e[0]){case 1:this._terminal.applicationCursor=!0;break;case 2:this._terminal.setgCharset(0,s.DEFAULT_CHARSET),this._terminal.setgCharset(1,s.DEFAULT_CHARSET),this._terminal.setgCharset(2,s.DEFAULT_CHARSET),this._terminal.setgCharset(3,s.DEFAULT_CHARSET);break;case 3:this._terminal.savedCols=this._terminal.cols,this._terminal.resize(132,this._terminal.rows);break;case 6:this._terminal.originMode=!0;break;case 7:this._terminal.wraparoundMode=!0;break;case 12:break;case 66:this._terminal.log("Serial port requested application keypad."),this._terminal.applicationKeypad=!0,this._terminal.viewport&&this._terminal.viewport.syncScrollArea();break;case 9:case 1e3:case 1002:case 1003:this._terminal.x10Mouse=9===e[0],this._terminal.vt200Mouse=1e3===e[0],this._terminal.normalMouse=e[0]>1e3,this._terminal.mouseEvents=!0,this._terminal.element.classList.add("enable-mouse-events"),this._terminal.selectionManager.disable(),this._terminal.log("Binding to mouse events.");break;case 1004:this._terminal.sendFocus=!0;break;case 1005:this._terminal.utfMouse=!0;break;case 1006:this._terminal.sgrMouse=!0;break;case 1015:this._terminal.urxvtMouse=!0;break;case 25:this._terminal.cursorHidden=!1;break;case 1048:this.saveCursor(e);break;case 1049:this.saveCursor(e);case 47:case 1047:this._terminal.buffers.activateAltBuffer(this._terminal.eraseAttr()),this._terminal.refresh(0,this._terminal.rows-1),this._terminal.viewport&&this._terminal.viewport.syncScrollArea(),this._terminal.showCursor();break;case 2004:this._terminal.bracketedPasteMode=!0}}else switch(e[0]){case 4:this._terminal.insertMode=!0}},t.prototype.resetMode=function(e,t){if(e.length>1)for(var n=0;n<e.length;n++)this.resetMode([e[n]]);else if(t){if("?"===t)switch(e[0]){case 1:this._terminal.applicationCursor=!1;break;case 3:132===this._terminal.cols&&this._terminal.savedCols&&this._terminal.resize(this._terminal.savedCols,this._terminal.rows),delete this._terminal.savedCols;break;case 6:this._terminal.originMode=!1;break;case 7:this._terminal.wraparoundMode=!1;break;case 12:break;case 66:this._terminal.log("Switching back to normal keypad."),this._terminal.applicationKeypad=!1,this._terminal.viewport&&this._terminal.viewport.syncScrollArea();break;case 9:case 1e3:case 1002:case 1003:this._terminal.x10Mouse=!1,this._terminal.vt200Mouse=!1,this._terminal.normalMouse=!1,this._terminal.mouseEvents=!1,this._terminal.element.classList.remove("enable-mouse-events"),this._terminal.selectionManager.enable();break;case 1004:this._terminal.sendFocus=!1;break;case 1005:this._terminal.utfMouse=!1;break;case 1006:this._terminal.sgrMouse=!1;break;case 1015:this._terminal.urxvtMouse=!1;break;case 25:this._terminal.cursorHidden=!0;break;case 1048:this.restoreCursor(e);break;case 1049:case 47:case 1047:this._terminal.buffers.activateNormalBuffer(),1049===e[0]&&this.restoreCursor(e),this._terminal.refresh(0,this._terminal.rows-1),this._terminal.viewport&&this._terminal.viewport.syncScrollArea(),this._terminal.showCursor();break;case 2004:this._terminal.bracketedPasteMode=!1}}else switch(e[0]){case 4:this._terminal.insertMode=!1}},t.prototype.charAttributes=function(e){if(1!==e.length||0!==e[0]){for(var t,n=e.length,i=this._terminal.curAttr>>18,r=this._terminal.curAttr>>9&511,o=511&this._terminal.curAttr,s=0;s<n;s++)(t=e[s])>=30&&t<=37?r=t-30:t>=40&&t<=47?o=t-40:t>=90&&t<=97?r=(t+=8)-90:t>=100&&t<=107?o=(t+=8)-100:0===t?(i=a.DEFAULT_ATTR>>18,r=a.DEFAULT_ATTR>>9&511,o=511&a.DEFAULT_ATTR):1===t?i|=1:3===t?i|=64:4===t?i|=2:5===t?i|=4:7===t?i|=8:8===t?i|=16:2===t?i|=32:22===t?(i&=-2,i&=-33):23===t?i&=-65:24===t?i&=-3:25===t?i&=-5:27===t?i&=-9:28===t?i&=-17:39===t?r=a.DEFAULT_ATTR>>9&511:49===t?o=511&a.DEFAULT_ATTR:38===t?2===e[s+1]?(s+=2,-1===(r=this._terminal.matchColor(255&e[s],255&e[s+1],255&e[s+2]))&&(r=511),s+=2):5===e[s+1]&&(r=t=255&e[s+=2]):48===t?2===e[s+1]?(s+=2,-1===(o=this._terminal.matchColor(255&e[s],255&e[s+1],255&e[s+2]))&&(o=511),s+=2):5===e[s+1]&&(o=t=255&e[s+=2]):100===t?(r=a.DEFAULT_ATTR>>9&511,o=511&a.DEFAULT_ATTR):this._terminal.error("Unknown SGR attribute: %d.",t);this._terminal.curAttr=i<<18|r<<9|o}else this._terminal.curAttr=a.DEFAULT_ATTR},t.prototype.deviceStatus=function(e,t){if(t){if("?"===t)switch(e[0]){case 6:n=this._terminal.buffer.y+1,i=this._terminal.buffer.x+1;this._terminal.emit("data",o.C0.ESC+"[?"+n+";"+i+"R")}}else switch(e[0]){case 5:this._terminal.emit("data",o.C0.ESC+"[0n");break;case 6:var n=this._terminal.buffer.y+1,i=this._terminal.buffer.x+1;this._terminal.emit("data",o.C0.ESC+"["+n+";"+i+"R")}},t.prototype.softReset=function(e,t){"!"===t&&(this._terminal.cursorHidden=!1,this._terminal.insertMode=!1,this._terminal.originMode=!1,this._terminal.wraparoundMode=!0,this._terminal.applicationKeypad=!1,this._terminal.viewport&&this._terminal.viewport.syncScrollArea(),this._terminal.applicationCursor=!1,this._terminal.buffer.scrollTop=0,this._terminal.buffer.scrollBottom=this._terminal.rows-1,this._terminal.curAttr=a.DEFAULT_ATTR,this._terminal.buffer.x=this._terminal.buffer.y=0,this._terminal.charset=null,this._terminal.glevel=0,this._terminal.charsets=[null])},t.prototype.setCursorStyle=function(e,t){if(" "===t){var n=e[0]<1?1:e[0];switch(n){case 1:case 2:this._terminal.setOption("cursorStyle","block");break;case 3:case 4:this._terminal.setOption("cursorStyle","underline");break;case 5:case 6:this._terminal.setOption("cursorStyle","bar")}var i=n%2==1;this._terminal.setOption("cursorBlink",i)}},t.prototype.setScrollRegion=function(e,t){t||(this._terminal.buffer.scrollTop=(e[0]||1)-1,this._terminal.buffer.scrollBottom=(e[1]&&e[1]<=this._terminal.rows?e[1]:this._terminal.rows)-1,this._terminal.buffer.x=0,this._terminal.buffer.y=0)},t.prototype.saveCursor=function(e){this._terminal.buffer.savedX=this._terminal.buffer.x,this._terminal.buffer.savedY=this._terminal.buffer.y,this._terminal.buffer.savedCurAttr=this._terminal.curAttr},t.prototype.restoreCursor=function(e){this._terminal.buffer.x=this._terminal.buffer.savedX||0,this._terminal.buffer.y=this._terminal.buffer.savedY||0,this._terminal.curAttr=this._terminal.buffer.savedCurAttr||a.DEFAULT_ATTR},t.prototype.setTitle=function(e){this._terminal.handleTitle(e)},t.prototype.nextLine=function(){this._terminal.buffer.x=0,this.index()},t.prototype.keypadApplicationMode=function(){this._terminal.log("Serial port requested application keypad."),this._terminal.applicationKeypad=!0,this._terminal.viewport&&this._terminal.viewport.syncScrollArea()},t.prototype.keypadNumericMode=function(){this._terminal.log("Switching back to normal keypad."),this._terminal.applicationKeypad=!1,this._terminal.viewport&&this._terminal.viewport.syncScrollArea()},t.prototype.selectDefaultCharset=function(){this._terminal.setgLevel(0),this._terminal.setgCharset(0,s.DEFAULT_CHARSET)},t.prototype.selectCharset=function(e){if(2!==e.length)return this.selectDefaultCharset();"/"!==e[0]&&this._terminal.setgCharset(p[e[0]],s.CHARSETS[e[1]]||s.DEFAULT_CHARSET)},t.prototype.index=function(){this._terminal.index()},t.prototype.tabSet=function(){this._terminal.tabSet()},t.prototype.reverseIndex=function(){this._terminal.reverseIndex()},t.prototype.reset=function(){this._parser.reset(),this._terminal.reset()},t.prototype.setgLevel=function(e){this._terminal.setgLevel(e)},t}(c.Disposable);n.InputHandler=h},{"./Buffer":2,"./CharWidth":5,"./EscapeSequenceParser":7,"./common/Lifecycle":19,"./common/data/EscapeSequences":21,"./core/data/Charsets":23}],9:[function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=e("./ui/MouseZoneManager"),s=e("./common/EventEmitter"),a=e("./Buffer"),l=e("./CharWidth"),u=function(e){function t(t){var n=e.call(this)||this;return n._terminal=t,n._linkMatchers=[],n._nextLinkMatcherId=0,n._rowsToLinkify={start:null,end:null},n}return r(t,e),t.prototype.attachToDom=function(e){this._mouseZoneManager=e},t.prototype.linkifyRows=function(e,n){var i=this;this._mouseZoneManager&&(null===this._rowsToLinkify.start?(this._rowsToLinkify.start=e,this._rowsToLinkify.end=n):(this._rowsToLinkify.start=Math.min(this._rowsToLinkify.start,e),this._rowsToLinkify.end=Math.max(this._rowsToLinkify.end,n)),this._mouseZoneManager.clearAll(e,n),this._rowsTimeoutId&&clearTimeout(this._rowsTimeoutId),this._rowsTimeoutId=setTimeout(function(){return i._linkifyRows()},t.TIME_BEFORE_LINKIFY))},t.prototype._linkifyRows=function(){this._rowsTimeoutId=null;var e=this._terminal.buffer,n=e.ydisp+this._rowsToLinkify.start;if(!(n>=e.lines.length)){for(var i=e.ydisp+Math.min(this._rowsToLinkify.end,this._terminal.rows)+1,r=Math.ceil(t.OVERSCAN_CHAR_LIMIT/this._terminal.cols),o=this._terminal.buffer.iterator(!1,n,i,r,r);o.hasNext();)for(var s=o.next(),a=0;a<this._linkMatchers.length;a++)this._doLinkifyRow(s.range.first,s.content,this._linkMatchers[a]);this._rowsToLinkify.start=null,this._rowsToLinkify.end=null}},t.prototype.registerLinkMatcher=function(e,t,n){if(void 0===n&&(n={}),!t)throw new Error("handler must be defined");var i={id:this._nextLinkMatcherId++,regex:e,handler:t,matchIndex:n.matchIndex,validationCallback:n.validationCallback,hoverTooltipCallback:n.tooltipCallback,hoverLeaveCallback:n.leaveCallback,willLinkActivate:n.willLinkActivate,priority:n.priority||0};return this._addLinkMatcherToList(i),i.id},t.prototype._addLinkMatcherToList=function(e){if(0!==this._linkMatchers.length){for(var t=this._linkMatchers.length-1;t>=0;t--)if(e.priority<=this._linkMatchers[t].priority)return void this._linkMatchers.splice(t+1,0,e);this._linkMatchers.splice(0,0,e)}else this._linkMatchers.push(e)},t.prototype.deregisterLinkMatcher=function(e){for(var t=0;t<this._linkMatchers.length;t++)if(this._linkMatchers[t].id===e)return this._linkMatchers.splice(t,1),!0;return!1},t.prototype._doLinkifyRow=function(e,t,n){for(var i,r=this,o=new RegExp(n.regex.source,n.regex.flags+"g"),s=-1,l=function(){var l=i["number"!=typeof n.matchIndex?0:n.matchIndex];if(!l){if(u._terminal.debug)throw console.log({match:i,matcher:n}),new Error("match found without corresponding matchIndex");return"break"}if(s=t.indexOf(l,s+1),o.lastIndex=s+l.length,s<0)return"break";var c=u._terminal.buffer.stringIndexToBufferIndex(e,s);if(c[0]<0)return"break";var p,f=u._terminal.buffer.lines.get(c[0]).get(c[1]);if(f){var d=f[a.CHAR_DATA_ATTR_INDEX];p=d>>9&511}n.validationCallback?n.validationCallback(l,function(e){r._rowsTimeoutId||e&&r._addLink(c[1],c[0]-r._terminal.buffer.ydisp,l,n,p)}):u._addLink(c[1],c[0]-u._terminal.buffer.ydisp,l,n,p)},u=this;null!==(i=o.exec(t));){if("break"===l())break}},t.prototype._addLink=function(e,t,n,i,r){var s=this,a=l.getStringCellWidth(n),u=e%this._terminal.cols,c=t+Math.floor(e/this._terminal.cols),p=(u+a)%this._terminal.cols,f=c+Math.floor((u+a)/this._terminal.cols);0===p&&(p=this._terminal.cols,f--),this._mouseZoneManager.add(new o.MouseZone(u+1,c+1,p+1,f+1,function(e){if(i.handler)return i.handler(e,n);window.open(n,"_blank")},function(e){s.emit("linkhover",s._createLinkHoverEvent(u,c,p,f,r)),s._terminal.element.classList.add("xterm-cursor-pointer")},function(e){s.emit("linktooltip",s._createLinkHoverEvent(u,c,p,f,r)),i.hoverTooltipCallback&&i.hoverTooltipCallback(e,n)},function(){s.emit("linkleave",s._createLinkHoverEvent(u,c,p,f,r)),s._terminal.element.classList.remove("xterm-cursor-pointer"),i.hoverLeaveCallback&&i.hoverLeaveCallback()},function(e){return!i.willLinkActivate||i.willLinkActivate(e,n)}))},t.prototype._createLinkHoverEvent=function(e,t,n,i,r){return{x1:e,y1:t,x2:n,y2:i,cols:this._terminal.cols,fg:r}},t.TIME_BEFORE_LINKIFY=200,t.OVERSCAN_CHAR_LIMIT=2e3,t}(s.EventEmitter);n.Linkifier=u},{"./Buffer":2,"./CharWidth":5,"./common/EventEmitter":18,"./ui/MouseZoneManager":51}],10:[function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=e("./ui/MouseHelper"),s=e("./core/Platform"),a=e("./common/EventEmitter"),l=e("./SelectionModel"),u=e("./Buffer"),c=e("./handlers/AltClickHandler"),p=String.fromCharCode(160),f=new RegExp(p,"g"),d=function(e){function t(t,n){var i=e.call(this)||this;return i._terminal=t,i._charMeasure=n,i._enabled=!0,i._initListeners(),i.enable(),i._model=new l.SelectionModel(t),i._activeSelectionMode=0,i}return r(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._removeMouseDownListeners()},Object.defineProperty(t.prototype,"_buffer",{get:function(){return this._terminal.buffers.active},enumerable:!0,configurable:!0}),t.prototype._initListeners=function(){var e=this;this._mouseMoveListener=function(t){return e._onMouseMove(t)},this._mouseUpListener=function(t){return e._onMouseUp(t)},this._trimListener=function(t){return e._onTrim(t)},this.initBuffersListeners()},t.prototype.initBuffersListeners=function(){var e=this;this._terminal.buffer.lines.on("trim",this._trimListener),this._terminal.buffers.on("activate",function(t){return e._onBufferActivate(t)})},t.prototype.disable=function(){this.clearSelection(),this._enabled=!1},t.prototype.enable=function(){this._enabled=!0},Object.defineProperty(t.prototype,"selectionStart",{get:function(){return this._model.finalSelectionStart},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionEnd",{get:function(){return this._model.finalSelectionEnd},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasSelection",{get:function(){var e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd;return!(!e||!t)&&(e[0]!==t[0]||e[1]!==t[1])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionText",{get:function(){var e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd;if(!e||!t)return"";var n=[];if(3===this._activeSelectionMode){if(e[0]===t[0])return"";for(var i=e[1];i<=t[1];i++){var r=this._buffer.translateBufferLineToString(i,!0,e[0],t[0]);n.push(r)}}else{var o=e[1]===t[1]?t[0]:void 0;n.push(this._buffer.translateBufferLineToString(e[1],!0,e[0],o));for(i=e[1]+1;i<=t[1]-1;i++){var a=this._buffer.lines.get(i);r=this._buffer.translateBufferLineToString(i,!0);a.isWrapped?n[n.length-1]+=r:n.push(r)}if(e[1]!==t[1]){a=this._buffer.lines.get(t[1]),r=this._buffer.translateBufferLineToString(t[1],!0,0,t[0]);a.isWrapped?n[n.length-1]+=r:n.push(r)}}return n.map(function(e){return e.replace(f," ")}).join(s.isMSWindows?"\r\n":"\n")},enumerable:!0,configurable:!0}),t.prototype.clearSelection=function(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh()},t.prototype.refresh=function(e){var t=this;(this._refreshAnimationFrame||(this._refreshAnimationFrame=window.requestAnimationFrame(function(){return t._refresh()})),s.isLinux&&e)&&(this.selectionText.length&&this.emit("newselection",this.selectionText))},t.prototype._refresh=function(){this._refreshAnimationFrame=null,this.emit("refresh",{start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:3===this._activeSelectionMode})},t.prototype.isClickInSelection=function(e){var t=this._getMouseBufferCoords(e),n=this._model.finalSelectionStart,i=this._model.finalSelectionEnd;return!(!n||!i)&&this._areCoordsInSelection(t,n,i)},t.prototype._areCoordsInSelection=function(e,t,n){return e[1]>t[1]&&e[1]<n[1]||t[1]===n[1]&&e[1]===t[1]&&e[0]>=t[0]&&e[0]<n[0]||t[1]<n[1]&&e[1]===n[1]&&e[0]<n[0]||t[1]<n[1]&&e[1]===t[1]&&e[0]>=t[0]},t.prototype.selectWordAtCursor=function(e){var t=this._getMouseBufferCoords(e);t&&(this._selectWordAt(t,!1),this._model.selectionEnd=null,this.refresh(!0))},t.prototype.selectAll=function(){this._model.isSelectAllActive=!0,this.refresh(),this._terminal.emit("selection")},t.prototype.selectLines=function(e,t){this._model.clearSelection(),e=Math.max(e,0),t=Math.min(t,this._terminal.buffer.lines.length-1),this._model.selectionStart=[0,e],this._model.selectionEnd=[this._terminal.cols,t],this.refresh(),this._terminal.emit("selection")},t.prototype._onTrim=function(e){this._model.onTrim(e)&&this.refresh()},t.prototype._getMouseBufferCoords=function(e){var t=this._terminal.mouseHelper.getCoords(e,this._terminal.screenElement,this._charMeasure,this._terminal.cols,this._terminal.rows,!0);return t?(t[0]--,t[1]--,t[1]+=this._terminal.buffer.ydisp,t):null},t.prototype._getMouseEventScrollAmount=function(e){var t=o.MouseHelper.getCoordsRelativeToElement(e,this._terminal.screenElement)[1],n=this._terminal.rows*Math.ceil(this._charMeasure.height*this._terminal.options.lineHeight);return t>=0&&t<=n?0:(t>n&&(t-=n),t=Math.min(Math.max(t,-50),50),(t/=50)/Math.abs(t)+Math.round(14*t))},t.prototype.shouldForceSelection=function(e){return s.isMac?e.altKey&&this._terminal.options.macOptionClickForcesSelection:e.shiftKey},t.prototype.onMouseDown=function(e){if(this._mouseDownTimeStamp=e.timeStamp,(2!==e.button||!this.hasSelection)&&0===e.button){if(!this._enabled){if(!this.shouldForceSelection(e))return;e.stopPropagation()}e.preventDefault(),this._dragScrollAmount=0,this._enabled&&e.shiftKey?this._onIncrementalClick(e):1===e.detail?this._onSingleClick(e):2===e.detail?this._onDoubleClick(e):3===e.detail&&this._onTripleClick(e),this._addMouseDownListeners(),this.refresh(!0)}},t.prototype._addMouseDownListeners=function(){var e=this;this._terminal.element.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._terminal.element.ownerDocument.addEventListener("mouseup",this._mouseUpListener),this._dragScrollIntervalTimer=setInterval(function(){return e._dragScroll()},50)},t.prototype._removeMouseDownListeners=function(){this._terminal.element.ownerDocument&&(this._terminal.element.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._terminal.element.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=null},t.prototype._onIncrementalClick=function(e){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(e))},t.prototype._onSingleClick=function(e){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(e)?3:0,this._model.selectionStart=this._getMouseBufferCoords(e),this._model.selectionStart){this._model.selectionEnd=null;var t=this._buffer.lines.get(this._model.selectionStart[1]);if(t)if(!(t.length>=this._model.selectionStart[0]))0===t.get(this._model.selectionStart[0])[u.CHAR_DATA_WIDTH_INDEX]&&this._model.selectionStart[0]++}},t.prototype._onDoubleClick=function(e){var t=this._getMouseBufferCoords(e);t&&(this._activeSelectionMode=1,this._selectWordAt(t,!0))},t.prototype._onTripleClick=function(e){var t=this._getMouseBufferCoords(e);t&&(this._activeSelectionMode=2,this._selectLineAt(t[1]))},t.prototype.shouldColumnSelect=function(e){return e.altKey&&!(s.isMac&&this._terminal.options.macOptionClickForcesSelection)},t.prototype._onMouseMove=function(e){e.stopImmediatePropagation();var t=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(e),this._model.selectionEnd){if(2===this._activeSelectionMode?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._terminal.cols:1===this._activeSelectionMode&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(e),3!==this._activeSelectionMode&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._terminal.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0)),this._model.selectionEnd[1]<this._buffer.lines.length){var n=this._buffer.lines.get(this._model.selectionEnd[1]).get(this._model.selectionEnd[0]);n&&0===n[u.CHAR_DATA_WIDTH_INDEX]&&this._model.selectionEnd[0]++}t&&t[0]===this._model.selectionEnd[0]&&t[1]===this._model.selectionEnd[1]||this.refresh(!0)}else this.refresh(!0)},t.prototype._dragScroll=function(){this._dragScrollAmount&&(this._terminal.scrollLines(this._dragScrollAmount,!1),this._dragScrollAmount>0?(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=this._terminal.cols),this._model.selectionEnd[1]=Math.min(this._terminal.buffer.ydisp+this._terminal.rows,this._terminal.buffer.lines.length-1)):(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=this._terminal.buffer.ydisp),this.refresh())},t.prototype._onMouseUp=function(e){var t=e.timeStamp-this._mouseDownTimeStamp;this._removeMouseDownListeners(),this.selectionText.length<=1&&t<500?new c.AltClickHandler(e,this._terminal).move():this.hasSelection&&this._terminal.emit("selection")},t.prototype._onBufferActivate=function(e){this.clearSelection(),e.inactiveBuffer.lines.off("trim",this._trimListener),e.activeBuffer.lines.on("trim",this._trimListener)},t.prototype._convertViewportColToCharacterIndex=function(e,t){for(var n=t[0],i=0;t[0]>=i;i++){var r=e.get(i);0===r[u.CHAR_DATA_WIDTH_INDEX]?n--:r[u.CHAR_DATA_CHAR_INDEX].length>1&&t[0]!==i&&(n+=r[u.CHAR_DATA_CHAR_INDEX].length-1)}return n},t.prototype.setSelection=function(e,t,n){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[e,t],this._model.selectionStartLength=n,this.refresh()},t.prototype._getWordAt=function(e,t,n,i){if(void 0===n&&(n=!0),void 0===i&&(i=!0),e[0]>=this._terminal.cols)return null;var r=this._buffer.lines.get(e[1]);if(!r)return null;var o=this._buffer.translateBufferLineToString(e[1],!1),s=this._convertViewportColToCharacterIndex(r,e),a=s,l=e[0]-s,c=0,p=0,f=0,d=0;if(" "===o.charAt(s)){for(;s>0&&" "===o.charAt(s-1);)s--;for(;a<o.length&&" "===o.charAt(a+1);)a++}else{var h=e[0],m=e[0];for(0===r.get(h)[u.CHAR_DATA_WIDTH_INDEX]&&(c++,h--),2===r.get(m)[u.CHAR_DATA_WIDTH_INDEX]&&(p++,m++),r.get(m)[u.CHAR_DATA_CHAR_INDEX].length>1&&(d+=r.get(m)[u.CHAR_DATA_CHAR_INDEX].length-1,a+=r.get(m)[u.CHAR_DATA_CHAR_INDEX].length-1);h>0&&s>0&&!this._isCharWordSeparator(r.get(h-1));){0===(g=r.get(h-1))[u.CHAR_DATA_WIDTH_INDEX]?(c++,h--):g[u.CHAR_DATA_CHAR_INDEX].length>1&&(f+=g[u.CHAR_DATA_CHAR_INDEX].length-1,s-=g[u.CHAR_DATA_CHAR_INDEX].length-1),s--,h--}for(;m<r.length&&a+1<o.length&&!this._isCharWordSeparator(r.get(m+1));){var g;2===(g=r.get(m+1))[u.CHAR_DATA_WIDTH_INDEX]?(p++,m++):g[u.CHAR_DATA_CHAR_INDEX].length>1&&(d+=g[u.CHAR_DATA_CHAR_INDEX].length-1,a+=g[u.CHAR_DATA_CHAR_INDEX].length-1),a++,m++}}a++;var b=s+l-c+f,y=Math.min(this._terminal.cols,a-s+c+p-f-d);if(!t&&""===o.slice(s,a).trim())return null;if(n&&0===b&&32!==r.get(0)[u.CHAR_DATA_CODE_INDEX]){var v=this._buffer.lines.get(e[1]-1);if(v&&r.isWrapped&&32!==v.get(this._terminal.cols-1)[u.CHAR_DATA_CODE_INDEX]){var _=this._getWordAt([this._terminal.cols-1,e[1]-1],!1,!0,!1);if(_){var x=this._terminal.cols-_.start;b-=x,y+=x}}}if(i&&b+y===this._terminal.cols&&32!==r.get(this._terminal.cols-1)[u.CHAR_DATA_CODE_INDEX]){var w=this._buffer.lines.get(e[1]+1);if(w&&w.isWrapped&&32!==w.get(0)[u.CHAR_DATA_CODE_INDEX]){var k=this._getWordAt([0,e[1]+1],!1,!1,!0);k&&(y+=k.length)}}return{start:b,length:y}},t.prototype._selectWordAt=function(e,t){var n=this._getWordAt(e,t);if(n){for(;n.start<0;)n.start+=this._terminal.cols,e[1]--;this._model.selectionStart=[n.start,e[1]],this._model.selectionStartLength=n.length}},t.prototype._selectToWordAt=function(e){var t=this._getWordAt(e,!0);if(t){for(var n=e[1];t.start<0;)t.start+=this._terminal.cols,n--;if(!this._model.areSelectionValuesReversed())for(;t.start+t.length>this._terminal.cols;)t.length-=this._terminal.cols,n++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?t.start:t.start+t.length,n]}},t.prototype._isCharWordSeparator=function(e){return 0!==e[u.CHAR_DATA_WIDTH_INDEX]&&" ()[]{}'\"".indexOf(e[u.CHAR_DATA_CHAR_INDEX])>=0},t.prototype._selectLineAt=function(e){var t=this._buffer.getWrappedRangeForLine(e);this._model.selectionStart=[0,t.first],this._model.selectionEnd=[this._terminal.cols,t.last],this._model.selectionStartLength=0},t}(a.EventEmitter);n.SelectionManager=d},{"./Buffer":2,"./SelectionModel":11,"./common/EventEmitter":18,"./core/Platform":22,"./handlers/AltClickHandler":25,"./ui/MouseHelper":50}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e){this._terminal=e,this.clearSelection()}return e.prototype.clearSelection=function(){this.selectionStart=null,this.selectionEnd=null,this.isSelectAllActive=!1,this.selectionStartLength=0},Object.defineProperty(e.prototype,"finalSelectionStart",{get:function(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"finalSelectionEnd",{get:function(){if(this.isSelectAllActive)return[this._terminal.cols,this._terminal.buffer.ybase+this._terminal.rows-1];if(!this.selectionStart)return null;if(!this.selectionEnd||this.areSelectionValuesReversed()){var e=this.selectionStart[0]+this.selectionStartLength;return e>this._terminal.cols?[e%this._terminal.cols,this.selectionStart[1]+Math.floor(e/this._terminal.cols)]:[e,this.selectionStart[1]]}return this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]?[Math.max(this.selectionStart[0]+this.selectionStartLength,this.selectionEnd[0]),this.selectionEnd[1]]:this.selectionEnd},enumerable:!0,configurable:!0}),e.prototype.areSelectionValuesReversed=function(){var e=this.selectionStart,t=this.selectionEnd;return!(!e||!t)&&(e[1]>t[1]||e[1]===t[1]&&e[0]>t[0])},e.prototype.onTrim=function(e){return this.selectionStart&&(this.selectionStart[1]-=e),this.selectionEnd&&(this.selectionEnd[1]-=e),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)},e}();n.SelectionModel=i},{}],12:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_BELL_SOUND="data:audio/wav;base64,UklGRigBAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQQBAADpAFgCwAMlBZoG/wdmCcoKRAypDQ8PbRDBEQQTOxRtFYcWlBePGIUZXhoiG88bcBz7HHIdzh0WHlMeZx51HmkeUx4WHs8dah0AHXwc3hs9G4saxRnyGBIYGBcQFv8U4RPAEoYRQBACD70NWwwHC6gJOwjWBloF7gOBAhABkf8b/qv8R/ve+Xf4Ife79W/0JfPZ8Z/wde9N7ijtE+wU6xvqM+lb6H7nw+YX5mrlxuQz5Mzje+Ma49fioeKD4nXiYeJy4pHitOL04j/jn+MN5IPkFOWs5U3mDefM55/ogOl36m7rdOyE7abuyu8D8Unyj/Pg9D/2qfcb+Yn6/vuK/Qj/lAAlAg==";var i=function(){function e(e){this._terminal=e}return Object.defineProperty(e,"audioContext",{get:function(){if(!e._audioContext){var t=window.AudioContext||window.webkitAudioContext;if(!t)return console.warn("Web Audio API is not supported by this browser. Consider upgrading to the latest version"),null;e._audioContext=new t}return e._audioContext},enumerable:!0,configurable:!0}),e.prototype.playBellSound=function(){var t=e.audioContext;if(t){var n=t.createBufferSource();t.decodeAudioData(this._base64ToArrayBuffer(this._removeMimeType(this._terminal.options.bellSound)),function(e){n.buffer=e,n.connect(t.destination),n.start(0)})}},e.prototype._base64ToArrayBuffer=function(e){for(var t=window.atob(e),n=t.length,i=new Uint8Array(n),r=0;r<n;r++)i[r]=t.charCodeAt(r);return i.buffer},e.prototype._removeMimeType=function(e){return e.split(",")[1]},e}();n.SoundManager=i},{}],13:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.blankLine="Blank line",n.promptLabel="Terminal input",n.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},{}],14:[function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=e("./BufferSet"),s=e("./Buffer"),a=e("./CompositionHelper"),l=e("./common/EventEmitter"),u=e("./Viewport"),c=e("./ui/Clipboard"),p=e("./common/data/EscapeSequences"),f=e("./InputHandler"),d=e("./renderer/Renderer"),h=e("./Linkifier"),m=e("./SelectionManager"),g=e("./ui/CharMeasure"),b=e("./core/Platform"),y=e("./ui/Lifecycle"),v=e("./Strings"),_=e("./ui/MouseHelper"),x=e("./SoundManager"),w=e("./renderer/ColorManager"),k=e("./ui/MouseZoneManager"),S=e("./AccessibilityManager"),C=e("./ui/ScreenDprMonitor"),E=e("./renderer/atlas/CharAtlasCache"),T=e("./renderer/dom/DomRenderer"),A=e("./core/input/Keyboard"),N=e("./common/Clone"),M="undefined"!=typeof window?window.document:null,R=["cols","rows"],O={cols:80,rows:24,convertEol:!1,termName:"xterm",cursorBlink:!1,cursorStyle:"block",bellSound:x.DEFAULT_BELL_SOUND,bellStyle:"none",drawBoldTextInBrightColors:!0,enableBold:!0,experimentalCharAtlas:"static",fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",lineHeight:1,letterSpacing:0,scrollback:1e3,screenKeys:!1,screenReaderMode:!1,debug:!1,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,cancelEvents:!1,disableStdin:!1,useFlowControl:!1,allowTransparency:!1,tabStopWidth:8,theme:null,rightClickSelectsWord:b.isMac,rendererType:"canvas",experimentalBufferLineImpl:"TypedArray"},L=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n.browser=b,n._blankLine=null,n.options=N.clone(t),n._setup(),n}return r(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._customKeyEventHandler=null,E.removeTerminalFromCache(this),this.handler=function(){},this.write=function(){},this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)},t.prototype.destroy=function(){this.dispose()},t.prototype._setup=function(){var e=this;Object.keys(O).forEach(function(t){null!==e.options[t]&&void 0!==e.options[t]||(e.options[t]=O[t])}),this._parent=M?M.body:null,this.cols=this.options.cols,this.rows=this.options.rows,this.options.handler&&this.on("data",this.options.handler),this.cursorState=0,this.cursorHidden=!1,this._customKeyEventHandler=null,this.applicationKeypad=!1,this.applicationCursor=!1,this.originMode=!1,this.insertMode=!1,this.wraparoundMode=!0,this.bracketedPasteMode=!1,this.charset=null,this.gcharset=null,this.glevel=0,this.charsets=[null],this.curAttr=s.DEFAULT_ATTR,this.params=[],this.currentParam=0,this.writeBuffer=[],this._writeInProgress=!1,this._xoffSentToCatchUp=!1,this._userScrolling=!1,this._inputHandler=new f.InputHandler(this),this.register(this._inputHandler),this.renderer=this.renderer||null,this.selectionManager=this.selectionManager||null,this.linkifier=this.linkifier||new h.Linkifier(this),this._mouseZoneManager=this._mouseZoneManager||null,this.soundManager=this.soundManager||new x.SoundManager(this),this.buffers=new o.BufferSet(this),this.selectionManager&&(this.selectionManager.clearSelection(),this.selectionManager.initBuffersListeners())},Object.defineProperty(t.prototype,"buffer",{get:function(){return this.buffers.active},enumerable:!0,configurable:!0}),t.prototype.eraseAttr=function(){return-512&s.DEFAULT_ATTR|511&this.curAttr},t.prototype.focus=function(){this.textarea&&this.textarea.focus()},Object.defineProperty(t.prototype,"isFocused",{get:function(){return M.activeElement===this.textarea&&M.hasFocus()},enumerable:!0,configurable:!0}),t.prototype.getOption=function(e){if(!(e in O))throw new Error('No option with key "'+e+'"');return this.options[e]},t.prototype.setOption=function(e,t){if(!(e in O))throw new Error('No option with key "'+e+'"');if(-1!==R.indexOf(e)&&console.error('Option "'+e+'" can only be set in the constructor'),this.options[e]!==t){switch(e){case"bellStyle":t||(t="none");break;case"cursorStyle":t||(t="block");break;case"fontWeight":t||(t="normal");break;case"fontWeightBold":t||(t="bold");break;case"lineHeight":if(t<1)return void console.warn(e+" cannot be less than 1, value: "+t);case"rendererType":t||(t="canvas");break;case"tabStopWidth":if(t<1)return void console.warn(e+" cannot be less than 1, value: "+t);break;case"theme":if(this.renderer)return void this._setTheme(t);break;case"scrollback":if((t=Math.min(t,s.MAX_BUFFER_SIZE))<0)return void console.warn(e+" cannot be less than 0, value: "+t);if(this.options[e]!==t){var n=this.rows+t;if(this.buffer.lines.length>n){var i=this.buffer.lines.length-n,r=this.buffer.ydisp-i<0;this.buffer.lines.trimStart(i),this.buffer.ybase=Math.max(this.buffer.ybase-i,0),this.buffer.ydisp=Math.max(this.buffer.ydisp-i,0),r&&this.refresh(0,this.rows-1)}}}switch(this.options[e]=t,e){case"fontFamily":case"fontSize":this.renderer&&(this.renderer.clear(),this.charMeasure.measure(this.options));break;case"drawBoldTextInBrightColors":case"experimentalCharAtlas":case"enableBold":case"letterSpacing":case"lineHeight":case"fontWeight":case"fontWeightBold":this.renderer&&(this.renderer.clear(),this.renderer.onResize(this.cols,this.rows),this.refresh(0,this.rows-1));break;case"rendererType":this.renderer&&(this.unregister(this.renderer),this.renderer.dispose(),this.renderer=null),this._setupRenderer(),this.renderer.onCharSizeChanged(),this._theme&&this.renderer.setTheme(this._theme),this.mouseHelper.setRenderer(this.renderer);break;case"scrollback":this.buffers.resize(this.cols,this.rows),this.viewport&&this.viewport.syncScrollArea();break;case"screenReaderMode":t?this._accessibilityManager||(this._accessibilityManager=new S.AccessibilityManager(this)):this._accessibilityManager&&(this._accessibilityManager.dispose(),this._accessibilityManager=null);break;case"tabStopWidth":this.buffers.setupTabStops();break;case"experimentalBufferLineImpl":this.buffers.normal.setBufferLineFactory(t),this.buffers.alt.setBufferLineFactory(t),this._blankLine=null}this.renderer&&this.renderer.onOptionsChanged()}},t.prototype._onTextAreaFocus=function(e){this.sendFocus&&this.handler(p.C0.ESC+"[I"),this.updateCursorStyle(e),this.element.classList.add("focus"),this.showCursor(),this.emit("focus")},t.prototype.blur=function(){return this.textarea.blur()},t.prototype._onTextAreaBlur=function(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.sendFocus&&this.handler(p.C0.ESC+"[O"),this.element.classList.remove("focus"),this.emit("blur")},t.prototype._initGlobal=function(){var e=this;this._bindKeys(),this.register(y.addDisposableDomListener(this.element,"copy",function(t){e.hasSelection()&&c.copyHandler(t,e,e.selectionManager)}));var t=function(t){return c.pasteHandler(t,e)};this.register(y.addDisposableDomListener(this.textarea,"paste",t)),this.register(y.addDisposableDomListener(this.element,"paste",t)),b.isFirefox?this.register(y.addDisposableDomListener(this.element,"mousedown",function(t){2===t.button&&c.rightClickHandler(t,e.textarea,e.selectionManager,e.options.rightClickSelectsWord)})):this.register(y.addDisposableDomListener(this.element,"contextmenu",function(t){c.rightClickHandler(t,e.textarea,e.selectionManager,e.options.rightClickSelectsWord)})),b.isLinux&&this.register(y.addDisposableDomListener(this.element,"auxclick",function(t){1===t.button&&c.moveTextAreaUnderMouseCursor(t,e.textarea)}))},t.prototype._bindKeys=function(){var e=this,t=this;this.register(y.addDisposableDomListener(this.element,"keydown",function(e){M.activeElement===this&&t._keyDown(e)},!0)),this.register(y.addDisposableDomListener(this.element,"keypress",function(e){M.activeElement===this&&t._keyPress(e)},!0)),this.register(y.addDisposableDomListener(this.element,"keyup",function(n){(function(e){return 16===e.keyCode||17===e.keyCode||18===e.keyCode})(n)||e.focus(),t._keyUp(n)},!0)),this.register(y.addDisposableDomListener(this.textarea,"keydown",function(t){return e._keyDown(t)},!0)),this.register(y.addDisposableDomListener(this.textarea,"keypress",function(t){return e._keyPress(t)},!0)),this.register(y.addDisposableDomListener(this.textarea,"compositionstart",function(){return e._compositionHelper.compositionstart()})),this.register(y.addDisposableDomListener(this.textarea,"compositionupdate",function(t){return e._compositionHelper.compositionupdate(t)})),this.register(y.addDisposableDomListener(this.textarea,"compositionend",function(){return e._compositionHelper.compositionend()})),this.register(this.addDisposableListener("refresh",function(){return e._compositionHelper.updateCompositionElements()})),this.register(this.addDisposableListener("refresh",function(t){return e._queueLinkification(t.start,t.end)}))},t.prototype.open=function(e){var t=this;if(this._parent=e||this._parent,!this._parent)throw new Error("Terminal requires a parent element.");this._context=this._parent.ownerDocument.defaultView,this._document=this._parent.ownerDocument,this._screenDprMonitor=new C.ScreenDprMonitor,this._screenDprMonitor.setListener(function(){return t.emit("dprchange",window.devicePixelRatio)}),this.register(this._screenDprMonitor),this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),this.element.setAttribute("tabindex","0"),this._parent.appendChild(this.element);var n=M.createDocumentFragment();this._viewportElement=M.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),n.appendChild(this._viewportElement),this._viewportScrollArea=M.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=M.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=M.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),n.appendChild(this.screenElement),this._mouseZoneManager=new k.MouseZoneManager(this),this.register(this._mouseZoneManager),this.register(this.addDisposableListener("scroll",function(){return t._mouseZoneManager.clearAll()})),this.linkifier.attachToDom(this._mouseZoneManager),this.textarea=M.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",v.promptLabel),this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this.register(y.addDisposableDomListener(this.textarea,"focus",function(e){return t._onTextAreaFocus(e)})),this.register(y.addDisposableDomListener(this.textarea,"blur",function(){return t._onTextAreaBlur()})),this._helperContainer.appendChild(this.textarea),this._compositionView=M.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=new a.CompositionHelper(this.textarea,this._compositionView,this),this._helperContainer.appendChild(this._compositionView),this.charMeasure=new g.CharMeasure(M,this._helperContainer),this.element.appendChild(n),this._setupRenderer(),this._theme=this.options.theme,this.options.theme=null,this.viewport=new u.Viewport(this,this._viewportElement,this._viewportScrollArea,this.charMeasure),this.viewport.onThemeChanged(this.renderer.colorManager.colors),this.register(this.viewport),this.register(this.addDisposableListener("cursormove",function(){return t.renderer.onCursorMove()})),this.register(this.addDisposableListener("resize",function(){return t.renderer.onResize(t.cols,t.rows)})),this.register(this.addDisposableListener("blur",function(){return t.renderer.onBlur()})),this.register(this.addDisposableListener("focus",function(){return t.renderer.onFocus()})),this.register(this.addDisposableListener("dprchange",function(){return t.renderer.onWindowResize(window.devicePixelRatio)})),this.register(y.addDisposableDomListener(window,"resize",function(){return t.renderer.onWindowResize(window.devicePixelRatio)})),this.register(this.charMeasure.addDisposableListener("charsizechanged",function(){return t.renderer.onCharSizeChanged()})),this.register(this.renderer.addDisposableListener("resize",function(e){return t.viewport.syncScrollArea()})),this.selectionManager=new m.SelectionManager(this,this.charMeasure),this.register(y.addDisposableDomListener(this.element,"mousedown",function(e){return t.selectionManager.onMouseDown(e)})),this.register(this.selectionManager.addDisposableListener("refresh",function(e){return t.renderer.onSelectionChanged(e.start,e.end,e.columnSelectMode)})),this.register(this.selectionManager.addDisposableListener("newselection",function(e){t.textarea.value=e,t.textarea.focus(),t.textarea.select()})),this.register(this.addDisposableListener("scroll",function(){t.viewport.syncScrollArea(),t.selectionManager.refresh()})),this.register(y.addDisposableDomListener(this._viewportElement,"scroll",function(){return t.selectionManager.refresh()})),this.mouseHelper=new _.MouseHelper(this.renderer),this.options.screenReaderMode&&(this._accessibilityManager=new S.AccessibilityManager(this)),this.charMeasure.measure(this.options),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()},t.prototype._setupRenderer=function(){switch(this.options.rendererType){case"canvas":this.renderer=new d.Renderer(this,this.options.theme);break;case"dom":this.renderer=new T.DomRenderer(this,this.options.theme);break;default:throw new Error('Unrecognized rendererType "'+this.options.rendererType+'"')}this.register(this.renderer)},t.prototype._setTheme=function(e){this._theme=e;var t=this.renderer.setTheme(e);this.viewport&&this.viewport.onThemeChanged(t)},t.prototype.bindMouse=function(){var e=this,t=this.element,n=this,i=32;function r(e){var t,r;if(t=function(e){var t,i,r,o,s;switch(e.overrideType||e.type){case"mousedown":t=null!==e.button&&void 0!==e.button?+e.button:null!==e.which&&void 0!==e.which?e.which-1:null,b.isMSIE&&(t=1===t?0:4===t?1:t);break;case"mouseup":t=3;break;case"DOMMouseScroll":t=e.detail<0?64:65;break;case"wheel":t=e.deltaY<0?64:65}i=e.shiftKey?4:0,r=e.metaKey?8:0,o=e.ctrlKey?16:0,s=i|r|o,n.vt200Mouse?s&=o:n.normalMouse||(s=0);return t=32+(s<<2)+t}(e),r=n.mouseHelper.getRawByteCoords(e,n.screenElement,n.charMeasure,n.cols,n.rows))switch(s(t,r),e.overrideType||e.type){case"mousedown":i=t;break;case"mouseup":i=32}}function o(e,t){if(n.utfMouse){if(2047===t)return void e.push(0);t<127?e.push(t):(t>2047&&(t=2047),e.push(192|t>>6),e.push(128|63&t))}else{if(255===t)return void e.push(0);t>127&&(t=127),e.push(t)}}function s(e,t){if(n._vt300Mouse){e&=3,t.x-=32,t.y-=32;var i=p.C0.ESC+"[24";if(0===e)i+="1";else if(1===e)i+="3";else if(2===e)i+="5";else{if(3===e)return;i+="0"}return i+="~["+t.x+","+t.y+"]\r",void n.handler(i)}if(n._decLocator)return e&=3,t.x-=32,t.y-=32,0===e?e=2:1===e?e=4:2===e?e=6:3===e&&(e=3),void n.handler(p.C0.ESC+"["+e+";"+(3===e?4:0)+";"+t.y+";"+t.x+";"+t.page||"0&w");if(n.urxvtMouse)return t.x-=32,t.y-=32,t.x++,t.y++,void n.handler(p.C0.ESC+"["+e+";"+t.x+";"+t.y+"M");if(n.sgrMouse)return t.x-=32,t.y-=32,void n.handler(p.C0.ESC+"[<"+((3==(3&e)?-4&e:e)-32)+";"+t.x+";"+t.y+(3==(3&e)?"m":"M"));var r=[];o(r,e),o(r,t.x),o(r,t.y),n.handler(p.C0.ESC+"[M"+String.fromCharCode.apply(String,r))}this.register(y.addDisposableDomListener(t,"mousedown",function(t){if(t.preventDefault(),e.focus(),e.mouseEvents&&!e.selectionManager.shouldForceSelection(t)){if(r(t),e.vt200Mouse)return t.overrideType="mouseup",r(t),e.cancel(t);var o;e.normalMouse&&(o=function(t){var r,o,a;e.normalMouse&&(r=t,o=i,(a=n.mouseHelper.getRawByteCoords(r,n.screenElement,n.charMeasure,n.cols,n.rows))&&s(o+=32,a))},e._document.addEventListener("mousemove",o));var a=function(t){return e.normalMouse&&!e.x10Mouse&&r(t),o&&(e._document.removeEventListener("mousemove",o),o=null),e._document.removeEventListener("mouseup",a),e.cancel(t)};return e._document.addEventListener("mouseup",a),e.cancel(t)}})),this.register(y.addDisposableDomListener(t,"wheel",function(t){if(e.mouseEvents)e.x10Mouse||e._vt300Mouse||e._decLocator||(r(t),t.preventDefault());else if(!e.buffer.hasScrollback){var n=e.viewport.getLinesScrolled(t);if(0===n)return;for(var i=p.C0.ESC+(e.applicationCursor?"O":"[")+(t.deltaY<0?"A":"B"),o="",s=0;s<Math.abs(n);s++)o+=i;e.handler(o)}})),this.register(y.addDisposableDomListener(t,"wheel",function(t){if(!e.mouseEvents)return e.viewport.onWheel(t),e.cancel(t)})),this.register(y.addDisposableDomListener(t,"touchstart",function(t){if(!e.mouseEvents)return e.viewport.onTouchStart(t),e.cancel(t)})),this.register(y.addDisposableDomListener(t,"touchmove",function(t){if(!e.mouseEvents)return e.viewport.onTouchMove(t),e.cancel(t)}))},t.prototype.refresh=function(e,t){this.renderer&&this.renderer.refreshRows(e,t)},t.prototype._queueLinkification=function(e,t){this.linkifier&&this.linkifier.linkifyRows(e,t)},t.prototype.updateCursorStyle=function(e){this.selectionManager&&this.selectionManager.shouldColumnSelect(e)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")},t.prototype.showCursor=function(){this.cursorState||(this.cursorState=1,this.refresh(this.buffer.y,this.buffer.y))},t.prototype.scroll=function(e){var t;void 0===e&&(e=!1);var n="JsArray"!==this.options.experimentalBufferLineImpl;n?((t=this._blankLine)&&t.length===this.cols&&t.get(0)[s.CHAR_DATA_ATTR_INDEX]===this.eraseAttr()||(t=this.buffer.getBlankLine(this.eraseAttr(),e),this._blankLine=t),t.isWrapped=e):t=this.buffer.getBlankLine(this.eraseAttr(),e);var i=this.buffer.ybase+this.buffer.scrollTop,r=this.buffer.ybase+this.buffer.scrollBottom;if(0===this.buffer.scrollTop){var o=this.buffer.lines.isFull;r===this.buffer.lines.length-1?n?o?this.buffer.lines.recycle().copyFrom(t):this.buffer.lines.push(t.clone()):this.buffer.lines.push(t):this.buffer.lines.splice(r+1,0,n?t.clone():t),o?this._userScrolling&&(this.buffer.ydisp=Math.max(this.buffer.ydisp-1,0)):(this.buffer.ybase++,this._userScrolling||this.buffer.ydisp++)}else{var a=r-i+1;this.buffer.lines.shiftElements(i+1,a-1,-1),this.buffer.lines.set(r,n?t.clone():t)}this._userScrolling||(this.buffer.ydisp=this.buffer.ybase),this.updateRange(this.buffer.scrollTop),this.updateRange(this.buffer.scrollBottom),this.emit("scroll",this.buffer.ydisp)},t.prototype.scrollLines=function(e,t){if(e<0){if(0===this.buffer.ydisp)return;this._userScrolling=!0}else e+this.buffer.ydisp>=this.buffer.ybase&&(this._userScrolling=!1);var n=this.buffer.ydisp;this.buffer.ydisp=Math.max(Math.min(this.buffer.ydisp+e,this.buffer.ybase),0),n!==this.buffer.ydisp&&(t||this.emit("scroll",this.buffer.ydisp),this.refresh(0,this.rows-1))},t.prototype.scrollPages=function(e){this.scrollLines(e*(this.rows-1))},t.prototype.scrollToTop=function(){this.scrollLines(-this.buffer.ydisp)},t.prototype.scrollToBottom=function(){this.scrollLines(this.buffer.ybase-this.buffer.ydisp)},t.prototype.scrollToLine=function(e){var t=e-this.buffer.ydisp;0!==t&&this.scrollLines(t)},t.prototype.write=function(e){var t=this;this._isDisposed||e&&(this.writeBuffer.push(e),this.options.useFlowControl&&!this._xoffSentToCatchUp&&this.writeBuffer.length>=5&&(this.handler(p.C0.DC3),this._xoffSentToCatchUp=!0),!this._writeInProgress&&this.writeBuffer.length>0&&(this._writeInProgress=!0,setTimeout(function(){t._innerWrite()})))},t.prototype._innerWrite=function(){var e=this;this._isDisposed&&(this.writeBuffer=[]);for(var t=this.writeBuffer.splice(0,300);t.length>0;){var n=t.shift();this._xoffSentToCatchUp&&0===t.length&&0===this.writeBuffer.length&&(this.handler(p.C0.DC1),this._xoffSentToCatchUp=!1),this._refreshStart=this.buffer.y,this._refreshEnd=this.buffer.y,this._inputHandler.parse(n),this.updateRange(this.buffer.y),this.refresh(this._refreshStart,this._refreshEnd)}this.writeBuffer.length>0?setTimeout(function(){return e._innerWrite()},0):this._writeInProgress=!1},t.prototype.writeln=function(e){this.write(e+"\r\n")},t.prototype.attachCustomKeyEventHandler=function(e){this._customKeyEventHandler=e},t.prototype.addCsiHandler=function(e,t){return this._inputHandler.addCsiHandler(e,t)},t.prototype.addOscHandler=function(e,t){return this._inputHandler.addOscHandler(e,t)},t.prototype.registerLinkMatcher=function(e,t,n){var i=this.linkifier.registerLinkMatcher(e,t,n);return this.refresh(0,this.rows-1),i},t.prototype.deregisterLinkMatcher=function(e){this.linkifier.deregisterLinkMatcher(e)&&this.refresh(0,this.rows-1)},t.prototype.registerCharacterJoiner=function(e){var t=this.renderer.registerCharacterJoiner(e);return this.refresh(0,this.rows-1),t},t.prototype.deregisterCharacterJoiner=function(e){this.renderer.deregisterCharacterJoiner(e)&&this.refresh(0,this.rows-1)},Object.defineProperty(t.prototype,"markers",{get:function(){return this.buffer.markers},enumerable:!0,configurable:!0}),t.prototype.addMarker=function(e){if(this.buffer===this.buffers.normal)return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+e)},t.prototype.hasSelection=function(){return!!this.selectionManager&&this.selectionManager.hasSelection},t.prototype.getSelection=function(){return this.selectionManager?this.selectionManager.selectionText:""},t.prototype.clearSelection=function(){this.selectionManager&&this.selectionManager.clearSelection()},t.prototype.selectAll=function(){this.selectionManager&&this.selectionManager.selectAll()},t.prototype.selectLines=function(e,t){this.selectionManager&&this.selectionManager.selectLines(e,t)},t.prototype._keyDown=function(e){if(this._customKeyEventHandler&&!1===this._customKeyEventHandler(e))return!1;if(!this._compositionHelper.keydown(e))return this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;var t=A.evaluateKeyboardEvent(e,this.applicationCursor,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(e),3===t.type||2===t.type){var n=this.rows-1;return this.scrollLines(2===t.type?-n:n),this.cancel(e,!0)}return 1===t.type&&this.selectAll(),!!this._isThirdLevelShift(this.browser,e)||(t.cancel&&this.cancel(e,!0),!t.key||(this.emit("keydown",e),this.emit("key",t.key,e),this.showCursor(),this.handler(t.key),this.cancel(e,!0)))},t.prototype._isThirdLevelShift=function(e,t){var n=e.isMac&&!this.options.macOptionIsMeta&&t.altKey&&!t.ctrlKey&&!t.metaKey||e.isMSWindows&&t.altKey&&t.ctrlKey&&!t.metaKey;return"keypress"===t.type?n:n&&(!t.keyCode||t.keyCode>47)},t.prototype.setgLevel=function(e){this.glevel=e,this.charset=this.charsets[e]},t.prototype.setgCharset=function(e,t){this.charsets[e]=t,this.glevel===e&&(this.charset=t)},t.prototype._keyUp=function(e){this.updateCursorStyle(e)},t.prototype._keyPress=function(e){var t;if(this._customKeyEventHandler&&!1===this._customKeyEventHandler(e))return!1;if(this.cancel(e),e.charCode)t=e.charCode;else if(null===e.which||void 0===e.which)t=e.keyCode;else{if(0===e.which||0===e.charCode)return!1;t=e.which}return!(!t||(e.altKey||e.ctrlKey||e.metaKey)&&!this._isThirdLevelShift(this.browser,e))&&(t=String.fromCharCode(t),this.emit("keypress",t,e),this.emit("key",t,e),this.showCursor(),this.handler(t),!0)},t.prototype.bell=function(){var e=this;this.emit("bell"),this._soundBell()&&this.soundManager.playBellSound(),this._visualBell()&&(this.element.classList.add("visual-bell-active"),clearTimeout(this._visualBellTimer),this._visualBellTimer=window.setTimeout(function(){e.element.classList.remove("visual-bell-active")},200))},t.prototype.log=function(e,t){this.options.debug&&this._context.console&&this._context.console.log&&this._context.console.log(e,t)},t.prototype.error=function(e,t){this.options.debug&&this._context.console&&this._context.console.error&&this._context.console.error(e,t)},t.prototype.resize=function(e,t){isNaN(e)||isNaN(t)||(e!==this.cols||t!==this.rows?(e<1&&(e=1),t<1&&(t=1),this.buffers.resize(e,t),this.cols=e,this.rows=t,this.buffers.setupTabStops(this.cols),this.charMeasure&&this.charMeasure.measure(this.options),this.refresh(0,this.rows-1),this.emit("resize",{cols:e,rows:t})):!this.charMeasure||this.charMeasure.width&&this.charMeasure.height||this.charMeasure.measure(this.options))},t.prototype.updateRange=function(e){e<this._refreshStart&&(this._refreshStart=e),e>this._refreshEnd&&(this._refreshEnd=e)},t.prototype.maxRange=function(){this._refreshStart=0,this._refreshEnd=this.rows-1},t.prototype.clear=function(){if(0!==this.buffer.ybase||0!==this.buffer.y){this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(var e=1;e<this.rows;e++)this.buffer.lines.push(this.buffer.getBlankLine(s.DEFAULT_ATTR));this.refresh(0,this.rows-1),this.emit("scroll",this.buffer.ydisp)}},t.prototype.ch=function(e){return e?[this.eraseAttr(),s.NULL_CELL_CHAR,s.NULL_CELL_WIDTH,s.NULL_CELL_CODE]:[s.DEFAULT_ATTR,s.NULL_CELL_CHAR,s.NULL_CELL_WIDTH,s.NULL_CELL_CODE]},t.prototype.is=function(e){return 0===(this.options.termName+"").indexOf(e)},t.prototype.handler=function(e){this.options.disableStdin||(this.selectionManager&&this.selectionManager.hasSelection&&this.selectionManager.clearSelection(),this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),this.emit("data",e))},t.prototype.handleTitle=function(e){this.emit("title",e)},t.prototype.index=function(){this.buffer.y++,this.buffer.y>this.buffer.scrollBottom&&(this.buffer.y--,this.scroll()),this.buffer.x>=this.cols&&this.buffer.x--},t.prototype.reverseIndex=function(){if(this.buffer.y===this.buffer.scrollTop){var e=this.buffer.scrollBottom-this.buffer.scrollTop;this.buffer.lines.shiftElements(this.buffer.y+this.buffer.ybase,e,1),this.buffer.lines.set(this.buffer.y+this.buffer.ybase,this.buffer.getBlankLine(this.eraseAttr())),this.updateRange(this.buffer.scrollTop),this.updateRange(this.buffer.scrollBottom)}else this.buffer.y--},t.prototype.reset=function(){this.options.rows=this.rows,this.options.cols=this.cols;var e=this._customKeyEventHandler,t=this._inputHandler,n=this.cursorState;this._setup(),this._customKeyEventHandler=e,this._inputHandler=t,this.cursorState=n,this.refresh(0,this.rows-1),this.viewport&&this.viewport.syncScrollArea()},t.prototype.tabSet=function(){this.buffer.tabs[this.buffer.x]=!0},t.prototype.cancel=function(e,t){if(this.options.cancelEvents||t)return e.preventDefault(),e.stopPropagation(),!1},t.prototype.matchColor=function(e,t,n){var i=e<<16|t<<8|n;if(null!==P[i]&&void 0!==P[i])return P[i];for(var r,o,s=1/0,a=-1,l=0;l<w.DEFAULT_ANSI_COLORS.length;l++){if(0===(o=D(e,t,n,(r=w.DEFAULT_ANSI_COLORS[l].rgba)>>>24,r>>>16&255,r>>>8&255))){a=l;break}o<s&&(s=o,a=l)}return P[i]=a},t.prototype._visualBell=function(){return!1},t.prototype._soundBell=function(){return"sound"===this.options.bellStyle},t}(l.EventEmitter);n.Terminal=L;var P={};function D(e,t,n,i,r,o){return Math.pow(30*(e-i),2)+Math.pow(59*(t-r),2)+Math.pow(11*(n-o),2)}},{"./AccessibilityManager":1,"./Buffer":2,"./BufferSet":4,"./CompositionHelper":6,"./InputHandler":8,"./Linkifier":9,"./SelectionManager":10,"./SoundManager":12,"./Strings":13,"./Viewport":15,"./common/Clone":17,"./common/EventEmitter":18,"./common/data/EscapeSequences":21,"./core/Platform":22,"./core/input/Keyboard":24,"./renderer/ColorManager":29,"./renderer/Renderer":33,"./renderer/atlas/CharAtlasCache":37,"./renderer/dom/DomRenderer":45,"./ui/CharMeasure":47,"./ui/Clipboard":48,"./ui/Lifecycle":49,"./ui/MouseHelper":50,"./ui/MouseZoneManager":51,"./ui/ScreenDprMonitor":53}],15:[function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=e("./common/Lifecycle"),s=e("./ui/Lifecycle"),a=15,l=function(e){function t(t,n,i,r){var o=e.call(this)||this;return o._terminal=t,o._viewportElement=n,o._scrollArea=i,o._charMeasure=r,o.scrollBarWidth=0,o._currentRowHeight=0,o._lastRecordedBufferLength=0,o._lastRecordedViewportHeight=0,o._lastRecordedBufferHeight=0,o._lastScrollTop=0,o._wheelPartialScroll=0,o._refreshAnimationFrame=null,o._ignoreNextScrollEvent=!1,o.scrollBarWidth=o._viewportElement.offsetWidth-o._scrollArea.offsetWidth||a,o.register(s.addDisposableDomListener(o._viewportElement,"scroll",o._onScroll.bind(o))),setTimeout(function(){return o.syncScrollArea()},0),o}return r(t,e),t.prototype.onThemeChanged=function(e){this._viewportElement.style.backgroundColor=e.background.css},t.prototype._refresh=function(){var e=this;null===this._refreshAnimationFrame&&(this._refreshAnimationFrame=requestAnimationFrame(function(){return e._innerRefresh()}))},t.prototype._innerRefresh=function(){if(this._charMeasure.height>0){this._currentRowHeight=this._terminal.renderer.dimensions.scaledCellHeight/window.devicePixelRatio,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;var e=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._terminal.renderer.dimensions.canvasHeight);this._lastRecordedBufferHeight!==e&&(this._lastRecordedBufferHeight=e,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}var t=this._terminal.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==t&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=t),this._refreshAnimationFrame=null},t.prototype.syncScrollArea=function(){if(this._lastRecordedBufferLength!==this._terminal.buffer.lines.length)return this._lastRecordedBufferLength=this._terminal.buffer.lines.length,void this._refresh();if(this._lastRecordedViewportHeight===this._terminal.renderer.dimensions.canvasHeight){var e=this._terminal.buffer.ydisp*this._currentRowHeight;this._lastScrollTop===e&&this._lastScrollTop===this._viewportElement.scrollTop&&this._terminal.renderer.dimensions.scaledCellHeight/window.devicePixelRatio===this._currentRowHeight||this._refresh()}else this._refresh()},t.prototype._onScroll=function(e){if(this._lastScrollTop=this._viewportElement.scrollTop,this._viewportElement.offsetParent)if(this._ignoreNextScrollEvent)this._ignoreNextScrollEvent=!1;else{var t=Math.round(this._lastScrollTop/this._currentRowHeight)-this._terminal.buffer.ydisp;this._terminal.scrollLines(t,!0)}},t.prototype.onWheel=function(e){var t=this._getPixelsScrolled(e);0!==t&&(this._viewportElement.scrollTop+=t,e.preventDefault())},t.prototype._getPixelsScrolled=function(e){if(0===e.deltaY)return 0;var t=e.deltaY;return e.deltaMode===WheelEvent.DOM_DELTA_LINE?t*=this._currentRowHeight:e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(t*=this._currentRowHeight*this._terminal.rows),t},t.prototype.getLinesScrolled=function(e){if(0===e.deltaY)return 0;var t=e.deltaY;return e.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(t/=this._currentRowHeight+0,this._wheelPartialScroll+=t,t=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(t*=this._terminal.rows),t},t.prototype.onTouchStart=function(e){this._lastTouchY=e.touches[0].pageY},t.prototype.onTouchMove=function(e){var t=this._lastTouchY-e.touches[0].pageY;this._lastTouchY=e.touches[0].pageY,0!==t&&(this._viewportElement.scrollTop+=t,e.preventDefault())},t}(o.Disposable);n.Viewport=l},{"./common/Lifecycle":19,"./ui/Lifecycle":49}],16:[function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=function(e){function t(t){var n=e.call(this)||this;return n._maxLength=t,n._array=new Array(n._maxLength),n._startIndex=0,n._length=0,n}return r(t,e),Object.defineProperty(t.prototype,"maxLength",{get:function(){return this._maxLength},set:function(e){if(this._maxLength!==e){for(var t=new Array(e),n=0;n<Math.min(e,this.length);n++)t[n]=this._array[this._getCyclicIndex(n)];this._array=t,this._maxLength=e,this._startIndex=0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._length},set:function(e){if(e>this._length)for(var t=this._length;t<e;t++)this._array[t]=void 0;this._length=e},enumerable:!0,configurable:!0}),t.prototype.get=function(e){return this._array[this._getCyclicIndex(e)]},t.prototype.set=function(e,t){this._array[this._getCyclicIndex(e)]=t},t.prototype.push=function(e){this._array[this._getCyclicIndex(this._length)]=e,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.emit("trim",1)):this._length++},t.prototype.recycle=function(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.emit("trim",1),this._array[this._getCyclicIndex(this._length-1)]},Object.defineProperty(t.prototype,"isFull",{get:function(){return this._length===this._maxLength},enumerable:!0,configurable:!0}),t.prototype.pop=function(){return this._array[this._getCyclicIndex(this._length---1)]},t.prototype.splice=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(t){for(var r=e;r<this._length-t;r++)this._array[this._getCyclicIndex(r)]=this._array[this._getCyclicIndex(r+t)];this._length-=t}if(n&&n.length){for(r=this._length-1;r>=e;r--)this._array[this._getCyclicIndex(r+n.length)]=this._array[this._getCyclicIndex(r)];for(r=0;r<n.length;r++)this._array[this._getCyclicIndex(e+r)]=n[r];if(this._length+n.length>this._maxLength){var o=this._length+n.length-this._maxLength;this._startIndex+=o,this._length=this._maxLength,this.emit("trim",o)}else this._length+=n.length}},t.prototype.trimStart=function(e){e>this._length&&(e=this._length),this._startIndex+=e,this._length-=e,this.emit("trim",e)},t.prototype.shiftElements=function(e,t,n){if(!(t<=0)){if(e<0||e>=this._length)throw new Error("start argument out of range");if(e+n<0)throw new Error("Cannot shift elements in list beyond index 0");if(n>0){for(var i=t-1;i>=0;i--)this.set(e+i+n,this.get(e+i));var r=e+t+n-this._length;if(r>0)for(this._length+=r;this._length>this._maxLength;)this._length--,this._startIndex++,this.emit("trim",1)}else for(i=0;i<t;i++)this.set(e+i+n,this.get(e+i))}},t.prototype._getCyclicIndex=function(e){return(this._startIndex+e)%this._maxLength},t}(e("./EventEmitter").EventEmitter);n.CircularList=o},{"./EventEmitter":18}],17:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.clone=function e(t,n){if(void 0===n&&(n=5),"object"!=typeof t)return t;if(null===t)return null;var i=Array.isArray(t)?[]:{};for(var r in t)i[r]=n<=1?t[r]:e(t[r],n-1);return i}},{}],18:[function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=function(e){function t(){var t=e.call(this)||this;return t._events=t._events||{},t}return r(t,e),t.prototype.on=function(e,t){this._events[e]=this._events[e]||[],this._events[e].push(t)},t.prototype.addDisposableListener=function(e,t){var n=this;this.on(e,t);var i=!1;return{dispose:function(){i||(n.off(e,t),i=!0)}}},t.prototype.off=function(e,t){if(this._events[e])for(var n=this._events[e],i=n.length;i--;)if(n[i]===t)return void n.splice(i,1)},t.prototype.removeAllListeners=function(e){this._events[e]&&delete this._events[e]},t.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(this._events[e])for(var i=this._events[e],r=0;r<i.length;r++)i[r].apply(this,t)},t.prototype.listeners=function(e){return this._events[e]||[]},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._events={}},t}(e("./Lifecycle").Disposable);n.EventEmitter=o},{"./Lifecycle":19}],19:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){this._disposables=[],this._isDisposed=!1}return e.prototype.dispose=function(){this._isDisposed=!0,this._disposables.forEach(function(e){return e.dispose()}),this._disposables.length=0},e.prototype.register=function(e){this._disposables.push(e)},e.prototype.unregister=function(e){var t=this._disposables.indexOf(e);-1!==t&&this._disposables.splice(t,1)},e}();n.Disposable=i},{}],20:[function(e,t,n){"use strict";function i(e,t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=e.length),n>=e.length)return e;n=(e.length+n)%e.length,i=i>=e.length?e.length:(e.length+i)%e.length;for(var r=n;r<i;++r)e[r]=t;return e}Object.defineProperty(n,"__esModule",{value:!0}),n.fill=function(e,t,n,r){return e.fill?e.fill(t,n,r):i(e,t,n,r)},n.fillFallback=i},{}],21:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){e.NUL="\0",e.SOH="",e.STX="",e.ETX="",e.EOT="",e.ENQ="",e.ACK="",e.BEL="",e.BS="\b",e.HT="\t",e.LF="\n",e.VT="\v",e.FF="\f",e.CR="\r",e.SO="",e.SI="",e.DLE="",e.DC1="",e.DC2="",e.DC3="",e.DC4="",e.NAK="",e.SYN="",e.ETB="",e.CAN="",e.EM="",e.SUB="",e.ESC="",e.FS="",e.GS="",e.RS="",e.US="",e.SP=" ",e.DEL=""}(n.C0||(n.C0={})),function(e){e.PAD="",e.HOP="",e.BPH="",e.NBH="",e.IND="",e.NEL="",e.SSA="",e.ESA="",e.HTS="",e.HTJ="",e.VTS="",e.PLD="",e.PLU="",e.RI="",e.SS2="",e.SS3="",e.DCS="",e.PU1="",e.PU2="",e.STS="",e.CCH="",e.MW="",e.SPA="",e.EPA="",e.SOS="",e.SGCI="",e.SCI="",e.CSI="",e.ST="",e.OSC="",e.PM="",e.APC=""}(n.C1||(n.C1={}))},{}],22:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i="undefined"==typeof navigator,r=i?"node":navigator.userAgent,o=i?"node":navigator.platform;function s(e,t){return e.indexOf(t)>=0}n.isFirefox=!!~r.indexOf("Firefox"),n.isSafari=/^((?!chrome|android).)*safari/i.test(r),n.isMSIE=!!~r.indexOf("MSIE")||!!~r.indexOf("Trident"),n.isMac=s(["Macintosh","MacIntel","MacPPC","Mac68K"],o),n.isIpad="iPad"===o,n.isIphone="iPhone"===o,n.isMSWindows=s(["Windows","Win16","Win32","WinCE"],o),n.isLinux=o.indexOf("Linux")>=0},{}],23:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CHARSETS={},n.DEFAULT_CHARSET=n.CHARSETS.B,n.CHARSETS[0]={"`":"◆",a:"▒",b:"\t",c:"\f",d:"\r",e:"\n",f:"°",g:"±",h:"␤",i:"\v",j:"┘",k:"┐",l:"┌",m:"└",n:"┼",o:"⎺",p:"⎻",q:"─",r:"⎼",s:"⎽",t:"├",u:"┤",v:"┴",w:"┬",x:"│",y:"≤",z:"≥","{":"π","|":"≠","}":"£","~":"·"},n.CHARSETS.A={"#":"£"},n.CHARSETS.B=null,n.CHARSETS[4]={"#":"£","@":"¾","[":"ij","\\":"½","]":"|","{":"¨","|":"f","}":"¼","~":"´"},n.CHARSETS.C=n.CHARSETS[5]={"[":"Ä","\\":"Ö","]":"Å","^":"Ü","`":"é","{":"ä","|":"ö","}":"å","~":"ü"},n.CHARSETS.R={"#":"£","@":"à","[":"°","\\":"ç","]":"§","{":"é","|":"ù","}":"è","~":"¨"},n.CHARSETS.Q={"@":"à","[":"â","\\":"ç","]":"ê","^":"î","`":"ô","{":"é","|":"ù","}":"è","~":"û"},n.CHARSETS.K={"@":"§","[":"Ä","\\":"Ö","]":"Ü","{":"ä","|":"ö","}":"ü","~":"ß"},n.CHARSETS.Y={"#":"£","@":"§","[":"°","\\":"ç","]":"é","`":"ù","{":"à","|":"ò","}":"è","~":"ì"},n.CHARSETS.E=n.CHARSETS[6]={"@":"Ä","[":"Æ","\\":"Ø","]":"Å","^":"Ü","`":"ä","{":"æ","|":"ø","}":"å","~":"ü"},n.CHARSETS.Z={"#":"£","@":"§","[":"¡","\\":"Ñ","]":"¿","{":"°","|":"ñ","}":"ç"},n.CHARSETS.H=n.CHARSETS[7]={"@":"É","[":"Ä","\\":"Ö","]":"Å","^":"Ü","`":"é","{":"ä","|":"ö","}":"å","~":"ü"},n.CHARSETS["="]={"#":"ù","@":"à","[":"é","\\":"ç","]":"ê","^":"î",_:"è","`":"ô","{":"ä","|":"ö","}":"ü","~":"û"}},{}],24:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../common/data/EscapeSequences"),r={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};n.evaluateKeyboardEvent=function(e,t,n,o){var s={type:0,cancel:!1,key:void 0},a=(e.shiftKey?1:0)|(e.altKey?2:0)|(e.ctrlKey?4:0)|(e.metaKey?8:0);switch(e.keyCode){case 0:"UIKeyInputUpArrow"===e.key?s.key=t?i.C0.ESC+"OA":i.C0.ESC+"[A":"UIKeyInputLeftArrow"===e.key?s.key=t?i.C0.ESC+"OD":i.C0.ESC+"[D":"UIKeyInputRightArrow"===e.key?s.key=t?i.C0.ESC+"OC":i.C0.ESC+"[C":"UIKeyInputDownArrow"===e.key&&(s.key=t?i.C0.ESC+"OB":i.C0.ESC+"[B");break;case 8:if(e.shiftKey){s.key=i.C0.BS;break}if(e.altKey){s.key=i.C0.ESC+i.C0.DEL;break}s.key=i.C0.DEL;break;case 9:if(e.shiftKey){s.key=i.C0.ESC+"[Z";break}s.key=i.C0.HT,s.cancel=!0;break;case 13:s.key=i.C0.CR,s.cancel=!0;break;case 27:s.key=i.C0.ESC,s.cancel=!0;break;case 37:a?(s.key=i.C0.ESC+"[1;"+(a+1)+"D",s.key===i.C0.ESC+"[1;3D"&&(s.key=n?i.C0.ESC+"b":i.C0.ESC+"[1;5D")):s.key=t?i.C0.ESC+"OD":i.C0.ESC+"[D";break;case 39:a?(s.key=i.C0.ESC+"[1;"+(a+1)+"C",s.key===i.C0.ESC+"[1;3C"&&(s.key=n?i.C0.ESC+"f":i.C0.ESC+"[1;5C")):s.key=t?i.C0.ESC+"OC":i.C0.ESC+"[C";break;case 38:a?(s.key=i.C0.ESC+"[1;"+(a+1)+"A",s.key===i.C0.ESC+"[1;3A"&&(s.key=i.C0.ESC+"[1;5A")):s.key=t?i.C0.ESC+"OA":i.C0.ESC+"[A";break;case 40:a?(s.key=i.C0.ESC+"[1;"+(a+1)+"B",s.key===i.C0.ESC+"[1;3B"&&(s.key=i.C0.ESC+"[1;5B")):s.key=t?i.C0.ESC+"OB":i.C0.ESC+"[B";break;case 45:e.shiftKey||e.ctrlKey||(s.key=i.C0.ESC+"[2~");break;case 46:s.key=a?i.C0.ESC+"[3;"+(a+1)+"~":i.C0.ESC+"[3~";break;case 36:s.key=a?i.C0.ESC+"[1;"+(a+1)+"H":t?i.C0.ESC+"OH":i.C0.ESC+"[H";break;case 35:s.key=a?i.C0.ESC+"[1;"+(a+1)+"F":t?i.C0.ESC+"OF":i.C0.ESC+"[F";break;case 33:e.shiftKey?s.type=2:s.key=i.C0.ESC+"[5~";break;case 34:e.shiftKey?s.type=3:s.key=i.C0.ESC+"[6~";break;case 112:s.key=a?i.C0.ESC+"[1;"+(a+1)+"P":i.C0.ESC+"OP";break;case 113:s.key=a?i.C0.ESC+"[1;"+(a+1)+"Q":i.C0.ESC+"OQ";break;case 114:s.key=a?i.C0.ESC+"[1;"+(a+1)+"R":i.C0.ESC+"OR";break;case 115:s.key=a?i.C0.ESC+"[1;"+(a+1)+"S":i.C0.ESC+"OS";break;case 116:s.key=a?i.C0.ESC+"[15;"+(a+1)+"~":i.C0.ESC+"[15~";break;case 117:s.key=a?i.C0.ESC+"[17;"+(a+1)+"~":i.C0.ESC+"[17~";break;case 118:s.key=a?i.C0.ESC+"[18;"+(a+1)+"~":i.C0.ESC+"[18~";break;case 119:s.key=a?i.C0.ESC+"[19;"+(a+1)+"~":i.C0.ESC+"[19~";break;case 120:s.key=a?i.C0.ESC+"[20;"+(a+1)+"~":i.C0.ESC+"[20~";break;case 121:s.key=a?i.C0.ESC+"[21;"+(a+1)+"~":i.C0.ESC+"[21~";break;case 122:s.key=a?i.C0.ESC+"[23;"+(a+1)+"~":i.C0.ESC+"[23~";break;case 123:s.key=a?i.C0.ESC+"[24;"+(a+1)+"~":i.C0.ESC+"[24~";break;default:if(!e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)if(n&&!o||!e.altKey||e.metaKey)n&&!e.altKey&&!e.ctrlKey&&e.metaKey?65===e.keyCode&&(s.type=1):e.key&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&e.keyCode>=48&&144!==e.keyCode&&145!==e.keyCode&&(s.key=e.key);else{var l=r[e.keyCode],u=l&&l[e.shiftKey?1:0];if(u)s.key=i.C0.ESC+u;else if(e.keyCode>=65&&e.keyCode<=90){var c=e.ctrlKey?e.keyCode-64:e.keyCode+32;s.key=i.C0.ESC+String.fromCharCode(c)}}else e.keyCode>=65&&e.keyCode<=90?s.key=String.fromCharCode(e.keyCode-64):32===e.keyCode?s.key=String.fromCharCode(0):e.keyCode>=51&&e.keyCode<=55?s.key=String.fromCharCode(e.keyCode-51+27):56===e.keyCode?s.key=String.fromCharCode(127):219===e.keyCode?s.key=String.fromCharCode(27):220===e.keyCode?s.key=String.fromCharCode(28):221===e.keyCode&&(s.key=String.fromCharCode(29))}return s}},{"../../common/data/EscapeSequences":21}],25:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../common/data/EscapeSequences"),r=function(){function e(e,t){var n;this._mouseEvent=e,this._terminal=t,this._lines=this._terminal.buffer.lines,this._startCol=this._terminal.buffer.x,this._startRow=this._terminal.buffer.y;var i=this._terminal.mouseHelper.getCoords(this._mouseEvent,this._terminal.element,this._terminal.charMeasure,this._terminal.cols,this._terminal.rows,!1);i&&(n=i.map(function(e){return e-1}),this._endCol=n[0],this._endRow=n[1])}return e.prototype.move=function(){this._mouseEvent.altKey&&void 0!==this._endCol&&void 0!==this._endRow&&this._terminal.handler(this._arrowSequences())},e.prototype._arrowSequences=function(){return this._terminal.buffer.hasScrollback?this._moveHorizontallyOnly():this._resetStartingRow()+this._moveToRequestedRow()+this._moveToRequestedCol()},e.prototype._resetStartingRow=function(){return 0===this._moveToRequestedRow().length?"":o(this._bufferLine(this._startCol,this._startRow,this._startCol,this._startRow-this._wrappedRowsForRow(this._startRow),!1).length,this._sequence("D"))},e.prototype._moveToRequestedRow=function(){var e=this._startRow-this._wrappedRowsForRow(this._startRow),t=this._endRow-this._wrappedRowsForRow(this._endRow);return o(Math.abs(e-t)-this._wrappedRowsCount(),this._sequence(this._verticalDirection()))},e.prototype._moveToRequestedCol=function(){var e;e=this._moveToRequestedRow().length>0?this._endRow-this._wrappedRowsForRow(this._endRow):this._startRow;var t=this._endRow,n=this._horizontalDirection();return o(this._bufferLine(this._startCol,e,this._endCol,t,"C"===n).length,this._sequence(n))},e.prototype._moveHorizontallyOnly=function(){var e=this._horizontalDirection();return o(Math.abs(this._startCol-this._endCol),this._sequence(e))},e.prototype._wrappedRowsCount=function(){for(var e=0,t=this._startRow-this._wrappedRowsForRow(this._startRow),n=this._endRow-this._wrappedRowsForRow(this._endRow),i=0;i<Math.abs(t-n);i++){var r="A"===this._verticalDirection()?-1:1;this._lines.get(t+r*i).isWrapped&&e++}return e},e.prototype._wrappedRowsForRow=function(e){for(var t=0,n=this._lines.get(e).isWrapped;n&&e>=0&&e<this._terminal.rows;)t++,e--,n=this._lines.get(e).isWrapped;return t},e.prototype._horizontalDirection=function(){var e;return e=this._moveToRequestedRow().length>0?this._endRow-this._wrappedRowsForRow(this._endRow):this._startRow,this._startCol<this._endCol&&e<=this._endRow||this._startCol>=this._endCol&&e<this._endRow?"C":"D"},e.prototype._verticalDirection=function(){return this._startRow>this._endRow?"A":"B"},e.prototype._bufferLine=function(e,t,n,i,r){for(var o=e,s=t,a="";o!==n||s!==i;)o+=r?1:-1,r&&o>this._terminal.cols-1?(a+=this._terminal.buffer.translateBufferLineToString(s,!1,e,o),o=0,e=0,s++):!r&&o<0&&(a+=this._terminal.buffer.translateBufferLineToString(s,!1,0,e+1),e=o=this._terminal.cols-1,s--);return a+this._terminal.buffer.translateBufferLineToString(s,!1,e,o)},e.prototype._sequence=function(e){var t=this._terminal.applicationCursor?"O":"[";return i.C0.ESC+t+e},e}();function o(e,t){e=Math.floor(e);for(var n="",i=0;i<e;i++)n+=t;return n}n.AltClickHandler=r},{"../common/data/EscapeSequences":21}],26:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Terminal"),r=e("../Strings"),o=function(){function e(e){this._core=new i.Terminal(e)}return Object.defineProperty(e.prototype,"element",{get:function(){return this._core.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textarea",{get:function(){return this._core.textarea},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rows",{get:function(){return this._core.rows},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cols",{get:function(){return this._core.cols},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"markers",{get:function(){return this._core.markers},enumerable:!0,configurable:!0}),e.prototype.blur=function(){this._core.blur()},e.prototype.focus=function(){this._core.focus()},e.prototype.on=function(e,t){this._core.on(e,t)},e.prototype.off=function(e,t){this._core.off(e,t)},e.prototype.emit=function(e,t){this._core.emit(e,t)},e.prototype.addDisposableListener=function(e,t){return this._core.addDisposableListener(e,t)},e.prototype.resize=function(e,t){this._core.resize(e,t)},e.prototype.writeln=function(e){this._core.writeln(e)},e.prototype.open=function(e){this._core.open(e)},e.prototype.attachCustomKeyEventHandler=function(e){this._core.attachCustomKeyEventHandler(e)},e.prototype.addCsiHandler=function(e,t){return this._core.addCsiHandler(e,t)},e.prototype.addOscHandler=function(e,t){return this._core.addOscHandler(e,t)},e.prototype.registerLinkMatcher=function(e,t,n){return this._core.registerLinkMatcher(e,t,n)},e.prototype.deregisterLinkMatcher=function(e){this._core.deregisterLinkMatcher(e)},e.prototype.registerCharacterJoiner=function(e){return this._core.registerCharacterJoiner(e)},e.prototype.deregisterCharacterJoiner=function(e){this._core.deregisterCharacterJoiner(e)},e.prototype.addMarker=function(e){return this._core.addMarker(e)},e.prototype.hasSelection=function(){return this._core.hasSelection()},e.prototype.getSelection=function(){return this._core.getSelection()},e.prototype.clearSelection=function(){this._core.clearSelection()},e.prototype.selectAll=function(){this._core.selectAll()},e.prototype.selectLines=function(e,t){this._core.selectLines(e,t)},e.prototype.dispose=function(){this._core.dispose()},e.prototype.destroy=function(){this._core.destroy()},e.prototype.scrollLines=function(e){this._core.scrollLines(e)},e.prototype.scrollPages=function(e){this._core.scrollPages(e)},e.prototype.scrollToTop=function(){this._core.scrollToTop()},e.prototype.scrollToBottom=function(){this._core.scrollToBottom()},e.prototype.scrollToLine=function(e){this._core.scrollToLine(e)},e.prototype.clear=function(){this._core.clear()},e.prototype.write=function(e){this._core.write(e)},e.prototype.getOption=function(e){return this._core.getOption(e)},e.prototype.setOption=function(e,t){this._core.setOption(e,t)},e.prototype.refresh=function(e,t){this._core.refresh(e,t)},e.prototype.reset=function(){this._core.reset()},e.applyAddon=function(t){t.apply(e)},Object.defineProperty(e,"strings",{get:function(){return r},enumerable:!0,configurable:!0}),e}();n.Terminal=o},{"../Strings":13,"../Terminal":14}],27:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./atlas/Types"),r=e("./atlas/CharAtlasCache"),o=e("../Buffer"),s=e("./atlas/CharAtlasUtils"),a=function(){function e(e,t,n,i,r){this._container=e,this._alpha=i,this._colors=r,this._scaledCharWidth=0,this._scaledCharHeight=0,this._scaledCellWidth=0,this._scaledCellHeight=0,this._scaledCharLeft=0,this._scaledCharTop=0,this._currentGlyphIdentifier={chars:"",code:0,bg:0,fg:0,bold:!1,dim:!1,italic:!1},this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-"+t+"-layer"),this._canvas.style.zIndex=n.toString(),this._initCanvas(),this._container.appendChild(this._canvas)}return e.prototype.dispose=function(){this._container.removeChild(this._canvas),this._charAtlas&&this._charAtlas.dispose()},e.prototype._initCanvas=function(){this._ctx=this._canvas.getContext("2d",{alpha:this._alpha}),this._alpha||this.clearAll()},e.prototype.onOptionsChanged=function(e){},e.prototype.onBlur=function(e){},e.prototype.onFocus=function(e){},e.prototype.onCursorMove=function(e){},e.prototype.onGridChanged=function(e,t,n){},e.prototype.onSelectionChanged=function(e,t,n,i){void 0===i&&(i=!1)},e.prototype.onThemeChanged=function(e,t){this._refreshCharAtlas(e,t)},e.prototype.setTransparency=function(e,t){if(t!==this._alpha){var n=this._canvas;this._alpha=t,this._canvas=this._canvas.cloneNode(),this._initCanvas(),this._container.replaceChild(this._canvas,n),this._refreshCharAtlas(e,this._colors),this.onGridChanged(e,0,e.rows-1)}},e.prototype._refreshCharAtlas=function(e,t){this._scaledCharWidth<=0&&this._scaledCharHeight<=0||(this._charAtlas=r.acquireCharAtlas(e,t,this._scaledCharWidth,this._scaledCharHeight),this._charAtlas.warmUp())},e.prototype.resize=function(e,t){this._scaledCellWidth=t.scaledCellWidth,this._scaledCellHeight=t.scaledCellHeight,this._scaledCharWidth=t.scaledCharWidth,this._scaledCharHeight=t.scaledCharHeight,this._scaledCharLeft=t.scaledCharLeft,this._scaledCharTop=t.scaledCharTop,this._canvas.width=t.scaledCanvasWidth,this._canvas.height=t.scaledCanvasHeight,this._canvas.style.width=t.canvasWidth+"px",this._canvas.style.height=t.canvasHeight+"px",this._alpha||this.clearAll(),this._refreshCharAtlas(e,this._colors)},e.prototype.fillCells=function(e,t,n,i){this._ctx.fillRect(e*this._scaledCellWidth,t*this._scaledCellHeight,n*this._scaledCellWidth,i*this._scaledCellHeight)},e.prototype.fillBottomLineAtCells=function(e,t,n){void 0===n&&(n=1),this._ctx.fillRect(e*this._scaledCellWidth,(t+1)*this._scaledCellHeight-window.devicePixelRatio-1,n*this._scaledCellWidth,window.devicePixelRatio)},e.prototype.fillLeftLineAtCell=function(e,t){this._ctx.fillRect(e*this._scaledCellWidth,t*this._scaledCellHeight,window.devicePixelRatio,this._scaledCellHeight)},e.prototype.strokeRectAtCell=function(e,t,n,i){this._ctx.lineWidth=window.devicePixelRatio,this._ctx.strokeRect(e*this._scaledCellWidth+window.devicePixelRatio/2,t*this._scaledCellHeight+window.devicePixelRatio/2,n*this._scaledCellWidth-window.devicePixelRatio,i*this._scaledCellHeight-window.devicePixelRatio)},e.prototype.clearAll=function(){this._alpha?this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(0,0,this._canvas.width,this._canvas.height))},e.prototype.clearCells=function(e,t,n,i){this._alpha?this._ctx.clearRect(e*this._scaledCellWidth,t*this._scaledCellHeight,n*this._scaledCellWidth,i*this._scaledCellHeight):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(e*this._scaledCellWidth,t*this._scaledCellHeight,n*this._scaledCellWidth,i*this._scaledCellHeight))},e.prototype.fillCharTrueColor=function(e,t,n,i){this._ctx.font=this._getFont(e,!1,!1),this._ctx.textBaseline="middle",this._clipRow(e,i),this._ctx.fillText(t[o.CHAR_DATA_CHAR_INDEX],n*this._scaledCellWidth+this._scaledCharLeft,(i+.5)*this._scaledCellHeight+this._scaledCharTop)},e.prototype.drawChars=function(e,t,n,r,o,s,a,l,u,c,p){a+=e.options.drawBoldTextInBrightColors&&u&&a<8&&a!==i.INVERTED_DEFAULT_COLOR?8:0,this._currentGlyphIdentifier.chars=t,this._currentGlyphIdentifier.code=n,this._currentGlyphIdentifier.bg=l,this._currentGlyphIdentifier.fg=a,this._currentGlyphIdentifier.bold=u&&e.options.enableBold,this._currentGlyphIdentifier.dim=c,this._currentGlyphIdentifier.italic=p,this._charAtlas&&this._charAtlas.draw(this._ctx,this._currentGlyphIdentifier,o*this._scaledCellWidth+this._scaledCharLeft,s*this._scaledCellHeight+this._scaledCharTop)||this._drawUncachedChars(e,t,r,a,o,s,u&&e.options.enableBold,c,p)},e.prototype._drawUncachedChars=function(e,t,n,r,o,a,l,u,c){this._ctx.save(),this._ctx.font=this._getFont(e,l,c),this._ctx.textBaseline="middle",r===i.INVERTED_DEFAULT_COLOR?this._ctx.fillStyle=this._colors.background.css:s.is256Color(r)?this._ctx.fillStyle=this._colors.ansi[r].css:this._ctx.fillStyle=this._colors.foreground.css,this._clipRow(e,a),u&&(this._ctx.globalAlpha=i.DIM_OPACITY),this._ctx.fillText(t,o*this._scaledCellWidth+this._scaledCharLeft,(a+.5)*this._scaledCellHeight+this._scaledCharTop),this._ctx.restore()},e.prototype._clipRow=function(e,t){this._ctx.beginPath(),this._ctx.rect(0,t*this._scaledCellHeight,e.cols*this._scaledCellWidth,this._scaledCellHeight),this._ctx.clip()},e.prototype._getFont=function(e,t,n){return(n?"italic":"")+" "+(t?e.options.fontWeightBold:e.options.fontWeight)+" "+e.options.fontSize*window.devicePixelRatio+"px "+e.options.fontFamily},e}();n.BaseRenderLayer=a},{"../Buffer":2,"./atlas/CharAtlasCache":37,"./atlas/CharAtlasUtils":39,"./atlas/Types":44}],28:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Buffer"),r=function(){function e(e){this._terminal=e,this._characterJoiners=[],this._nextCharacterJoinerId=0}return e.prototype.registerCharacterJoiner=function(e){var t={id:this._nextCharacterJoinerId++,handler:e};return this._characterJoiners.push(t),t.id},e.prototype.deregisterCharacterJoiner=function(e){for(var t=0;t<this._characterJoiners.length;t++)if(this._characterJoiners[t].id===e)return this._characterJoiners.splice(t,1),!0;return!1},e.prototype.getJoinedCharacters=function(e){if(0===this._characterJoiners.length)return[];var t=this._terminal.buffer.lines.get(e);if(0===t.length)return[];for(var n=[],r=this._terminal.buffer.translateBufferLineToString(e,!0),o=0,s=0,a=0,l=t.get(0)[i.CHAR_DATA_ATTR_INDEX]>>9,u=0;u<this._terminal.cols;u++){var c=t.get(u),p=c[i.CHAR_DATA_CHAR_INDEX],f=c[i.CHAR_DATA_WIDTH_INDEX],d=c[i.CHAR_DATA_ATTR_INDEX]>>9;if(0!==f){if(d!==l){if(u-o>1)for(var h=this._getJoinedRanges(r,a,s,t,o),m=0;m<h.length;m++)n.push(h[m]);o=u,a=s,l=d}s+=p.length}}if(this._terminal.cols-o>1)for(h=this._getJoinedRanges(r,a,s,t,o),m=0;m<h.length;m++)n.push(h[m]);return n},e.prototype._getJoinedRanges=function(t,n,i,r,o){for(var s=t.substring(n,i),a=this._characterJoiners[0].handler(s),l=1;l<this._characterJoiners.length;l++)for(var u=this._characterJoiners[l].handler(s),c=0;c<u.length;c++)e._mergeRanges(a,u[c]);return this._stringRangesToCellRanges(a,r,o),a},e.prototype._stringRangesToCellRanges=function(e,t,n){var r=0,o=!1,s=0,a=e[r];if(a){for(var l=n;l<this._terminal.cols;l++){var u=t.get(l),c=u[i.CHAR_DATA_WIDTH_INDEX],p=u[i.CHAR_DATA_CHAR_INDEX].length;if(0!==c){if(!o&&a[0]<=s&&(a[0]=l,o=!0),a[1]<=s){if(a[1]=l,!(a=e[++r]))break;a[0]<=s?(a[0]=l,o=!0):o=!1}s+=p}}a&&(a[1]=this._terminal.cols)}},e._mergeRanges=function(e,t){for(var n=!1,i=0;i<e.length;i++){var r=e[i];if(n){if(t[1]<=r[0])return e[i-1][1]=t[1],e;if(t[1]<=r[1])return e[i-1][1]=Math.max(t[1],r[1]),e.splice(i,1),n=!1,e;e.splice(i,1),i--}else{if(t[1]<=r[0])return e.splice(i,0,t),e;if(t[1]<=r[1])return r[0]=Math.min(t[0],r[0]),e;t[0]<r[1]&&(r[0]=Math.min(t[0],r[0]),n=!0)}}return n?e[e.length-1][1]=t[1]:e.push(t),e},e}();n.CharacterJoinerRegistry=r},{"../Buffer":2}],29:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=l("#ffffff"),r=l("#000000"),o=l("#ffffff"),s=l("#000000"),a={css:"rgba(255, 255, 255, 0.3)",rgba:4294967159};function l(e){return{css:e,rgba:parseInt(e.slice(1),16)<<8|255}}function u(e){var t=e.toString(16);return t.length<2?"0"+t:t}n.DEFAULT_ANSI_COLORS=function(){for(var e=[l("#2e3436"),l("#cc0000"),l("#4e9a06"),l("#c4a000"),l("#3465a4"),l("#75507b"),l("#06989a"),l("#d3d7cf"),l("#555753"),l("#ef2929"),l("#8ae234"),l("#fce94f"),l("#729fcf"),l("#ad7fa8"),l("#34e2e2"),l("#eeeeec")],t=[0,95,135,175,215,255],n=0;n<216;n++){var i=t[n/36%6|0],r=t[n/6%6|0],o=t[n%6];e.push({css:"#"+u(i)+u(r)+u(o),rgba:(i<<24|r<<16|o<<8|255)>>>0})}for(n=0;n<24;n++){var s=8+10*n,a=u(s);e.push({css:"#"+a+a+a,rgba:(s<<24|s<<16|s<<8|255)>>>0})}return e}();var c=function(){function e(e,t){this.allowTransparency=t;var l=e.createElement("canvas");l.width=1,l.height=1,this._ctx=l.getContext("2d"),this._ctx.globalCompositeOperation="copy",this._litmusColor=this._ctx.createLinearGradient(0,0,1,1),this.colors={foreground:i,background:r,cursor:o,cursorAccent:s,selection:a,ansi:n.DEFAULT_ANSI_COLORS.slice()}}return e.prototype.setTheme=function(e){this.colors.foreground=this._parseColor(e.foreground,i),this.colors.background=this._parseColor(e.background,r),this.colors.cursor=this._parseColor(e.cursor,o,!0),this.colors.cursorAccent=this._parseColor(e.cursorAccent,s,!0),this.colors.selection=this._parseColor(e.selection,a,!0),this.colors.ansi[0]=this._parseColor(e.black,n.DEFAULT_ANSI_COLORS[0]),this.colors.ansi[1]=this._parseColor(e.red,n.DEFAULT_ANSI_COLORS[1]),this.colors.ansi[2]=this._parseColor(e.green,n.DEFAULT_ANSI_COLORS[2]),this.colors.ansi[3]=this._parseColor(e.yellow,n.DEFAULT_ANSI_COLORS[3]),this.colors.ansi[4]=this._parseColor(e.blue,n.DEFAULT_ANSI_COLORS[4]),this.colors.ansi[5]=this._parseColor(e.magenta,n.DEFAULT_ANSI_COLORS[5]),this.colors.ansi[6]=this._parseColor(e.cyan,n.DEFAULT_ANSI_COLORS[6]),this.colors.ansi[7]=this._parseColor(e.white,n.DEFAULT_ANSI_COLORS[7]),this.colors.ansi[8]=this._parseColor(e.brightBlack,n.DEFAULT_ANSI_COLORS[8]),this.colors.ansi[9]=this._parseColor(e.brightRed,n.DEFAULT_ANSI_COLORS[9]),this.colors.ansi[10]=this._parseColor(e.brightGreen,n.DEFAULT_ANSI_COLORS[10]),this.colors.ansi[11]=this._parseColor(e.brightYellow,n.DEFAULT_ANSI_COLORS[11]),this.colors.ansi[12]=this._parseColor(e.brightBlue,n.DEFAULT_ANSI_COLORS[12]),this.colors.ansi[13]=this._parseColor(e.brightMagenta,n.DEFAULT_ANSI_COLORS[13]),this.colors.ansi[14]=this._parseColor(e.brightCyan,n.DEFAULT_ANSI_COLORS[14]),this.colors.ansi[15]=this._parseColor(e.brightWhite,n.DEFAULT_ANSI_COLORS[15])},e.prototype._parseColor=function(e,t,n){if(void 0===n&&(n=this.allowTransparency),!e)return t;if(this._ctx.fillStyle=this._litmusColor,this._ctx.fillStyle=e,"string"!=typeof this._ctx.fillStyle)return console.warn("Color: "+e+" is invalid using fallback "+t.css),t;this._ctx.fillRect(0,0,1,1);var i=this._ctx.getImageData(0,0,1,1).data;return n||255===i[3]?{css:e,rgba:(i[0]<<24|i[1]<<16|i[2]<<8|i[3])>>>0}:(console.warn("Color: "+e+" is using transparency, but allowTransparency is false. Using fallback "+t.css+"."),t)},e}();n.ColorManager=c},{}],30:[function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Buffer"),s=e("./BaseRenderLayer"),a=function(e){function t(t,n,i){var r=e.call(this,t,"cursor",n,!0,i)||this;return r._state={x:null,y:null,isFocused:null,style:null,width:null},r._cursorRenderers={bar:r._renderBarCursor.bind(r),block:r._renderBlockCursor.bind(r),underline:r._renderUnderlineCursor.bind(r)},r}return r(t,e),t.prototype.resize=function(t,n){e.prototype.resize.call(this,t,n),this._state={x:null,y:null,isFocused:null,style:null,width:null}},t.prototype.reset=function(e){this._clearCursor(),this._cursorBlinkStateManager&&(this._cursorBlinkStateManager.dispose(),this._cursorBlinkStateManager=null,this.onOptionsChanged(e))},t.prototype.onBlur=function(e){this._cursorBlinkStateManager&&this._cursorBlinkStateManager.pause(),e.refresh(e.buffer.y,e.buffer.y)},t.prototype.onFocus=function(e){this._cursorBlinkStateManager?this._cursorBlinkStateManager.resume(e):e.refresh(e.buffer.y,e.buffer.y)},t.prototype.onOptionsChanged=function(e){var t=this;e.options.cursorBlink?this._cursorBlinkStateManager||(this._cursorBlinkStateManager=new l(e,function(){t._render(e,!0)})):(this._cursorBlinkStateManager&&(this._cursorBlinkStateManager.dispose(),this._cursorBlinkStateManager=null),e.refresh(e.buffer.y,e.buffer.y))},t.prototype.onCursorMove=function(e){this._cursorBlinkStateManager&&this._cursorBlinkStateManager.restartBlinkAnimation(e)},t.prototype.onGridChanged=function(e,t,n){!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isPaused?this._render(e,!1):this._cursorBlinkStateManager.restartBlinkAnimation(e)},t.prototype._render=function(e,t){if(e.cursorState&&!e.cursorHidden){var n=e.buffer.ybase+e.buffer.y,i=n-e.buffer.ydisp;if(i<0||i>=e.rows)this._clearCursor();else{var r=e.buffer.lines.get(n).get(e.buffer.x);if(r){if(!e.isFocused)return this._clearCursor(),this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._renderBlurCursor(e,e.buffer.x,i,r),this._ctx.restore(),this._state.x=e.buffer.x,this._state.y=i,this._state.isFocused=!1,this._state.style=e.options.cursorStyle,void(this._state.width=r[o.CHAR_DATA_WIDTH_INDEX]);if(!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isCursorVisible){if(this._state){if(this._state.x===e.buffer.x&&this._state.y===i&&this._state.isFocused===e.isFocused&&this._state.style===e.options.cursorStyle&&this._state.width===r[o.CHAR_DATA_WIDTH_INDEX])return;this._clearCursor()}this._ctx.save(),this._cursorRenderers[e.options.cursorStyle||"block"](e,e.buffer.x,i,r),this._ctx.restore(),this._state.x=e.buffer.x,this._state.y=i,this._state.isFocused=!1,this._state.style=e.options.cursorStyle,this._state.width=r[o.CHAR_DATA_WIDTH_INDEX]}else this._clearCursor()}}}else this._clearCursor()},t.prototype._clearCursor=function(){this._state&&(this.clearCells(this._state.x,this._state.y,this._state.width,1),this._state={x:null,y:null,isFocused:null,style:null,width:null})},t.prototype._renderBarCursor=function(e,t,n,i){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this.fillLeftLineAtCell(t,n),this._ctx.restore()},t.prototype._renderBlockCursor=function(e,t,n,i){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this.fillCells(t,n,i[o.CHAR_DATA_WIDTH_INDEX],1),this._ctx.fillStyle=this._colors.cursorAccent.css,this.fillCharTrueColor(e,i,t,n),this._ctx.restore()},t.prototype._renderUnderlineCursor=function(e,t,n,i){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this.fillBottomLineAtCells(t,n),this._ctx.restore()},t.prototype._renderBlurCursor=function(e,t,n,i){this._ctx.save(),this._ctx.strokeStyle=this._colors.cursor.css,this.strokeRectAtCell(t,n,i[o.CHAR_DATA_WIDTH_INDEX],1),this._ctx.restore()},t}(s.BaseRenderLayer);n.CursorRenderLayer=a;var l=function(){function e(e,t){this._renderCallback=t,this.isCursorVisible=!0,e.isFocused&&this._restartInterval()}return Object.defineProperty(e.prototype,"isPaused",{get:function(){return!(this._blinkStartTimeout||this._blinkInterval)},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=null),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=null),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=null)},e.prototype.restartBlinkAnimation=function(e){var t=this;this.isPaused||(this._animationTimeRestarted=Date.now(),this.isCursorVisible=!0,this._animationFrame||(this._animationFrame=window.requestAnimationFrame(function(){t._renderCallback(),t._animationFrame=null})))},e.prototype._restartInterval=function(e){var t=this;void 0===e&&(e=600),this._blinkInterval&&window.clearInterval(this._blinkInterval),this._blinkStartTimeout=setTimeout(function(){if(t._animationTimeRestarted){var e=600-(Date.now()-t._animationTimeRestarted);if(t._animationTimeRestarted=null,e>0)return void t._restartInterval(e)}t.isCursorVisible=!1,t._animationFrame=window.requestAnimationFrame(function(){t._renderCallback(),t._animationFrame=null}),t._blinkInterval=setInterval(function(){if(t._animationTimeRestarted){var e=600-(Date.now()-t._animationTimeRestarted);return t._animationTimeRestarted=null,void t._restartInterval(e)}t.isCursorVisible=!t.isCursorVisible,t._animationFrame=window.requestAnimationFrame(function(){t._renderCallback(),t._animationFrame=null})},600)},e)},e.prototype.pause=function(){this.isCursorVisible=!0,this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=null),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=null),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=null)},e.prototype.resume=function(e){this._animationTimeRestarted=null,this._restartInterval(),this.restartBlinkAnimation(e)},e}()},{"../Buffer":2,"./BaseRenderLayer":27}],31:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){this.cache=[]}return e.prototype.resize=function(e,t){for(var n=0;n<e;n++){this.cache.length<=n&&this.cache.push([]);for(var i=this.cache[n].length;i<t;i++)this.cache[n].push(null);this.cache[n].length=t}this.cache.length=e},e.prototype.clear=function(){for(var e=0;e<this.cache.length;e++)for(var t=0;t<this.cache[e].length;t++)this.cache[e][t]=null},e}();n.GridCache=i},{}],32:[function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=e("./BaseRenderLayer"),s=e("./atlas/Types"),a=e("./atlas/CharAtlasUtils"),l=function(e){function t(t,n,i,r){var o=e.call(this,t,"link",n,!0,i)||this;return o._state=null,r.linkifier.on("linkhover",function(e){return o._onLinkHover(e)}),r.linkifier.on("linkleave",function(e){return o._onLinkLeave(e)}),o}return r(t,e),t.prototype.resize=function(t,n){e.prototype.resize.call(this,t,n),this._state=null},t.prototype.reset=function(e){this._clearCurrentLink()},t.prototype._clearCurrentLink=function(){if(this._state){this.clearCells(this._state.x1,this._state.y1,this._state.cols-this._state.x1,1);var e=this._state.y2-this._state.y1-1;e>0&&this.clearCells(0,this._state.y1+1,this._state.cols,e),this.clearCells(0,this._state.y2,this._state.x2,1),this._state=null}},t.prototype._onLinkHover=function(e){if(e.fg===s.INVERTED_DEFAULT_COLOR?this._ctx.fillStyle=this._colors.background.css:a.is256Color(e.fg)?this._ctx.fillStyle=this._colors.ansi[e.fg].css:this._ctx.fillStyle=this._colors.foreground.css,e.y1===e.y2)this.fillBottomLineAtCells(e.x1,e.y1,e.x2-e.x1);else{this.fillBottomLineAtCells(e.x1,e.y1,e.cols-e.x1);for(var t=e.y1+1;t<e.y2;t++)this.fillBottomLineAtCells(0,t,e.cols);this.fillBottomLineAtCells(0,e.y2,e.x2)}this._state=e},t.prototype._onLinkLeave=function(e){this._clearCurrentLink()},t}(o.BaseRenderLayer);n.LinkRenderLayer=l},{"./BaseRenderLayer":27,"./atlas/CharAtlasUtils":39,"./atlas/Types":44}],33:[function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=e("./TextRenderLayer"),s=e("./SelectionRenderLayer"),a=e("./CursorRenderLayer"),l=e("./ColorManager"),u=e("./LinkRenderLayer"),c=e("../common/EventEmitter"),p=e("../ui/RenderDebouncer"),f=e("../ui/ScreenDprMonitor"),d=e("../renderer/CharacterJoinerRegistry"),h=function(e){function t(t,n){var i=e.call(this)||this;i._terminal=t,i._isPaused=!1,i._needsFullRefresh=!1;var r=i._terminal.options.allowTransparency;if(i.colorManager=new l.ColorManager(document,r),i._characterJoinerRegistry=new d.CharacterJoinerRegistry(t),n&&i.colorManager.setTheme(n),i._renderLayers=[new o.TextRenderLayer(i._terminal.screenElement,0,i.colorManager.colors,i._characterJoinerRegistry,r),new s.SelectionRenderLayer(i._terminal.screenElement,1,i.colorManager.colors),new u.LinkRenderLayer(i._terminal.screenElement,2,i.colorManager.colors,i._terminal),new a.CursorRenderLayer(i._terminal.screenElement,3,i.colorManager.colors)],i.dimensions={scaledCharWidth:null,scaledCharHeight:null,scaledCellWidth:null,scaledCellHeight:null,scaledCharLeft:null,scaledCharTop:null,scaledCanvasWidth:null,scaledCanvasHeight:null,canvasWidth:null,canvasHeight:null,actualCellWidth:null,actualCellHeight:null},i._devicePixelRatio=window.devicePixelRatio,i._updateDimensions(),i.onOptionsChanged(),i._renderDebouncer=new p.RenderDebouncer(i._terminal,i._renderRows.bind(i)),i._screenDprMonitor=new f.ScreenDprMonitor,i._screenDprMonitor.setListener(function(){return i.onWindowResize(window.devicePixelRatio)}),i.register(i._screenDprMonitor),"IntersectionObserver"in window){var c=new IntersectionObserver(function(e){return i.onIntersectionChange(e[0])},{threshold:0});c.observe(i._terminal.element),i.register({dispose:function(){return c.disconnect()}})}return i}return r(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._renderLayers.forEach(function(e){return e.dispose()})},t.prototype.onIntersectionChange=function(e){this._isPaused=0===e.intersectionRatio,!this._isPaused&&this._needsFullRefresh&&this._terminal.refresh(0,this._terminal.rows-1)},t.prototype.onWindowResize=function(e){this._devicePixelRatio!==e&&(this._devicePixelRatio=e,this.onResize(this._terminal.cols,this._terminal.rows))},t.prototype.setTheme=function(e){var t=this;return this.colorManager.setTheme(e),this._renderLayers.forEach(function(e){e.onThemeChanged(t._terminal,t.colorManager.colors),e.reset(t._terminal)}),this._isPaused?this._needsFullRefresh=!0:this._terminal.refresh(0,this._terminal.rows-1),this.colorManager.colors},t.prototype.onResize=function(e,t){var n=this;this._updateDimensions(),this._renderLayers.forEach(function(e){return e.resize(n._terminal,n.dimensions)}),this._isPaused?this._needsFullRefresh=!0:this._terminal.refresh(0,this._terminal.rows-1),this._terminal.screenElement.style.width=this.dimensions.canvasWidth+"px",this._terminal.screenElement.style.height=this.dimensions.canvasHeight+"px",this.emit("resize",{width:this.dimensions.canvasWidth,height:this.dimensions.canvasHeight})},t.prototype.onCharSizeChanged=function(){this.onResize(this._terminal.cols,this._terminal.rows)},t.prototype.onBlur=function(){var e=this;this._runOperation(function(t){return t.onBlur(e._terminal)})},t.prototype.onFocus=function(){var e=this;this._runOperation(function(t){return t.onFocus(e._terminal)})},t.prototype.onSelectionChanged=function(e,t,n){var i=this;void 0===n&&(n=!1),this._runOperation(function(r){return r.onSelectionChanged(i._terminal,e,t,n)})},t.prototype.onCursorMove=function(){var e=this;this._runOperation(function(t){return t.onCursorMove(e._terminal)})},t.prototype.onOptionsChanged=function(){var e=this;this.colorManager.allowTransparency=this._terminal.options.allowTransparency,this._runOperation(function(t){return t.onOptionsChanged(e._terminal)})},t.prototype.clear=function(){var e=this;this._runOperation(function(t){return t.reset(e._terminal)})},t.prototype._runOperation=function(e){this._isPaused?this._needsFullRefresh=!0:this._renderLayers.forEach(function(t){return e(t)})},t.prototype.refreshRows=function(e,t){this._isPaused?this._needsFullRefresh=!0:this._renderDebouncer.refresh(e,t)},t.prototype._renderRows=function(e,t){var n=this;this._renderLayers.forEach(function(i){return i.onGridChanged(n._terminal,e,t)}),this._terminal.emit("refresh",{start:e,end:t})},t.prototype._updateDimensions=function(){this._terminal.charMeasure.width&&this._terminal.charMeasure.height&&(this.dimensions.scaledCharWidth=Math.floor(this._terminal.charMeasure.width*window.devicePixelRatio),this.dimensions.scaledCharHeight=Math.ceil(this._terminal.charMeasure.height*window.devicePixelRatio),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._terminal.options.lineHeight),this.dimensions.scaledCharTop=1===this._terminal.options.lineHeight?0:Math.round((this.dimensions.scaledCellHeight-this.dimensions.scaledCharHeight)/2),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._terminal.options.letterSpacing),this.dimensions.scaledCharLeft=Math.floor(this._terminal.options.letterSpacing/2),this.dimensions.scaledCanvasHeight=this._terminal.rows*this.dimensions.scaledCellHeight,this.dimensions.scaledCanvasWidth=this._terminal.cols*this.dimensions.scaledCellWidth,this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._terminal.rows,this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._terminal.cols)},t.prototype.registerCharacterJoiner=function(e){return this._characterJoinerRegistry.registerCharacterJoiner(e)},t.prototype.deregisterCharacterJoiner=function(e){return this._characterJoinerRegistry.deregisterCharacterJoiner(e)},t}(c.EventEmitter);n.Renderer=h},{"../common/EventEmitter":18,"../renderer/CharacterJoinerRegistry":28,"../ui/RenderDebouncer":52,"../ui/ScreenDprMonitor":53,"./ColorManager":29,"./CursorRenderLayer":30,"./LinkRenderLayer":32,"./SelectionRenderLayer":34,"./TextRenderLayer":35}],34:[function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=function(e){function t(t,n,i){var r=e.call(this,t,"selection",n,!0,i)||this;return r._clearState(),r}return r(t,e),t.prototype._clearState=function(){this._state={start:null,end:null,columnSelectMode:null,ydisp:null}},t.prototype.resize=function(t,n){e.prototype.resize.call(this,t,n),this._clearState()},t.prototype.reset=function(e){this._state.start&&this._state.end&&(this._clearState(),this.clearAll())},t.prototype.onSelectionChanged=function(e,t,n,i){if(this._didStateChange(t,n,i,e.buffer.ydisp)&&(this.clearAll(),t&&n)){var r=t[1]-e.buffer.ydisp,o=n[1]-e.buffer.ydisp,s=Math.max(r,0),a=Math.min(o,e.rows-1);if(!(s>=e.rows||a<0)){if(this._ctx.fillStyle=this._colors.selection.css,i){var l=t[0],u=n[0]-l,c=a-s+1;this.fillCells(l,s,u,c)}else{l=r===s?t[0]:0;var p=s===a?n[0]:e.cols;this.fillCells(l,s,p-l,1);var f=Math.max(a-s-1,0);if(this.fillCells(0,s+1,e.cols,f),s!==a){var d=o===a?n[0]:e.cols;this.fillCells(0,a,d,1)}}this._state.start=[t[0],t[1]],this._state.end=[n[0],n[1]],this._state.columnSelectMode=i,this._state.ydisp=e.buffer.ydisp}}},t.prototype._didStateChange=function(e,t,n,i){return!this._areCoordinatesEqual(e,this._state.start)||!this._areCoordinatesEqual(t,this._state.end)||n!==this._state.columnSelectMode||i!==this._state.ydisp},t.prototype._areCoordinatesEqual=function(e,t){return!(!e||!t)&&(e[0]===t[0]&&e[1]===t[1])},t}(e("./BaseRenderLayer").BaseRenderLayer);n.SelectionRenderLayer=o},{"./BaseRenderLayer":27}],35:[function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Buffer"),s=e("./atlas/Types"),a=e("./GridCache"),l=e("./BaseRenderLayer"),u=e("./atlas/CharAtlasUtils"),c=function(e){function t(t,n,i,r,o){var s=e.call(this,t,"text",n,o,i)||this;return s._characterOverlapCache={},s._state=new a.GridCache,s._characterJoinerRegistry=r,s}return r(t,e),t.prototype.resize=function(t,n){e.prototype.resize.call(this,t,n);var i=this._getFont(t,!1,!1);this._characterWidth===n.scaledCharWidth&&this._characterFont===i||(this._characterWidth=n.scaledCharWidth,this._characterFont=i,this._characterOverlapCache={}),this._state.clear(),this._state.resize(t.cols,t.rows)},t.prototype.reset=function(e){this._state.clear(),this.clearAll()},t.prototype._forEachCell=function(e,t,n,i,r){for(var a=t;a<=n;a++)for(var l=a+e.buffer.ydisp,u=e.buffer.lines.get(l),c=i?i.getJoinedCharacters(l):[],p=0;p<e.cols;p++){var f=u.get(p),d=f[o.CHAR_DATA_CODE_INDEX]||o.WHITESPACE_CELL_CODE,h=f[o.CHAR_DATA_CHAR_INDEX]||o.WHITESPACE_CELL_CHAR,m=f[o.CHAR_DATA_ATTR_INDEX],g=f[o.CHAR_DATA_WIDTH_INDEX],b=!1,y=p;if(0!==g){if(c.length>0&&p===c[0][0]){b=!0;var v=c.shift();h=e.buffer.translateBufferLineToString(l,!0,v[0],v[1]),g=v[1]-v[0],d=1/0,y=v[1]-1}!b&&this._isOverlapping(f)&&y<u.length-1&&u.get(y+1)[o.CHAR_DATA_CODE_INDEX]===o.NULL_CELL_CODE&&(g=2);var _=m>>18,x=511&m,w=m>>9&511;if(8&_){var k=x;x=w,(w=k)===s.DEFAULT_COLOR&&(w=s.INVERTED_DEFAULT_COLOR),x===s.DEFAULT_COLOR&&(x=s.INVERTED_DEFAULT_COLOR)}r(d,h,g,p,a,w,x,_),p=y}}},t.prototype._drawBackground=function(e,t,n){var i=this,r=this._ctx,o=e.cols,a=0,l=0,c=null;r.save(),this._forEachCell(e,t,n,null,function(e,t,n,p,f,d,h,m){var g=null;h===s.INVERTED_DEFAULT_COLOR?g=i._colors.foreground.css:u.is256Color(h)&&(g=i._colors.ansi[h].css),null===c&&(a=p,l=f),f!==l?(r.fillStyle=c,i.fillCells(a,l,o-a,1),a=p,l=f):c!==g&&(r.fillStyle=c,i.fillCells(a,l,p-a,1),a=p,l=f),c=g}),null!==c&&(r.fillStyle=c,this.fillCells(a,l,o-a,1)),r.restore()},t.prototype._drawForeground=function(e,t,n){var i=this;this._forEachCell(e,t,n,this._characterJoinerRegistry,function(t,n,r,o,a,l,c,p){16&p||(2&p&&(i._ctx.save(),l===s.INVERTED_DEFAULT_COLOR?i._ctx.fillStyle=i._colors.background.css:u.is256Color(l)?i._ctx.fillStyle=i._colors.ansi[l].css:i._ctx.fillStyle=i._colors.foreground.css,i.fillBottomLineAtCells(o,a,r),i._ctx.restore()),i.drawChars(e,n,t,r,o,a,l,c,!!(1&p),!!(32&p),!!(64&p)))})},t.prototype.onGridChanged=function(e,t,n){0!==this._state.cache.length&&(this._charAtlas&&this._charAtlas.beginFrame(),this.clearCells(0,t,e.cols,n-t+1),this._drawBackground(e,t,n),this._drawForeground(e,t,n))},t.prototype.onOptionsChanged=function(e){this.setTransparency(e,e.options.allowTransparency)},t.prototype._isOverlapping=function(e){if(1!==e[o.CHAR_DATA_WIDTH_INDEX])return!1;if(e[o.CHAR_DATA_CODE_INDEX]<256)return!1;var t=e[o.CHAR_DATA_CHAR_INDEX];if(this._characterOverlapCache.hasOwnProperty(t))return this._characterOverlapCache[t];this._ctx.save(),this._ctx.font=this._characterFont;var n=Math.floor(this._ctx.measureText(t).width)>this._characterWidth;return this._ctx.restore(),this._characterOverlapCache[t]=n,n},t}(l.BaseRenderLayer);n.TextRenderLayer=c},{"../Buffer":2,"./BaseRenderLayer":27,"./GridCache":31,"./atlas/CharAtlasUtils":39,"./atlas/Types":44}],36:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){this._didWarmUp=!1}return e.prototype.dispose=function(){},e.prototype.warmUp=function(){this._didWarmUp||(this._doWarmUp(),this._didWarmUp=!0)},e.prototype._doWarmUp=function(){},e.prototype.beginFrame=function(){},e}();n.default=i},{}],37:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./CharAtlasUtils"),r=e("./DynamicCharAtlas"),o=e("./NoneCharAtlas"),s=e("./StaticCharAtlas"),a={none:o.default,static:s.default,dynamic:r.default},l=[];n.acquireCharAtlas=function(e,t,n,r){for(var o=i.generateConfig(n,r,e,t),s=0;s<l.length;s++){var u=(c=l[s]).ownedBy.indexOf(e);if(u>=0){if(i.configEquals(c.config,o))return c.atlas;1===c.ownedBy.length?(c.atlas.dispose(),l.splice(s,1)):c.ownedBy.splice(u,1);break}}for(s=0;s<l.length;s++){var c=l[s];if(i.configEquals(c.config,o))return c.ownedBy.push(e),c.atlas}var p={atlas:new a[e.options.experimentalCharAtlas](document,o),config:o,ownedBy:[e]};return l.push(p),p.atlas},n.removeTerminalFromCache=function(e){for(var t=0;t<l.length;t++){var n=l[t].ownedBy.indexOf(e);if(-1!==n){1===l[t].ownedBy.length?(l[t].atlas.dispose(),l.splice(t,1)):l[t].ownedBy.splice(n,1);break}}}},{"./CharAtlasUtils":39,"./DynamicCharAtlas":40,"./NoneCharAtlas":42,"./StaticCharAtlas":43}],38:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../core/Platform"),r=e("./Types");function o(e,t){for(var n=!0,i=t.rgba>>>24,r=t.rgba>>>16&255,o=t.rgba>>>8&255,s=0;s<e.data.length;s+=4)e.data[s]===i&&e.data[s+1]===r&&e.data[s+2]===o?e.data[s+3]=0:n=!1;return n}function s(e,t){return e+" "+t.fontSize*t.devicePixelRatio+"px "+t.fontFamily}n.generateStaticCharAtlasTexture=function(e,t,n){var a=n.scaledCharWidth+r.CHAR_ATLAS_CELL_SPACING,l=n.scaledCharHeight+r.CHAR_ATLAS_CELL_SPACING,u=t(255*a,34*l),c=u.getContext("2d",{alpha:n.allowTransparency});c.fillStyle=n.colors.background.css,c.fillRect(0,0,u.width,u.height),c.save(),c.fillStyle=n.colors.foreground.css,c.font=s(n.fontWeight,n),c.textBaseline="middle";for(var p=0;p<256;p++)c.save(),c.beginPath(),c.rect(p*a,0,a,l),c.clip(),c.fillText(String.fromCharCode(p),p*a,l/2),c.restore();for(c.save(),c.font=s(n.fontWeightBold,n),p=0;p<256;p++)c.save(),c.beginPath(),c.rect(p*a,l,a,l),c.clip(),c.fillText(String.fromCharCode(p),p*a,1.5*l),c.restore();c.restore(),c.font=s(n.fontWeight,n);for(var f=0;f<16;f++){var d=(f+2)*l;for(p=0;p<256;p++)c.save(),c.beginPath(),c.rect(p*a,d,a,l),c.clip(),c.fillStyle=n.colors.ansi[f].css,c.fillText(String.fromCharCode(p),p*a,d+l/2),c.restore()}for(c.font=s(n.fontWeightBold,n),f=0;f<16;f++)for(d=(f+2+16)*l,p=0;p<256;p++)c.save(),c.beginPath(),c.rect(p*a,d,a,l),c.clip(),c.fillStyle=n.colors.ansi[f].css,c.fillText(String.fromCharCode(p),p*a,d+l/2),c.restore();if(c.restore(),!("createImageBitmap"in e)||i.isFirefox||i.isSafari)return u;var h=c.getImageData(0,0,u.width,u.height);return o(h,n.colors.background),e.createImageBitmap(h)},n.clearColor=o},{"../../core/Platform":22,"./Types":44}],39:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Types");n.generateConfig=function(e,t,n,i){var r={foreground:i.foreground,background:i.background,cursor:null,cursorAccent:null,selection:null,ansi:i.ansi.slice(0,16)};return{type:n.options.experimentalCharAtlas,devicePixelRatio:window.devicePixelRatio,scaledCharWidth:e,scaledCharHeight:t,fontFamily:n.options.fontFamily,fontSize:n.options.fontSize,fontWeight:n.options.fontWeight,fontWeightBold:n.options.fontWeightBold,allowTransparency:n.options.allowTransparency,colors:r}},n.configEquals=function(e,t){for(var n=0;n<e.colors.ansi.length;n++)if(e.colors.ansi[n].rgba!==t.colors.ansi[n].rgba)return!1;return e.type===t.type&&e.devicePixelRatio===t.devicePixelRatio&&e.fontFamily===t.fontFamily&&e.fontSize===t.fontSize&&e.fontWeight===t.fontWeight&&e.fontWeightBold===t.fontWeightBold&&e.allowTransparency===t.allowTransparency&&e.scaledCharWidth===t.scaledCharWidth&&e.scaledCharHeight===t.scaledCharHeight&&e.colors.foreground===t.colors.foreground&&e.colors.background===t.colors.background},n.is256Color=function(e){return e<i.DEFAULT_COLOR}},{"./Types":44}],40:[function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=e("./Types"),s=e("./BaseCharAtlas"),a=e("../ColorManager"),l=e("./CharAtlasGenerator"),u=e("./LRUMap"),c=e("../../core/Platform"),p=1024,f=1024,d={css:"rgba(0, 0, 0, 0)",rgba:0};function h(e){return e.code<<21|e.bg<<12|e.fg<<3|(e.bold?0:4)+(e.dim?0:2)+(e.italic?0:1)}n.getGlyphCacheKey=h;var m=function(e){function t(t,n){var i=e.call(this)||this;i._config=n,i._drawToCacheCount=0,i._glyphsWaitingOnBitmap=[],i._bitmapCommitTimeout=null,i._bitmap=null,i._cacheCanvas=t.createElement("canvas"),i._cacheCanvas.width=p,i._cacheCanvas.height=f,i._cacheCtx=i._cacheCanvas.getContext("2d",{alpha:!0});var r=t.createElement("canvas");r.width=i._config.scaledCharWidth,r.height=i._config.scaledCharHeight,i._tmpCtx=r.getContext("2d",{alpha:i._config.allowTransparency}),i._width=Math.floor(p/i._config.scaledCharWidth),i._height=Math.floor(f/i._config.scaledCharHeight);var o=i._width*i._height;return i._cacheMap=new u.default(o),i._cacheMap.prealloc(o),i}return r(t,e),t.prototype.dispose=function(){null!==this._bitmapCommitTimeout&&(window.clearTimeout(this._bitmapCommitTimeout),this._bitmapCommitTimeout=null)},t.prototype.beginFrame=function(){this._drawToCacheCount=0},t.prototype.draw=function(e,t,n,i){if(32===t.code)return!0;if(!this._canCache(t))return!1;var r=h(t),o=this._cacheMap.get(r);if(null!=o)return this._drawFromCache(e,o,n,i),!0;if(this._drawToCacheCount<100){var s=void 0;s=this._cacheMap.size<this._cacheMap.capacity?this._cacheMap.size:this._cacheMap.peek().index;var a=this._drawToCache(t,s);return this._cacheMap.set(r,a),this._drawFromCache(e,a,n,i),!0}return!1},t.prototype._canCache=function(e){return e.code<256},t.prototype._toCoordinateX=function(e){return e%this._width*this._config.scaledCharWidth},t.prototype._toCoordinateY=function(e){return Math.floor(e/this._width)*this._config.scaledCharHeight},t.prototype._drawFromCache=function(e,t,n,i){if(!t.isEmpty){var r=this._toCoordinateX(t.index),o=this._toCoordinateY(t.index);e.drawImage(t.inBitmap?this._bitmap:this._cacheCanvas,r,o,this._config.scaledCharWidth,this._config.scaledCharHeight,n,i,this._config.scaledCharWidth,this._config.scaledCharHeight)}},t.prototype._getColorFromAnsiIndex=function(e){return e<this._config.colors.ansi.length?this._config.colors.ansi[e]:a.DEFAULT_ANSI_COLORS[e]},t.prototype._getBackgroundColor=function(e){return this._config.allowTransparency?d:e.bg===o.INVERTED_DEFAULT_COLOR?this._config.colors.foreground:e.bg<256?this._getColorFromAnsiIndex(e.bg):this._config.colors.background},t.prototype._getForegroundColor=function(e){return e.fg===o.INVERTED_DEFAULT_COLOR?this._config.colors.background:e.fg<256?this._getColorFromAnsiIndex(e.fg):this._config.colors.foreground},t.prototype._drawToCache=function(e,t){this._drawToCacheCount++,this._tmpCtx.save();var n=this._getBackgroundColor(e);this._tmpCtx.globalCompositeOperation="copy",this._tmpCtx.fillStyle=n.css,this._tmpCtx.fillRect(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),this._tmpCtx.globalCompositeOperation="source-over";var i=e.bold?this._config.fontWeightBold:this._config.fontWeight,r=e.italic?"italic":"";this._tmpCtx.font=r+" "+i+" "+this._config.fontSize*this._config.devicePixelRatio+"px "+this._config.fontFamily,this._tmpCtx.textBaseline="middle",this._tmpCtx.fillStyle=this._getForegroundColor(e).css,e.dim&&(this._tmpCtx.globalAlpha=o.DIM_OPACITY),this._tmpCtx.fillText(e.chars,0,this._config.scaledCharHeight/2),this._tmpCtx.restore();var s=this._tmpCtx.getImageData(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),a=!1;this._config.allowTransparency||(a=l.clearColor(s,n));var u=this._toCoordinateX(t),c=this._toCoordinateY(t);this._cacheCtx.putImageData(s,u,c);var p={index:t,isEmpty:a,inBitmap:!1};return this._addGlyphToBitmap(p),p},t.prototype._addGlyphToBitmap=function(e){var t=this;"createImageBitmap"in window&&!c.isFirefox&&!c.isSafari&&(this._glyphsWaitingOnBitmap.push(e),null===this._bitmapCommitTimeout&&(this._bitmapCommitTimeout=window.setTimeout(function(){return t._generateBitmap()},100)))},t.prototype._generateBitmap=function(){var e=this,t=this._glyphsWaitingOnBitmap;this._glyphsWaitingOnBitmap=[],window.createImageBitmap(this._cacheCanvas).then(function(n){e._bitmap=n;for(var i=0;i<t.length;i++){t[i].inBitmap=!0}}),this._bitmapCommitTimeout=null},t}(s.default);n.default=m},{"../../core/Platform":22,"../ColorManager":29,"./BaseCharAtlas":36,"./CharAtlasGenerator":38,"./LRUMap":41,"./Types":44}],41:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e){this.capacity=e,this._map={},this._head=null,this._tail=null,this._nodePool=[],this.size=0}return e.prototype._unlinkNode=function(e){var t=e.prev,n=e.next;e===this._head&&(this._head=n),e===this._tail&&(this._tail=t),null!==t&&(t.next=n),null!==n&&(n.prev=t)},e.prototype._appendNode=function(e){var t=this._tail;null!==t&&(t.next=e),e.prev=t,e.next=null,this._tail=e,null===this._head&&(this._head=e)},e.prototype.prealloc=function(e){for(var t=this._nodePool,n=0;n<e;n++)t.push({prev:null,next:null,key:null,value:null})},e.prototype.get=function(e){var t=this._map[e];return void 0!==t?(this._unlinkNode(t),this._appendNode(t),t.value):null},e.prototype.peekValue=function(e){var t=this._map[e];return void 0!==t?t.value:null},e.prototype.peek=function(){var e=this._head;return null===e?null:e.value},e.prototype.set=function(e,t){var n=this._map[e];if(void 0!==n)n=this._map[e],this._unlinkNode(n),n.value=t;else if(this.size>=this.capacity)n=this._head,this._unlinkNode(n),delete this._map[n.key],n.key=e,n.value=t,this._map[e]=n;else{var i=this._nodePool;i.length>0?((n=i.pop()).key=e,n.value=t):n={prev:null,next:null,key:e,value:t},this._map[e]=n,this.size++}this._appendNode(n)},e}();n.default=i},{}],42:[function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=function(e){function t(t,n){return e.call(this)||this}return r(t,e),t.prototype.draw=function(e,t,n,i){return!1},t}(e("./BaseCharAtlas").default);n.default=o},{"./BaseCharAtlas":36}],43:[function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=e("./Types"),s=e("./CharAtlasGenerator"),a=e("./BaseCharAtlas"),l=e("./CharAtlasUtils"),u=function(e){function t(t,n){var i=e.call(this)||this;return i._document=t,i._config=n,i._canvasFactory=function(e,t){var n=i._document.createElement("canvas");return n.width=e,n.height=t,n},i}return r(t,e),t.prototype._doWarmUp=function(){var e=this,t=s.generateStaticCharAtlasTexture(window,this._canvasFactory,this._config);t instanceof HTMLCanvasElement?this._texture=t:t.then(function(t){e._texture=t})},t.prototype._isCached=function(e,t){var n=e.code<256,i=e.fg<16,r=e.fg===o.DEFAULT_COLOR,s=e.bg===o.DEFAULT_COLOR;return n&&(i||r)&&s&&!e.italic},t.prototype.draw=function(e,t,n,i){if(null===this._texture||void 0===this._texture)return!1;var r=0;if(l.is256Color(t.fg)?r=2+t.fg+(t.bold?16:0):t.fg===o.DEFAULT_COLOR&&t.bold&&(r=1),!this._isCached(t,r))return!1;e.save();var s=this._config.scaledCharWidth+o.CHAR_ATLAS_CELL_SPACING,a=this._config.scaledCharHeight+o.CHAR_ATLAS_CELL_SPACING;return t.dim&&(e.globalAlpha=o.DIM_OPACITY),e.drawImage(this._texture,t.code*s,r*a,s,this._config.scaledCharHeight,n,i,s,this._config.scaledCharHeight),e.restore(),!0},t}(a.default);n.default=u},{"./BaseCharAtlas":36,"./CharAtlasGenerator":38,"./CharAtlasUtils":39,"./Types":44}],44:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_COLOR=256,n.INVERTED_DEFAULT_COLOR=257,n.DIM_OPACITY=.5,n.CHAR_ATLAS_CELL_SPACING=1},{}],45:[function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../common/EventEmitter"),s=e("../ColorManager"),a=e("../../ui/RenderDebouncer"),l=e("./DomRendererRowFactory"),u=e("../atlas/Types"),c="xterm-dom-renderer-owner-",p="xterm-rows",f="xterm-selection",d=1,h=function(e){function t(t,n){var i=e.call(this)||this;i._terminal=t,i._terminalClass=d++,i._rowElements=[];var r=i._terminal.options.allowTransparency;return i.colorManager=new s.ColorManager(document,r),i.setTheme(n),i._rowContainer=document.createElement("div"),i._rowContainer.classList.add(p),i._rowContainer.style.lineHeight="normal",i._rowContainer.setAttribute("aria-hidden","true"),i._refreshRowElements(i._terminal.cols,i._terminal.rows),i._selectionContainer=document.createElement("div"),i._selectionContainer.classList.add(f),i._selectionContainer.setAttribute("aria-hidden","true"),i.dimensions={scaledCharWidth:null,scaledCharHeight:null,scaledCellWidth:null,scaledCellHeight:null,scaledCharLeft:null,scaledCharTop:null,scaledCanvasWidth:null,scaledCanvasHeight:null,canvasWidth:null,canvasHeight:null,actualCellWidth:null,actualCellHeight:null},i._updateDimensions(),i._renderDebouncer=new a.RenderDebouncer(i._terminal,i._renderRows.bind(i)),i._rowFactory=new l.DomRendererRowFactory(document),i._terminal.element.classList.add(c+i._terminalClass),i._terminal.screenElement.appendChild(i._rowContainer),i._terminal.screenElement.appendChild(i._selectionContainer),i._terminal.linkifier.on("linkhover",function(e){return i._onLinkHover(e)}),i._terminal.linkifier.on("linkleave",function(e){return i._onLinkLeave(e)}),i}return r(t,e),t.prototype.dispose=function(){this._terminal.element.classList.remove(c+this._terminalClass),this._terminal.screenElement.removeChild(this._rowContainer),this._terminal.screenElement.removeChild(this._selectionContainer),this._terminal.screenElement.removeChild(this._themeStyleElement),this._terminal.screenElement.removeChild(this._dimensionsStyleElement),e.prototype.dispose.call(this)},t.prototype._updateDimensions=function(){var e=this;this.dimensions.scaledCharWidth=Math.floor(this._terminal.charMeasure.width*window.devicePixelRatio),this.dimensions.scaledCharHeight=Math.ceil(this._terminal.charMeasure.height*window.devicePixelRatio),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._terminal.options.letterSpacing),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._terminal.options.lineHeight),this.dimensions.scaledCharLeft=0,this.dimensions.scaledCharTop=0,this.dimensions.scaledCanvasWidth=this.dimensions.scaledCellWidth*this._terminal.cols,this.dimensions.scaledCanvasHeight=this.dimensions.scaledCellHeight*this._terminal.rows,this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._terminal.cols,this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._terminal.rows,this._rowElements.forEach(function(t){t.style.width=e.dimensions.canvasWidth+"px",t.style.height=e.dimensions.actualCellHeight+"px",t.style.lineHeight=e.dimensions.actualCellHeight+"px",t.style.overflow="hidden"}),this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._terminal.screenElement.appendChild(this._dimensionsStyleElement));var t=this._terminalSelector+" ."+p+" span { display: inline-block; height: 100%; vertical-align: top; width: "+this.dimensions.actualCellWidth+"px}";this._dimensionsStyleElement.innerHTML=t,this._selectionContainer.style.height=this._terminal._viewportElement.style.height,this._terminal.screenElement.style.width=this.dimensions.canvasWidth+"px",this._terminal.screenElement.style.height=this.dimensions.canvasHeight+"px"},t.prototype.setTheme=function(e){var t=this;e&&this.colorManager.setTheme(e),this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._terminal.screenElement.appendChild(this._themeStyleElement));var n=this._terminalSelector+" ."+p+" { color: "+this.colorManager.colors.foreground.css+"; background-color: "+this.colorManager.colors.background.css+"; font-family: "+this._terminal.getOption("fontFamily")+"; font-size: "+this._terminal.getOption("fontSize")+"px;}";return n+=this._terminalSelector+" span:not(."+l.BOLD_CLASS+") { font-weight: "+this._terminal.options.fontWeight+";}"+this._terminalSelector+" span."+l.BOLD_CLASS+" { font-weight: "+this._terminal.options.fontWeightBold+";}"+this._terminalSelector+" span."+l.ITALIC_CLASS+" { font-style: italic;}",n+=this._terminalSelector+" ."+p+":not(.xterm-focus) ."+l.CURSOR_CLASS+" { outline: 1px solid "+this.colorManager.colors.cursor.css+"; outline-offset: -1px;}"+this._terminalSelector+" ."+p+".xterm-focus ."+l.CURSOR_CLASS+"."+l.CURSOR_STYLE_BLOCK_CLASS+" { background-color: "+this.colorManager.colors.cursor.css+"; color: "+this.colorManager.colors.cursorAccent.css+";}"+this._terminalSelector+" ."+p+".xterm-focus ."+l.CURSOR_CLASS+"."+l.CURSOR_STYLE_BAR_CLASS+" { box-shadow: 1px 0 0 "+this.colorManager.colors.cursor.css+" inset;}"+this._terminalSelector+" ."+p+".xterm-focus ."+l.CURSOR_CLASS+"."+l.CURSOR_STYLE_UNDERLINE_CLASS+" { box-shadow: 0 -1px 0 "+this.colorManager.colors.cursor.css+" inset;}",n+=this._terminalSelector+" ."+f+" { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}"+this._terminalSelector+" ."+f+" div { position: absolute; background-color: "+this.colorManager.colors.selection.css+";}",this.colorManager.colors.ansi.forEach(function(e,i){n+=t._terminalSelector+" .xterm-fg-"+i+" { color: "+e.css+"; }"+t._terminalSelector+" .xterm-bg-"+i+" { background-color: "+e.css+"; }"}),n+=this._terminalSelector+" .xterm-fg-"+u.INVERTED_DEFAULT_COLOR+" { color: "+this.colorManager.colors.background.css+"; }"+this._terminalSelector+" .xterm-bg-"+u.INVERTED_DEFAULT_COLOR+" { background-color: "+this.colorManager.colors.foreground.css+"; }",this._themeStyleElement.innerHTML=n,this.colorManager.colors},t.prototype.onWindowResize=function(e){this._updateDimensions()},t.prototype._refreshRowElements=function(e,t){for(var n=this._rowElements.length;n<=t;n++){var i=document.createElement("div");this._rowContainer.appendChild(i),this._rowElements.push(i)}for(;this._rowElements.length>t;)this._rowContainer.removeChild(this._rowElements.pop())},t.prototype.onResize=function(e,t){this._refreshRowElements(e,t),this._updateDimensions()},t.prototype.onCharSizeChanged=function(){this._updateDimensions()},t.prototype.onBlur=function(){this._rowContainer.classList.remove("xterm-focus")},t.prototype.onFocus=function(){this._rowContainer.classList.add("xterm-focus")},t.prototype.onSelectionChanged=function(e,t,n){for(;this._selectionContainer.children.length;)this._selectionContainer.removeChild(this._selectionContainer.children[0]);if(e&&t){var i=e[1]-this._terminal.buffer.ydisp,r=t[1]-this._terminal.buffer.ydisp,o=Math.max(i,0),s=Math.min(r,this._terminal.rows-1);if(!(o>=this._terminal.rows||s<0)){var a=document.createDocumentFragment();if(n)a.appendChild(this._createSelectionElement(o,e[0],t[0],s-o+1));else{var l=i===o?e[0]:0,u=o===s?t[0]:this._terminal.cols;a.appendChild(this._createSelectionElement(o,l,u));var c=s-o-1;if(a.appendChild(this._createSelectionElement(o+1,0,this._terminal.cols,c)),o!==s){var p=r===s?t[0]:this._terminal.cols;a.appendChild(this._createSelectionElement(s,0,p))}}this._selectionContainer.appendChild(a)}}},t.prototype._createSelectionElement=function(e,t,n,i){void 0===i&&(i=1);var r=document.createElement("div");return r.style.height=i*this.dimensions.actualCellHeight+"px",r.style.top=e*this.dimensions.actualCellHeight+"px",r.style.left=t*this.dimensions.actualCellWidth+"px",r.style.width=this.dimensions.actualCellWidth*(n-t)+"px",r},t.prototype.onCursorMove=function(){},t.prototype.onOptionsChanged=function(){this._updateDimensions(),this.setTheme(void 0),this._terminal.refresh(0,this._terminal.rows-1)},t.prototype.clear=function(){this._rowElements.forEach(function(e){return e.innerHTML=""})},t.prototype.refreshRows=function(e,t){this._renderDebouncer.refresh(e,t)},t.prototype._renderRows=function(e,t){for(var n=this._terminal,i=n.buffer.ybase+n.buffer.y,r=this._terminal.buffer.x,o=e;o<=t;o++){var s=this._rowElements[o];s.innerHTML="";var a=o+n.buffer.ydisp,l=n.buffer.lines.get(a),u=n.options.cursorStyle;s.appendChild(this._rowFactory.createRow(l,a===i,u,r,this.dimensions.actualCellWidth,n.cols))}this._terminal.emit("refresh",{start:e,end:t})},Object.defineProperty(t.prototype,"_terminalSelector",{get:function(){return"."+c+this._terminalClass},enumerable:!0,configurable:!0}),t.prototype.registerCharacterJoiner=function(e){return-1},t.prototype.deregisterCharacterJoiner=function(e){return!1},t.prototype._onLinkHover=function(e){this._setCellUnderline(e.x1,e.x2,e.y1,e.y2,e.cols,!0)},t.prototype._onLinkLeave=function(e){this._setCellUnderline(e.x1,e.x2,e.y1,e.y2,e.cols,!1)},t.prototype._setCellUnderline=function(e,t,n,i,r,o){for(;e!==t||n!==i;){var s=this._rowElements[n];if(!s)return;var a=s.children[e];a&&(a.style.textDecoration=o?"underline":"none"),++e>=r&&(e=0,n++)}},t}(o.EventEmitter);n.DomRenderer=h},{"../../common/EventEmitter":18,"../../ui/RenderDebouncer":52,"../ColorManager":29,"../atlas/Types":44,"./DomRendererRowFactory":46}],46:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../Buffer"),r=e("../atlas/Types");n.BOLD_CLASS="xterm-bold",n.ITALIC_CLASS="xterm-italic",n.CURSOR_CLASS="xterm-cursor",n.CURSOR_STYLE_BLOCK_CLASS="xterm-cursor-block",n.CURSOR_STYLE_BAR_CLASS="xterm-cursor-bar",n.CURSOR_STYLE_UNDERLINE_CLASS="xterm-cursor-underline";var o=function(){function e(e){this._document=e}return e.prototype.createRow=function(e,t,o,s,a,l){for(var u=this._document.createDocumentFragment(),c=0,p=Math.min(e.length,l)-1;p>=0;p--){if((f=e.get(p))[i.CHAR_DATA_CODE_INDEX]!==i.NULL_CELL_CODE||t&&p===s){c=p+1;break}}for(p=0;p<c;p++){var f,d=(f=e.get(p))[i.CHAR_DATA_CHAR_INDEX]||i.WHITESPACE_CELL_CHAR,h=f[i.CHAR_DATA_ATTR_INDEX],m=f[i.CHAR_DATA_WIDTH_INDEX];if(0!==m){var g=this._document.createElement("span");m>1&&(g.style.width=a*m+"px");var b=h>>18,y=511&h,v=h>>9&511;if(t&&p===s)switch(g.classList.add(n.CURSOR_CLASS),o){case"bar":g.classList.add(n.CURSOR_STYLE_BAR_CLASS);break;case"underline":g.classList.add(n.CURSOR_STYLE_UNDERLINE_CLASS);break;default:g.classList.add(n.CURSOR_STYLE_BLOCK_CLASS)}if(8&b){var _=y;y=v,(v=_)===r.DEFAULT_COLOR&&(v=r.INVERTED_DEFAULT_COLOR),y===r.DEFAULT_COLOR&&(y=r.INVERTED_DEFAULT_COLOR)}1&b&&(v<8&&(v+=8),g.classList.add(n.BOLD_CLASS)),64&b&&g.classList.add(n.ITALIC_CLASS),g.textContent=d,v!==r.DEFAULT_COLOR&&g.classList.add("xterm-fg-"+v),y!==r.DEFAULT_COLOR&&g.classList.add("xterm-bg-"+y),u.appendChild(g)}}return u},e}();n.DomRendererRowFactory=o},{"../../Buffer":2,"../atlas/Types":44}],47:[function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=function(e){function t(t,n){var i=e.call(this)||this;return i._document=t,i._parentElement=n,i._measureElement=i._document.createElement("span"),i._measureElement.classList.add("xterm-char-measure-element"),i._measureElement.textContent="W",i._measureElement.setAttribute("aria-hidden","true"),i._parentElement.appendChild(i._measureElement),i}return r(t,e),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),t.prototype.measure=function(e){this._measureElement.style.fontFamily=e.fontFamily,this._measureElement.style.fontSize=e.fontSize+"px";var t=this._measureElement.getBoundingClientRect();0!==t.width&&0!==t.height&&(this._width===t.width&&this._height===t.height||(this._width=t.width,this._height=Math.ceil(t.height),this.emit("charsizechanged")))},t}(e("../common/EventEmitter").EventEmitter);n.CharMeasure=o},{"../common/EventEmitter":18}],48:[function(e,t,n){"use strict";function i(e){return e.replace(/\r?\n/g,"\r")}function r(e,t){return t?"[200~"+e+"[201~":e}function o(e,t){t.style.position="fixed",t.style.width="20px",t.style.height="20px",t.style.left=e.clientX-10+"px",t.style.top=e.clientY-10+"px",t.style.zIndex="1000",t.focus(),setTimeout(function(){t.style.position=null,t.style.width=null,t.style.height=null,t.style.left=null,t.style.top=null,t.style.zIndex=null},200)}Object.defineProperty(n,"__esModule",{value:!0}),n.prepareTextForTerminal=i,n.bracketTextForPaste=r,n.copyHandler=function(e,t,n){t.browser.isMSIE?window.clipboardData.setData("Text",n.selectionText):e.clipboardData.setData("text/plain",n.selectionText),e.preventDefault()},n.pasteHandler=function(e,t){e.stopPropagation();var n=function(n){n=r(n=i(n),t.bracketedPasteMode),t.handler(n),t.textarea.value="",t.emit("paste",n),t.cancel(e)};t.browser.isMSIE?window.clipboardData&&n(window.clipboardData.getData("Text")):e.clipboardData&&n(e.clipboardData.getData("text/plain"))},n.moveTextAreaUnderMouseCursor=o,n.rightClickHandler=function(e,t,n,i){o(e,t),i&&!n.isClickInSelection(e)&&n.selectWordAtCursor(e),t.value=n.selectionText,t.select()}},{}],49:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.addDisposableDomListener=function(e,t,n,i){return e.addEventListener(t,n,i),{dispose:function(){n&&(e.removeEventListener(t,n,i),e=null,n=null)}}}},{}],50:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e){this._renderer=e}return e.prototype.setRenderer=function(e){this._renderer=e},e.getCoordsRelativeToElement=function(e,t){var n=t.getBoundingClientRect();return[e.clientX-n.left,e.clientY-n.top]},e.prototype.getCoords=function(t,n,i,r,o,s){if(!i.width||!i.height)return null;var a=e.getCoordsRelativeToElement(t,n);return a?(a[0]=Math.ceil((a[0]+(s?this._renderer.dimensions.actualCellWidth/2:0))/this._renderer.dimensions.actualCellWidth),a[1]=Math.ceil(a[1]/this._renderer.dimensions.actualCellHeight),a[0]=Math.min(Math.max(a[0],1),r+(s?1:0)),a[1]=Math.min(Math.max(a[1],1),o),a):null},e.prototype.getRawByteCoords=function(e,t,n,i,r){var o=this.getCoords(e,t,n,i,r),s=o[0],a=o[1];return{x:s+=32,y:a+=32}},e}();n.MouseHelper=i},{}],51:[function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=e("../common/Lifecycle"),s=e("./Lifecycle"),a=function(e){function t(t){var n=e.call(this)||this;return n._terminal=t,n._zones=[],n._areZonesActive=!1,n._tooltipTimeout=null,n._currentZone=null,n._lastHoverCoords=[null,null],n.register(s.addDisposableDomListener(n._terminal.element,"mousedown",function(e){return n._onMouseDown(e)})),n._mouseMoveListener=function(e){return n._onMouseMove(e)},n._clickListener=function(e){return n._onClick(e)},n}return r(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._deactivate()},t.prototype.add=function(e){this._zones.push(e),1===this._zones.length&&this._activate()},t.prototype.clearAll=function(e,t){if(0!==this._zones.length){t||(e=0,t=this._terminal.rows-1);for(var n=0;n<this._zones.length;n++){var i=this._zones[n];(i.y1>e&&i.y1<=t+1||i.y2>e&&i.y2<=t+1||i.y1<e&&i.y2>t+1)&&(this._currentZone&&this._currentZone===i&&(this._currentZone.leaveCallback(),this._currentZone=null),this._zones.splice(n--,1))}0===this._zones.length&&this._deactivate()}},t.prototype._activate=function(){this._areZonesActive||(this._areZonesActive=!0,this._terminal.element.addEventListener("mousemove",this._mouseMoveListener),this._terminal.element.addEventListener("click",this._clickListener))},t.prototype._deactivate=function(){this._areZonesActive&&(this._areZonesActive=!1,this._terminal.element.removeEventListener("mousemove",this._mouseMoveListener),this._terminal.element.removeEventListener("click",this._clickListener))},t.prototype._onMouseMove=function(e){this._lastHoverCoords[0]===e.pageX&&this._lastHoverCoords[1]===e.pageY||(this._onHover(e),this._lastHoverCoords=[e.pageX,e.pageY])},t.prototype._onHover=function(e){var t=this,n=this._findZoneEventAt(e);n!==this._currentZone&&(this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=null,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout)),n&&(this._currentZone=n,n.hoverCallback&&n.hoverCallback(e),this._tooltipTimeout=setTimeout(function(){return t._onTooltip(e)},500)))},t.prototype._onTooltip=function(e){this._tooltipTimeout=null;var t=this._findZoneEventAt(e);t&&t.tooltipCallback&&t.tooltipCallback(e)},t.prototype._onMouseDown=function(e){if(this._areZonesActive){var t=this._findZoneEventAt(e);t&&t.willLinkActivate(e)&&(e.preventDefault(),e.stopImmediatePropagation())}},t.prototype._onClick=function(e){var t=this._findZoneEventAt(e);t&&(t.clickCallback(e),e.preventDefault(),e.stopImmediatePropagation())},t.prototype._findZoneEventAt=function(e){var t=this._terminal.mouseHelper.getCoords(e,this._terminal.screenElement,this._terminal.charMeasure,this._terminal.cols,this._terminal.rows);if(!t)return null;for(var n=t[0],i=t[1],r=0;r<this._zones.length;r++){var o=this._zones[r];if(o.y1===o.y2){if(i===o.y1&&n>=o.x1&&n<o.x2)return o}else if(i===o.y1&&n>=o.x1||i===o.y2&&n<o.x2||i>o.y1&&i<o.y2)return o}return null},t}(o.Disposable);n.MouseZoneManager=a;var l=function(){return function(e,t,n,i,r,o,s,a,l){this.x1=e,this.y1=t,this.x2=n,this.y2=i,this.clickCallback=r,this.hoverCallback=o,this.tooltipCallback=s,this.leaveCallback=a,this.willLinkActivate=l}}();n.MouseZone=l},{"../common/Lifecycle":19,"./Lifecycle":49}],52:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){this._terminal=e,this._callback=t,this._animationFrame=null}return e.prototype.dispose=function(){this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=null)},e.prototype.refresh=function(e,t){var n=this;e=null!=e?e:0,t=null!=t?t:this._terminal.rows-1;var i=void 0!==this._rowStart&&null!==this._rowStart,r=void 0!==this._rowEnd&&null!==this._rowEnd;this._rowStart=i?Math.min(this._rowStart,e):e,this._rowEnd=r?Math.max(this._rowEnd,t):t,this._animationFrame||(this._animationFrame=window.requestAnimationFrame(function(){return n._innerRefresh()}))},e.prototype._innerRefresh=function(){this._rowStart=Math.max(this._rowStart,0),this._rowEnd=Math.min(this._rowEnd,this._terminal.rows-1),this._callback(this._rowStart,this._rowEnd),this._rowStart=null,this._rowEnd=null,this._animationFrame=null},e}();n.RenderDebouncer=i},{}],53:[function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.setListener=function(e){var t=this;this._listener&&this.clearListener(),this._listener=e,this._outerListener=function(){t._listener(window.devicePixelRatio,t._currentDevicePixelRatio),t._updateDpr()},this._updateDpr()},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.clearListener()},t.prototype._updateDpr=function(){this._resolutionMediaMatchList&&this._resolutionMediaMatchList.removeListener(this._outerListener),this._currentDevicePixelRatio=window.devicePixelRatio,this._resolutionMediaMatchList=window.matchMedia("screen and (resolution: "+window.devicePixelRatio+"dppx)"),this._resolutionMediaMatchList.addListener(this._outerListener)},t.prototype.clearListener=function(){this._listener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._listener=null,this._outerListener=null)},t}(e("../common/Lifecycle").Disposable);n.ScreenDprMonitor=o},{"../common/Lifecycle":19}],54:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./public/Terminal");t.exports=i.Terminal},{"./public/Terminal":26}]},{},[54])(54)})},function(e,t){e.exports={readCode:function(e){if(void 0===Sk.builtinFiles||void 0===Sk.builtinFiles.files[e])throw"File not found: "+e;return Sk.builtinFiles.files[e]},setupSkulpt:function(e,t){var n;return(Sk.TurtleGraphics||(Sk.TurtleGraphics={})).target=e,Sk.canvas=e,this.setCanvasSize(e,!1),Sk.TurtleGraphics.animate=!t,n={read:this.readCode,error:this.output},this.output&&(n.output=this.output),this.input&&(n.inputfun=this.input,n.inputfunTakesPrompt=!0),Sk.configure(n),Sk.onAfterImport=(e=>{var t;switch(e){case"urllib.request":return(t=Sk.sysmodules.mp$subscript(e)).$d.urlopen.func_code=(e=>{var n;return n="",this.ajaxPost(routes.projects.proxy({access_token:this.props.access_token}),{data:{url:e.v},async:!1,success:function(e){return n=e.data}}),Sk.misceval.callsim(t.$d.Response,{responseText:n})})}})},setCanvasSize:function(e,t){var n;if((n=$(`#${e}`))[0])return Sk.TurtleGraphics?(Sk.TurtleGraphics.height=n.height(),Sk.TurtleGraphics.width=n.width()-10):void 0}}},function(e,t,n){var i=n(31),r=n(138),o=n(19)("species");e.exports=function(e,t){var n,s=i(e).constructor;return void 0===s||null==(n=i(s)[o])?t:r(n)}},function(e,t,n){var i,r,o,s=n(66),a=n(767),l=n(210),u=n(108),c=n(24),p=c.process,f=c.setImmediate,d=c.clearImmediate,h=c.MessageChannel,m=c.Dispatch,g=0,b={},y=function(){var e=+this;if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},v=function(e){y.call(e.data)};f&&d||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return b[++g]=function(){a("function"==typeof e?e:Function(e),t)},i(g),g},d=function(e){delete b[e]},"process"==n(67)(p)?i=function(e){p.nextTick(s(y,e,1))}:m&&m.now?i=function(e){m.now(s(y,e,1))}:h?(o=(r=new h).port2,r.port1.onmessage=v,i=s(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(i=function(e){c.postMessage(e+"","*")},c.addEventListener("message",v,!1)):i="onreadystatechange"in u("script")?function(e){l.appendChild(u("script")).onreadystatechange=function(){l.removeChild(this),y.call(e)}}:function(e){setTimeout(s(y,e,1),0)}),e.exports={set:f,clear:d}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var i=n(31),r=n(35),o=n(361);e.exports=function(e,t){if(i(e),r(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d;i=n(219),s=n(15),o=n(787),r=n(788),({div:l,i:u,p:p,span:f,strong:d,img:c}=ReactDOMFactories),a=reactCreateClass({displayName:"TaskResult",mixins:[mixins.ViewMixin,mixins.ImageMixin,Reflux.connectFilter(s,"codey_enabled",function(e){return e.codey_enabled}),Reflux.connectFilter(s,"codey_persona",function(e){return e.codey_persona})],propTypes:{access_token:PropTypes.string.isRequired,appended:PropTypes.bool.isRequired,check:PropTypes.func,disabled:PropTypes.bool.isRequired,is_next_task:PropTypes.bool.isRequired,project_snapshot:PropTypes.object,task_result:PropTypes.object.isRequired,task_result_snapshot:PropTypes.object.isRequired},getDefaultProps:function(){return{appended:!1,is_next_task:!1,task_result_snapshot:{}}},checkTestResult:function(e){var t;return t=this.props.project_snapshot?this.props.project_snapshot[`${e.test_type}_results`]:this.props.task_result[`${e.test_type}_results`],_.find(t,t=>e.record_id===t.test_id&&this.props.task_result.id===t.project_task_result_id)},taskFeedback:function(e,t){var n;return 0===this.props.task_result.attempts?this.props.reviewing?"This task was not attempted.":`Click the checkbox above to ${e?"attempt":"complete"} this task.`:this.props.task_result.feedback?this.props.task_result.feedback:(n="",e&&this.props.task_result.share_checks&&(n+=`${t} out of ${e} checks passed.`),this.props.task_result_snapshot.completed&&(n+=" Great work!"),this.props.task_result_snapshot.completed||(this.props.task_result.share_checks&&(n+=" \nReview the results below for more details."),this.props.task_result.share_checks||(n+=" Please try again!")),n)},botClass:function(){return this.props.task_result.attempts>0?this.props.task_result_snapshot.completed?"success":"failure":"default"},render:function(){var e,t,n,s,a,p;return n=_.map(_.sortBy(this.props.task_result.checks,"t_created_at"),e=>[e,this.checkTestResult(e)]),t=this.props.task_result.checks_count,a=_.filter(this.props.task_result.checks||[],e=>{var t;return!!(t=this.checkTestResult(e))&&t.passed}).length,l({className:`task-result ${this.props.appended?"appended":""} ${this.props.task_result.open?"":"collapsed"} ${this.props.task_result_snapshot.completed?"completed":""} ${this.props.reviewing?"reviewing":""}`,id:`task-result-${this.props.task_result.id}`,key:this.props.task_result.id},l({className:"task-inner"},l({className:"task-status"},this.props.reviewing?u({className:`fas status-icon ${this.props.task_result_snapshot.completed?"fa-check":"fa-times"}`}):React.createElement(o,{access_token:this.props.access_token,check:this.props.check,disabled:this.props.disabled,is_next_task:this.props.is_next_task,task_result:this.props.task_result,task_result_snapshot:this.props.task_result_snapshot}),(this.props.reviewing||this.props.task_result.open)&&this.props.task_result.grade?l({className:"task-score"},`${this.props.task_result_snapshot.score.toFixed(2)}`,`\nout of\n${this.props.task_result.weight.toFixed(2)}`):void 0),l({className:"task-info",key:this.props.task_result.t_updated_at},this.props.reviewing?this.markdownElm({contents:this.props.task_result.description,klass:"description"}):void 0,this.markdownElm({contents:this.props.task_result.contents,klass:"summary"})),l({className:`task-arrow ${this.props.task_result.open?"open":""}`,onClick:()=>i.toggleOpen(this.props.task_result.uid)},u({className:"fal fa-chevron-right"}),l({className:"task-badge is-hidden"},this.props.task_result.share_checks?`${t-a}`:u({className:"fas fa-bell"})))),this.props.task_result.open?l({className:"task-body"},this.state.codey_enabled?l({className:"bot-outer"},l({className:"bot-img-outer"},c({className:"bot-img",src:this.imgSource(`bots/${this.state.codey_persona}.svg`)})),this.markdownElm({contents:this.taskFeedback(t,a),klass:`bot-msg ${this.botClass()}`})):l(null,l({className:"task-body-header"},"Feedback"),this.markdownElm({contents:this.taskFeedback(t,a)})),(this.props.task_result.checks||[]).length?l({className:"task-checks"},l({className:"task-body-header"},"Checks"),function(){var t,i,o;for(o=[],s=t=0,i=n.length;t<i;s=++t)[e,p]=n[s],o.push(React.createElement(r,{check:e,test_result:p,key:s}));return o}()):void 0):void 0)}}),e.exports=a},function(e,t,n){var i,r;i=n(364),r="",e.exports=Reflux.createStore({listenables:i,appendHistory:function(e){if(e.trim().length)return r+=`${e}\n`,this.trigger(r)},clearHistory:function(){return r="",this.trigger(r)}})},function(e,t,n){var i;n(71),i=n(15),e.exports={componentWillMount:function(){if(this.unsubscribe_project=i.listen(this.checkPwd),!this.props.snippet.autosize)return this.setState({height:this.props.snippet.height})},checkPwd:function(e){if(e.pwd&&e.pwd!==this.state.pwd)return this.setState({pwd:e.pwd},()=>this.readFile())},curDetail:function(){return this.props.snippet.detail.replace(this.state.project.default_pwd,this.state.pwd)},valid:function(e){return e.path===this.curDetail()&&!e.image},saveFile:function(e){return this.refs.editor?this.refs.editor.save(e):e()},position:function(e){var t,n,i,r,o,s;if((t=_.find(this.state.files,function(t){return t.path===e.path}))&&(e.cursor=t.cursor),this.props.snippet.regex)for(o=new RegExp(this.props.snippet.regex),i=n=0,r=(s=e.contents.split(/\n/)).length;n<r;i=++n)s[i].match(o)&&(this.refs.editor.hasFocus()&&this.refs.editor.setCursor({line:i,ch:Infinity}),this.refs.editor.scrollToLine(i));else this.props.snippet.line?(this.refs.editor.hasFocus()&&this.refs.editor.setCursor({line:this.props.snippet.line-1,ch:Infinity}),this.refs.editor.scrollToLine(this.props.snippet.line-1)):(this.refs.editor.hasFocus()&&this.refs.editor.setCursor({line:0,ch:0}),this.refs.editor.scrollToLine(0));return!0}}},function(e,t,n){var i,r,o,s,a;i=n(23),({button:r,div:o,i:s,span:a}=ReactDOMFactories),e.exports={setCurrentStep:function(e){if(this.hideTooltips("#steps-sidebar .tooltip"),!this.state.step||this.state.step.id!==e.id)return this.setState({step:e,title:e.title}),this.state.list_shown&&this.setState({list_shown:!1}),this.ajaxPatch(routes.projects.update({access_token:this.props.access_token}),{data:{project:{current_step_id:e.id}},success:function(){return i.setProperty("current_step_id",e.id)}});this.setState({list_shown:!1})},nextStep:function(){var e;if(this.state.step)return e=this.state.step.position,_.find(_.sortBy(this.steps(),"position"),function(t){return t.position>e})},prevStep:function(){var e;if(this.state.step)return e=this.state.step.position,_.find(_.sortBy(this.steps(),"position"),function(t){return t.position===e-1})},loadNext:function(){return this.nextStep()?this.loadNextStep():this.state.project.next_lesson?this.setState({modal_shown:!0}):void 0},loadNextStep:function(){if(this.nextStep())return this.setCurrentStep(this.nextStep()),$(".js-reset-scroll").scrollTop(0)},loadPrevStep:function(){if(this.prevStep())return this.setCurrentStep(this.prevStep()),$(".js-reset-scroll").scrollTop(0)},stepCount:function(){return this.state.step&&this.state.step.position?a({className:"subtitle-1"},`${this.state.step.position} / ${this.state.project.step_count}`):null},internalNextStepBtn:function(){var e,t,n,i;return t=!(n=this.nextStep())&&this.state.project.next_lesson,i=n?"Next Step":t?"Next Lesson":"",e=n||!t?"fa-angle-right":"fa-angle-double-right",r({key:this.state.step?`${this.state.step.id}-next`:void 0,className:`btn btn-blue bold left-sidebar__footer-step-direction btn-${this.state.step&&this.stepComplete(this.state.step)?"action":"outline"}`,"data-toggle":"tooltip","data-placement":"right","data-original-title":i,onClick:this.loadNext,disabled:!(n||t)},s({className:`far ${e}`}))},nextStepBtn:function(){return this.props.internal?this.internalNextStepBtn():r({key:this.state.step?`${this.state.step.id}-next`:void 0,className:`btn btn-blue bold left-sidebar__footer-step-direction btn-${this.state.step&&this.stepComplete(this.state.step)?"action":"outline"}`,"data-toggle":"tooltip","data-placement":"auto right","data-title":"Next Step",onClick:this.loadNextStep,disabled:!this.nextStep()},s({className:"far fa-angle-right"}))},prevStepBtn:function(){return r({key:this.state.step?`${this.state.step.id}-prev`:void 0,className:"btn btn-outline btn-blue bold left-sidebar__footer-step-direction","data-toggle":"tooltip","data-placement":"auto left","data-title":"Previous Step",onClick:this.loadPrevStep,disabled:!this.prevStep()},s({className:"far fa-angle-left"}))},stepComplete:function(e){return(this.state.step_states||{})[e.id]||!1},stepsNavigation:function(){return o({className:"left-sidebar__footer left-sidebar__footer--steps-sidebar"},this.prevStepBtn(),this.stepCount(),this.nextStepBtn())}}},function(e,t){var n;n=Reflux.createActions(["setSubmissions"]),e.exports=n},function(e,t,n){var i,r,o,s,a,l,u,c,p;n(366),n(23),n(219),i=n(15),n(334),a=n(333),n(322),r=n(542),s=n(548),({button:l,div:u,i:c,span:p}=ReactDOMFactories),o=reactCreateClass({displayName:"TaskResults",mixins:[s,Reflux.connect(i,"project"),Reflux.connect(a,"task_results")],propTypes:{access_token:PropTypes.string.isRequired,appended:PropTypes.bool.isRequired,disabled:PropTypes.bool.isRequired,project_snapshot:PropTypes.object,reviewing:PropTypes.bool.isRequired,checkTask:PropTypes.func},getDefaultProps:function(){return{appended:!1,disabled:!1,reviewing:!1}},taskResultSnapshot:function(e){return this.props.project_snapshot?_.find(this.props.project_snapshot.task_result_snapshots,function(t){return t.project_task_result_id===e.id}):e.snapshot},render:function(){var e,t,n,i,o;return i=this.state.reviewing||this.props.reviewing,t=!0,n=-1,u({id:"task-results"},function(){var s,a,l,u;for(l=this.sortedTaskResults(),u=[],e=s=0,a=l.length;s<a;e=++s)o=l[e],t&&!o.complete&&(t=!1,n=e),u.push(React.createElement(r,{access_token:this.props.access_token,appended:this.props.appended||e>0,check:this.props.checkTask,disabled:this.props.disabled||i,is_next_task:e===n,key:e,project_snapshot:this.props.project_snapshot,reviewing:i,task_result:o,task_result_snapshot:this.taskResultSnapshot(o)}));return u}.call(this))}}),e.exports=o},function(e,t){e.exports={sortedTaskResults:function(){var e,t,n,i,r,o;for(i={},t=e=0,n=(r=this.state.project.ordered_task_uids).length;e<n;t=++e)o=r[t],i[o]||(i[o]=t+1);return _.sortBy(this.state.task_results,function(e){return i[e.uid]||e.task_created_at})}}},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h,m,g,b,y,v,x,w,k,S;i=n(811),o=n(367),s=n(368),({a:a,button:l,div:u,h2:c,hr:p,label:f,li:d,p:h,span:m,textarea:v,ul:S}=ReactDOMFactories),({table:g,tbody:b,td:y,th:x,thead:w,tr:k}=ReactDOMFactories),r=reactCreateClass({displayName:"GradingItems",mixins:[mixins.AjaxMixin,mixins.StringMixin,Reflux.connect(o,"quizzes"),Reflux.connect(s,"tasks")],propTypes:{access_token:PropTypes.string.isRequired,remote_editor:PropTypes.bool.isRequired},render:function(){var e,t;return u({className:"settings-screen-section"},u({className:"header-container"},c({className:"header"},"Task Grading Weights"),u({className:"description"},"Set the graded weights for your tasks below.")),u({className:"contents"},u({className:"row"},u({className:"col-xs-12"},this.state.tasks.length?g({className:"table"},w(null,k(null,x(null,"Enabled"),x(null,"Task"),x({width:"15%"},"Weight"))),b(null,function(){var e,n,r,o;for(o=[],e=0,n=(r=_.sortBy(this.state.tasks,"t_created_at")).length;e<n;e++)t=r[e],o.push(React.createElement(i,{type:"task",access_token:this.props.access_token,item:t,key:t.id}));return o}.call(this))):u({className:"callout info"},h(null,"No tasks have been created yet."))))),this.props.remote_editor?void 0:u(null,u({className:"header-container"},c({className:"header"},"Quizzes Grading Weights"),u({className:"description"},"Set the graded weights for your quizzes below.")),u({className:"contents"},u({className:"row"},u({className:"col-xs-12"},this.state.quizzes.length?g({className:"table"},w(null,k(null,x(null,"Enabled"),x(null,"Quiz"),x({width:"15%"},"Weight"))),b(null,function(){var t,n,r,o;for(o=[],t=0,n=(r=_.sortBy(this.state.quizzes,"t_created_at")).length;t<n;t++)e=r[t],o.push(React.createElement(i,{type:"quiz",access_token:this.props.access_token,item:e,key:e.id}));return o}.call(this))):u({className:"callout info"},h(null,"No quizzes have been created yet.")))))))}}),e.exports=r},function(e,t,n){var i,r;i=n(370),r=[],e.exports=Reflux.createStore({listenables:i,mixins:[mixins.ItemMixin],setSnippets:function(e){return r=e,this.trigger(r)},createSnippet:function(e){return r.push(e),this.trigger(r)},updateSnippet:function(e,t){return r=this.updateItem(r,e,t),this.trigger(r)},deleteSnippet:function(e){return r=this.deleteItem(r,e),this.trigger(r)},getInitialState:function(){return r}})},function(e,t){e.exports=Reflux.createActions(["setStacks","setStack"])},function(e,t,n){var i,r;i=n(551),r={stack:null,stacks:[]},e.exports=Reflux.createStore({listenables:i,setStacks:function(e){return r.stacks=e,this.trigger(r)},setStack:function(e){return r.stack=e,this.trigger(r)},getInitialState:function(){return r}})},function(e,t,n){var i,r;i=n(371),r={browser_simulations:[],code_patterns:[],command_tests:[],custom_tests:[],full_gui_tests:[],html_parsers:[],image_tests:[],issue_tests:[],python_gui_tests:[],test_cases:[],unit_tests:[],webpage_tests:[]},e.exports=Reflux.createStore({listenables:i,mixins:[mixins.ItemMixin],resetTests:function(){var e,t,n,i,o;for(i=[],e=0,t=(n=_.keys(r)).length;e<t;e++)o=n[e],i.push(r[o+"s"]=[]);return i},setTests:function(e,t){return r[e+"s"]=t,this.trigger(r)},createTest:function(e,t){return r[e+"s"].push(t),this.trigger(r)},updateTest:function(e,t,n){return r[e+"s"]=this.updateItem(r[e+"s"],t,n),this.trigger(r)},deleteTest:function(e,t){return r[e+"s"]=this.deleteItem(r[e+"s"],t),this.trigger(r)},getInitialState:function(){return r}})},function(e,t,n){e.exports={default:n(775),__esModule:!0}},function(e,t,n){"use strict";t.__esModule=!0;var i,r=n(339),o=(i=r)&&i.__esModule?i:{default:i};t.default=function(e){return function(){var t=e.apply(this,arguments);return new o.default(function(e,n){return function i(r,s){try{var a=t[r](s),l=a.value}catch(e){return void n(e)}if(!a.done)return o.default.resolve(l).then(function(e){i("next",e)},function(e){i("throw",e)});e(l)}("next")})}}},function(e,t,n){(function(t){var n="Expected a function",i=NaN,r="[object Symbol]",o=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt,c="object"==typeof t&&t&&t.Object===Object&&t,p="object"==typeof self&&self&&self.Object===Object&&self,f=c||p||Function("return this")(),d=Object.prototype.toString,h=Math.max,m=Math.min,g=function(){return f.Date.now()};function b(e,t,i){var r,o,s,a,l,u,c=0,p=!1,f=!1,d=!0;if("function"!=typeof e)throw new TypeError(n);function b(t){var n=r,i=o;return r=o=void 0,c=t,a=e.apply(i,n)}function _(e){var n=e-u;return void 0===u||n>=t||n<0||f&&e-c>=s}function x(){var e=g();if(_(e))return w(e);l=setTimeout(x,function(e){var n=t-(e-u);return f?m(n,s-(e-c)):n}(e))}function w(e){return l=void 0,d&&r?b(e):(r=o=void 0,a)}function k(){var e=g(),n=_(e);if(r=arguments,o=this,u=e,n){if(void 0===l)return function(e){return c=e,l=setTimeout(x,t),p?b(e):a}(u);if(f)return l=setTimeout(x,t),b(u)}return void 0===l&&(l=setTimeout(x,t)),a}return t=v(t)||0,y(i)&&(p=!!i.leading,s=(f="maxWait"in i)?h(v(i.maxWait)||0,t):s,d="trailing"in i?!!i.trailing:d),k.cancel=function(){void 0!==l&&clearTimeout(l),c=0,r=u=o=l=void 0},k.flush=function(){return void 0===l?a:w(g())},k}function y(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function v(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&d.call(e)==r}(e))return i;if(y(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=y(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=a.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):s.test(e)?i:+e}e.exports=function(e,t,i){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError(n);return y(i)&&(r="leading"in i?!!i.leading:r,o="trailing"in i?!!i.trailing:o),b(e,t,{leading:r,maxWait:t,trailing:o})}}).call(this,n(12))},function(e,t,n){"use strict";(function(e){var n=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some(function(e,i){return e[0]===t&&(n=i,!0)}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),i=this.__entries__[n];return i&&i[1]},t.prototype.set=function(t,n){var i=e(this.__entries__,t);~i?this.__entries__[i][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,i=e(n,t);~i&&n.splice(i,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,i=this.__entries__;n<i.length;n++){var r=i[n];e.call(t,r[1],r[0])}},t}()}(),i="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,r=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),o="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(r):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},s=2;var a=20,l=["top","right","bottom","left","width","height","size","weight"],u="undefined"!=typeof MutationObserver,c=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,i=!1,r=0;function a(){n&&(n=!1,e()),i&&u()}function l(){o(a)}function u(){var e=Date.now();if(n){if(e-r<s)return;i=!0}else n=!0,i=!1,setTimeout(l,t);r=e}return u}(this.refresh.bind(this),a)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},e.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),u?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;l.some(function(e){return!!~n.indexOf(e)})&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),p=function(e,t){for(var n=0,i=Object.keys(t);n<i.length;n++){var r=i[n];Object.defineProperty(e,r,{value:t[r],enumerable:!1,writable:!1,configurable:!0})}return e},f=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||r},d=v(0,0,0,0);function h(e){return parseFloat(e)||0}function m(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(t,n){return t+h(e["border-"+n+"-width"])},0)}function g(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return d;var i=f(e).getComputedStyle(e),r=function(e){for(var t={},n=0,i=["top","right","bottom","left"];n<i.length;n++){var r=i[n],o=e["padding-"+r];t[r]=h(o)}return t}(i),o=r.left+r.right,s=r.top+r.bottom,a=h(i.width),l=h(i.height);if("border-box"===i.boxSizing&&(Math.round(a+o)!==t&&(a-=m(i,"left","right")+o),Math.round(l+s)!==n&&(l-=m(i,"top","bottom")+s)),!function(e){return e===f(e).document.documentElement}(e)){var u=Math.round(a+o)-t,c=Math.round(l+s)-n;1!==Math.abs(u)&&(a-=u),1!==Math.abs(c)&&(l-=c)}return v(r.left,r.top,a,l)}var b="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof f(e).SVGGraphicsElement}:function(e){return e instanceof f(e).SVGElement&&"function"==typeof e.getBBox};function y(e){return i?b(e)?function(e){var t=e.getBBox();return v(0,0,t.width,t.height)}(e):g(e):d}function v(e,t,n,i){return{x:e,y:t,width:n,height:i}}var _=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=v(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=y(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),x=function(){return function(e,t){var n,i,r,o,s,a,l,u=(i=(n=t).x,r=n.y,o=n.width,s=n.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(a.prototype),p(l,{x:i,y:r,width:o,height:s,top:r,right:i+o,bottom:s+r,left:i}),l);p(this,{target:e,contentRect:u})}}(),w=function(){function e(e,t,i){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=i}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new _(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new x(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),k="undefined"!=typeof WeakMap?new WeakMap:new n,S=function(){return function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=c.getInstance(),i=new w(t,n,this);k.set(this,i)}}();["observe","unobserve","disconnect"].forEach(function(e){S.prototype[e]=function(){var t;return(t=k.get(this))[e].apply(t,arguments)}});var C=void 0!==r.ResizeObserver?r.ResizeObserver:S;t.a=C}).call(this,n(12))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){n(102),n(103),n(175),n(178),n(180),n(184),n(185),n(221),n(189),n(233),n(235),n(598),window.Toggle=n(297).default,window.routes=n(315),window.iRoutes=n(134),window.mixins=n(301),window.Project=n(600)},function(e,t,n){(function(t){e.exports=t.autosize=n(599)}).call(this,n(12))},function(e,t,n){var i,r,o;
/*!
	autosize 4.0.2
	license: MIT
	http://www.jacklmoore.com/autosize
*/r=[e,t],void 0===(o="function"==typeof(i=function(e,t){"use strict";var n,i,r="function"==typeof Map?new Map:(n=[],i=[],{has:function(e){return n.indexOf(e)>-1},get:function(e){return i[n.indexOf(e)]},set:function(e,t){-1===n.indexOf(e)&&(n.push(e),i.push(t))},delete:function(e){var t=n.indexOf(e);t>-1&&(n.splice(t,1),i.splice(t,1))}}),o=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){o=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function s(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!r.has(e)){var t=null,n=null,i=null,s=function(){e.clientWidth!==n&&p()},a=function(t){window.removeEventListener("resize",s,!1),e.removeEventListener("input",p,!1),e.removeEventListener("keyup",p,!1),e.removeEventListener("autosize:destroy",a,!1),e.removeEventListener("autosize:update",p,!1),Object.keys(t).forEach(function(n){e.style[n]=t[n]}),r.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",a,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",p,!1),window.addEventListener("resize",s,!1),e.addEventListener("input",p,!1),e.addEventListener("autosize:update",p,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",r.set(e,{destroy:a,update:p}),"vertical"===(l=window.getComputedStyle(e,null)).resize?e.style.resize="none":"both"===l.resize&&(e.style.resize="horizontal"),t="content-box"===l.boxSizing?-(parseFloat(l.paddingTop)+parseFloat(l.paddingBottom)):parseFloat(l.borderTopWidth)+parseFloat(l.borderBottomWidth),isNaN(t)&&(t=0),p()}var l;function u(t){var n=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=n,e.style.overflowY=t}function c(){if(0!==e.scrollHeight){var i=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(e),r=document.documentElement&&document.documentElement.scrollTop;e.style.height="",e.style.height=e.scrollHeight+t+"px",n=e.clientWidth,i.forEach(function(e){e.node.scrollTop=e.scrollTop}),r&&(document.documentElement.scrollTop=r)}}function p(){c();var t=Math.round(parseFloat(e.style.height)),n=window.getComputedStyle(e,null),r="content-box"===n.boxSizing?Math.round(parseFloat(n.height)):e.offsetHeight;if(r<t?"hidden"===n.overflowY&&(u("scroll"),c(),r="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==n.overflowY&&(u("hidden"),c(),r="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),i!==r){i=r;var s=o("autosize:resized");try{e.dispatchEvent(s)}catch(e){}}}}function a(e){var t=r.get(e);t&&t.destroy()}function l(e){var t=r.get(e);t&&t.update()}var u=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((u=function(e){return e}).destroy=function(e){return e},u.update=function(e){return e}):((u=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return s(e)}),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],a),e},u.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],l),e}),t.default=u,e.exports=t.default})?i.apply(t,r):i)||(e.exports=o)},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h,m,g,b,y,v,x,w,k,S,C,E,T,A,N,M,R,O,L,P,D,I,F,j,B;n(107),p=n(604),d=n(605),l=n(812),i=n(23),g=n(15),s=n(43),a=n(110),c=n(136),y=n(205),w=n(543),o=n(324),h=n(502),u=n(71),m=n(365),b=n(99),v=n(219),x=n(364),r=n(100),({a:k,button:S,div:C,em:E,form:T,h4:A,input:N,li:M,p:R,span:O,ul:B}=ReactDOMFactories),({table:L,th:I,tbody:P,thead:F,tr:j,td:D}=ReactDOMFactories),f=reactCreateClass({displayName:"Project",mixins:[mixins.AjaxMixin,mixins.FormMixin,mixins.ImageMixin,mixins.ItemMixin,mixins.LockMixin,mixins.StringMixin,mixins.TooltipMixin,mixins.ViewMixin,d,l,r,Reflux.connect(g,"project"),Reflux.connect(s,"container"),Reflux.connect(a,"content"),Reflux.connect(y,"tabs"),Reflux.connect(w,"terminal_history"),Reflux.connectFilter(c,"files",function(e){return e.files}),Reflux.connectFilter(c,"path",function(e){return e.path}),Reflux.connectFilter(s,"dead",function(e){return e.dead}),Reflux.connectFilter(a,"github_authed",function(e){return e.github_authed}),Reflux.connectFilter(a,"editor",function(e){return e.editor}),Reflux.connectFilter(a,"publishable_key",function(e){return e.publishable_key})],propTypes:{access_token:PropTypes.string.isRequired,editing:PropTypes.bool,id:PropTypes.string.isRequired,iframe:PropTypes.bool,internal:PropTypes.bool,lock_id:PropTypes.number,maintenance:PropTypes.bool.isRequired,pubnub_sub_key:PropTypes.string.isRequired,pubnub_token:PropTypes.string.isRequired,remote_editor:PropTypes.bool,reviewing:PropTypes.bool},getInitialState:function(){return{actions_modal_options:null,building:!1,clicked:!1,editing:!1,exiting:!1,first_help:!1,help:[],left_sidebar:null,loading:!0,loading_files:!1,loading_tabs:!1,prev_sidebar_state:null,reload:!1,reviewing:!1,saving:!0,time_started:null}},getDefaultProps:function(){return{editing:!1,iframe:!1,internal:!1,remote_editor:!1,reviewing:!1}},componentWillMount:function(){var e;return this.props.editing&&this.setState({editing:!0,left_sidebar:"stack"}),$(document).ready(()=>{if(this.props.reviewing)return $.alert("You are viewing a live project! Changes you make WILL be persisted.","danger")}),e=["container","projects-current_score","projects-steps-states","projects-tasks-results"],h.connectToPubNub(this.props.access_token,this.props.pubnub_sub_key,this.props.pubnub_token,e),this.ajaxGet(routes.projects.show({access_token:this.props.access_token}),{success:e=>(this.props.editing||e.name||(e.name="Untitled Project"),e.editing=this.props.editing,i.setProperties(e),b.setTabs(e.tabs),this.setLeftSidebar(e),e.stack&&o.requestSandbox(this.props.access_token),this.props.editing&&this.loadEditor(e,!0),this.safeEditorSetDirectory(e.default_pwd),this.stopLoading(),setTimeout(this.loadHelp,500))}),this.ajaxGet(routes.projects.get_quiz_attempts({access_token:this.props.access_token}),{success:function(e){return m.setQuizAttempts(e)}})},componentDidMount:function(){return window.addEventListener("keydown",this.checkAction,!1),window.addEventListener("click",()=>this.setState({clicked:!0}),{once:!0}),window.addEventListener("drop",function(e){return e.preventDefault()}),window.addEventListener("dragover",function(e){return e.preventDefault()}),$(window).on("beforeunload",this.onPageUnload),$(window).on("blur",this.saveTimeSpent),$(window).on("focus",this.restartTimer),$(window).on("focus",this.refreshContainer),setTimeout(this.saveContainerState,3e5),this.restartTimer(),this.refreshContainer(),this.unsubscribe_tabs=y.listen(this.onTabsChange),this.first_help=!1},shouldComponentUpdate:function(e,t){return this.state.loading||this.state.editing||!this.state.container.token||t.actions_modal_options!==this.state.actions_modal_options||t.building!==this.state.building||t.color_scheme!==this.state.project.color_scheme||t.dead!==this.state.dead||t.editing!==this.state.editing||t.project.grading_enabled!==this.state.project.grading_enabled||t.help!==this.state.help||t.loading_files!==this.state.loading_files||t.loading_tabs!==this.state.loading_tabs||t.m_used!==this.state.m_used||t.project.pwd!==this.state.project.pwd||t.reviewing!==this.state.reviewing||t.loading_tabs!==this.state.loading_tabs||t.left_sidebar!==this.state.left_sidebar||t.project.quizzes_enabled!==this.state.project.quizzes_enabled||t.project.settings_state!==this.state.project.settings_state||t.project.tabs_enabled!==this.state.project.tabs_enabled||t.tabs!==this.state.tabs||t.project.panes!==this.state.project.panes||t.project.steps_enabled!==this.state.project.steps_enabled||t.project.tasks_enabled!==this.state.project.tasks_enabled},componentDidUpdate:function(e,t){var n,i,r,o,s,a,l,u;if(t.editing!==this.state.editing&&(this.state.editing&&b.unhideTabs(),this.state.prev_sidebar_state?(a=this.state.left_sidebar,this.setState({left_sidebar:this.state.prev_sidebar_state},()=>this.setState({prev_sidebar_state:a}))):this.setState({prev_sidebar_state:this.state.left_sidebar},()=>this.setLeftSidebar(this.state.project))),!t.container.token&&this.state.container.token){for(this.initializeDropzone(),this.showClickThroughIntro(!1),n=0,r=(l=document.querySelectorAll(".reflex-layout.vertical > .reflex-splitter")).length;n<r;n++)l[n].addEventListener("mousedown",()=>this.handleResizeStart("col-resize"),!1);for(i=0,o=(u=document.querySelectorAll(".reflex-layout.horizontal > .reflex-splitter")).length;i<o;i++)u[i].addEventListener("mousedown",()=>this.handleResizeStart("row-resize"),!1);window.addEventListener("mouseup",this.handleResizeEnd,!1)}if(this.initializeTooltips("#left-sidebar-nav-inner"),(s=$('[data-toggle="popover"]')).popover&&s.popover({trigger:"hover",template:'<div class="popover" role="tooltip"><h3 class="popover-title"></h3> <div class="popover-content"></div></div>'}),t.pwd&&t.pwd!==this.state.project.pwd&&this.startProxy(this.state.container.root_hostname,this.state.container.token,{pwd:this.state.project.pwd}),t.id&&!t.stack&&this.state.project.stack?this.setState({reload:!0}):t.stack&&t.stack.identifier!==this.state.project.stack.identifier&&$.alert("Reload your content to load the new stack environment."),t.id&&!t.stack&&this.state.project.stack)return this.ajaxGet(routes.projects.show({access_token:this.props.access_token}),{data:{reload:!0},success:e=>this.loadEditor(e,!1)})},componentWillUnmount:function(){return this.container_conn.off("value",this.container_ref),this.unsubscribe_tabs()},onTabsChange:function(e){return this.removePreviousHintTour(),setTimeout(()=>this.showClickThroughIntro(!1),10)},checkAction:function(e){var t,n;return t=e.shiftKey&&13===e.keyCode,n=(e.metaKey||e.ctrlKey)&&-1!==[82,83].indexOf(e.which),!(!t&&!n)&&(e.preventDefault(),e.stopPropagation(),t&&(this.refs["steps-sidebar"]?this.refs["steps-sidebar"].checkNextAction():this.refs["task-results"]&&this.refs["task-results"].checkNextAction()),!0)},handleResizeStart:function(e){return $(document.documentElement).css({"pointer-events":"none",cursor:e})},handleResizeEnd:function(){return $(document.documentElement).css("pointer-events","auto")},loadHelp:function(){return this.ajaxGet(routes.help_topics.index({access_token:this.props.access_token}),{success:e=>{var t,n,i,r;for(t=[],this.first_help=this.state.project.codey_enabled&&!_.find(e,"seen"),n=0,i=e.length;n<i;n++)(!(r=e[n]).element&&!r.qualifier||r.element||r.qualifier&&this.state.project[r.qualifier])&&t.push({contents:r.contents,element:r.element,id:r.id,seen:r.seen,summary:r.summary,title:r.title,t_created_at:r.t_created_at});return this.setState({help:t})}})},restartTimer:function(){if(!document.hidden)return this.setState({time_started:Math.floor(Date.now()/1e3)})},stopLoading:function(){return setTimeout(()=>this.setState({loading:!1}),1e3)},saveContainerState:function(){var e;return this.state.container.token&&!this.props.editing&&((e={}).history=this.state.terminal_history,this.ajaxPatch(routes.projects.save_container({access_token:this.props.access_token}),{data:e,success:function(){return x.clearHistory()}})),setTimeout(this.saveContainerState,3e5)},onPageUnload:function(e){return u.disconnectSockets(),this.setState({exiting:!0},()=>{if(this.saveContainerState(),this.state.container.shutdown_token&&this.ajaxDelete(routes.projects.kill_container({access_token:this.props.access_token}),{data:{token:this.state.container.shutdown_token}}),this.props.editing)return this.destroyLock(this.props.lock_id)})},showClickThroughIntro:function(e){var t;return this.removePreviousHintTour(),t=this.buildIntroJSTour(e),this.startIntroJSTour(t)},elementVisible:function(e){return _.find(document.querySelectorAll(e),function(e){return e&&e.getBoundingClientRect().width>0})},buildIntroJSTour:function(e){var t,n,i,r,o,s,a;for($("body").css({overflow:"hidden"}),n=[],i=0,r=(s=_.sortBy(this.state.help,"t_created_at")).length;i<r;i++)!(a=s[i]).element||a.seen&&!e||(t=this.elementVisible(a.element))&&(o=/(\-icon|button)/.test(a.element)?"top-right":"middle-middle",this.first_help&&(this.first_help=!1,"<p>Hey, I'm Codey! I'm a code bot here to give you feedback as you work through your project.</p><br><p>To get started, let's take a tour of your project!</p>",n.push({element:t,hint:this.wrapHelpTopic("<p>Hey, I'm Codey! I'm a code bot here to give you feedback as you work through your project.</p><br><p>To get started, let's take a tour of your project!</p>"),hintPosition:o,help_topic_id:a.id})),n.push({element:t,hint:this.state.project.codey_enabled?this.wrapHelpTopic(a.summary):a.summary,hintPosition:o,help_topic_id:a.id}));return this.sortHintsByOrderTheyAppearInDOM(n)},sortHintsByOrderTheyAppearInDOM:function(e){return e.sort(function(e,t){var n;return k=e.element,n=t.element,k===n?0:k.compareDocumentPosition?2&k.compareDocumentPosition(n)?1:-1:k.sourceIndex-n.sourceIndex})},startIntroJSTour:function(e){var t,n;if(e.length)return(t=p("#project")).setOptions({hints:e,hintButtonLabel:"Okay"}),t.addHints(),t.hideHints(),t.showHint(0),setTimeout(()=>{if(document.querySelector('.introjs-hint[data-step="0"]'))return t.showHintDialog(0)},15),n=this,t.onhintclose(function(e){if(n.setTopicSeen(this._introItems[e].help_topic_id),this._introItems[e+1])return this.showHint(e+1),this.showHintDialog(e+1)})},setTopicSeen:function(e){var t;return this.ajaxPost(routes.help_topics.views.create({access_token:this.props.access_token,id:e}),{}),t=_.clone(this.state.help),_.find(t,function(t){return t.id===e}).seen=!0,this.setState({help:t})},removePreviousHintTour:function(){var e;if(e=document.querySelector(".introjs-hints"))return e.parentNode.removeChild(e)},wrapHelpTopic:function(e){return`<div class='bot-outer'> <div class='bot-img-outer'> <img class='bot-img' src='${this.imgSource(`bots/${this.state.project.codey_persona}.svg`)}' /> </div> <div class='bot-msg no-bubble'>${e}</div> </div>`},uploadModalDisplayed:function(){return document.getElementsByClassName("fsp-picker--active").length>0},uploadsEnabled:function(){return(this.state.project.files_enabled||this.state.editing)&&!this.uploadModalDisplayed()},initializeDropzone:function(){var e,t,n,i,r,o,s,a,l,u,c;if(c=(e=>{var t,n;if(!this.ignore_drag&&!this.uploadModalDisplayed())return t=document.getElementById("dropzone"),n=document.getElementById("dropzone__cancel"),t&&(t.style.visibility="visible"),n?n.style.visibility="visible":void 0}),u=function(){var e,t;if(e=document.getElementById("dropzone"),t=document.getElementById("dropzone__cancel"),e&&(e.style.visibility=null),t)return t.style.visibility=null},i=(e=>{var t,n,i;return e.preventDefault(),t=document.getElementById("dropzone").getBoundingClientRect(),n=e.clientX||e.x,i=e.clientY||e.y,t.left+t.width-n<=30||n<=30||t.top+t.height-i<=10||i<=30?u():this.dragLeaveTimeout=setTimeout(u,200)}),e=(e=>{if(this.dragLeaveTimeout&&clearTimeout(this.dragLeaveTimeout),e.preventDefault(),!this.ignore_drag)return this.uploadsEnabled()?e.dataTransfer.dropEffect="copy":void 0}),a=(e=>{if(e.preventDefault(),u(),this.uploadsEnabled())return this.toggleActionsModal({action:"uploading",event:e})}),l=(e=>(e.preventDefault(),e.target.classList.remove("active"),u())),s=(e=>{if(e.preventDefault(),this.dragLeaveTimeout)return clearTimeout(this.dragLeaveTimeout)}),o=(e=>(e.preventDefault(),e.target.classList.add("active"))),r=(e=>(e.target.classList.remove("active"),i(e))),window.addEventListener("dragstart",()=>this.ignore_drag=!0),window.addEventListener("dragend",()=>this.ignore_drag=!1),window.addEventListener("dragenter",c),(t=document.getElementById("dropzone"))&&(t.addEventListener("dragenter",e),t.addEventListener("dragover",e),t.addEventListener("drop",a),t.addEventListener("dragleave",i)),n=document.getElementById("dropzone__cancel"))return n.addEventListener("dragenter",o),n.addEventListener("dragover",s),n.addEventListener("drop",l),n.addEventListener("dragleave",r)},performAction:function({route:e,data:t,success:n,error:i}){var r,o;if(!this.disabled())return o={current_file:((this.state.project.active_file||{}).path||"").replace(`${this.state.project.default_pwd}/`,""),filenames:this.state.project.filenames,history:this.state.terminal_history},r="object"==typeof t?Object.assign(t,o):o,this.saveTimeSpent(),this.ajaxPost(e,{data:r,success:function(e){if(x.clearHistory(),n)return n(e)},error:function(e){if(i)return i(e)}})},checkTask:function(e){return v.setChecking(e,!0,this.props.access_token),i.setProperty("current_score",null),this.performAction({route:routes.projects.check_task({access_token:this.props.access_token}),data:{project_task_id:e},success:function(e){return i.setProperty("task_runs",e.task_runs)}})},saveTimeSpent:function(e){var t;this.state.time_started&&(t=Math.floor(Date.now()/1e3)-this.state.time_started,this.ajaxPatch(routes.projects.log_time({access_token:this.props.access_token}),{data:{time_spent:t},success:e=>(this.setState({time_started:Math.floor(Date.now()/1e3)}),i.setProperty("time_spent",e.time_spent))}))},refreshContainer:function(){return this.state.container.token&&document.hasFocus()&&this.ajaxPost(routes.projects.refresh_container({access_token:this.props.access_token}),{}),setTimeout(this.refreshContainer,6e4)},toggleActionsModal:function(e){var t;return t={access_token:this.props.access_token,action:"none",editing:this.state.editing&&!this.props.remote_editor,files_enabled:this.state.project.files_enabled,in_content_editor:this.props.editing,lite_mode:this.state.project.lite_mode_code_editor,reviewing:this.state.reviewing,root:this.state.project.default_pwd,toggleActionsModal:this.toggleActionsModal},this.setState({actions_modal_options:Object.assign(t,e)})},toggleSidebar:function(){var e;return e=!this.state.project.directory_open,i.setProperty("directory_open",e),this.ajaxPatch(routes.projects.update({access_token:this.props.access_token}),{data:{project:{directory_open:e}}})},enterReview:function(){return this.setState({reviewing:!0}),u.setFiles([]),this.state.project.directory_open||this.toggleSidebar(),b.hideTabs(this.state.tabs)},exitReview:function(e){if(this.state.reviewing)return e||u.disconnectSocket(),this.setState({reviewing:!1}),u.setFiles([]),this.safeEditorSetDirectory(this.state.project.default_pwd),b.restoreTabs()},toggleReview:function(e){return e&&e.preventDefault(),this.state.reviewing?this.exitReview():this.enterReview()},safeEditorSetDirectory:function(e){return i.setProperty("pwd",e),u.setDirectory(e)},setLeftSidebar:function(e){return e.steps_enabled?this.setState({left_sidebar:"steps"}):e.tasks_enabled?this.setState({left_sidebar:"tasks_results"}):this.setState({left_sidebar:"workspace"})}}),e.exports=f},function(e,t,n){(function(e,i){var r=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(a(arguments[n]));return t.join(" ")}n=1;for(var i=arguments,o=i.length,s=String(e).replace(r,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(e){return"[Circular]"}default:return e}}),l=i[n];n<o;l=i[++n])m(l)||!_(l)?s+=" "+l:s+=" "+a(l);return s},t.deprecate=function(n,r){if(y(e.process))return function(){return t.deprecate(n,r).apply(this,arguments)};if(!0===i.noDeprecation)return n;var o=!1;return function(){if(!o){if(i.throwDeprecation)throw new Error(r);i.traceDeprecation?console.trace(r):console.error(r),o=!0}return n.apply(this,arguments)}};var o,s={};function a(e,n){var i={seen:[],stylize:u};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),h(n)?i.showHidden=n:n&&t._extend(i,n),y(i.showHidden)&&(i.showHidden=!1),y(i.depth)&&(i.depth=2),y(i.colors)&&(i.colors=!1),y(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=l),c(i,e,i.depth)}function l(e,t){var n=a.styles[t];return n?"["+a.colors[n][0]+"m"+e+"["+a.colors[n][1]+"m":e}function u(e,t){return e}function c(e,n,i){if(e.customInspect&&n&&k(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var r=n.inspect(i,e);return b(r)||(r=c(e,r,i)),r}var o=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(g(t))return e.stylize(""+t,"number");if(h(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(e,n);if(o)return o;var s=Object.keys(n),a=function(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(n)),w(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return p(n);if(0===s.length){if(k(n)){var l=n.name?": "+n.name:"";return e.stylize("[Function"+l+"]","special")}if(v(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(x(n))return e.stylize(Date.prototype.toString.call(n),"date");if(w(n))return p(n)}var u,_="",S=!1,C=["{","}"];(d(n)&&(S=!0,C=["[","]"]),k(n))&&(_=" [Function"+(n.name?": "+n.name:"")+"]");return v(n)&&(_=" "+RegExp.prototype.toString.call(n)),x(n)&&(_=" "+Date.prototype.toUTCString.call(n)),w(n)&&(_=" "+p(n)),0!==s.length||S&&0!=n.length?i<0?v(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),u=S?function(e,t,n,i,r){for(var o=[],s=0,a=t.length;s<a;++s)T(t,String(s))?o.push(f(e,t,n,i,String(s),!0)):o.push("");return r.forEach(function(r){r.match(/^\d+$/)||o.push(f(e,t,n,i,r,!0))}),o}(e,n,i,a,s):s.map(function(t){return f(e,n,i,a,t,S)}),e.seen.pop(),function(e,t,n){if(e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(u,_,C)):C[0]+_+C[1]}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,i,r,o){var s,a,l;if((l=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]}).get?a=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(a=e.stylize("[Setter]","special")),T(i,r)||(s="["+r+"]"),a||(e.seen.indexOf(l.value)<0?(a=m(n)?c(e,l.value,null):c(e,l.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n")):a=e.stylize("[Circular]","special")),y(s)){if(o&&r.match(/^\d+$/))return a;(s=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function d(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function m(e){return null===e}function g(e){return"number"==typeof e}function b(e){return"string"==typeof e}function y(e){return void 0===e}function v(e){return _(e)&&"[object RegExp]"===S(e)}function _(e){return"object"==typeof e&&null!==e}function x(e){return _(e)&&"[object Date]"===S(e)}function w(e){return _(e)&&("[object Error]"===S(e)||e instanceof Error)}function k(e){return"function"==typeof e}function S(e){return Object.prototype.toString.call(e)}function C(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(y(o)&&(o=i.env.NODE_DEBUG||""),e=e.toUpperCase(),!s[e])if(new RegExp("\\b"+e+"\\b","i").test(o)){var n=i.pid;s[e]=function(){var i=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,i)}}else s[e]=function(){};return s[e]},t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=d,t.isBoolean=h,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=g,t.isString=b,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=y,t.isRegExp=v,t.isObject=_,t.isDate=x,t.isError=w,t.isFunction=k,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(602);var E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,n;console.log("%s - %s",(e=new Date,n=[C(e.getHours()),C(e.getMinutes()),C(e.getSeconds())].join(":"),[e.getDate(),E[e.getMonth()],n].join(" ")),t.format.apply(t,arguments))},t.inherits=n(603),t._extend=function(e,t){if(!t||!_(t))return e;for(var n=Object.keys(t),i=n.length;i--;)e[n[i]]=t[n[i]];return e}}).call(this,n(12),n(344))},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){var i;i=function(){function e(e){this._targetElement=e,this._introItems=[],this._options={nextLabel:"Next &rarr;",prevLabel:"&larr; Back",skipLabel:"Skip",doneLabel:"Done",hidePrev:!1,hideNext:!1,tooltipPosition:"bottom",tooltipClass:"",highlightClass:"",exitOnEsc:!0,exitOnOverlayClick:!0,showStepNumbers:!0,keyboardNavigation:!0,showButtons:!0,showBullets:!0,showProgress:!1,scrollToElement:!0,scrollTo:"element",scrollPadding:30,overlayOpacity:.8,positionPrecedence:["bottom","top","right","left"],disableInteraction:!1,helperElementPadding:10,hintPosition:"top-middle",hintButtonLabel:"Got it",hintAnimation:!0,buttonClass:"introjs-button"}}function t(e,t){var s=e.querySelectorAll("*[data-intro]"),l=[];if(this._options.steps)b(this._options.steps,function(e){var t=r(e);if(t.step=l.length+1,"string"==typeof t.element&&(t.element=document.querySelector(t.element)),void 0===t.element||null===t.element){var n=document.querySelector(".introjsFloatingElement");null===n&&((n=document.createElement("div")).className="introjsFloatingElement",document.body.appendChild(n)),t.element=n,t.position="floating"}t.scrollTo=t.scrollTo||this._options.scrollTo,void 0===t.disableInteraction&&(t.disableInteraction=this._options.disableInteraction),null!==t.element&&l.push(t)}.bind(this));else{var u;if(s.length<1)return!1;b(s,function(e){if((!t||e.getAttribute("data-intro-group")===t)&&"none"!==e.style.display){var n=parseInt(e.getAttribute("data-step"),10);u=void 0!==e.getAttribute("data-disable-interaction")?!!e.getAttribute("data-disable-interaction"):this._options.disableInteraction,n>0&&(l[n-1]={element:e,intro:e.getAttribute("data-intro"),step:parseInt(e.getAttribute("data-step"),10),tooltipClass:e.getAttribute("data-tooltipclass"),highlightClass:e.getAttribute("data-highlightclass"),position:e.getAttribute("data-position")||this._options.tooltipPosition,scrollTo:e.getAttribute("data-scrollto")||this._options.scrollTo,disableInteraction:u})}}.bind(this));var c=0;b(s,function(e){if((!t||e.getAttribute("data-intro-group")===t)&&null===e.getAttribute("data-step")){for(;void 0!==l[c];)c++;u=void 0!==e.getAttribute("data-disable-interaction")?!!e.getAttribute("data-disable-interaction"):this._options.disableInteraction,l[c]={element:e,intro:e.getAttribute("data-intro"),step:c+1,tooltipClass:e.getAttribute("data-tooltipclass"),highlightClass:e.getAttribute("data-highlightclass"),position:e.getAttribute("data-position")||this._options.tooltipPosition,scrollTo:e.getAttribute("data-scrollto")||this._options.scrollTo,disableInteraction:u}}}.bind(this))}for(var p=[],f=0;f<l.length;f++)l[f]&&p.push(l[f]);return(l=p).sort(function(e,t){return e.step-t.step}),this._introItems=l,function(e){var t=document.createElement("div"),n="",i=this;if(t.className="introjs-overlay",e.tagName&&"body"!==e.tagName.toLowerCase()){var r=D(e);r&&(n+="width: "+r.width+"px; height:"+r.height+"px; top:"+r.top+"px;left: "+r.left+"px;",t.style.cssText=n)}else n+="top: 0;bottom: 0; left: 0;right: 0;position: fixed;",t.style.cssText=n;return e.appendChild(t),t.onclick=function(){!0===i._options.exitOnOverlayClick&&a.call(i,e)},window.setTimeout(function(){n+="opacity: "+i._options.overlayOpacity.toString()+";",t.style.cssText=n},10),!0}.call(this,e)&&(o.call(this),this._options.keyboardNavigation&&_.on(window,"keydown",i,this,!0),_.on(window,"resize",n,this,!0)),!1}function n(){this.refresh.call(this)}function i(e){var t=null===e.code?e.which:e.code;if(null===t&&(t=null===e.charCode?e.keyCode:e.charCode),"Escape"!==t&&27!==t||!0!==this._options.exitOnEsc){if("ArrowLeft"===t||37===t)s.call(this);else if("ArrowRight"===t||39===t)o.call(this);else if("Enter"===t||13===t){var n=e.target||e.srcElement;n&&n.className.match("introjs-prevbutton")?s.call(this):n&&n.className.match("introjs-skipbutton")?(this._introItems.length-1===this._currentStep&&"function"==typeof this._introCompleteCallback&&this._introCompleteCallback.call(this),a.call(this,this._targetElement)):n&&n.getAttribute("data-stepnumber")?n.click():o.call(this),e.preventDefault?e.preventDefault():e.returnValue=!1}}else a.call(this,this._targetElement)}function r(e){if(null===e||"object"!=typeof e||void 0!==e.nodeType)return e;var t={};for(var n in e)void 0!==window.jQuery&&e[n]instanceof window.jQuery?t[n]=e[n]:t[n]=r(e[n]);return t}function o(){this._direction="forward",void 0!==this._currentStepNumber&&b(this._introItems,function(e,t){e.step===this._currentStepNumber&&(this._currentStep=t-1,this._currentStepNumber=void 0)}.bind(this)),void 0===this._currentStep?this._currentStep=0:++this._currentStep;var e=this._introItems[this._currentStep],t=!0;return void 0!==this._introBeforeChangeCallback&&(t=this._introBeforeChangeCallback.call(this,e.element)),!1===t?(--this._currentStep,!1):this._introItems.length<=this._currentStep?("function"==typeof this._introCompleteCallback&&this._introCompleteCallback.call(this),void a.call(this,this._targetElement)):void h.call(this,e)}function s(){if(this._direction="backward",0===this._currentStep)return!1;--this._currentStep;var e=this._introItems[this._currentStep],t=!0;if(void 0!==this._introBeforeChangeCallback&&(t=this._introBeforeChangeCallback.call(this,e.element)),!1===t)return++this._currentStep,!1;h.call(this,e)}function a(e,t){var r=!0;if(void 0!==this._introBeforeExitCallback&&(r=this._introBeforeExitCallback.call(this)),t||!1!==r){var o=e.querySelectorAll(".introjs-overlay");o&&o.length&&b(o,function(e){e.style.opacity=0,window.setTimeout(function(){this.parentNode&&this.parentNode.removeChild(this)}.bind(e),500)}.bind(this));var s=e.querySelector(".introjs-helperLayer");s&&s.parentNode.removeChild(s);var a=e.querySelector(".introjs-tooltipReferenceLayer");a&&a.parentNode.removeChild(a);var l=e.querySelector(".introjs-disableInteraction");l&&l.parentNode.removeChild(l);var u=document.querySelector(".introjsFloatingElement");u&&u.parentNode.removeChild(u),g(),b(document.querySelectorAll(".introjs-fixParent"),function(e){w(e,/introjs-fixParent/g)}),_.off(window,"keydown",i,this,!0),_.off(window,"resize",n,this,!0),void 0!==this._introExitCallback&&this._introExitCallback.call(this),this._currentStep=void 0}}function l(e,t,n,i,r){var o,s,a,l,f,d="";if(r=r||!1,t.style.top=null,t.style.right=null,t.style.bottom=null,t.style.left=null,t.style.marginLeft=null,t.style.marginTop=null,n.style.display="inherit",null!=i&&(i.style.top=null,i.style.left=null),this._introItems[this._currentStep])switch(d="string"==typeof(o=this._introItems[this._currentStep]).tooltipClass?o.tooltipClass:this._options.tooltipClass,t.className=("introjs-tooltip "+d).replace(/^\s+|\s+$/g,""),t.setAttribute("role","dialog"),"floating"!==(f=this._introItems[this._currentStep].position)&&(f=function(e,t,n){var i=this._options.positionPrecedence.slice(),r=C(),o=D(t).height+10,s=D(t).width+20,a=e.getBoundingClientRect(),l="floating";a.bottom+o+o>r.height&&p(i,"bottom");a.top-o<0&&p(i,"top");a.right+s>r.width&&p(i,"right");a.left-s<0&&p(i,"left");var u=(c=n||"",f=c.indexOf("-"),-1!==f?c.substr(f):"");var c,f;n&&(n=n.split("-")[0]);i.length&&(l="auto"!==n&&i.indexOf(n)>-1?n:i[0]);-1!==["top","bottom"].indexOf(l)&&(l+=function(e,t,n,i){var r=t/2,o=Math.min(n.width,window.screen.width),s=["-left-aligned","-middle-aligned","-right-aligned"],a="";o-e<t&&p(s,"-left-aligned");(e<r||o-e<r)&&p(s,"-middle-aligned");e<t&&p(s,"-right-aligned");a=s.length?-1!==s.indexOf(i)?i:s[0]:"-middle-aligned";return a}(a.left,s,r,u));return l}.call(this,e,t,f)),a=D(e),s=D(t),l=C(),x(t,"introjs-"+f),f){case"top-right-aligned":n.className="introjs-arrow bottom-right";var h=0;c(a,h,s,t),t.style.bottom=a.height+20+"px";break;case"top-middle-aligned":n.className="introjs-arrow bottom-middle";var m=a.width/2-s.width/2;r&&(m+=5),c(a,m,s,t)&&(t.style.right=null,u(a,m,s,l,t)),t.style.bottom=a.height+20+"px";break;case"top-left-aligned":case"top":n.className="introjs-arrow bottom",u(a,r?0:15,s,l,t),t.style.bottom=a.height+20+"px";break;case"right":t.style.left=a.width+20+"px",a.top+s.height>l.height?(n.className="introjs-arrow left-bottom",t.style.top="-"+(s.height-a.height-20)+"px"):n.className="introjs-arrow left";break;case"left":r||!0!==this._options.showStepNumbers||(t.style.top="15px"),a.top+s.height>l.height?(t.style.top="-"+(s.height-a.height-20)+"px",n.className="introjs-arrow right-bottom"):n.className="introjs-arrow right",t.style.right=a.width+20+"px";break;case"floating":n.style.display="none",t.style.left="50%",t.style.top="50%",t.style.marginLeft="-"+s.width/2+"px",t.style.marginTop="-"+s.height/2+"px",null!=i&&(i.style.left="-"+(s.width/2+18)+"px",i.style.top="-"+(s.height/2+18)+"px");break;case"bottom-right-aligned":n.className="introjs-arrow top-right",c(a,h=0,s,t),t.style.top=a.height+20+"px";break;case"bottom-middle-aligned":n.className="introjs-arrow top-middle",m=a.width/2-s.width/2,r&&(m+=5),c(a,m,s,t)&&(t.style.right=null,u(a,m,s,l,t)),t.style.top=a.height+20+"px";break;default:n.className="introjs-arrow top",u(a,0,s,l,t),t.style.top=a.height+20+"px"}}function u(e,t,n,i,r){return e.left+t+n.width>i.width?(r.style.left=i.width-n.width-e.left+"px",!1):(r.style.left=t+"px",!0)}function c(e,t,n,i){return e.left+e.width-t-n.width<0?(i.style.left=-e.left+"px",!1):(i.style.right=t+"px",!0)}function p(e,t){e.indexOf(t)>-1&&e.splice(e.indexOf(t),1)}function f(e){if(e){if(!this._introItems[this._currentStep])return;var t=this._introItems[this._currentStep],n=D(t.element),i=this._options.helperElementPadding;S(t.element)?x(e,"introjs-fixedTooltip"):w(e,"introjs-fixedTooltip"),"floating"===t.position&&(i=0),e.style.cssText="width: "+(n.width+i)+"px; height:"+(n.height+i)+"px; top:"+(n.top-i/2)+"px;left: "+(n.left-i/2)+"px;"}}function d(e){e.setAttribute("role","button"),e.tabIndex=0}function h(e){void 0!==this._introChangeCallback&&this._introChangeCallback.call(this,e.element);var t,n,i,r,u=this,c=document.querySelector(".introjs-helperLayer"),p=document.querySelector(".introjs-tooltipReferenceLayer"),h="introjs-helperLayer";if("string"==typeof e.highlightClass&&(h+=" "+e.highlightClass),"string"==typeof this._options.highlightClass&&(h+=" "+this._options.highlightClass),null!==c){var y=p.querySelector(".introjs-helperNumberLayer"),v=p.querySelector(".introjs-tooltiptext"),_=p.querySelector(".introjs-arrow"),S=p.querySelector(".introjs-tooltip");if(i=p.querySelector(".introjs-skipbutton"),n=p.querySelector(".introjs-prevbutton"),t=p.querySelector(".introjs-nextbutton"),c.className=h,S.style.opacity=0,S.style.display="none",null!==y){var C=this._introItems[e.step-2>=0?e.step-2:0];(null!==C&&"forward"===this._direction&&"floating"===C.position||"backward"===this._direction&&"floating"===e.position)&&(y.style.opacity=0)}(r=I(e.element))!==document.body&&F(r,e.element),f.call(u,c),f.call(u,p),b(document.querySelectorAll(".introjs-fixParent"),function(e){w(e,/introjs-fixParent/g)}),g(),u._lastShowElementTimer&&window.clearTimeout(u._lastShowElementTimer),u._lastShowElementTimer=window.setTimeout(function(){null!==y&&(y.innerHTML=e.step),v.innerHTML=e.intro,S.style.display="block",l.call(u,e.element,S,_,y),u._options.showBullets&&(p.querySelector(".introjs-bullets li > a.active").className="",p.querySelector('.introjs-bullets li > a[data-stepnumber="'+e.step+'"]').className="active"),p.querySelector(".introjs-progress .introjs-progressbar").style.cssText="width:"+$.call(u)+"%;",p.querySelector(".introjs-progress .introjs-progressbar").setAttribute("aria-valuenow",$.call(u)),S.style.opacity=1,y&&(y.style.opacity=1),null!=i&&/introjs-donebutton/gi.test(i.className)?i.focus():null!=t&&t.focus(),m.call(u,e.scrollTo,e,v)},350)}else{var E=document.createElement("div"),T=document.createElement("div"),A=document.createElement("div"),N=document.createElement("div"),M=document.createElement("div"),R=document.createElement("div"),O=document.createElement("div"),L=document.createElement("div");E.className=h,T.className="introjs-tooltipReferenceLayer",(r=I(e.element))!==document.body&&F(r,e.element),f.call(u,E),f.call(u,T),this._targetElement.appendChild(E),this._targetElement.appendChild(T),A.className="introjs-arrow",M.className="introjs-tooltiptext",M.innerHTML=e.intro,R.className="introjs-bullets",!1===this._options.showBullets&&(R.style.display="none");var P=document.createElement("ul");P.setAttribute("role","tablist");var D=function(){u.goToStep(this.getAttribute("data-stepnumber"))};b(this._introItems,function(t,n){var i=document.createElement("li"),r=document.createElement("a");i.setAttribute("role","presentation"),r.setAttribute("role","tab"),r.onclick=D,n===e.step-1&&(r.className="active"),d(r),r.innerHTML="&nbsp;",r.setAttribute("data-stepnumber",t.step),i.appendChild(r),P.appendChild(i)}),R.appendChild(P),O.className="introjs-progress",!1===this._options.showProgress&&(O.style.display="none");var j=document.createElement("div");j.className="introjs-progressbar",j.setAttribute("role","progress"),j.setAttribute("aria-valuemin",0),j.setAttribute("aria-valuemax",100),j.setAttribute("aria-valuenow",$.call(this)),j.style.cssText="width:"+$.call(this)+"%;",O.appendChild(j),L.className="introjs-tooltipbuttons",!1===this._options.showButtons&&(L.style.display="none"),N.className="introjs-tooltip",N.appendChild(M),N.appendChild(R),N.appendChild(O);var B=document.createElement("span");!0===this._options.showStepNumbers&&(B.className="introjs-helperNumberLayer",B.innerHTML=e.step,T.appendChild(B)),N.appendChild(A),T.appendChild(N),(t=document.createElement("a")).onclick=function(){u._introItems.length-1!==u._currentStep&&o.call(u)},d(t),t.innerHTML=this._options.nextLabel,(n=document.createElement("a")).onclick=function(){0!==u._currentStep&&s.call(u)},d(n),n.innerHTML=this._options.prevLabel,(i=document.createElement("a")).className=this._options.buttonClass+" introjs-skipbutton ",d(i),i.innerHTML=this._options.skipLabel,i.onclick=function(){u._introItems.length-1===u._currentStep&&"function"==typeof u._introCompleteCallback&&u._introCompleteCallback.call(u),u._introItems.length-1!==u._currentStep&&"function"==typeof u._introExitCallback&&u._introExitCallback.call(u),"function"==typeof u._introSkipCallback&&u._introSkipCallback.call(u),a.call(u,u._targetElement)},L.appendChild(i),this._introItems.length>1&&(L.appendChild(n),L.appendChild(t)),N.appendChild(L),l.call(u,e.element,N,A,B),m.call(this,e.scrollTo,e,N)}var z=u._targetElement.querySelector(".introjs-disableInteraction");z&&z.parentNode.removeChild(z),e.disableInteraction&&function(){var e=document.querySelector(".introjs-disableInteraction");null===e&&((e=document.createElement("div")).className="introjs-disableInteraction",this._targetElement.appendChild(e)),f.call(this,e)}.call(u),0===this._currentStep&&this._introItems.length>1?(null!=i&&(i.className=this._options.buttonClass+" introjs-skipbutton"),null!=t&&(t.className=this._options.buttonClass+" introjs-nextbutton"),!0===this._options.hidePrev?(null!=n&&(n.className=this._options.buttonClass+" introjs-prevbutton introjs-hidden"),null!=t&&x(t,"introjs-fullbutton")):null!=n&&(n.className=this._options.buttonClass+" introjs-prevbutton introjs-disabled"),null!=i&&(i.innerHTML=this._options.skipLabel)):this._introItems.length-1===this._currentStep||1===this._introItems.length?(null!=i&&(i.innerHTML=this._options.doneLabel,x(i,"introjs-donebutton")),null!=n&&(n.className=this._options.buttonClass+" introjs-prevbutton"),!0===this._options.hideNext?(null!=t&&(t.className=this._options.buttonClass+" introjs-nextbutton introjs-hidden"),null!=n&&x(n,"introjs-fullbutton")):null!=t&&(t.className=this._options.buttonClass+" introjs-nextbutton introjs-disabled")):(null!=i&&(i.className=this._options.buttonClass+" introjs-skipbutton"),null!=n&&(n.className=this._options.buttonClass+" introjs-prevbutton"),null!=t&&(t.className=this._options.buttonClass+" introjs-nextbutton"),null!=i&&(i.innerHTML=this._options.skipLabel)),n.setAttribute("role","button"),t.setAttribute("role","button"),i.setAttribute("role","button"),null!=t&&t.focus(),function(e){var t;if(e.element instanceof SVGElement)for(t=e.element.parentNode;null!==e.element.parentNode&&t.tagName&&"body"!==t.tagName.toLowerCase();)"svg"===t.tagName.toLowerCase()&&x(t,"introjs-showElement introjs-relativePosition"),t=t.parentNode;x(e.element,"introjs-showElement");var n=k(e.element,"position");"absolute"!==n&&"relative"!==n&&"fixed"!==n&&x(e.element,"introjs-relativePosition");t=e.element.parentNode;for(;null!==t&&t.tagName&&"body"!==t.tagName.toLowerCase();){var i=k(t,"z-index"),r=parseFloat(k(t,"opacity")),o=k(t,"transform")||k(t,"-webkit-transform")||k(t,"-moz-transform")||k(t,"-ms-transform")||k(t,"-o-transform");(/[0-9]+/.test(i)||r<1||"none"!==o&&void 0!==o)&&x(t,"introjs-fixParent"),t=t.parentNode}}(e),void 0!==this._introAfterChangeCallback&&this._introAfterChangeCallback.call(this,e.element)}function m(e,t,n){var i;if("off"!==e&&(this._options.scrollToElement&&(i="tooltip"===e?n.getBoundingClientRect():t.element.getBoundingClientRect(),!function(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom+80<=window.innerHeight&&t.right<=window.innerWidth}(t.element)))){var r=C().height;i.bottom-(i.bottom-i.top)<0||t.element.clientHeight>r?window.scrollBy(0,i.top-(r/2-i.height/2)-this._options.scrollPadding):window.scrollBy(0,i.top-(r/2-i.height/2)+this._options.scrollPadding)}}function g(){b(document.querySelectorAll(".introjs-showElement"),function(e){w(e,/introjs-[a-zA-Z]+/g)})}function b(e,t,n){if(e)for(var i=0,r=e.length;i<r;i++)t(e[i],i);"function"==typeof n&&n()}var y,v=(y={},function(e,t){return y[t=t||"introjs-stamp"]=y[t]||0,void 0===e[t]&&(e[t]=y[t]++),e[t]}),_=function(){return new function(){var e="introjs_event";this._id=function(e,t,n,i){return t+v(n)+(i?"_"+v(i):"")},this.on=function(t,n,i,r,o){var s=this._id.apply(this,arguments),a=function(e){return i.call(r||t,e||window.event)};"addEventListener"in t?t.addEventListener(n,a,o):"attachEvent"in t&&t.attachEvent("on"+n,a),t[e]=t[e]||{},t[e][s]=a},this.off=function(t,n,i,r,o){var s=this._id.apply(this,arguments),a=t[e]&&t[e][s];a&&("removeEventListener"in t?t.removeEventListener(n,a,o):"detachEvent"in t&&t.detachEvent("on"+n,a),t[e][s]=null)}}}();function x(e,t){if(e instanceof SVGElement){var n=e.getAttribute("class")||"";e.setAttribute("class",n+" "+t)}else{if(void 0!==e.classList)b(t.split(" "),function(t){e.classList.add(t)});else e.className.match(t)||(e.className+=" "+t)}}function w(e,t){if(e instanceof SVGElement){var n=e.getAttribute("class")||"";e.setAttribute("class",n.replace(t,"").replace(/^\s+|\s+$/g,""))}else e.className=e.className.replace(t,"").replace(/^\s+|\s+$/g,"")}function k(e,t){var n="";return e.currentStyle?n=e.currentStyle[t]:document.defaultView&&document.defaultView.getComputedStyle&&(n=document.defaultView.getComputedStyle(e,null).getPropertyValue(t)),n&&n.toLowerCase?n.toLowerCase():n}function S(e){var t=e.parentNode;return!(!t||"HTML"===t.nodeName)&&("fixed"===k(e,"position")||S(t))}function C(){if(void 0!==window.innerWidth)return{width:window.innerWidth,height:window.innerHeight};var e=document.documentElement;return{width:e.clientWidth,height:e.clientHeight}}function E(){var e=document.querySelector(".introjs-hintReference");if(e){var t=e.getAttribute("data-step");return e.parentNode.removeChild(e),t}}function T(e){if(this._introItems=[],this._options.hints)b(this._options.hints,function(e){var t=r(e);"string"==typeof t.element&&(t.element=document.querySelector(t.element)),t.hintPosition=t.hintPosition||this._options.hintPosition,t.hintAnimation=t.hintAnimation||this._options.hintAnimation,null!==t.element&&this._introItems.push(t)}.bind(this));else{var t=e.querySelectorAll("*[data-hint]");if(!t||!t.length)return!1;b(t,function(e){var t=e.getAttribute("data-hintanimation");t=t?"true"===t:this._options.hintAnimation,this._introItems.push({element:e,hint:e.getAttribute("data-hint"),hintPosition:e.getAttribute("data-hintposition")||this._options.hintPosition,hintAnimation:t,tooltipClass:e.getAttribute("data-tooltipclass"),position:e.getAttribute("data-position")||this._options.tooltipPosition})}.bind(this))}(function(){var e=this,t=document.querySelector(".introjs-hints");null===t&&((t=document.createElement("div")).className="introjs-hints");b(this._introItems,function(n,i){if(!document.querySelector('.introjs-hint[data-step="'+i+'"]')){var r=document.createElement("a");d(r),r.onclick=function(t){return function(n){var i=n||window.event;i.stopPropagation&&i.stopPropagation(),null!==i.cancelBubble&&(i.cancelBubble=!0),P.call(e,t)}}(i),r.className="introjs-hint",n.hintAnimation||x(r,"introjs-hint-no-anim"),S(n.element)&&x(r,"introjs-fixedhint");var o=document.createElement("div");o.className="introjs-hint-dot";var s=document.createElement("div");s.className="introjs-hint-pulse",r.appendChild(o),r.appendChild(s),r.setAttribute("data-step",i),n.targetElement=n.element,n.element=r,L.call(this,n.hintPosition,r,n.targetElement),t.appendChild(r)}}.bind(this)),document.body.appendChild(t),void 0!==this._hintsAddedCallback&&this._hintsAddedCallback.call(this)}).call(this),_.on(document,"click",E,this,!1),_.on(window,"resize",A,this,!0)}function A(){b(this._introItems,function(e){void 0!==e.targetElement&&L.call(this,e.hintPosition,e.element,e.targetElement)}.bind(this))}function N(e){var t=document.querySelector(".introjs-hints");return t?t.querySelectorAll(e):[]}function M(e){var t=N('.introjs-hint[data-step="'+e+'"]')[0];E.call(this),t&&x(t,"introjs-hidehint"),void 0!==this._hintCloseCallback&&this._hintCloseCallback.call(this,e)}function R(e){var t=N('.introjs-hint[data-step="'+e+'"]')[0];t&&w(t,/introjs-hidehint/g)}function O(e){var t=N('.introjs-hint[data-step="'+e+'"]')[0];t&&t.parentNode.removeChild(t)}function L(e,t,n){var i=D.call(this,n);switch(e){default:case"top-left":t.style.left=i.left+"px",t.style.top=i.top+"px";break;case"top-right":t.style.left=i.left+i.width-20+"px",t.style.top=i.top+"px";break;case"bottom-left":t.style.left=i.left+"px",t.style.top=i.top+i.height-20+"px";break;case"bottom-right":t.style.left=i.left+i.width-20+"px",t.style.top=i.top+i.height-20+"px";break;case"middle-left":t.style.left=i.left+"px",t.style.top=i.top+(i.height-20)/2+"px";break;case"middle-right":t.style.left=i.left+i.width-20+"px",t.style.top=i.top+(i.height-20)/2+"px";break;case"middle-middle":t.style.left=i.left+(i.width-20)/2+"px",t.style.top=i.top+(i.height-20)/2+"px";break;case"bottom-middle":t.style.left=i.left+(i.width-20)/2+"px",t.style.top=i.top+i.height-20+"px";break;case"top-middle":t.style.left=i.left+(i.width-20)/2+"px",t.style.top=i.top+"px"}}function P(e){var t=document.querySelector('.introjs-hint[data-step="'+e+'"]'),n=this._introItems[e];void 0!==this._hintClickCallback&&this._hintClickCallback.call(this,t,n,e);var i=E.call(this);if(parseInt(i,10)!==e){var r=document.createElement("div"),o=document.createElement("div"),s=document.createElement("div"),a=document.createElement("div");r.className="introjs-tooltip",r.onclick=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},o.className="introjs-tooltiptext";var u=document.createElement("p");u.innerHTML=n.hint;var c=document.createElement("a");c.className=this._options.buttonClass,c.setAttribute("role","button"),c.innerHTML=this._options.hintButtonLabel,c.onclick=M.bind(this,e),o.appendChild(u),o.appendChild(c),s.className="introjs-arrow",r.appendChild(s),r.appendChild(o),this._currentStep=t.getAttribute("data-step"),a.className="introjs-tooltipReferenceLayer introjs-hintReference",a.setAttribute("data-step",t.getAttribute("data-step")),f.call(this,a),a.appendChild(r),document.body.appendChild(a),l.call(this,t,r,s,null,!0)}}function D(e){var t=document.body,n=document.documentElement,i=window.pageYOffset||n.scrollTop||t.scrollTop,r=window.pageXOffset||n.scrollLeft||t.scrollLeft,o=e.getBoundingClientRect();return{top:o.top+i,width:o.width,height:o.height,left:o.left+r}}function I(e){var t=window.getComputedStyle(e),n="absolute"===t.position,i=/(auto|scroll)/;if("fixed"===t.position)return document.body;for(var r=e;r=r.parentElement;)if(t=window.getComputedStyle(r),(!n||"static"!==t.position)&&i.test(t.overflow+t.overflowY+t.overflowX))return r;return document.body}function F(e,t){e.scrollTop=t.offsetTop-e.offsetTop}function $(){return parseInt(this._currentStep+1,10)/this._introItems.length*100}var j=function(t){var n;if("object"==typeof t)n=new e(t);else if("string"==typeof t){var i=document.querySelector(t);if(!i)throw new Error("There is no element with given selector.");n=new e(i)}else n=new e(document.body);return j.instances[v(n,"introjs-instance")]=n,n};return j.version="2.9.3",j.instances={},j.fn=e.prototype={clone:function(){return new e(this)},setOption:function(e,t){return this._options[e]=t,this},setOptions:function(e){return this._options=function(e,t){var n,i={};for(n in e)i[n]=e[n];for(n in t)i[n]=t[n];return i}(this._options,e),this},start:function(e){return t.call(this,this._targetElement,e),this},goToStep:function(e){return function(e){this._currentStep=e-2,void 0!==this._introItems&&o.call(this)}.call(this,e),this},addStep:function(e){return this._options.steps||(this._options.steps=[]),this._options.steps.push(e),this},addSteps:function(e){if(e.length){for(var t=0;t<e.length;t++)this.addStep(e[t]);return this}},goToStepNumber:function(e){return function(e){this._currentStepNumber=e,void 0!==this._introItems&&o.call(this)}.call(this,e),this},nextStep:function(){return o.call(this),this},previousStep:function(){return s.call(this),this},exit:function(e){return a.call(this,this._targetElement,e),this},refresh:function(){return function(){if(f.call(this,document.querySelector(".introjs-helperLayer")),f.call(this,document.querySelector(".introjs-tooltipReferenceLayer")),f.call(this,document.querySelector(".introjs-disableInteraction")),void 0!==this._currentStep&&null!==this._currentStep){var e=document.querySelector(".introjs-helperNumberLayer"),t=document.querySelector(".introjs-arrow"),n=document.querySelector(".introjs-tooltip");l.call(this,this._introItems[this._currentStep].element,n,t,e)}return A.call(this),this}.call(this),this},onbeforechange:function(e){if("function"!=typeof e)throw new Error("Provided callback for onbeforechange was not a function");return this._introBeforeChangeCallback=e,this},onchange:function(e){if("function"!=typeof e)throw new Error("Provided callback for onchange was not a function.");return this._introChangeCallback=e,this},onafterchange:function(e){if("function"!=typeof e)throw new Error("Provided callback for onafterchange was not a function");return this._introAfterChangeCallback=e,this},oncomplete:function(e){if("function"!=typeof e)throw new Error("Provided callback for oncomplete was not a function.");return this._introCompleteCallback=e,this},onhintsadded:function(e){if("function"!=typeof e)throw new Error("Provided callback for onhintsadded was not a function.");return this._hintsAddedCallback=e,this},onhintclick:function(e){if("function"!=typeof e)throw new Error("Provided callback for onhintclick was not a function.");return this._hintClickCallback=e,this},onhintclose:function(e){if("function"!=typeof e)throw new Error("Provided callback for onhintclose was not a function.");return this._hintCloseCallback=e,this},onexit:function(e){if("function"!=typeof e)throw new Error("Provided callback for onexit was not a function.");return this._introExitCallback=e,this},onskip:function(e){if("function"!=typeof e)throw new Error("Provided callback for onskip was not a function.");return this._introSkipCallback=e,this},onbeforeexit:function(e){if("function"!=typeof e)throw new Error("Provided callback for onbeforeexit was not a function.");return this._introBeforeExitCallback=e,this},addHints:function(){return T.call(this,this._targetElement),this},hideHint:function(e){return M.call(this,e),this},hideHints:function(){return function(){b(N(".introjs-hint"),function(e){M.call(this,e.getAttribute("data-step"))}.bind(this))}.call(this),this},showHint:function(e){return R.call(this,e),this},showHints:function(){return function(){var e=N(".introjs-hint");e&&e.length?b(e,function(e){R.call(this,e.getAttribute("data-step"))}.bind(this)):T.call(this,this._targetElement)}.call(this),this},removeHints:function(){return function(){b(N(".introjs-hint"),function(e){O.call(this,e.getAttribute("data-step"))}.bind(this))}.call(this),this},removeHint:function(e){return O.call(this,e),this},showHintDialog:function(e){return P.call(this,e),this}},j},e.exports=i(),e.exports.introJs=function(){return console.warn('Deprecated: please use require("intro.js") directly, instead of the introJs method of the function'),i().apply(this,arguments)}},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h,m,g,b,y,v,_,x,w,k,S,C,E,T,A,N,M,R,O;n(23),i=n(606),r=n(608),s=n(736),a=n(737),l=n(738),h=n(784),m=n(806),g=n(808),d=n(810),n(549),({ReflexContainer:c,ReflexSplitter:f,ReflexElement:p}=n(372)),({HelpCircle:o}=n(13)),({a:b,button:y,code:v,div:_,em:x,h2:w,h4:k,i:S,iframe:C,img:E,input:T,label:A,p:N,pre:M,span:R,strong:O}=ReactDOMFactories),React.createFactory(Bootstrap.Modal),React.createFactory(Bootstrap.Nav),React.createFactory(Bootstrap.NavItem),u={handleDragEnd:function(){var e,t,n,i,r;for(r=[],t=e=1,i=this.panes();1<=i?e<=i:e>=i;t=1<=i?++e:--e)(n=this.refs[this.state.project[`pane${t}`]])&&n.onDragEnd?r.push(n.onDragEnd()):r.push(void 0);return r},disabled:function(){return this.state.reviewing||this.state.dead||!this.state.container.token||!1},gradingDisabled:function(){return 0===this.state.project.remaining_attempts},loadLink:function(e){return window.location.href=e},local:function(){return this.props.internal||this.props.editing},panes:function(){return{"zero-pane":0,"one-pane":1,"two-pane-tall":2,"two-pane-wide":2,"three-pane":3}[this.state.project.layout]},render:function(){var e,t,n,o;return o={"one-pane":this.renderOnePane,"two-pane-tall":this.renderTwoPaneTall,"two-pane-wide":this.renderTwoPaneWide,"three-pane":this.renderThreePane},t=895,100===this.state.project.instructions_width?(t=null,e=100,n=[800,0]):"workspace"===this.state.left_sidebar?(e=0,n=[0,300]):"settings"!==this.state.left_sidebar||this.state.editing?this.props.remote_editor?(e=35,n=[200,300]):(e=this.state.editing?35:this.state.project.instructions_width,n=[250,300]):(e=20,n=[200,300]),this.props.maintenance?_({id:"project"},React.createElement(a,{internal:this.local(),course:this.state.project.course})):this.state.project.id?_({id:"project",className:`${this.state.project.color_scheme} ${this.props.remote_editor?"two-pane-tall":this.state.project.layout} ${this.local()?"navbar-offset":""} ${this.props.editing?"editable":""}`},this.props.internal?this.renderNavigation():void 0,this.props.editing?this.renderEditNavigation():void 0,this.renderLeftSidebarNav(),this.renderDropzone(),React.createElement(c,{orientation:"vertical",className:"project-inner"},React.createElement(p,{onResize:this.handleDragEnd,id:"left-area",flex:e/100,minSize:n[0],maxSize:t,className:"workspace"===this.state.left_sidebar?"hide":""},this.leftSidebar()),100!==this.state.project.instructions_width?React.createElement(f,{className:"is-light-theme",style:{display:`${"workspace"===this.state.left_sidebar?"none":"block"}`}}):void 0,100!==this.state.project.instructions_width?React.createElement(p,{onResize:this.handleDragEnd,id:"right-area",minSize:n[1],flex:1-e/100},!this.state.container.token||!this.setup()||this.state.loading_files||this.state.loading_tabs?_({id:"editor-loading"},_({className:"editor-loading-inner"},!this.state.editing||this.state.project.stack?S({className:"fal fa-spinner-third fa-spin"}):void 0)):void 0,!this.state.project.lite_mode_code_editor||this.props.editing?React.createElement(r,{access_token:this.props.access_token,editing:this.state.editing,file_actions_enabled:(this.state.project.files_enabled||this.state.editing)&&!this.state.reviewing,hidden:this.state.project.lite_mode_code_editor&&!this.state.editing,in_content_editor:this.props.editing,reviewing:this.state.reviewing,toggleActionsModal:this.toggleActionsModal,toggleSidebar:this.toggleSidebar}):void 0,this.props.remote_editor?this.renderOnePane():o[this.state.project.layout]?o[this.state.project.layout]():void 0):void 0),this.state.actions_modal_options?React.createElement(i,this.state.actions_modal_options):void 0):_(null)},pane:function(e){return React.createElement(l,{access_token:this.props.access_token,disabled:this.disabled,editing:this.state.editing,file_actions_enabled:(this.state.project.files_enabled||this.state.editing)&&!this.state.reviewing,focusable:this.state.clicked||!this.props.iframe,in_content_editor:this.props.editing,pane_position:e,performAction:this.performAction,reviewing:this.state.reviewing,toggleActionsModal:this.toggleActionsModal,toggleSidebar:this.toggleSidebar})},renderOnePane:function(){return _({id:"panes-outer"},_({id:"inner1"},this.pane(1)))},renderTwoPaneTall:function(){return _({id:"panes-outer"},_({id:"inner1"},React.createElement(c,{orientation:"vertical"},React.createElement(p,{onResize:this.handleDragEnd,key:"pane1",flex:this.state.reviewing?1:.65,minSize:50},this.pane(1)),this.state.reviewing?void 0:React.createElement(f),React.createElement(p,{onResize:this.handleDragEnd,key:"pane2",minSize:50,flex:.35,className:this.state.reviewing?"hide":""},this.pane(2)))))},renderTwoPaneWide:function(){return _({id:"panes-outer"},_({id:"inner1"},React.createElement(c,{orientation:"horizontal"},React.createElement(p,{onResize:this.handleDragEnd,key:"pane1",flex:this.state.reviewing?1:.55,minSize:50},this.pane(1)),this.state.reviewing?void 0:React.createElement(f),React.createElement(p,{onResize:this.handleDragEnd,key:"pane2",minSize:50,flex:.45,className:this.state.reviewing?"hide":""},this.pane(2)))))},renderThreePane:function(){return _({id:"panes-outer"},React.createElement(c,{orientation:"vertical"},React.createElement(p,{onResize:this.handleDragEnd,key:"inner1",flex:this.state.reviewing?1:.7,minSize:50},_({id:"inner1"},React.createElement(c,{orientation:"horizontal"},React.createElement(p,{onResize:this.handleDragEnd,key:"pane1",flex:this.state.reviewing?1:.55,minSize:50},this.pane(1)),this.state.reviewing?void 0:React.createElement(f),React.createElement(p,{onResize:this.handleDragEnd,key:"pane2",flex:.45,minSize:50,className:this.state.reviewing?"hide":""},this.pane(2))))),this.state.reviewing?void 0:React.createElement(f),React.createElement(p,{onResize:this.handleDragEnd,key:"inner2",minSize:50,flex:.3,className:this.state.reviewing?"hide":""},_({id:"inner2"},this.pane(3)))))},leftSidebar:function(){if(this.state.editing)return this.editorSidebarScreens();switch(this.state.left_sidebar){case"steps":if(!this.state.editing&&this.state.project.steps_enabled)return this.stepsSidebar();break;case"tasks_results":return React.createElement(g,{access_token:this.props.access_token,checkTask:this.checkTask,disabled:this.disabled(),performAction:this.performAction,ref:"task-results"});case"review":return this.submissionsSidebar();case"help":return React.createElement(s,{help:this.state.help,restartHelp:this.showClickThroughIntro,setSidebar:e=>this.setState({left_sidebar:e})});case"settings":return React.createElement(d,{access_token:this.props.access_token,listDirectory:this.safeEditorSetDirectory,setSidebar:e=>this.setState({left_sidebar:e})})}},renderLeftSidebarNav:function(){return _({id:"left-sidebar-nav",className:`${"workspace"===this.state.left_sidebar?"workspace":""}`},this.state.editing?this.editorSidebarNav():this.lessonSidebarNav())},lessonSidebarNav:function(){var e,t,n,i,r;return r=[],n=[["help","question-circle","Help"]],t=this.state.project.quizzes_enabled&&this.state.project.submissions_enabled||this.state.project.tasks_enabled,this.state.project.steps_enabled&&r.push(["steps","book-open","Instructions"]),t&&r.push(["tasks_results","tasks","Tasks"]),t&&this.state.project.submissions_enabled&&r.push(["review","chart-bar","Review"]),100!==this.state.project.instructions_width&&(r.push(["workspace","code","Workspace"]),n.push(["settings","cog","Settings"])),_({id:"left-sidebar-nav-inner"},function(){var t,n,o;for(o=[],e=t=0,n=r.length;t<n;e=++t)i=r[e],o.push(y({key:e,id:`${i[0]}-icon`,className:`left-sidebar-nav-item ${this.state.left_sidebar===i[0]?"active":""}`,disabled:this.state.reviewing,onClick:(e=>this.setState({left_sidebar:e})).bind(null,i[0]),"data-toggle":"tooltip","data-original-title":i[2],"data-placement":"auto right"},S({className:`fal fa-${i[1]}`})));return o}.call(this),_({className:"left-sidebar-nav-lower"},function(){var t,r,o;for(o=[],e=t=0,r=n.length;t<r;e=++t)i=n[e],o.push(y({key:e,id:`${i[0]}-icon`,className:"lower-icon",disabled:this.state.reviewing,onClick:(e=>this.setState({left_sidebar:e})).bind(null,i[0]),"data-toggle":"tooltip","data-title":i[2],"data-placement":"auto right"},S({className:`far fa-${i[1]}`})));return o}.call(this)))},stepsSidebar:function(){return React.createElement(h,{access_token:this.props.access_token,checkTask:this.checkTask,color_scheme:this.state.project.color_scheme,disabled:this.disabled(),editing:this.props.editing,internal:this.props.internal,loading:this.state.loading,performAction:this.performAction,ref:"steps-sidebar",reviewing:this.state.reviewing})},submissionsSidebar:function(){return React.createElement(m,{access_token:this.props.access_token,disabled:this.props.editing,enterReview:this.enterReview,exitReview:this.exitReview,in_content_editor:this.props.editing,lite_mode:this.state.project.lite_mode_code_editor,saveTimeSpent:this.saveTimeSpent,setDirectory:this.safeEditorSetDirectory})},renderDropzone:function(){var e;return e=this.uploadsEnabled()?"Drop file(s) to upload":"Uploads are disabled in this activity",_({id:"dropzone__outer"},_({id:"dropzone",className:"dropzone"},S({className:`far fa-${this.uploadsEnabled()?"upload":"ban"} fa-2x`}),e),this.uploadsEnabled()?_({id:"dropzone__cancel",className:"dropzone__cancel"},"Drop here to cancel"):void 0)},renderNavigation:function(){return _({className:"navbar-outer"},_({className:"navbar-inner"},this.state.project.name?this.state.project.course&&this.props.reviewing?b({className:"btn btn-text btn-gray back-link",onClick:this.loadLink.bind(null,`/progress/${this.state.project.course.slug}`)},S({className:"fal fa-arrow-left"}),"Course Progress"):this.state.project.course?b({className:"btn btn-text btn-gray back-link",onClick:this.loadLink.bind(null,`/catalog/${this.state.project.course.slug}`)},S({className:"fal fa-home"}),"Back to Course"):void 0:void 0,_({className:"project-name text-center bold"},this.state.project.name),this.state.project.next_lesson&&!this.props.reviewing?b({className:"btn btn-text btn-gray next-link",onClick:this.loadLink.bind(null,this.state.project.next_lesson.url)},"Next Lesson",S({className:"fal fa-angle-double-right"})):void 0))}},e.exports=u},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h,m,g,b,y,v,x,w=[].indexOf;v=n(107),s=n(71),c=n(99),o=n(43),a=n(136),u=n(15),f=n(205),r=n(100),p=n(308),({button:d,div:h,i:m,input:g,label:b,p:y,span:x}=ReactDOMFactories),l=React.createFactory(Bootstrap.Modal),i=reactCreateClass({displayName:"ActionsModal",mixins:[layerMixins,p,r,mixins.AjaxMixin,mixins.FormMixin,mixins.TooltipMixin,Reflux.connect(o,"container"),Reflux.connect(f,"tabs"),Reflux.connectFilter(a,"files",function(e){return e.files}),Reflux.connectFilter(u,"tabs_enabled",function(e){return e.tabs_enabled}),Reflux.connectFilter(u,"theme",function(e){return e.color_scheme}),Reflux.connectFilter(u,"hidden_files",function(e){return e.hidden_files}),Reflux.connectFilter(u,"lite_mode_code_editor",function(e){return e.lite_mode_code_editor}),Reflux.connectFilter(u,"panes",function(e){return e.panes})],propTypes:{access_token:PropTypes.string.isRequired,action:PropTypes.string.isRequired,event:PropTypes.object,pane_position:PropTypes.number,root:PropTypes.string.isRequired,toggleActionsModal:PropTypes.func.isRequired,editing:PropTypes.bool.isRequired,in_content_editor:PropTypes.bool.isRequired,reviewing:PropTypes.bool.isRequired},getInitialState:function(){return{filename:"",progress:0,upload_shown:!1}},componentDidMount:function(){return this.props.event&&this.uploadFiles(this.props.event),this.initializeTooltips(".modal-dialog"),this.initializeFilename()},componentDidUpdate:function(e,t){return!e.event&&this.props.event&&this.uploadFiles(this.props.event),e.action!==this.props.action&&this.initializeFilename(),setTimeout(this.initializeTooltips.bind(null,".modal-dialog"),100)},checkEntered:function(e){if(13===e.keyCode)return e.preventDefault(),this.handleAction()},initializeFilename:function(){var e;return e="rename"===this.props.action?this.props.active.name:"duplicate"===this.props.action?this.generateFilenameForDuplicate(this.props.active):"",this.setState({filename:e})},createTab:function(e){var t;return t={active:!0,detail:v.join(this.props.root,e),pane_position:1,tab_type:"file-editor"},this.onAddTab(t)},handleAction:function(e){var t,n;if(t=this.state.filename.trim())return n=(()=>{var e,n,i;switch(this.props.action){case"duplicate":n=this.createTab.bind(null,t),s.duplicateRemoteFile(this.props.active.name,t,this.props.root,n);break;case"create":case"create_file":case"create_directory":s.createRemoteFile(t,this.props.root,"create_directory"===this.props.action),"create_directory"!==this.props.action&&this.createTab(t);break;case"rename":s.renameRemoteFile(this.props.active.path,t),this.props.active.directory||(e=_.find(this.state.tabs,e=>e.file&&e.detail===this.props.active.path))&&((i=e).detail=v.join(v.dirname(this.props.active.path),t),this.onRenameFileTab(i))}return this.resetState()}),this.checkNameValid(n);this.resetState()},deleteFile:function(){var e;return(e=_.find(this.state.tabs,e=>e.file&&e.detail===this.props.active.path))&&this.closeTab(e),s.deleteRemoteFile(this.props.active.path),this.resetState()},generateFilenameForDuplicate:function(e){var t,n,i,r,o,s,a;for(a=e.parent_id,r=_.pluck(this.state.files.filter(function(e){return e.parent_id===a}),"name"),i=e.name,n="";w.call(i,".")>=0&&(s=v.parse(i),n=`${s.ext}${n}`,i=s.name,""!==s.ext););for(i.match(/(\-[0-9]+|\-)$/)?i.match(/\-$/)?(o=1,t=`${i}`):(o=i.match(/[0-9]+$/),t=i.replace(/[0-9]+$/,"")):(o=1,t=`${i}-`);_.find(r,function(e){return e===`${t}${o}${n}`});)o++;return`${t}${o}${n}`},checkNameValid:function(e){var t,n,i;if(t=this.state.filename.trim(),n="create_directory"===this.props.action,t)return i="rename"===this.props.action&&this.props.active?`${v.dirname(this.props.active.path)}/${t}`:v.join(this.props.root,t),t.match(/[<>:"\/\\|?*\x00-\x1F]/)?($.alert(`Invalid ${n?"directory":"file"} name.`,"danger"),void this.focusInput()):this.exec(this.state.container.root_hostname,this.state.container.token,["test","!","-e",i],{cb:t=>0===t.status?e():($.alert("File or directory already exists.","danger"),this.focusInput())})},onRenameFileTab:function(e){return this.hidden(e.detail)?(c.closeTab(e),this.persistTabDeletion(e)):(c.setProperty(e,"detail",e.detail),this.persistTabUpdate(e,{detail:e.detail}))},addTab:function(e){var t;return t={active:!0,tab_type:e,detail:this.tabDetail(e),pane_position:this.props.pane_position},this.onAddTab(t),this.resetState()},resetState:function(){return this.setState({filename:"",upload_shown:!1},()=>this.props.toggleActionsModal({}))},uploadFiles:function(e){var t,n;return t=0,n=e.target.files||e.dataTransfer.files,this.setState({upload_shown:!0,progress:0},()=>{var e,i,r,o,s,a;for(s=[],r=0,o=n.length;r<o;r++)i=n[r],e=new FormData,t+=1,e.append("file",i),(a=new XMLHttpRequest).upload.addEventListener("progress",this.handleProgress.bind(null,t/n.length*100),!1),t===n.length&&(a.onreadystatechange=this.resetUploading),a.open("POST",`${this.state.container.upload_url}?pwd=${encodeURIComponent(this.props.root)}`),s.push(a.send(e));return s})},handleProgress:function(e,t){var n;if((n=t.loaded/t.total*e)>=this.state.progress)return this.setState({progress:n})},resetUploading:function({target:e}){if(4===e.readyState)return this.setState({enable_upload:!1,upload_shown:!1,progress:0},()=>this.resetState()),200===e.status?$.alert("Upload Complete.","success"):$.alert(`Upload Failed.  ${e.responseText}`,"danger")},componentDetail:function(e,t,n){return h(null,n?x({className:"text-red pull-right"},"*"):void 0,m({className:`${this.tabIcon(e)} component-detail-icon`}),y({className:`component-detail-name ${t?"disabled":""}`},this.tabDescription(e)?` ${this.tabDescription(e)}`:void 0),t?y({className:"component-detail-name"},"(only 1 allowed)"):void 0)},input:function(e){return g({autoComplete:"off",autoFocus:!0,id:"filename-form",className:"form-control",name:"filename",spellCheck:!1,onChange:this.handleChange,onKeyDown:this.checkEntered,placeholder:e,type:"text",value:this.state.filename})},focusInput:function(){var e;if(e=document.getElementById("filename-form"))return e.focus()},render:function(){return h(null)},renderLayer:function(){var e,t,n,i,r;return r=["terminal","web-browser","full-gui","sql-results","jupyter-notebook","python-gui"],"uploading"===this.props.action||this.state.upload_shown?l({onHide:this.resetState,show:!0},h({className:`${this.state.theme}`},d({className:"btn btn-text btn-white btn-circle modal-header__close",onClick:this.resetState,type:"button"},m({className:"fal fa-times"})),h({className:"modal-header text-grey"},"Uploading files"),h({className:"modal-body bold"},h({className:"text-center"},h({className:"nt-progress-bar",role:"progressbar",style:{backgroundSize:`${Math.round(this.state.progress)}% 100%`}}))),h({className:"modal-footer"},h({className:"top-margin-20 component-detail-name text-center italic"},this.state.progress<100?`Upload Progress: ${Math.round(this.state.progress)}%`:"Finishing up...")))):"delete"===this.props.action?l({onHide:this.resetState,show:!0},h({className:`${this.state.theme}`},d({className:"btn btn-text btn-white btn-circle modal-header__close",onClick:this.resetState,type:"button"},m({className:"fal fa-times"})),h({className:"modal-header text-red"},m({className:"modal-header__icon fal fa-exclamation-triangle"}),`Delete ${this.props.active.name}`),h({className:"modal-body bold"},y({className:"text-center"},`Are you sure you would like to delete ${this.props.active.name}? This cannot be undone!`)),h({className:"modal-footer"},h({className:"text-center"},d({className:"btn btn-action btn-red",onClick:this.deleteFile,type:"button"},"Delete"))))):"rename"===this.props.action?l({onHide:this.resetState,show:!0},h({className:`${this.state.theme}`},d({className:"btn btn-text btn-white btn-circle modal-header__close",onClick:this.resetState,type:"button"},m({className:"fal fa-times"})),h({className:"modal-header text-gray"},m({className:"modal-header__icon fal fa-edit"}),`Rename ${this.props.active.name}`),h({className:"modal-body"},this.input("")),h({className:"modal-footer text-center"},d({className:"btn btn-action btn-blue",onClick:this.handleAction,type:"button"},"Rename")))):"duplicate"===this.props.action?l({onHide:this.resetState,show:!0},h({className:`${this.state.theme}`},d({className:"btn btn-text btn-white btn-circle modal-header__close",onClick:this.resetState,type:"button"},m({className:"fal fa-times"})),h({className:"modal-header text-gray"},m({className:"modal-header__icon fal fa-copy"}),`Duplicate ${this.props.active.name}`),h({className:"modal-body"},this.input("Enter a new filename")),h({className:"modal-footer text-center"},d({className:"btn btn-action btn-blue",onClick:this.handleAction,type:"button"},"Duplicate")))):"create_directory"===this.props.action?l({onHide:this.resetState,show:!0},h({className:`${this.state.theme}`},d({className:"btn btn-text btn-white btn-circle modal-header__close",onClick:this.resetState},m({className:"fal fa-times"})),h({className:"modal-header text-gray"},m({className:"modal-header__icon fal fa-folder-plus"}),"Create Directory"),h({className:"modal-body"},this.input("Enter a directory name")),h({className:"modal-footer"},d({className:"btn btn-action btn-green",onClick:this.handleAction,type:"button"},"Create")))):"create"===this.props.action||"create_file"===this.props.action?l({onHide:this.resetState,show:!0},h({className:`${this.state.theme}`},d({className:"btn btn-text btn-white btn-circle modal-header__close",onClick:this.resetState,type:"button"},m({className:"fal fa-times"})),h(null,this.props.files_enabled||this.props.editing?h(null,h({className:"modal-header text-gray"},m({className:"modal-header__icon fal fa-file-plus"}),"Create or Upload File"),h({className:"modal-body"},this.input("Enter filename with extension"),d({className:"btn btn-action btn-green top-margin-10 pull-right",onClick:this.handleAction,type:"button"},"Create File"),h({className:"modal-body__new-file-footer clearfix"},b({id:"file-upload-input-label",htmlFor:"file-upload-input",className:"btn btn-text btn-blue right-margin-10","data-toggle":"tooltip","data-placement":"auto top","data-title":"Select file(s) to upload"},m({className:"far fa-upload"}),g({id:"file-upload-input",className:"input--hidden",type:"file",onChange:this.uploadFiles,multiple:!0}))),h({className:"upload-tip component-detail-name italic text-center"},"Tip: Drag and drop files on the screen at any time to upload them."),h({className:"modal-footer"}))):void 0,"create"===this.props.action&&(this.props.editing||this.state.tabs_enabled.length)?h(null,h({className:"modal-header text-gray"},m({className:"modal-header__icon fal fa-file-plus"}),"Create Tab"),h({className:"modal-body"},h({id:"tabs",className:"new-tab"},function(){var o,s,a;for(a=[],t=o=0,s=r.length;o<s;t=++o)i=r[t],n=w.call(this.state.tabs_enabled,i)>=0,(this.props.editing||n)&&(e=("full-gui"===i||"python-gui"===i)&&_.find(this.state.tabs,function(e){return e.tab_type===i}),a.push(d({id:`tab-${i}`,key:`tab-${i}`,className:"btn btn-text btn-green",disabled:e,onClick:this.addTab.bind(null,i)},this.componentDetail(i,e,!n))));return a}.call(this)),this.props.editing&&this.state.tabs_enabled.length<r.length?y({className:"top-margin-20 text-center"},x({className:"text-red"},"*")," = only shown in editor, disabled for users due to interface settings."):void 0),h({className:"modal-footer"})):void 0))):h(null)}}),e.exports=i},function(e,t,n){e.exports=function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){if(!navigator||!navigator.sendBeacon)return!1;navigator.sendBeacon(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=i(o),a=n(39),l=i(a),u=n(40),c=i(u),p=n(41),f=(n(5),function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=e.listenToBrowserNetworkEvents,i=void 0===n||n;e.db=c.default,e.sdkFamily="Web",e.networking=new l.default({del:p.del,get:p.get,post:p.post,sendBeacon:r});var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i&&(window.addEventListener("offline",function(){o.networkDownDetected()}),window.addEventListener("online",function(){o.networkUpDetected()})),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(s.default));t.default=f,e.exports=t.default},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(2),a=r(s),l=n(6),u=r(l),c=n(8),p=r(c),f=n(9),d=r(f),h=n(16),m=r(h),g=n(17),b=i(g),y=n(18),v=i(y),_=n(19),x=i(_),w=n(20),k=i(w),S=n(21),C=i(S),E=n(22),T=i(E),A=n(23),N=i(A),M=n(24),R=i(M),O=n(25),L=i(O),P=n(26),D=i(P),I=n(27),F=i(I),$=n(28),j=i($),B=n(29),z=i(B),q=n(30),H=i(q),U=n(31),W=i(U),V=n(32),G=i(V),K=n(33),Y=i(K),X=n(34),Q=i(X),Z=n(35),J=i(Z),ee=n(36),te=i(ee),ne=n(37),ie=i(ne),re=n(12),oe=i(re),se=n(38),ae=i(se),le=n(13),ue=r(le),ce=n(10),pe=r(ce),fe=(n(5),n(3)),de=r(fe),he=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=t.db,r=t.networking,o=this._config=new a.default({setup:t,db:i}),s=new u.default({config:o});r.init(o);var l={config:o,networking:r,crypto:s},c=m.default.bind(this,l,oe),f=m.default.bind(this,l,D),h=m.default.bind(this,l,j),g=m.default.bind(this,l,H),y=m.default.bind(this,l,ae),_=this._listenerManager=new d.default,w=new p.default({timeEndpoint:c,leaveEndpoint:f,heartbeatEndpoint:h,setStateEndpoint:g,subscribeEndpoint:y,crypto:l.crypto,config:l.config,listenerManager:_});this.addListener=_.addListener.bind(_),this.removeListener=_.removeListener.bind(_),this.removeAllListeners=_.removeAllListeners.bind(_),this.channelGroups={listGroups:m.default.bind(this,l,k),listChannels:m.default.bind(this,l,C),addChannels:m.default.bind(this,l,b),removeChannels:m.default.bind(this,l,v),deleteGroup:m.default.bind(this,l,x)},this.push={addChannels:m.default.bind(this,l,T),removeChannels:m.default.bind(this,l,N),deleteDevice:m.default.bind(this,l,L),listChannels:m.default.bind(this,l,R)},this.hereNow=m.default.bind(this,l,W),this.whereNow=m.default.bind(this,l,F),this.getState=m.default.bind(this,l,z),this.setState=w.adaptStateChange.bind(w),this.grant=m.default.bind(this,l,Y),this.audit=m.default.bind(this,l,G),this.publish=m.default.bind(this,l,Q),this.fire=function(e,t){return e.replicate=!1,e.storeInHistory=!1,n.publish(e,t)},this.history=m.default.bind(this,l,J),this.deleteMessages=m.default.bind(this,l,te),this.fetchMessages=m.default.bind(this,l,ie),this.time=c,this.subscribe=w.adaptSubscribeChange.bind(w),this.presence=w.adaptPresenceChange.bind(w),this.unsubscribe=w.adaptUnsubscribeChange.bind(w),this.disconnect=w.disconnect.bind(w),this.reconnect=w.reconnect.bind(w),this.destroy=function(e){w.unsubscribeAll(e),w.disconnect()},this.stop=this.destroy,this.unsubscribeAll=w.unsubscribeAll.bind(w),this.getSubscribedChannels=w.getSubscribedChannels.bind(w),this.getSubscribedChannelGroups=w.getSubscribedChannelGroups.bind(w),this.encrypt=s.encrypt.bind(s),this.decrypt=s.decrypt.bind(s),this.getAuthKey=l.config.getAuthKey.bind(l.config),this.setAuthKey=l.config.setAuthKey.bind(l.config),this.setCipherKey=l.config.setCipherKey.bind(l.config),this.getUUID=l.config.getUUID.bind(l.config),this.setUUID=l.config.setUUID.bind(l.config),this.getFilterExpression=l.config.getFilterExpression.bind(l.config),this.setFilterExpression=l.config.setFilterExpression.bind(l.config),this.setHeartbeatInterval=l.config.setHeartbeatInterval.bind(l.config),r.hasModule("proxy")&&(this.setProxy=function(e){l.config.setProxy(e),n.reconnect()})}return o(e,[{key:"getVersion",value:function(){return this._config.getVersion()}},{key:"networkDownDetected",value:function(){this._listenerManager.announceNetworkDown(),this._config.restore?this.disconnect():this.destroy(!0)}},{key:"networkUpDetected",value:function(){this._listenerManager.announceNetworkUp(),this.reconnect()}}],[{key:"generateUUID",value:function(){return de.default.createUUID()}}]),e}();he.OPERATIONS=ue.default,he.CATEGORIES=pe.default,t.default=he,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(3),o=function(e){return e&&e.__esModule?e:{default:e}}(r),s=(n(5),function(){function e(t){var n=t.setup,i=t.db;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this._db=i,this.instanceId="pn-"+o.default.createUUID(),this.secretKey=n.secretKey||n.secret_key,this.subscribeKey=n.subscribeKey||n.subscribe_key,this.publishKey=n.publishKey||n.publish_key,this.sdkName=n.sdkName,this.sdkFamily=n.sdkFamily,this.partnerId=n.partnerId,this.setAuthKey(n.authKey),this.setCipherKey(n.cipherKey),this.setFilterExpression(n.filterExpression),this.origin=n.origin||"pubsub.pndsn.com",this.secure=n.ssl||!1,this.restore=n.restore||!1,this.proxy=n.proxy,this.keepAlive=n.keepAlive,this.keepAliveSettings=n.keepAliveSettings,this.autoNetworkDetection=n.autoNetworkDetection||!1,this.dedupeOnSubscribe=n.dedupeOnSubscribe||!1,this.maximumCacheSize=n.maximumCacheSize||100,this.customEncrypt=n.customEncrypt,this.customDecrypt=n.customDecrypt,"undefined"!=typeof location&&"https:"===location.protocol&&(this.secure=!0),this.logVerbosity=n.logVerbosity||!1,this.suppressLeaveEvents=n.suppressLeaveEvents||!1,this.announceFailedHeartbeats=n.announceFailedHeartbeats||!0,this.announceSuccessfulHeartbeats=n.announceSuccessfulHeartbeats||!1,this.useInstanceId=n.useInstanceId||!1,this.useRequestId=n.useRequestId||!1,this.requestMessageCountThreshold=n.requestMessageCountThreshold,this.setTransactionTimeout(n.transactionalRequestTimeout||15e3),this.setSubscribeTimeout(n.subscribeRequestTimeout||31e4),this.setSendBeaconConfig(n.useSendBeacon||!0),this.setPresenceTimeout(n.presenceTimeout||300),null!=n.heartbeatInterval&&this.setHeartbeatInterval(n.heartbeatInterval),this.setUUID(this._decideUUID(n.uuid))}return i(e,[{key:"getAuthKey",value:function(){return this.authKey}},{key:"setAuthKey",value:function(e){return this.authKey=e,this}},{key:"setCipherKey",value:function(e){return this.cipherKey=e,this}},{key:"getUUID",value:function(){return this.UUID}},{key:"setUUID",value:function(e){return this._db&&this._db.set&&this._db.set(this.subscribeKey+"uuid",e),this.UUID=e,this}},{key:"getFilterExpression",value:function(){return this.filterExpression}},{key:"setFilterExpression",value:function(e){return this.filterExpression=e,this}},{key:"getPresenceTimeout",value:function(){return this._presenceTimeout}},{key:"setPresenceTimeout",value:function(e){return this._presenceTimeout=e,this.setHeartbeatInterval(this._presenceTimeout/2-1),this}},{key:"setProxy",value:function(e){this.proxy=e}},{key:"getHeartbeatInterval",value:function(){return this._heartbeatInterval}},{key:"setHeartbeatInterval",value:function(e){return this._heartbeatInterval=e,this}},{key:"getSubscribeTimeout",value:function(){return this._subscribeRequestTimeout}},{key:"setSubscribeTimeout",value:function(e){return this._subscribeRequestTimeout=e,this}},{key:"getTransactionTimeout",value:function(){return this._transactionalRequestTimeout}},{key:"setTransactionTimeout",value:function(e){return this._transactionalRequestTimeout=e,this}},{key:"isSendBeaconEnabled",value:function(){return this._useSendBeacon}},{key:"setSendBeaconConfig",value:function(e){return this._useSendBeacon=e,this}},{key:"getVersion",value:function(){return"4.21.6"}},{key:"_decideUUID",value:function(e){return e||(this._db&&this._db.get&&this._db.get(this.subscribeKey+"uuid")?this._db.get(this.subscribeKey+"uuid"):"pn-"+o.default.createUUID())}}]),e}());t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),r=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default={createUUID:function(){return r.default.uuid?r.default.uuid():(0,r.default)()}},e.exports=t.default},function(e,t,n){var i,r,o;r=[t],void 0!==(o="function"==typeof(i=function(e){function t(){var e,t,n="";for(e=0;e<32;e++)t=16*Math.random()|0,8!==e&&12!==e&&16!==e&&20!==e||(n+="-"),n+=(12===e?4:16===e?3&t|8:t).toString(16);return n}function n(e,t){var n=i[t||"all"];return n&&n.test(e)||!1}var i={3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i};t.isUUID=n,t.VERSION="0.1.0",e.uuid=t,e.isUUID=n})?i.apply(t,r):i)&&(e.exports=o)},function(e,t){"use strict";e.exports={}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(2),s=(i(o),n(7)),a=i(s),l=function(){function e(t){var n=t.config;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this._config=n,this._iv="0123456789012345",this._allowedKeyEncodings=["hex","utf8","base64","binary"],this._allowedKeyLengths=[128,256],this._allowedModes=["ecb","cbc"],this._defaultOptions={encryptKey:!0,keyEncoding:"utf8",keyLength:256,mode:"cbc"}}return r(e,[{key:"HMACSHA256",value:function(e){return a.default.HmacSHA256(e,this._config.secretKey).toString(a.default.enc.Base64)}},{key:"SHA256",value:function(e){return a.default.SHA256(e).toString(a.default.enc.Hex)}},{key:"_parseOptions",value:function(e){var t=e||{};return t.hasOwnProperty("encryptKey")||(t.encryptKey=this._defaultOptions.encryptKey),t.hasOwnProperty("keyEncoding")||(t.keyEncoding=this._defaultOptions.keyEncoding),t.hasOwnProperty("keyLength")||(t.keyLength=this._defaultOptions.keyLength),t.hasOwnProperty("mode")||(t.mode=this._defaultOptions.mode),-1===this._allowedKeyEncodings.indexOf(t.keyEncoding.toLowerCase())&&(t.keyEncoding=this._defaultOptions.keyEncoding),-1===this._allowedKeyLengths.indexOf(parseInt(t.keyLength,10))&&(t.keyLength=this._defaultOptions.keyLength),-1===this._allowedModes.indexOf(t.mode.toLowerCase())&&(t.mode=this._defaultOptions.mode),t}},{key:"_decodeKey",value:function(e,t){return"base64"===t.keyEncoding?a.default.enc.Base64.parse(e):"hex"===t.keyEncoding?a.default.enc.Hex.parse(e):e}},{key:"_getPaddedKey",value:function(e,t){return e=this._decodeKey(e,t),t.encryptKey?a.default.enc.Utf8.parse(this.SHA256(e).slice(0,32)):e}},{key:"_getMode",value:function(e){return"ecb"===e.mode?a.default.mode.ECB:a.default.mode.CBC}},{key:"_getIV",value:function(e){return"cbc"===e.mode?a.default.enc.Utf8.parse(this._iv):null}},{key:"encrypt",value:function(e,t,n){return this._config.customEncrypt?this._config.customEncrypt(e):this.pnEncrypt(e,t,n)}},{key:"decrypt",value:function(e,t,n){return this._config.customDecrypt?this._config.customDecrypt(e):this.pnDecrypt(e,t,n)}},{key:"pnEncrypt",value:function(e,t,n){if(!t&&!this._config.cipherKey)return e;n=this._parseOptions(n);var i=this._getIV(n),r=this._getMode(n),o=this._getPaddedKey(t||this._config.cipherKey,n);return a.default.AES.encrypt(e,o,{iv:i,mode:r}).ciphertext.toString(a.default.enc.Base64)||e}},{key:"pnDecrypt",value:function(e,t,n){if(!t&&!this._config.cipherKey)return e;n=this._parseOptions(n);var i=this._getIV(n),r=this._getMode(n),o=this._getPaddedKey(t||this._config.cipherKey,n);try{var s=a.default.enc.Base64.parse(e),l=a.default.AES.decrypt({ciphertext:s},o,{iv:i,mode:r}).toString(a.default.enc.Utf8);return JSON.parse(l)}catch(e){return null}}}]),e}();t.default=l,e.exports=t.default},function(e,t){"use strict";var n=n||function(e,t){var n={},i=n.lib={},r=function(){},o=i.Base={extend:function(e){r.prototype=this;var t=new r;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},s=i.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,n=e.words,i=this.sigBytes;if(e=e.sigBytes,this.clamp(),i%4)for(var r=0;r<e;r++)t[i+r>>>2]|=(n[r>>>2]>>>24-r%4*8&255)<<24-(i+r)%4*8;else if(65535<n.length)for(r=0;r<e;r+=4)t[i+r>>>2]=n[r>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],i=0;i<t;i+=4)n.push(4294967296*e.random()|0);return new s.init(n,t)}}),a=n.enc={},l=a.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],i=0;i<e;i++){var r=t[i>>>2]>>>24-i%4*8&255;n.push((r>>>4).toString(16)),n.push((15&r).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new s.init(n,t/2)}},u=a.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],i=0;i<e;i++)n.push(String.fromCharCode(t[i>>>2]>>>24-i%4*8&255));return n.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new s.init(n,t)}},c=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},p=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,i=n.words,r=n.sigBytes,o=this.blockSize,a=r/(4*o),a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0);if(t=a*o,r=e.min(4*t,r),t){for(var l=0;l<t;l+=o)this._doProcessBlock(i,l);l=i.splice(0,t),n.sigBytes-=r}return new s.init(l,r)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});i.Hasher=p.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new f.HMAC.init(e,n).finalize(t)}}});var f=n.algo={};return n}(Math);!function(e){for(var t=n,i=t.lib,r=i.WordArray,o=i.Hasher,i=t.algo,s=[],a=[],l=function(e){return 4294967296*(e-(0|e))|0},u=2,c=0;64>c;){var p;e:{p=u;for(var f=e.sqrt(p),d=2;d<=f;d++)if(!(p%d)){p=!1;break e}p=!0}p&&(8>c&&(s[c]=l(e.pow(u,.5))),a[c]=l(e.pow(u,1/3)),c++),u++}var h=[],i=i.SHA256=o.extend({_doReset:function(){this._hash=new r.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],r=n[1],o=n[2],s=n[3],l=n[4],u=n[5],c=n[6],p=n[7],f=0;64>f;f++){if(16>f)h[f]=0|e[t+f];else{var d=h[f-15],m=h[f-2];h[f]=((d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3)+h[f-7]+((m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10)+h[f-16]}d=p+((l<<26|l>>>6)^(l<<21|l>>>11)^(l<<7|l>>>25))+(l&u^~l&c)+a[f]+h[f],m=((i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22))+(i&r^i&o^r&o),p=c,c=u,u=l,l=s+d|0,s=o,o=r,r=i,i=d+m|0}n[0]=n[0]+i|0,n[1]=n[1]+r|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+l|0,n[5]=n[5]+u|0,n[6]=n[6]+c|0,n[7]=n[7]+p|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,r=8*t.sigBytes;return n[r>>>5]|=128<<24-r%32,n[14+(r+64>>>9<<4)]=e.floor(i/4294967296),n[15+(r+64>>>9<<4)]=i,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=o._createHelper(i),t.HmacSHA256=o._createHmacHelper(i)}(Math),function(){var e=n,t=e.enc.Utf8;e.algo.HMAC=e.lib.Base.extend({init:function(e,n){e=this._hasher=new e.init,"string"==typeof n&&(n=t.parse(n));var i=e.blockSize,r=4*i;n.sigBytes>r&&(n=e.finalize(n)),n.clamp();for(var o=this._oKey=n.clone(),s=this._iKey=n.clone(),a=o.words,l=s.words,u=0;u<i;u++)a[u]^=1549556828,l[u]^=909522486;o.sigBytes=s.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}})}(),function(){var e=n,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,i=this._map;e.clamp(),e=[];for(var r=0;r<n;r+=3)for(var o=(t[r>>>2]>>>24-r%4*8&255)<<16|(t[r+1>>>2]>>>24-(r+1)%4*8&255)<<8|t[r+2>>>2]>>>24-(r+2)%4*8&255,s=0;4>s&&r+.75*s<n;s++)e.push(i.charAt(o>>>6*(3-s)&63));if(t=i.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var n=e.length,i=this._map,r=i.charAt(64);r&&-1!=(r=e.indexOf(r))&&(n=r);for(var r=[],o=0,s=0;s<n;s++)if(s%4){var a=i.indexOf(e.charAt(s-1))<<s%4*2,l=i.indexOf(e.charAt(s))>>>6-s%4*2;r[o>>>2]|=(a|l)<<24-o%4*8,o++}return t.create(r,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){function t(e,t,n,i,r,o,s){return((e=e+(t&n|~t&i)+r+s)<<o|e>>>32-o)+t}function i(e,t,n,i,r,o,s){return((e=e+(t&i|n&~i)+r+s)<<o|e>>>32-o)+t}function r(e,t,n,i,r,o,s){return((e=e+(t^n^i)+r+s)<<o|e>>>32-o)+t}function o(e,t,n,i,r,o,s){return((e=e+(n^(t|~i))+r+s)<<o|e>>>32-o)+t}for(var s=n,a=s.lib,l=a.WordArray,u=a.Hasher,a=s.algo,c=[],p=0;64>p;p++)c[p]=4294967296*e.abs(e.sin(p+1))|0;a=a.MD5=u.extend({_doReset:function(){this._hash=new l.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,n){for(var s=0;16>s;s++){var a=n+s,l=e[a];e[a]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}var s=this._hash.words,a=e[n+0],l=e[n+1],u=e[n+2],p=e[n+3],f=e[n+4],d=e[n+5],h=e[n+6],m=e[n+7],g=e[n+8],b=e[n+9],y=e[n+10],v=e[n+11],_=e[n+12],x=e[n+13],w=e[n+14],k=e[n+15],S=s[0],C=s[1],E=s[2],T=s[3],S=t(S,C,E,T,a,7,c[0]),T=t(T,S,C,E,l,12,c[1]),E=t(E,T,S,C,u,17,c[2]),C=t(C,E,T,S,p,22,c[3]),S=t(S,C,E,T,f,7,c[4]),T=t(T,S,C,E,d,12,c[5]),E=t(E,T,S,C,h,17,c[6]),C=t(C,E,T,S,m,22,c[7]),S=t(S,C,E,T,g,7,c[8]),T=t(T,S,C,E,b,12,c[9]),E=t(E,T,S,C,y,17,c[10]),C=t(C,E,T,S,v,22,c[11]),S=t(S,C,E,T,_,7,c[12]),T=t(T,S,C,E,x,12,c[13]),E=t(E,T,S,C,w,17,c[14]),C=t(C,E,T,S,k,22,c[15]),S=i(S,C,E,T,l,5,c[16]),T=i(T,S,C,E,h,9,c[17]),E=i(E,T,S,C,v,14,c[18]),C=i(C,E,T,S,a,20,c[19]),S=i(S,C,E,T,d,5,c[20]),T=i(T,S,C,E,y,9,c[21]),E=i(E,T,S,C,k,14,c[22]),C=i(C,E,T,S,f,20,c[23]),S=i(S,C,E,T,b,5,c[24]),T=i(T,S,C,E,w,9,c[25]),E=i(E,T,S,C,p,14,c[26]),C=i(C,E,T,S,g,20,c[27]),S=i(S,C,E,T,x,5,c[28]),T=i(T,S,C,E,u,9,c[29]),E=i(E,T,S,C,m,14,c[30]),C=i(C,E,T,S,_,20,c[31]),S=r(S,C,E,T,d,4,c[32]),T=r(T,S,C,E,g,11,c[33]),E=r(E,T,S,C,v,16,c[34]),C=r(C,E,T,S,w,23,c[35]),S=r(S,C,E,T,l,4,c[36]),T=r(T,S,C,E,f,11,c[37]),E=r(E,T,S,C,m,16,c[38]),C=r(C,E,T,S,y,23,c[39]),S=r(S,C,E,T,x,4,c[40]),T=r(T,S,C,E,a,11,c[41]),E=r(E,T,S,C,p,16,c[42]),C=r(C,E,T,S,h,23,c[43]),S=r(S,C,E,T,b,4,c[44]),T=r(T,S,C,E,_,11,c[45]),E=r(E,T,S,C,k,16,c[46]),C=r(C,E,T,S,u,23,c[47]),S=o(S,C,E,T,a,6,c[48]),T=o(T,S,C,E,m,10,c[49]),E=o(E,T,S,C,w,15,c[50]),C=o(C,E,T,S,d,21,c[51]),S=o(S,C,E,T,_,6,c[52]),T=o(T,S,C,E,p,10,c[53]),E=o(E,T,S,C,y,15,c[54]),C=o(C,E,T,S,l,21,c[55]),S=o(S,C,E,T,g,6,c[56]),T=o(T,S,C,E,k,10,c[57]),E=o(E,T,S,C,h,15,c[58]),C=o(C,E,T,S,x,21,c[59]),S=o(S,C,E,T,f,6,c[60]),T=o(T,S,C,E,v,10,c[61]),E=o(E,T,S,C,u,15,c[62]),C=o(C,E,T,S,b,21,c[63]);s[0]=s[0]+S|0,s[1]=s[1]+C|0,s[2]=s[2]+E|0,s[3]=s[3]+T|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,r=8*t.sigBytes;n[r>>>5]|=128<<24-r%32;var o=e.floor(i/4294967296);for(n[15+(r+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(r+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),t.sigBytes=4*(n.length+1),this._process(),t=this._hash,n=t.words,i=0;4>i;i++)r=n[i],n[i]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8);return t},clone:function(){var e=u.clone.call(this);return e._hash=this._hash.clone(),e}}),s.MD5=u._createHelper(a),s.HmacMD5=u._createHmacHelper(a)}(Math),function(){var e=n,t=e.lib,i=t.Base,r=t.WordArray,t=e.algo,o=t.EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:t.MD5,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,i=n.hasher.create(),o=r.create(),s=o.words,a=n.keySize,n=n.iterations;s.length<a;){l&&i.update(l);var l=i.update(e).finalize(t);i.reset();for(var u=1;u<n;u++)l=i.finalize(l),i.reset();o.concat(l)}return o.sigBytes=4*a,o}});e.EvpKDF=function(e,t,n){return o.create(n).compute(e,t)}}(),n.lib.Cipher||function(e){var t=n,i=t.lib,r=i.Base,o=i.WordArray,s=i.BufferedBlockAlgorithm,a=t.enc.Base64,l=t.algo.EvpKDF,u=i.Cipher=s.extend({cfg:r.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(t,n,i){return("string"==typeof n?m:h).encrypt(e,t,n,i)},decrypt:function(t,n,i){return("string"==typeof n?m:h).decrypt(e,t,n,i)}}}});i.StreamCipher=u.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var c=t.mode={},p=function(e,t,n){var i=this._iv;i?this._iv=void 0:i=this._prevBlock;for(var r=0;r<n;r++)e[t+r]^=i[r]},f=(i.BlockCipherMode=r.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}})).extend();f.Encryptor=f.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize;p.call(this,e,t,i),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+i)}}),f.Decryptor=f.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,r=e.slice(t,t+i);n.decryptBlock(e,t),p.call(this,e,t,i),this._prevBlock=r}}),c=c.CBC=f,f=(t.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,n=n-e.sigBytes%n,i=n<<24|n<<16|n<<8|n,r=[],s=0;s<n;s+=4)r.push(i);n=o.create(r,n),e.concat(n)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},i.BlockCipher=u.extend({cfg:u.cfg.extend({mode:c,padding:f}),reset:function(){u.reset.call(this);var e=this.cfg,t=e.iv,e=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=e.createEncryptor;else n=e.createDecryptor,this._minBufferSize=1;this._mode=n.call(e,this,t&&t.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4});var d=i.CipherParams=r.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),c=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return((e=e.salt)?o.create([1398893684,1701076831]).concat(e).concat(t):t).toString(a)},parse:function(e){var t=(e=a.parse(e)).words;if(1398893684==t[0]&&1701076831==t[1]){var n=o.create(t.slice(2,4));t.splice(0,4),e.sigBytes-=16}return d.create({ciphertext:e,salt:n})}},h=i.SerializableCipher=r.extend({cfg:r.extend({format:c}),encrypt:function(e,t,n,i){i=this.cfg.extend(i);var r=e.createEncryptor(n,i);return t=r.finalize(t),r=r.cfg,d.create({ciphertext:t,key:n,iv:r.iv,algorithm:e,mode:r.mode,padding:r.padding,blockSize:e.blockSize,formatter:i.format})},decrypt:function(e,t,n,i){return i=this.cfg.extend(i),t=this._parse(t,i.format),e.createDecryptor(n,i).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),t=(t.kdf={}).OpenSSL={execute:function(e,t,n,i){return i||(i=o.random(8)),e=l.create({keySize:t+n}).compute(e,i),n=o.create(e.words.slice(t),4*n),e.sigBytes=4*t,d.create({key:e,iv:n,salt:i})}},m=i.PasswordBasedCipher=h.extend({cfg:h.cfg.extend({kdf:t}),encrypt:function(e,t,n,i){return i=this.cfg.extend(i),n=i.kdf.execute(n,e.keySize,e.ivSize),i.iv=n.iv,(e=h.encrypt.call(this,e,t,n.key,i)).mixIn(n),e},decrypt:function(e,t,n,i){return i=this.cfg.extend(i),t=this._parse(t,i.format),n=i.kdf.execute(n,e.keySize,e.ivSize,t.salt),i.iv=n.iv,h.decrypt.call(this,e,t,n.key,i)}})}(),function(){for(var e=n,t=e.lib.BlockCipher,i=e.algo,r=[],o=[],s=[],a=[],l=[],u=[],c=[],p=[],f=[],d=[],h=[],m=0;256>m;m++)h[m]=128>m?m<<1:m<<1^283;for(var g=0,b=0,m=0;256>m;m++){var y=b^b<<1^b<<2^b<<3^b<<4,y=y>>>8^255&y^99;r[g]=y,o[y]=g;var v=h[g],_=h[v],x=h[_],w=257*h[y]^16843008*y;s[g]=w<<24|w>>>8,a[g]=w<<16|w>>>16,l[g]=w<<8|w>>>24,u[g]=w,w=16843009*x^65537*_^257*v^16843008*g,c[y]=w<<24|w>>>8,p[y]=w<<16|w>>>16,f[y]=w<<8|w>>>24,d[y]=w,g?(g=v^h[h[h[x^v]]],b^=h[h[b]]):g=b=1}var k=[0,1,2,4,8,16,32,64,128,27,54],i=i.AES=t.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes/4,e=4*((this._nRounds=n+6)+1),i=this._keySchedule=[],o=0;o<e;o++)if(o<n)i[o]=t[o];else{var s=i[o-1];o%n?6<n&&4==o%n&&(s=r[s>>>24]<<24|r[s>>>16&255]<<16|r[s>>>8&255]<<8|r[255&s]):(s=r[(s=s<<8|s>>>24)>>>24]<<24|r[s>>>16&255]<<16|r[s>>>8&255]<<8|r[255&s],s^=k[o/n|0]<<24),i[o]=i[o-n]^s}for(t=this._invKeySchedule=[],n=0;n<e;n++)o=e-n,s=n%4?i[o]:i[o-4],t[n]=4>n||4>=o?s:c[r[s>>>24]]^p[r[s>>>16&255]]^f[r[s>>>8&255]]^d[r[255&s]]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,s,a,l,u,r)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,c,p,f,d,o),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,i,r,o,s,a){for(var l=this._nRounds,u=e[t]^n[0],c=e[t+1]^n[1],p=e[t+2]^n[2],f=e[t+3]^n[3],d=4,h=1;h<l;h++)var m=i[u>>>24]^r[c>>>16&255]^o[p>>>8&255]^s[255&f]^n[d++],g=i[c>>>24]^r[p>>>16&255]^o[f>>>8&255]^s[255&u]^n[d++],b=i[p>>>24]^r[f>>>16&255]^o[u>>>8&255]^s[255&c]^n[d++],f=i[f>>>24]^r[u>>>16&255]^o[c>>>8&255]^s[255&p]^n[d++],u=m,c=g,p=b;m=(a[u>>>24]<<24|a[c>>>16&255]<<16|a[p>>>8&255]<<8|a[255&f])^n[d++],g=(a[c>>>24]<<24|a[p>>>16&255]<<16|a[f>>>8&255]<<8|a[255&u])^n[d++],b=(a[p>>>24]<<24|a[f>>>16&255]<<16|a[u>>>8&255]<<8|a[255&c])^n[d++],f=(a[f>>>24]<<24|a[u>>>16&255]<<16|a[c>>>8&255]<<8|a[255&p])^n[d++],e[t]=m,e[t+1]=g,e[t+2]=b,e[t+3]=f},keySize:8});e.AES=t._createHelper(i)}(),n.mode.ECB=function(){var e=n.lib.BlockCipherMode.extend();return e.Encryptor=e.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),e.Decryptor=e.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),e}(),e.exports=n},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(6),s=(i(o),n(2)),a=(i(s),n(9)),l=(i(a),n(11)),u=i(l),c=n(14),p=i(c),f=n(15),d=i(f),h=(n(5),n(10)),m=i(h),g=function(){function e(t){var n=t.subscribeEndpoint,i=t.leaveEndpoint,r=t.heartbeatEndpoint,o=t.setStateEndpoint,s=t.timeEndpoint,a=t.config,l=t.crypto,c=t.listenerManager;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this._listenerManager=c,this._config=a,this._leaveEndpoint=i,this._heartbeatEndpoint=r,this._setStateEndpoint=o,this._subscribeEndpoint=n,this._crypto=l,this._channels={},this._presenceChannels={},this._heartbeatChannels={},this._heartbeatChannelGroups={},this._channelGroups={},this._presenceChannelGroups={},this._pendingChannelSubscriptions=[],this._pendingChannelGroupSubscriptions=[],this._currentTimetoken=0,this._lastTimetoken=0,this._storedTimetoken=null,this._subscriptionStatusAnnounced=!1,this._isOnline=!0,this._reconnectionManager=new u.default({timeEndpoint:s}),this._dedupingManager=new p.default({config:a})}return r(e,[{key:"adaptStateChange",value:function(e,t){var n=this,i=e.state,r=e.channels,o=void 0===r?[]:r,s=e.channelGroups,a=void 0===s?[]:s;return o.forEach(function(e){e in n._channels&&(n._channels[e].state=i)}),a.forEach(function(e){e in n._channelGroups&&(n._channelGroups[e].state=i)}),this._setStateEndpoint({state:i,channels:o,channelGroups:a},t)}},{key:"adaptPresenceChange",value:function(e){var t=this,n=e.connected,i=e.channels,r=void 0===i?[]:i,o=e.channelGroups,s=void 0===o?[]:o;n?(r.forEach(function(e){t._heartbeatChannels[e]={state:{}}}),s.forEach(function(e){t._heartbeatChannelGroups[e]={state:{}}})):(r.forEach(function(e){e in t._heartbeatChannels&&delete t._heartbeatChannels[e]}),s.forEach(function(e){e in t._heartbeatChannelGroups&&delete t._heartbeatChannelGroups[e]}),!1===this._config.suppressLeaveEvents&&this._leaveEndpoint({channels:r,channelGroups:s},function(e){t._listenerManager.announceStatus(e)})),this.reconnect()}},{key:"adaptSubscribeChange",value:function(e){var t=this,n=e.timetoken,i=e.channels,r=void 0===i?[]:i,o=e.channelGroups,s=void 0===o?[]:o,a=e.withPresence,l=void 0!==a&&a,u=e.withHeartbeats,c=void 0===u||u;this._config.subscribeKey&&""!==this._config.subscribeKey?(n&&(this._lastTimetoken=this._currentTimetoken,this._currentTimetoken=n),"0"!==this._currentTimetoken&&0!==this._currentTimetoken&&(this._storedTimetoken=this._currentTimetoken,this._currentTimetoken=0),r.forEach(function(e){t._channels[e]={state:{}},l&&(t._presenceChannels[e]={}),c&&(t._heartbeatChannels[e]={}),t._pendingChannelSubscriptions.push(e)}),s.forEach(function(e){t._channelGroups[e]={state:{}},l&&(t._presenceChannelGroups[e]={}),c&&(t._heartbeatChannelGroups[e]={}),t._pendingChannelGroupSubscriptions.push(e)}),this._subscriptionStatusAnnounced=!1,this.reconnect()):console&&console.log&&console.log("subscribe key missing; aborting subscribe")}},{key:"adaptUnsubscribeChange",value:function(e,t){var n=this,i=e.channels,r=void 0===i?[]:i,o=e.channelGroups,s=void 0===o?[]:o,a=[],l=[];r.forEach(function(e){e in n._channels&&(delete n._channels[e],a.push(e),e in n._heartbeatChannels&&delete n._heartbeatChannels[e]),e in n._presenceChannels&&(delete n._presenceChannels[e],a.push(e))}),s.forEach(function(e){e in n._channelGroups&&(delete n._channelGroups[e],l.push(e),e in n._heartbeatChannelGroups&&delete n._heartbeatChannelGroups[e]),e in n._presenceChannelGroups&&(delete n._channelGroups[e],l.push(e))}),0===a.length&&0===l.length||(!1!==this._config.suppressLeaveEvents||t||this._leaveEndpoint({channels:a,channelGroups:l},function(e){e.affectedChannels=a,e.affectedChannelGroups=l,e.currentTimetoken=n._currentTimetoken,e.lastTimetoken=n._lastTimetoken,n._listenerManager.announceStatus(e)}),0===Object.keys(this._channels).length&&0===Object.keys(this._presenceChannels).length&&0===Object.keys(this._channelGroups).length&&0===Object.keys(this._presenceChannelGroups).length&&(this._lastTimetoken=0,this._currentTimetoken=0,this._storedTimetoken=null,this._region=null,this._reconnectionManager.stopPolling()),this.reconnect())}},{key:"unsubscribeAll",value:function(e){this.adaptUnsubscribeChange({channels:this.getSubscribedChannels(),channelGroups:this.getSubscribedChannelGroups()},e)}},{key:"getHeartbeatChannels",value:function(){return Object.keys(this._heartbeatChannels)}},{key:"getHeartbeatChannelGroups",value:function(){return Object.keys(this._heartbeatChannelGroups)}},{key:"getSubscribedChannels",value:function(){return Object.keys(this._channels)}},{key:"getSubscribedChannelGroups",value:function(){return Object.keys(this._channelGroups)}},{key:"reconnect",value:function(){this._startSubscribeLoop(),this._registerHeartbeatTimer()}},{key:"disconnect",value:function(){this._stopSubscribeLoop(),this._stopHeartbeatTimer(),this._reconnectionManager.stopPolling()}},{key:"_registerHeartbeatTimer",value:function(){this._stopHeartbeatTimer(),0!==this._config.getHeartbeatInterval()&&(this._performHeartbeatLoop(),this._heartbeatTimer=setInterval(this._performHeartbeatLoop.bind(this),1e3*this._config.getHeartbeatInterval()))}},{key:"_stopHeartbeatTimer",value:function(){this._heartbeatTimer&&(clearInterval(this._heartbeatTimer),this._heartbeatTimer=null)}},{key:"_performHeartbeatLoop",value:function(){var e=this,t=this.getHeartbeatChannels(),n=this.getHeartbeatChannelGroups(),i={};0===t.length&&0===n.length||(this.getSubscribedChannels().forEach(function(t){var n=e._channels[t].state;Object.keys(n).length&&(i[t]=n)}),this.getSubscribedChannelGroups().forEach(function(t){var n=e._channelGroups[t].state;Object.keys(n).length&&(i[t]=n)}),this._heartbeatEndpoint({channels:t,channelGroups:n,state:i},function(t){t.error&&e._config.announceFailedHeartbeats&&e._listenerManager.announceStatus(t),t.error&&e._config.autoNetworkDetection&&e._isOnline&&(e._isOnline=!1,e.disconnect(),e._listenerManager.announceNetworkDown(),e.reconnect()),!t.error&&e._config.announceSuccessfulHeartbeats&&e._listenerManager.announceStatus(t)}.bind(this)))}},{key:"_startSubscribeLoop",value:function(){this._stopSubscribeLoop();var e=[],t=[];if(Object.keys(this._channels).forEach(function(t){return e.push(t)}),Object.keys(this._presenceChannels).forEach(function(t){return e.push(t+"-pnpres")}),Object.keys(this._channelGroups).forEach(function(e){return t.push(e)}),Object.keys(this._presenceChannelGroups).forEach(function(e){return t.push(e+"-pnpres")}),0!==e.length||0!==t.length){var n={channels:e,channelGroups:t,timetoken:this._currentTimetoken,filterExpression:this._config.filterExpression,region:this._region};this._subscribeCall=this._subscribeEndpoint(n,this._processSubscribeResponse.bind(this))}}},{key:"_processSubscribeResponse",value:function(e,t){var n=this;if(e.error)e.category===m.default.PNTimeoutCategory?this._startSubscribeLoop():e.category===m.default.PNNetworkIssuesCategory?(this.disconnect(),e.error&&this._config.autoNetworkDetection&&this._isOnline&&(this._isOnline=!1,this._listenerManager.announceNetworkDown()),this._reconnectionManager.onReconnection(function(){n._config.autoNetworkDetection&&!n._isOnline&&(n._isOnline=!0,n._listenerManager.announceNetworkUp()),n.reconnect(),n._subscriptionStatusAnnounced=!0;var t={category:m.default.PNReconnectedCategory,operation:e.operation,lastTimetoken:n._lastTimetoken,currentTimetoken:n._currentTimetoken};n._listenerManager.announceStatus(t)}),this._reconnectionManager.startPolling(),this._listenerManager.announceStatus(e)):e.category===m.default.PNBadRequestCategory?(this._stopHeartbeatTimer(),this._listenerManager.announceStatus(e)):this._listenerManager.announceStatus(e);else{if(this._storedTimetoken?(this._currentTimetoken=this._storedTimetoken,this._storedTimetoken=null):(this._lastTimetoken=this._currentTimetoken,this._currentTimetoken=t.metadata.timetoken),!this._subscriptionStatusAnnounced){var i={};i.category=m.default.PNConnectedCategory,i.operation=e.operation,i.affectedChannels=this._pendingChannelSubscriptions,i.subscribedChannels=this.getSubscribedChannels(),i.affectedChannelGroups=this._pendingChannelGroupSubscriptions,i.lastTimetoken=this._lastTimetoken,i.currentTimetoken=this._currentTimetoken,this._subscriptionStatusAnnounced=!0,this._listenerManager.announceStatus(i),this._pendingChannelSubscriptions=[],this._pendingChannelGroupSubscriptions=[]}var r=t.messages||[],o=this._config,s=o.requestMessageCountThreshold,a=o.dedupeOnSubscribe;if(s&&r.length>=s){var l={};l.category=m.default.PNRequestMessageCountExceededCategory,l.operation=e.operation,this._listenerManager.announceStatus(l)}r.forEach(function(e){var t=e.channel,i=e.subscriptionMatch,r=e.publishMetaData;if(t===i&&(i=null),a){if(n._dedupingManager.isDuplicate(e))return;n._dedupingManager.addEntry(e)}if(d.default.endsWith(e.channel,"-pnpres")){var o={channel:null,subscription:null};o.actualChannel=null!=i?t:null,o.subscribedChannel=null!=i?i:t,t&&(o.channel=t.substring(0,t.lastIndexOf("-pnpres"))),i&&(o.subscription=i.substring(0,i.lastIndexOf("-pnpres"))),o.action=e.payload.action,o.state=e.payload.data,o.timetoken=r.publishTimetoken,o.occupancy=e.payload.occupancy,o.uuid=e.payload.uuid,o.timestamp=e.payload.timestamp,e.payload.join&&(o.join=e.payload.join),e.payload.leave&&(o.leave=e.payload.leave),e.payload.timeout&&(o.timeout=e.payload.timeout),n._listenerManager.announcePresence(o)}else{var s={channel:null,subscription:null};s.actualChannel=null!=i?t:null,s.subscribedChannel=null!=i?i:t,s.channel=t,s.subscription=i,s.timetoken=r.publishTimetoken,s.publisher=e.issuingClientId,e.userMetadata&&(s.userMetadata=e.userMetadata),n._config.cipherKey?s.message=n._crypto.decrypt(e.payload):s.message=e.payload,n._listenerManager.announceMessage(s)}}),this._region=t.metadata.region,this._startSubscribeLoop()}}},{key:"_stopSubscribeLoop",value:function(){this._subscribeCall&&("function"==typeof this._subscribeCall.abort&&this._subscribeCall.abort(),this._subscribeCall=null)}}]),e}();t.default=g,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=(n(5),n(10)),o=function(e){return e&&e.__esModule?e:{default:e}}(r),s=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this._listeners=[]}return i(e,[{key:"addListener",value:function(e){this._listeners.push(e)}},{key:"removeListener",value:function(e){var t=[];this._listeners.forEach(function(n){n!==e&&t.push(n)}),this._listeners=t}},{key:"removeAllListeners",value:function(){this._listeners=[]}},{key:"announcePresence",value:function(e){this._listeners.forEach(function(t){t.presence&&t.presence(e)})}},{key:"announceStatus",value:function(e){this._listeners.forEach(function(t){t.status&&t.status(e)})}},{key:"announceMessage",value:function(e){this._listeners.forEach(function(t){t.message&&t.message(e)})}},{key:"announceNetworkUp",value:function(){var e={};e.category=o.default.PNNetworkUpCategory,this.announceStatus(e)}},{key:"announceNetworkDown",value:function(){var e={};e.category=o.default.PNNetworkDownCategory,this.announceStatus(e)}}]),e}();t.default=s,e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={PNNetworkUpCategory:"PNNetworkUpCategory",PNNetworkDownCategory:"PNNetworkDownCategory",PNNetworkIssuesCategory:"PNNetworkIssuesCategory",PNTimeoutCategory:"PNTimeoutCategory",PNBadRequestCategory:"PNBadRequestCategory",PNAccessDeniedCategory:"PNAccessDeniedCategory",PNUnknownCategory:"PNUnknownCategory",PNReconnectedCategory:"PNReconnectedCategory",PNConnectedCategory:"PNConnectedCategory",PNRequestMessageCountExceededCategory:"PNRequestMessageCountExceededCategory"},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=(n(12),n(5),function(){function e(t){var n=t.timeEndpoint;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this._timeEndpoint=n}return i(e,[{key:"onReconnection",value:function(e){this._reconnectionCallback=e}},{key:"startPolling",value:function(){this._timeTimer=setInterval(this._performTimeLoop.bind(this),3e3)}},{key:"stopPolling",value:function(){clearInterval(this._timeTimer)}},{key:"_performTimeLoop",value:function(){var e=this;this._timeEndpoint(function(t){t.error||(clearInterval(e._timeTimer),e._reconnectionCallback())})}}]),e}());t.default=r,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return r.default.PNTimeOperation},t.getURL=function(){return"/time/0"},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.prepareParams=function(){return{}},t.isAuthSupported=function(){return!1},t.handleResponse=function(e,t){return{timetoken:t[0]}},t.validateParams=function(){};var i=(n(5),n(13)),r=function(e){return e&&e.__esModule?e:{default:e}}(i)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={PNTimeOperation:"PNTimeOperation",PNHistoryOperation:"PNHistoryOperation",PNDeleteMessagesOperation:"PNDeleteMessagesOperation",PNFetchMessagesOperation:"PNFetchMessagesOperation",PNSubscribeOperation:"PNSubscribeOperation",PNUnsubscribeOperation:"PNUnsubscribeOperation",PNPublishOperation:"PNPublishOperation",PNPushNotificationEnabledChannelsOperation:"PNPushNotificationEnabledChannelsOperation",PNRemoveAllPushNotificationsOperation:"PNRemoveAllPushNotificationsOperation",PNWhereNowOperation:"PNWhereNowOperation",PNSetStateOperation:"PNSetStateOperation",PNHereNowOperation:"PNHereNowOperation",PNGetStateOperation:"PNGetStateOperation",PNHeartbeatOperation:"PNHeartbeatOperation",PNChannelGroupsOperation:"PNChannelGroupsOperation",PNRemoveGroupOperation:"PNRemoveGroupOperation",PNChannelsForGroupOperation:"PNChannelsForGroupOperation",PNAddChannelsToGroupOperation:"PNAddChannelsToGroupOperation",PNRemoveChannelsFromGroupOperation:"PNRemoveChannelsFromGroupOperation",PNAccessManagerGrant:"PNAccessManagerGrant",PNAccessManagerAudit:"PNAccessManagerAudit"},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=(n(2),n(5),function(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n+=1)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t}),o=function(){function e(t){var n=t.config;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.hashHistory=[],this._config=n}return i(e,[{key:"getKey",value:function(e){var t=r(JSON.stringify(e.payload)).toString();return e.publishMetaData.publishTimetoken+"-"+t}},{key:"isDuplicate",value:function(e){return this.hashHistory.includes(this.getKey(e))}},{key:"addEntry",value:function(e){this.hashHistory.length>=this._config.maximumCacheSize&&this.hashHistory.shift(),this.hashHistory.push(this.getKey(e))}},{key:"clearHistory",value:function(){this.hashHistory=[]}}]),e}();t.default=o,e.exports=t.default},function(e,t){"use strict";function n(e){return encodeURIComponent(e).replace(/[!~*'()]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function i(e){return function(e){var t=[];return Object.keys(e).forEach(function(e){return t.push(e)}),t}(e).sort()}e.exports={signPamFromParams:function(e){return i(e).map(function(t){return t+"="+n(e[t])}).join("&")},endsWith:function(e,t){return-1!==e.indexOf(t,this.length-t.length)},createPromise:function(){var e=void 0,t=void 0;return{promise:new Promise(function(n,i){e=n,t=i}),reject:t,fulfill:e}},encodeString:n}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){return function(e,t){return e.type=t,e.error=!0,e}({message:e},"validationError")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e.networking,i=e.config,o=null,a=null,u={};t.getOperation()===p.default.PNTimeOperation||t.getOperation()===p.default.PNChannelGroupsOperation?o=arguments.length<=2?void 0:arguments[2]:(u=arguments.length<=2?void 0:arguments[2],o=arguments.length<=3?void 0:arguments[3]),"undefined"==typeof Promise||o||(a=l.default.createPromise());var c=t.validateParams(e,u);if(!c){var d=t.prepareParams(e,u),h=function(e,t,n){return e.usePost&&e.usePost(t,n)?e.postURL(t,n):e.getURL(t,n)}(t,e,u),m=void 0,g={url:h,operation:t.getOperation(),timeout:t.getRequestTimeout(e)};d.uuid=i.UUID,d.pnsdk=function(e){if(e.sdkName)return e.sdkName;var t="PubNub-JS-"+e.sdkFamily;return e.partnerId&&(t+="-"+e.partnerId),t+="/"+e.getVersion()}(i),i.useInstanceId&&(d.instanceid=i.instanceId),i.useRequestId&&(d.requestid=s.default.createUUID()),t.isAuthSupported()&&i.getAuthKey()&&(d.auth=i.getAuthKey()),i.secretKey&&function(e,t,n){var i=e.config,r=e.crypto;n.timestamp=Math.floor((new Date).getTime()/1e3);var o=i.subscribeKey+"\n"+i.publishKey+"\n"+t+"\n";o+=l.default.signPamFromParams(n);var s=r.HMACSHA256(o);s=(s=s.replace(/\+/g,"-")).replace(/\//g,"_"),n.signature=s}(e,h,d);var b=function(n,i){if(n.error)o?o(n):a&&a.reject(new f("PubNub call failed, check status for details",n));else{var r=t.handleResponse(e,i,u);o?o(n,r):a&&a.fulfill(r)}};if(t.usePost&&t.usePost(e,u)){var y=t.postPayload(e,u);m=n.POST(d,y,g,b)}else m=t.useDelete&&t.useDelete()?n.DELETE(d,g,b):n.GET(d,g,b);return t.getOperation()===p.default.PNSubscribeOperation?m:a?a.promise:void 0}return o?o(r(c)):a?(a.reject(new f("Validation failed, check status for details",r(c))),a.promise):void 0};var o=n(3),s=i(o),a=(n(5),n(15)),l=i(a),u=n(2),c=(i(u),n(13)),p=i(c),f=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.name=i.constructor.name,i.status=n,i.message=e,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(Error);e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return o.default.PNAddChannelsToGroupOperation},t.validateParams=function(e,t){var n=t.channels,i=t.channelGroup,r=e.config;return i?n&&0!==n.length?r.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channels":"Missing Channel Group"},t.getURL=function(e,t){var n=t.channelGroup;return"/v1/channel-registration/sub-key/"+e.config.subscribeKey+"/channel-group/"+a.default.encodeString(n)},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.channels;return{add:(void 0===n?[]:n).join(",")}},t.handleResponse=function(){return{}};var r=(n(5),n(13)),o=i(r),s=n(15),a=i(s)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return o.default.PNRemoveChannelsFromGroupOperation},t.validateParams=function(e,t){var n=t.channels,i=t.channelGroup,r=e.config;return i?n&&0!==n.length?r.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channels":"Missing Channel Group"},t.getURL=function(e,t){var n=t.channelGroup;return"/v1/channel-registration/sub-key/"+e.config.subscribeKey+"/channel-group/"+a.default.encodeString(n)},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.channels;return{remove:(void 0===n?[]:n).join(",")}},t.handleResponse=function(){return{}};var r=(n(5),n(13)),o=i(r),s=n(15),a=i(s)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return o.default.PNRemoveGroupOperation},t.validateParams=function(e,t){var n=t.channelGroup,i=e.config;return n?i.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channel Group"},t.getURL=function(e,t){var n=t.channelGroup;return"/v1/channel-registration/sub-key/"+e.config.subscribeKey+"/channel-group/"+a.default.encodeString(n)+"/remove"},t.isAuthSupported=function(){return!0},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.prepareParams=function(){return{}},t.handleResponse=function(){return{}};var r=(n(5),n(13)),o=i(r),s=n(15),a=i(s)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return r.default.PNChannelGroupsOperation},t.validateParams=function(e){if(!e.config.subscribeKey)return"Missing Subscribe Key"},t.getURL=function(e){return"/v1/channel-registration/sub-key/"+e.config.subscribeKey+"/channel-group"},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(){return{}},t.handleResponse=function(e,t){return{groups:t.payload.groups}};var i=(n(5),n(13)),r=function(e){return e&&e.__esModule?e:{default:e}}(i)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return o.default.PNChannelsForGroupOperation},t.validateParams=function(e,t){var n=t.channelGroup,i=e.config;return n?i.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channel Group"},t.getURL=function(e,t){var n=t.channelGroup;return"/v1/channel-registration/sub-key/"+e.config.subscribeKey+"/channel-group/"+a.default.encodeString(n)},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(){return{}},t.handleResponse=function(e,t){return{channels:t.payload.channels}};var r=(n(5),n(13)),o=i(r),s=n(15),a=i(s)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return r.default.PNPushNotificationEnabledChannelsOperation},t.validateParams=function(e,t){var n=t.device,i=t.pushGateway,r=t.channels,o=e.config;return n?i?r&&0!==r.length?o.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channels":"Missing GW Type (pushGateway: gcm or apns)":"Missing Device ID (device)"},t.getURL=function(e,t){var n=t.device;return"/v1/push/sub-key/"+e.config.subscribeKey+"/devices/"+n},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.pushGateway,i=t.channels;return{type:n,add:(void 0===i?[]:i).join(",")}},t.handleResponse=function(){return{}};var i=(n(5),n(13)),r=function(e){return e&&e.__esModule?e:{default:e}}(i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return r.default.PNPushNotificationEnabledChannelsOperation},t.validateParams=function(e,t){var n=t.device,i=t.pushGateway,r=t.channels,o=e.config;return n?i?r&&0!==r.length?o.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channels":"Missing GW Type (pushGateway: gcm or apns)":"Missing Device ID (device)"},t.getURL=function(e,t){var n=t.device;return"/v1/push/sub-key/"+e.config.subscribeKey+"/devices/"+n},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.pushGateway,i=t.channels;return{type:n,remove:(void 0===i?[]:i).join(",")}},t.handleResponse=function(){return{}};var i=(n(5),n(13)),r=function(e){return e&&e.__esModule?e:{default:e}}(i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return r.default.PNPushNotificationEnabledChannelsOperation},t.validateParams=function(e,t){var n=t.device,i=t.pushGateway,r=e.config;return n?i?r.subscribeKey?void 0:"Missing Subscribe Key":"Missing GW Type (pushGateway: gcm or apns)":"Missing Device ID (device)"},t.getURL=function(e,t){var n=t.device;return"/v1/push/sub-key/"+e.config.subscribeKey+"/devices/"+n},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){return{type:t.pushGateway}},t.handleResponse=function(e,t){return{channels:t}};var i=(n(5),n(13)),r=function(e){return e&&e.__esModule?e:{default:e}}(i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return r.default.PNRemoveAllPushNotificationsOperation},t.validateParams=function(e,t){var n=t.device,i=t.pushGateway,r=e.config;return n?i?r.subscribeKey?void 0:"Missing Subscribe Key":"Missing GW Type (pushGateway: gcm or apns)":"Missing Device ID (device)"},t.getURL=function(e,t){var n=t.device;return"/v1/push/sub-key/"+e.config.subscribeKey+"/devices/"+n+"/remove"},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){return{type:t.pushGateway}},t.handleResponse=function(){return{}};var i=(n(5),n(13)),r=function(e){return e&&e.__esModule?e:{default:e}}(i)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return o.default.PNUnsubscribeOperation},t.validateParams=function(e){if(!e.config.subscribeKey)return"Missing Subscribe Key"},t.getURL=function(e,t){var n=e.config,i=t.channels,r=void 0===i?[]:i,o=r.length>0?r.join(","):",";return"/v2/presence/sub-key/"+n.subscribeKey+"/channel/"+a.default.encodeString(o)+"/leave"},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.channelGroups,i=void 0===n?[]:n,r={};return i.length>0&&(r["channel-group"]=i.join(",")),r},t.handleResponse=function(){return{}};var r=(n(5),n(13)),o=i(r),s=n(15),a=i(s)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return r.default.PNWhereNowOperation},t.validateParams=function(e){if(!e.config.subscribeKey)return"Missing Subscribe Key"},t.getURL=function(e,t){var n=e.config,i=t.uuid,r=void 0===i?n.UUID:i;return"/v2/presence/sub-key/"+n.subscribeKey+"/uuid/"+r},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(){return{}},t.handleResponse=function(e,t){return t.payload?{channels:t.payload.channels}:{channels:[]}};var i=(n(5),n(13)),r=function(e){return e&&e.__esModule?e:{default:e}}(i)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return o.default.PNHeartbeatOperation},t.validateParams=function(e){if(!e.config.subscribeKey)return"Missing Subscribe Key"},t.getURL=function(e,t){var n=e.config,i=t.channels,r=void 0===i?[]:i,o=r.length>0?r.join(","):",";return"/v2/presence/sub-key/"+n.subscribeKey+"/channel/"+a.default.encodeString(o)+"/heartbeat"},t.isAuthSupported=function(){return!0},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.prepareParams=function(e,t){var n=t.channelGroups,i=void 0===n?[]:n,r=t.state,o=void 0===r?{}:r,s=e.config,a={};return i.length>0&&(a["channel-group"]=i.join(",")),a.state=JSON.stringify(o),a.heartbeat=s.getPresenceTimeout(),a},t.handleResponse=function(){return{}};var r=(n(5),n(13)),o=i(r),s=n(15),a=i(s)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return o.default.PNGetStateOperation},t.validateParams=function(e){if(!e.config.subscribeKey)return"Missing Subscribe Key"},t.getURL=function(e,t){var n=e.config,i=t.uuid,r=void 0===i?n.UUID:i,o=t.channels,s=void 0===o?[]:o,l=s.length>0?s.join(","):",";return"/v2/presence/sub-key/"+n.subscribeKey+"/channel/"+a.default.encodeString(l)+"/uuid/"+r},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.channelGroups,i=void 0===n?[]:n,r={};return i.length>0&&(r["channel-group"]=i.join(",")),r},t.handleResponse=function(e,t,n){var i=n.channels,r=void 0===i?[]:i,o=n.channelGroups,s=void 0===o?[]:o,a={};return 1===r.length&&0===s.length?a[r[0]]=t.payload:a=t.payload,{channels:a}};var r=(n(5),n(13)),o=i(r),s=n(15),a=i(s)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return o.default.PNSetStateOperation},t.validateParams=function(e,t){var n=e.config,i=t.state,r=t.channels,o=void 0===r?[]:r,s=t.channelGroups,a=void 0===s?[]:s;return i?n.subscribeKey?0===o.length&&0===a.length?"Please provide a list of channels and/or channel-groups":void 0:"Missing Subscribe Key":"Missing State"},t.getURL=function(e,t){var n=e.config,i=t.channels,r=void 0===i?[]:i,o=r.length>0?r.join(","):",";return"/v2/presence/sub-key/"+n.subscribeKey+"/channel/"+a.default.encodeString(o)+"/uuid/"+n.UUID+"/data"},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.state,i=t.channelGroups,r=void 0===i?[]:i,o={};return o.state=JSON.stringify(n),r.length>0&&(o["channel-group"]=r.join(",")),o},t.handleResponse=function(e,t){return{state:t.payload}};var r=(n(5),n(13)),o=i(r),s=n(15),a=i(s)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return o.default.PNHereNowOperation},t.validateParams=function(e){if(!e.config.subscribeKey)return"Missing Subscribe Key"},t.getURL=function(e,t){var n=e.config,i=t.channels,r=void 0===i?[]:i,o=t.channelGroups,s=void 0===o?[]:o,l="/v2/presence/sub-key/"+n.subscribeKey;if(r.length>0||s.length>0){var u=r.length>0?r.join(","):",";l+="/channel/"+a.default.encodeString(u)}return l},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.channelGroups,i=void 0===n?[]:n,r=t.includeUUIDs,o=void 0===r||r,s=t.includeState,a=void 0!==s&&s,l={};return o||(l.disable_uuids=1),a&&(l.state=1),i.length>0&&(l["channel-group"]=i.join(",")),l},t.handleResponse=function(e,t,n){var i=n.channels,r=void 0===i?[]:i,o=n.channelGroups,s=void 0===o?[]:o,a=n.includeUUIDs,l=void 0===a||a,u=n.includeState,c=void 0!==u&&u;return r.length>1||s.length>0||0===s.length&&0===r.length?function(){var e={};return e.totalChannels=t.payload.total_channels,e.totalOccupancy=t.payload.total_occupancy,e.channels={},Object.keys(t.payload.channels).forEach(function(n){var i=t.payload.channels[n],r=[];return e.channels[n]={occupants:r,name:n,occupancy:i.occupancy},l&&i.uuids.forEach(function(e){c?r.push({state:e.state,uuid:e.uuid}):r.push({state:null,uuid:e})}),e}),e}():function(){var e={},n=[];return e.totalChannels=1,e.totalOccupancy=t.occupancy,e.channels={},e.channels[r[0]]={occupants:n,name:r[0],occupancy:t.occupancy},l&&t.uuids&&t.uuids.forEach(function(e){c?n.push({state:e.state,uuid:e.uuid}):n.push({state:null,uuid:e})}),e}()};var r=(n(5),n(13)),o=i(r),s=n(15),a=i(s)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return r.default.PNAccessManagerAudit},t.validateParams=function(e){if(!e.config.subscribeKey)return"Missing Subscribe Key"},t.getURL=function(e){return"/v2/auth/audit/sub-key/"+e.config.subscribeKey},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!1},t.prepareParams=function(e,t){var n=t.channel,i=t.channelGroup,r=t.authKeys,o=void 0===r?[]:r,s={};return n&&(s.channel=n),i&&(s["channel-group"]=i),o.length>0&&(s.auth=o.join(",")),s},t.handleResponse=function(e,t){return t.payload};var i=(n(5),n(13)),r=function(e){return e&&e.__esModule?e:{default:e}}(i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return r.default.PNAccessManagerGrant},t.validateParams=function(e){var t=e.config;return t.subscribeKey?t.publishKey?t.secretKey?void 0:"Missing Secret Key":"Missing Publish Key":"Missing Subscribe Key"},t.getURL=function(e){return"/v2/auth/grant/sub-key/"+e.config.subscribeKey},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!1},t.prepareParams=function(e,t){var n=t.channels,i=void 0===n?[]:n,r=t.channelGroups,o=void 0===r?[]:r,s=t.ttl,a=t.read,l=void 0!==a&&a,u=t.write,c=void 0!==u&&u,p=t.manage,f=void 0!==p&&p,d=t.authKeys,h=void 0===d?[]:d,m={};return m.r=l?"1":"0",m.w=c?"1":"0",m.m=f?"1":"0",i.length>0&&(m.channel=i.join(",")),o.length>0&&(m["channel-group"]=o.join(",")),h.length>0&&(m.auth=h.join(",")),(s||0===s)&&(m.ttl=s),m},t.handleResponse=function(){return{}};var i=(n(5),n(13)),r=function(e){return e&&e.__esModule?e:{default:e}}(i)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n=e.crypto,i=e.config,r=JSON.stringify(t);return i.cipherKey&&(r=n.encrypt(r),r=JSON.stringify(r)),r}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.getOperation=function(){return a.default.PNPublishOperation},t.validateParams=function(e,t){var n=e.config,i=t.message;return t.channel?i?n.subscribeKey?void 0:"Missing Subscribe Key":"Missing Message":"Missing Channel"},t.usePost=function(e,t){var n=t.sendByPost;return void 0!==n&&n},t.getURL=function(e,t){var n=e.config,i=t.channel,o=t.message,s=r(e,o);return"/publish/"+n.publishKey+"/"+n.subscribeKey+"/0/"+u.default.encodeString(i)+"/0/"+u.default.encodeString(s)},t.postURL=function(e,t){var n=e.config,i=t.channel;return"/publish/"+n.publishKey+"/"+n.subscribeKey+"/0/"+u.default.encodeString(i)+"/0"},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.postPayload=function(e,t){return r(e,t.message)},t.prepareParams=function(e,t){var n=t.meta,i=t.replicate,r=void 0===i||i,s=t.storeInHistory,a=t.ttl,l={};return null!=s&&(l.store=s?"1":"0"),a&&(l.ttl=a),!1===r&&(l.norep="true"),n&&"object"===(void 0===n?"undefined":o(n))&&(l.meta=JSON.stringify(n)),l},t.handleResponse=function(e,t){return{timetoken:t[2]}};var s=(n(5),n(13)),a=i(s),l=n(15),u=i(l)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n=e.config,i=e.crypto;if(!n.cipherKey)return t;try{return i.decrypt(t)}catch(e){return t}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return s.default.PNHistoryOperation},t.validateParams=function(e,t){var n=t.channel,i=e.config;return n?i.subscribeKey?void 0:"Missing Subscribe Key":"Missing channel"},t.getURL=function(e,t){var n=t.channel;return"/v2/history/sub-key/"+e.config.subscribeKey+"/channel/"+l.default.encodeString(n)},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.start,i=t.end,r=t.reverse,o=t.count,s=void 0===o?100:o,a=t.stringifiedTimeToken,l=void 0!==a&&a,u={include_token:"true"};return u.count=s,n&&(u.start=n),i&&(u.end=i),l&&(u.string_message_token="true"),null!=r&&(u.reverse=r.toString()),u},t.handleResponse=function(e,t){var n={messages:[],startTimeToken:t[1],endTimeToken:t[2]};return t[0].forEach(function(t){var i={timetoken:t.timetoken,entry:r(e,t.message)};n.messages.push(i)}),n};var o=(n(5),n(13)),s=i(o),a=n(15),l=i(a)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return o.default.PNDeleteMessagesOperation},t.validateParams=function(e,t){var n=t.channel,i=e.config;return n?i.subscribeKey?void 0:"Missing Subscribe Key":"Missing channel"},t.useDelete=function(){return!0},t.getURL=function(e,t){var n=t.channel;return"/v3/history/sub-key/"+e.config.subscribeKey+"/channel/"+a.default.encodeString(n)},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.start,i=t.end,r={};return n&&(r.start=n),i&&(r.end=i),r},t.handleResponse=function(e,t){return t.payload};var r=(n(5),n(13)),o=i(r),s=n(15),a=i(s)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return o.default.PNFetchMessagesOperation},t.validateParams=function(e,t){var n=t.channels,i=e.config;return n&&0!==n.length?i.subscribeKey?void 0:"Missing Subscribe Key":"Missing channels"},t.getURL=function(e,t){var n=t.channels,i=void 0===n?[]:n,r=e.config,o=i.length>0?i.join(","):",";return"/v3/history/sub-key/"+r.subscribeKey+"/channel/"+a.default.encodeString(o)},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.start,i=t.end,r=t.count,o=t.stringifiedTimeToken,s=void 0!==o&&o,a={};return r&&(a.max=r),n&&(a.start=n),i&&(a.end=i),s&&(a.string_message_token="true"),a},t.handleResponse=function(e,t){var n={channels:{}};return Object.keys(t.channels||{}).forEach(function(i){n.channels[i]=[],(t.channels[i]||[]).forEach(function(t){var r={};r.channel=i,r.subscription=null,r.timetoken=t.timetoken,r.message=function(e,t){var n=e.config,i=e.crypto;if(!n.cipherKey)return t;try{return i.decrypt(t)}catch(e){return t}}(e,t.message),n.channels[i].push(r)})}),n};var r=(n(5),n(13)),o=i(r),s=n(15),a=i(s)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return o.default.PNSubscribeOperation},t.validateParams=function(e){if(!e.config.subscribeKey)return"Missing Subscribe Key"},t.getURL=function(e,t){var n=e.config,i=t.channels,r=void 0===i?[]:i,o=r.length>0?r.join(","):",";return"/v2/subscribe/"+n.subscribeKey+"/"+a.default.encodeString(o)+"/0"},t.getRequestTimeout=function(e){return e.config.getSubscribeTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=e.config,i=t.channelGroups,r=void 0===i?[]:i,o=t.timetoken,s=t.filterExpression,a=t.region,l={heartbeat:n.getPresenceTimeout()};return r.length>0&&(l["channel-group"]=r.join(",")),s&&s.length>0&&(l["filter-expr"]=s),o&&(l.tt=o),a&&(l.tr=a),l},t.handleResponse=function(e,t){var n=[];t.m.forEach(function(e){var t={publishTimetoken:e.p.t,region:e.p.r},i={shard:parseInt(e.a,10),subscriptionMatch:e.b,channel:e.c,payload:e.d,flags:e.f,issuingClientId:e.i,subscribeKey:e.k,originationTimetoken:e.o,userMetadata:e.u,publishMetaData:t};n.push(i)});var i={timetoken:t.t.t,region:t.t.r};return{messages:n,metadata:i}};var r=(n(5),n(13)),o=i(r),s=n(15),a=i(s)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(2),s=(i(o),n(10)),a=i(s),l=(n(5),function(){function e(t){var n=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this._modules={},Object.keys(t).forEach(function(e){n._modules[e]=t[e].bind(n)})}return r(e,[{key:"init",value:function(e){this._config=e,this._maxSubDomain=20,this._currentSubDomain=Math.floor(Math.random()*this._maxSubDomain),this._providedFQDN=(this._config.secure?"https://":"http://")+this._config.origin,this._coreParams={},this.shiftStandardOrigin()}},{key:"nextOrigin",value:function(){if(-1===this._providedFQDN.indexOf("pubsub."))return this._providedFQDN;var e=void 0;return this._currentSubDomain=this._currentSubDomain+1,this._currentSubDomain>=this._maxSubDomain&&(this._currentSubDomain=1),e=this._currentSubDomain.toString(),this._providedFQDN.replace("pubsub","ps"+e)}},{key:"hasModule",value:function(e){return e in this._modules}},{key:"shiftStandardOrigin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._standardOrigin=this.nextOrigin(e),this._standardOrigin}},{key:"getStandardOrigin",value:function(){return this._standardOrigin}},{key:"POST",value:function(e,t,n,i){return this._modules.post(e,t,n,i)}},{key:"GET",value:function(e,t,n){return this._modules.get(e,t,n)}},{key:"DELETE",value:function(e,t,n){return this._modules.del(e,t,n)}},{key:"_detectErrorCategory",value:function(e){if("ENOTFOUND"===e.code)return a.default.PNNetworkIssuesCategory;if("ECONNREFUSED"===e.code)return a.default.PNNetworkIssuesCategory;if("ECONNRESET"===e.code)return a.default.PNNetworkIssuesCategory;if("EAI_AGAIN"===e.code)return a.default.PNNetworkIssuesCategory;if(0===e.status||e.hasOwnProperty("status")&&void 0===e.status)return a.default.PNNetworkIssuesCategory;if(e.timeout)return a.default.PNTimeoutCategory;if("ETIMEDOUT"===e.code)return a.default.PNNetworkIssuesCategory;if(e.response){if(e.response.badRequest)return a.default.PNBadRequestCategory;if(e.response.forbidden)return a.default.PNAccessDeniedCategory}return a.default.PNUnknownCategory}}]),e}());t.default=l,e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={get:function(e){try{return localStorage.getItem(e)}catch(e){return null}},set:function(e,t){try{return localStorage.setItem(e,t)}catch(e){return null}}},e.exports=t.default},function(e,t,n){"use strict";function i(e){var t=(new Date).getTime(),n=(new Date).toISOString(),i=console&&console.log?console:window&&window.console&&window.console.log?window.console:console;i.log("<<<<<"),i.log("["+n+"]","\n",e.url,"\n",e.qs),i.log("-----"),e.on("response",function(n){var r=(new Date).getTime(),o=r-t,s=(new Date).toISOString();i.log(">>>>>>"),i.log("["+s+" / "+o+"]","\n",e.url,"\n",e.qs,"\n",n.text),i.log("-----")})}function r(e,t,n){var r=this;return this._config.logVerbosity&&(e=e.use(i)),this._config.proxy&&this._modules.proxy&&(e=this._modules.proxy.call(this,e)),this._config.keepAlive&&this._modules.keepAlive&&(e=this._modules.keepAlive(e)),e.timeout(t.timeout).end(function(e,i){var o={};if(o.error=null!==e,o.operation=t.operation,i&&i.status&&(o.statusCode=i.status),e){if(e.response&&e.response.text&&!r._config.logVerbosity)try{o.errorData=JSON.parse(e.response.text)}catch(t){o.errorData=e}else o.errorData=e;return o.category=r._detectErrorCategory(e),n(o,null)}var s=JSON.parse(i.text);return s.error&&1===s.error&&s.status&&s.message&&s.service?(o.errorData=s,o.statusCode=s.status,o.error=!0,o.category=r._detectErrorCategory(o),n(o,null)):n(o,s)})}Object.defineProperty(t,"__esModule",{value:!0}),t.get=function(e,t,n){var i=s.default.get(this.getStandardOrigin()+t.url).query(e);return r.call(this,i,t,n)},t.post=function(e,t,n,i){var o=s.default.post(this.getStandardOrigin()+n.url).query(e).send(t);return r.call(this,o,n,i)},t.del=function(e,t,n){var i=s.default.delete(this.getStandardOrigin()+t.url).query(e);return r.call(this,i,t,n)};var o=n(42),s=function(e){return e&&e.__esModule?e:{default:e}}(o);n(5)},function(e,t,n){function i(){}function r(e){if(!h(e))return e;var t=[];for(var n in e)o(t,n,e[n]);return t.join("&")}function o(e,t,n){if(null!=n)if(Array.isArray(n))n.forEach(function(n){o(e,t,n)});else if(h(n))for(var i in n)o(e,t+"["+i+"]",n[i]);else e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));else null===n&&e.push(encodeURIComponent(t))}function s(e){for(var t,n,i={},r=e.split("&"),o=0,s=r.length;o<s;++o)t=r[o],-1==(n=t.indexOf("="))?i[decodeURIComponent(t)]="":i[decodeURIComponent(t.slice(0,n))]=decodeURIComponent(t.slice(n+1));return i}function a(e){return/[\/+]json($|[^-\w])/.test(e)}function l(e){this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var t=this.xhr.status;1223===t&&(t=204),this._setStatusProperties(t),this.header=this.headers=function(e){for(var t,n,i,r,o=e.split(/\r?\n/),s={},a=0,l=o.length;a<l;++a)n=o[a],-1!==(t=n.indexOf(":"))&&(i=n.slice(0,t).toLowerCase(),r=y(n.slice(t+1)),s[i]=r);return s}(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&e._responseType?this.body=this.xhr.response:this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function u(e,t){var n=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",function(){var e,t=null,i=null;try{i=new l(n)}catch(i){return(t=new Error("Parser is unable to parse the response")).parse=!0,t.original=i,n.xhr?(t.rawResponse=void 0===n.xhr.responseType?n.xhr.responseText:n.xhr.response,t.status=n.xhr.status?n.xhr.status:null,t.statusCode=t.status):(t.rawResponse=null,t.status=null),n.callback(t)}n.emit("response",i);try{n._isResponseOK(i)||(e=new Error(i.statusText||"Unsuccessful HTTP response"))}catch(t){e=t}e?(e.original=t,e.response=i,e.status=i.status,n.callback(e,i)):n.callback(null,i)})}function c(e,t,n){var i=b("DELETE",e);return"function"==typeof t&&(n=t,t=null),t&&i.send(t),n&&i.end(n),i}var p;"undefined"!=typeof window?p=window:"undefined"!=typeof self?p=self:(console.warn("Using browser-only version of superagent in non-browser environment"),p=this);var f=n(43),d=n(44),h=n(45),m=n(46),g=n(48),b=t=e.exports=function(e,n){return"function"==typeof n?new t.Request("GET",e).end(n):1==arguments.length?new t.Request("GET",e):new t.Request(e,n)};t.Request=u,b.getXHR=function(){if(!(!p.XMLHttpRequest||p.location&&"file:"==p.location.protocol&&p.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}throw Error("Browser-only version of superagent could not find XHR")};var y="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};b.serializeObject=r,b.parseString=s,b.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},b.serialize={"application/x-www-form-urlencoded":r,"application/json":JSON.stringify},b.parse={"application/x-www-form-urlencoded":s,"application/json":JSON.parse},m(l.prototype),l.prototype._parseBody=function(e){var t=b.parse[this.type];return this.req._parser?this.req._parser(this,e):(!t&&a(this.type)&&(t=b.parse["application/json"]),t&&e&&(e.length||e instanceof Object)?t(e):null)},l.prototype.toError=function(){var e=this.req,t=e.method,n=e.url,i="cannot "+t+" "+n+" ("+this.status+")",r=new Error(i);return r.status=this.status,r.method=t,r.url=n,r},b.Response=l,f(u.prototype),d(u.prototype),u.prototype.type=function(e){return this.set("Content-Type",b.types[e]||e),this},u.prototype.accept=function(e){return this.set("Accept",b.types[e]||e),this},u.prototype.auth=function(e,t,n){return 1===arguments.length&&(t=""),"object"==typeof t&&null!==t&&(n=t,t=""),n||(n={type:"function"==typeof btoa?"basic":"auto"}),this._auth(e,t,n,function(e){if("function"==typeof btoa)return btoa(e);throw new Error("Cannot use basic auth, btoa is not a function")})},u.prototype.query=function(e){return"string"!=typeof e&&(e=r(e)),e&&this._query.push(e),this},u.prototype.attach=function(e,t,n){if(t){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(e,t,n||t.name)}return this},u.prototype._getFormData=function(){return this._formData||(this._formData=new p.FormData),this._formData},u.prototype.callback=function(e,t){if(this._shouldRetry(e,t))return this._retry();var n=this._callback;this.clearTimeout(),e&&(this._maxRetries&&(e.retries=this._retries-1),this.emit("error",e)),n(e,t)},u.prototype.crossDomainError=function(){var e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},u.prototype.buffer=u.prototype.ca=u.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},u.prototype.pipe=u.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},u.prototype._isHost=function(e){return e&&"object"==typeof e&&!Array.isArray(e)&&"[object Object]"!==Object.prototype.toString.call(e)},u.prototype.end=function(e){return this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=e||i,this._finalizeQueryString(),this._end()},u.prototype._end=function(){var e=this,t=this.xhr=b.getXHR(),n=this._formData||this._data;this._setTimeouts(),t.onreadystatechange=function(){var n=t.readyState;if(n>=2&&e._responseTimeoutTimer&&clearTimeout(e._responseTimeoutTimer),4==n){var i;try{i=t.status}catch(e){i=0}if(!i){if(e.timedout||e._aborted)return;return e.crossDomainError()}e.emit("end")}};var i=function(t,n){n.total>0&&(n.percent=n.loaded/n.total*100),n.direction=t,e.emit("progress",n)};if(this.hasListeners("progress"))try{t.onprogress=i.bind(null,"download"),t.upload&&(t.upload.onprogress=i.bind(null,"upload"))}catch(e){}try{this.username&&this.password?t.open(this.method,this.url,!0,this.username,this.password):t.open(this.method,this.url,!0)}catch(e){return this.callback(e)}if(this._withCredentials&&(t.withCredentials=!0),!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof n&&!this._isHost(n)){var r=this._header["content-type"],o=this._serializer||b.serialize[r?r.split(";")[0]:""];!o&&a(r)&&(o=b.serialize["application/json"]),o&&(n=o(n))}for(var s in this.header)null!=this.header[s]&&this.header.hasOwnProperty(s)&&t.setRequestHeader(s,this.header[s]);return this._responseType&&(t.responseType=this._responseType),this.emit("request",this),t.send(void 0!==n?n:null),this},b.agent=function(){return new g},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(e){g.prototype[e.toLowerCase()]=function(t,n){var i=new b.Request(e,t);return this._setDefaults(i),n&&i.end(n),i}}),g.prototype.del=g.prototype.delete,b.get=function(e,t,n){var i=b("GET",e);return"function"==typeof t&&(n=t,t=null),t&&i.query(t),n&&i.end(n),i},b.head=function(e,t,n){var i=b("HEAD",e);return"function"==typeof t&&(n=t,t=null),t&&i.query(t),n&&i.end(n),i},b.options=function(e,t,n){var i=b("OPTIONS",e);return"function"==typeof t&&(n=t,t=null),t&&i.send(t),n&&i.end(n),i},b.del=c,b.delete=c,b.patch=function(e,t,n){var i=b("PATCH",e);return"function"==typeof t&&(n=t,t=null),t&&i.send(t),n&&i.end(n),i},b.post=function(e,t,n){var i=b("POST",e);return"function"==typeof t&&(n=t,t=null),t&&i.send(t),n&&i.end(n),i},b.put=function(e,t,n){var i=b("PUT",e);return"function"==typeof t&&(n=t,t=null),t&&i.send(t),n&&i.end(n),i}},function(e,t,n){function i(e){if(e)return function(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}(e)}e.exports=i,i.prototype.on=i.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},i.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i,r=0;r<n.length;r++)if((i=n[r])===t||i.fn===t){n.splice(r,1);break}return this},i.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n){n=n.slice(0);for(var i=0,r=n.length;i<r;++i)n[i].apply(this,t)}return this},i.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},i.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){"use strict";function i(e){if(e)return function(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}(e)}var r=n(45);e.exports=i,i.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},i.prototype.parse=function(e){return this._parser=e,this},i.prototype.responseType=function(e){return this._responseType=e,this},i.prototype.serialize=function(e){return this._serializer=e,this},i.prototype.timeout=function(e){if(!e||"object"!=typeof e)return this._timeout=e,this._responseTimeout=0,this;for(var t in e)switch(t){case"deadline":this._timeout=e.deadline;break;case"response":this._responseTimeout=e.response;break;default:console.warn("Unknown timeout option",t)}return this},i.prototype.retry=function(e,t){return 0!==arguments.length&&!0!==e||(e=1),e<=0&&(e=0),this._maxRetries=e,this._retries=0,this._retryCallback=t,this};var o=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];i.prototype._shouldRetry=function(e,t){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var n=this._retryCallback(e,t);if(!0===n)return!0;if(!1===n)return!1}catch(e){console.error(e)}if(t&&t.status&&t.status>=500&&501!=t.status)return!0;if(e){if(e.code&&~o.indexOf(e.code))return!0;if(e.timeout&&"ECONNABORTED"==e.code)return!0;if(e.crossDomain)return!0}return!1},i.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},i.prototype.then=function(e,t){if(!this._fullfilledPromise){var n=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(e,t){n.end(function(n,i){n?t(n):e(i)})})}return this._fullfilledPromise.then(e,t)},i.prototype.catch=function(e){return this.then(void 0,e)},i.prototype.use=function(e){return e(this),this},i.prototype.ok=function(e){if("function"!=typeof e)throw Error("Callback required");return this._okCallback=e,this},i.prototype._isResponseOK=function(e){return!!e&&(this._okCallback?this._okCallback(e):e.status>=200&&e.status<300)},i.prototype.get=function(e){return this._header[e.toLowerCase()]},i.prototype.getHeader=i.prototype.get,i.prototype.set=function(e,t){if(r(e)){for(var n in e)this.set(n,e[n]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},i.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},i.prototype.field=function(e,t){if(null==e)throw new Error(".field(name, val) name can not be empty");if(this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()"),r(e)){for(var n in e)this.field(n,e[n]);return this}if(Array.isArray(t)){for(var i in t)this.field(e,t[i]);return this}if(null==t)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof t&&(t=""+t),this._getFormData().append(e,t),this},i.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},i.prototype._auth=function(e,t,n,i){switch(n.type){case"basic":this.set("Authorization","Basic "+i(e+":"+t));break;case"auto":this.username=e,this.password=t;break;case"bearer":this.set("Authorization","Bearer "+e)}return this},i.prototype.withCredentials=function(e){return null==e&&(e=!0),this._withCredentials=e,this},i.prototype.redirects=function(e){return this._maxRedirects=e,this},i.prototype.maxResponseSize=function(e){if("number"!=typeof e)throw TypeError("Invalid argument");return this._maxResponseSize=e,this},i.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},i.prototype.send=function(e){var t=r(e),n=this._header["content-type"];if(this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()"),t&&!this._data)Array.isArray(e)?this._data=[]:this._isHost(e)||(this._data={});else if(e&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(t&&r(this._data))for(var i in e)this._data[i]=e[i];else"string"==typeof e?(n||this.type("form"),n=this._header["content-type"],this._data="application/x-www-form-urlencoded"==n?this._data?this._data+"&"+e:e:(this._data||"")+e):this._data=e;return!t||this._isHost(e)?this:(n||this.type("json"),this)},i.prototype.sortQuery=function(e){return this._sort=void 0===e||e,this},i.prototype._finalizeQueryString=function(){var e=this._query.join("&");if(e&&(this.url+=(this.url.indexOf("?")>=0?"&":"?")+e),this._query.length=0,this._sort){var t=this.url.indexOf("?");if(t>=0){var n=this.url.substring(t+1).split("&");"function"==typeof this._sort?n.sort(this._sort):n.sort(),this.url=this.url.substring(0,t)+"?"+n.join("&")}}},i.prototype._appendQueryString=function(){console.trace("Unsupported")},i.prototype._timeoutError=function(e,t,n){if(!this._aborted){var i=new Error(e+t+"ms exceeded");i.timeout=t,i.code="ECONNABORTED",i.errno=n,this.timedout=!0,this.abort(),this.callback(i)}},i.prototype._setTimeouts=function(){var e=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){e._timeoutError("Timeout of ",e._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){e._timeoutError("Response timeout of ",e._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},function(e,t){"use strict";e.exports=function(e){return null!==e&&"object"==typeof e}},function(e,t,n){"use strict";function i(e){if(e)return function(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}(e)}var r=n(47);e.exports=i,i.prototype.get=function(e){return this.header[e.toLowerCase()]},i.prototype._setHeaderProperties=function(e){var t=e["content-type"]||"";this.type=r.type(t);var n=r.params(t);for(var i in n)this[i]=n[i];this.links={};try{e.link&&(this.links=r.parseLinks(e.link))}catch(e){}},i.prototype._setStatusProperties=function(e){var t=e/100|0;this.status=this.statusCode=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.redirect=3==t,this.clientError=4==t,this.serverError=5==t,this.error=(4==t||5==t)&&this.toError(),this.accepted=202==e,this.noContent=204==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.forbidden=403==e,this.notFound=404==e}},function(e,t){"use strict";t.type=function(e){return e.split(/ *; */).shift()},t.params=function(e){return e.split(/ *; */).reduce(function(e,t){var n=t.split(/ *= */),i=n.shift(),r=n.shift();return i&&r&&(e[i]=r),e},{})},t.parseLinks=function(e){return e.split(/ *, */).reduce(function(e,t){var n=t.split(/ *; */),i=n[0].slice(1,-1);return e[n[1].split(/ *= */)[1].slice(1,-1)]=i,e},{})},t.cleanHeader=function(e,t){return delete e["content-type"],delete e["content-length"],delete e["transfer-encoding"],delete e.host,t&&(delete e.authorization,delete e.cookie),e}},function(e,t){function n(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert"].forEach(function(e){n.prototype[e]=function(){return this._defaults.push({fn:e,arguments:arguments}),this}}),n.prototype._setDefaults=function(e){this._defaults.forEach(function(t){e[t.fn].apply(e,t.arguments)})},e.exports=n}])},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h,m,g,b,y,v,x,w,k,S;s=n(71),n(99),l=n(136),p=n(205),a=n(326),i=n(100),c=n(308),r=n(43),u=n(15),({a:d,button:m,div:b,i:y,input:v,li:x,p:w,span:k,ul:S}=ReactDOMFactories),React.createFactory(Bootstrap.Modal),({Treebeard:f,decorators:g}=n(610)),h=n(731),o=reactCreateClass({displayName:"DirectorySidebar",mixins:[mixins.AjaxMixin,mixins.FormMixin,mixins.TooltipMixin,mixins.ViewMixin,i,a,c,Reflux.connect(r,"container"),Reflux.connect(p,"tabs"),Reflux.connectFilter(l,"files",function(e){return e.files}),Reflux.connectFilter(l,"path",function(e){return e.path}),Reflux.connectFilter(u,"active_file",function(e){return e.active_file}),Reflux.connectFilter(u,"default_pwd",function(e){return e.default_pwd}),Reflux.connectFilter(u,"hidden_files",function(e){return e.hidden_files}),Reflux.connectFilter(u,"lite_mode_code_editor",function(e){return e.lite_mode_code_editor}),Reflux.connectFilter(u,"panes",function(e){return e.panes}),Reflux.connectFilter(u,"directory_open",function(e){return e.directory_open})],propTypes:{access_token:PropTypes.string.isRequired,editing:PropTypes.bool.isRequired,file_actions_enabled:PropTypes.bool.isRequired,hidden:PropTypes.bool.isRequired,in_content_editor:PropTypes.bool.isRequired,reviewing:PropTypes.bool.isRequired,toggleActionsModal:PropTypes.func.isRequired,toggleSidebar:PropTypes.func.isRequired},getInitialState:function(){return{active:null,progress:0,loading:!0,menu_filepath:null,root_toggled:!0}},componentWillMount:function(){return this.unsubscribe_files=l.listen(({files:e})=>this.setState({loading:!1,visible_files:this.visibleFiles(e)},()=>this.forceUpdate()))},componentDidMount:function(){return $(window).click(()=>{if(this.state.menu_filepath)return this.setState({menu_filepath:null})})},componentWillUnmount:function(){return this.unsubscribe_files()},shouldComponentUpdate:function(e,t){return e.editing!==this.props.editing||e.file_actions_enabled!==this.props.file_actions_enabled||e.reviewing!==this.props.reviewing||t.container.token!==this.state.container.token||t.default_pwd!==this.state.default_pwd||t.directory_open!==this.state.directory_open||t.path!==this.state.path||t.menu_filepath!==this.state.menu_filepath||t.root_toggled!==this.state.root_toggled},componentDidUpdate:function(e,t){return e.editing!==this.props.editing&&this.setState({visible_files:this.visibleFiles(this.state.files)},()=>this.forceUpdate()),this.initializeTooltips("#directory-sidebar")},connected:function(){return this.state.container&&this.state.container.token},visibleFiles:function(e){return this.props.in_content_editor?_.filter(e,e=>!this.hidden(e.path)):_.filter(e,function(e){return!e.hidden})},onToggle:function(e,t){if(e.directory&&this.toggleDirectory(e,t),!e.directory)return this.openFileTab(e)},openFileTab:function(e){var t;return(t=_.find(this.state.tabs,function(t){return t.detail===e.path&&!t.hidden&&t.tab_type.startsWith("file-")}))?this.onSelectTab(t):(t={active:!0,tab_type:e.type,detail:e.path,pane_position:1},this.onAddTab(t))},toggleDirectory:function(e,t){return e.root?this.setState({root_toggled:!this.state.root_toggled}):(s.toggleDirectory(e,t),e.loading&&t&&s.listRemoteDirectory(e.path),t?void 0:this.setState({menu_filepath:null}))},decorators:function(){return g.Header=((e,t)=>this.file(e,t)),g.Loading=function(){return b({className:"directory-no-files"},"Loading Files...")},g.Container=(e=>{var t,n;return n=e.node,t=_.find(this.state.tabs,function(e){return e.active&&e.detail===n.path}),b({className:`file ${t?"active":""}`},b({className:"active-bar"}),e.decorators.Header(n,e.onClick),!n.toggled||!n.directory||n.loading||!this.connected()||n.children&&n.children.length?void 0:b({className:"directory-no-files"},"No Files"))}),g},render:function(){var e,t;return e=this.state.path||this.state.default_pwd,t=h(_.sortBy(this.state.visible_files,function(e){return`${!e.directory}-${e.name}`})),t={children:t=_.reject(t,function(t){return t.parent_id!==e}),directory:!0,name:this.state.path,path:this.state.path,icon:this.state.root_toggled?"filename--folder-open":"filename--folder-closed",loading:this.state.loading&&this.connected(),toggled:this.state.root_toggled,root:!0},b({id:"directory-sidebar",className:`${!this.state.directory_open||this.props.hidden?"directory-sidebar__isHidden":""}`},b({className:"directory-sidebar__header"},"Filetree"),S({className:"file-list"},React.createElement(f,{data:t,onToggle:this.onToggle,decorators:this.decorators(),animations:!1})))},file:function(e,t){var n;return n=e.directory?e.path:e.parent_id,b({className:"file__inner"},b({className:`filename ${e.icon?e.icon:"filename--no-icon"}`,onClick:t,"data-toggle":"tooltip","data-placement":"right","data-title":e.path},k({className:"filename__inner"},e.name)),this.props.file_actions_enabled?b({className:"file-menu",onClick:function(e){return e.preventDefault(),e.stopPropagation()}},m({className:`btn btn-text btn-gray file__menu-button ${this.state.menu_filepath!==e.path?"":"open"}`,onClick:t=>this.setState({menu_filepath:this.state.menu_filepath!==e.path?e.path:null})}),b({className:"file-menu-items",onClick:()=>this.setState({menu_filepath:null})},e.directory?m({onClick:this.props.toggleActionsModal.bind(null,{action:"create_file",root:n}),"data-toggle":"tooltip","data-placement":"right","data-title":"Create or Upload File",className:"btn btn-text btn-gray file__menu-item-create-file"},"New File"):void 0,e.directory?m({onClick:this.props.toggleActionsModal.bind(null,{action:"create_directory",root:n}),"data-toggle":"tooltip","data-placement":"right","data-title":"Create Directory",className:"btn btn-text btn-gray file__menu-item-create-directory"},"New Directory"):void 0,e.root?void 0:m({onClick:this.props.toggleActionsModal.bind(null,{action:"rename",active:e,root:n}),"data-toggle":"tooltip","data-placement":"right","data-title":"Rename",className:"btn btn-text btn-gray file__menu-item-rename"},`Rename ${e.directory?"Directory":"File"}`),e.directory?void 0:m({onClick:this.props.toggleActionsModal.bind(null,{action:"duplicate",active:e,root:n}),"data-toggle":"tooltip","data-placement":"right","data-title":"Duplicate File",className:"btn btn-text btn-gray file__menu-item-duplicate"},"Duplicate File"),e.directory?void 0:m({onClick:this.downloadFile.bind(null,e),"data-toggle":"tooltip","data-placement":"right","data-title":"Download",className:"btn btn-text btn-gray file__menu-item-download"},"Download"),e.root?void 0:m({onClick:this.props.toggleActionsModal.bind(null,{action:"delete",active:e,root:n}),"data-toggle":"tooltip","data-placement":"right","data-title":"Delete",className:"btn btn-text btn-gray file__menu-item-delete"},`Delete ${e.directory?"Directory":"File"}`))):void 0)}}),e.exports=o},function(e,t,n){var i,r,o;r=[],void 0===(o="function"==typeof(i=function(){return function e(t,n,i){var r,o,s=window,a="application/octet-stream",l=i||a,u=t,c=!n&&!i&&u,p=document.createElement("a"),f=function(e){return String(e)},d=s.Blob||s.MozBlob||s.WebKitBlob||f,h=n||"download";if(d=d.call?d.bind(s):Blob,"true"===String(this)&&(l=(u=[u,l])[0],u=u[1]),c&&c.length<2048&&(h=c.split("/").pop().split("?")[0],p.href=c,-1!==p.href.indexOf(c))){var m=new XMLHttpRequest;return m.open("GET",c,!0),m.responseType="blob",m.onload=function(t){e(t.target.response,h,a)},setTimeout(function(){m.send()},0),m}if(/^data\:[\w+\-]+\/[\w+\-]+[,;]/.test(u)){if(!(u.length>2096103.424&&d!==f))return navigator.msSaveBlob?navigator.msSaveBlob(g(u),h):b(u);u=g(u),l=u.type||a}function g(e){for(var t=e.split(/[:;,]/),n=t[1],i="base64"==t[2]?atob:decodeURIComponent,r=i(t.pop()),o=r.length,s=0,a=new Uint8Array(o);s<o;++s)a[s]=r.charCodeAt(s);return new d([a],{type:n})}function b(e,t){if("download"in p)return p.href=e,p.setAttribute("download",h),p.className="download-js-link",p.innerHTML="downloading...",p.style.display="none",document.body.appendChild(p),setTimeout(function(){p.click(),document.body.removeChild(p),!0===t&&setTimeout(function(){s.URL.revokeObjectURL(p.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return e=e.replace(/^data:([\w\/\-\+]+)/,a),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var n=document.createElement("iframe");document.body.appendChild(n),t||(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,a)),n.src=e,setTimeout(function(){document.body.removeChild(n)},333)}if(r=u instanceof d?u:new d([u],{type:l}),navigator.msSaveBlob)return navigator.msSaveBlob(r,h);if(s.URL)b(s.URL.createObjectURL(r),!0);else{if("string"==typeof r||r.constructor===f)try{return b("data:"+l+";base64,"+s.btoa(r))}catch(e){return b("data:"+l+","+encodeURIComponent(r))}(o=new FileReader).onload=function(e){b(this.result)},o.readAsDataURL(r)}return!0}})?i.apply(t,r):i)||(e.exports=o)},function(e,t,n){"use strict";e.exports=n(611)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.theme=t.animations=t.decorators=t.Treebeard=void 0;var i=a(n(612)),r=a(n(522)),o=a(n(535)),s=a(n(534));function a(e){return e&&e.__esModule?e:{default:e}}t.Treebeard=i.default,t.decorators=r.default,t.animations=o.default,t.theme=s.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=h(n(112)),r=h(n(3)),o=h(n(72)),s=h(n(4)),a=h(n(5)),l=h(n(1)),u=h(n(0)),c=h(n(618)),p=h(n(522)),f=h(n(534)),d=h(n(535));function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,a.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.animations,i=t.decorators,r=t.data,o=t.onToggle,s=t.style,a=r;return Array.isArray(a)||(a=[a]),l.default.createElement("ul",{style:s.tree.base,ref:function(t){return e.treeBaseRef=t}},a.map(function(e,t){return l.default.createElement(c.default,{animations:n,decorators:i,key:e.id||t,node:e,onToggle:o,style:s.tree.node})}))}}]),t}(l.default.Component);m.propTypes={style:u.default.object,data:u.default.oneOfType([u.default.object,u.default.array]).isRequired,animations:u.default.oneOfType([u.default.object,u.default.bool]),onToggle:u.default.func,decorators:u.default.object},m.defaultProps={style:f.default,animations:d.default,decorators:p.default},t.default=m},function(e,t,n){n(614),e.exports=n(16).Object.getPrototypeOf},function(e,t,n){var i=n(68),r=n(211);n(506)("getPrototypeOf",function(){return function(e){return r(i(e))}})},function(e,t,n){e.exports={default:n(616),__esModule:!0}},function(e,t,n){n(617);var i=n(16).Object;e.exports=function(e,t,n){return i.defineProperty(e,t,n)}},function(e,t,n){var i=n(22);i(i.S+i.F*!n(36),"Object",{defineProperty:n(29).f})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=m(n(2)),r=m(n(7)),o=m(n(52)),s=m(n(112)),a=m(n(3)),l=m(n(72)),u=m(n(4)),c=m(n(5)),p=m(n(1)),f=m(n(0)),d=n(507),h=m(n(673));function m(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(){(0,a.default)(this,t);var e=(0,u.default)(this,(t.__proto__||(0,s.default)(t)).call(this));return e.onClick=e.onClick.bind(e),e}return(0,c.default)(t,e),(0,l.default)(t,[{key:"onClick",value:function(){var e=this.props,t=e.node,n=e.onToggle,i=t.toggled;n&&n(t,!i)}},{key:"animations",value:function(){var e=this.props,t=e.animations,n=e.node;if(!1===t)return!1;var i=(0,o.default)({},t,n.animations);return{toggle:i.toggle(this.props),drawer:i.drawer(this.props)}}},{key:"decorators",value:function(){var e=this.props,t=e.decorators,n=e.node.decorators||{};return(0,o.default)({},t,n)}},{key:"render",value:function(){var e=this,t=this.props.style,n=this.decorators(),i=this.animations();return p.default.createElement("li",{ref:function(t){return e.topLevelRef=t},style:t.base},this.renderHeader(n,i),this.renderDrawer(n,i))}},{key:"renderDrawer",value:function(e,t){var n=this,o=this.props.node.toggled;if(!t&&!o)return null;if(!t&&o)return this.renderChildren(e,t);var s=t.drawer,a=(s.animation,s.duration,(0,r.default)(s,["animation","duration"]));return p.default.createElement(d.VelocityTransitionGroup,(0,i.default)({},a,{ref:function(e){return n.velocityRef=e}}),o?this.renderChildren(e,t):null)}},{key:"renderHeader",value:function(e,t){var n=this.props,i=n.node,r=n.style;return p.default.createElement(h.default,{animations:t,decorators:e,node:(0,o.default)({},i),onClick:this.onClick,style:r})}},{key:"renderChildren",value:function(e){var n=this,r=this.props,o=r.animations,s=r.decorators,a=r.node,l=r.style;if(a.loading)return this.renderLoading(e);var u=a.children;return Array.isArray(u)||(u=u?[u]:[]),p.default.createElement("ul",{style:l.subtree,ref:function(e){return n.subtreeRef=e}},u.map(function(e,r){return p.default.createElement(t,(0,i.default)({},n._eventBubbles(),{animations:o,decorators:s,key:e.id||r,node:e,style:l}))}))}},{key:"renderLoading",value:function(e){var t=this.props.style;return p.default.createElement("ul",{style:t.subtree},p.default.createElement("li",null,p.default.createElement(e.Loading,{style:t.loading})))}},{key:"_eventBubbles",value:function(){return{onToggle:this.props.onToggle}}}]),t}(p.default.Component);g.propTypes={style:f.default.object.isRequired,node:f.default.object.isRequired,decorators:f.default.object.isRequired,animations:f.default.oneOfType([f.default.object,f.default.bool]).isRequired,onToggle:f.default.func},t.default=g},function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r={forEach:n(346),isEqual:n(513),keys:n(309),omit:n(514)},o=n(1),s=n(10),a=n(0),l=n(351),u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._animationTimeout=null,n.runAnimation=n.runAnimation.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),i(t,[{key:"componentDidMount",value:function(){this.runAnimation(),!0!==this.props.runOnMount&&this._finishAnimation()}},{key:"componentWillUpdate",value:function(e,t){r.isEqual(e.animation,this.props.animation)||("stop"===e.interruptBehavior?this._stopAnimation():"finish"===e.interruptBehavior&&this._finishAnimation(),this._scheduleAnimation())}},{key:"componentWillUnmount",value:function(){this._stopAnimation(),this._clearVelocityCache(this._getDOMTarget()),this._animationTimeout&&clearTimeout(this._animationTimeout)}},{key:"runAnimation",value:function(e){if(e=e||{},this._animationTimeout=null,null!=this.props.animation){e.stop?l(this._getDOMTarget(),"stop",!0):e.finish&&l(this._getDOMTarget(),"finishAll",!0);var n=r.omit(this.props,r.keys(t.propTypes));l(this._getDOMTarget(),this.props.animation,n)}}},{key:"_scheduleAnimation",value:function(){this._animationTimeout||(this._animationTimeout=setTimeout(this.runAnimation,0))}},{key:"_getDOMTarget",value:function(){var e=s.findDOMNode(this);return"children"===this.props.targetQuerySelector?e.children:null!=this.props.targetQuerySelector?e.querySelectorAll(this.props.targetQuerySelector):e}},{key:"_finishAnimation",value:function(){l(this._getDOMTarget(),"finishAll",!0)}},{key:"_stopAnimation",value:function(){l(this._getDOMTarget(),"stop",!0)}},{key:"_clearVelocityCache",value:function(e){e.length?r.forEach(e,this._clearVelocityCache):l.Utilities.removeData(e,["velocity","fxqueue"])}},{key:"render",value:function(){return this.props.children}}]),t}();u.propTypes={animation:a.any,children:a.element.isRequired,runOnMount:a.bool,targetQuerySelector:a.string,interruptBehavior:a.string},u.defaultProps={animation:null,runOnMount:!1,targetQuerySelector:null,interruptBehavior:"stop"},e.exports=u},function(e,t){e.exports=function(e,t){for(var n=-1,i=e.length;++n<i&&!1!==t(e[n],n,e););return e}},function(e,t,n){var i=n(509),r=n(309);e.exports=function(e,t){return i(e,t,r)}},function(e,t,n){var i=n(206);e.exports=function(e){return function(t,n,r){for(var o=i(t),s=r(t),a=s.length,l=e?a:-1;e?l--:++l<a;){var u=s[l];if(!1===n(o[u],u,o))break}return t}}},function(e,t,n){var i=n(624),r=n(312),o=/^\[object .+?Constructor\]$/,s=Object.prototype,a=Function.prototype.toString,l=s.hasOwnProperty,u=RegExp("^"+a.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return null!=e&&(i(e)?u.test(a.call(e)):r(e)&&o.test(e))}},function(e,t,n){var i=n(174),r="[object Function]",o=Object.prototype.toString;e.exports=function(e){return i(e)&&o.call(e)==r}},function(e,t,n){var i=n(347),r=n(207),o=n(348),s=n(313),a=n(349),l=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=a(e),n=t.length,u=n&&e.length,c=!!u&&s(u)&&(r(e)||i(e)),p=-1,f=[];++p<n;){var d=t[p];(c&&o(d,u)||l.call(e,d))&&f.push(d)}return f}},function(e,t,n){var i=n(510),r=n(313),o=n(206);e.exports=function(e,t){return function(n,s){var a=n?i(n):0;if(!r(a))return e(n,s);for(var l=t?a:-1,u=o(n);(t?l--:++l<a)&&!1!==s(u[l],l,u););return n}}},function(e,t,n){var i=n(319),r=n(207);e.exports=function(e,t){return function(n,o,s){return"function"==typeof o&&void 0===s&&r(n)?e(n,o):t(n,i(o,s,3))}}},function(e,t,n){var i=n(629),r=n(631),o=n(632),s=n(207),a=n(633),l="[object Arguments]",u="[object Array]",c="[object Object]",p=Object.prototype,f=p.hasOwnProperty,d=p.toString;e.exports=function(e,t,n,p,h,m,g){var b=s(e),y=s(t),v=u,_=u;b||((v=d.call(e))==l?v=c:v!=c&&(b=a(e))),y||((_=d.call(t))==l?_=c:_!=c&&(y=a(t)));var x=v==c,w=_==c,k=v==_;if(k&&!b&&!x)return r(e,t,v);if(!h){var S=x&&f.call(e,"__wrapped__"),C=w&&f.call(t,"__wrapped__");if(S||C)return n(S?e.value():e,C?t.value():t,p,h,m,g)}if(!k)return!1;m||(m=[]),g||(g=[]);for(var E=m.length;E--;)if(m[E]==e)return g[E]==t;m.push(e),g.push(t);var T=(b?i:o)(e,t,n,p,h,m,g);return m.pop(),g.pop(),T}},function(e,t,n){var i=n(630);e.exports=function(e,t,n,r,o,s,a){var l=-1,u=e.length,c=t.length;if(u!=c&&!(o&&c>u))return!1;for(;++l<u;){var p=e[l],f=t[l],d=r?r(o?f:p,o?p:f,l):void 0;if(void 0!==d){if(d)continue;return!1}if(o){if(!i(t,function(e){return p===e||n(p,e,r,o,s,a)}))return!1}else if(p!==f&&!n(p,f,r,o,s,a))return!1}return!0}},function(e,t){e.exports=function(e,t){for(var n=-1,i=e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}},function(e,t){var n="[object Boolean]",i="[object Date]",r="[object Error]",o="[object Number]",s="[object RegExp]",a="[object String]";e.exports=function(e,t,l){switch(l){case n:case i:return+e==+t;case r:return e.name==t.name&&e.message==t.message;case o:return e!=+e?t!=+t:e==+t;case s:case a:return e==t+""}return!1}},function(e,t,n){var i=n(309),r=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,s,a,l){var u=i(e),c=u.length;if(c!=i(t).length&&!s)return!1;for(var p=c;p--;){var f=u[p];if(!(s?f in t:r.call(t,f)))return!1}for(var d=s;++p<c;){var h=e[f=u[p]],m=t[f],g=o?o(s?m:h,s?h:m,f):void 0;if(!(void 0===g?n(h,m,o,s,a,l):g))return!1;d||(d="constructor"==f)}if(!d){var b=e.constructor,y=t.constructor;if(b!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof y&&y instanceof y))return!1}return!0}},function(e,t,n){var i=n(313),r=n(312),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1;var s=Object.prototype.toString;e.exports=function(e){return r(e)&&i(e.length)&&!!o[s.call(e)]}},function(e,t,n){var i=n(635),r=n(637),o=n(638),s=200;e.exports=function(e,t){var n=e?e.length:0,a=[];if(!n)return a;var l=-1,u=i,c=!0,p=c&&t.length>=s?o(t):null,f=t.length;p&&(u=r,c=!1,t=p);e:for(;++l<n;){var d=e[l];if(c&&d==d){for(var h=f;h--;)if(t[h]===d)continue e;a.push(d)}else u(t,d,0)<0&&a.push(d)}return a}},function(e,t,n){var i=n(636);e.exports=function(e,t,n){if(t!=t)return i(e,n);for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}},function(e,t){e.exports=function(e,t,n){for(var i=e.length,r=t+(n?0:-1);n?r--:++r<i;){var o=e[r];if(o!=o)return r}return-1}},function(e,t,n){var i=n(174);e.exports=function(e,t){var n=e.data;return("string"==typeof t||i(t)?n.set.has(t):n.hash[t])?0:-1}},function(e,t,n){(function(t){var i=n(639),r=n(327),o=r(t,"Set"),s=r(Object,"create");e.exports=function(e){return s&&o?new i(e):null}}).call(this,n(12))},function(e,t,n){(function(t){var i=n(640),r=n(327),o=r(t,"Set"),s=r(Object,"create");function a(e){var t=e?e.length:0;for(this.data={hash:s(null),set:new o};t--;)this.push(e[t])}a.prototype.push=i,e.exports=a}).call(this,n(12))},function(e,t,n){var i=n(174);e.exports=function(e){var t=this.data;"string"==typeof e||i(e)?t.set.add(e):t.hash[e]=!0}},function(e,t,n){var i=n(642),r=n(347),o=n(207),s=n(318),a=n(312);e.exports=function e(t,n,l,u){u||(u=[]);for(var c=-1,p=t.length;++c<p;){var f=t[c];a(f)&&s(f)&&(l||o(f)||r(f))?n?e(f,n,l,u):i(u,f):l||(u[u.length]=f)}return u}},function(e,t){e.exports=function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}},function(e,t,n){var i=n(206);e.exports=function(e,t){e=i(e);for(var n=-1,r=t.length,o={};++n<r;){var s=t[n];s in e&&(o[s]=e[s])}return o}},function(e,t,n){var i=n(645);e.exports=function(e,t){var n={};return i(e,function(e,i,r){t(e,i,r)&&(n[i]=e)}),n}},function(e,t,n){var i=n(509),r=n(349);e.exports=function(e,t){return i(e,t,r)}},function(e,t,n){var i,r;/*! VelocityJS.org (1.5.0). (C) 2014 Julian Shapiro. MIT @license: en.wikipedia.org/wiki/MIT_License */
/*! VelocityJS.org jQuery Shim (1.0.1). (C) 2014 The jQuery Foundation. MIT @license: en.wikipedia.org/wiki/MIT_License. */ /*! VelocityJS.org (1.5.0). (C) 2014 Julian Shapiro. MIT @license: en.wikipedia.org/wiki/MIT_License */
/*! VelocityJS.org jQuery Shim (1.0.1). (C) 2014 The jQuery Foundation. MIT @license: en.wikipedia.org/wiki/MIT_License. */
!function(e){"use strict";if(!e.jQuery){var t=function(e,n){return new t.fn.init(e,n)};t.isWindow=function(e){return e&&e===e.window},t.type=function(e){return e?"object"==typeof e||"function"==typeof e?i[o.call(e)]||"object":typeof e:e+""},t.isArray=Array.isArray||function(e){return"array"===t.type(e)},t.isPlainObject=function(e){var n;if(!e||"object"!==t.type(e)||e.nodeType||t.isWindow(e))return!1;try{if(e.constructor&&!r.call(e,"constructor")&&!r.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}for(n in e);return void 0===n||r.call(e,n)},t.each=function(e,t,n){var i=0,r=e.length,o=l(e);if(n){if(o)for(;i<r&&!1!==t.apply(e[i],n);i++);else for(i in e)if(e.hasOwnProperty(i)&&!1===t.apply(e[i],n))break}else if(o)for(;i<r&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(e.hasOwnProperty(i)&&!1===t.call(e[i],i,e[i]))break;return e},t.data=function(e,i,r){if(void 0===r){var o=e[t.expando],s=o&&n[o];if(void 0===i)return s;if(s&&i in s)return s[i]}else if(void 0!==i){var a=e[t.expando]||(e[t.expando]=++t.uuid);return n[a]=n[a]||{},n[a][i]=r,r}},t.removeData=function(e,i){var r=e[t.expando],o=r&&n[r];o&&(i?t.each(i,function(e,t){delete o[t]}):delete n[r])},t.extend=function(){var e,n,i,r,o,s,a=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[l]||{},l++),"object"!=typeof a&&"function"!==t.type(a)&&(a={}),l===u&&(a=this,l--);l<u;l++)if(o=arguments[l])for(r in o)o.hasOwnProperty(r)&&(e=a[r],a!==(i=o[r])&&(c&&i&&(t.isPlainObject(i)||(n=t.isArray(i)))?(n?(n=!1,s=e&&t.isArray(e)?e:[]):s=e&&t.isPlainObject(e)?e:{},a[r]=t.extend(c,s,i)):void 0!==i&&(a[r]=i)));return a},t.queue=function(e,n,i){if(e){n=(n||"fx")+"queue";var r,o,s,a=t.data(e,n);return i?(!a||t.isArray(i)?a=t.data(e,n,(s=o||[],(r=i)&&(l(Object(r))?function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;)e[r++]=t[i++];if(n!=n)for(;void 0!==t[i];)e[r++]=t[i++];e.length=r}(s,"string"==typeof r?[r]:r):[].push.call(s,r)),s)):a.push(i),a):a||[]}},t.dequeue=function(e,n){t.each(e.nodeType?[e]:e,function(e,i){n=n||"fx";var r=t.queue(i,n),o=r.shift();"inprogress"===o&&(o=r.shift()),o&&("fx"===n&&r.unshift("inprogress"),o.call(i,function(){t.dequeue(i,n)}))})},t.fn=t.prototype={init:function(e){if(e.nodeType)return this[0]=e,this;throw new Error("Not a DOM node.")},offset:function(){var t=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:t.top+(e.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:t.left+(e.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){var e=this[0],n=function(e){for(var t=e.offsetParent;t&&"html"!==t.nodeName.toLowerCase()&&t.style&&"static"===t.style.position.toLowerCase();)t=t.offsetParent;return t||document}(e),i=this.offset(),r=/^(?:body|html)$/i.test(n.nodeName)?{top:0,left:0}:t(n).offset();return i.top-=parseFloat(e.style.marginTop)||0,i.left-=parseFloat(e.style.marginLeft)||0,n.style&&(r.top+=parseFloat(n.style.borderTopWidth)||0,r.left+=parseFloat(n.style.borderLeftWidth)||0),{top:i.top-r.top,left:i.left-r.left}}};var n={};t.expando="velocity"+(new Date).getTime(),t.uuid=0;for(var i={},r=i.hasOwnProperty,o=i.toString,s="Boolean Number String Function Array Date RegExp Object Error".split(" "),a=0;a<s.length;a++)i["[object "+s[a]+"]"]=s[a].toLowerCase();t.fn.init.prototype=t.fn,e.Velocity={Utilities:t}}function l(e){var n=e.length,i=t.type(e);return"function"!==i&&!t.isWindow(e)&&(!(1!==e.nodeType||!n)||("array"===i||0===n||"number"==typeof n&&n>0&&n-1 in e))}}(window),function(o){"use strict";"object"==typeof e.exports?e.exports=o():void 0===(r="function"==typeof(i=o)?i.call(t,n,t,e):i)||(e.exports=r)}(function(){"use strict";return function(e,t,n,i){var r,o=function(){if(n.documentMode)return n.documentMode;for(var e=7;e>4;e--){var t=n.createElement("div");if(t.innerHTML="\x3c!--[if IE "+e+"]><span></span><![endif]--\x3e",t.getElementsByTagName("span").length)return t=null,e}return i}(),s=(r=0,t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||function(e){var t,n=(new Date).getTime();return t=Math.max(0,16-(n-r)),r=n+t,setTimeout(function(){e(n+t)},t)}),a=function(){var e=t.performance||{};if("function"!=typeof e.now){var n=e.timing&&e.timing.navigationStart?e.timing.navigationStart:(new Date).getTime();e.now=function(){return(new Date).getTime()-n}}return e}();var l=function(){var e=Array.prototype.slice;try{return e.call(n.documentElement),e}catch(t){return function(t,n){var i=this.length;if("number"!=typeof t&&(t=0),"number"!=typeof n&&(n=i),this.slice)return e.call(this,t,n);var r,o=[],s=t>=0?t:Math.max(0,i+t),a=(n<0?i+n:Math.min(n,i))-s;if(a>0)if(o=new Array(a),this.charAt)for(r=0;r<a;r++)o[r]=this.charAt(s+r);else for(r=0;r<a;r++)o[r]=this[s+r];return o}}}(),u=function(){return Array.prototype.includes?function(e,t){return e.includes(t)}:Array.prototype.indexOf?function(e,t){return e.indexOf(t)>=0}:function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1}};function c(e){return f.isWrapped(e)?e=l.call(e):f.isNode(e)&&(e=[e]),e}var p,f={isNumber:function(e){return"number"==typeof e},isString:function(e){return"string"==typeof e},isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)},isNode:function(e){return e&&e.nodeType},isWrapped:function(e){return e&&e!==t&&f.isNumber(e.length)&&!f.isString(e)&&!f.isFunction(e)&&!f.isNode(e)&&(0===e.length||f.isNode(e[0]))},isSVG:function(e){return t.SVGElement&&e instanceof t.SVGElement},isEmptyObject:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}},d=!1;if(e.fn&&e.fn.jquery?(p=e,d=!0):p=t.Velocity.Utilities,o<=8&&!d)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(!(o<=7)){var h=400,m="swing",g={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t.navigator.userAgent),isAndroid:/Android/i.test(t.navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(t.navigator.userAgent),isChrome:t.chrome,isFirefox:/Firefox/i.test(t.navigator.userAgent),prefixElement:n.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[],delayedElements:{count:0}},CSS:{},Utilities:p,Redirects:{},Easings:{},Promise:t.Promise,defaults:{queue:"",duration:h,easing:m,begin:i,complete:i,progress:i,display:i,visibility:i,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0,promiseRejectEmpty:!0},init:function(e){p.data(e,"velocity",{isSVG:f.isSVG(e),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:5,patch:1},debug:!1,timestamp:!0,pauseAll:function(e){var t=(new Date).getTime();p.each(g.State.calls,function(t,n){if(n){if(e!==i&&(n[2].queue!==e||!1===n[2].queue))return!0;n[5]={resume:!1}}}),p.each(g.State.delayedElements,function(e,n){n&&k(n,t)})},resumeAll:function(e){var t=(new Date).getTime();p.each(g.State.calls,function(t,n){if(n){if(e!==i&&(n[2].queue!==e||!1===n[2].queue))return!0;n[5]&&(n[5].resume=!0)}}),p.each(g.State.delayedElements,function(e,n){n&&S(n,t)})}};t.pageYOffset!==i?(g.State.scrollAnchor=t,g.State.scrollPropertyLeft="pageXOffset",g.State.scrollPropertyTop="pageYOffset"):(g.State.scrollAnchor=n.documentElement||n.body.parentNode||n.body,g.State.scrollPropertyLeft="scrollLeft",g.State.scrollPropertyTop="scrollTop");var b=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,n,i){var r={x:t.x+i.dx*n,v:t.v+i.dv*n,tension:t.tension,friction:t.friction};return{dx:r.v,dv:e(r)}}function n(n,i){var r={dx:n.v,dv:e(n)},o=t(n,.5*i,r),s=t(n,.5*i,o),a=t(n,i,s),l=1/6*(r.dx+2*(o.dx+s.dx)+a.dx),u=1/6*(r.dv+2*(o.dv+s.dv)+a.dv);return n.x=n.x+l*i,n.v=n.v+u*i,n}return function e(t,i,r){var o,s,a,l={x:-1,v:0,tension:null,friction:null},u=[0],c=0;for(t=parseFloat(t)||500,i=parseFloat(i)||20,r=r||null,l.tension=t,l.friction=i,s=(o=null!==r)?(c=e(t,i))/r*.016:.016;a=n(a||l,s),u.push(1+a.x),c+=16,Math.abs(a.x)>1e-4&&Math.abs(a.v)>1e-4;);return o?function(e){return u[e*(u.length-1)|0]}:c}}();g.Easings={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},spring:function(e){return 1-Math.cos(4.5*e*Math.PI)*Math.exp(6*-e)}},p.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(e,t){g.Easings[t[0]]=C.apply(null,t[1])});var y=g.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"],units:["%","em","ex","ch","rem","vw","vh","vmin","vmax","cm","mm","Q","in","pc","pt","px","deg","grad","rad","turn","s","ms"],colorNames:{aliceblue:"240,248,255",antiquewhite:"250,235,215",aquamarine:"127,255,212",aqua:"0,255,255",azure:"240,255,255",beige:"245,245,220",bisque:"255,228,196",black:"0,0,0",blanchedalmond:"255,235,205",blueviolet:"138,43,226",blue:"0,0,255",brown:"165,42,42",burlywood:"222,184,135",cadetblue:"95,158,160",chartreuse:"127,255,0",chocolate:"210,105,30",coral:"255,127,80",cornflowerblue:"100,149,237",cornsilk:"255,248,220",crimson:"220,20,60",cyan:"0,255,255",darkblue:"0,0,139",darkcyan:"0,139,139",darkgoldenrod:"184,134,11",darkgray:"169,169,169",darkgrey:"169,169,169",darkgreen:"0,100,0",darkkhaki:"189,183,107",darkmagenta:"139,0,139",darkolivegreen:"85,107,47",darkorange:"255,140,0",darkorchid:"153,50,204",darkred:"139,0,0",darksalmon:"233,150,122",darkseagreen:"143,188,143",darkslateblue:"72,61,139",darkslategray:"47,79,79",darkturquoise:"0,206,209",darkviolet:"148,0,211",deeppink:"255,20,147",deepskyblue:"0,191,255",dimgray:"105,105,105",dimgrey:"105,105,105",dodgerblue:"30,144,255",firebrick:"178,34,34",floralwhite:"255,250,240",forestgreen:"34,139,34",fuchsia:"255,0,255",gainsboro:"220,220,220",ghostwhite:"248,248,255",gold:"255,215,0",goldenrod:"218,165,32",gray:"128,128,128",grey:"128,128,128",greenyellow:"173,255,47",green:"0,128,0",honeydew:"240,255,240",hotpink:"255,105,180",indianred:"205,92,92",indigo:"75,0,130",ivory:"255,255,240",khaki:"240,230,140",lavenderblush:"255,240,245",lavender:"230,230,250",lawngreen:"124,252,0",lemonchiffon:"255,250,205",lightblue:"173,216,230",lightcoral:"240,128,128",lightcyan:"224,255,255",lightgoldenrodyellow:"250,250,210",lightgray:"211,211,211",lightgrey:"211,211,211",lightgreen:"144,238,144",lightpink:"255,182,193",lightsalmon:"255,160,122",lightseagreen:"32,178,170",lightskyblue:"135,206,250",lightslategray:"119,136,153",lightsteelblue:"176,196,222",lightyellow:"255,255,224",limegreen:"50,205,50",lime:"0,255,0",linen:"250,240,230",magenta:"255,0,255",maroon:"128,0,0",mediumaquamarine:"102,205,170",mediumblue:"0,0,205",mediumorchid:"186,85,211",mediumpurple:"147,112,219",mediumseagreen:"60,179,113",mediumslateblue:"123,104,238",mediumspringgreen:"0,250,154",mediumturquoise:"72,209,204",mediumvioletred:"199,21,133",midnightblue:"25,25,112",mintcream:"245,255,250",mistyrose:"255,228,225",moccasin:"255,228,181",navajowhite:"255,222,173",navy:"0,0,128",oldlace:"253,245,230",olivedrab:"107,142,35",olive:"128,128,0",orangered:"255,69,0",orange:"255,165,0",orchid:"218,112,214",palegoldenrod:"238,232,170",palegreen:"152,251,152",paleturquoise:"175,238,238",palevioletred:"219,112,147",papayawhip:"255,239,213",peachpuff:"255,218,185",peru:"205,133,63",pink:"255,192,203",plum:"221,160,221",powderblue:"176,224,230",purple:"128,0,128",red:"255,0,0",rosybrown:"188,143,143",royalblue:"65,105,225",saddlebrown:"139,69,19",salmon:"250,128,114",sandybrown:"244,164,96",seagreen:"46,139,87",seashell:"255,245,238",sienna:"160,82,45",silver:"192,192,192",skyblue:"135,206,235",slateblue:"106,90,205",slategray:"112,128,144",snow:"255,250,250",springgreen:"0,255,127",steelblue:"70,130,180",tan:"210,180,140",teal:"0,128,128",thistle:"216,191,216",tomato:"255,99,71",turquoise:"64,224,208",violet:"238,130,238",wheat:"245,222,179",whitesmoke:"245,245,245",white:"255,255,255",yellowgreen:"154,205,50",yellow:"255,255,0"}},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var e=0;e<y.Lists.colors.length;e++){var t="color"===y.Lists.colors[e]?"0 0 0 1":"255 255 255 1";y.Hooks.templates[y.Lists.colors[e]]=["Red Green Blue Alpha",t]}var n,i,r;if(o)for(n in y.Hooks.templates)if(y.Hooks.templates.hasOwnProperty(n)){r=(i=y.Hooks.templates[n])[0].split(" ");var s=i[1].match(y.RegEx.valueSplit);"Color"===r[0]&&(r.push(r.shift()),s.push(s.shift()),y.Hooks.templates[n]=[r.join(" "),s.join(" ")])}for(n in y.Hooks.templates)if(y.Hooks.templates.hasOwnProperty(n))for(var a in r=(i=y.Hooks.templates[n])[0].split(" "))if(r.hasOwnProperty(a)){var l=n+r[a],u=a;y.Hooks.registered[l]=[n,u]}},getRoot:function(e){var t=y.Hooks.registered[e];return t?t[0]:e},getUnit:function(e,t){var n=(e.substr(t||0,5).match(/^[a-z%]+/)||[])[0]||"";return n&&u(y.Lists.units,n)?n:""},fixColors:function(e){return e.replace(/(rgba?\(\s*)?(\b[a-z]+\b)/g,function(e,t,n){return y.Lists.colorNames.hasOwnProperty(n)?(t||"rgba(")+y.Lists.colorNames[n]+(t?"":",1)"):t+n})},cleanRootPropertyValue:function(e,t){return y.RegEx.valueUnwrap.test(t)&&(t=t.match(y.RegEx.valueUnwrap)[1]),y.Values.isCSSNullValue(t)&&(t=y.Hooks.templates[e][1]),t},extractValue:function(e,t){var n=y.Hooks.registered[e];if(n){var i=n[0],r=n[1];return(t=y.Hooks.cleanRootPropertyValue(i,t)).toString().match(y.RegEx.valueSplit)[r]}return t},injectValue:function(e,t,n){var i=y.Hooks.registered[e];if(i){var r,o=i[0],s=i[1];return(r=(n=y.Hooks.cleanRootPropertyValue(o,n)).toString().match(y.RegEx.valueSplit))[s]=t,r.join(" ")}return n}},Normalizations:{registered:{clip:function(e,t,n){switch(e){case"name":return"clip";case"extract":var i;return i=y.RegEx.wrappedValueAlreadyExtracted.test(n)?n:(i=n.toString().match(y.RegEx.valueUnwrap))?i[1].replace(/,(\s+)?/g," "):n;case"inject":return"rect("+n+")"}},blur:function(e,t,n){switch(e){case"name":return g.State.isFirefox?"filter":"-webkit-filter";case"extract":var i=parseFloat(n);if(!i&&0!==i){var r=n.toString().match(/blur\(([0-9]+[A-z]+)\)/i);i=r?r[1]:0}return i;case"inject":return parseFloat(n)?"blur("+n+")":"none"}},opacity:function(e,t,n){if(o<=8)switch(e){case"name":return"filter";case"extract":var i=n.toString().match(/alpha\(opacity=(.*)\)/i);return n=i?i[1]/100:1;case"inject":return t.style.zoom=1,parseFloat(n)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(n),10)+")"}else switch(e){case"name":return"opacity";case"extract":case"inject":return n}}},register:function(){o&&!(o>9)||g.State.isGingerbread||(y.Lists.transformsBase=y.Lists.transformsBase.concat(y.Lists.transforms3D));for(var e=0;e<y.Lists.transformsBase.length;e++)!function(){var t=y.Lists.transformsBase[e];y.Normalizations.registered[t]=function(e,n,r){switch(e){case"name":return"transform";case"extract":return w(n)===i||w(n).transformCache[t]===i?/^scale/i.test(t)?1:0:w(n).transformCache[t].replace(/[()]/g,"");case"inject":var o=!1;switch(t.substr(0,t.length-1)){case"translate":o=!/(%|px|em|rem|vw|vh|\d)$/i.test(r);break;case"scal":case"scale":g.State.isAndroid&&w(n).transformCache[t]===i&&r<1&&(r=1),o=!/(\d)$/i.test(r);break;case"skew":case"rotate":o=!/(deg|\d)$/i.test(r)}return o||(w(n).transformCache[t]="("+r+")"),w(n).transformCache[t]}}}();for(var t=0;t<y.Lists.colors.length;t++)!function(){var e=y.Lists.colors[t];y.Normalizations.registered[e]=function(t,n,r){switch(t){case"name":return e;case"extract":var s;if(y.RegEx.wrappedValueAlreadyExtracted.test(r))s=r;else{var a,l={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(r)?a=l[r]!==i?l[r]:l.black:y.RegEx.isHex.test(r)?a="rgb("+y.Values.hexToRgb(r).join(" ")+")":/^rgba?\(/i.test(r)||(a=l.black),s=(a||r).toString().match(y.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return(!o||o>8)&&3===s.split(" ").length&&(s+=" 1"),s;case"inject":return/^rgb/.test(r)?r:(o<=8?4===r.split(" ").length&&(r=r.split(/\s+/).slice(0,3).join(" ")):3===r.split(" ").length&&(r+=" 1"),(o<=8?"rgb":"rgba")+"("+r.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")")}}}();function n(e,t,n){if("border-box"===y.getPropertyValue(t,"boxSizing").toString().toLowerCase()===(n||!1)){var i,r,o=0,s="width"===e?["Left","Right"]:["Top","Bottom"],a=["padding"+s[0],"padding"+s[1],"border"+s[0]+"Width","border"+s[1]+"Width"];for(i=0;i<a.length;i++)r=parseFloat(y.getPropertyValue(t,a[i])),isNaN(r)||(o+=r);return n?-o:o}return 0}function r(e,t){return function(i,r,o){switch(i){case"name":return e;case"extract":return parseFloat(o)+n(e,r,t);case"inject":return parseFloat(o)-n(e,r,t)+"px"}}}y.Normalizations.registered.innerWidth=r("width",!0),y.Normalizations.registered.innerHeight=r("height",!0),y.Normalizations.registered.outerWidth=r("width"),y.Normalizations.registered.outerHeight=r("height")}},Names:{camelCase:function(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})},SVGAttribute:function(e){var t="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(o||g.State.isAndroid&&!g.State.isChrome)&&(t+="|transform"),new RegExp("^("+t+")$","i").test(e)},prefixCheck:function(e){if(g.State.prefixMatches[e])return[g.State.prefixMatches[e],!0];for(var t=["","Webkit","Moz","ms","O"],n=0,i=t.length;n<i;n++){var r;if(r=0===n?e:t[n]+e.replace(/^\w/,function(e){return e.toUpperCase()}),f.isString(g.State.prefixElement.style[r]))return g.State.prefixMatches[e]=r,[r,!0]}return[e,!1]}},Values:{hexToRgb:function(e){var t;return e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,n,i){return t+t+n+n+i+i}),(t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e))?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:[0,0,0]},isCSSNullValue:function(e){return!e||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(e)},getUnitType:function(e){return/^(rotate|skew)/i.test(e)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(e)?"":"px"},getDisplayType:function(e){var t=e&&e.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(t)?"inline":/^(li)$/i.test(t)?"list-item":/^(tr)$/i.test(t)?"table-row":/^(table)$/i.test(t)?"table":/^(tbody)$/i.test(t)?"table-row-group":"block"},addClass:function(e,t){if(e)if(e.classList)e.classList.add(t);else if(f.isString(e.className))e.className+=(e.className.length?" ":"")+t;else{var n=e.getAttribute(o<=7?"className":"class")||"";e.setAttribute("class",n+(n?" ":"")+t)}},removeClass:function(e,t){if(e)if(e.classList)e.classList.remove(t);else if(f.isString(e.className))e.className=e.className.toString().replace(new RegExp("(^|\\s)"+t.split(" ").join("|")+"(\\s|$)","gi")," ");else{var n=e.getAttribute(o<=7?"className":"class")||"";e.setAttribute("class",n.replace(new RegExp("(^|s)"+t.split(" ").join("|")+"(s|$)","gi")," "))}}},getPropertyValue:function(e,n,r,s){function a(e,n){var r=0;if(o<=8)r=p.css(e,n);else{var l=!1;/^(width|height)$/.test(n)&&0===y.getPropertyValue(e,"display")&&(l=!0,y.setPropertyValue(e,"display",y.Values.getDisplayType(e)));var u,c=function(){l&&y.setPropertyValue(e,"display","none")};if(!s){if("height"===n&&"border-box"!==y.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var f=e.offsetHeight-(parseFloat(y.getPropertyValue(e,"borderTopWidth"))||0)-(parseFloat(y.getPropertyValue(e,"borderBottomWidth"))||0)-(parseFloat(y.getPropertyValue(e,"paddingTop"))||0)-(parseFloat(y.getPropertyValue(e,"paddingBottom"))||0);return c(),f}if("width"===n&&"border-box"!==y.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var d=e.offsetWidth-(parseFloat(y.getPropertyValue(e,"borderLeftWidth"))||0)-(parseFloat(y.getPropertyValue(e,"borderRightWidth"))||0)-(parseFloat(y.getPropertyValue(e,"paddingLeft"))||0)-(parseFloat(y.getPropertyValue(e,"paddingRight"))||0);return c(),d}}u=w(e)===i?t.getComputedStyle(e,null):w(e).computedStyle?w(e).computedStyle:w(e).computedStyle=t.getComputedStyle(e,null),"borderColor"===n&&(n="borderTopColor"),""!==(r=9===o&&"filter"===n?u.getPropertyValue(n):u[n])&&null!==r||(r=e.style[n]),c()}if("auto"===r&&/^(top|right|bottom|left)$/i.test(n)){var h=a(e,"position");("fixed"===h||"absolute"===h&&/top|left/i.test(n))&&(r=p(e).position()[n]+"px")}return r}var l;if(y.Hooks.registered[n]){var u=n,c=y.Hooks.getRoot(u);r===i&&(r=y.getPropertyValue(e,y.Names.prefixCheck(c)[0])),y.Normalizations.registered[c]&&(r=y.Normalizations.registered[c]("extract",e,r)),l=y.Hooks.extractValue(u,r)}else if(y.Normalizations.registered[n]){var f,d;"transform"!==(f=y.Normalizations.registered[n]("name",e))&&(d=a(e,y.Names.prefixCheck(f)[0]),y.Values.isCSSNullValue(d)&&y.Hooks.templates[n]&&(d=y.Hooks.templates[n][1])),l=y.Normalizations.registered[n]("extract",e,d)}if(!/^[\d-]/.test(l)){var h=w(e);if(h&&h.isSVG&&y.Names.SVGAttribute(n))if(/^(height|width)$/i.test(n))try{l=e.getBBox()[n]}catch(e){l=0}else l=e.getAttribute(n);else l=a(e,y.Names.prefixCheck(n)[0])}return y.Values.isCSSNullValue(l)&&(l=0),g.debug>=2&&console.log("Get "+n+": "+l),l},setPropertyValue:function(e,n,i,r,s){var a=n;if("scroll"===n)s.container?s.container["scroll"+s.direction]=i:"Left"===s.direction?t.scrollTo(i,s.alternateValue):t.scrollTo(s.alternateValue,i);else if(y.Normalizations.registered[n]&&"transform"===y.Normalizations.registered[n]("name",e))y.Normalizations.registered[n]("inject",e,i),a="transform",i=w(e).transformCache[n];else{if(y.Hooks.registered[n]){var l=n,u=y.Hooks.getRoot(n);r=r||y.getPropertyValue(e,u),i=y.Hooks.injectValue(l,i,r),n=u}if(y.Normalizations.registered[n]&&(i=y.Normalizations.registered[n]("inject",e,i),n=y.Normalizations.registered[n]("name",e)),a=y.Names.prefixCheck(n)[0],o<=8)try{e.style[a]=i}catch(e){g.debug&&console.log("Browser does not support ["+i+"] for ["+a+"]")}else{var c=w(e);c&&c.isSVG&&y.Names.SVGAttribute(n)?e.setAttribute(n,i):e.style[a]=i}g.debug>=2&&console.log("Set "+n+" ("+a+"): "+i)}return[a,i]},flushTransformCache:function(e){var t="",n=w(e);if((o||g.State.isAndroid&&!g.State.isChrome)&&n&&n.isSVG){var i=function(t){return parseFloat(y.getPropertyValue(e,t))},r={translate:[i("translateX"),i("translateY")],skewX:[i("skewX")],skewY:[i("skewY")],scale:1!==i("scale")?[i("scale"),i("scale")]:[i("scaleX"),i("scaleY")],rotate:[i("rotateZ"),0,0]};p.each(w(e).transformCache,function(e){/^translate/i.test(e)?e="translate":/^scale/i.test(e)?e="scale":/^rotate/i.test(e)&&(e="rotate"),r[e]&&(t+=e+"("+r[e].join(" ")+") ",delete r[e])})}else{var s,a;p.each(w(e).transformCache,function(n){if(s=w(e).transformCache[n],"transformPerspective"===n)return a=s,!0;9===o&&"rotateZ"===n&&(n="rotate"),t+=n+s+" "}),a&&(t="perspective"+a+" "+t)}y.setPropertyValue(e,"transform",t)}};y.Hooks.register(),y.Normalizations.register(),g.hook=function(e,t,n){var r;return e=c(e),p.each(e,function(e,o){if(w(o)===i&&g.init(o),n===i)r===i&&(r=y.getPropertyValue(o,t));else{var s=y.setPropertyValue(o,t,n);"transform"===s[0]&&g.CSS.flushTransformCache(o),r=s}}),r};var v=function(){var e;function r(){return o?_.promise||null:s}var o,s,a,l,d,m,b=arguments[0]&&(arguments[0].p||p.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||f.isString(arguments[0].properties));f.isWrapped(this)?(o=!1,a=0,l=this,s=this):(o=!0,a=1,l=b?arguments[0].elements||arguments[0].e:arguments[0]);var _={promise:null,resolver:null,rejecter:null};if(o&&g.Promise&&(_.promise=new g.Promise(function(e,t){_.resolver=e,_.rejecter=t})),b?(d=arguments[0].properties||arguments[0].p,m=arguments[0].options||arguments[0].o):(d=arguments[a],m=arguments[a+1]),l=c(l)){var x,C=l.length,N=0;if(!/^(stop|finish|finishAll|pause|resume)$/i.test(d)&&!p.isPlainObject(m)){m={};for(var M=a+1;M<arguments.length;M++)f.isArray(arguments[M])||!/^(fast|normal|slow)$/i.test(arguments[M])&&!/^\d/.test(arguments[M])?f.isString(arguments[M])||f.isArray(arguments[M])?m.easing=arguments[M]:f.isFunction(arguments[M])&&(m.complete=arguments[M]):m.duration=arguments[M]}switch(d){case"scroll":x="scroll";break;case"reverse":x="reverse";break;case"pause":var R=(new Date).getTime();return p.each(l,function(e,t){k(t,R)}),p.each(g.State.calls,function(e,t){var n=!1;t&&p.each(t[1],function(e,r){var o=m===i?"":m;return!0!==o&&t[2].queue!==o&&(m!==i||!1!==t[2].queue)||(p.each(l,function(e,i){if(i===r)return t[5]={resume:!1},n=!0,!1}),!n&&void 0)})}),r();case"resume":return p.each(l,function(e,t){S(t)}),p.each(g.State.calls,function(e,t){var n=!1;t&&p.each(t[1],function(e,r){var o=m===i?"":m;return!0!==o&&t[2].queue!==o&&(m!==i||!1!==t[2].queue)||(!t[5]||(p.each(l,function(e,i){if(i===r)return t[5].resume=!0,n=!0,!1}),!n&&void 0))})}),r();case"finish":case"finishAll":case"stop":p.each(l,function(e,t){w(t)&&w(t).delayTimer&&(clearTimeout(w(t).delayTimer.setTimeout),w(t).delayTimer.next&&w(t).delayTimer.next(),delete w(t).delayTimer),"finishAll"!==d||!0!==m&&!f.isString(m)||(p.each(p.queue(t,f.isString(m)?m:""),function(e,t){f.isFunction(t)&&t()}),p.queue(t,f.isString(m)?m:"",[]))});var O=[];return p.each(g.State.calls,function(e,t){t&&p.each(t[1],function(n,r){var o=m===i?"":m;if(!0!==o&&t[2].queue!==o&&(m!==i||!1!==t[2].queue))return!0;p.each(l,function(n,i){if(i===r)if((!0===m||f.isString(m))&&(p.each(p.queue(i,f.isString(m)?m:""),function(e,t){f.isFunction(t)&&t(null,!0)}),p.queue(i,f.isString(m)?m:"",[])),"stop"===d){var s=w(i);s&&s.tweensContainer&&!1!==o&&p.each(s.tweensContainer,function(e,t){t.endValue=t.currentValue}),O.push(e)}else"finish"!==d&&"finishAll"!==d||(t[2].duration=1)})})}),"stop"===d&&(p.each(O,function(e,t){A(t,!0)}),_.promise&&_.resolver(l)),r();default:if(!p.isPlainObject(d)||f.isEmptyObject(d)){if(f.isString(d)&&g.Redirects[d]){var L=(e=p.extend({},m)).duration,P=e.delay||0;return!0===e.backwards&&(l=p.extend(!0,[],l).reverse()),p.each(l,function(t,n){parseFloat(e.stagger)?e.delay=P+parseFloat(e.stagger)*t:f.isFunction(e.stagger)&&(e.delay=P+e.stagger.call(n,t,C)),e.drag&&(e.duration=parseFloat(L)||(/^(callout|transition)/.test(d)?1e3:h),e.duration=Math.max(e.duration*(e.backwards?1-t/C:(t+1)/C),.75*e.duration,200)),g.Redirects[d].call(n,n,e||{},t,C,l,_.promise?_:i)}),r()}var D="Velocity: First argument ("+d+") was not a property map, a known action, or a registered redirect. Aborting.";return _.promise?_.rejecter(new Error(D)):t.console&&console.log(D),r()}x="start"}var I={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},F=[];p.each(l,function(e,r){f.isNode(r)&&function(e,r){var o,s,a=p.extend({},g.defaults,m),c={};switch(w(e)===i&&g.init(e),parseFloat(a.delay)&&!1!==a.queue&&p.queue(e,a.queue,function(t,n){if(!0===n)return!0;g.velocityQueueEntryFlag=!0;var i=g.State.delayedElements.count++;g.State.delayedElements[i]=e;var r,o=(r=i,function(){g.State.delayedElements[r]=!1,t()});w(e).delayBegin=(new Date).getTime(),w(e).delay=parseFloat(a.delay),w(e).delayTimer={setTimeout:setTimeout(t,parseFloat(a.delay)),next:o}}),a.duration.toString().toLowerCase()){case"fast":a.duration=200;break;case"normal":a.duration=h;break;case"slow":a.duration=600;break;default:a.duration=parseFloat(a.duration)||1}function b(s){var h,b;if(a.begin&&0===N)try{a.begin.call(l,l)}catch(e){setTimeout(function(){throw e},1)}if("scroll"===x){var v,k,S,A=/^x$/i.test(a.axis)?"Left":"Top",M=parseFloat(a.offset)||0;a.container?f.isWrapped(a.container)||f.isNode(a.container)?(a.container=a.container[0]||a.container,S=(v=a.container["scroll"+A])+p(e).position()[A.toLowerCase()]+M):a.container=null:(v=g.State.scrollAnchor[g.State["scrollProperty"+A]],k=g.State.scrollAnchor[g.State["scrollProperty"+("Left"===A?"Top":"Left")]],S=p(e).offset()[A.toLowerCase()]+M),c={scroll:{rootPropertyValue:!1,startValue:v,currentValue:v,endValue:S,unitType:"",easing:a.easing,scrollData:{container:a.container,direction:A,alternateValue:k}},element:e},g.debug&&console.log("tweensContainer (scroll): ",c.scroll,e)}else if("reverse"===x){if(!(h=w(e)))return;if(!h.tweensContainer)return void p.dequeue(e,a.queue);for(var R in"none"===h.opts.display&&(h.opts.display="auto"),"hidden"===h.opts.visibility&&(h.opts.visibility="visible"),h.opts.loop=!1,h.opts.begin=null,h.opts.complete=null,m.easing||delete a.easing,m.duration||delete a.duration,a=p.extend({},h.opts,a),b=p.extend(!0,{},h?h.tweensContainer:null))if(b.hasOwnProperty(R)&&"element"!==R){var O=b[R].startValue;b[R].startValue=b[R].currentValue=b[R].endValue,b[R].endValue=O,f.isEmptyObject(m)||(b[R].easing=a.easing),g.debug&&console.log("reverse tweensContainer ("+R+"): "+JSON.stringify(b[R]),e)}c=b}else if("start"===x){(h=w(e))&&h.tweensContainer&&!0===h.isAnimating&&(b=h.tweensContainer);var L=function(t,n){var i,o,s;return f.isFunction(t)&&(t=t.call(e,r,C)),f.isArray(t)?(i=t[0],!f.isArray(t[1])&&/^[\d-]/.test(t[1])||f.isFunction(t[1])||y.RegEx.isHex.test(t[1])?s=t[1]:f.isString(t[1])&&!y.RegEx.isHex.test(t[1])&&g.Easings[t[1]]||f.isArray(t[1])?(o=n?t[1]:E(t[1],a.duration),s=t[2]):s=t[1]||t[2]):i=t,n||(o=o||a.easing),f.isFunction(i)&&(i=i.call(e,r,C)),f.isFunction(s)&&(s=s.call(e,r,C)),[i||0,o,s]},P=function(r,s){var l,u=y.Hooks.getRoot(r),d=!1,m=s[0],v=s[1],_=s[2];if(h&&h.isSVG||"tween"===u||!1!==y.Names.prefixCheck(u)[1]||y.Normalizations.registered[u]!==i){(a.display!==i&&null!==a.display&&"none"!==a.display||a.visibility!==i&&"hidden"!==a.visibility)&&/opacity|filter/.test(r)&&!_&&0!==m&&(_=0),a._cacheValues&&b&&b[r]?(_===i&&(_=b[r].endValue+b[r].unitType),d=h.rootPropertyValueCache[u]):y.Hooks.registered[r]?_===i?(d=y.getPropertyValue(e,u),_=y.getPropertyValue(e,r,d)):d=y.Hooks.templates[u][1]:_===i&&(_=y.getPropertyValue(e,r));var x,w,k,S=!1,C=function(e,t){var n,i;return i=(t||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(e){return n=e,""}),n||(n=y.Values.getUnitType(e)),[i,n]};if(_!==m&&f.isString(_)&&f.isString(m)){l="";var E=0,T=0,A=[],N=[],M=0,R=0,O=0;for(_=y.Hooks.fixColors(_),m=y.Hooks.fixColors(m);E<_.length&&T<m.length;){var L=_[E],P=m[T];if(/[\d\.-]/.test(L)&&/[\d\.-]/.test(P)){for(var D=L,F=P,$=".",j=".";++E<_.length;){if((L=_[E])===$)$="..";else if(!/\d/.test(L))break;D+=L}for(;++T<m.length;){if((P=m[T])===j)j="..";else if(!/\d/.test(P))break;F+=P}var B=y.Hooks.getUnit(_,E),z=y.Hooks.getUnit(m,T);if(E+=B.length,T+=z.length,B===z)D===F?l+=D+B:(l+="{"+A.length+(R?"!":"")+"}"+B,A.push(parseFloat(D)),N.push(parseFloat(F)));else{var q=parseFloat(D),H=parseFloat(F);l+=(M<5?"calc":"")+"("+(q?"{"+A.length+(R?"!":"")+"}":"0")+B+" + "+(H?"{"+(A.length+(q?1:0))+(R?"!":"")+"}":"0")+z+")",q&&(A.push(q),N.push(0)),H&&(A.push(0),N.push(H))}}else{if(L!==P){M=0;break}l+=L,E++,T++,0===M&&"c"===L||1===M&&"a"===L||2===M&&"l"===L||3===M&&"c"===L||M>=4&&"("===L?M++:(M&&M<5||M>=4&&")"===L&&--M<5)&&(M=0),0===R&&"r"===L||1===R&&"g"===L||2===R&&"b"===L||3===R&&"a"===L||R>=3&&"("===L?(3===R&&"a"===L&&(O=1),R++):O&&","===L?++O>3&&(R=O=0):(O&&R<(O?5:4)||R>=(O?4:3)&&")"===L&&--R<(O?5:4))&&(R=O=0)}}E===_.length&&T===m.length||(g.debug&&console.error('Trying to pattern match mis-matched strings ["'+m+'", "'+_+'"]'),l=i),l&&(A.length?(g.debug&&console.log('Pattern found "'+l+'" -> ',A,N,"["+_+","+m+"]"),_=A,m=N,w=k=""):l=i)}if(l||(_=(x=C(r,_))[0],k=x[1],m=(x=C(r,m))[0].replace(/^([+-\/*])=/,function(e,t){return S=t,""}),w=x[1],_=parseFloat(_)||0,m=parseFloat(m)||0,"%"===w&&(/^(fontSize|lineHeight)$/.test(r)?(m/=100,w="em"):/^scale/.test(r)?(m/=100,w=""):/(Red|Green|Blue)$/i.test(r)&&(m=m/100*255,w=""))),/[\/*]/.test(S))w=k;else if(k!==w&&0!==_)if(0===m)w=k;else{o=o||function(){var i={myParent:e.parentNode||n.body,position:y.getPropertyValue(e,"position"),fontSize:y.getPropertyValue(e,"fontSize")},r=i.position===I.lastPosition&&i.myParent===I.lastParent,o=i.fontSize===I.lastFontSize;I.lastParent=i.myParent,I.lastPosition=i.position,I.lastFontSize=i.fontSize;var s={};if(o&&r)s.emToPx=I.lastEmToPx,s.percentToPxWidth=I.lastPercentToPxWidth,s.percentToPxHeight=I.lastPercentToPxHeight;else{var a=h&&h.isSVG?n.createElementNS("http://www.w3.org/2000/svg","rect"):n.createElement("div");g.init(a),i.myParent.appendChild(a),p.each(["overflow","overflowX","overflowY"],function(e,t){g.CSS.setPropertyValue(a,t,"hidden")}),g.CSS.setPropertyValue(a,"position",i.position),g.CSS.setPropertyValue(a,"fontSize",i.fontSize),g.CSS.setPropertyValue(a,"boxSizing","content-box"),p.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(e,t){g.CSS.setPropertyValue(a,t,"100%")}),g.CSS.setPropertyValue(a,"paddingLeft","100em"),s.percentToPxWidth=I.lastPercentToPxWidth=(parseFloat(y.getPropertyValue(a,"width",null,!0))||1)/100,s.percentToPxHeight=I.lastPercentToPxHeight=(parseFloat(y.getPropertyValue(a,"height",null,!0))||1)/100,s.emToPx=I.lastEmToPx=(parseFloat(y.getPropertyValue(a,"paddingLeft"))||1)/100,i.myParent.removeChild(a)}return null===I.remToPx&&(I.remToPx=parseFloat(y.getPropertyValue(n.body,"fontSize"))||16),null===I.vwToPx&&(I.vwToPx=parseFloat(t.innerWidth)/100,I.vhToPx=parseFloat(t.innerHeight)/100),s.remToPx=I.remToPx,s.vwToPx=I.vwToPx,s.vhToPx=I.vhToPx,g.debug>=1&&console.log("Unit ratios: "+JSON.stringify(s),e),s}();var U=/margin|padding|left|right|width|text|word|letter/i.test(r)||/X$/.test(r)||"x"===r?"x":"y";switch(k){case"%":_*="x"===U?o.percentToPxWidth:o.percentToPxHeight;break;case"px":break;default:_*=o[k+"ToPx"]}switch(w){case"%":_*=1/("x"===U?o.percentToPxWidth:o.percentToPxHeight);break;case"px":break;default:_*=1/o[w+"ToPx"]}}switch(S){case"+":m=_+m;break;case"-":m=_-m;break;case"*":m*=_;break;case"/":m=_/m}c[r]={rootPropertyValue:d,startValue:_,currentValue:_,endValue:m,unitType:w,easing:v},l&&(c[r].pattern=l),g.debug&&console.log("tweensContainer ("+r+"): "+JSON.stringify(c[r]),e)}else g.debug&&console.log("Skipping ["+u+"] due to a lack of browser support.")};for(var D in d)if(d.hasOwnProperty(D)){var $=y.Names.camelCase(D),j=L(d[D]);if(u(y.Lists.colors,$)){var B=j[0],z=j[1],q=j[2];if(y.RegEx.isHex.test(B)){for(var H=["Red","Green","Blue"],U=y.Values.hexToRgb(B),W=q?y.Values.hexToRgb(q):i,V=0;V<H.length;V++){var G=[U[V]];z&&G.push(z),W!==i&&G.push(W[V]),P($+H[V],G)}continue}}P($,j)}c.element=e}c.element&&(y.Values.addClass(e,"velocity-animating"),F.push(c),(h=w(e))&&(""===a.queue&&(h.tweensContainer=c,h.opts=a),h.isAnimating=!0),N===C-1?(g.State.calls.push([F,l,a,null,_.resolver,null,0]),!1===g.State.isTicking&&(g.State.isTicking=!0,T())):N++)}if(!1!==g.mock&&(!0===g.mock?a.duration=a.delay=1:(a.duration*=parseFloat(g.mock)||1,a.delay*=parseFloat(g.mock)||1)),a.easing=E(a.easing,a.duration),a.begin&&!f.isFunction(a.begin)&&(a.begin=null),a.progress&&!f.isFunction(a.progress)&&(a.progress=null),a.complete&&!f.isFunction(a.complete)&&(a.complete=null),a.display!==i&&null!==a.display&&(a.display=a.display.toString().toLowerCase(),"auto"===a.display&&(a.display=g.CSS.Values.getDisplayType(e))),a.visibility!==i&&null!==a.visibility&&(a.visibility=a.visibility.toString().toLowerCase()),a.mobileHA=a.mobileHA&&g.State.isMobile&&!g.State.isGingerbread,!1===a.queue)if(a.delay){var v=g.State.delayedElements.count++;g.State.delayedElements[v]=e;var k=(s=v,function(){g.State.delayedElements[s]=!1,b()});w(e).delayBegin=(new Date).getTime(),w(e).delay=parseFloat(a.delay),w(e).delayTimer={setTimeout:setTimeout(b,parseFloat(a.delay)),next:k}}else b();else p.queue(e,a.queue,function(e,t){if(!0===t)return _.promise&&_.resolver(l),!0;g.velocityQueueEntryFlag=!0,b()});""!==a.queue&&"fx"!==a.queue||"inprogress"===p.queue(e)[0]||p.dequeue(e)}(r,e)}),(e=p.extend({},g.defaults,m)).loop=parseInt(e.loop,10);var $=2*e.loop-1;if(e.loop)for(var j=0;j<$;j++){var B={delay:e.delay,progress:e.progress};j===$-1&&(B.display=e.display,B.visibility=e.visibility,B.complete=e.complete),v(l,"reverse",B)}return r()}_.promise&&(d&&m&&!1===m.promiseRejectEmpty?_.resolver():_.rejecter())};(g=p.extend(v,g)).animate=v;var _=t.requestAnimationFrame||s;if(!g.State.isMobile&&n.hidden!==i){var x=function(){n.hidden?(_=function(e){return setTimeout(function(){e(!0)},16)},T()):_=t.requestAnimationFrame||s};x(),n.addEventListener("visibilitychange",x)}return e.Velocity=g,e!==t&&(e.fn.velocity=v,e.fn.velocity.defaults=g.defaults),p.each(["Down","Up"],function(e,t){g.Redirects["slide"+t]=function(e,n,r,o,s,a){var l=p.extend({},n),u=l.begin,c=l.complete,f={},d={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""};l.display===i&&(l.display="Down"===t?"inline"===g.CSS.Values.getDisplayType(e)?"inline-block":"block":"none"),l.begin=function(){for(var n in 0===r&&u&&u.call(s,s),d)if(d.hasOwnProperty(n)){f[n]=e.style[n];var i=y.getPropertyValue(e,n);d[n]="Down"===t?[i,0]:[0,i]}f.overflow=e.style.overflow,e.style.overflow="hidden"},l.complete=function(){for(var t in f)f.hasOwnProperty(t)&&(e.style[t]=f[t]);r===o-1&&(c&&c.call(s,s),a&&a.resolver(s))},g(e,d,l)}}),p.each(["In","Out"],function(e,t){g.Redirects["fade"+t]=function(e,n,r,o,s,a){var l=p.extend({},n),u=l.complete,c={opacity:"In"===t?1:0};0!==r&&(l.begin=null),l.complete=r!==o-1?null:function(){u&&u.call(s,s),a&&a.resolver(s)},l.display===i&&(l.display="In"===t?"auto":"none"),g(this,c,l)}}),g}function w(e){var t=p.data(e,"velocity");return null===t?i:t}function k(e,t){var n=w(e);n&&n.delayTimer&&!n.delayPaused&&(n.delayRemaining=n.delay-t+n.delayBegin,n.delayPaused=!0,clearTimeout(n.delayTimer.setTimeout))}function S(e,t){var n=w(e);n&&n.delayTimer&&n.delayPaused&&(n.delayPaused=!1,n.delayTimer.setTimeout=setTimeout(n.delayTimer.next,n.delayRemaining))}function C(e,n,i,r){var o=4,s=.001,a=1e-7,l=10,u=11,c=1/(u-1),p="Float32Array"in t;if(4!==arguments.length)return!1;for(var f=0;f<4;++f)if("number"!=typeof arguments[f]||isNaN(arguments[f])||!isFinite(arguments[f]))return!1;e=Math.min(e,1),i=Math.min(i,1),e=Math.max(e,0),i=Math.max(i,0);var d=p?new Float32Array(u):new Array(u);function h(e,t){return 1-3*t+3*e}function m(e,t){return 3*t-6*e}function g(e){return 3*e}function b(e,t,n){return((h(t,n)*e+m(t,n))*e+g(t))*e}function y(e,t,n){return 3*h(t,n)*e*e+2*m(t,n)*e+g(t)}function v(t){for(var n=0,r=1,p=u-1;r!==p&&d[r]<=t;++r)n+=c;var f=n+(t-d[--r])/(d[r+1]-d[r])*c,h=y(f,e,i);return h>=s?function(t,n){for(var r=0;r<o;++r){var s=y(n,e,i);if(0===s)return n;n-=(b(n,e,i)-t)/s}return n}(t,f):0===h?f:function(t,n,r){var o,s,u=0;do{(o=b(s=n+(r-n)/2,e,i)-t)>0?r=s:n=s}while(Math.abs(o)>a&&++u<l);return s}(t,n,n+c)}var _=!1;function x(){_=!0,e===n&&i===r||function(){for(var t=0;t<u;++t)d[t]=b(t*c,e,i)}()}var w=function(t){return _||x(),e===n&&i===r?t:0===t?0:1===t?1:b(v(t),n,r)};w.getControlPoints=function(){return[{x:e,y:n},{x:i,y:r}]};var k="generateBezier("+[e,n,i,r]+")";return w.toString=function(){return k},w}function E(e,t){var n=e;return f.isString(e)?g.Easings[e]||(n=!1):n=f.isArray(e)&&1===e.length?function(e){return function(t){return Math.round(t*e)*(1/e)}}.apply(null,e):f.isArray(e)&&2===e.length?b.apply(null,e.concat([t])):!(!f.isArray(e)||4!==e.length)&&C.apply(null,e),!1===n&&(n=g.Easings[g.defaults.easing]?g.defaults.easing:m),n}function T(e){if(e){var t=g.timestamp&&!0!==e?e:a.now(),n=g.State.calls.length;n>1e4&&(g.State.calls=function(e){for(var t=-1,n=e?e.length:0,i=[];++t<n;){var r=e[t];r&&i.push(r)}return i}(g.State.calls),n=g.State.calls.length);for(var r=0;r<n;r++)if(g.State.calls[r]){var s=g.State.calls[r],l=s[0],u=s[2],c=s[3],d=!c,h=null,m=s[5],b=s[6];if(c||(c=g.State.calls[r][3]=t-16),m){if(!0!==m.resume)continue;c=s[3]=Math.round(t-b-16),s[5]=null}b=s[6]=t-c;for(var v=Math.min(b/u.duration,1),x=0,k=l.length;x<k;x++){var S=l[x],C=S.element;if(w(C)){var E=!1;if(u.display!==i&&null!==u.display&&"none"!==u.display){if("flex"===u.display){p.each(["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"],function(e,t){y.setPropertyValue(C,"display",t)})}y.setPropertyValue(C,"display",u.display)}for(var N in u.visibility!==i&&"hidden"!==u.visibility&&y.setPropertyValue(C,"visibility",u.visibility),S)if(S.hasOwnProperty(N)&&"element"!==N){var M,R=S[N],O=f.isString(R.easing)?g.Easings[R.easing]:R.easing;if(f.isString(R.pattern)){var L=1===v?function(e,t,n){var i=R.endValue[t];return n?Math.round(i):i}:function(e,t,n){var i=R.startValue[t],r=R.endValue[t]-i,o=i+r*O(v,u,r);return n?Math.round(o):o};M=R.pattern.replace(/{(\d+)(!)?}/g,L)}else if(1===v)M=R.endValue;else{var P=R.endValue-R.startValue;M=R.startValue+P*O(v,u,P)}if(!d&&M===R.currentValue)continue;if(R.currentValue=M,"tween"===N)h=M;else{var D;if(y.Hooks.registered[N]){D=y.Hooks.getRoot(N);var I=w(C).rootPropertyValueCache[D];I&&(R.rootPropertyValue=I)}var F=y.setPropertyValue(C,N,R.currentValue+(o<9&&0===parseFloat(M)?"":R.unitType),R.rootPropertyValue,R.scrollData);y.Hooks.registered[N]&&(y.Normalizations.registered[D]?w(C).rootPropertyValueCache[D]=y.Normalizations.registered[D]("extract",null,F[1]):w(C).rootPropertyValueCache[D]=F[1]),"transform"===F[0]&&(E=!0)}}u.mobileHA&&w(C).transformCache.translate3d===i&&(w(C).transformCache.translate3d="(0px, 0px, 0px)",E=!0),E&&y.flushTransformCache(C)}}u.display!==i&&"none"!==u.display&&(g.State.calls[r][2].display=!1),u.visibility!==i&&"hidden"!==u.visibility&&(g.State.calls[r][2].visibility=!1),u.progress&&u.progress.call(s[1],s[1],v,Math.max(0,c+u.duration-t),c,h),1===v&&A(r)}}g.State.isTicking&&_(T)}function A(e,t){if(!g.State.calls[e])return!1;for(var n=g.State.calls[e][0],r=g.State.calls[e][1],o=g.State.calls[e][2],s=g.State.calls[e][4],a=!1,l=0,u=n.length;l<u;l++){var c=n[l].element;t||o.loop||("none"===o.display&&y.setPropertyValue(c,"display",o.display),"hidden"===o.visibility&&y.setPropertyValue(c,"visibility",o.visibility));var f=w(c);if(!0!==o.loop&&(p.queue(c)[1]===i||!/\.velocityQueueEntryFlag/i.test(p.queue(c)[1]))&&f){f.isAnimating=!1,f.rootPropertyValueCache={};var d=!1;p.each(y.Lists.transforms3D,function(e,t){var n=/^scale/.test(t)?1:0,r=f.transformCache[t];f.transformCache[t]!==i&&new RegExp("^\\("+n+"[^.]").test(r)&&(d=!0,delete f.transformCache[t])}),o.mobileHA&&(d=!0,delete f.transformCache.translate3d),d&&y.flushTransformCache(c),y.Values.removeClass(c,"velocity-animating")}if(!t&&o.complete&&!o.loop&&l===u-1)try{o.complete.call(r,r)}catch(e){setTimeout(function(){throw e},1)}s&&!0!==o.loop&&s(r),f&&!0===o.loop&&!t&&(p.each(f.tweensContainer,function(e,t){if(/^rotate/.test(e)&&(parseFloat(t.startValue)-parseFloat(t.endValue))%360==0){var n=t.startValue;t.startValue=t.endValue,t.endValue=n}/^backgroundPosition/.test(e)&&100===parseFloat(t.endValue)&&"%"===t.unitType&&(t.endValue=0,t.startValue=100)}),g(c,"reverse",{loop:!0,delay:o.delay})),!1!==o.queue&&p.dequeue(c,o.queue)}g.State.calls[e]=!1;for(var h=0,m=g.State.calls.length;h<m;h++)if(!1!==g.State.calls[h]){a=!0;break}!1===a&&(g.State.isTicking=!1,delete g.State.calls,g.State.calls=[])}jQuery.fn.velocity=jQuery.fn.animate}(window.jQuery||window.Zepto||window,window,window?window.document:void 0)})},function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a={each:n(648),extend:n(649),forEach:n(346),isEqual:n(513),keys:n(309),omit:n(514),pluck:n(656)},l=n(1),u=n(10),c=n(0),p=n(669),f=n(351),d="undefined"!=typeof window&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,0)});d="undefined"!=typeof window&&d.bind(window);var h="undefined"!=typeof window&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(e){window.clearTimeout(e)});h="undefined"!=typeof window&&h.bind(window);var m=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,l.Component),i(t,[{key:"componentWillAppear",value:function(e){this.props.willAppearFunc(u.findDOMNode(this),e)}},{key:"componentWillEnter",value:function(e){this.props.willEnterFunc(u.findDOMNode(this),e)}},{key:"componentWillLeave",value:function(e){this.props.willLeaveFunc(u.findDOMNode(this),e)}},{key:"componentWillUnmount",value:function(){f.Utilities.removeData(u.findDOMNode(this),["velocity","fxqueue"])}},{key:"render",value:function(){return l.Children.only(this.props.children)}}]),t}();m.propTypes={children:c.element.isRequired,willAppearFunc:c.func.isRequired,willEnterFunc:c.func.isRequired,willLeaveFunc:c.func.isRequired};var g=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._scheduledAnimationFrame=null,n._scheduledAnimationRunFrames=[],n._entering=[],n._leaving=[],n._timers=[],n._unmounted=!1,n.childWillAppear=n.childWillAppear.bind(n),n.childWillEnter=n.childWillEnter.bind(n),n.childWillLeave=n.childWillLeave.bind(n),n._runAnimations=n._runAnimations.bind(n),n._wrapChild=n._wrapChild.bind(n),n}return s(t,l.Component),i(t,[{key:"componentWillUnmount",value:function(){this._scheduledAnimationFrame&&h(this._scheduledAnimationFrame),a.forEach(this._timers,function(e){clearTimeout(e)}),a.forEach(this._scheduledAnimationRunFrames,function(e){h(e)}),this._unmounted=!0}},{key:"render",value:function(){var e=a.omit(this.props,a.keys(t.propTypes));return this.constructor.disabledForTest||f.velocityReactServerShim||(e.childFactory=this._wrapChild),l.createElement(p,e,this.props.children)}},{key:"childWillAppear",value:function(e,t){var n=this;if(this.props.runOnMount)this.childWillEnter(e,t);else{this._finishAnimation(e,this.props.enter);var i=setTimeout(function(){var e=n._timers.indexOf(i);e>=0&&n._timers.splice(e,1),t()},0);this._timers.push(i)}}},{key:"childWillEnter",value:function(e,t){this._shortCircuitAnimation(this.props.enter,t)||(this._finishAnimation(e,this.props.leave,{begin:void 0,complete:void 0}),a.forEach(this.props.enterHideStyle,function(t,n){f.CSS.setPropertyValue(e,n,t)}),this._entering.push({node:e,doneFn:t}),this._schedule())}},{key:"childWillLeave",value:function(e,t){this._shortCircuitAnimation(this.props.leave,t)||(this._leaving.push({node:e,doneFn:t}),this._schedule())}},{key:"_shortCircuitAnimation",value:function(e,t){return!(!document.hidden&&null!=this._parseAnimationProp(e).animation)&&(t(),!0)}},{key:"_schedule",value:function(){this._scheduledAnimationFrame||(this._scheduledAnimationFrame=d(this._runAnimations))}},{key:"_runAnimations",value:function(){this._scheduledAnimationFrame=null,this._runAnimation(!0,this._entering,this.props.enter),this._runAnimation(!1,this._leaving,this.props.leave),this._entering=[],this._leaving=[]}},{key:"_parseAnimationProp",value:function(e){var t,n,i;return"string"==typeof e?(t=e,i=null,n={}):(t=null!=e?e.animation:null,i=null!=e?e.style:null,n=a.omit(e,"animation","style")),{animation:t,style:i,opts:n}}},{key:"_runAnimation",value:function(e,t,n){var i=this;if(0!==t.length){var r=a.pluck(t,"node"),o=a.pluck(t,"doneFn"),s=this._parseAnimationProp(n),l=s.animation,u=s.style,c=s.opts;e&&(a.isEqual(this.props.enterShowStyle,{display:""})&&(/^(fade|slide)/.test(l)||/In$/.test(l))||(u=a.extend({},this.props.enterShowStyle,u))),null!=u&&a.each(u,function(e,t){f.hook(r,t,e)});var p,h=function(){i._unmounted||o.map(function(e){e()})};if(e?(h(),h=null):f(r,"stop"),h&&c.complete){var m=c.complete;p=function(){h(),m.apply(this,arguments)}}else p=h||c.complete;var g=d(function(){var e=i._scheduledAnimationRunFrames.indexOf(g);e>=0&&i._scheduledAnimationRunFrames.splice(e,1),f(r,l,a.extend({},c,{complete:p}))});this._scheduledAnimationRunFrames.push(g)}}},{key:"_finishAnimation",value:function(e,t,n){var i=this._parseAnimationProp(t),r=i.animation,o=i.style,s=a.extend({},i.opts,n);null!=o&&a.each(o,function(t,n){f.hook(e,n,t)}),null!=r&&(f(e,r,s),f(e,"finishAll",!0))}},{key:"_wrapChild",value:function(e){return l.createElement(m,{willAppearFunc:this.childWillAppear,willEnterFunc:this.childWillEnter,willLeaveFunc:this.childWillLeave},e)}}]),t}();g.disabledForTest=!1,g.propTypes={runOnMount:c.bool,enter:c.any,leave:c.any,children:c.any,enterHideStyle:c.object,enterShowStyle:c.object},g.defaultProps={runOnMount:!1,enter:null,leave:null,enterHideStyle:{display:"none"},enterShowStyle:{display:""}},e.exports=g},function(e,t,n){e.exports=n(346)},function(e,t,n){e.exports=n(650)},function(e,t,n){var i=n(651),r=n(652),o=n(654)(function(e,t,n){return n?i(e,t,n):r(e,t)});e.exports=o},function(e,t,n){var i=n(309);e.exports=function(e,t,n){for(var r=-1,o=i(t),s=o.length;++r<s;){var a=o[r],l=e[a],u=n(l,t[a],a,e,t);(u==u?u===l:l!=l)&&(void 0!==l||a in e)||(e[a]=u)}return e}},function(e,t,n){var i=n(653),r=n(309);e.exports=function(e,t){return null==t?e:i(t,r(t),e)}},function(e,t){e.exports=function(e,t,n){n||(n={});for(var i=-1,r=t.length;++i<r;){var o=t[i];n[o]=e[o]}return n}},function(e,t,n){var i=n(319),r=n(655),o=n(516);e.exports=function(e){return o(function(t,n){var o=-1,s=null==t?0:n.length,a=s>2?n[s-2]:void 0,l=s>2?n[2]:void 0,u=s>1?n[s-1]:void 0;for("function"==typeof a?(a=i(a,u,5),s-=2):s-=(a="function"==typeof u?u:void 0)?1:0,l&&r(n[0],n[1],l)&&(a=s<3?void 0:a,s=1);++o<s;){var c=n[o];c&&e(t,c,a)}return t})}},function(e,t,n){var i=n(318),r=n(348),o=n(174);e.exports=function(e,t,n){if(!o(n))return!1;var s=typeof t;if("number"==s?i(n)&&r(t,n.length):"string"==s&&t in n){var a=n[t];return e==e?e===a:a!=a}return!1}},function(e,t,n){var i=n(657),r=n(521);e.exports=function(e,t){return i(e,r(t))}},function(e,t,n){var i=n(515),r=n(658),o=n(668),s=n(207);e.exports=function(e,t,n){return(s(e)?i:o)(e,t=r(t,n,3))}},function(e,t,n){var i=n(659),r=n(663),o=n(319),s=n(512),a=n(521);e.exports=function(e,t,n){var l=typeof e;return"function"==l?void 0===t?e:o(e,t,n):null==e?s:"object"==l?i(e):void 0===t?a(e):r(e,t)}},function(e,t,n){var i=n(660),r=n(661),o=n(206);e.exports=function(e){var t=r(e);if(1==t.length&&t[0][2]){var n=t[0][0],s=t[0][1];return function(e){return null!=e&&e[n]===s&&(void 0!==s||n in o(e))}}return function(e){return i(e,t)}}},function(e,t,n){var i=n(350),r=n(206);e.exports=function(e,t,n){var o=t.length,s=o,a=!n;if(null==e)return!s;for(e=r(e);o--;){var l=t[o];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<s;){var u=(l=t[o])[0],c=e[u],p=l[1];if(a&&l[2]){if(void 0===c&&!(u in e))return!1}else{var f=n?n(c,p,u):void 0;if(!(void 0===f?i(p,c,n,!0):f))return!1}}return!0}},function(e,t,n){var i=n(517),r=n(662);e.exports=function(e){for(var t=r(e),n=t.length;n--;)t[n][2]=i(t[n][1]);return t}},function(e,t,n){var i=n(309),r=n(206);e.exports=function(e){e=r(e);for(var t=-1,n=i(e),o=n.length,s=Array(o);++t<o;){var a=n[t];s[t]=[a,e[a]]}return s}},function(e,t,n){var i=n(518),r=n(350),o=n(664),s=n(207),a=n(519),l=n(517),u=n(665),c=n(206),p=n(520);e.exports=function(e,t){var n=s(e),f=a(e)&&l(t),d=e+"";return e=p(e),function(s){if(null==s)return!1;var a=d;if(s=c(s),(n||!f)&&!(a in s)){if(null==(s=1==e.length?s:i(s,o(e,0,-1))))return!1;a=u(e),s=c(s)}return s[a]===t?void 0!==t||a in s:r(t,s[a],void 0,!0)}}},function(e,t){e.exports=function(e,t,n){var i=-1,r=e.length;(t=null==t?0:+t||0)<0&&(t=-t>r?0:r+t),(n=void 0===n||n>r?r:+n||0)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(r);++i<r;)o[i]=e[i+t];return o}},function(e,t){e.exports=function(e){var t=e?e.length:0;return t?e[t-1]:void 0}},function(e,t){e.exports=function(e){return null==e?"":e+""}},function(e,t,n){var i=n(518),r=n(520);e.exports=function(e){var t=e+"";return e=r(e),function(n){return i(n,e,t)}}},function(e,t,n){var i=n(508),r=n(318);e.exports=function(e,t){var n=-1,o=r(e)?Array(e.length):[];return i(e,function(e,i,r){o[++n]=t(e,i,r)}),o}},function(e,t,n){"use strict";t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=l(n(670)),o=l(n(1)),s=l(n(0)),a=(l(n(17)),n(671));function l(e){return e&&e.__esModule?e:{default:e}}s.default.any,s.default.func,s.default.node;var u=function(e){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r));return o.performAppear=function(e,t){o.currentlyTransitioningKeys[e]=!0,t.componentWillAppear?t.componentWillAppear(o._handleDoneAppearing.bind(o,e,t)):o._handleDoneAppearing(e,t)},o._handleDoneAppearing=function(e,t){t.componentDidAppear&&t.componentDidAppear(),delete o.currentlyTransitioningKeys[e];var n=(0,a.getChildMapping)(o.props.children);n&&n.hasOwnProperty(e)||o.performLeave(e,t)},o.performEnter=function(e,t){o.currentlyTransitioningKeys[e]=!0,t.componentWillEnter?t.componentWillEnter(o._handleDoneEntering.bind(o,e,t)):o._handleDoneEntering(e,t)},o._handleDoneEntering=function(e,t){t.componentDidEnter&&t.componentDidEnter(),delete o.currentlyTransitioningKeys[e];var n=(0,a.getChildMapping)(o.props.children);n&&n.hasOwnProperty(e)||o.performLeave(e,t)},o.performLeave=function(e,t){o.currentlyTransitioningKeys[e]=!0,t.componentWillLeave?t.componentWillLeave(o._handleDoneLeaving.bind(o,e,t)):o._handleDoneLeaving(e,t)},o._handleDoneLeaving=function(e,t){t.componentDidLeave&&t.componentDidLeave(),delete o.currentlyTransitioningKeys[e];var n=(0,a.getChildMapping)(o.props.children);n&&n.hasOwnProperty(e)?o.keysToEnter.push(e):o.setState(function(t){var n=i({},t.children);return delete n[e],{children:n}})},o.childRefs=Object.create(null),o.state={children:(0,a.getChildMapping)(n.children)},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},t.prototype.componentDidMount=function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t,this.childRefs[t])},t.prototype.componentWillReceiveProps=function(e){var t=(0,a.getChildMapping)(e.children),n=this.state.children;for(var i in this.setState({children:(0,a.mergeChildMappings)(n,t)}),t){var r=n&&n.hasOwnProperty(i);!t[i]||r||this.currentlyTransitioningKeys[i]||this.keysToEnter.push(i)}for(var o in n){var s=t&&t.hasOwnProperty(o);!n[o]||s||this.currentlyTransitioningKeys[o]||this.keysToLeave.push(o)}},t.prototype.componentDidUpdate=function(){var e=this,t=this.keysToEnter;this.keysToEnter=[],t.forEach(function(t){return e.performEnter(t,e.childRefs[t])});var n=this.keysToLeave;this.keysToLeave=[],n.forEach(function(t){return e.performLeave(t,e.childRefs[t])})},t.prototype.render=function(){var e=this,t=[],n=function(n){var i=e.state.children[n];if(i){var s="string"!=typeof i.ref,a=e.props.childFactory(i),l=function(t){e.childRefs[n]=t};a===i&&s&&(l=(0,r.default)(i.ref,l)),t.push(o.default.cloneElement(a,{key:n,ref:l}))}};for(var s in this.state.children)n(s);var a=i({},this.props);return delete a.transitionLeave,delete a.transitionName,delete a.transitionAppear,delete a.transitionEnter,delete a.childFactory,delete a.transitionLeaveTimeout,delete a.transitionEnterTimeout,delete a.transitionAppearTimeout,delete a.component,o.default.createElement(this.props.component,a,t)},t}(o.default.Component);u.displayName="TransitionGroup",u.propTypes={},u.defaultProps={component:"span",childFactory:function(e){return e}},t.default=u,e.exports=t.default},function(e,t){e.exports=function(){for(var e=arguments.length,t=[],n=0;n<e;n++)t[n]=arguments[n];if(0!==(t=t.filter(function(e){return null!=e})).length)return 1===t.length?t[0]:t.reduce(function(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}})}},function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=function(e){if(!e)return e;var t={};return i.Children.map(e,function(e){return e}).forEach(function(e){t[e.key]=e}),t},t.mergeChildMappings=function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var i={},r=[];for(var o in e)t.hasOwnProperty(o)?r.length&&(i[o]=r,r=[]):r.push(o);var s=void 0,a={};for(var l in t){if(i.hasOwnProperty(l))for(s=0;s<i[l].length;s++){var u=i[l][s];a[i[l][s]]=n(u)}a[l]=n(l)}for(s=0;s<r.length;s++)a[r[s]]=n(r[s]);return a};var i=n(1)},function(e,t,n){"use strict";var i={isObject:n(174)},r=n(351),o=0;e.exports={registerEffect:function(e,t){i.isObject(e)&&(t=e,e="");var n="VelocityHelper.animation."+o+++e;if(r.velocityReactServerShim)return n;if(void 0===r.RegisterEffect)throw"Velocity.RegisterEffect not found. You need to require 'velocity-animate/velocity.ui' at a top level for UI Pack.";return r.RegisterEffect(n,t),n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=h(n(52)),r=h(n(674)),o=h(n(112)),s=h(n(3)),a=h(n(72)),l=h(n(4)),u=h(n(5)),c=h(n(1)),p=h(n(0)),f=h(n(677)),d=h(n(682));function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return(0,s.default)(this,t),(0,l.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,a.default)(t,[{key:"shouldComponentUpdate",value:function(e){for(var t=this.props,n=(0,r.default)(e),i=0;i<n.length;i++){var o=n[i];if("animations"!==o)if(!(0,f.default)(t[o],e[o]))return!0}return!(0,d.default)(t.animations,e.animations,{strict:!0})}},{key:"render",value:function(){var e=this.props,t=e.animations,n=e.decorators,r=e.node,o=e.onClick,s=e.style,a=r.active,l=!r.children,u=[s.link,a?s.activeLink:null],p=(0,i.default)({container:u},s);return c.default.createElement(n.Container,{animations:t,decorators:n,node:r,onClick:o,style:p,terminal:l})}}]),t}(c.default.Component);m.propTypes={style:p.default.object.isRequired,decorators:p.default.object.isRequired,animations:p.default.oneOfType([p.default.object,p.default.bool]).isRequired,node:p.default.object.isRequired,onClick:p.default.func},t.default=m},function(e,t,n){e.exports={default:n(675),__esModule:!0}},function(e,t,n){n(676),e.exports=n(16).Object.keys},function(e,t,n){var i=n(68),r=n(47);n(506)("keys",function(){return function(e){return r(i(e))}})},function(e,t,n){"use strict";var i=n(678);e.exports=function(e,t,n,r){var o=n?n.call(r,e,t):void 0;if(void 0!==o)return!!o;if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var s=i(e),a=i(t),l=s.length;if(l!==a.length)return!1;r=r||null;for(var u=Object.prototype.hasOwnProperty.bind(t),c=0;c<l;c++){var p=s[c];if(!u(p))return!1;var f=e[p],d=t[p],h=n?n.call(r,f,d,p):void 0;if(!1===h||void 0===h&&f!==d)return!1}return!0}},function(e,t,n){var i=n(679),r=n(680),o=n(681),s=/^\d+$/,a=Object.prototype.hasOwnProperty,l=i(Object,"keys"),u=9007199254740991;var c,p=(c="length",function(e){return null==e?void 0:e[c]});function f(e,t){return e="number"==typeof e||s.test(e)?+e:-1,t=null==t?u:t,e>-1&&e%1==0&&e<t}function d(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=u}function h(e){for(var t=function(e){if(null==e)return[];m(e)||(e=Object(e));var t=e.length;t=t&&d(t)&&(o(e)||r(e))&&t||0;var n=e.constructor,i=-1,s="function"==typeof n&&n.prototype===e,l=Array(t),u=t>0;for(;++i<t;)l[i]=i+"";for(var c in e)u&&f(c,t)||"constructor"==c&&(s||!a.call(e,c))||l.push(c);return l}(e),n=t.length,i=n&&e.length,s=!!i&&d(i)&&(o(e)||r(e)),l=-1,u=[];++l<n;){var c=t[l];(s&&f(c,i)||a.call(e,c))&&u.push(c)}return u}function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var g=l?function(e){var t,n=null==e?void 0:e.constructor;return"function"==typeof n&&n.prototype===e||"function"!=typeof e&&(null!=(t=e)&&d(p(t)))?h(e):m(e)?l(e):[]}:h;e.exports=g},function(e,t){var n="[object Function]",i=/^\[object .+?Constructor\]$/;var r=Object.prototype,o=Function.prototype.toString,s=r.hasOwnProperty,a=r.toString,l=RegExp("^"+o.call(s).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e,t){var r=null==e?void 0:e[t];return function(e){return null!=e&&(function(e){return function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)&&a.call(e)==n}(e)?l.test(o.call(e)):function(e){return!!e&&"object"==typeof e}(e)&&i.test(e))}(r)?r:void 0}},function(e,t){var n=9007199254740991,i="[object Arguments]",r="[object Function]",o="[object GeneratorFunction]",s=Object.prototype,a=s.hasOwnProperty,l=s.toString,u=s.propertyIsEnumerable;e.exports=function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?l.call(e):"";return t==r||t==o}(e)}(e)}(e)&&a.call(e,"callee")&&(!u.call(e,"callee")||l.call(e)==i)}},function(e,t){var n="[object Function]",i=/^\[object .+?Constructor\]$/;function r(e){return!!e&&"object"==typeof e}var o,s,a,l=Object.prototype,u=Function.prototype.toString,c=l.hasOwnProperty,p=l.toString,f=RegExp("^"+u.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),d=(o=Array,s="isArray",function(e){return null!=e&&(function(e){return function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)&&p.call(e)==n}(e)?f.test(u.call(e)):r(e)&&i.test(e))}(a=null==o?void 0:o[s])?a:void 0),h=9007199254740991;var m=d||function(e){return r(e)&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=h}(e.length)&&"[object Array]"==p.call(e)};e.exports=m},function(e,t,n){var i=Array.prototype.slice,r=n(683),o=n(684),s=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?e===t:e==t:function(e,t,n){var u,c;if(a(e)||a(t))return!1;if(e.prototype!==t.prototype)return!1;if(o(e))return!!o(t)&&(e=i.call(e),t=i.call(t),s(e,t,n));if(l(e)){if(!l(t))return!1;if(e.length!==t.length)return!1;for(u=0;u<e.length;u++)if(e[u]!==t[u])return!1;return!0}try{var p=r(e),f=r(t)}catch(e){return!1}if(p.length!=f.length)return!1;for(p.sort(),f.sort(),u=p.length-1;u>=0;u--)if(p[u]!=f[u])return!1;for(u=p.length-1;u>=0;u--)if(c=p[u],!s(e[c],t[c],n))return!1;return typeof e==typeof t}(e,t,n))};function a(e){return null==e}function l(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}},function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}(e.exports="function"==typeof Object.keys?Object.keys:n).shim=n},function(e,t){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function i(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function r(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(t=e.exports=n?i:r).supported=i,t.unsupported=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=u(n(523)),r=u(n(533)),o=u(n(727)),s=u(n(728)),a=u(n(530)),l=u(n(730));n(524);function u(e){return e&&e.__esModule?e:{default:e}}function c(e){return(0,i.default)(e)}c.Plugins=r.default,c.Style=o.default,c.StyleRoot=s.default,c.getState=a.default,c.keyframes=l.default,t.default=c,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e,function(t,n){return(0,i.default)(n,e[n])+" !important"})};var i=o(n(525)),r=o(n(526));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=/([a-z])?([A-Z])/g,r=function(e,t,n){return(t||"")+"-"+n.toLowerCase()};t.default=function(e){return Object.keys(e).reduce(function(t,n){var o=n.replace(i,r);return/^ms-/.test(o)&&(o="-"+o),t[o]=e[n],t},{})},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=_(n(689)),o=_(n(700)),s=_(n(703)),a=_(n(355)),l=_(n(528)),u=_(n(704)),c=_(n(705)),p=_(n(706)),f=_(n(707)),d=_(n(708)),h=_(n(709)),m=_(n(710)),g=_(n(711)),b=_(n(712)),y=_(n(714)),v=_(n(715));function _(e){return e&&e.__esModule?e:{default:e}}var x=[c.default,p.default,f.default,d.default,m.default,g.default,b.default,y.default,v.default,h.default],w=function(){function e(){var t=this,n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i="undefined"!=typeof navigator?navigator.userAgent:void 0;if(this._userAgent=n.userAgent||i,this._keepUnprefixed=n.keepUnprefixed||!1,this._browserInfo=(0,o.default)(this._userAgent),!this._browserInfo||!this._browserInfo.prefix)return this._usePrefixAllFallback=!0,!1;this.cssPrefix=this._browserInfo.prefix.css,this.jsPrefix=this._browserInfo.prefix.inline,this.prefixedKeyframes=(0,s.default)(this._browserInfo);var r=this._browserInfo.browser&&u.default[this._browserInfo.browser];r?(this._requiresPrefix=Object.keys(r).filter(function(e){return r[e]>=t._browserInfo.version}).reduce(function(e,t){return e[t]=!0,e},{}),this._hasPropsRequiringPrefix=Object.keys(this._requiresPrefix).length>0):this._usePrefixAllFallback=!0}return i(e,[{key:"prefix",value:function(e){var t=this;return this._usePrefixAllFallback?(0,r.default)(e):this._hasPropsRequiringPrefix?(Object.keys(e).forEach(function(n){var i=e[n];i instanceof Object&&!Array.isArray(i)?e[n]=t.prefix(i):t._requiresPrefix[n]&&(e[t.jsPrefix+(0,a.default)(n)]=i,t._keepUnprefixed||delete e[n])}),Object.keys(e).forEach(function(n){[].concat(e[n]).forEach(function(i){x.forEach(function(r){!function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=arguments[2],i=arguments[3];Object.keys(t).forEach(function(r){var o=e[r];Array.isArray(o)?[].concat(t[r]).forEach(function(t){-1===e[r].indexOf(t)&&e[r].splice(o.indexOf(n),i?0:1,t)}):e[r]=t[r]})}(e,r({property:n,value:i,styles:e,browserInfo:t._browserInfo,prefix:{js:t.jsPrefix,css:t.cssPrefix,keyframes:t.prefixedKeyframes},keepUnprefixed:t._keepUnprefixed,requiresPrefix:t._requiresPrefix}),i,t._keepUnprefixed)})})}),(0,l.default)(e)):e}}],[{key:"prefixAll",value:function(e){return(0,r.default)(e)}}]),e}();t.default=w,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){Object.keys(t).forEach(function(n){var o=t[n];o instanceof Object&&!Array.isArray(o)?t[n]=e(o):Object.keys(i.default).forEach(function(e){var s=i.default[e];s[n]&&(t[e+(0,r.default)(n)]=o)})});Object.keys(t).forEach(function(e){[].concat(t[e]).forEach(function(n,i){g.forEach(function(i){return function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];Object.keys(t).forEach(function(n){var i=e[n];Array.isArray(i)?[].concat(t[n]).forEach(function(t){var r=i.indexOf(t);r>-1&&e[n].splice(r,1),e[n].push(t)}):e[n]=t[n]})}(t,i(e,n))})})});return(0,o.default)(t)};var i=m(n(527)),r=m(n(355)),o=m(n(528)),s=m(n(691)),a=m(n(692)),l=m(n(693)),u=m(n(694)),c=m(n(695)),p=m(n(696)),f=m(n(697)),d=m(n(698)),h=m(n(699));function m(e){return e&&e.__esModule?e:{default:e}}var g=[s.default,a.default,l.default,c.default,p.default,f.default,d.default,h.default,u.default];e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return null!==e.match(/^(Webkit|Moz|O|ms)/)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("position"===e&&"sticky"===t)return{position:["-webkit-sticky","sticky"]}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"==typeof t&&!(0,r.default)(t)&&t.indexOf("calc(")>-1)return(0,i.default)(e,t,function(e,t){return t.replace(/calc\(/g,e+"calc(")})};var i=o(n(328)),r=o(n(356));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("cursor"===e&&s[t])return(0,o.default)(e,t)};var i,r=n(328),o=(i=r)&&i.__esModule?i:{default:i};var s={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("display"===e&&i[t])return{display:["-webkit-box","-moz-box","-ms-"+t+"box","-webkit-"+t,t]}};var i={flex:!0,"inline-flex":!0};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(s[e]&&a[t])return(0,o.default)(e,t)};var i,r=n(328),o=(i=r)&&i.__esModule?i:{default:i};var s={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},a={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"==typeof t&&!(0,r.default)(t)&&null!==t.match(s))return(0,i.default)(e,t)};var i=o(n(328)),r=o(n(356));function o(e){return e&&e.__esModule?e:{default:e}}var s=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"==typeof t&&u[e]){var n,a=function(e){if((0,o.default)(e))return e;var t=e.split(/,(?![^()]*(?:\([^()]*\))?\))/g);return t.forEach(function(e,n){t[n]=Object.keys(s.default).reduce(function(t,n){var r="-"+n.toLowerCase()+"-";return Object.keys(s.default[n]).forEach(function(n){var o=(0,i.default)(n);e.indexOf(o)>-1&&"order"!==o&&(t=e.replace(o,r+o)+","+t)}),t},e)}),t.join(",")}(t),c=a.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(e){return null===e.match(/-moz-|-ms-/)}).join(",");return e.indexOf("Webkit")>-1?l({},e,c):(l(n={},"Webkit"+(0,r.default)(e),c),l(n,e,a),n)}};var i=a(n(529)),r=a(n(355)),o=a(n(356)),s=a(n(527));function a(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(r[e])return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},r[e],i[t]||t)};var i={"space-around":"distribute","space-between":"justify","flex-start":"start","flex-end":"end"},r={alignContent:"msFlexLinePack",alignSelf:"msFlexItemAlign",alignItems:"msFlexAlign",justifyContent:"msFlexPack",order:"msFlexOrder",flexGrow:"msFlexPositive",flexShrink:"msFlexNegative",flexBasis:"msPreferredSize"};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("flexDirection"===e&&"string"==typeof t)return{WebkitBoxOrient:t.indexOf("column")>-1?"vertical":"horizontal",WebkitBoxDirection:t.indexOf("reverse")>-1?"reverse":"normal"};if(r[e])return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},r[e],i[t]||t)};var i={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple"},r={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines"};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(701),o=(i=r)&&i.__esModule?i:{default:i};var s={Webkit:["chrome","safari","ios","android","phantom","opera","webos","blackberry","bada","tizen","chromium","vivaldi"],Moz:["firefox","seamonkey","sailfish"],ms:["msie","msedge"]},a={chrome:[["chrome"],["chromium"]],safari:[["safari"]],firefox:[["firefox"]],edge:[["msedge"]],opera:[["opera"],["vivaldi"]],ios_saf:[["ios","mobile"],["ios","tablet"]],ie:[["msie"]],op_mini:[["opera","mobile"],["opera","tablet"]],and_uc:[["android","mobile"],["android","tablet"]],android:[["android","mobile"],["android","tablet"]]};t.default=function(e){if(!e)return!1;var t=o.default._detect(e);return Object.keys(s).forEach(function(e){s[e].forEach(function(n){t[n]&&(t.prefix={inline:e,css:"-"+e.toLowerCase()+"-"})})}),t.browser=function(e){if(e.firefox)return"firefox";var t="";return Object.keys(a).forEach(function(n){a[n].forEach(function(i){var r=0;i.forEach(function(t){e[t]&&(r+=1)}),i.length===r&&(t=n)})}),t}(t),t.version=t.version?parseFloat(t.version):parseInt(parseFloat(t.osversion),10),t.osversion=parseFloat(t.osversion),"ios_saf"===t.browser&&t.version>t.osversion&&(t.version=t.osversion,t.safari=!0),"android"===t.browser&&t.chrome&&t.version>37&&(t.browser="and_chr"),"android"===t.browser&&t.osversion<5&&(t.version=t.osversion),t},e.exports=t.default},function(e,t,n){var i;i=function(){var e=!0;function t(t){function n(e){var n=t.match(e);return n&&n.length>1&&n[1]||""}function i(e){var n=t.match(e);return n&&n.length>1&&n[2]||""}var r,s=n(/(ipod|iphone|ipad)/i).toLowerCase(),a=!/like android/i.test(t)&&/android/i.test(t),l=/nexus\s*[0-6]\s*/i.test(t),u=!l&&/nexus\s*[0-9]+/i.test(t),c=/CrOS/.test(t),p=/silk/i.test(t),f=/sailfish/i.test(t),d=/tizen/i.test(t),h=/(web|hpw)(o|0)s/i.test(t),m=/windows phone/i.test(t),g=(/SamsungBrowser/i.test(t),!m&&/windows/i.test(t)),b=!s&&!p&&/macintosh/i.test(t),y=!a&&!f&&!d&&!h&&/linux/i.test(t),v=i(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),_=n(/version\/(\d+(\.\d+)?)/i),x=/tablet/i.test(t)&&!/tablet pc/i.test(t),w=!x&&/[^-]mobi/i.test(t),k=/xbox/i.test(t);/opera/i.test(t)?r={name:"Opera",opera:e,version:_||n(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(t)?r={name:"Opera",opera:e,version:n(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||_}:/SamsungBrowser/i.test(t)?r={name:"Samsung Internet for Android",samsungBrowser:e,version:_||n(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/Whale/i.test(t)?r={name:"NAVER Whale browser",whale:e,version:n(/(?:whale)[\s\/](\d+(?:\.\d+)+)/i)}:/MZBrowser/i.test(t)?r={name:"MZ Browser",mzbrowser:e,version:n(/(?:MZBrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/coast/i.test(t)?r={name:"Opera Coast",coast:e,version:_||n(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/focus/i.test(t)?r={name:"Focus",focus:e,version:n(/(?:focus)[\s\/](\d+(?:\.\d+)+)/i)}:/yabrowser/i.test(t)?r={name:"Yandex Browser",yandexbrowser:e,version:_||n(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(t)?r={name:"UC Browser",ucbrowser:e,version:n(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(t)?r={name:"Maxthon",maxthon:e,version:n(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(t)?r={name:"Epiphany",epiphany:e,version:n(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(t)?r={name:"Puffin",puffin:e,version:n(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(t)?r={name:"Sleipnir",sleipnir:e,version:n(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(t)?r={name:"K-Meleon",kMeleon:e,version:n(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:m?(r={name:"Windows Phone",osname:"Windows Phone",windowsphone:e},v?(r.msedge=e,r.version=v):(r.msie=e,r.version=n(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(t)?r={name:"Internet Explorer",msie:e,version:n(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:c?r={name:"Chrome",osname:"Chrome OS",chromeos:e,chromeBook:e,chrome:e,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(t)?r={name:"Microsoft Edge",msedge:e,version:v}:/vivaldi/i.test(t)?r={name:"Vivaldi",vivaldi:e,version:n(/vivaldi\/(\d+(\.\d+)?)/i)||_}:f?r={name:"Sailfish",osname:"Sailfish OS",sailfish:e,version:n(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(t)?r={name:"SeaMonkey",seamonkey:e,version:n(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(t)?(r={name:"Firefox",firefox:e,version:n(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(t)&&(r.firefoxos=e,r.osname="Firefox OS")):p?r={name:"Amazon Silk",silk:e,version:n(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(t)?r={name:"PhantomJS",phantom:e,version:n(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(t)?r={name:"SlimerJS",slimer:e,version:n(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(t)||/rim\stablet/i.test(t)?r={name:"BlackBerry",osname:"BlackBerry OS",blackberry:e,version:_||n(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:h?(r={name:"WebOS",osname:"WebOS",webos:e,version:_||n(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(t)&&(r.touchpad=e)):/bada/i.test(t)?r={name:"Bada",osname:"Bada",bada:e,version:n(/dolfin\/(\d+(\.\d+)?)/i)}:d?r={name:"Tizen",osname:"Tizen",tizen:e,version:n(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||_}:/qupzilla/i.test(t)?r={name:"QupZilla",qupzilla:e,version:n(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||_}:/chromium/i.test(t)?r={name:"Chromium",chromium:e,version:n(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||_}:/chrome|crios|crmo/i.test(t)?r={name:"Chrome",chrome:e,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:a?r={name:"Android",version:_}:/safari|applewebkit/i.test(t)?(r={name:"Safari",safari:e},_&&(r.version=_)):s?(r={name:"iphone"==s?"iPhone":"ipad"==s?"iPad":"iPod"},_&&(r.version=_)):r=/googlebot/i.test(t)?{name:"Googlebot",googlebot:e,version:n(/googlebot\/(\d+(\.\d+))/i)||_}:{name:n(/^(.*)\/(.*) /),version:i(/^(.*)\/(.*) /)},!r.msedge&&/(apple)?webkit/i.test(t)?(/(apple)?webkit\/537\.36/i.test(t)?(r.name=r.name||"Blink",r.blink=e):(r.name=r.name||"Webkit",r.webkit=e),!r.version&&_&&(r.version=_)):!r.opera&&/gecko\//i.test(t)&&(r.name=r.name||"Gecko",r.gecko=e,r.version=r.version||n(/gecko\/(\d+(\.\d+)?)/i)),r.windowsphone||!a&&!r.silk?!r.windowsphone&&s?(r[s]=e,r.ios=e,r.osname="iOS"):b?(r.mac=e,r.osname="macOS"):k?(r.xbox=e,r.osname="Xbox"):g?(r.windows=e,r.osname="Windows"):y&&(r.linux=e,r.osname="Linux"):(r.android=e,r.osname="Android");var S="";r.windows?S=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(n(/Windows ((NT|XP)( \d\d?.\d)?)/i)):r.windowsphone?S=n(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):r.mac?S=(S=n(/Mac OS X (\d+([_\.\s]\d+)*)/i)).replace(/[_\s]/g,"."):s?S=(S=n(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):a?S=n(/android[ \/-](\d+(\.\d+)*)/i):r.webos?S=n(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):r.blackberry?S=n(/rim\stablet\sos\s(\d+(\.\d+)*)/i):r.bada?S=n(/bada\/(\d+(\.\d+)*)/i):r.tizen&&(S=n(/tizen[\/\s](\d+(\.\d+)*)/i)),S&&(r.osversion=S);var C=!r.windows&&S.split(".")[0];return x||u||"ipad"==s||a&&(3==C||C>=4&&!w)||r.silk?r.tablet=e:(w||"iphone"==s||"ipod"==s||a||l||r.blackberry||r.webos||r.bada)&&(r.mobile=e),r.msedge||r.msie&&r.version>=10||r.yandexbrowser&&r.version>=15||r.vivaldi&&r.version>=1||r.chrome&&r.version>=20||r.samsungBrowser&&r.version>=4||r.whale&&1===o([r.version,"1.0"])||r.mzbrowser&&1===o([r.version,"6.0"])||r.focus&&1===o([r.version,"1.0"])||r.firefox&&r.version>=20||r.safari&&r.version>=6||r.opera&&r.version>=10||r.ios&&r.osversion&&r.osversion.split(".")[0]>=6||r.blackberry&&r.version>=10.1||r.chromium&&r.version>=20?r.a=e:r.msie&&r.version<10||r.chrome&&r.version<20||r.firefox&&r.version<20||r.safari&&r.version<6||r.opera&&r.version<10||r.ios&&r.osversion&&r.osversion.split(".")[0]<6||r.chromium&&r.version<20?r.c=e:r.x=e,r}var n=t("undefined"!=typeof navigator&&navigator.userAgent||"");function i(e){return e.split(".").length}function r(e,t){var n,i=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n++)i.push(t(e[n]));return i}function o(e){for(var t=Math.max(i(e[0]),i(e[1])),n=r(e,function(e){var n=t-i(e);return r((e+=new Array(n+1).join(".0")).split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});--t>=0;){if(n[0][t]>n[1][t])return 1;if(n[0][t]!==n[1][t])return-1;if(0===t)return 0}}function s(e,i,r){var s=n;"string"==typeof i&&(r=i,i=void 0),void 0===i&&(i=!1),r&&(s=t(r));var a=""+s.version;for(var l in e)if(e.hasOwnProperty(l)&&s[l]){if("string"!=typeof e[l])throw new Error("Browser version in the minVersion map should be a string: "+l+": "+String(e));return o([a,e[l]])<0}return i}return n.test=function(e){for(var t=0;t<e.length;++t){var i=e[t];if("string"==typeof i&&i in n)return!0}return!1},n.isUnsupportedBrowser=s,n.compareVersions=o,n.check=function(e,t,n){return!s(e,t,n)},n._detect=t,n.detect=t,n},e.exports?e.exports=i():n(702)("bowser",i)},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.browser,n=e.version,i=e.prefix,r="keyframes";return("chrome"===t&&n<43||("safari"===t||"ios_saf"===t)&&n<9||"opera"===t&&n<30||"android"===t&&n<=4.4||"and_uc"===t)&&(r=i.css+r),r},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={chrome:{transform:35,transformOrigin:35,transformOriginX:35,transformOriginY:35,backfaceVisibility:35,perspective:35,perspectiveOrigin:35,transformStyle:35,transformOriginZ:35,animation:42,animationDelay:42,animationDirection:42,animationFillMode:42,animationDuration:42,animationIterationCount:42,animationName:42,animationPlayState:42,animationTimingFunction:42,appearance:55,userSelect:55,fontKerning:32,textEmphasisPosition:55,textEmphasis:55,textEmphasisStyle:55,textEmphasisColor:55,boxDecorationBreak:55,clipPath:55,maskImage:55,maskMode:55,maskRepeat:55,maskPosition:55,maskClip:55,maskOrigin:55,maskSize:55,maskComposite:55,mask:55,maskBorderSource:55,maskBorderMode:55,maskBorderSlice:55,maskBorderWidth:55,maskBorderOutset:55,maskBorderRepeat:55,maskBorder:55,maskType:55,textDecorationStyle:55,textDecorationSkip:55,textDecorationLine:55,textDecorationColor:55,filter:52,fontFeatureSettings:47,breakAfter:49,breakBefore:49,breakInside:49,columnCount:49,columnFill:49,columnGap:49,columnRule:49,columnRuleColor:49,columnRuleStyle:49,columnRuleWidth:49,columns:49,columnSpan:49,columnWidth:49},safari:{flex:8,flexBasis:8,flexDirection:8,flexGrow:8,flexFlow:8,flexShrink:8,flexWrap:8,alignContent:8,alignItems:8,alignSelf:8,justifyContent:8,order:8,transition:6,transitionDelay:6,transitionDuration:6,transitionProperty:6,transitionTimingFunction:6,transform:8,transformOrigin:8,transformOriginX:8,transformOriginY:8,backfaceVisibility:8,perspective:8,perspectiveOrigin:8,transformStyle:8,transformOriginZ:8,animation:8,animationDelay:8,animationDirection:8,animationFillMode:8,animationDuration:8,animationIterationCount:8,animationName:8,animationPlayState:8,animationTimingFunction:8,appearance:10,userSelect:10,backdropFilter:10,fontKerning:9,scrollSnapType:10,scrollSnapPointsX:10,scrollSnapPointsY:10,scrollSnapDestination:10,scrollSnapCoordinate:10,textEmphasisPosition:7,textEmphasis:7,textEmphasisStyle:7,textEmphasisColor:7,boxDecorationBreak:10,clipPath:10,maskImage:10,maskMode:10,maskRepeat:10,maskPosition:10,maskClip:10,maskOrigin:10,maskSize:10,maskComposite:10,mask:10,maskBorderSource:10,maskBorderMode:10,maskBorderSlice:10,maskBorderWidth:10,maskBorderOutset:10,maskBorderRepeat:10,maskBorder:10,maskType:10,textDecorationStyle:10,textDecorationSkip:10,textDecorationLine:10,textDecorationColor:10,shapeImageThreshold:10,shapeImageMargin:10,shapeImageOutside:10,filter:9,hyphens:10,flowInto:10,flowFrom:10,breakBefore:8,breakAfter:8,breakInside:8,regionFragment:10,columnCount:8,columnFill:8,columnGap:8,columnRule:8,columnRuleColor:8,columnRuleStyle:8,columnRuleWidth:8,columns:8,columnSpan:8,columnWidth:8},firefox:{appearance:51,userSelect:51,boxSizing:28,textAlignLast:48,textDecorationStyle:35,textDecorationSkip:35,textDecorationLine:35,textDecorationColor:35,tabSize:51,hyphens:42,fontFeatureSettings:33,breakAfter:51,breakBefore:51,breakInside:51,columnCount:51,columnFill:51,columnGap:51,columnRule:51,columnRuleColor:51,columnRuleStyle:51,columnRuleWidth:51,columns:51,columnSpan:51,columnWidth:51},opera:{flex:16,flexBasis:16,flexDirection:16,flexGrow:16,flexFlow:16,flexShrink:16,flexWrap:16,alignContent:16,alignItems:16,alignSelf:16,justifyContent:16,order:16,transform:22,transformOrigin:22,transformOriginX:22,transformOriginY:22,backfaceVisibility:22,perspective:22,perspectiveOrigin:22,transformStyle:22,transformOriginZ:22,animation:29,animationDelay:29,animationDirection:29,animationFillMode:29,animationDuration:29,animationIterationCount:29,animationName:29,animationPlayState:29,animationTimingFunction:29,appearance:41,userSelect:41,fontKerning:19,textEmphasisPosition:41,textEmphasis:41,textEmphasisStyle:41,textEmphasisColor:41,boxDecorationBreak:41,clipPath:41,maskImage:41,maskMode:41,maskRepeat:41,maskPosition:41,maskClip:41,maskOrigin:41,maskSize:41,maskComposite:41,mask:41,maskBorderSource:41,maskBorderMode:41,maskBorderSlice:41,maskBorderWidth:41,maskBorderOutset:41,maskBorderRepeat:41,maskBorder:41,maskType:41,textDecorationStyle:41,textDecorationSkip:41,textDecorationLine:41,textDecorationColor:41,filter:39,fontFeatureSettings:34,breakAfter:36,breakBefore:36,breakInside:36,columnCount:36,columnFill:36,columnGap:36,columnRule:36,columnRuleColor:36,columnRuleStyle:36,columnRuleWidth:36,columns:36,columnSpan:36,columnWidth:36},ie:{flex:10,flexDirection:10,flexFlow:10,flexWrap:10,transform:9,transformOrigin:9,transformOriginX:9,transformOriginY:9,userSelect:11,wrapFlow:11,wrapThrough:11,wrapMargin:11,scrollSnapType:11,scrollSnapPointsX:11,scrollSnapPointsY:11,scrollSnapDestination:11,scrollSnapCoordinate:11,touchAction:10,hyphens:11,flowInto:11,flowFrom:11,breakBefore:11,breakAfter:11,breakInside:11,regionFragment:11,gridTemplateColumns:11,gridTemplateRows:11,gridTemplateAreas:11,gridTemplate:11,gridAutoColumns:11,gridAutoRows:11,gridAutoFlow:11,grid:11,gridRowStart:11,gridColumnStart:11,gridRowEnd:11,gridRow:11,gridColumn:11,gridColumnEnd:11,gridColumnGap:11,gridRowGap:11,gridArea:11,gridGap:11,textSizeAdjust:11},edge:{userSelect:14,wrapFlow:14,wrapThrough:14,wrapMargin:14,scrollSnapType:14,scrollSnapPointsX:14,scrollSnapPointsY:14,scrollSnapDestination:14,scrollSnapCoordinate:14,hyphens:14,flowInto:14,flowFrom:14,breakBefore:14,breakAfter:14,breakInside:14,regionFragment:14,gridTemplateColumns:14,gridTemplateRows:14,gridTemplateAreas:14,gridTemplate:14,gridAutoColumns:14,gridAutoRows:14,gridAutoFlow:14,grid:14,gridRowStart:14,gridColumnStart:14,gridRowEnd:14,gridRow:14,gridColumn:14,gridColumnEnd:14,gridColumnGap:14,gridRowGap:14,gridArea:14,gridGap:14},ios_saf:{flex:8.1,flexBasis:8.1,flexDirection:8.1,flexGrow:8.1,flexFlow:8.1,flexShrink:8.1,flexWrap:8.1,alignContent:8.1,alignItems:8.1,alignSelf:8.1,justifyContent:8.1,order:8.1,transition:6,transitionDelay:6,transitionDuration:6,transitionProperty:6,transitionTimingFunction:6,transform:8.1,transformOrigin:8.1,transformOriginX:8.1,transformOriginY:8.1,backfaceVisibility:8.1,perspective:8.1,perspectiveOrigin:8.1,transformStyle:8.1,transformOriginZ:8.1,animation:8.1,animationDelay:8.1,animationDirection:8.1,animationFillMode:8.1,animationDuration:8.1,animationIterationCount:8.1,animationName:8.1,animationPlayState:8.1,animationTimingFunction:8.1,appearance:9.3,userSelect:9.3,backdropFilter:9.3,fontKerning:9.3,scrollSnapType:9.3,scrollSnapPointsX:9.3,scrollSnapPointsY:9.3,scrollSnapDestination:9.3,scrollSnapCoordinate:9.3,boxDecorationBreak:9.3,clipPath:9.3,maskImage:9.3,maskMode:9.3,maskRepeat:9.3,maskPosition:9.3,maskClip:9.3,maskOrigin:9.3,maskSize:9.3,maskComposite:9.3,mask:9.3,maskBorderSource:9.3,maskBorderMode:9.3,maskBorderSlice:9.3,maskBorderWidth:9.3,maskBorderOutset:9.3,maskBorderRepeat:9.3,maskBorder:9.3,maskType:9.3,textSizeAdjust:9.3,textDecorationStyle:9.3,textDecorationSkip:9.3,textDecorationLine:9.3,textDecorationColor:9.3,shapeImageThreshold:9.3,shapeImageMargin:9.3,shapeImageOutside:9.3,filter:9,hyphens:9.3,flowInto:9.3,flowFrom:9.3,breakBefore:8.1,breakAfter:8.1,breakInside:8.1,regionFragment:9.3,columnCount:8.1,columnFill:8.1,columnGap:8.1,columnRule:8.1,columnRuleColor:8.1,columnRuleStyle:8.1,columnRuleWidth:8.1,columns:8.1,columnSpan:8.1,columnWidth:8.1},android:{flex:4.2,flexBasis:4.2,flexDirection:4.2,flexGrow:4.2,flexFlow:4.2,flexShrink:4.2,flexWrap:4.2,alignContent:4.2,alignItems:4.2,alignSelf:4.2,justifyContent:4.2,order:4.2,transition:4.2,transitionDelay:4.2,transitionDuration:4.2,transitionProperty:4.2,transitionTimingFunction:4.2,transform:4.4,transformOrigin:4.4,transformOriginX:4.4,transformOriginY:4.4,backfaceVisibility:4.4,perspective:4.4,perspectiveOrigin:4.4,transformStyle:4.4,transformOriginZ:4.4,animation:4.4,animationDelay:4.4,animationDirection:4.4,animationFillMode:4.4,animationDuration:4.4,animationIterationCount:4.4,animationName:4.4,animationPlayState:4.4,animationTimingFunction:4.4,appearance:51,userSelect:51,fontKerning:4.4,textEmphasisPosition:51,textEmphasis:51,textEmphasisStyle:51,textEmphasisColor:51,boxDecorationBreak:51,clipPath:51,maskImage:51,maskMode:51,maskRepeat:51,maskPosition:51,maskClip:51,maskOrigin:51,maskSize:51,maskComposite:51,mask:51,maskBorderSource:51,maskBorderMode:51,maskBorderSlice:51,maskBorderWidth:51,maskBorderOutset:51,maskBorderRepeat:51,maskBorder:51,maskType:51,filter:51,fontFeatureSettings:4.4,breakAfter:51,breakBefore:51,breakInside:51,columnCount:51,columnFill:51,columnGap:51,columnRule:51,columnRuleColor:51,columnRuleStyle:51,columnRuleWidth:51,columns:51,columnSpan:51,columnWidth:51},and_chr:{appearance:51,userSelect:51,textEmphasisPosition:51,textEmphasis:51,textEmphasisStyle:51,textEmphasisColor:51,boxDecorationBreak:51,clipPath:51,maskImage:51,maskMode:51,maskRepeat:51,maskPosition:51,maskClip:51,maskOrigin:51,maskSize:51,maskComposite:51,mask:51,maskBorderSource:51,maskBorderMode:51,maskBorderSlice:51,maskBorderWidth:51,maskBorderOutset:51,maskBorderRepeat:51,maskBorder:51,maskType:51,textDecorationStyle:51,textDecorationSkip:51,textDecorationLine:51,textDecorationColor:51,filter:51},and_uc:{flex:9.9,flexBasis:9.9,flexDirection:9.9,flexGrow:9.9,flexFlow:9.9,flexShrink:9.9,flexWrap:9.9,alignContent:9.9,alignItems:9.9,alignSelf:9.9,justifyContent:9.9,order:9.9,transition:9.9,transitionDelay:9.9,transitionDuration:9.9,transitionProperty:9.9,transitionTimingFunction:9.9,transform:9.9,transformOrigin:9.9,transformOriginX:9.9,transformOriginY:9.9,backfaceVisibility:9.9,perspective:9.9,perspectiveOrigin:9.9,transformStyle:9.9,transformOriginZ:9.9,animation:9.9,animationDelay:9.9,animationDirection:9.9,animationFillMode:9.9,animationDuration:9.9,animationIterationCount:9.9,animationName:9.9,animationPlayState:9.9,animationTimingFunction:9.9,appearance:9.9,userSelect:9.9,fontKerning:9.9,textEmphasisPosition:9.9,textEmphasis:9.9,textEmphasisStyle:9.9,textEmphasisColor:9.9,maskImage:9.9,maskMode:9.9,maskRepeat:9.9,maskPosition:9.9,maskClip:9.9,maskOrigin:9.9,maskSize:9.9,maskComposite:9.9,mask:9.9,maskBorderSource:9.9,maskBorderMode:9.9,maskBorderSlice:9.9,maskBorderWidth:9.9,maskBorderOutset:9.9,maskBorderRepeat:9.9,maskBorder:9.9,maskType:9.9,textSizeAdjust:9.9,filter:9.9,hyphens:9.9,flowInto:9.9,flowFrom:9.9,breakBefore:9.9,breakAfter:9.9,breakInside:9.9,regionFragment:9.9,fontFeatureSettings:9.9,columnCount:9.9,columnFill:9.9,columnGap:9.9,columnRule:9.9,columnRuleColor:9.9,columnRuleStyle:9.9,columnRuleWidth:9.9,columns:9.9,columnSpan:9.9,columnWidth:9.9},op_mini:{}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.property,n=e.value,i=e.browserInfo.browser,r=e.prefix.css,s=e.keepUnprefixed;if("position"===t&&"sticky"===n&&("safari"===i||"ios_saf"===i))return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},t,(0,o.default)(r+n,n,s))};var i,r=n(208),o=(i=r)&&i.__esModule?i:{default:i};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.property,n=e.value,i=e.browserInfo,r=i.browser,s=i.version,a=e.prefix.css,l=e.keepUnprefixed;if("string"==typeof n&&n.indexOf("calc(")>-1&&("firefox"===r&&s<15||"chrome"===r&&s<25||"safari"===r&&s<6.1||"ios_saf"===r&&s<7))return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},t,(0,o.default)(n.replace(/calc\(/g,a+"calc("),n,l))};var i,r=n(208),o=(i=r)&&i.__esModule?i:{default:i};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.property,n=e.value,i=e.browserInfo,r=i.browser,a=i.version,l=e.prefix.css,u=e.keepUnprefixed;if("cursor"===t&&s[n]&&("firefox"===r&&a<24||"chrome"===r&&a<37||"safari"===r&&a<9||"opera"===r&&a<24))return{cursor:(0,o.default)(l+n,n,u)}};var i,r=n(208),o=(i=r)&&i.__esModule?i:{default:i};var s={"zoom-in":!0,"zoom-out":!0};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.property,n=e.value,i=e.browserInfo.browser,r=e.prefix.css,a=e.keepUnprefixed;if("cursor"===t&&s[n]&&("firefox"===i||"chrome"===i||"safari"===i||"opera"===i))return{cursor:(0,o.default)(r+n,n,a)}};var i,r=n(208),o=(i=r)&&i.__esModule?i:{default:i};var s={grab:!0,grabbing:!0};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.property,n=e.value,i=e.browserInfo,r=i.browser,a=i.version,l=e.prefix.css,u=e.keepUnprefixed;if("display"===t&&s[n]&&("chrome"===r&&a<29&&a>20||("safari"===r||"ios_saf"===r)&&a<9&&a>6||"opera"===r&&(15==a||16==a)))return{display:(0,o.default)(l+n,n,u)}};var i,r=n(208),o=(i=r)&&i.__esModule?i:{default:i};var s={flex:!0,"inline-flex":!0};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.property,n=e.value,i=e.prefix.css,r=e.keepUnprefixed;if(s[t]&&a[n])return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},t,(0,o.default)(i+n,n,r))};var i,r=n(208),o=(i=r)&&i.__esModule?i:{default:i};var s={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},a={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.property,n=e.value,i=e.browserInfo,r=i.browser,a=i.version,l=e.prefix.css,u=e.keepUnprefixed;if("string"==typeof n&&null!==n.match(s)&&("firefox"===r&&a<16||"chrome"===r&&a<26||("safari"===r||"ios_saf"===r)&&a<7||("opera"===r||"op_mini"===r)&&a<12.1||"android"===r&&a<4.4||"and_uc"===r))return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},t,(0,o.default)(l+n,n,u))};var i,r=n(208),o=(i=r)&&i.__esModule?i:{default:i};var s=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.default=function(e){var t=e.property,n=e.value,s=e.prefix.css,u=e.requiresPrefix,c=e.keepUnprefixed,p=(0,o.default)(t);if("string"==typeof n&&l[p]){var f=(d=Object.keys(u).map(function(e){return(0,r.default)(e)}),h=n.split(/,(?![^()]*(?:\([^()]*\))?\))/g),d.forEach(function(e){h.forEach(function(t,n){t.indexOf(e)>-1&&"order"!==e&&(h[n]=t.replace(e,s+e)+(c?","+t:""))})}),{v:a({},t,h.join(","))});if("object"===(void 0===f?"undefined":i(f)))return f.v}var d,h};var r=s(n(529)),o=s(n(713));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={transition:!0,transitionProperty:!0};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.replace(/^(ms|Webkit|Moz|O)/,"");return t.charAt(0).toLowerCase()+t.slice(1)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.property,n=e.value,i=e.styles,r=e.browserInfo,l=r.browser,u=r.version,c=e.prefix.css,p=e.keepUnprefixed;if((a[t]||"display"===t&&"string"==typeof n&&n.indexOf("flex")>-1)&&("ie_mob"===l||"ie"===l)&&10==u){if(p||Array.isArray(i[t])||delete i[t],"display"===t&&s[n])return{display:(0,o.default)(c+s[n],n,p)};if(a[t])return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},a[t],s[n]||n)}};var i,r=n(208),o=(i=r)&&i.__esModule?i:{default:i};var s={"space-around":"distribute","space-between":"justify","flex-start":"start","flex-end":"end",flex:"flexbox","inline-flex":"inline-flexbox"},a={alignContent:"msFlexLinePack",alignSelf:"msFlexItemAlign",alignItems:"msFlexAlign",justifyContent:"msFlexPack",order:"msFlexOrder",flexGrow:"msFlexPositive",flexShrink:"msFlexNegative",flexBasis:"msPreferredSize"};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.property,n=e.value,i=e.styles,r=e.browserInfo,u=r.browser,c=r.version,p=e.prefix.css,f=e.keepUnprefixed;if((l.indexOf(t)>-1||"display"===t&&"string"==typeof n&&n.indexOf("flex")>-1)&&("firefox"===u&&c<22||"chrome"===u&&c<21||("safari"===u||"ios_saf"===u)&&c<=6.1||"android"===u&&c<4.4||"and_uc"===u)){if(f||Array.isArray(i[t])||delete i[t],"flexDirection"===t&&"string"==typeof n)return{WebkitBoxOrient:n.indexOf("column")>-1?"vertical":"horizontal",WebkitBoxDirection:n.indexOf("reverse")>-1?"reverse":"normal"};if("display"===t&&s[n])return{display:(0,o.default)(p+s[n],n,f)};if(a[t])return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},a[t],s[n]||n)}};var i,r=n(208),o=(i=r)&&i.__esModule?i:{default:i};var s={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple",flex:"box","inline-flex":"inline-box"},a={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines"},l=Object.keys(a).concat(["alignContent","alignSelf","order","flexGrow","flexShrink","flexBasis","flexDirection"]);e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function r(e){return e&&e.constructor===Object&&e.toString===Object.prototype.toString}t.isNestedStyle=r,t.mergeStyles=function e(t){var n={};t.forEach(function(t){t&&"object"===(void 0===t?"undefined":i(t))&&(Array.isArray(t)&&(t=e(t)),Object.keys(t).forEach(function(i){if(r(t[i])&&r(n[i])){if(0===i.indexOf("@media"))for(var o=i;;)if(!n[o+=" "])return void(n[o]=t[i]);n[i]=e([n[i],t[i]])}else n[i]=t[i]}))});return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});Object.assign,"function"==typeof Symbol&&Symbol.iterator;t.default=function(){},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.addCSS,n=e.config,i=e.style;return{style:Object.keys(i).reduce(function(e,r){var o=i[r];if("animationName"===r&&o&&o.__radiumKeyframes){var s=o,a=s.__process(n.userAgent),l=a.animationName,u=a.css;t(u),o=l}return e[r]=o,e},{})}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.style,n=e.mergeStyles;return{style:Array.isArray(t)?n(t):t}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.config,n=e.style;return{style:(0,i.getPrefixedStyle)(n,t.userAgent)}};var i=n(354);e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.isNestedStyle,n=e.style;return{style:Object.keys(n).reduce(function(e,i){var r=n[i];return t(r)||(e[i]=r),e},{})}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(723),o=(i=r)&&i.__esModule?i:{default:i};var s=function(e){return":hover"===e||":active"===e||":focus"===e};t.default=function(e){var t=e.ExecutionEnvironment,n=e.getComponentField,i=e.getState,r=e.mergeStyles,a=e.props,l=e.setState,u=e.style,c={},p={};if(u[":hover"]){var f=a.onMouseEnter;p.onMouseEnter=function(e){f&&f(e),l(":hover",!0)};var d=a.onMouseLeave;p.onMouseLeave=function(e){d&&d(e),l(":hover",!1)}}if(u[":active"]){var h=a.onMouseDown;p.onMouseDown=function(e){h&&h(e),c._lastMouseDown=Date.now(),l(":active","viamousedown")};var m=a.onKeyDown;p.onKeyDown=function(e){m&&m(e)," "!==e.key&&"Enter"!==e.key||l(":active","viakeydown")};var g=a.onKeyUp;p.onKeyUp=function(e){g&&g(e)," "!==e.key&&"Enter"!==e.key||l(":active",!1)}}if(u[":focus"]){var b=a.onFocus;p.onFocus=function(e){b&&b(e),l(":focus",!0)};var y=a.onBlur;p.onBlur=function(e){y&&y(e),l(":focus",!1)}}u[":active"]&&!n("_radiumMouseUpListener")&&t.canUseEventListeners&&(c._radiumMouseUpListener=o.default.subscribe(function(){Object.keys(n("state")._radiumStyleState).forEach(function(e){"viamousedown"===i(":active",e)&&l(":active",!1,e)})}));var v=a.disabled?[u[":disabled"]]:Object.keys(u).filter(function(e){return s(e)&&i(e)}).map(function(e){return u[e]}),_=r([u].concat(v));return _=Object.keys(_).reduce(function(e,t){return s(t)||":disabled"===t||(e[t]=_[t]),e},{}),{componentFields:c,props:p,style:_}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=[],r=!1;function o(){i.forEach(function(e){e()})}t.default={subscribe:function(e){return-1===i.indexOf(e)&&i.push(e),r||(window.addEventListener("mouseup",o),r=!0),{remove:function(){var t=i.indexOf(e);i.splice(t,1),0===i.length&&r&&(window.removeEventListener("mouseup",o),r=!1)}}},__triggerForTests:o},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.default=function(e){var t=e.ExecutionEnvironment,n=e.addCSS,s=e.appendImportantToEachValue,a=e.config,l=e.cssRuleSetToString,u=e.getComponentField,c=e.getGlobalState,p=e.hash,f=e.isNestedStyle,d=e.mergeStyles,h=e.props,m=e.setState,g=e.style,b=function(e){return Object.keys(e).reduce(function(t,n){return 0!==n.indexOf("@media")&&(t[n]=e[n]),t},{})}(g),y=function(e){var t=e.addCSS,n=e.appendImportantToEachValue,i=e.cssRuleSetToString,r=e.hash,s=e.isNestedStyle,a=e.style,l=e.userAgent,u="";return Object.keys(a).filter(function(e){return 0===e.indexOf("@media")}).map(function(e){var c=n(o(a[e],function(e){return!s(e)}));if(Object.keys(c).length){var p=i("",c,l),f="rmq-"+r(e+p);t(e+"{ ."+f+p+"}"),u+=(u?" ":"")+f}}),u}({addCSS:n,appendImportantToEachValue:s,cssRuleSetToString:l,hash:p,isNestedStyle:f,style:g,userAgent:a.userAgent}),v=y?{className:y+(h.className?" "+h.className:"")}:null,_=a.matchMedia||function(e){void 0===r&&(r=!!e.canUseDOM&&!!window&&!!window.matchMedia&&function(e){return window.matchMedia(e)}||null);return r}(t);if(!_)return{props:v,style:b};var x=i({},u("_radiumMediaQueryListenersByQuery")),w=c("mediaQueryListsByQuery")||{};return Object.keys(g).filter(function(e){return 0===e.indexOf("@media")}).map(function(e){var t=o(g[e],f);if(Object.keys(t).length){var n=function(e){var t=e.listener,n=e.listenersByQuery,i=e.matchMedia,r=e.mediaQueryListsByQuery,o=e.query;o=o.replace("@media ","");var s=r[o];return!s&&i&&(r[o]=s=i(o)),n&&n[o]||(s.addListener(t),n[o]={remove:function(){s.removeListener(t)}}),s}({listener:function(){return m(e,n.matches,"_all")},listenersByQuery:x,matchMedia:_,mediaQueryListsByQuery:w,query:e});n.matches&&(b=d([b,t]))}}),{componentFields:{_radiumMediaQueryListenersByQuery:x},globalState:{mediaQueryListsByQuery:w},props:v,style:b}};var r=void 0;function o(e,t){return Object.keys(e).filter(function(n){return t(e[n],n)}).reduce(function(t,n){return t[n]=e[n],t},{})}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.addCSS,n=e.appendImportantToEachValue,i=e.config,r=e.cssRuleSetToString,o=e.hash,s=e.props,a=e.style,l=s.className,u=Object.keys(a).reduce(function(e,s){var u=a[s];if(":visited"===s){u=n(u);var c=r("",u,i.userAgent),p="rad-"+o(c),f="."+p+":visited"+c;t(f),l=(l?l+" ":"")+p}else e[s]=u;return e},{});return{props:l===s.className?null:{className:l},style:u}},e.exports=t.default},function(e,t,n){var i;
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/
!function(){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen};void 0===(i=function(){return o}.call(t,n,t,e))||(e.exports=i)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=c(n(353)),a=n(1),l=c(a),u=c(n(0));function c(e){return e&&e.__esModule?e:{default:e}}var p=(r=i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype._buildStyles=function(e){var t=this,n=this.props.radiumConfig&&this.props.radiumConfig.userAgent||this.context&&this.context._radiumConfig&&this.context._radiumConfig.userAgent,i=this.props.scopeSelector,r=Object.keys(e).reduce(function(t,n){return"object"!==o(e[n])&&(t[n]=e[n]),t},{});return(Object.keys(r).length?(0,s.default)(i||"",r,n):"")+Object.keys(e).reduce(function(r,a){var l=e[a];if("mediaQueries"===a)r+=t._buildMediaQueryString(l);else if("object"===o(e[a])){var u=i?a.split(",").map(function(e){return i+" "+e.trim()}).join(","):a;r+=(0,s.default)(u,l,n)}return r},"")},t.prototype._buildMediaQueryString=function(e){var t=this,n="";return Object.keys(e).forEach(function(i){n+="@media "+i+"{"+t._buildStyles(e[i])+"}"}),n},t.prototype.render=function(){if(!this.props.rules)return null;var e=this._buildStyles(this.props.rules);return l.default.createElement("style",{dangerouslySetInnerHTML:{__html:e}})},t}(a.PureComponent),i.propTypes={radiumConfig:u.default.object,rules:u.default.object,scopeSelector:u.default.string},i.contextTypes={_radiumConfig:u.default.object},i.defaultProps={scopeSelector:""},r);t.default=p,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=u(i),o=u(n(0)),s=u(n(523)),a=u(n(352)),l=u(n(729));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if(!e._radiumStyleKeeper){var t=e.props.radiumConfig&&e.props.radiumConfig.userAgent||e.context._radiumConfig&&e.context._radiumConfig.userAgent;e._radiumStyleKeeper=new a.default(t)}return e._radiumStyleKeeper}var p=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments));return c(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{_radiumStyleKeeper:c(this)}},t.prototype.render=function(){var e=this.props,t=(e.radiumConfig,function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["radiumConfig"]));return r.default.createElement("div",t,this.props.children,r.default.createElement(l.default,null))},t}(i.PureComponent);p.contextTypes={_radiumConfig:o.default.object,_radiumStyleKeeper:o.default.instanceOf(a.default)},p.childContextTypes={_radiumStyleKeeper:o.default.instanceOf(a.default)},p=(0,s.default)(p),t.default=p,e.exports=t.default},function(e,t,n){"use strict";var i,r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1),s=u(o),a=u(n(0)),l=u(n(352));function u(e){return e&&e.__esModule?e:{default:e}}var c=(r=i=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments));return n._onChange=function(){setTimeout(function(){n._isMounted&&n.setState(n._getCSSState())},0)},n.state=n._getCSSState(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this._isMounted=!0,this._subscription=this.context._radiumStyleKeeper.subscribe(this._onChange),this._onChange()},t.prototype.componentWillUnmount=function(){this._isMounted=!1,this._subscription&&this._subscription.remove()},t.prototype._getCSSState=function(){return{css:this.context._radiumStyleKeeper.getCSS()}},t.prototype.render=function(){return s.default.createElement("style",{dangerouslySetInnerHTML:{__html:this.state.css}})},t}(o.PureComponent),i.contextTypes={_radiumStyleKeeper:a.default.instanceOf(l.default)},r);t.default=c,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return{__radiumKeyframes:!0,__process:function(n){var s=(0,o.getPrefixedKeyframes)(n),a=Object.keys(e).map(function(t){return(0,i.default)(t,e[t],n)}).join("\n"),l=(t?t+"-":"")+"radium-animation-"+(0,r.default)(a),u="@"+s+" "+l+" {\n"+a+"\n}\n";return{css:u,animationName:l}}}};var i=s(n(353)),r=s(n(532)),o=n(354);function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";var i=n(732),r=n(733),o=n(734),s=n(735),a=function(e,t,n){var i=[];for(var r in t){var o=t[r],s=e[o[n]];(o||t.hasOwnProperty(r))&&(s&&(o.children=a(e,s,n)),i.push(o))}return i};e.exports=function(e,t){if(t=r({parentProperty:"parent_id",customID:"id",rootID:"0"},t),!i(e))throw new TypeError("Expected an object but got an invalid argument");var n=function(e,t){var n=s(e,t.customID);return e.reduce(function(e,i){var r=o.get(i,t.parentProperty);return r&&n.hasOwnProperty(r)||(r=t.rootID),r&&e.hasOwnProperty(r)?(e[r].push(i),e):(e[r]=[i],e)},{})}(e,t);return a(n,n[t.rootID],t.customID)}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t){var n=9007199254740991,i="[object Arguments]",r="[object Function]",o="[object GeneratorFunction]",s=/^(?:0|[1-9]\d*)$/;var a,l,u=Object.prototype,c=u.hasOwnProperty,p=u.toString,f=u.propertyIsEnumerable,d=(a=Object.keys,l=Object,function(e){return a(l(e))}),h=Math.max,m=!f.call({valueOf:1},"valueOf");function g(e,t){var n=x(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&w(e)}(e)&&c.call(e,"callee")&&(!f.call(e,"callee")||p.call(e)==i)}(e)?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],r=n.length,o=!!r;for(var s in e)!t&&!c.call(e,s)||o&&("length"==s||y(s,r))||n.push(s);return n}function b(e,t,n){var i=e[t];c.call(e,t)&&_(i,n)&&(void 0!==n||t in e)||(e[t]=n)}function y(e,t){return!!(t=null==t?n:t)&&("number"==typeof e||s.test(e))&&e>-1&&e%1==0&&e<t}function v(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||u)}function _(e,t){return e===t||e!=e&&t!=t}var x=Array.isArray;function w(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}(e.length)&&!function(e){var t=k(e)?p.call(e):"";return t==r||t==o}(e)}function k(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var S=function(e){return t=function(t,n){var i=-1,r=n.length,o=r>1?n[r-1]:void 0,s=r>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(r--,o):void 0,s&&function(e,t,n){if(!k(n))return!1;var i=typeof t;return!!("number"==i?w(n)&&y(t,n.length):"string"==i&&t in n)&&_(n[t],e)}(n[0],n[1],s)&&(o=r<3?void 0:o,r=1),t=Object(t);++i<r;){var a=n[i];a&&e(t,a,i,o)}return t},n=h(void 0===n?t.length-1:n,0),function(){for(var e=arguments,i=-1,r=h(e.length-n,0),o=Array(r);++i<r;)o[i]=e[n+i];i=-1;for(var s=Array(n+1);++i<n;)s[i]=e[i];return s[n]=o,function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(t,this,s)};var t,n}(function(e,t){if(m||v(t)||w(t))!function(e,t,n,i){n||(n={});for(var r=-1,o=t.length;++r<o;){var s=t[r],a=i?i(n[s],e[s],s,n,e):void 0;b(n,s,void 0===a?e[s]:a)}}(t,function(e){return w(e)?g(e):function(e){if(!v(e))return d(e);var t=[];for(var n in Object(e))c.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}(t),e);else for(var n in t)c.call(t,n)&&b(e,n,t[n])});e.exports=S},function(e,t,n){"use strict";
/**
* @license nested-property https://github.com/cosmosio/nested-property
*
* The MIT License (MIT)
*
* Copyright (c) 2014-2015 Olivier Scherrer <pode.fr@gmail.com>
*/e.exports={set:function(e,t,n){if(e&&"object"==typeof e){if("string"==typeof t&&""!==t){var i=t.split(".");return i.reduce(function(e,t,r){return e[t]=e[t]||{},i.length==r+1&&(e[t]=n),e[t]},e)}return"number"==typeof t?(e[t]=n,e[t]):e}return e},get:function(e,t){if(e&&"object"==typeof e){if("string"==typeof t&&""!==t){var n=t.split(".");return n.reduce(function(e,t){return e&&e[t]},e)}return"number"==typeof t?e[t]:e}return e},has:function(e,t,n){if(n=n||{},e&&"object"==typeof e){if("string"==typeof t&&""!==t){var i=t.split(".");return i.reduce(function(e,t,i,r){return i==r.length-1?n.own?!(!e||!e.hasOwnProperty(t)):!!(null!==e&&"object"==typeof e&&t in e):e&&e[t]},e)}return"number"==typeof t&&t in e}return!1},hasOwn:function(e,t,n){return this.has(e,t,n||{own:!0})},isIn:function(e,t,n,i){if(i=i||{},e&&"object"==typeof e){if("string"==typeof t&&""!==t){var r,o=t.split("."),s=!1;return r=!!o.reduce(function(e,t){return s=s||e===n||!!e&&e[t]===n,e&&e[t]},e),i.validPath?s&&r:s}return!1}return!1}}},function(e,t,n){(function(e,n){var i=200,r="Expected a function",o="__lodash_hash_undefined__",s=1,a=2,l=1/0,u=9007199254740991,c="[object Arguments]",p="[object Array]",f="[object Boolean]",d="[object Date]",h="[object Error]",m="[object Function]",g="[object GeneratorFunction]",b="[object Map]",y="[object Number]",v="[object Object]",_="[object RegExp]",x="[object Set]",w="[object String]",k="[object Symbol]",S="[object ArrayBuffer]",C="[object DataView]",E=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,T=/^\w*$/,A=/^\./,N=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,M=/\\(\\)?/g,R=/^\[object .+?Constructor\]$/,O=/^(?:0|[1-9]\d*)$/,L={};L["[object Float32Array]"]=L["[object Float64Array]"]=L["[object Int8Array]"]=L["[object Int16Array]"]=L["[object Int32Array]"]=L["[object Uint8Array]"]=L["[object Uint8ClampedArray]"]=L["[object Uint16Array]"]=L["[object Uint32Array]"]=!0,L[c]=L[p]=L[S]=L[f]=L[C]=L[d]=L[h]=L[m]=L[b]=L[y]=L[v]=L[_]=L[x]=L[w]=L["[object WeakMap]"]=!1;var P="object"==typeof e&&e&&e.Object===Object&&e,D="object"==typeof self&&self&&self.Object===Object&&self,I=P||D||Function("return this")(),F=t&&!t.nodeType&&t,$=F&&"object"==typeof n&&n&&!n.nodeType&&n,j=$&&$.exports===F&&P.process,B=function(){try{return j&&j.binding("util")}catch(e){}}(),z=B&&B.isTypedArray;function q(e,t,n,i){for(var r=-1,o=e?e.length:0;++r<o;){var s=e[r];t(i,s,n(s),e)}return i}function H(e,t){for(var n=-1,i=e?e.length:0;++n<i;)if(t(e[n],n,e))return!0;return!1}function U(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function W(e){var t=-1,n=Array(e.size);return e.forEach(function(e,i){n[++t]=[i,e]}),n}function V(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}var G,K,Y,X=Array.prototype,Q=Function.prototype,Z=Object.prototype,J=I["__core-js_shared__"],ee=(G=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||""))?"Symbol(src)_1."+G:"",te=Q.toString,ne=Z.hasOwnProperty,ie=Z.toString,re=RegExp("^"+te.call(ne).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),oe=I.Symbol,se=I.Uint8Array,ae=Z.propertyIsEnumerable,le=X.splice,ue=(K=Object.keys,Y=Object,function(e){return K(Y(e))}),ce=We(I,"DataView"),pe=We(I,"Map"),fe=We(I,"Promise"),de=We(I,"Set"),he=We(I,"WeakMap"),me=We(Object,"create"),ge=Je(ce),be=Je(pe),ye=Je(fe),ve=Je(de),_e=Je(he),xe=oe?oe.prototype:void 0,we=xe?xe.valueOf:void 0,ke=xe?xe.toString:void 0;function Se(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Ce(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Ee(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Te(e){var t=-1,n=e?e.length:0;for(this.__data__=new Ee;++t<n;)this.add(e[t])}function Ae(e){this.__data__=new Ce(e)}function Ne(e,t){var n=st(e)||ot(e)?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],i=n.length,r=!!i;for(var o in e)!t&&!ne.call(e,o)||r&&("length"==o||Ge(o,i))||n.push(o);return n}function Me(e,t){for(var n=e.length;n--;)if(rt(e[n][0],t))return n;return-1}function Re(e,t,n,i){return Pe(e,function(e,r,o){t(i,e,n(e),o)}),i}Se.prototype.clear=function(){this.__data__=me?me(null):{}},Se.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Se.prototype.get=function(e){var t=this.__data__;if(me){var n=t[e];return n===o?void 0:n}return ne.call(t,e)?t[e]:void 0},Se.prototype.has=function(e){var t=this.__data__;return me?void 0!==t[e]:ne.call(t,e)},Se.prototype.set=function(e,t){return this.__data__[e]=me&&void 0===t?o:t,this},Ce.prototype.clear=function(){this.__data__=[]},Ce.prototype.delete=function(e){var t=this.__data__,n=Me(t,e);return!(n<0||(n==t.length-1?t.pop():le.call(t,n,1),0))},Ce.prototype.get=function(e){var t=this.__data__,n=Me(t,e);return n<0?void 0:t[n][1]},Ce.prototype.has=function(e){return Me(this.__data__,e)>-1},Ce.prototype.set=function(e,t){var n=this.__data__,i=Me(n,e);return i<0?n.push([e,t]):n[i][1]=t,this},Ee.prototype.clear=function(){this.__data__={hash:new Se,map:new(pe||Ce),string:new Se}},Ee.prototype.delete=function(e){return Ue(this,e).delete(e)},Ee.prototype.get=function(e){return Ue(this,e).get(e)},Ee.prototype.has=function(e){return Ue(this,e).has(e)},Ee.prototype.set=function(e,t){return Ue(this,e).set(e,t),this},Te.prototype.add=Te.prototype.push=function(e){return this.__data__.set(e,o),this},Te.prototype.has=function(e){return this.__data__.has(e)},Ae.prototype.clear=function(){this.__data__=new Ce},Ae.prototype.delete=function(e){return this.__data__.delete(e)},Ae.prototype.get=function(e){return this.__data__.get(e)},Ae.prototype.has=function(e){return this.__data__.has(e)},Ae.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Ce){var r=n.__data__;if(!pe||r.length<i-1)return r.push([e,t]),this;n=this.__data__=new Ee(r)}return n.set(e,t),this};var Oe,Le,Pe=(Oe=function(e,t){return e&&De(e,t,ht)},function(e,t){if(null==e)return e;if(!at(e))return Oe(e,t);for(var n=e.length,i=Le?n:-1,r=Object(e);(Le?i--:++i<n)&&!1!==t(r[i],i,r););return e}),De=function(e){return function(t,n,i){for(var r=-1,o=Object(t),s=i(t),a=s.length;a--;){var l=s[e?a:++r];if(!1===n(o[l],l,o))break}return t}}();function Ie(e,t){for(var n=0,i=(t=Ke(t,e)?[t]:qe(t)).length;null!=e&&n<i;)e=e[Ze(t[n++])];return n&&n==i?e:void 0}function Fe(e,t){return null!=e&&t in Object(e)}function $e(e,t,n,i,r){return e===t||(null==e||null==t||!ct(e)&&!pt(t)?e!=e&&t!=t:function(e,t,n,i,r,o){var l=st(e),u=st(t),m=p,g=p;l||(m=(m=Ve(e))==c?v:m);u||(g=(g=Ve(t))==c?v:g);var E=m==v&&!U(e),T=g==v&&!U(t),A=m==g;if(A&&!E)return o||(o=new Ae),l||dt(e)?He(e,t,n,i,r,o):function(e,t,n,i,r,o,l){switch(n){case C:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case S:return!(e.byteLength!=t.byteLength||!i(new se(e),new se(t)));case f:case d:case y:return rt(+e,+t);case h:return e.name==t.name&&e.message==t.message;case _:case w:return e==t+"";case b:var u=W;case x:var c=o&a;if(u||(u=V),e.size!=t.size&&!c)return!1;var p=l.get(e);if(p)return p==t;o|=s,l.set(e,t);var m=He(u(e),u(t),i,r,o,l);return l.delete(e),m;case k:if(we)return we.call(e)==we.call(t)}return!1}(e,t,m,n,i,r,o);if(!(r&a)){var N=E&&ne.call(e,"__wrapped__"),M=T&&ne.call(t,"__wrapped__");if(N||M){var R=N?e.value():e,O=M?t.value():t;return o||(o=new Ae),n(R,O,i,r,o)}}if(!A)return!1;return o||(o=new Ae),function(e,t,n,i,r,o){var s=r&a,l=ht(e),u=l.length,c=ht(t).length;if(u!=c&&!s)return!1;for(var p=u;p--;){var f=l[p];if(!(s?f in t:ne.call(t,f)))return!1}var d=o.get(e);if(d&&o.get(t))return d==t;var h=!0;o.set(e,t),o.set(t,e);for(var m=s;++p<u;){f=l[p];var g=e[f],b=t[f];if(i)var y=s?i(b,g,f,t,e,o):i(g,b,f,e,t,o);if(!(void 0===y?g===b||n(g,b,i,r,o):y)){h=!1;break}m||(m="constructor"==f)}if(h&&!m){var v=e.constructor,_=t.constructor;v!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof _&&_ instanceof _)&&(h=!1)}return o.delete(e),o.delete(t),h}(e,t,n,i,r,o)}(e,t,$e,n,i,r))}function je(e){return!(!ct(e)||(t=e,ee&&ee in t))&&(lt(e)||U(e)?re:R).test(Je(e));var t}function Be(e){return"function"==typeof e?e:null==e?mt:"object"==typeof e?st(e)?function(e,t){if(Ke(e)&&Ye(t))return Xe(Ze(e),t);return function(n){var i=function(e,t,n){var i=null==e?void 0:Ie(e,t);return void 0===i?n:i}(n,e);return void 0===i&&i===t?function(e,t){return null!=e&&function(e,t,n){t=Ke(t,e)?[t]:qe(t);var i,r=-1,o=t.length;for(;++r<o;){var s=Ze(t[r]);if(!(i=null!=e&&n(e,s)))break;e=e[s]}if(i)return i;return!!(o=e?e.length:0)&&ut(o)&&Ge(s,o)&&(st(e)||ot(e))}(e,t,Fe)}(n,e):$e(t,i,void 0,s|a)}}(e[0],e[1]):function(e){var t=function(e){var t=ht(e),n=t.length;for(;n--;){var i=t[n],r=e[i];t[n]=[i,r,Ye(r)]}return t}(e);if(1==t.length&&t[0][2])return Xe(t[0][0],t[0][1]);return function(n){return n===e||function(e,t,n,i){var r=n.length,o=r,l=!i;if(null==e)return!o;for(e=Object(e);r--;){var u=n[r];if(l&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++r<o;){var c=(u=n[r])[0],p=e[c],f=u[1];if(l&&u[2]){if(void 0===p&&!(c in e))return!1}else{var d=new Ae;if(i)var h=i(p,f,c,e,t,d);if(!(void 0===h?$e(f,p,i,s|a,d):h))return!1}}return!0}(n,e,t)}}(e):Ke(t=e)?(n=Ze(t),function(e){return null==e?void 0:e[n]}):function(e){return function(t){return Ie(t,e)}}(t);var t,n}function ze(e){if(n=(t=e)&&t.constructor,i="function"==typeof n&&n.prototype||Z,t!==i)return ue(e);var t,n,i,r=[];for(var o in Object(e))ne.call(e,o)&&"constructor"!=o&&r.push(o);return r}function qe(e){return st(e)?e:Qe(e)}function He(e,t,n,i,r,o){var l=r&a,u=e.length,c=t.length;if(u!=c&&!(l&&c>u))return!1;var p=o.get(e);if(p&&o.get(t))return p==t;var f=-1,d=!0,h=r&s?new Te:void 0;for(o.set(e,t),o.set(t,e);++f<u;){var m=e[f],g=t[f];if(i)var b=l?i(g,m,f,t,e,o):i(m,g,f,e,t,o);if(void 0!==b){if(b)continue;d=!1;break}if(h){if(!H(t,function(e,t){if(!h.has(t)&&(m===e||n(m,e,i,r,o)))return h.add(t)})){d=!1;break}}else if(m!==g&&!n(m,g,i,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function Ue(e,t){var n,i,r=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function We(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return je(n)?n:void 0}var Ve=function(e){return ie.call(e)};function Ge(e,t){return!!(t=null==t?u:t)&&("number"==typeof e||O.test(e))&&e>-1&&e%1==0&&e<t}function Ke(e,t){if(st(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ft(e))||(T.test(e)||!E.test(e)||null!=t&&e in Object(t))}function Ye(e){return e==e&&!ct(e)}function Xe(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}(ce&&Ve(new ce(new ArrayBuffer(1)))!=C||pe&&Ve(new pe)!=b||fe&&"[object Promise]"!=Ve(fe.resolve())||de&&Ve(new de)!=x||he&&"[object WeakMap]"!=Ve(new he))&&(Ve=function(e){var t=ie.call(e),n=t==v?e.constructor:void 0,i=n?Je(n):void 0;if(i)switch(i){case ge:return C;case be:return b;case ye:return"[object Promise]";case ve:return x;case _e:return"[object WeakMap]"}return t});var Qe=it(function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(ft(e))return ke?ke.call(e):"";var t=e+"";return"0"==t&&1/e==-l?"-0":t}(t);var n=[];return A.test(e)&&n.push(""),e.replace(N,function(e,t,i,r){n.push(i?r.replace(M,"$1"):t||e)}),n});function Ze(e){if("string"==typeof e||ft(e))return e;var t=e+"";return"0"==t&&1/e==-l?"-0":t}function Je(e){if(null!=e){try{return te.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var et,tt,nt=(et=function(e,t,n){e[n]=t},function(e,t){var n=st(e)?q:Re,i=tt?tt():{};return n(e,et,Be(t),i)});function it(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(r);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=e.apply(this,i);return n.cache=o.set(r,s),s};return n.cache=new(it.Cache||Ee),n}function rt(e,t){return e===t||e!=e&&t!=t}function ot(e){return function(e){return pt(e)&&at(e)}(e)&&ne.call(e,"callee")&&(!ae.call(e,"callee")||ie.call(e)==c)}it.Cache=Ee;var st=Array.isArray;function at(e){return null!=e&&ut(e.length)&&!lt(e)}function lt(e){var t=ct(e)?ie.call(e):"";return t==m||t==g}function ut(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=u}function ct(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function pt(e){return!!e&&"object"==typeof e}function ft(e){return"symbol"==typeof e||pt(e)&&ie.call(e)==k}var dt=z?function(e){return function(t){return e(t)}}(z):function(e){return pt(e)&&ut(e.length)&&!!L[ie.call(e)]};function ht(e){return at(e)?Ne(e):ze(e)}function mt(e){return e}n.exports=nt}).call(this,n(12),n(118)(e))},function(e,t,n){var i,r,o,s,a,l,u,c;r=n(205),({a:o,button:s,div:a,i:l,p:u,span:c}=ReactDOMFactories),i=reactCreateClass({displayName:"HelpSidebar",mixins:[mixins.ViewMixin,mixins.TooltipMixin],propTypes:{help:PropTypes.array.isRequired,restartHelp:PropTypes.func.isRequired,setSidebar:PropTypes.func.isRequired},getInitialState:function(){return{topic:null,help:[]}},componentDidMount:function(){return this.unsubscribe_tabs=r.listen(this.onTabsChange),this.setState({help:this.filterHelp(this.props.help)}),this.initializeTooltips("#left-sidebar")},componentWillUnmount:function(){return this.unsubscribe_tabs()},onTabsChange:function(e){return this.setState({help:this.filterHelp(this.props.help)})},filterHelp:function(e){return _.reject(e,function(e){return e.element&&!document.querySelector(e.element)})},render:function(){var e,t;return a({id:"left-sidebar"},a({className:"left-sidebar__header"},a({className:"left-sidebar__header-title"},this.state.topic?this.state.topic.title:"Help"),s({className:"btn btn-text btn-gray btn-circle left-sidebar__header-icon","data-toggle":"tooltip","data-placement":"auto bottom","data-original-title":`${this.state.topic?"Return to Help Topics":"Close Help"}`,onClick:this.state.topic?()=>this.setState({topic:null}):this.props.setSidebar.bind(null,"workspace")},l({className:`fal ${this.state.topic?"fa-arrow-left":"fa-times"}`}))),this.state.topic?a({className:"left-sidebar__contents"},a({id:"help-sidebar"},a({className:"help-topic-details"},this.markdownElm({contents:this.state.topic.contents,class:"help-sidebar-contents"})))):a({className:"left-sidebar__contents"},a({id:"help-sidebar"},a({className:"help-topics"},function(){var n,i,r,o;for(r=_.sortBy(_.filter(this.state.help,function(e){return e.contents}),"title"),o=[],e=n=0,i=r.length;n<i;e=++n)t=r[e],o.push(a({className:"help-topic",key:e},a({className:"help-topic-title",onClick:(e=>this.setState({topic:e})).bind(null,t)},t.title)));return o}.call(this)))),this.state.topic?void 0:a({className:"left-sidebar__footer"},s({className:"btn btn-text btn-blue",onClick:this.props.restartHelp.bind(null,!0)},"Start Help Tour")))}}),e.exports=i},function(e,t){var n,i,r,o,s,a;({a:i,div:r,i:o,img:s,span:a}=ReactDOMFactories),n=reactCreateClass({displayName:"Maintenance",mixins:[mixins.ImageMixin],propTypes:{internal:PropTypes.bool.isRequired,course:PropTypes.object},render:function(){return r({id:"maintenance"},this.props.internal&&this.props.course?i({href:`/catalog/${this.props.course.slug}`,className:"back-arrow"},o({className:"far fa-arrow-left"})):void 0,r({className:"centered"},r({className:"centered-inner"},r({className:"message-text"},"This lesson is undergoing maintenance. Please check back soon!"))),this.props.internal?void 0:r({className:"powered-by"},a({className:"text"},"Powered by"),i({href:"https://next.tech",target:"_blank"},s({className:"nexttech",src:this.imgSource("logos/nextTech_full_transparent_allWhite.svg")}))))}}),e.exports=n},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h,m,g,b,y,v,x,w,k,S,C=[].indexOf;n(107),S=n(320),m=S.default,n(71),f=n(23),i=n(43),o=n(136),d=n(15),y=n(205),r=n(357),s=n(751),a=n(752),l=n(753),u=n(754),p=n(755),h=n(756),g=n(777),b=n(308),v=n(778),x=n(783),({div:w,i:k}=ReactDOMFactories),React.createFactory(Bootstrap.Modal),c=reactCreateClass({displayName:"Pane",mixins:[b,Reflux.connect(y,"tabs"),Reflux.connectFilter(i,"container_token",function(e){return e.token}),Reflux.connectFilter(d,"shortcut_pane",function(e){return e.shortcut_pane}),Reflux.connectFilter(d,"tabs_enabled",function(e){return e.tabs_enabled}),Reflux.connectFilter(o,"path",function(e){return e.path}),Reflux.connectFilter(d,"hidden_files",function(e){return e.hidden_files}),Reflux.connectFilter(d,"lite_mode_code_editor",function(e){return e.lite_mode_code_editor})],propTypes:{access_token:PropTypes.string.isRequired,disabled:PropTypes.func.isRequired,editing:PropTypes.bool.isRequired,file_actions_enabled:PropTypes.bool.isRequired,focusable:PropTypes.bool.isRequired,in_content_editor:PropTypes.bool.isRequired,pane_position:PropTypes.number.isRequired,performAction:PropTypes.func.isRequired,reviewing:PropTypes.bool.isRequired,toggleActionsModal:PropTypes.func.isRequired,toggleSidebar:PropTypes.func.isRequired},getInitialState:function(){return{active_tab:null,tabs_in_this_pane:[],visible_tabs:[]}},componentWillMount:function(){return this.tabsInThisPane(this.state.tabs||[]),this.setState({tabs_in_this_pane:this.tabsInThisPane(this.state.tabs||[]),visible_tabs:_.filter(this.tabsInThisPane(this.state.tabs||[]),function(e){return!e.hidden})}),this.unsubscribe_tabs=y.listen(this.onTabsChange)},componentWillUnmount:function(){return this.unsubscribe_tabs()},onTabsChange:function(e){var t;return t=this.tabsInThisPane(e),this.setState({active_tab:_.find(t,function(e){return e.active}),tabs_in_this_pane:t,visible_tabs:_.filter(t,function(e){return!e.hidden})},()=>this.updateShortcutPane(e))},updateShortcutPane:function(e){var t,n,i,r;if(1===this.props.pane_position){if(i=["terminal","web-browser","sql-results","python-gui"],t=_.filter(e,function(e){return e.active}),(r=_.filter(t,function(e){var t;return t=e.tab_type,C.call(i,t)>=0})).length>0)return(n=_.max(_.pluck(r,"pane_position")))!==this.state.shortcut_pane?f.setProperty("shortcut_pane",n):void 0;f.setProperty("shortcut_pane",null)}},tabsInThisPane:function(e){return _.sortBy(_.reject(e,e=>e.pane_position!==this.props.pane_position||e.file&&this.hidden(e.detail)),"position")},component:function(e){var t;return t=Boolean(this.state.active_tab&&this.state.active_tab.id!==e.id||e.hidden),w({id:`component-${e.tab_type}-${e.id}`,key:`component-${e.id}`,className:`pane-components__pane-component ${t?"hide":""}`},function(){switch(e.tab_type){case"file-binary":return this.binaryFile(e);case"file-editor":return this.editor(e,t);case"file-large":return this.largeFile(e);case"full-gui":return this.fullGUI();case"file-image":case"file-video":return this.mediaViewer(e);case"jupyter-notebook":return this.jupyterNotebook(e);case"python-gui":return this.pythonGUI(e,t);case"sql-results":return this.sqlResults(e,t);case"terminal":return this.terminal(e,t);case"web-browser":return this.webBrowser(e,t)}}.call(this))},binaryFile:function(e){return this.invalidFile(e,"File contains binary data and cannot be displayed.")},editor:function(e,t){return React.createElement(r,{access_token:this.props.access_token,file_actions_enabled:this.props.file_actions_enabled,focusable:this.props.focusable,hidden:t,in_content_editor:this.props.in_content_editor,pane_position:e.pane_position,reviewing:this.props.reviewing,tab:e,toggleActionsModal:this.props.toggleActionsModal})},fullGUI:function(){return React.createElement(s)},invalidFile:function(e,t){return React.createElement(a,{access_token:this.props.access_token,file_actions_enabled:this.props.file_actions_enabled,tab:e,toggleActionsModal:this.props.toggleActionsModal,message:t})},jupyterNotebook:function(e){return React.createElement(l,{tab_id:e.id})},largeFile:function(e){return this.invalidFile(e,"File exceeds 5MB and cannot be edited without downloading it.")},mediaViewer:function(e){return React.createElement(u,{access_token:this.props.access_token,file_actions_enabled:this.props.file_actions_enabled,tab:e,toggleActionsModal:this.props.toggleActionsModal})},pythonGUI:function(e,t){return React.createElement(h,{access_token:this.props.access_token,hidden:t,tab:e})},sqlResults:function(e,t){return React.createElement(g,{hidden:t,tab:e})},terminal:function(e,t){return React.createElement(v,{access_token:this.props.access_token,disabled:this.props.disabled(),editing:this.props.editing,hidden:t,in_content_editor:this.props.in_content_editor,performAction:this.props.performAction,tab:e})},webBrowser:function(e,t){return React.createElement(x,{access_token:this.props.access_token,editing:this.props.editing,hidden:t,in_content_editor:this.props.in_content_editor,tab:e})},handleResize:function(e,t){var n;if(n=e<=100||t<=125,this.state.ui_hidden!==n)return this.setState({ui_hidden:n})},hiddenUiIcon:function(){return this.state.active_tab?{"file-binary":"fa-question","file-editor":"fa-code","full-gui":"fa-desktop","file-image":"fa-image","jupyter-notebook":"fa-file-code","python-gui":"fa-paint-brush","sql-results":"fa-database",terminal:"fa-terminal","file-video":"fa-video","web-browser":"fa-globe"}[this.state.active_tab.tab_type]:"fa-laptop-code"},render:function(){var e;return w({id:`pane${this.props.pane_position}`},React.createElement(m,{handleWidth:!0,handleHeight:!0,onResize:this.handleResize}),this.state.ui_hidden?w({className:"hidden-ui"},k({className:`hidden-ui-icon fal ${this.hiddenUiIcon()}`})):void 0,w({className:"pane-components"},React.createElement(p,{access_token:this.props.access_token,editing:this.props.editing,file_actions_enabled:this.props.file_actions_enabled,in_content_editor:this.props.in_content_editor,pane_position:this.props.pane_position,reviewing:this.props.reviewing,tabs:this.state.visible_tabs,toggleActionsModal:this.props.toggleActionsModal,toggleSidebar:this.props.toggleSidebar}),this.state.container_token&&0===this.state.visible_tabs.length?w({className:"empty-pane"},w({className:"empty-pane-inner"},this.props.reviewing?"Please open a file to review.":1===this.props.pane_position?this.state.tabs_enabled.length||this.props.editing?"Please create a tab or open a file":this.props.file_actions_enabled?"Please create or open a file":"Please open a file":this.state.tabs_enabled.length||this.props.editing?"Please create a tab":void 0)):void 0,function(){var t,n,i,r;for(r=[],t=0,n=(i=this.state.tabs_in_this_pane).length;t<n;t++)e=i[t],r.push(this.component(e));return r}.call(this)))}}),e.exports=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(1),a=c(s),l=c(n(0)),u=n(740);function c(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={expandChildHeight:0,expandChildWidth:0,expandScrollLeft:0,expandScrollTop:0,shrinkScrollTop:0,shrinkScrollLeft:0,lastWidth:0,lastHeight:0},e.reset=e.reset.bind(e),e.handleScroll=e.handleScroll.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),o(t,[{key:"componentWillMount",value:function(){this.forceUpdate()}},{key:"componentDidMount",value:function(){var e=this.containerSize(),t=r(e,2),n=t[0],i=t[1];this.reset(n,i),this.props.onResize(n,i)}},{key:"shouldComponentUpdate",value:function(e,t){return this.props!==e||this.state!==t}},{key:"componentDidUpdate",value:function(){this.expand.scrollLeft=this.expand.scrollWidth,this.expand.scrollTop=this.expand.scrollHeight,this.shrink.scrollLeft=this.shrink.scrollWidth,this.shrink.scrollTop=this.shrink.scrollHeight}},{key:"containerSize",value:function(){return[this.props.handleWidth&&this.container.parentElement.offsetWidth,this.props.handleHeight&&this.container.parentElement.offsetHeight]}},{key:"reset",value:function(e,t){if("undefined"!=typeof window){var n=this.container.parentElement,i="static";n.currentStyle?i=n.currentStyle.position:window.getComputedStyle&&(i=window.getComputedStyle(n).position),"static"===i&&(n.style.position="relative"),this.setState({expandChildHeight:this.expand.offsetHeight+10,expandChildWidth:this.expand.offsetWidth+10,lastWidth:e,lastHeight:t})}}},{key:"handleScroll",value:function(e){if("undefined"!=typeof window){e.preventDefault(),e.stopPropagation();var t=this.state,n=this.containerSize(),i=r(n,2),o=i[0],s=i[1];o===t.lastWidth&&s===t.lastHeight||this.props.onResize(o,s),this.reset(o,s)}}},{key:"render",value:function(){var e=this,t=this.state,n=i({},u.expandChildStyle,{width:t.expandChildWidth,height:t.expandChildHeight});return a.default.createElement("div",{style:u.parentStyle,ref:function(t){e.container=t}},a.default.createElement("div",{style:u.parentStyle,onScroll:this.handleScroll,ref:function(t){e.expand=t}},a.default.createElement("div",{style:n})),a.default.createElement("div",{style:u.parentStyle,onScroll:this.handleScroll,ref:function(t){e.shrink=t}},a.default.createElement("div",{style:u.shrinkChildStyle})))}}]),t}();t.default=p,p.propTypes={handleWidth:l.default.bool,handleHeight:l.default.bool,onResize:l.default.func},p.defaultProps={handleWidth:!1,handleHeight:!1,onResize:function(e){return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.parentStyle={position:"absolute",left:0,top:0,right:0,bottom:0,overflow:"hidden",zIndex:-1,visibility:"hidden"},t.shrinkChildStyle={position:"absolute",left:0,top:0,width:"200%",height:"200%"},t.expandChildStyle={position:"absolute",left:0,top:0,width:"100%",height:"100%"}},function(e,t,n){!function(e){"use strict";var t={},n=/[^\s\u00a0]/,i=e.Pos;function r(e){var t=e.search(n);return-1==t?0:t}function o(e,t){var n=e.getMode();return!1!==n.useInnerComments&&n.innerMode?e.getModeAt(t):n}e.commands.toggleComment=function(e){e.toggleComment()},e.defineExtension("toggleComment",function(e){e||(e=t);for(var n=1/0,r=this.listSelections(),o=null,s=r.length-1;s>=0;s--){var a=r[s].from(),l=r[s].to();a.line>=n||(l.line>=n&&(l=i(n,0)),n=a.line,null==o?this.uncomment(a,l,e)?o="un":(this.lineComment(a,l,e),o="line"):"un"==o?this.uncomment(a,l,e):this.lineComment(a,l,e))}}),e.defineExtension("lineComment",function(e,s,a){a||(a=t);var l=this,u=o(l,e),c=l.getLine(e.line);if(null!=c&&(p=e,f=c,!/\bstring\b/.test(l.getTokenTypeAt(i(p.line,0)))||/^[\'\"\`]/.test(f))){var p,f,d=a.lineComment||u.lineComment;if(d){var h=Math.min(0!=s.ch||s.line==e.line?s.line+1:s.line,l.lastLine()+1),m=null==a.padding?" ":a.padding,g=a.commentBlankLines||e.line==s.line;l.operation(function(){if(a.indent){for(var t=null,o=e.line;o<h;++o){var s=l.getLine(o),u=s.slice(0,r(s));(null==t||t.length>u.length)&&(t=u)}for(var o=e.line;o<h;++o){var s=l.getLine(o),c=t.length;(g||n.test(s))&&(s.slice(0,c)!=t&&(c=r(s)),l.replaceRange(t+d+m,i(o,0),i(o,c)))}}else for(var o=e.line;o<h;++o)(g||n.test(l.getLine(o)))&&l.replaceRange(d+m,i(o,0))})}else(a.blockCommentStart||u.blockCommentStart)&&(a.fullLines=!0,l.blockComment(e,s,a))}}),e.defineExtension("blockComment",function(e,r,s){s||(s=t);var a=this,l=o(a,e),u=s.blockCommentStart||l.blockCommentStart,c=s.blockCommentEnd||l.blockCommentEnd;if(u&&c){if(!/\bcomment\b/.test(a.getTokenTypeAt(i(e.line,0)))){var p=Math.min(r.line,a.lastLine());p!=e.line&&0==r.ch&&n.test(a.getLine(p))&&--p;var f=null==s.padding?" ":s.padding;e.line>p||a.operation(function(){if(0!=s.fullLines){var t=n.test(a.getLine(p));a.replaceRange(f+c,i(p)),a.replaceRange(u+f,i(e.line,0));var o=s.blockCommentLead||l.blockCommentLead;if(null!=o)for(var d=e.line+1;d<=p;++d)(d!=p||t)&&a.replaceRange(o+f,i(d,0))}else a.replaceRange(c,r),a.replaceRange(u,e)})}}else(s.lineComment||l.lineComment)&&0!=s.fullLines&&a.lineComment(e,r,s)}),e.defineExtension("uncomment",function(e,r,s){s||(s=t);var a,l=this,u=o(l,e),c=Math.min(0!=r.ch||r.line==e.line?r.line:r.line-1,l.lastLine()),p=Math.min(e.line,c),f=s.lineComment||u.lineComment,d=[],h=null==s.padding?" ":s.padding;e:if(f){for(var m=p;m<=c;++m){var g=l.getLine(m),b=g.indexOf(f);if(b>-1&&!/comment/.test(l.getTokenTypeAt(i(m,b+1)))&&(b=-1),-1==b&&n.test(g))break e;if(b>-1&&n.test(g.slice(0,b)))break e;d.push(g)}if(l.operation(function(){for(var e=p;e<=c;++e){var t=d[e-p],n=t.indexOf(f),r=n+f.length;n<0||(t.slice(r,r+h.length)==h&&(r+=h.length),a=!0,l.replaceRange("",i(e,n),i(e,r)))}}),a)return!0}var y=s.blockCommentStart||u.blockCommentStart,v=s.blockCommentEnd||u.blockCommentEnd;if(!y||!v)return!1;var _=s.blockCommentLead||u.blockCommentLead,x=l.getLine(p),w=x.indexOf(y);if(-1==w)return!1;var k=c==p?x:l.getLine(c),S=k.indexOf(v,c==p?w+y.length:0),C=i(p,w+1),E=i(c,S+1);if(-1==S||!/comment/.test(l.getTokenTypeAt(C))||!/comment/.test(l.getTokenTypeAt(E))||l.getRange(C,E,"\n").indexOf(v)>-1)return!1;var T=x.lastIndexOf(y,e.ch),A=-1==T?-1:x.slice(0,e.ch).indexOf(v,T+y.length);if(-1!=T&&-1!=A&&A+v.length!=e.ch)return!1;A=k.indexOf(v,r.ch);var N=k.slice(r.ch).lastIndexOf(y,A-r.ch);return T=-1==A||-1==N?-1:r.ch+N,(-1==A||-1==T||T==r.ch)&&(l.operation(function(){l.replaceRange("",i(c,S-(h&&k.slice(S-h.length,S)==h?h.length:0)),i(c,S+v.length));var e=w+y.length;if(h&&x.slice(e,e+h.length)==h&&(e+=h.length),l.replaceRange("",i(p,w),i(p,e)),_)for(var t=p+1;t<=c;++t){var r=l.getLine(t),o=r.indexOf(_);if(-1!=o&&!n.test(r.slice(0,o))){var s=o+_.length;h&&r.slice(s,s+h.length)==h&&(s+=h.length),l.replaceRange("",i(t,o),i(t,s))}}}),!0)})}(n(8))},function(e,t,n){!function(e){function t(t){if(t.getOption("disableInput"))return e.Pass;for(var i,r=t.listSelections(),o=[],s=0;s<r.length;s++){var a=r[s].head;if(!/\bcomment\b/.test(t.getTokenTypeAt(a)))return e.Pass;var l=t.getModeAt(a);if(i){if(i!=l)return e.Pass}else i=l;var u=null;if(i.blockCommentStart&&i.blockCommentContinue){var c=t.getLine(a.line).slice(0,a.ch),p=c.lastIndexOf(i.blockCommentEnd);if(-1!=p&&p==a.ch-i.blockCommentEnd.length);else if((d=c.lastIndexOf(i.blockCommentStart))>-1&&d>p){if(u=c.slice(0,d),/\S/.test(u)){u="";for(var f=0;f<d;++f)u+=" "}}else(d=c.indexOf(i.blockCommentContinue))>-1&&!/\S/.test(c.slice(0,d))&&(u=c.slice(0,d));null!=u&&(u+=i.blockCommentContinue)}if(null==u&&i.lineComment&&n(t)){var c=t.getLine(a.line),d=c.indexOf(i.lineComment);d>-1&&(u=c.slice(0,d),/\S/.test(u)?u=null:u+=i.lineComment+c.slice(d+i.lineComment.length).match(/^\s*/)[0])}if(null==u)return e.Pass;o[s]="\n"+u}t.operation(function(){for(var e=r.length-1;e>=0;e--)t.replaceRange(o[e],r[e].from(),r[e].to(),"+insert")})}function n(e){var t=e.getOption("continueComments");return!t||"object"!=typeof t||!1!==t.continueLineComment}e.defineOption("continueComments",null,function(n,i,r){if(r&&r!=e.Init&&n.removeKeyMap("continueComment"),i){var o="Enter";"string"==typeof i?o=i:"object"==typeof i&&i.key&&(o=i.key);var s={name:"continueComment"};s[o]=t,n.addKeyMap(s)}})}(n(8))},function(e,t,n){!function(e){var t={pairs:"()[]{}''\"\"",triples:"",explode:"[]{}"},n=e.Pos;function i(e,n){return"pairs"==n&&"string"==typeof e?e:"object"==typeof e&&null!=e[n]?e[n]:t[n]}e.defineOption("autoCloseBrackets",!1,function(t,n,s){s&&s!=e.Init&&(t.removeKeyMap(r),t.state.closeBrackets=null),n&&(o(i(n,"pairs")),t.state.closeBrackets=n,t.addKeyMap(r))});var r={Backspace:function(t){var r=a(t);if(!r||t.getOption("disableInput"))return e.Pass;for(var o=i(r,"pairs"),s=t.listSelections(),u=0;u<s.length;u++){if(!s[u].empty())return e.Pass;var c=l(t,s[u].head);if(!c||o.indexOf(c)%2!=0)return e.Pass}for(var u=s.length-1;u>=0;u--){var p=s[u].head;t.replaceRange("",n(p.line,p.ch-1),n(p.line,p.ch+1),"+delete")}},Enter:function(t){var n=a(t),r=n&&i(n,"explode");if(!r||t.getOption("disableInput"))return e.Pass;for(var o=t.listSelections(),s=0;s<o.length;s++){if(!o[s].empty())return e.Pass;var u=l(t,o[s].head);if(!u||r.indexOf(u)%2!=0)return e.Pass}t.operation(function(){var e=t.lineSeparator()||"\n";t.replaceSelection(e+e,null),t.execCommand("goCharLeft"),o=t.listSelections();for(var n=0;n<o.length;n++){var i=o[n].head.line;t.indentLine(i,null,!0),t.indentLine(i+1,null,!0)}})}};function o(e){for(var t=0;t<e.length;t++){var n=e.charAt(t),i="'"+n+"'";r[i]||(r[i]=s(n))}}function s(t){return function(r){return function(t,r){var o=a(t);if(!o||t.getOption("disableInput"))return e.Pass;var s=i(o,"pairs"),l=s.indexOf(r);if(-1==l)return e.Pass;for(var c,p=i(o,"triples"),f=s.charAt(l+1)==r,d=t.listSelections(),h=l%2==0,m=0;m<d.length;m++){var g,b=d[m],y=b.head,v=t.getRange(y,n(y.line,y.ch+1));if(h&&!b.empty())g="surround";else if(!f&&h||v!=r)if(f&&y.ch>1&&p.indexOf(r)>=0&&t.getRange(n(y.line,y.ch-2),y)==r+r){if(y.ch>2&&/\bstring/.test(t.getTokenTypeAt(n(y.line,y.ch-2))))return e.Pass;g="addFour"}else if(f){var _=0==y.ch?" ":t.getRange(n(y.line,y.ch-1),y);if(e.isWordChar(v)||_==r||e.isWordChar(_))return e.Pass;g="both"}else{if(!h)return e.Pass;g="both"}else g=f&&u(t,y)?"both":p.indexOf(r)>=0&&t.getRange(y,n(y.line,y.ch+3))==r+r+r?"skipThree":"skip";if(c){if(c!=g)return e.Pass}else c=g}var x=l%2?s.charAt(l-1):r,w=l%2?r:s.charAt(l+1);t.operation(function(){if("skip"==c)t.execCommand("goCharRight");else if("skipThree"==c)for(var i=0;i<3;i++)t.execCommand("goCharRight");else if("surround"==c){for(var r=t.getSelections(),i=0;i<r.length;i++)r[i]=x+r[i]+w;t.replaceSelections(r,"around"),r=t.listSelections().slice();for(var i=0;i<r.length;i++)r[i]=(o=r[i],s=void 0,s=e.cmpPos(o.anchor,o.head)>0,{anchor:new n(o.anchor.line,o.anchor.ch+(s?-1:1)),head:new n(o.head.line,o.head.ch+(s?1:-1))});t.setSelections(r)}else"both"==c?(t.replaceSelection(x+w,null),t.triggerElectric(x+w),t.execCommand("goCharLeft")):"addFour"==c&&(t.replaceSelection(x+x+x+x,"before"),t.execCommand("goCharRight"));var o,s})}(r,t)}}function a(e){var t=e.state.closeBrackets;if(!t||t.override)return t;var n=e.getModeAt(e.getCursor());return n.closeBrackets||t}function l(e,t){var i=e.getRange(n(t.line,t.ch-1),n(t.line,t.ch+1));return 2==i.length?i:null}function u(e,t){var i=e.getTokenAt(n(t.line,t.ch+1));return/\bstring/.test(i.type)&&i.start==t.ch&&(0==t.ch||!/\bstring/.test(e.getTokenTypeAt(t)))}o(t.pairs+"`")}(n(8))},function(e,t,n){!function(e){"use strict";function t(e,t){var n=Number(t);return/^[-+]/.test(t)?e.getCursor().line+n:n-1}e.commands.jumpToLine=function(e){var n=e.getCursor();!function(e,t,n,i,r){e.openDialog?e.openDialog(t,r,{value:i,selectValueOnOpen:!0}):r(prompt(n,i))}(e,function(e){return e.phrase("Jump to line:")+' <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">'+e.phrase("(Use line:column or scroll% syntax)")+"</span>"}(e),e.phrase("Jump to line:"),n.line+1+":"+n.ch,function(i){var r;if(i)if(r=/^\s*([\+\-]?\d+)\s*\:\s*(\d+)\s*$/.exec(i))e.setCursor(t(e,r[1]),Number(r[2]));else if(r=/^\s*([\+\-]?\d+(\.\d+)?)\%\s*/.exec(i)){var o=Math.round(e.lineCount()*Number(r[1])/100);/^[-+]/.test(r[1])&&(o=n.line+o+1),e.setCursor(o-1,n.ch)}else(r=/^\s*\:?\s*([\+\-]?\d+)\s*/.exec(i))&&e.setCursor(t(e,r[1]),n.ch)})},e.keyMap.default["Alt-G"]="jumpToLine"}(n(8),n(329))},function(e,t,n){!function(e){"use strict";function t(e,t,n,i){this.cm=e,this.options=i;var r={listenForChanges:!1};for(var o in i)r[o]=i[o];r.className||(r.className="CodeMirror-search-match"),this.annotation=e.annotateScrollbar(r),this.query=t,this.caseFold=n,this.gap={from:e.firstLine(),to:e.lastLine()+1},this.matches=[],this.update=null,this.findMatches(),this.annotation.update(this.matches);var s=this;e.on("change",this.changeHandler=function(e,t){s.onChange(t)})}function n(e,t,n){return e<=t?e:Math.max(t,e+n)}e.defineExtension("showMatchesOnScrollbar",function(e,n,i){return"string"==typeof i&&(i={className:i}),i||(i={}),new t(this,e,n,i)}),t.prototype.findMatches=function(){if(this.gap){for(var t=0;t<this.matches.length;t++){var n=this.matches[t];if(n.from.line>=this.gap.to)break;n.to.line>=this.gap.from&&this.matches.splice(t--,1)}for(var i=this.cm.getSearchCursor(this.query,e.Pos(this.gap.from,0),this.caseFold),r=this.options&&this.options.maxMatches||1e3;i.findNext();){var n={from:i.from(),to:i.to()};if(n.from.line>=this.gap.to)break;if(this.matches.splice(t++,0,n),this.matches.length>r)break}this.gap=null}},t.prototype.onChange=function(t){var i=t.from.line,r=e.changeEnd(t).line,o=r-t.to.line;if(this.gap?(this.gap.from=Math.min(n(this.gap.from,i,o),t.from.line),this.gap.to=Math.max(n(this.gap.to,i,o),t.from.line)):this.gap={from:t.from.line,to:r+1},o)for(var s=0;s<this.matches.length;s++){var a=this.matches[s],l=n(a.from.line,i,o);l!=a.from.line&&(a.from=e.Pos(l,a.from.ch));var u=n(a.to.line,i,o);u!=a.to.line&&(a.to=e.Pos(u,a.to.ch))}clearTimeout(this.update);var c=this;this.update=setTimeout(function(){c.updateAfterChange()},250)},t.prototype.updateAfterChange=function(){this.findMatches(),this.annotation.update(this.matches)},t.prototype.clear=function(){this.cm.off("change",this.changeHandler),this.annotation.clear()}}(n(8),n(321),n(746))},function(e,t,n){!function(e){"use strict";function t(e,t){function n(e){clearTimeout(i.doRedraw),i.doRedraw=setTimeout(function(){i.redraw()},e)}this.cm=e,this.options=t,this.buttonHeight=t.scrollButtonHeight||e.getOption("scrollButtonHeight"),this.annotations=[],this.doRedraw=this.doUpdate=null,this.div=e.getWrapperElement().appendChild(document.createElement("div")),this.div.style.cssText="position: absolute; right: 0; top: 0; z-index: 7; pointer-events: none",this.computeScale();var i=this;e.on("refresh",this.resizeHandler=function(){clearTimeout(i.doUpdate),i.doUpdate=setTimeout(function(){i.computeScale()&&n(20)},100)}),e.on("markerAdded",this.resizeHandler),e.on("markerCleared",this.resizeHandler),!1!==t.listenForChanges&&e.on("change",this.changeHandler=function(){n(250)})}e.defineExtension("annotateScrollbar",function(e){return"string"==typeof e&&(e={className:e}),new t(this,e)}),e.defineOption("scrollButtonHeight",0),t.prototype.computeScale=function(){var e=this.cm,t=(e.getWrapperElement().clientHeight-e.display.barHeight-2*this.buttonHeight)/e.getScrollerElement().scrollHeight;if(t!=this.hScale)return this.hScale=t,!0},t.prototype.update=function(e){this.annotations=e,this.redraw()},t.prototype.redraw=function(e){!1!==e&&this.computeScale();var t=this.cm,n=this.hScale,i=document.createDocumentFragment(),r=this.annotations,o=t.getOption("lineWrapping"),s=o&&1.5*t.defaultTextHeight(),a=null,l=null;function u(e,n){if(a!=e.line&&(a=e.line,l=t.getLineHandle(a)),l.widgets&&l.widgets.length||o&&l.height>s)return t.charCoords(e,"local")[n?"top":"bottom"];var i=t.heightAtLine(l,"local");return i+(n?0:l.height)}var c=t.lastLine();if(t.display.barWidth)for(var p,f=0;f<r.length;f++){var d=r[f];if(!(d.to.line>c)){for(var h=p||u(d.from,!0)*n,m=u(d.to,!1)*n;f<r.length-1&&!(r[f+1].to.line>c)&&!((p=u(r[f+1].from,!0)*n)>m+.9);)d=r[++f],m=u(d.to,!1)*n;if(m!=h){var g=Math.max(m-h,3),b=i.appendChild(document.createElement("div"));b.style.cssText="position: absolute; right: 0px; width: "+Math.max(t.display.barWidth-1,2)+"px; top: "+(h+this.buttonHeight)+"px; height: "+g+"px",b.className=this.options.className,d.id&&b.setAttribute("annotation-id",d.id)}}}this.div.textContent="",this.div.appendChild(i)},t.prototype.clear=function(){this.cm.off("refresh",this.resizeHandler),this.cm.off("markerAdded",this.resizeHandler),this.cm.off("markerCleared",this.resizeHandler),this.changeHandler&&this.cm.off("change",this.changeHandler),this.div.parentNode.removeChild(this.div)}}(n(8))},function(e,t,n){!function(e){"use strict";function t(){this.posFrom=this.posTo=this.lastQuery=this.query=null,this.overlay=null}function n(e){return e.state.search||(e.state.search=new t)}function i(e){return"string"==typeof e&&e==e.toLowerCase()}function r(e,t,n){return e.getSearchCursor(t,n,{caseFold:i(t),multiline:!0})}function o(e,t,n,i,r){e.openDialog?e.openDialog(t,r,{value:i,selectValueOnOpen:!0}):r(prompt(n,i))}function s(e){return e.replace(/\\(.)/g,function(e,t){return"n"==t?"\n":"r"==t?"\r":t})}function a(e){var t=e.match(/^\/(.*)\/([a-z]*)$/);if(t)try{e=new RegExp(t[1],-1==t[2].indexOf("i")?"":"i")}catch(e){}else e=s(e);return("string"==typeof e?""==e:e.test(""))&&(e=/x^/),e}function l(e,t,n){t.queryText=n,t.query=a(n),e.removeOverlay(t.overlay,i(t.query)),t.overlay=function(e,t){return"string"==typeof e?e=new RegExp(e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),t?"gi":"g"):e.global||(e=new RegExp(e.source,e.ignoreCase?"gi":"g")),{token:function(t){e.lastIndex=t.pos;var n=e.exec(t.string);if(n&&n.index==t.pos)return t.pos+=n[0].length||1,"searching";n?t.pos=n.index:t.skipToEnd()}}}(t.query,i(t.query)),e.addOverlay(t.overlay),e.showMatchesOnScrollbar&&(t.annotate&&(t.annotate.clear(),t.annotate=null),t.annotate=e.showMatchesOnScrollbar(t.query,i(t.query)))}function u(t,i,r,s){var a=n(t);if(a.query)return c(t,i);var u=t.getSelection()||a.lastQuery;if(u instanceof RegExp&&"x^"==u.source&&(u=null),r&&t.openDialog){var d=null,h=function(n,i){e.e_stop(i),n&&(n!=a.queryText&&(l(t,a,n),a.posFrom=a.posTo=t.getCursor()),d&&(d.style.opacity=1),c(t,i.shiftKey,function(e,n){var i;n.line<3&&document.querySelector&&(i=t.display.wrapper.querySelector(".CodeMirror-dialog"))&&i.getBoundingClientRect().bottom-4>t.cursorCoords(n,"window").top&&((d=i).style.opacity=.4)}))};!function(e,t,n,i,r){e.openDialog(t,i,{value:n,selectValueOnOpen:!0,closeOnEnter:!1,onClose:function(){p(e)},onKeyDown:r})}(t,f(t),u,h,function(i,r){var o=e.keyName(i),s=t.getOption("extraKeys"),a=s&&s[o]||e.keyMap[t.getOption("keyMap")][o];"findNext"==a||"findPrev"==a||"findPersistentNext"==a||"findPersistentPrev"==a?(e.e_stop(i),l(t,n(t),r),t.execCommand(a)):"find"!=a&&"findPersistent"!=a||(e.e_stop(i),h(r,i))}),s&&u&&(l(t,a,u),c(t,i))}else o(t,f(t),"Search for:",u,function(e){e&&!a.query&&t.operation(function(){l(t,a,e),a.posFrom=a.posTo=t.getCursor(),c(t,i)})})}function c(t,i,o){t.operation(function(){var s=n(t),a=r(t,s.query,i?s.posFrom:s.posTo);(a.find(i)||(a=r(t,s.query,i?e.Pos(t.lastLine()):e.Pos(t.firstLine(),0))).find(i))&&(t.setSelection(a.from(),a.to()),t.scrollIntoView({from:a.from(),to:a.to()},20),s.posFrom=a.from(),s.posTo=a.to(),o&&o(a.from(),a.to()))})}function p(e){e.operation(function(){var t=n(e);t.lastQuery=t.query,t.query&&(t.query=t.queryText=null,e.removeOverlay(t.overlay),t.annotate&&(t.annotate.clear(),t.annotate=null))})}function f(e){return'<span class="CodeMirror-search-label">'+e.phrase("Search:")+'</span> <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">'+e.phrase("(Use /re/ syntax for regexp search)")+"</span>"}function d(e,t,n){e.operation(function(){for(var i=r(e,t);i.findNext();)if("string"!=typeof t){var o=e.getRange(i.from(),i.to()).match(t);i.replace(n.replace(/\$(\d)/g,function(e,t){return o[t]}))}else i.replace(n)})}function h(e,t){if(!e.getOption("readOnly")){var i=e.getSelection()||n(e).lastQuery,l='<span class="CodeMirror-search-label">'+(t?e.phrase("Replace all:"):e.phrase("Replace:"))+"</span>";o(e,l+function(e){return' <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">'+e.phrase("(Use /re/ syntax for regexp search)")+"</span>"}(e),l,i,function(n){n&&(n=a(n),o(e,function(e){return'<span class="CodeMirror-search-label">'+e.phrase("With:")+'</span> <input type="text" style="width: 10em" class="CodeMirror-search-field"/>'}(e),e.phrase("Replace with:"),"",function(i){if(i=s(i),t)d(e,n,i);else{p(e);var o=r(e,n,e.getCursor("from")),a=function(){var t,s=o.from();!(t=o.findNext())&&(o=r(e,n),!(t=o.findNext())||s&&o.from().line==s.line&&o.from().ch==s.ch)||(e.setSelection(o.from(),o.to()),e.scrollIntoView({from:o.from(),to:o.to()}),function(e,t,n,i){e.openConfirm?e.openConfirm(t,i):confirm(n)&&i[0]()}(e,function(e){return'<span class="CodeMirror-search-label">'+e.phrase("Replace?")+"</span> <button>"+e.phrase("Yes")+"</button> <button>"+e.phrase("No")+"</button> <button>"+e.phrase("All")+"</button> <button>"+e.phrase("Stop")+"</button> "}(e),e.phrase("Replace?"),[function(){l(t)},a,function(){d(e,n,i)}]))},l=function(e){o.replace("string"==typeof n?i:i.replace(/\$(\d)/g,function(t,n){return e[n]})),a()};a()}}))})}}e.commands.find=function(e){p(e),u(e)},e.commands.findPersistent=function(e){p(e),u(e,!1,!0)},e.commands.findPersistentNext=function(e){u(e,!1,!0,!0)},e.commands.findPersistentPrev=function(e){u(e,!0,!0,!0)},e.commands.findNext=u,e.commands.findPrev=function(e){u(e,!0)},e.commands.clearSearch=p,e.commands.replace=h,e.commands.replaceAll=function(e){h(e,!0)}}(n(8),n(321),n(329))},function(e,t,n){!function(e){"use strict";var t=e.Pos;function n(e,t){return e.line==t.line&&e.ch==t.ch}var i=[];function r(e){i.push(e),i.length>50&&i.shift()}function o(e){return i[i.length-(e?Math.min(e,1):1)]||""}var s=null;function a(e,t,o,a,l){null==l&&(l=e.getRange(t,o)),"grow"==a&&s&&s.cm==e&&n(t,s.pos)&&e.isClean(s.gen)?function(e){if(!i.length)return r(e);i[i.length-1]+=e}(l):!1!==a&&r(l),e.replaceRange("",t,o,"+delete"),s="grow"==a?{cm:e,pos:t,gen:e.changeGeneration()}:null}function l(e,t,n){return e.findPosH(t,n,"char",!0)}function u(e,t,n){return e.findPosH(t,n,"word",!0)}function c(e,t,n){return e.findPosV(t,n,"line",e.doc.sel.goalColumn)}function p(e,t,n){return e.findPosV(t,n,"page",e.doc.sel.goalColumn)}function f(e,n,i){for(var r=n.line,o=e.getLine(r),s=/\S/.test(i<0?o.slice(0,n.ch):o.slice(n.ch)),a=e.firstLine(),l=e.lastLine();;){if((r+=i)<a||r>l)return e.clipPos(t(r-i,i<0?0:null));o=e.getLine(r);var u=/\S/.test(o);if(u)s=!0;else if(s)return t(r,0)}}function d(e,n,i){for(var r=n.line,o=n.ch,s=e.getLine(n.line),a=!1;;){var l=s.charAt(o+(i<0?-1:0));if(l){if(a&&/[!?.]/.test(l))return t(r,o+(i>0?1:0));a||(a=/\w/.test(l)),o+=i}else{if(r==(i<0?e.firstLine():e.lastLine()))return t(r,o);if(s=e.getLine(r+i),!/\S/.test(s))return t(r,o);r+=i,o=i<0?s.length:0}}}function h(e,i,r){var o;if(e.findMatchingBracket&&(o=e.findMatchingBracket(i,{strict:!0}))&&o.match&&(o.forward?1:-1)==r)return r>0?t(o.to.line,o.to.ch+1):o.to;for(var s=!0;;s=!1){var a=e.getTokenAt(i),l=t(i.line,r<0?a.start:a.end);if(!(s&&r>0&&a.end==i.ch)&&/\w/.test(a.string))return l;var u=e.findPosH(l,r,"char");if(n(l,u))return i;i=u}}function m(e,t){var n=e.state.emacsPrefix;return n?(S(e),"-"==n?-1:Number(n)):t?null:1}function g(e){var t="string"==typeof e?function(t){t.execCommand(e)}:e;return function(e){var n=m(e);t(e);for(var i=1;i<n;++i)t(e)}}function b(e,t,i,r){var o=m(e);o<0&&(r=-r,o=-o);for(var s=0;s<o;++s){var a=i(e,t,r);if(n(a,t))break;t=a}return t}function y(e,t){var n=function(n){n.extendSelection(b(n,n.getCursor(),e,t))};return n.motion=!0,n}function v(e,t,n,i){for(var r,o=e.listSelections(),s=o.length;s--;)r=o[s].head,a(e,r,b(e,r,t,n),i)}function _(e,t){if(e.somethingSelected()){for(var n,i=e.listSelections(),r=i.length;r--;)n=i[r],a(e,n.anchor,n.head,t);return!0}}function x(e,t){e.state.emacsPrefix?"-"!=t&&(e.state.emacsPrefix+=t):(e.state.emacsPrefix=t,e.on("keyHandled",k),e.on("inputRead",C))}var w={"Alt-G":!0,"Ctrl-X":!0,"Ctrl-Q":!0,"Ctrl-U":!0};function k(e,t){e.state.emacsPrefixMap||w.hasOwnProperty(t)||S(e)}function S(e){e.state.emacsPrefix=null,e.off("keyHandled",k),e.off("inputRead",C)}function C(e,t){var n=m(e);if(n>1&&"+input"==t.origin){for(var i=t.text.join("\n"),r="",o=1;o<n;++o)r+=i;e.replaceSelection(r)}}function E(e,t){("string"!=typeof t||!/^\d$/.test(t)&&"Ctrl-U"!=t)&&(e.removeKeyMap(R),e.state.emacsPrefixMap=!1,e.off("keyHandled",E),e.off("inputRead",E))}function T(e){e.setCursor(e.getCursor()),e.setExtending(!e.getExtending()),e.on("change",function(){e.setExtending(!1)})}function A(e){e.setExtending(!1),e.setCursor(e.getCursor())}function N(e,t){var n=e.getCursor(),i=e.findPosH(n,1,"word");e.replaceRange(t(e.getRange(n,i)),n,i),e.setCursor(i)}e.emacs={kill:a,killRegion:_,repeated:g};var M=e.keyMap.emacs=e.normalizeKeyMap({"Ctrl-W":function(e){a(e,e.getCursor("start"),e.getCursor("end"),!0)},"Ctrl-K":g(function(e){var n=e.getCursor(),i=e.clipPos(t(n.line)),r=e.getRange(n,i);/\S/.test(r)||(r+="\n",i=t(n.line+1,0)),a(e,n,i,"grow",r)}),"Alt-W":function(e){r(e.getSelection()),A(e)},"Ctrl-Y":function(e){var t=e.getCursor();e.replaceRange(o(m(e)),t,t,"paste"),e.setSelection(t,e.getCursor())},"Alt-Y":function(e){e.replaceSelection((i.length>1&&i.pop(),o()),"around","paste")},"Ctrl-Space":T,"Ctrl-Shift-2":T,"Ctrl-F":y(l,1),"Ctrl-B":y(l,-1),Right:y(l,1),Left:y(l,-1),"Ctrl-D":function(e){v(e,l,1,!1)},Delete:function(e){_(e,!1)||v(e,l,1,!1)},"Ctrl-H":function(e){v(e,l,-1,!1)},Backspace:function(e){_(e,!1)||v(e,l,-1,!1)},"Alt-F":y(u,1),"Alt-B":y(u,-1),"Alt-Right":y(u,1),"Alt-Left":y(u,-1),"Alt-D":function(e){v(e,u,1,"grow")},"Alt-Backspace":function(e){v(e,u,-1,"grow")},"Ctrl-N":y(c,1),"Ctrl-P":y(c,-1),Down:y(c,1),Up:y(c,-1),"Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd",End:"goLineEnd",Home:"goLineStart","Alt-V":y(p,-1),"Ctrl-V":y(p,1),PageUp:y(p,-1),PageDown:y(p,1),"Ctrl-Up":y(f,-1),"Ctrl-Down":y(f,1),"Alt-A":y(d,-1),"Alt-E":y(d,1),"Alt-K":function(e){v(e,d,1,"grow")},"Ctrl-Alt-K":function(e){v(e,h,1,"grow")},"Ctrl-Alt-Backspace":function(e){v(e,h,-1,"grow")},"Ctrl-Alt-F":y(h,1),"Ctrl-Alt-B":y(h,-1),"Shift-Ctrl-Alt-2":function(e){var t=e.getCursor();e.setSelection(b(e,t,h,1),t)},"Ctrl-Alt-T":function(e){var t=h(e,e.getCursor(),-1),n=h(e,t,1),i=h(e,n,1),r=h(e,i,-1);e.replaceRange(e.getRange(r,i)+e.getRange(n,r)+e.getRange(t,n),t,i)},"Ctrl-Alt-U":g(function(e){for(var n=e.getCursor(),i=n.line,r=n.ch,o=[];i>=e.firstLine();){for(var s=e.getLine(i),a=null==r?s.length:r;a>0;){var r=s.charAt(--a);if(")"==r)o.push("(");else if("]"==r)o.push("[");else if("}"==r)o.push("{");else if(/[\(\{\[]/.test(r)&&(!o.length||o.pop()!=r))return e.extendSelection(t(i,a))}--i,r=null}}),"Alt-Space":function(e){for(var n=e.getCursor(),i=n.ch,r=n.ch,o=e.getLine(n.line);i&&/\s/.test(o.charAt(i-1));)--i;for(;r<o.length&&/\s/.test(o.charAt(r));)++r;e.replaceRange(" ",t(n.line,i),t(n.line,r))},"Ctrl-O":g(function(e){e.replaceSelection("\n","start")}),"Ctrl-T":g(function(e){e.execCommand("transposeChars")}),"Alt-C":g(function(e){N(e,function(e){var t=e.search(/\w/);return-1==t?e:e.slice(0,t)+e.charAt(t).toUpperCase()+e.slice(t+1).toLowerCase()})}),"Alt-U":g(function(e){N(e,function(e){return e.toUpperCase()})}),"Alt-L":g(function(e){N(e,function(e){return e.toLowerCase()})}),"Alt-;":"toggleComment","Ctrl-/":g("undo"),"Shift-Ctrl--":g("undo"),"Ctrl-Z":g("undo"),"Cmd-Z":g("undo"),"Shift-Alt-,":"goDocStart","Shift-Alt-.":"goDocEnd","Ctrl-S":"findPersistentNext","Ctrl-R":"findPersistentPrev","Ctrl-G":function(e){e.execCommand("clearSearch"),A(e)},"Shift-Alt-5":"replace","Alt-/":"autocomplete",Enter:"newlineAndIndent","Ctrl-J":g(function(e){e.replaceSelection("\n","end")}),Tab:"indentAuto","Alt-G G":function(e){var t=m(e,!0);if(null!=t&&t>0)return e.setCursor(t-1);!function(e,t,n){e.openDialog?e.openDialog(t+': <input type="text" style="width: 10em"/>',n,{bottom:!0}):n(prompt(t,""))}(e,"Goto line",function(t){var n;t&&!isNaN(n=Number(t))&&n==(0|n)&&n>0&&e.setCursor(n-1)})},"Ctrl-X Tab":function(e){e.indentSelection(m(e,!0)||e.getOption("indentUnit"))},"Ctrl-X Ctrl-X":function(e){e.setSelection(e.getCursor("head"),e.getCursor("anchor"))},"Ctrl-X Ctrl-S":"save","Ctrl-X Ctrl-W":"save","Ctrl-X S":"saveAll","Ctrl-X F":"open","Ctrl-X U":g("undo"),"Ctrl-X K":"close","Ctrl-X Delete":function(e){a(e,e.getCursor(),d(e,e.getCursor(),1),"grow")},"Ctrl-X H":"selectAll","Ctrl-Q Tab":g("insertTab"),"Ctrl-U":function(e){e.state.emacsPrefixMap=!0,e.addKeyMap(R),e.on("keyHandled",E),e.on("inputRead",E)}}),R={"Ctrl-G":S};function O(e){R[e]=function(t){x(t,e)},M["Ctrl-"+e]=function(t){x(t,e)},w["Ctrl-"+e]=!0}for(var L=0;L<10;++L)O(String(L));O("-")}(n(8))},function(e,t,n){!function(e){"use strict";var t=e.commands,n=e.Pos;function i(t,i){t.extendSelectionsBy(function(r){return t.display.shift||t.doc.extend||r.empty()?function(t,i,r){if(r<0&&0==i.ch)return t.clipPos(n(i.line-1));var o=t.getLine(i.line);if(r>0&&i.ch>=o.length)return t.clipPos(n(i.line+1,0));for(var s,a="start",l=i.ch,u=r<0?0:o.length,c=0;l!=u;l+=r,c++){var p=o.charAt(r<0?l-1:l),f="_"!=p&&e.isWordChar(p)?"w":"o";if("w"==f&&p.toUpperCase()==p&&(f="W"),"start"==a)"o"!=f&&(a="in",s=f);else if("in"==a&&s!=f){if("w"==s&&"W"==f&&r<0&&l--,"W"==s&&"w"==f&&r>0){s="w";continue}break}}return n(i.line,l)}(t.doc,r.head,i):i<0?r.from():r.to()})}function r(t,i){if(t.isReadOnly())return e.Pass;t.operation(function(){for(var e=t.listSelections().length,r=[],o=-1,s=0;s<e;s++){var a=t.listSelections()[s].head;if(!(a.line<=o)){var l=n(a.line+(i?0:1),0);t.replaceRange("\n",l,null,"+insertLine"),t.indentLine(l.line,null,!0),r.push({head:l,anchor:l}),o=a.line+1}}t.setSelections(r)}),t.execCommand("indentAuto")}function o(t,i){for(var r=i.ch,o=r,s=t.getLine(i.line);r&&e.isWordChar(s.charAt(r-1));)--r;for(;o<s.length&&e.isWordChar(s.charAt(o));)++o;return{from:n(i.line,r),to:n(i.line,o),word:s.slice(r,o)}}function s(e,t){for(var n=e.listSelections(),i=[],r=0;r<n.length;r++){var o=n[r],s=e.findPosV(o.anchor,t,"line",o.anchor.goalColumn),a=e.findPosV(o.head,t,"line",o.head.goalColumn);s.goalColumn=null!=o.anchor.goalColumn?o.anchor.goalColumn:e.cursorCoords(o.anchor,"div").left,a.goalColumn=null!=o.head.goalColumn?o.head.goalColumn:e.cursorCoords(o.head,"div").left;var l={anchor:s,head:a};i.push(o),i.push(l)}e.setSelections(i)}t.goSubwordLeft=function(e){i(e,-1)},t.goSubwordRight=function(e){i(e,1)},t.scrollLineUp=function(e){var t=e.getScrollInfo();if(!e.somethingSelected()){var n=e.lineAtHeight(t.top+t.clientHeight,"local");e.getCursor().line>=n&&e.execCommand("goLineUp")}e.scrollTo(null,t.top-e.defaultTextHeight())},t.scrollLineDown=function(e){var t=e.getScrollInfo();if(!e.somethingSelected()){var n=e.lineAtHeight(t.top,"local")+1;e.getCursor().line<=n&&e.execCommand("goLineDown")}e.scrollTo(null,t.top+e.defaultTextHeight())},t.splitSelectionByLine=function(e){for(var t=e.listSelections(),i=[],r=0;r<t.length;r++)for(var o=t[r].from(),s=t[r].to(),a=o.line;a<=s.line;++a)s.line>o.line&&a==s.line&&0==s.ch||i.push({anchor:a==o.line?o:n(a,0),head:a==s.line?s:n(a)});e.setSelections(i,0)},t.singleSelectionTop=function(e){var t=e.listSelections()[0];e.setSelection(t.anchor,t.head,{scroll:!1})},t.selectLine=function(e){for(var t=e.listSelections(),i=[],r=0;r<t.length;r++){var o=t[r];i.push({anchor:n(o.from().line,0),head:n(o.to().line+1,0)})}e.setSelections(i)},t.insertLineAfter=function(e){return r(e,!1)},t.insertLineBefore=function(e){return r(e,!0)},t.selectNextOccurrence=function(t){var i=t.getCursor("from"),r=t.getCursor("to"),s=t.state.sublimeFindFullWord==t.doc.sel;if(0==e.cmpPos(i,r)){var a=o(t,i);if(!a.word)return;t.setSelection(a.from,a.to),s=!0}else{var l=t.getRange(i,r),u=s?new RegExp("\\b"+l+"\\b"):l,c=t.getSearchCursor(u,r),p=c.findNext();if(p||(c=t.getSearchCursor(u,n(t.firstLine(),0)),p=c.findNext()),!p||function(e,t,n){for(var i=0;i<e.length;i++)if(e[i].from()==t&&e[i].to()==n)return!0;return!1}(t.listSelections(),c.from(),c.to()))return e.Pass;t.addSelection(c.from(),c.to())}s&&(t.state.sublimeFindFullWord=t.doc.sel)},t.addCursorToPrevLine=function(e){s(e,-1)},t.addCursorToNextLine=function(e){s(e,1)};var a="(){}[]";function l(t){for(var i=t.listSelections(),r=[],o=0;o<i.length;o++){var s=i[o],l=s.head,u=t.scanForBracket(l,-1);if(!u)return!1;for(;;){var c=t.scanForBracket(l,1);if(!c)return!1;if(c.ch==a.charAt(a.indexOf(u.ch)+1)){var p=n(u.pos.line,u.pos.ch+1);if(0!=e.cmpPos(p,s.from())||0!=e.cmpPos(c.pos,s.to())){r.push({anchor:p,head:c.pos});break}if(!(u=t.scanForBracket(u.pos,-1)))return!1}l=n(c.pos.line,c.pos.ch+1)}}return t.setSelections(r),!0}function u(t,i){if(t.isReadOnly())return e.Pass;for(var r,o=t.listSelections(),s=[],a=0;a<o.length;a++){var l=o[a];if(!l.empty()){for(var u=l.from().line,c=l.to().line;a<o.length-1&&o[a+1].from().line==c;)c=o[++a].to().line;o[a].to().ch||c--,s.push(u,c)}}s.length?r=!0:s.push(t.firstLine(),t.lastLine()),t.operation(function(){for(var e=[],o=0;o<s.length;o+=2){var a=s[o],l=s[o+1],u=n(a,0),c=n(l),p=t.getRange(u,c,!1);i?p.sort():p.sort(function(e,t){var n=e.toUpperCase(),i=t.toUpperCase();return n!=i&&(e=n,t=i),e<t?-1:e==t?0:1}),t.replaceRange(p,u,c),r&&e.push({anchor:u,head:n(l+1,0)})}r&&t.setSelections(e,0)})}function c(t,n){t.operation(function(){for(var i=t.listSelections(),r=[],s=[],a=0;a<i.length;a++){var l=i[a];l.empty()?(r.push(a),s.push("")):s.push(n(t.getRange(l.from(),l.to())))}t.replaceSelections(s,"around","case");for(var u,a=r.length-1;a>=0;a--){var l=i[r[a]];if(!(u&&e.cmpPos(l.head,u)>0)){var c=o(t,l.head);u=c.from,t.replaceRange(n(c.word),c.from,c.to)}}})}function p(t){var n=t.getCursor("from"),i=t.getCursor("to");if(0==e.cmpPos(n,i)){var r=o(t,n);if(!r.word)return;n=r.from,i=r.to}return{from:n,to:i,query:t.getRange(n,i),word:r}}function f(e,t){var i=p(e);if(i){var r=i.query,o=e.getSearchCursor(r,t?i.to:i.from);(t?o.findNext():o.findPrevious())?e.setSelection(o.from(),o.to()):(o=e.getSearchCursor(r,t?n(e.firstLine(),0):e.clipPos(n(e.lastLine()))),(t?o.findNext():o.findPrevious())?e.setSelection(o.from(),o.to()):i.word&&e.setSelection(i.from,i.to))}}t.selectScope=function(e){l(e)||e.execCommand("selectAll")},t.selectBetweenBrackets=function(t){if(!l(t))return e.Pass},t.goToBracket=function(t){t.extendSelectionsBy(function(i){var r=t.scanForBracket(i.head,1);if(r&&0!=e.cmpPos(r.pos,i.head))return r.pos;var o=t.scanForBracket(i.head,-1);return o&&n(o.pos.line,o.pos.ch+1)||i.head})},t.swapLineUp=function(t){if(t.isReadOnly())return e.Pass;for(var i=t.listSelections(),r=[],o=t.firstLine()-1,s=[],a=0;a<i.length;a++){var l=i[a],u=l.from().line-1,c=l.to().line;s.push({anchor:n(l.anchor.line-1,l.anchor.ch),head:n(l.head.line-1,l.head.ch)}),0!=l.to().ch||l.empty()||--c,u>o?r.push(u,c):r.length&&(r[r.length-1]=c),o=c}t.operation(function(){for(var e=0;e<r.length;e+=2){var i=r[e],o=r[e+1],a=t.getLine(i);t.replaceRange("",n(i,0),n(i+1,0),"+swapLine"),o>t.lastLine()?t.replaceRange("\n"+a,n(t.lastLine()),null,"+swapLine"):t.replaceRange(a+"\n",n(o,0),null,"+swapLine")}t.setSelections(s),t.scrollIntoView()})},t.swapLineDown=function(t){if(t.isReadOnly())return e.Pass;for(var i=t.listSelections(),r=[],o=t.lastLine()+1,s=i.length-1;s>=0;s--){var a=i[s],l=a.to().line+1,u=a.from().line;0!=a.to().ch||a.empty()||l--,l<o?r.push(l,u):r.length&&(r[r.length-1]=u),o=u}t.operation(function(){for(var e=r.length-2;e>=0;e-=2){var i=r[e],o=r[e+1],s=t.getLine(i);i==t.lastLine()?t.replaceRange("",n(i-1),n(i),"+swapLine"):t.replaceRange("",n(i,0),n(i+1,0),"+swapLine"),t.replaceRange(s+"\n",n(o,0),null,"+swapLine")}t.scrollIntoView()})},t.toggleCommentIndented=function(e){e.toggleComment({indent:!0})},t.joinLines=function(e){for(var t=e.listSelections(),i=[],r=0;r<t.length;r++){for(var o=t[r],s=o.from(),a=s.line,l=o.to().line;r<t.length-1&&t[r+1].from().line==l;)l=t[++r].to().line;i.push({start:a,end:l,anchor:!o.empty()&&s})}e.operation(function(){for(var t=0,r=[],o=0;o<i.length;o++){for(var s,a=i[o],l=a.anchor&&n(a.anchor.line-t,a.anchor.ch),u=a.start;u<=a.end;u++){var c=u-t;u==a.end&&(s=n(c,e.getLine(c).length+1)),c<e.lastLine()&&(e.replaceRange(" ",n(c),n(c+1,/^\s*/.exec(e.getLine(c+1))[0].length)),++t)}r.push({anchor:l||s,head:s})}e.setSelections(r,0)})},t.duplicateLine=function(e){e.operation(function(){for(var t=e.listSelections().length,i=0;i<t;i++){var r=e.listSelections()[i];r.empty()?e.replaceRange(e.getLine(r.head.line)+"\n",n(r.head.line,0)):e.replaceRange(e.getRange(r.from(),r.to()),r.from())}e.scrollIntoView()})},t.sortLines=function(e){u(e,!0)},t.sortLinesInsensitive=function(e){u(e,!1)},t.nextBookmark=function(e){var t=e.state.sublimeBookmarks;if(t)for(;t.length;){var n=t.shift(),i=n.find();if(i)return t.push(n),e.setSelection(i.from,i.to)}},t.prevBookmark=function(e){var t=e.state.sublimeBookmarks;if(t)for(;t.length;){t.unshift(t.pop());var n=t[t.length-1].find();if(n)return e.setSelection(n.from,n.to);t.pop()}},t.toggleBookmark=function(e){for(var t=e.listSelections(),n=e.state.sublimeBookmarks||(e.state.sublimeBookmarks=[]),i=0;i<t.length;i++){for(var r=t[i].from(),o=t[i].to(),s=t[i].empty()?e.findMarksAt(r):e.findMarks(r,o),a=0;a<s.length;a++)if(s[a].sublimeBookmark){s[a].clear();for(var l=0;l<n.length;l++)n[l]==s[a]&&n.splice(l--,1);break}a==s.length&&n.push(e.markText(r,o,{sublimeBookmark:!0,clearWhenEmpty:!1}))}},t.clearBookmarks=function(e){var t=e.state.sublimeBookmarks;if(t)for(var n=0;n<t.length;n++)t[n].clear();t.length=0},t.selectBookmarks=function(e){var t=e.state.sublimeBookmarks,n=[];if(t)for(var i=0;i<t.length;i++){var r=t[i].find();r?n.push({anchor:r.from,head:r.to}):t.splice(i--,0)}n.length&&e.setSelections(n,0)},t.smartBackspace=function(t){if(t.somethingSelected())return e.Pass;t.operation(function(){for(var i=t.listSelections(),r=t.getOption("indentUnit"),o=i.length-1;o>=0;o--){var s=i[o].head,a=t.getRange({line:s.line,ch:0},s),l=e.countColumn(a,null,t.getOption("tabSize")),u=t.findPosH(s,-1,"char",!1);if(a&&!/\S/.test(a)&&l%r==0){var c=new n(s.line,e.findColumn(a,l-r,r));c.ch!=s.ch&&(u=c)}t.replaceRange("",u,s,"+delete")}})},t.delLineRight=function(e){e.operation(function(){for(var t=e.listSelections(),i=t.length-1;i>=0;i--)e.replaceRange("",t[i].anchor,n(t[i].to().line),"+delete");e.scrollIntoView()})},t.upcaseAtCursor=function(e){c(e,function(e){return e.toUpperCase()})},t.downcaseAtCursor=function(e){c(e,function(e){return e.toLowerCase()})},t.setSublimeMark=function(e){e.state.sublimeMark&&e.state.sublimeMark.clear(),e.state.sublimeMark=e.setBookmark(e.getCursor())},t.selectToSublimeMark=function(e){var t=e.state.sublimeMark&&e.state.sublimeMark.find();t&&e.setSelection(e.getCursor(),t)},t.deleteToSublimeMark=function(t){var n=t.state.sublimeMark&&t.state.sublimeMark.find();if(n){var i=t.getCursor(),r=n;if(e.cmpPos(i,r)>0){var o=r;r=i,i=o}t.state.sublimeKilled=t.getRange(i,r),t.replaceRange("",i,r)}},t.swapWithSublimeMark=function(e){var t=e.state.sublimeMark&&e.state.sublimeMark.find();t&&(e.state.sublimeMark.clear(),e.state.sublimeMark=e.setBookmark(e.getCursor()),e.setCursor(t))},t.sublimeYank=function(e){null!=e.state.sublimeKilled&&e.replaceSelection(e.state.sublimeKilled,null,"paste")},t.showInCenter=function(e){var t=e.cursorCoords(null,"local");e.scrollTo(null,(t.top+t.bottom)/2-e.getScrollInfo().clientHeight/2)},t.findUnder=function(e){f(e,!0)},t.findUnderPrevious=function(e){f(e,!1)},t.findAllUnder=function(e){var t=p(e);if(t){for(var n=e.getSearchCursor(t.query),i=[],r=-1;n.findNext();)i.push({anchor:n.from(),head:n.to()}),n.from().line<=t.from.line&&n.from().ch<=t.from.ch&&r++;e.setSelections(i,r)}};var d=e.keyMap;d.macSublime={"Cmd-Left":"goLineStartSmart","Shift-Tab":"indentLess","Shift-Ctrl-K":"deleteLine","Alt-Q":"wrapLines","Ctrl-Left":"goSubwordLeft","Ctrl-Right":"goSubwordRight","Ctrl-Alt-Up":"scrollLineUp","Ctrl-Alt-Down":"scrollLineDown","Cmd-L":"selectLine","Shift-Cmd-L":"splitSelectionByLine",Esc:"singleSelectionTop","Cmd-Enter":"insertLineAfter","Shift-Cmd-Enter":"insertLineBefore","Cmd-D":"selectNextOccurrence","Shift-Cmd-Space":"selectScope","Shift-Cmd-M":"selectBetweenBrackets","Cmd-M":"goToBracket","Cmd-Ctrl-Up":"swapLineUp","Cmd-Ctrl-Down":"swapLineDown","Cmd-/":"toggleCommentIndented","Cmd-J":"joinLines","Shift-Cmd-D":"duplicateLine",F9:"sortLines","Cmd-F9":"sortLinesInsensitive",F2:"nextBookmark","Shift-F2":"prevBookmark","Cmd-F2":"toggleBookmark","Shift-Cmd-F2":"clearBookmarks","Alt-F2":"selectBookmarks",Backspace:"smartBackspace","Cmd-K Cmd-K":"delLineRight","Cmd-K Cmd-U":"upcaseAtCursor","Cmd-K Cmd-L":"downcaseAtCursor","Cmd-K Cmd-Space":"setSublimeMark","Cmd-K Cmd-A":"selectToSublimeMark","Cmd-K Cmd-W":"deleteToSublimeMark","Cmd-K Cmd-X":"swapWithSublimeMark","Cmd-K Cmd-Y":"sublimeYank","Cmd-K Cmd-C":"showInCenter","Cmd-K Cmd-G":"clearBookmarks","Cmd-K Cmd-Backspace":"delLineLeft","Cmd-K Cmd-0":"unfoldAll","Cmd-K Cmd-J":"unfoldAll","Ctrl-Shift-Up":"addCursorToPrevLine","Ctrl-Shift-Down":"addCursorToNextLine","Cmd-F3":"findUnder","Shift-Cmd-F3":"findUnderPrevious","Alt-F3":"findAllUnder","Shift-Cmd-[":"fold","Shift-Cmd-]":"unfold","Cmd-I":"findIncremental","Shift-Cmd-I":"findIncrementalReverse","Cmd-H":"replace",F3:"findNext","Shift-F3":"findPrev",fallthrough:"macDefault"},e.normalizeKeyMap(d.macSublime),d.pcSublime={"Shift-Tab":"indentLess","Shift-Ctrl-K":"deleteLine","Alt-Q":"wrapLines","Ctrl-T":"transposeChars","Alt-Left":"goSubwordLeft","Alt-Right":"goSubwordRight","Ctrl-Up":"scrollLineUp","Ctrl-Down":"scrollLineDown","Ctrl-L":"selectLine","Shift-Ctrl-L":"splitSelectionByLine",Esc:"singleSelectionTop","Ctrl-Enter":"insertLineAfter","Shift-Ctrl-Enter":"insertLineBefore","Ctrl-D":"selectNextOccurrence","Shift-Ctrl-Space":"selectScope","Shift-Ctrl-M":"selectBetweenBrackets","Ctrl-M":"goToBracket","Shift-Ctrl-Up":"swapLineUp","Shift-Ctrl-Down":"swapLineDown","Ctrl-/":"toggleCommentIndented","Ctrl-J":"joinLines","Shift-Ctrl-D":"duplicateLine",F9:"sortLines","Ctrl-F9":"sortLinesInsensitive",F2:"nextBookmark","Shift-F2":"prevBookmark","Ctrl-F2":"toggleBookmark","Shift-Ctrl-F2":"clearBookmarks","Alt-F2":"selectBookmarks",Backspace:"smartBackspace","Ctrl-K Ctrl-K":"delLineRight","Ctrl-K Ctrl-U":"upcaseAtCursor","Ctrl-K Ctrl-L":"downcaseAtCursor","Ctrl-K Ctrl-Space":"setSublimeMark","Ctrl-K Ctrl-A":"selectToSublimeMark","Ctrl-K Ctrl-W":"deleteToSublimeMark","Ctrl-K Ctrl-X":"swapWithSublimeMark","Ctrl-K Ctrl-Y":"sublimeYank","Ctrl-K Ctrl-C":"showInCenter","Ctrl-K Ctrl-G":"clearBookmarks","Ctrl-K Ctrl-Backspace":"delLineLeft","Ctrl-K Ctrl-0":"unfoldAll","Ctrl-K Ctrl-J":"unfoldAll","Ctrl-Alt-Up":"addCursorToPrevLine","Ctrl-Alt-Down":"addCursorToNextLine","Ctrl-F3":"findUnder","Shift-Ctrl-F3":"findUnderPrevious","Alt-F3":"findAllUnder","Shift-Ctrl-[":"fold","Shift-Ctrl-]":"unfold","Ctrl-I":"findIncremental","Shift-Ctrl-I":"findIncrementalReverse","Ctrl-H":"replace",F3:"findNext","Shift-F3":"findPrev",fallthrough:"pcDefault"},e.normalizeKeyMap(d.pcSublime);var h=d.default==d.macDefault;d.sublime=h?d.macSublime:d.pcSublime}(n(8),n(321),n(359))},function(e,t,n){!function(e){"use strict";var t=[{keys:"<Left>",type:"keyToKey",toKeys:"h"},{keys:"<Right>",type:"keyToKey",toKeys:"l"},{keys:"<Up>",type:"keyToKey",toKeys:"k"},{keys:"<Down>",type:"keyToKey",toKeys:"j"},{keys:"<Space>",type:"keyToKey",toKeys:"l"},{keys:"<BS>",type:"keyToKey",toKeys:"h",context:"normal"},{keys:"<C-Space>",type:"keyToKey",toKeys:"W"},{keys:"<C-BS>",type:"keyToKey",toKeys:"B",context:"normal"},{keys:"<S-Space>",type:"keyToKey",toKeys:"w"},{keys:"<S-BS>",type:"keyToKey",toKeys:"b",context:"normal"},{keys:"<C-n>",type:"keyToKey",toKeys:"j"},{keys:"<C-p>",type:"keyToKey",toKeys:"k"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"s",type:"keyToKey",toKeys:"cl",context:"normal"},{keys:"s",type:"keyToKey",toKeys:"c",context:"visual"},{keys:"S",type:"keyToKey",toKeys:"cc",context:"normal"},{keys:"S",type:"keyToKey",toKeys:"VdO",context:"visual"},{keys:"<Home>",type:"keyToKey",toKeys:"0"},{keys:"<End>",type:"keyToKey",toKeys:"$"},{keys:"<PageUp>",type:"keyToKey",toKeys:"<C-b>"},{keys:"<PageDown>",type:"keyToKey",toKeys:"<C-f>"},{keys:"<CR>",type:"keyToKey",toKeys:"j^",context:"normal"},{keys:"<Ins>",type:"action",action:"toggleOverwrite",context:"insert"},{keys:"H",type:"motion",motion:"moveToTopLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"M",type:"motion",motion:"moveToMiddleLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"L",type:"motion",motion:"moveToBottomLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"h",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!1}},{keys:"l",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!0}},{keys:"j",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,linewise:!0}},{keys:"k",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,linewise:!0}},{keys:"gj",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!0}},{keys:"gk",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!1}},{keys:"w",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1}},{keys:"W",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1,bigWord:!0}},{keys:"e",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,inclusive:!0}},{keys:"E",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"b",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1}},{keys:"B",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1,bigWord:!0}},{keys:"ge",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,inclusive:!0}},{keys:"gE",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"{",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!1,toJumplist:!0}},{keys:"}",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!0,toJumplist:!0}},{keys:"(",type:"motion",motion:"moveBySentence",motionArgs:{forward:!1}},{keys:")",type:"motion",motion:"moveBySentence",motionArgs:{forward:!0}},{keys:"<C-f>",type:"motion",motion:"moveByPage",motionArgs:{forward:!0}},{keys:"<C-b>",type:"motion",motion:"moveByPage",motionArgs:{forward:!1}},{keys:"<C-d>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!0,explicitRepeat:!0}},{keys:"<C-u>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!1,explicitRepeat:!0}},{keys:"gg",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"G",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!0,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"0",type:"motion",motion:"moveToStartOfLine"},{keys:"^",type:"motion",motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"+",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0}},{keys:"-",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,toFirstChar:!0}},{keys:"_",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0,repeatOffset:-1}},{keys:"$",type:"motion",motion:"moveToEol",motionArgs:{inclusive:!0}},{keys:"%",type:"motion",motion:"moveToMatchedSymbol",motionArgs:{inclusive:!0,toJumplist:!0}},{keys:"f<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"F<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!1}},{keys:"t<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"T<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!1}},{keys:";",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!0}},{keys:",",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!1}},{keys:"'<character>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0,linewise:!0}},{keys:"`<character>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0}},{keys:"]`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0}},{keys:"[`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1}},{keys:"]'",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0,linewise:!0}},{keys:"['",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1,linewise:!0}},{keys:"]p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0,matchIndent:!0}},{keys:"[p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0,matchIndent:!0}},{keys:"]<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!0,toJumplist:!0}},{keys:"[<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!1,toJumplist:!0}},{keys:"|",type:"motion",motion:"moveToColumn"},{keys:"o",type:"motion",motion:"moveToOtherHighlightedEnd",context:"visual"},{keys:"O",type:"motion",motion:"moveToOtherHighlightedEnd",motionArgs:{sameLine:!0},context:"visual"},{keys:"d",type:"operator",operator:"delete"},{keys:"y",type:"operator",operator:"yank"},{keys:"c",type:"operator",operator:"change"},{keys:"=",type:"operator",operator:"indentAuto"},{keys:">",type:"operator",operator:"indent",operatorArgs:{indentRight:!0}},{keys:"<",type:"operator",operator:"indent",operatorArgs:{indentRight:!1}},{keys:"g~",type:"operator",operator:"changeCase"},{keys:"gu",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},isEdit:!0},{keys:"gU",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},isEdit:!0},{keys:"n",type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:!0}},{keys:"N",type:"motion",motion:"findNext",motionArgs:{forward:!1,toJumplist:!0}},{keys:"x",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!0},operatorMotionArgs:{visualLine:!1}},{keys:"X",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!1},operatorMotionArgs:{visualLine:!0}},{keys:"D",type:"operatorMotion",operator:"delete",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"D",type:"operator",operator:"delete",operatorArgs:{linewise:!0},context:"visual"},{keys:"Y",type:"operatorMotion",operator:"yank",motion:"expandToLine",motionArgs:{linewise:!0},context:"normal"},{keys:"Y",type:"operator",operator:"yank",operatorArgs:{linewise:!0},context:"visual"},{keys:"C",type:"operatorMotion",operator:"change",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"C",type:"operator",operator:"change",operatorArgs:{linewise:!0},context:"visual"},{keys:"~",type:"operatorMotion",operator:"changeCase",motion:"moveByCharacters",motionArgs:{forward:!0},operatorArgs:{shouldMoveCursor:!0},context:"normal"},{keys:"~",type:"operator",operator:"changeCase",context:"visual"},{keys:"<C-w>",type:"operatorMotion",operator:"delete",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1},context:"insert"},{keys:"<C-w>",type:"idle",context:"normal"},{keys:"<C-i>",type:"action",action:"jumpListWalk",actionArgs:{forward:!0}},{keys:"<C-o>",type:"action",action:"jumpListWalk",actionArgs:{forward:!1}},{keys:"<C-e>",type:"action",action:"scroll",actionArgs:{forward:!0,linewise:!0}},{keys:"<C-y>",type:"action",action:"scroll",actionArgs:{forward:!1,linewise:!0}},{keys:"a",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"charAfter"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"eol"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"endOfSelectedArea"},context:"visual"},{keys:"i",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"inplace"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"firstNonBlank"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"startOfSelectedArea"},context:"visual"},{keys:"o",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!0},context:"normal"},{keys:"O",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!1},context:"normal"},{keys:"v",type:"action",action:"toggleVisualMode"},{keys:"V",type:"action",action:"toggleVisualMode",actionArgs:{linewise:!0}},{keys:"<C-v>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"<C-q>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"gv",type:"action",action:"reselectLastSelection"},{keys:"J",type:"action",action:"joinLines",isEdit:!0},{keys:"p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0}},{keys:"P",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0}},{keys:"r<character>",type:"action",action:"replace",isEdit:!0},{keys:"@<character>",type:"action",action:"replayMacro"},{keys:"q<character>",type:"action",action:"enterMacroRecordMode"},{keys:"R",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{replace:!0}},{keys:"u",type:"action",action:"undo",context:"normal"},{keys:"u",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},context:"visual",isEdit:!0},{keys:"U",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},context:"visual",isEdit:!0},{keys:"<C-r>",type:"action",action:"redo"},{keys:"m<character>",type:"action",action:"setMark"},{keys:'"<character>',type:"action",action:"setRegister"},{keys:"zz",type:"action",action:"scrollToCursor",actionArgs:{position:"center"}},{keys:"z.",type:"action",action:"scrollToCursor",actionArgs:{position:"center"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"zt",type:"action",action:"scrollToCursor",actionArgs:{position:"top"}},{keys:"z<CR>",type:"action",action:"scrollToCursor",actionArgs:{position:"top"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"z-",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"}},{keys:"zb",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:".",type:"action",action:"repeatLastEdit"},{keys:"<C-a>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!0,backtrack:!1}},{keys:"<C-x>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!1,backtrack:!1}},{keys:"<C-t>",type:"action",action:"indent",actionArgs:{indentRight:!0},context:"insert"},{keys:"<C-d>",type:"action",action:"indent",actionArgs:{indentRight:!1},context:"insert"},{keys:"a<character>",type:"motion",motion:"textObjectManipulation"},{keys:"i<character>",type:"motion",motion:"textObjectManipulation",motionArgs:{textObjectInner:!0}},{keys:"/",type:"search",searchArgs:{forward:!0,querySrc:"prompt",toJumplist:!0}},{keys:"?",type:"search",searchArgs:{forward:!1,querySrc:"prompt",toJumplist:!0}},{keys:"*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"g*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:"g#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:":",type:"ex"}],n=t.length,i=[{name:"colorscheme",shortName:"colo"},{name:"map"},{name:"imap",shortName:"im"},{name:"nmap",shortName:"nm"},{name:"vmap",shortName:"vm"},{name:"unmap"},{name:"write",shortName:"w"},{name:"undo",shortName:"u"},{name:"redo",shortName:"red"},{name:"set",shortName:"se"},{name:"set",shortName:"se"},{name:"setlocal",shortName:"setl"},{name:"setglobal",shortName:"setg"},{name:"sort",shortName:"sor"},{name:"substitute",shortName:"s",possiblyAsync:!0},{name:"nohlsearch",shortName:"noh"},{name:"yank",shortName:"y"},{name:"delmarks",shortName:"delm"},{name:"registers",shortName:"reg",excludeFromCommandHistory:!0},{name:"global",shortName:"g"}],r=e.Pos;e.Vim=function(){function o(t,n){this==e.keyMap.vim&&(e.rmClass(t.getWrapperElement(),"cm-fat-cursor"),"contenteditable"==t.getOption("inputStyle")&&null!=document.body.style.caretColor&&(function(e){var t=e.state.fatCursorMarks;if(t)for(var n=0;n<t.length;n++)t[n].clear();e.state.fatCursorMarks=null,e.off("cursorActivity",l)}(t),t.getInputField().style.caretColor="")),n&&n.attach==s||function(t){t.setOption("disableInput",!1),t.off("cursorActivity",Qe),e.off(t.getInputField(),"paste",f(t)),t.state.vim=null}(t)}function s(t,n){this==e.keyMap.vim&&(e.addClass(t.getWrapperElement(),"cm-fat-cursor"),"contenteditable"==t.getOption("inputStyle")&&null!=document.body.style.caretColor&&(function(e){e.state.fatCursorMarks=a(e),e.on("cursorActivity",l)}(t),t.getInputField().style.caretColor="transparent")),n&&n.attach==s||function(t){t.setOption("disableInput",!0),t.setOption("showCursorWhenSelecting",!1),e.signal(t,"vim-mode-change",{mode:"normal"}),t.on("cursorActivity",Qe),F(t),e.on(t.getInputField(),"paste",f(t))}(t)}function a(e){for(var t=e.listSelections(),n=[],i=0;i<t.length;i++){var o=t[i];if(o.empty())if(o.anchor.ch<e.getLine(o.anchor.line).length)n.push(e.markText(o.anchor,r(o.anchor.line,o.anchor.ch+1),{className:"cm-fat-cursor-mark"}));else{var s=document.createElement("span");s.textContent=" ",s.className="cm-fat-cursor-mark",n.push(e.setBookmark(o.anchor,{widget:s}))}}return n}function l(e){var t=e.state.fatCursorMarks;if(t)for(var n=0;n<t.length;n++)t[n].clear();e.state.fatCursorMarks=a(e)}function u(t,n){if(n){if(this[t])return this[t];var i=function(e){if("'"==e.charAt(0))return e.charAt(1);var t=e.split(/-(?!$)/),n=t[t.length-1];if(1==t.length&&1==t[0].length)return!1;if(2==t.length&&"Shift"==t[0]&&1==n.length)return!1;for(var i=!1,r=0;r<t.length;r++){var o=t[r];o in c?t[r]=c[o]:i=!0,o in p&&(t[r]=p[o])}return!!i&&(S(n)&&(t[t.length-1]=n.toLowerCase()),"<"+t.join("-")+">")}(t);if(!i)return!1;var r=e.Vim.findKey(n,i);return"function"==typeof r&&e.signal(n,"vim-keypress",i),r}}e.defineOption("vimMode",!1,function(t,n,i){n&&"vim"!=t.getOption("keyMap")?t.setOption("keyMap","vim"):!n&&i!=e.Init&&/^vim/.test(t.getOption("keyMap"))&&t.setOption("keyMap","default")});var c={Shift:"S",Ctrl:"C",Alt:"A",Cmd:"D",Mod:"A"},p={Enter:"CR",Backspace:"BS",Delete:"Del",Insert:"Ins"};function f(e){var t=e.state.vim;return t.onPasteFn||(t.onPasteFn=function(){t.insertMode||(e.setCursor(Z(e.getCursor(),0,1)),Y.enterInsertMode(e,{},t))}),t.onPasteFn}var d=/[\d]/,h=[e.isWordChar,function(t){return t&&!e.isWordChar(t)&&!/\s/.test(t)}],m=[function(e){return/\S/.test(e)}];function g(e,t){for(var n=[],i=e;i<e+t;i++)n.push(String.fromCharCode(i));return n}var b=g(65,26),y=g(97,26),v=g(48,10),_=[].concat(b,y,v,["<",">"]),x=[].concat(b,y,v,["-",'"',".",":","/"]);function w(e,t){return t>=e.firstLine()&&t<=e.lastLine()}function k(e){return/^[a-z]$/.test(e)}function S(e){return/^[A-Z]$/.test(e)}function C(e){return/^\s*$/.test(e)}function E(e){return-1!=".?!".indexOf(e)}function T(e,t){for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1}var A={};function N(e,t,n,i,r){if(void 0===t&&!r)throw Error("defaultValue is required unless callback is provided");if(n||(n="string"),A[e]={type:n,defaultValue:t,callback:r},i)for(var o=0;o<i.length;o++)A[i[o]]=A[e];t&&M(e,t)}function M(e,t,n,i){var r=A[e],o=(i=i||{}).scope;if(!r)return new Error("Unknown option: "+e);if("boolean"==r.type){if(t&&!0!==t)return new Error("Invalid argument: "+e+"="+t);!1!==t&&(t=!0)}r.callback?("local"!==o&&r.callback(t,void 0),"global"!==o&&n&&r.callback(t,n)):("local"!==o&&(r.value="boolean"==r.type?!!t:t),"global"!==o&&n&&(n.state.vim.options[e]={value:t}))}function R(e,t,n){var i=A[e],r=(n=n||{}).scope;if(!i)return new Error("Unknown option: "+e);if(i.callback){var o=t&&i.callback(void 0,t);return"global"!==r&&void 0!==o?o:"local"!==r?i.callback():void 0}var o="global"!==r&&t&&t.state.vim.options[e];return(o||"local"!==r&&i||{}).value}N("filetype",void 0,"string",["ft"],function(e,t){if(void 0!==t){if(void 0===e){var n=t.getOption("mode");return"null"==n?"":n}var n=""==e?"null":e;t.setOption("mode",n)}});var O,L,P=function(){var e=100,t=-1,n=0,i=0,r=new Array(e);return{cachedCursor:void 0,add:function(o,s,a){var l=r[t%e];function u(n){var i=++t%e,s=r[i];s&&s.clear(),r[i]=o.setBookmark(n)}if(l){var c=l.find();c&&!ne(c,s)&&u(s)}else u(s);u(a),n=t,(i=t-e+1)<0&&(i=0)},move:function(o,s){(t+=s)>n?t=n:t<i&&(t=i);var a=r[(e+t)%e];if(a&&!a.find()){var l,u=s>0?1:-1,c=o.getCursor();do{if((a=r[(e+(t+=u))%e])&&(l=a.find())&&!ne(c,l))break}while(t<n&&t>i)}return a}}},D=function(e){return e?{changes:e.changes,expectCursorActivityForChange:e.expectCursorActivityForChange}:{changes:[],expectCursorActivityForChange:!1}};function I(){this.latestRegister=void 0,this.isPlaying=!1,this.isRecording=!1,this.replaySearchQueries=[],this.onRecordingDone=void 0,this.lastInsertModeChanges=D()}function F(e){return e.state.vim||(e.state.vim={inputState:new B,lastEditInputState:void 0,lastEditActionCommand:void 0,lastHPos:-1,lastHSPos:-1,lastMotion:null,marks:{},fakeCursor:null,insertMode:!1,insertModeRepeat:void 0,visualMode:!1,visualLine:!1,visualBlock:!1,lastSelection:null,lastPastedText:null,sel:{},options:{}}),e.state.vim}function $(){for(var e in O={searchQuery:null,searchIsReversed:!1,lastSubstituteReplacePart:void 0,jumpList:P(),macroModeState:new I,lastCharacterSearch:{increment:0,forward:!0,selectedCharacter:""},registerController:new H({}),searchHistoryController:new U,exCommandHistoryController:new U},A){var t=A[e];t.value=t.defaultValue}}I.prototype={exitMacroRecordMode:function(){var e=O.macroModeState;e.onRecordingDone&&e.onRecordingDone(),e.onRecordingDone=void 0,e.isRecording=!1},enterMacroRecordMode:function(e,t){var n=O.registerController.getRegister(t);n&&(n.clear(),this.latestRegister=t,e.openDialog&&(this.onRecordingDone=e.openDialog("(recording)["+t+"]",null,{bottom:!0})),this.isRecording=!0)}};var j={buildKeyMap:function(){},getRegisterController:function(){return O.registerController},resetVimGlobalState_:$,getVimGlobalState_:function(){return O},maybeInitVimState_:F,suppressErrorLogging:!1,InsertModeKey:Je,map:function(e,t,n){Ve.map(e,t,n)},unmap:function(e,t){Ve.unmap(e,t)},noremap:function(e,i,r){function o(e){return e?[e]:["normal","insert","visual"]}for(var s=o(r),a=t.length,l=n,u=a-l;u<a&&s.length;u++){var c=t[u];if(!(c.keys!=i||r&&c.context&&c.context!==r||"ex"===c.type.substr(0,2)||"key"===c.type.substr(0,3))){var p={};for(var f in c)p[f]=c[f];p.keys=e,r&&!p.context&&(p.context=r),this._mapCommand(p);var d=o(c.context);s=s.filter(function(e){return-1===d.indexOf(e)})}}},mapclear:function(e){var i=t.length,r=n,o=t.slice(0,i-r);if(t=t.slice(i-r),e)for(var s=o.length-1;s>=0;s--){var a=o[s];if(e!==a.context)if(a.context)this._mapCommand(a);else{var l=["normal","insert","visual"];for(var u in l)if(l[u]!==e){var c={};for(var p in a)c[p]=a[p];c.context=l[u],this._mapCommand(c)}}}},setOption:M,getOption:R,defineOption:N,defineEx:function(e,t,n){if(t){if(0!==e.indexOf(t))throw new Error('(Vim.defineEx) "'+t+'" is not a prefix of "'+e+'", command not registered')}else t=e;We[e]=n,Ve.commandMap_[t]={name:e,shortName:t,type:"api"}},handleKey:function(e,t,n){var i=this.findKey(e,t,n);if("function"==typeof i)return i()},findKey:function(n,i,r){var o,s=F(n);function a(){var e=O.macroModeState;if(e.isRecording){if("q"==i)return e.exitMacroRecordMode(),z(n),!0;"mapping"!=r&&function(e,t){if(!e.isPlaying){var n=e.latestRegister,i=O.registerController.getRegister(n);i&&i.pushText(t)}}(e,i)}}function l(){if("<Esc>"==i)return z(n),s.visualMode?me(n):s.insertMode&&Ge(n),!0}return!1===(o=s.insertMode?function(){if(l())return!0;for(var e=s.inputState.keyBuffer=s.inputState.keyBuffer+i,r=1==i.length,o=W.matchCommand(e,t,s.inputState,"insert");e.length>1&&"full"!=o.type;){var e=s.inputState.keyBuffer=e.slice(1),a=W.matchCommand(e,t,s.inputState,"insert");"none"!=a.type&&(o=a)}if("none"==o.type)return z(n),!1;if("partial"==o.type)return L&&window.clearTimeout(L),L=window.setTimeout(function(){s.insertMode&&s.inputState.keyBuffer&&z(n)},R("insertModeEscKeysTimeout")),!r;if(L&&window.clearTimeout(L),r){for(var u=n.listSelections(),c=0;c<u.length;c++){var p=u[c].head;n.replaceRange("",Z(p,0,-(e.length-1)),p,"+input")}O.macroModeState.lastInsertModeChanges.changes.pop()}return z(n),o.command}():function(){if(a()||l())return!0;var e=s.inputState.keyBuffer=s.inputState.keyBuffer+i;if(/^[1-9]\d*$/.test(e))return!0;if(!(r=/^(\d*)(.*)$/.exec(e)))return z(n),!1;var r,o=s.visualMode?"visual":"normal",u=W.matchCommand(r[2]||r[1],t,s.inputState,o);return"none"==u.type?(z(n),!1):"partial"==u.type||(s.inputState.keyBuffer="",(r=/^(\d*)(.*)$/.exec(e))[1]&&"0"!=r[1]&&s.inputState.pushRepeatDigit(r[1]),u.command)}())?s.insertMode||1!==i.length?void 0:function(){return!0}:!0===o?function(){return!0}:function(){return n.operation(function(){n.curOp.isVimOp=!0;try{"keyToKey"==o.type?function(t){for(var r;t;)r=/<\w+-.+?>|<\w+>|./.exec(t),i=r[0],t=t.substring(r.index+i.length),e.Vim.handleKey(n,i,"mapping")}(o.toKeys):W.processCommand(n,s,o)}catch(t){throw n.state.vim=void 0,F(n),e.Vim.suppressErrorLogging||console.log(t),t}return!0})}},handleEx:function(e,t){Ve.processCommand(e,t)},defineMotion:function(e,t){V[e]=t},defineAction:function(e,t){Y[e]=t},defineOperator:function(e,t){K[e]=t},mapCommand:function(e,t,n,i,r){var o={keys:e,type:t};for(var s in o[t]=n,o[t+"Args"]=i,r)o[s]=r[s];Ke(o)},_mapCommand:Ke,defineRegister:function(e,t){var n=O.registerController.registers;if(!e||1!=e.length)throw Error("Register name must be 1 character");if(n[e])throw Error("Register already defined "+e);n[e]=t,x.push(e)},exitVisualMode:me,exitInsertMode:Ge};function B(){this.prefixRepeat=[],this.motionRepeat=[],this.operator=null,this.operatorArgs=null,this.motion=null,this.motionArgs=null,this.keyBuffer=[],this.registerName=null}function z(t,n){t.state.vim.inputState=new B,e.signal(t,"vim-command-done",n)}function q(e,t,n){this.clear(),this.keyBuffer=[e||""],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!!t,this.blockwise=!!n}function H(e){this.registers=e,this.unnamedRegister=e['"']=new q,e["."]=new q,e[":"]=new q,e["/"]=new q}function U(){this.historyBuffer=[],this.iterator=0,this.initialPrefix=null}B.prototype.pushRepeatDigit=function(e){this.operator?this.motionRepeat=this.motionRepeat.concat(e):this.prefixRepeat=this.prefixRepeat.concat(e)},B.prototype.getRepeat=function(){var e=0;return(this.prefixRepeat.length>0||this.motionRepeat.length>0)&&(e=1,this.prefixRepeat.length>0&&(e*=parseInt(this.prefixRepeat.join(""),10)),this.motionRepeat.length>0&&(e*=parseInt(this.motionRepeat.join(""),10))),e},q.prototype={setText:function(e,t,n){this.keyBuffer=[e||""],this.linewise=!!t,this.blockwise=!!n},pushText:function(e,t){t&&(this.linewise||this.keyBuffer.push("\n"),this.linewise=!0),this.keyBuffer.push(e)},pushInsertModeChanges:function(e){this.insertModeChanges.push(D(e))},pushSearchQuery:function(e){this.searchQueries.push(e)},clear:function(){this.keyBuffer=[],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!1},toString:function(){return this.keyBuffer.join("")}},H.prototype={pushText:function(e,t,n,i,r){i&&"\n"!==n.charAt(n.length-1)&&(n+="\n");var o=this.isValidRegister(e)?this.getRegister(e):null;if(o){var s=S(e);s?o.pushText(n,i):o.setText(n,i,r),this.unnamedRegister.setText(o.toString(),i)}else{switch(t){case"yank":this.registers[0]=new q(n,i,r);break;case"delete":case"change":-1==n.indexOf("\n")?this.registers["-"]=new q(n,i):(this.shiftNumericRegisters_(),this.registers[1]=new q(n,i))}this.unnamedRegister.setText(n,i,r)}},getRegister:function(e){return this.isValidRegister(e)?(e=e.toLowerCase(),this.registers[e]||(this.registers[e]=new q),this.registers[e]):this.unnamedRegister},isValidRegister:function(e){return e&&T(e,x)},shiftNumericRegisters_:function(){for(var e=9;e>=2;e--)this.registers[e]=this.getRegister(""+(e-1))}},U.prototype={nextMatch:function(e,t){var n=this.historyBuffer,i=t?-1:1;null===this.initialPrefix&&(this.initialPrefix=e);for(var r=this.iterator+i;t?r>=0:r<n.length;r+=i)for(var o=n[r],s=0;s<=o.length;s++)if(this.initialPrefix==o.substring(0,s))return this.iterator=r,o;return r>=n.length?(this.iterator=n.length,this.initialPrefix):r<0?e:void 0},pushInput:function(e){var t=this.historyBuffer.indexOf(e);t>-1&&this.historyBuffer.splice(t,1),e.length&&this.historyBuffer.push(e)},reset:function(){this.initialPrefix=null,this.iterator=this.historyBuffer.length}};var W={matchCommand:function(e,t,n,i){var r,o=function(e,t,n,i){for(var r,o=[],s=[],a=0;a<t.length;a++){var l=t[a];"insert"==n&&"insert"!=l.context||l.context&&l.context!=n||i.operator&&"action"==l.type||!(r=J(e,l.keys))||("partial"==r&&o.push(l),"full"==r&&s.push(l))}return{partial:o.length&&o,full:s.length&&s}}(e,t,i,n);if(!o.full&&!o.partial)return{type:"none"};if(!o.full&&o.partial)return{type:"partial"};for(var s=0;s<o.full.length;s++){var a=o.full[s];r||(r=a)}if("<character>"==r.keys.slice(-11)){var l=function(e){var t=/^.*(<[^>]+>)$/.exec(e),n=t?t[1]:e.slice(-1);if(n.length>1)switch(n){case"<CR>":n="\n";break;case"<Space>":n=" ";break;default:n=""}return n}(e);if(!l)return{type:"none"};n.selectedCharacter=l}return{type:"full",command:r}},processCommand:function(e,t,n){switch(t.inputState.repeatOverride=n.repeatOverride,n.type){case"motion":this.processMotion(e,t,n);break;case"operator":this.processOperator(e,t,n);break;case"operatorMotion":this.processOperatorMotion(e,t,n);break;case"action":this.processAction(e,t,n);break;case"search":this.processSearch(e,t,n);break;case"ex":case"keyToEx":this.processEx(e,t,n)}},processMotion:function(e,t,n){t.inputState.motion=n.motion,t.inputState.motionArgs=Q(n.motionArgs),this.evalInput(e,t)},processOperator:function(e,t,n){var i=t.inputState;if(i.operator){if(i.operator==n.operator)return i.motion="expandToLine",i.motionArgs={linewise:!0},void this.evalInput(e,t);z(e)}i.operator=n.operator,i.operatorArgs=Q(n.operatorArgs),t.visualMode&&this.evalInput(e,t)},processOperatorMotion:function(e,t,n){var i=t.visualMode,r=Q(n.operatorMotionArgs);r&&i&&r.visualLine&&(t.visualLine=!0),this.processOperator(e,t,n),i||this.processMotion(e,t,n)},processAction:function(e,t,n){var i=t.inputState,r=i.getRepeat(),o=!!r,s=Q(n.actionArgs)||{};i.selectedCharacter&&(s.selectedCharacter=i.selectedCharacter),n.operator&&this.processOperator(e,t,n),n.motion&&this.processMotion(e,t,n),(n.motion||n.operator)&&this.evalInput(e,t),s.repeat=r||1,s.repeatIsExplicit=o,s.registerName=i.registerName,z(e),t.lastMotion=null,n.isEdit&&this.recordLastEdit(t,i,n),Y[n.action](e,s,t)},processSearch:function(t,n,i){if(t.getSearchCursor){var r=i.searchArgs.forward,o=i.searchArgs.wholeWordOnly;Ae(t).setReversed(!r);var s=r?"/":"?",a=Ae(t).getQuery(),l=t.getScrollInfo();switch(i.searchArgs.querySrc){case"prompt":var u=O.macroModeState;if(u.isPlaying){var c=u.replaySearchQueries.shift();d(c,!0,!1)}else Fe(t,{onClose:function(e){t.scrollTo(l.left,l.top),d(e,!0,!0);var n=O.macroModeState;n.isRecording&&function(e,t){if(!e.isPlaying){var n=e.latestRegister,i=O.registerController.getRegister(n);i&&i.pushSearchQuery&&i.pushSearchQuery(t)}}(n,e)},prefix:s,desc:Ie,onKeyUp:function(n,i,o){var s,a,u,c=e.keyName(n);"Up"==c||"Down"==c?(s="Up"==c,a=n.target?n.target.selectionEnd:0,i=O.searchHistoryController.nextMatch(i,s)||"",o(i),a&&n.target&&(n.target.selectionEnd=n.target.selectionStart=Math.min(a,n.target.value.length))):"Left"!=c&&"Right"!=c&&"Ctrl"!=c&&"Alt"!=c&&"Shift"!=c&&O.searchHistoryController.reset();try{u=$e(t,i,!0,!0)}catch(n){}u?t.scrollIntoView(Be(t,!r,u),30):(ze(t),t.scrollTo(l.left,l.top))},onKeyDown:function(n,i,r){var o=e.keyName(n);"Esc"==o||"Ctrl-C"==o||"Ctrl-["==o||"Backspace"==o&&""==i?(O.searchHistoryController.pushInput(i),O.searchHistoryController.reset(),$e(t,a),ze(t),t.scrollTo(l.left,l.top),e.e_stop(n),z(t),r(),t.focus()):"Up"==o||"Down"==o?e.e_stop(n):"Ctrl-U"==o&&(e.e_stop(n),r(""))}});break;case"wordUnderCursor":var p=be(t,!1,0,!1,!0),f=!0;if(p||(p=be(t,!1,0,!1,!1),f=!1),!p)return;var c=t.getLine(p.start.line).substring(p.start.ch,p.end.ch);c=f&&o?"\\b"+c+"\\b":c.replace(/([.?*+$\[\]\/\\(){}|\-])/g,"\\$1"),O.jumpList.cachedCursor=t.getCursor(),t.setCursor(p.start),d(c,!0,!1)}}function d(e,r,o){O.searchHistoryController.pushInput(e),O.searchHistoryController.reset();try{$e(t,e,r,o)}catch(n){return De(t,"Invalid regex: "+e),void z(t)}W.processMotion(t,n,{type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:i.searchArgs.toJumplist}})}},processEx:function(t,n,i){function r(e){O.exCommandHistoryController.pushInput(e),O.exCommandHistoryController.reset(),Ve.processCommand(t,e)}function o(n,i,r){var o,s,a=e.keyName(n);("Esc"==a||"Ctrl-C"==a||"Ctrl-["==a||"Backspace"==a&&""==i)&&(O.exCommandHistoryController.pushInput(i),O.exCommandHistoryController.reset(),e.e_stop(n),z(t),r(),t.focus()),"Up"==a||"Down"==a?(e.e_stop(n),o="Up"==a,s=n.target?n.target.selectionEnd:0,i=O.exCommandHistoryController.nextMatch(i,o)||"",r(i),s&&n.target&&(n.target.selectionEnd=n.target.selectionStart=Math.min(s,n.target.value.length))):"Ctrl-U"==a?(e.e_stop(n),r("")):"Left"!=a&&"Right"!=a&&"Ctrl"!=a&&"Alt"!=a&&"Shift"!=a&&O.exCommandHistoryController.reset()}"keyToEx"==i.type?Ve.processCommand(t,i.exArgs.input):n.visualMode?Fe(t,{onClose:r,prefix:":",value:"'<,'>",onKeyDown:o,selectValueOnOpen:!1}):Fe(t,{onClose:r,prefix:":",onKeyDown:o})},evalInput:function(e,t){var n,i,o,s=t.inputState,a=s.motion,l=s.motionArgs||{},u=s.operator,c=s.operatorArgs||{},p=s.registerName,f=t.sel,d=te(t.visualMode?X(e,f.head):e.getCursor("head")),h=te(t.visualMode?X(e,f.anchor):e.getCursor("anchor")),m=te(d),g=te(h);if(u&&this.recordLastEdit(t,s),(o=void 0!==s.repeatOverride?s.repeatOverride:s.getRepeat())>0&&l.explicitRepeat?l.repeatIsExplicit=!0:(l.noRepeat||!l.explicitRepeat&&0===o)&&(o=1,l.repeatIsExplicit=!1),s.selectedCharacter&&(l.selectedCharacter=c.selectedCharacter=s.selectedCharacter),l.repeat=o,z(e),a){var b=V[a](e,d,l,t);if(t.lastMotion=V[a],!b)return;if(l.toJumplist){var y=O.jumpList,v=y.cachedCursor;v?(ye(e,v,b),delete y.cachedCursor):ye(e,d,b)}b instanceof Array?(i=b[0],n=b[1]):n=b,n||(n=te(d)),t.visualMode?(t.visualBlock&&n.ch===1/0||(n=X(e,n,t.visualBlock)),i&&(i=X(e,i,!0)),i=i||g,f.anchor=i,f.head=n,de(e),Se(e,t,"<",ie(i,n)?i:n),Se(e,t,">",ie(i,n)?n:i)):u||(n=X(e,n),e.setCursor(n.line,n.ch))}if(u){if(c.lastSel){i=g;var _=c.lastSel,x=Math.abs(_.head.line-_.anchor.line),w=Math.abs(_.head.ch-_.anchor.ch);n=_.visualLine?r(g.line+x,g.ch):_.visualBlock?r(g.line+x,g.ch+w):_.head.line==_.anchor.line?r(g.line,g.ch+w):r(g.line+x,g.ch),t.visualMode=!0,t.visualLine=_.visualLine,t.visualBlock=_.visualBlock,f=t.sel={anchor:i,head:n},de(e)}else t.visualMode&&(c.lastSel={anchor:te(f.anchor),head:te(f.head),visualBlock:t.visualBlock,visualLine:t.visualLine});var k,S,E,T,A;if(t.visualMode){if(k=re(f.head,f.anchor),S=oe(f.head,f.anchor),E=t.visualLine||c.linewise,T=t.visualBlock?"block":E?"line":"char",A=he(e,{anchor:k,head:S},T),E){var N=A.ranges;if("block"==T)for(var M=0;M<N.length;M++)N[M].head.ch=ae(e,N[M].head.line);else"line"==T&&(N[0].head=r(N[0].head.line+1,0))}}else{if(k=te(i||g),ie(S=te(n||m),k)){var R=k;k=S,S=R}(E=l.linewise||c.linewise)?function(e,t,n){t.ch=0,n.ch=0,n.line++}(0,k,S):l.forward&&function(e,t,n){var i=e.getRange(t,n);if(/\n\s*$/.test(i)){var r=i.split("\n");r.pop();for(var o=r.pop();r.length>0&&o&&C(o);o=r.pop())n.line--,n.ch=0;o?(n.line--,n.ch=ae(e,n.line)):n.ch=0}}(e,k,S),T="char";var L=!l.inclusive||E;A=he(e,{anchor:k,head:S},T,L)}e.setSelections(A.ranges,A.primary),t.lastMotion=null,c.repeat=o,c.registerName=p,c.linewise=E;var P=K[u](e,c,A.ranges,g,n);t.visualMode&&me(e,null!=P),P&&e.setCursor(P)}},recordLastEdit:function(e,t,n){var i=O.macroModeState;i.isPlaying||(e.lastEditInputState=t,e.lastEditActionCommand=n,i.lastInsertModeChanges.changes=[],i.lastInsertModeChanges.expectCursorActivityForChange=!1)}},V={moveToTopLine:function(e,t,n){var i=qe(e).top+n.repeat-1;return r(i,ge(e.getLine(i)))},moveToMiddleLine:function(e){var t=qe(e),n=Math.floor(.5*(t.top+t.bottom));return r(n,ge(e.getLine(n)))},moveToBottomLine:function(e,t,n){var i=qe(e).bottom-n.repeat+1;return r(i,ge(e.getLine(i)))},expandToLine:function(e,t,n){var i=t;return r(i.line+n.repeat-1,1/0)},findNext:function(e,t,n){var i=Ae(e),r=i.getQuery();if(r){var o=!n.forward;return o=i.isReversed()?!o:o,je(e,r),Be(e,o,r,n.repeat)}},goToMark:function(e,t,n,i){var r=He(e,i,n.selectedCharacter);return r?n.linewise?{line:r.line,ch:ge(e.getLine(r.line))}:r:null},moveToOtherHighlightedEnd:function(e,t,n,i){if(i.visualBlock&&n.sameLine){var o=i.sel;return[X(e,r(o.anchor.line,o.head.ch)),X(e,r(o.head.line,o.anchor.ch))]}return[i.sel.head,i.sel.anchor]},jumpToMark:function(e,t,n,i){for(var o=t,s=0;s<n.repeat;s++){var a=o;for(var l in i.marks)if(k(l)){var u=i.marks[l].find(),c=n.forward?ie(u,a):ie(a,u);if(!(c||n.linewise&&u.line==a.line)){var p=ne(a,o),f=n.forward?se(a,u,o):se(o,u,a);(p||f)&&(o=u)}}}return n.linewise&&(o=r(o.line,ge(e.getLine(o.line)))),o},moveByCharacters:function(e,t,n){var i=t,o=n.repeat,s=n.forward?i.ch+o:i.ch-o;return r(i.line,s)},moveByLines:function(e,t,n,i){var o=t,s=o.ch;switch(i.lastMotion){case this.moveByLines:case this.moveByDisplayLines:case this.moveByScroll:case this.moveToColumn:case this.moveToEol:s=i.lastHPos;break;default:i.lastHPos=s}var a=n.repeat+(n.repeatOffset||0),l=n.forward?o.line+a:o.line-a,u=e.firstLine(),c=e.lastLine();return l<u&&o.line==u?this.moveToStartOfLine(e,t,n,i):l>c&&o.line==c?this.moveToEol(e,t,n,i):(n.toFirstChar&&(s=ge(e.getLine(l)),i.lastHPos=s),i.lastHSPos=e.charCoords(r(l,s),"div").left,r(l,s))},moveByDisplayLines:function(e,t,n,i){var o=t;switch(i.lastMotion){case this.moveByDisplayLines:case this.moveByScroll:case this.moveByLines:case this.moveToColumn:case this.moveToEol:break;default:i.lastHSPos=e.charCoords(o,"div").left}var s=n.repeat,a=e.findPosV(o,n.forward?s:-s,"line",i.lastHSPos);if(a.hitSide)if(n.forward)var l=e.charCoords(a,"div"),u={top:l.top+8,left:i.lastHSPos},a=e.coordsChar(u,"div");else{var c=e.charCoords(r(e.firstLine(),0),"div");c.left=i.lastHSPos,a=e.coordsChar(c,"div")}return i.lastHPos=a.ch,a},moveByPage:function(e,t,n){var i=t,r=n.repeat;return e.findPosV(i,n.forward?r:-r,"page")},moveByParagraph:function(e,t,n){var i=n.forward?1:-1;return Ee(e,t,n.repeat,i)},moveBySentence:function(e,t,n){var i=n.forward?1:-1;return function(e,t,n,i){function o(e,t){if(t.pos+t.dir<0||t.pos+t.dir>=t.line.length){if(t.ln+=t.dir,!w(e,t.ln))return t.line=null,t.ln=null,void(t.pos=null);t.line=e.getLine(t.ln),t.pos=t.dir>0?0:t.line.length-1}else t.pos+=t.dir}function s(e,t,n,i){var r=e.getLine(t),s=""===r,a={line:r,ln:t,pos:n,dir:i},l={ln:a.ln,pos:a.pos},u=""===a.line;for(o(e,a);null!==a.line;){if(l.ln=a.ln,l.pos=a.pos,""===a.line&&!u)return{ln:a.ln,pos:a.pos};if(s&&""!==a.line&&!C(a.line[a.pos]))return{ln:a.ln,pos:a.pos};!E(a.line[a.pos])||s||a.pos!==a.line.length-1&&!C(a.line[a.pos+1])||(s=!0),o(e,a)}var r=e.getLine(l.ln);l.pos=0;for(var c=r.length-1;c>=0;--c)if(!C(r[c])){l.pos=c;break}return l}function a(e,t,n,i){var r=e.getLine(t),s={line:r,ln:t,pos:n,dir:i},a={ln:s.ln,pos:null},l=""===s.line;for(o(e,s);null!==s.line;){if(""===s.line&&!l)return null!==a.pos?a:{ln:s.ln,pos:s.pos};if(E(s.line[s.pos])&&null!==a.pos&&(s.ln!==a.ln||s.pos+1!==a.pos))return a;""===s.line||C(s.line[s.pos])||(l=!1,a={ln:s.ln,pos:s.pos}),o(e,s)}var r=e.getLine(a.ln);a.pos=0;for(var u=0;u<r.length;++u)if(!C(r[u])){a.pos=u;break}return a}for(var l={ln:t.line,pos:t.ch};n>0;)l=i<0?a(e,l.ln,l.pos,i):s(e,l.ln,l.pos,i),n--;return r(l.ln,l.pos)}(e,t,n.repeat,i)},moveByScroll:function(e,t,n,i){var r=e.getScrollInfo(),o=null,s=n.repeat;s||(s=r.clientHeight/(2*e.defaultTextHeight()));var a=e.charCoords(t,"local");n.repeat=s;var o=V.moveByDisplayLines(e,t,n,i);if(!o)return null;var l=e.charCoords(o,"local");return e.scrollTo(null,r.top+l.top-a.top),o},moveByWords:function(e,t,n){return function(e,t,n,i,o,s){var a=te(t),l=[];(i&&!o||!i&&o)&&n++;for(var u=!(i&&o),c=0;c<n;c++){var p=we(e,t,i,s,u);if(!p){var f=ae(e,e.lastLine());l.push(i?{line:e.lastLine(),from:f,to:f}:{line:0,from:0,to:0});break}l.push(p),t=r(p.line,i?p.to-1:p.from)}var d=l.length!=n,h=l[0],m=l.pop();return i&&!o?(d||h.from==a.ch&&h.line==a.line||(m=l.pop()),r(m.line,m.from)):i&&o?r(m.line,m.to-1):!i&&o?(d||h.to==a.ch&&h.line==a.line||(m=l.pop()),r(m.line,m.to)):r(m.line,m.from)}(e,t,n.repeat,!!n.forward,!!n.wordEnd,!!n.bigWord)},moveTillCharacter:function(e,t,n){var i=n.repeat,r=ke(e,i,n.forward,n.selectedCharacter),o=n.forward?-1:1;return ve(o,n),r?(r.ch+=o,r):null},moveToCharacter:function(e,t,n){var i=n.repeat;return ve(0,n),ke(e,i,n.forward,n.selectedCharacter)||t},moveToSymbol:function(e,t,n){var i=n.repeat;return function(e,t,n,i){var o=te(e.getCursor()),s=n?1:-1,a=n?e.lineCount():-1,l=o.ch,u=o.line,c=e.getLine(u),p={lineText:c,nextCh:c.charAt(l),lastCh:null,index:l,symb:i,reverseSymb:(n?{")":"(","}":"{"}:{"(":")","{":"}"})[i],forward:n,depth:0,curMoveThrough:!1},f=_e[i];if(!f)return o;var d=xe[f].init,h=xe[f].isComplete;for(d&&d(p);u!==a&&t;){if(p.index+=s,p.nextCh=p.lineText.charAt(p.index),!p.nextCh){if(u+=s,p.lineText=e.getLine(u)||"",s>0)p.index=0;else{var m=p.lineText.length;p.index=m>0?m-1:0}p.nextCh=p.lineText.charAt(p.index)}h(p)&&(o.line=u,o.ch=p.index,t--)}return p.nextCh||p.curMoveThrough?r(u,p.index):o}(e,i,n.forward,n.selectedCharacter)||t},moveToColumn:function(e,t,n,i){var o=n.repeat;return i.lastHPos=o-1,i.lastHSPos=e.charCoords(t,"div").left,function(e,t){var n=e.getCursor().line;return X(e,r(n,t-1))}(e,o)},moveToEol:function(e,t,n,i){var o=t;i.lastHPos=1/0;var s=r(o.line+n.repeat-1,1/0),a=e.clipPos(s);return a.ch--,i.lastHSPos=e.charCoords(a,"div").left,s},moveToFirstNonWhiteSpaceCharacter:function(e,t){var n=t;return r(n.line,ge(e.getLine(n.line)))},moveToMatchedSymbol:function(e,t){for(var n,i=t,o=i.line,s=i.ch,a=e.getLine(o);s<a.length;s++)if((n=a.charAt(s))&&-1!="()[]{}".indexOf(n)){var l=e.getTokenTypeAt(r(o,s+1));if("string"!==l&&"comment"!==l)break}if(s<a.length){var u=e.findMatchingBracket(r(o,s),{bracketRegex:/[(){}[\]<>]/});return u.to}return i},moveToStartOfLine:function(e,t){return r(t.line,0)},moveToLineOrEdgeOfDocument:function(e,t,n){var i=n.forward?e.lastLine():e.firstLine();return n.repeatIsExplicit&&(i=n.repeat-e.getOption("firstLineNumber")),r(i,ge(e.getLine(i)))},textObjectManipulation:function(e,t,n,i){var o=n.selectedCharacter;"b"==o?o="(":"B"==o&&(o="{");var s,a=!n.textObjectInner;if({"(":")",")":"(","{":"}","}":"{","[":"]","]":"[","<":">",">":"<"}[o])s=function(e,t,n,i){var o,s,a=t,l={"(":/[()]/,")":/[()]/,"[":/[[\]]/,"]":/[[\]]/,"{":/[{}]/,"}":/[{}]/,"<":/[<>]/,">":/[<>]/}[n],u={"(":"(",")":"(","[":"[","]":"[","{":"{","}":"{","<":"<",">":"<"}[n],c=e.getLine(a.line).charAt(a.ch)===u?1:0;if(o=e.scanForBracket(r(a.line,a.ch+c),-1,void 0,{bracketRegex:l}),s=e.scanForBracket(r(a.line,a.ch+c),1,void 0,{bracketRegex:l}),!o||!s)return{start:a,end:a};if(o=o.pos,s=s.pos,o.line==s.line&&o.ch>s.ch||o.line>s.line){var p=o;o=s,s=p}return i?s.ch+=1:o.ch+=1,{start:o,end:s}}(e,t,o,a);else if({"'":!0,'"':!0}[o])s=function(e,t,n,i){var o,s,a,l,u=te(t),c=e.getLine(u.line).split(""),p=c.indexOf(n);if(u.ch<p?u.ch=p:p<u.ch&&c[u.ch]==n&&(s=u.ch,--u.ch),c[u.ch]!=n||s)for(a=u.ch;a>-1&&!o;a--)c[a]==n&&(o=a+1);else o=u.ch+1;if(o&&!s)for(a=o,l=c.length;a<l&&!s;a++)c[a]==n&&(s=a);return o&&s?(i&&(--o,++s),{start:r(u.line,o),end:r(u.line,s)}):{start:u,end:u}}(e,t,o,a);else if("W"===o)s=be(e,a,0,!0);else if("w"===o)s=be(e,a,0,!1);else{if("p"!==o)return null;if(s=Ee(e,t,n.repeat,0,a),n.linewise=!0,i.visualMode)i.visualLine||(i.visualLine=!0);else{var l=i.inputState.operatorArgs;l&&(l.linewise=!0),s.end.line--}}return e.state.vim.visualMode?function(e,t,n){var i,o=e.state.vim.sel,s=o.head,a=o.anchor;return ie(n,t)&&(i=n,n=t,t=i),ie(s,a)?(s=re(t,s),a=oe(a,n)):(a=re(t,a),-1==(s=Z(s=oe(s,n),0,-1)).ch&&s.line!=e.firstLine()&&(s=r(s.line-1,ae(e,s.line-1)))),[a,s]}(e,s.start,s.end):[s.start,s.end]},repeatLastCharacterSearch:function(e,t,n){var i=O.lastCharacterSearch,r=n.repeat,o=n.forward===i.forward,s=(i.increment?1:0)*(o?-1:1);e.moveH(-s,"char"),n.inclusive=!!o;var a=ke(e,r,o,i.selectedCharacter);return a?(a.ch+=s,a):(e.moveH(s,"char"),t)}};function G(e,t){for(var n=[],i=0;i<t;i++)n.push(e);return n}var K={change:function(t,n,i){var o,s,a=t.state.vim;if(O.macroModeState.lastInsertModeChanges.inVisualBlock=a.visualBlock,a.visualMode){s=t.getSelection();var l=G("",i.length);t.replaceSelections(l),o=re(i[0].head,i[0].anchor)}else{var u=i[0].anchor,c=i[0].head;s=t.getRange(u,c);var p=a.lastEditInputState||{};if("moveByWords"==p.motion&&!C(s)){var f=/\s+$/.exec(s);f&&p.motionArgs&&p.motionArgs.forward&&(c=Z(c,0,-f[0].length),s=s.slice(0,-f[0].length))}var d=new r(u.line-1,Number.MAX_VALUE),h=t.firstLine()==t.lastLine();c.line>t.lastLine()&&n.linewise&&!h?t.replaceRange("",d,c):t.replaceRange("",u,c),n.linewise&&(h||(t.setCursor(d),e.commands.newlineAndIndent(t)),u.ch=Number.MAX_VALUE),o=u}O.registerController.pushText(n.registerName,"change",s,n.linewise,i.length>1),Y.enterInsertMode(t,{head:o},t.state.vim)},delete:function(e,t,n){var i,o,s=e.state.vim;if(s.visualBlock){o=e.getSelection();var a=G("",n.length);e.replaceSelections(a),i=n[0].anchor}else{var l=n[0].anchor,u=n[0].head;t.linewise&&u.line!=e.firstLine()&&l.line==e.lastLine()&&l.line==u.line-1&&(l.line==e.firstLine()?l.ch=0:l=r(l.line-1,ae(e,l.line-1))),o=e.getRange(l,u),e.replaceRange("",l,u),i=l,t.linewise&&(i=V.moveToFirstNonWhiteSpaceCharacter(e,l))}O.registerController.pushText(t.registerName,"delete",o,t.linewise,s.visualBlock);var c=s.insertMode;return X(e,i,c)},indent:function(e,t,n){var i=e.state.vim,r=n[0].anchor.line,o=i.visualBlock?n[n.length-1].anchor.line:n[0].head.line,s=i.visualMode?t.repeat:1;t.linewise&&o--;for(var a=r;a<=o;a++)for(var l=0;l<s;l++)e.indentLine(a,t.indentRight);return V.moveToFirstNonWhiteSpaceCharacter(e,n[0].anchor)},indentAuto:function(e,t,n){return e.execCommand("indentAuto"),V.moveToFirstNonWhiteSpaceCharacter(e,n[0].anchor)},changeCase:function(e,t,n,i,r){for(var o=e.getSelections(),s=[],a=t.toLower,l=0;l<o.length;l++){var u=o[l],c="";if(!0===a)c=u.toLowerCase();else if(!1===a)c=u.toUpperCase();else for(var p=0;p<u.length;p++){var f=u.charAt(p);c+=S(f)?f.toLowerCase():f.toUpperCase()}s.push(c)}return e.replaceSelections(s),t.shouldMoveCursor?r:!e.state.vim.visualMode&&t.linewise&&n[0].anchor.line+1==n[0].head.line?V.moveToFirstNonWhiteSpaceCharacter(e,i):t.linewise?i:re(n[0].anchor,n[0].head)},yank:function(e,t,n,i){var r=e.state.vim,o=e.getSelection(),s=r.visualMode?re(r.sel.anchor,r.sel.head,n[0].head,n[0].anchor):i;return O.registerController.pushText(t.registerName,"yank",o,t.linewise,r.visualBlock),s}},Y={jumpListWalk:function(e,t,n){if(!n.visualMode){var i=t.repeat,r=t.forward,o=O.jumpList,s=o.move(e,r?i:-i),a=s?s.find():void 0;a=a||e.getCursor(),e.setCursor(a)}},scroll:function(e,t,n){if(!n.visualMode){var i=t.repeat||1,r=e.defaultTextHeight(),o=e.getScrollInfo().top,s=r*i,a=t.forward?o+s:o-s,l=te(e.getCursor()),u=e.charCoords(l,"local");if(t.forward)a>u.top?(l.line+=(a-u.top)/r,l.line=Math.ceil(l.line),e.setCursor(l),u=e.charCoords(l,"local"),e.scrollTo(null,u.top)):e.scrollTo(null,a);else{var c=a+e.getScrollInfo().clientHeight;c<u.bottom?(l.line-=(u.bottom-c)/r,l.line=Math.floor(l.line),e.setCursor(l),u=e.charCoords(l,"local"),e.scrollTo(null,u.bottom-e.getScrollInfo().clientHeight)):e.scrollTo(null,a)}}},scrollToCursor:function(e,t){var n=e.getCursor().line,i=e.charCoords(r(n,0),"local"),o=e.getScrollInfo().clientHeight,s=i.top,a=i.bottom-s;switch(t.position){case"center":s=s-o/2+a;break;case"bottom":s=s-o+a}e.scrollTo(null,s)},replayMacro:function(e,t,n){var i=t.selectedCharacter,r=t.repeat,o=O.macroModeState;for("@"==i&&(i=o.latestRegister);r--;)Ye(e,n,o,i)},enterMacroRecordMode:function(e,t){var n=O.macroModeState,i=t.selectedCharacter;O.registerController.isValidRegister(i)&&n.enterMacroRecordMode(e,i)},toggleOverwrite:function(t){t.state.overwrite?(t.toggleOverwrite(!1),t.setOption("keyMap","vim-insert"),e.signal(t,"vim-mode-change",{mode:"insert"})):(t.toggleOverwrite(!0),t.setOption("keyMap","vim-replace"),e.signal(t,"vim-mode-change",{mode:"replace"}))},enterInsertMode:function(t,n,i){if(!t.getOption("readOnly")){i.insertMode=!0,i.insertModeRepeat=n&&n.repeat||1;var o=n?n.insertAt:null,s=i.sel,a=n.head||t.getCursor("head"),l=t.listSelections().length;if("eol"==o)a=r(a.line,ae(t,a.line));else if("charAfter"==o)a=Z(a,0,1);else if("firstNonBlank"==o)a=V.moveToFirstNonWhiteSpaceCharacter(t,a);else if("startOfSelectedArea"==o)i.visualBlock?(a=r(Math.min(s.head.line,s.anchor.line),Math.min(s.head.ch,s.anchor.ch)),l=Math.abs(s.head.line-s.anchor.line)+1):a=s.head.line<s.anchor.line?s.head:r(s.anchor.line,0);else if("endOfSelectedArea"==o)i.visualBlock?(a=r(Math.min(s.head.line,s.anchor.line),Math.max(s.head.ch+1,s.anchor.ch)),l=Math.abs(s.head.line-s.anchor.line)+1):a=s.head.line>=s.anchor.line?Z(s.head,0,1):r(s.anchor.line,0);else if("inplace"==o&&i.visualMode)return;t.setOption("disableInput",!1),n&&n.replace?(t.toggleOverwrite(!0),t.setOption("keyMap","vim-replace"),e.signal(t,"vim-mode-change",{mode:"replace"})):(t.toggleOverwrite(!1),t.setOption("keyMap","vim-insert"),e.signal(t,"vim-mode-change",{mode:"insert"})),O.macroModeState.isPlaying||(t.on("change",Xe),e.on(t.getInputField(),"keydown",et)),i.visualMode&&me(t),pe(t,a,l)}},toggleVisualMode:function(t,n,i){var o,s=n.repeat,a=t.getCursor();i.visualMode?i.visualLine^n.linewise||i.visualBlock^n.blockwise?(i.visualLine=!!n.linewise,i.visualBlock=!!n.blockwise,e.signal(t,"vim-mode-change",{mode:"visual",subMode:i.visualLine?"linewise":i.visualBlock?"blockwise":""}),de(t)):me(t):(i.visualMode=!0,i.visualLine=!!n.linewise,i.visualBlock=!!n.blockwise,o=X(t,r(a.line,a.ch+s-1),!0),i.sel={anchor:a,head:o},e.signal(t,"vim-mode-change",{mode:"visual",subMode:i.visualLine?"linewise":i.visualBlock?"blockwise":""}),de(t),Se(t,i,"<",re(a,o)),Se(t,i,">",oe(a,o)))},reselectLastSelection:function(t,n,i){var r=i.lastSelection;if(i.visualMode&&fe(t,i),r){var o=r.anchorMark.find(),s=r.headMark.find();if(!o||!s)return;i.sel={anchor:o,head:s},i.visualMode=!0,i.visualLine=r.visualLine,i.visualBlock=r.visualBlock,de(t),Se(t,i,"<",re(o,s)),Se(t,i,">",oe(o,s)),e.signal(t,"vim-mode-change",{mode:"visual",subMode:i.visualLine?"linewise":i.visualBlock?"blockwise":""})}},joinLines:function(e,t,n){var i,o;if(n.visualMode){if(i=e.getCursor("anchor"),ie(o=e.getCursor("head"),i)){var s=o;o=i,i=s}o.ch=ae(e,o.line)-1}else{var a=Math.max(t.repeat,2);i=e.getCursor(),o=X(e,r(i.line+a-1,1/0))}for(var l=0,u=i.line;u<o.line;u++){l=ae(e,i.line);var s=r(i.line+1,ae(e,i.line+1)),c=e.getRange(i,s);c=c.replace(/\n\s*/g," "),e.replaceRange(c,i,s)}var p=r(i.line,l);n.visualMode&&me(e,!1),e.setCursor(p)},newLineAndEnterInsertMode:function(t,n,i){i.insertMode=!0;var o=te(t.getCursor());if(o.line!==t.firstLine()||n.after){o.line=n.after?o.line:o.line-1,o.ch=ae(t,o.line),t.setCursor(o);var s=e.commands.newlineAndIndentContinueComment||e.commands.newlineAndIndent;s(t)}else t.replaceRange("\n",r(t.firstLine(),0)),t.setCursor(t.firstLine(),0);this.enterInsertMode(t,{repeat:n.repeat},i)},paste:function(e,t,n){var i=te(e.getCursor()),o=O.registerController.getRegister(t.registerName),s=o.toString();if(s){if(t.matchIndent){var a=e.getOption("tabSize"),l=function(e){var t=e.split("\t").length-1,n=e.split(" ").length-1;return t*a+1*n},u=e.getLine(e.getCursor().line),c=l(u.match(/^\s*/)[0]),p=s.replace(/\n$/,""),f=s!==p,d=l(s.match(/^\s*/)[0]),s=p.replace(/^\s*/gm,function(t){var n=c+(l(t)-d);if(n<0)return"";if(e.getOption("indentWithTabs")){var i=Math.floor(n/a);return Array(i+1).join("\t")}return Array(n+1).join(" ")});s+=f?"\n":""}if(t.repeat>1)var s=Array(t.repeat+1).join(s);var h,m,g=o.linewise,b=o.blockwise;if(g)n.visualMode?s=n.visualLine?s.slice(0,-1):"\n"+s.slice(0,s.length-1)+"\n":t.after?(s="\n"+s.slice(0,s.length-1),i.ch=ae(e,i.line)):i.ch=0;else{if(b){s=s.split("\n");for(var y=0;y<s.length;y++)s[y]=""==s[y]?" ":s[y]}i.ch+=t.after?1:0}if(n.visualMode){var v;n.lastPastedText=s;var _=function(e,t){var n,i,o,s,a,l=t.lastSelection;return t.visualMode?(n=e.listSelections(),i=n[0],o=n[n.length-1],s=ie(i.anchor,i.head)?i.anchor:i.head,a=ie(o.anchor,o.head)?o.head:o.anchor,[s,a]):function(){var t=e.getCursor(),n=e.getCursor(),i=l.visualBlock;if(i){var o=i.width,s=i.height;n=r(t.line+s,t.ch+o);for(var a=[],u=t.line;u<n.line;u++){var c=r(u,t.ch),p=r(u,n.ch),f={anchor:c,head:p};a.push(f)}e.setSelections(a)}else{var d=l.anchorMark.find(),h=l.headMark.find(),m=h.line-d.line,g=h.ch-d.ch;n={line:n.line+m,ch:m?n.ch:g+n.ch},l.visualLine&&(t=r(t.line,0),n=r(n.line,ae(e,n.line))),e.setSelection(t,n)}return[t,n]}()}(e,n),x=_[0],w=_[1],k=e.getSelection(),S=e.listSelections(),C=new Array(S.length).join("1").split("1");n.lastSelection&&(v=n.lastSelection.headMark.find()),O.registerController.unnamedRegister.setText(k),b?(e.replaceSelections(C),w=r(x.line+s.length-1,x.ch),e.setCursor(x),ce(e,w),e.replaceSelections(s),h=x):n.visualBlock?(e.replaceSelections(C),e.setCursor(x),e.replaceRange(s,x,x),h=x):(e.replaceRange(s,x,w),h=e.posFromIndex(e.indexFromPos(x)+s.length-1)),v&&(n.lastSelection.headMark=e.setBookmark(v)),g&&(h.ch=0)}else if(b){e.setCursor(i);for(var y=0;y<s.length;y++){var E=i.line+y;E>e.lastLine()&&e.replaceRange("\n",r(E,0));var T=ae(e,E);T<i.ch&&ue(e,E,i.ch)}e.setCursor(i),ce(e,r(i.line+s.length-1,i.ch)),e.replaceSelections(s),h=i}else e.replaceRange(s,i),g&&t.after?h=r(i.line+1,ge(e.getLine(i.line+1))):g&&!t.after?h=r(i.line,ge(e.getLine(i.line))):!g&&t.after?(m=e.indexFromPos(i),h=e.posFromIndex(m+s.length-1)):(m=e.indexFromPos(i),h=e.posFromIndex(m+s.length));n.visualMode&&me(e,!1),e.setCursor(h)}},undo:function(t,n){t.operation(function(){ee(t,e.commands.undo,n.repeat)(),t.setCursor(t.getCursor("anchor"))})},redo:function(t,n){ee(t,e.commands.redo,n.repeat)()},setRegister:function(e,t,n){n.inputState.registerName=t.selectedCharacter},setMark:function(e,t,n){var i=t.selectedCharacter;Se(e,n,i,e.getCursor())},replace:function(t,n,i){var o,s,a=n.selectedCharacter,l=t.getCursor(),u=t.listSelections();if(i.visualMode)l=t.getCursor("start"),s=t.getCursor("end");else{var c=t.getLine(l.line);(o=l.ch+n.repeat)>c.length&&(o=c.length),s=r(l.line,o)}if("\n"==a)i.visualMode||t.replaceRange("",l,s),(e.commands.newlineAndIndentContinueComment||e.commands.newlineAndIndent)(t);else{var p=t.getRange(l,s);if(p=p.replace(/[^\n]/g,a),i.visualBlock){var f=new Array(t.getOption("tabSize")+1).join(" ");p=(p=t.getSelection()).replace(/\t/g,f).replace(/[^\n]/g,a).split("\n"),t.replaceSelections(p)}else t.replaceRange(p,l,s);i.visualMode?(l=ie(u[0].anchor,u[0].head)?u[0].anchor:u[0].head,t.setCursor(l),me(t,!1)):t.setCursor(Z(s,0,-1))}},incrementNumberToken:function(e,t){for(var n,i,o,s,a=e.getCursor(),l=e.getLine(a.line),u=/(-?)(?:(0x)([\da-f]+)|(0b|0|)(\d+))/gi;null!==(n=u.exec(l))&&(i=n.index,o=i+n[0].length,!(a.ch<o)););if((t.backtrack||!(o<=a.ch))&&n){var c=n[2]||n[4],p=n[3]||n[5],f=t.increase?1:-1,d={"0b":2,0:8,"":10,"0x":16}[c.toLowerCase()],h=parseInt(n[1]+p,d)+f*t.repeat;s=h.toString(d);var m=c?new Array(p.length-s.length+1+n[1].length).join("0"):"";s="-"===s.charAt(0)?"-"+c+m+s.substr(1):c+m+s;var g=r(a.line,i),b=r(a.line,o);e.replaceRange(s,g,b),e.setCursor(r(a.line,i+s.length-1))}},repeatLastEdit:function(e,t,n){var i=n.lastEditInputState;if(i){var r=t.repeat;r&&t.repeatIsExplicit?n.lastEditInputState.repeatOverride=r:r=n.lastEditInputState.repeatOverride||r,tt(e,n,r,!1)}},indent:function(e,t){e.indentLine(e.getCursor().line,t.indentRight)},exitInsertMode:Ge};function X(e,t,n){var i=Math.min(Math.max(e.firstLine(),t.line),e.lastLine()),o=ae(e,i)-1;o=n?o+1:o;var s=Math.min(Math.max(0,t.ch),o);return r(i,s)}function Q(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Z(e,t,n){return"object"==typeof t&&(n=t.ch,t=t.line),r(e.line+t,e.ch+n)}function J(e,t){if("<character>"==t.slice(-11)){var n=t.length-11,i=e.slice(0,n),r=t.slice(0,n);return i==r&&e.length>n?"full":0==r.indexOf(i)&&"partial"}return e==t?"full":0==t.indexOf(e)&&"partial"}function ee(e,t,n){return function(){for(var i=0;i<n;i++)t(e)}}function te(e){return r(e.line,e.ch)}function ne(e,t){return e.ch==t.ch&&e.line==t.line}function ie(e,t){return e.line<t.line||e.line==t.line&&e.ch<t.ch}function re(e,t){return arguments.length>2&&(t=re.apply(void 0,Array.prototype.slice.call(arguments,1))),ie(e,t)?e:t}function oe(e,t){return arguments.length>2&&(t=oe.apply(void 0,Array.prototype.slice.call(arguments,1))),ie(e,t)?t:e}function se(e,t,n){var i=ie(e,t),r=ie(t,n);return i&&r}function ae(e,t){return e.getLine(t).length}function le(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function ue(e,t,n){var i=ae(e,t),o=new Array(n-i+1).join(" ");e.setCursor(r(t,i)),e.replaceRange(o,e.getCursor())}function ce(e,t){var n=[],i=e.listSelections(),o=te(e.clipPos(t)),s=!ne(t,o),a=e.getCursor("head"),l=function(e,t,n){for(var i=0;i<e.length;i++){var r="head"!=n&&ne(e[i].anchor,t),o="anchor"!=n&&ne(e[i].head,t);if(r||o)return i}return-1}(i,a),u=ne(i[l].head,i[l].anchor),c=i.length-1,p=c-l>l?c:0,f=i[p].anchor,d=Math.min(f.line,o.line),h=Math.max(f.line,o.line),m=f.ch,g=o.ch,b=i[p].head.ch-m,y=g-m;b>0&&y<=0?(m++,s||g--):b<0&&y>=0?(m--,u||g++):b<0&&-1==y&&(m--,g++);for(var v=d;v<=h;v++){var _={anchor:new r(v,m),head:new r(v,g)};n.push(_)}return e.setSelections(n),t.ch=g,f.ch=m,f}function pe(e,t,n){for(var i=[],r=0;r<n;r++){var o=Z(t,r,0);i.push({anchor:o,head:o})}e.setSelections(i,0)}function fe(e,t){var n=t.sel.anchor,i=t.sel.head;t.lastPastedText&&(i=e.posFromIndex(e.indexFromPos(n)+t.lastPastedText.length),t.lastPastedText=null),t.lastSelection={anchorMark:e.setBookmark(n),headMark:e.setBookmark(i),anchor:te(n),head:te(i),visualMode:t.visualMode,visualLine:t.visualLine,visualBlock:t.visualBlock}}function de(e,t,n){var i=e.state.vim;t=t||i.sel;var n=n||i.visualLine?"line":i.visualBlock?"block":"char",r=he(e,t,n);e.setSelections(r.ranges,r.primary),Ze(e)}function he(e,t,n,i){var o=te(t.head),s=te(t.anchor);if("char"==n){var a=i||ie(t.head,t.anchor)?0:1,l=ie(t.head,t.anchor)?1:0;return o=Z(t.head,0,a),{ranges:[{anchor:s=Z(t.anchor,0,l),head:o}],primary:0}}if("line"==n){if(ie(t.head,t.anchor))o.ch=0,s.ch=ae(e,s.line);else{s.ch=0;var u=e.lastLine();o.line>u&&(o.line=u),o.ch=ae(e,o.line)}return{ranges:[{anchor:s,head:o}],primary:0}}if("block"==n){for(var c=Math.min(s.line,o.line),p=Math.min(s.ch,o.ch),f=Math.max(s.line,o.line),d=Math.max(s.ch,o.ch)+1,h=f-c+1,m=o.line==c?0:h-1,g=[],b=0;b<h;b++)g.push({anchor:r(c+b,p),head:r(c+b,d)});return{ranges:g,primary:m}}}function me(t,n){var i=t.state.vim;!1!==n&&t.setCursor(X(t,i.sel.head)),fe(t,i),i.visualMode=!1,i.visualLine=!1,i.visualBlock=!1,e.signal(t,"vim-mode-change",{mode:"normal"}),i.fakeCursor&&i.fakeCursor.clear()}function ge(e){if(!e)return 0;var t=e.search(/\S/);return-1==t?e.length:t}function be(e,t,n,i,o){for(var s=function(e){var t=e.getCursor("head");return 1==e.getSelection().length&&(t=re(t,e.getCursor("anchor"))),t}(e),a=e.getLine(s.line),l=s.ch,u=o?h[0]:m[0];!u(a.charAt(l));)if(++l>=a.length)return null;i?u=m[0]:(u=h[0])(a.charAt(l))||(u=h[1]);for(var c=l,p=l;u(a.charAt(c))&&c<a.length;)c++;for(;u(a.charAt(p))&&p>=0;)p--;if(p++,t){for(var f=c;/\s/.test(a.charAt(c))&&c<a.length;)c++;if(f==c){for(var d=p;/\s/.test(a.charAt(p-1))&&p>0;)p--;p||(p=d)}}return{start:r(s.line,p),end:r(s.line,c)}}function ye(e,t,n){ne(t,n)||O.jumpList.add(e,t,n)}function ve(e,t){O.lastCharacterSearch.increment=e,O.lastCharacterSearch.forward=t.forward,O.lastCharacterSearch.selectedCharacter=t.selectedCharacter}var _e={"(":"bracket",")":"bracket","{":"bracket","}":"bracket","[":"section","]":"section","*":"comment","/":"comment",m:"method",M:"method","#":"preprocess"},xe={bracket:{isComplete:function(e){if(e.nextCh===e.symb){if(e.depth++,e.depth>=1)return!0}else e.nextCh===e.reverseSymb&&e.depth--;return!1}},section:{init:function(e){e.curMoveThrough=!0,e.symb=(e.forward?"]":"[")===e.symb?"{":"}"},isComplete:function(e){return 0===e.index&&e.nextCh===e.symb}},comment:{isComplete:function(e){var t="*"===e.lastCh&&"/"===e.nextCh;return e.lastCh=e.nextCh,t}},method:{init:function(e){e.symb="m"===e.symb?"{":"}",e.reverseSymb="{"===e.symb?"}":"{"},isComplete:function(e){return e.nextCh===e.symb}},preprocess:{init:function(e){e.index=0},isComplete:function(e){if("#"===e.nextCh){var t=e.lineText.match(/#(\w+)/)[1];if("endif"===t){if(e.forward&&0===e.depth)return!0;e.depth++}else if("if"===t){if(!e.forward&&0===e.depth)return!0;e.depth--}if("else"===t&&0===e.depth)return!0}return!1}}};function we(e,t,n,i,r){var o=t.line,s=t.ch,a=e.getLine(o),l=n?1:-1,u=i?m:h;if(r&&""==a){if(o+=l,a=e.getLine(o),!w(e,o))return null;s=n?0:a.length}for(;;){if(r&&""==a)return{from:0,to:0,line:o};for(var c=l>0?a.length:-1,p=c,f=c;s!=c;){for(var d=!1,g=0;g<u.length&&!d;++g)if(u[g](a.charAt(s))){for(p=s;s!=c&&u[g](a.charAt(s));)s+=l;if(d=p!=(f=s),p==t.ch&&o==t.line&&f==p+l)continue;return{from:Math.min(p,f+1),to:Math.max(p,f),line:o}}d||(s+=l)}if(!w(e,o+=l))return null;a=e.getLine(o),s=l>0?0:a.length}}function ke(e,t,n,i){for(var o,s=e.getCursor(),a=s.ch,l=0;l<t;l++){var u=e.getLine(s.line);if(-1==(o=Ce(a,u,i,n,!0)))return null;a=o}return r(e.getCursor().line,o)}function Se(e,t,n,i){T(n,_)&&(t.marks[n]&&t.marks[n].clear(),t.marks[n]=e.setBookmark(i))}function Ce(e,t,n,i,r){var o;return i?-1==(o=t.indexOf(n,e+1))||r||(o-=1):-1==(o=t.lastIndexOf(n,e-1))||r||(o+=1),o}function Ee(e,t,n,i,o){var s,a=t.line,l=e.firstLine(),u=e.lastLine(),c=a;function p(t){return!e.getLine(t)}function f(e,t,n){return n?p(e)!=p(e+t):!p(e)&&p(e+t)}if(i){for(;l<=c&&c<=u&&n>0;)f(c,i)&&n--,c+=i;return new r(c,0)}var d=e.state.vim;if(d.visualLine&&f(a,1,!0)){var h=d.sel.anchor;f(h.line,-1,!0)&&(o&&h.line==a||(a+=1))}var m=p(a);for(c=a;c<=u&&n;c++)f(c,1,!0)&&(o&&p(c)==m||n--);for(s=new r(c,0),c>u&&!m?m=!0:o=!1,c=a;c>l&&(o&&p(c)!=m&&c!=a||!f(c,-1,!0));c--);return{start:new r(c,0),end:s}}function Te(){}function Ae(e){var t=e.state.vim;return t.searchState_||(t.searchState_=new Te)}function Ne(e,t,n,i,r){e.openDialog?e.openDialog(t,i,{bottom:!0,value:r.value,onKeyDown:r.onKeyDown,onKeyUp:r.onKeyUp,selectValueOnOpen:!1}):i(prompt(n,""))}function Me(e,t){var n=Re(e,t)||[];if(!n.length)return[];var i=[];if(0===n[0]){for(var r=0;r<n.length;r++)"number"==typeof n[r]&&i.push(e.substring(n[r]+1,n[r+1]));return i}}function Re(e,t){t||(t="/");for(var n=!1,i=[],r=0;r<e.length;r++){var o=e.charAt(r);n||o!=t||i.push(r),n=!n&&"\\"==o}return i}N("pcre",!0,"boolean"),Te.prototype={getQuery:function(){return O.query},setQuery:function(e){O.query=e},getOverlay:function(){return this.searchOverlay},setOverlay:function(e){this.searchOverlay=e},isReversed:function(){return O.isReversed},setReversed:function(e){O.isReversed=e},getScrollbarAnnotate:function(){return this.annotate},setScrollbarAnnotate:function(e){this.annotate=e}};var Oe={"\\n":"\n","\\r":"\r","\\t":"\t"},Le={"\\/":"/","\\\\":"\\","\\n":"\n","\\r":"\r","\\t":"\t"};function Pe(e,t,n){var i=O.registerController.getRegister("/");if(i.setText(e),e instanceof RegExp)return e;var r,o,s=Re(e,"/");if(s.length){r=e.substring(0,s[0]);var a=e.substring(s[0]);o=-1!=a.indexOf("i")}else r=e;if(!r)return null;R("pcre")||(r=function(e){for(var t=!1,n=[],i=-1;i<e.length;i++){var r=e.charAt(i)||"",o=e.charAt(i+1)||"",s=o&&-1!="|(){".indexOf(o);t?("\\"===r&&s||n.push(r),t=!1):"\\"===r?(t=!0,o&&-1!="}".indexOf(o)&&(s=!0),s&&"\\"!==o||n.push(r)):(n.push(r),s&&"\\"!==o&&n.push("\\"))}return n.join("")}(r)),n&&(t=/^[^A-Z]*$/.test(r));var l=new RegExp(r,t||o?"i":void 0);return l}function De(e,t){e.openNotification?e.openNotification('<span style="color: red">'+t+"</span>",{bottom:!0,duration:5e3}):alert(t)}var Ie="(Javascript regexp)";function Fe(e,t){var n,i,r,o=(t.prefix||"")+" "+(t.desc||""),s=(n=t.prefix,i=t.desc,r='<span style="font-family: monospace; white-space: pre">'+(n||"")+'<input type="text"></span>',i&&(r+=' <span style="color: #888">'+i+"</span>"),r);Ne(e,s,o,t.onClose,t)}function $e(e,t,n,i){if(t){var r=Ae(e),o=Pe(t,!!n,!!i);if(o)return je(e,o),function(e,t){if(e instanceof RegExp&&t instanceof RegExp){for(var n=["global","multiline","ignoreCase","source"],i=0;i<n.length;i++){var r=n[i];if(e[r]!==t[r])return!1}return!0}return!1}(o,r.getQuery())?o:(r.setQuery(o),o)}}function je(e,t){var n=Ae(e),i=n.getOverlay();i&&t==i.query||(i&&e.removeOverlay(i),i=function(e){if("^"==e.source.charAt(0))var t=!0;return{token:function(n){if(!t||n.sol()){var i=n.match(e,!1);if(i)return 0==i[0].length?(n.next(),"searching"):n.sol()||(n.backUp(1),e.exec(n.next()+i[0]))?(n.match(e),"searching"):(n.next(),null);for(;!n.eol()&&(n.next(),!n.match(e,!1)););}else n.skipToEnd()},query:e}}(t),e.addOverlay(i),e.showMatchesOnScrollbar&&(n.getScrollbarAnnotate()&&n.getScrollbarAnnotate().clear(),n.setScrollbarAnnotate(e.showMatchesOnScrollbar(t))),n.setOverlay(i))}function Be(e,t,n,i){return void 0===i&&(i=1),e.operation(function(){for(var o=e.getCursor(),s=e.getSearchCursor(n,o),a=0;a<i;a++){var l=s.find(t);if(0==a&&l&&ne(s.from(),o)&&(l=s.find(t)),!l&&!(s=e.getSearchCursor(n,t?r(e.lastLine()):r(e.firstLine(),0))).find(t))return}return s.from()})}function ze(e){var t=Ae(e);e.removeOverlay(Ae(e).getOverlay()),t.setOverlay(null),t.getScrollbarAnnotate()&&(t.getScrollbarAnnotate().clear(),t.setScrollbarAnnotate(null))}function qe(e){var t=e.getScrollInfo(),n=e.coordsChar({left:0,top:6+t.top},"local"),i=t.clientHeight-10+t.top,r=e.coordsChar({left:0,top:i},"local");return{top:n.line,bottom:r.line}}function He(e,t,n){if("'"==n){var i=e.doc.history.done,r=i[i.length-2];return r&&r.ranges&&r.ranges[0].head}if("."==n){if(0==e.doc.history.lastModTime)return;var o=e.doc.history.done.filter(function(e){if(void 0!==e.changes)return e});o.reverse();var s=o[0].changes[0].to;return s}var a=t.marks[n];return a&&a.find()}var Ue=function(){this.buildCommandMap_()};Ue.prototype={processCommand:function(e,t,n){var i=this;e.operation(function(){e.curOp.isVimOp=!0,i._processCommand(e,t,n)})},_processCommand:function(t,n,i){var r=t.state.vim,o=O.registerController.getRegister(":"),s=o.toString();r.visualMode&&me(t);var a=new e.StringStream(n);o.setText(n);var l,u,c=i||{};c.input=n;try{this.parseInput_(t,a,c)}catch(e){throw De(t,e),e}if(c.commandName){if(l=this.matchCommand_(c.commandName)){if(u=l.name,l.excludeFromCommandHistory&&o.setText(s),this.parseCommandArgs_(a,c,l),"exToKey"==l.type){for(var p=0;p<l.toKeys.length;p++)e.Vim.handleKey(t,l.toKeys[p],"mapping");return}if("exToEx"==l.type)return void this.processCommand(t,l.toInput)}}else void 0!==c.line&&(u="move");if(u)try{We[u](t,c),l&&l.possiblyAsync||!c.callback||c.callback()}catch(e){throw De(t,e),e}else De(t,'Not an editor command ":'+n+'"')},parseInput_:function(e,t,n){t.eatWhile(":"),t.eat("%")?(n.line=e.firstLine(),n.lineEnd=e.lastLine()):(n.line=this.parseLineSpec_(e,t),void 0!==n.line&&t.eat(",")&&(n.lineEnd=this.parseLineSpec_(e,t)));var i=t.match(/^(\w+)/);return n.commandName=i?i[1]:t.match(/.*/)[0],n},parseLineSpec_:function(e,t){var n=t.match(/^(\d+)/);if(n)return parseInt(n[1],10)-1;switch(t.next()){case".":return this.parseLineSpecOffset_(t,e.getCursor().line);case"$":return this.parseLineSpecOffset_(t,e.lastLine());case"'":var i=t.next(),r=He(e,e.state.vim,i);if(!r)throw new Error("Mark not set");return this.parseLineSpecOffset_(t,r.line);case"-":case"+":return t.backUp(1),this.parseLineSpecOffset_(t,e.getCursor().line);default:return void t.backUp(1)}},parseLineSpecOffset_:function(e,t){var n=e.match(/^([+-])?(\d+)/);if(n){var i=parseInt(n[2],10);"-"==n[1]?t-=i:t+=i}return t},parseCommandArgs_:function(e,t,n){if(!e.eol()){t.argString=e.match(/.*/)[0];var i=n.argDelimiter||/\s+/,r=le(t.argString).split(i);r.length&&r[0]&&(t.args=r)}},matchCommand_:function(e){for(var t=e.length;t>0;t--){var n=e.substring(0,t);if(this.commandMap_[n]){var i=this.commandMap_[n];if(0===i.name.indexOf(e))return i}}return null},buildCommandMap_:function(){this.commandMap_={};for(var e=0;e<i.length;e++){var t=i[e],n=t.shortName||t.name;this.commandMap_[n]=t}},map:function(e,n,i){if(":"!=e&&":"==e.charAt(0)){if(i)throw Error("Mode not supported for ex mappings");var r=e.substring(1);":"!=n&&":"==n.charAt(0)?this.commandMap_[r]={name:r,type:"exToEx",toInput:n.substring(1),user:!0}:this.commandMap_[r]={name:r,type:"exToKey",toKeys:n,user:!0}}else if(":"!=n&&":"==n.charAt(0)){var o={keys:e,type:"keyToEx",exArgs:{input:n.substring(1)}};i&&(o.context=i),t.unshift(o)}else{var o={keys:e,type:"keyToKey",toKeys:n};i&&(o.context=i),t.unshift(o)}},unmap:function(e,n){if(":"!=e&&":"==e.charAt(0)){if(n)throw Error("Mode not supported for ex mappings");var i=e.substring(1);if(this.commandMap_[i]&&this.commandMap_[i].user)return void delete this.commandMap_[i]}else for(var r=e,o=0;o<t.length;o++)if(r==t[o].keys&&t[o].context===n)return void t.splice(o,1);throw Error("No such mapping.")}};var We={colorscheme:function(e,t){!t.args||t.args.length<1?De(e,e.getOption("theme")):e.setOption("theme",t.args[0])},map:function(e,t,n){var i=t.args;!i||i.length<2?e&&De(e,"Invalid mapping: "+t.input):Ve.map(i[0],i[1],n)},imap:function(e,t){this.map(e,t,"insert")},nmap:function(e,t){this.map(e,t,"normal")},vmap:function(e,t){this.map(e,t,"visual")},unmap:function(e,t,n){var i=t.args;!i||i.length<1?e&&De(e,"No such mapping: "+t.input):Ve.unmap(i[0],n)},move:function(e,t){W.processCommand(e,e.state.vim,{type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0},repeatOverride:t.line+1})},set:function(e,t){var n=t.args,i=t.setCfg||{};if(!n||n.length<1)e&&De(e,"Invalid mapping: "+t.input);else{var r=n[0].split("="),o=r[0],s=r[1],a=!1;if("?"==o.charAt(o.length-1)){if(s)throw Error("Trailing characters: "+t.argString);o=o.substring(0,o.length-1),a=!0}void 0===s&&"no"==o.substring(0,2)&&(o=o.substring(2),s=!1);var l=A[o]&&"boolean"==A[o].type;if(l&&null==s&&(s=!0),!l&&void 0===s||a){var u=R(o,e,i);u instanceof Error?De(e,u.message):De(e,!0===u||!1===u?" "+(u?"":"no")+o:"  "+o+"="+u)}else{var c=M(o,s,e,i);c instanceof Error&&De(e,c.message)}}},setlocal:function(e,t){t.setCfg={scope:"local"},this.set(e,t)},setglobal:function(e,t){t.setCfg={scope:"global"},this.set(e,t)},registers:function(e,t){var n=t.args,i=O.registerController.registers,r="----------Registers----------<br><br>";if(n){n=n.join("");for(var o=0;o<n.length;o++)if(a=n.charAt(o),O.registerController.isValidRegister(a)){var s=i[a]||new q;r+='"'+a+"    "+s.toString()+"<br>"}}else for(var a in i){var l=i[a].toString();l.length&&(r+='"'+a+"    "+l+"<br>")}De(e,r)},sort:function(t,n){var i,o,s,a,l,u=function(){if(n.argString){var t=new e.StringStream(n.argString);if(t.eat("!")&&(i=!0),t.eol())return;if(!t.eatSpace())return"Invalid arguments";var r=t.match(/([dinuox]+)?\s*(\/.+\/)?\s*/);if(!r&&!t.eol())return"Invalid arguments";if(r[1]){o=-1!=r[1].indexOf("i"),s=-1!=r[1].indexOf("u");var u=-1!=r[1].indexOf("d")||-1!=r[1].indexOf("n")&&1,c=-1!=r[1].indexOf("x")&&1,p=-1!=r[1].indexOf("o")&&1;if(u+c+p>1)return"Invalid arguments";a=(u?"decimal":c&&"hex")||p&&"octal"}r[2]&&(l=new RegExp(r[2].substr(1,r[2].length-2),o?"i":""))}}();if(u)De(t,u+": "+n.argString);else{var c=n.line||t.firstLine(),p=n.lineEnd||n.line||t.lastLine();if(c!=p){var f=r(c,0),d=r(p,ae(t,p)),h=t.getRange(f,d).split("\n"),m=l||("decimal"==a?/(-?)([\d]+)/:"hex"==a?/(-?)(?:0x)?([0-9a-f]+)/i:"octal"==a?/([0-7]+)/:null),g="decimal"==a?10:"hex"==a?16:"octal"==a?8:null,b=[],y=[];if(a||l)for(var v=0;v<h.length;v++){var _=l?h[v].match(l):null;_&&""!=_[0]?b.push(_):!l&&m.exec(h[v])?b.push(h[v]):y.push(h[v])}else y=h;if(b.sort(l?function(e,t){var n;i&&(n=e,e=t,t=n);return o&&(e[0]=e[0].toLowerCase(),t[0]=t[0].toLowerCase()),e[0]<t[0]?-1:1}:k),l)for(var v=0;v<b.length;v++)b[v]=b[v].input;else a||y.sort(k);if(h=i?b.concat(y):y.concat(b),s){var x,w=h;h=[];for(var v=0;v<w.length;v++)w[v]!=x&&h.push(w[v]),x=w[v]}t.replaceRange(h.join("\n"),f,d)}}function k(e,t){var n;i&&(n=e,e=t,t=n),o&&(e=e.toLowerCase(),t=t.toLowerCase());var r=a&&m.exec(e),s=a&&m.exec(t);return r?(r=parseInt((r[1]+r[2]).toLowerCase(),g),s=parseInt((s[1]+s[2]).toLowerCase(),g),r-s):e<t?-1:1}},global:function(e,t){var n=t.argString;if(n){var i,r=void 0!==t.line?t.line:e.firstLine(),o=t.lineEnd||t.line||e.lastLine(),s=function(e){return Me(e,"/")}(n),a=n;if(s.length&&(a=s[0],i=s.slice(1,s.length).join("/")),a)try{$e(e,a,!0,!0)}catch(t){return void De(e,"Invalid regex: "+a)}for(var l=Ae(e).getQuery(),u=[],c="",p=r;p<=o;p++){var f=l.test(e.getLine(p));f&&(u.push(p+1),c+=e.getLine(p)+"<br>")}if(i){var d=0,h=function(){if(d<u.length){var t=u[d]+i;Ve.processCommand(e,t,{callback:h})}d++};h()}else De(e,c)}else De(e,"Regular Expression missing from global")},substitute:function(t,n){if(!t.getSearchCursor)throw new Error("Search feature not available. Requires searchcursor.js or any other getSearchCursor implementation.");var i,o,s,a,l=n.argString,u=l?Me(l,l[0]):[],c="",p=!1,f=!1;if(u.length)i=u[0],c=u[1],i&&"$"===i[i.length-1]&&(i=i.slice(0,i.length-1)+"\\n",c=c?c+"\n":"\n"),void 0!==c&&(c=R("pcre")?function(t){for(var n=new e.StringStream(t),i=[];!n.eol();){for(;n.peek()&&"\\"!=n.peek();)i.push(n.next());var r=!1;for(var o in Le)if(n.match(o,!0)){r=!0,i.push(Le[o]);break}r||i.push(n.next())}return i.join("")}(c):function(e){for(var t=!1,n=[],i=-1;i<e.length;i++){var r=e.charAt(i)||"",o=e.charAt(i+1)||"";Oe[r+o]?(n.push(Oe[r+o]),i++):t?(n.push(r),t=!1):"\\"===r?(t=!0,s=o,d.test(s)||"$"===o?n.push("$"):"/"!==o&&"\\"!==o&&n.push("\\")):("$"===r&&n.push("$"),n.push(r),"/"===o&&n.push("\\"))}var s;return n.join("")}(c),O.lastSubstituteReplacePart=c),o=u[2]?u[2].split(" "):[];else if(l&&l.length)return void De(t,"Substitutions should be of the form :s/pattern/replace/");if(o&&(s=o[0],a=parseInt(o[1]),s&&(-1!=s.indexOf("c")&&(p=!0,s.replace("c","")),-1!=s.indexOf("g")&&(f=!0,s.replace("g","")),i=i.replace(/\//g,"\\/")+"/"+s)),i)try{$e(t,i,!0,!0)}catch(e){return void De(t,"Invalid regex: "+i)}if(void 0!==(c=c||O.lastSubstituteReplacePart)){var h=Ae(t),m=h.getQuery(),g=void 0!==n.line?n.line:t.getCursor().line,b=n.lineEnd||g;g==t.firstLine()&&b==t.lastLine()&&(b=1/0),a&&(b=(g=b)+a-1);var y=X(t,r(g,0)),v=t.getSearchCursor(m,y);!function(t,n,i,r,o,s,a,l,u){t.state.vim.exMode=!0;var c=!1,p=s.from();function f(){t.operation(function(){for(;!c;)d(),h();m()})}function d(){var e=t.getRange(s.from(),s.to()),n=e.replace(a,l);s.replace(n)}function h(){for(;s.findNext()&&(e=s.from(),n=r,a=o,"number"!=typeof e&&(e=e.line),n instanceof Array?T(e,n):a?e>=n&&e<=a:e==n);)if(i||!p||s.from().line!=p.line)return t.scrollIntoView(s.from(),30),t.setSelection(s.from(),s.to()),p=s.from(),void(c=!1);var e,n,a;c=!0}function m(e){if(e&&e(),t.focus(),p){t.setCursor(p);var n=t.state.vim;n.exMode=!1,n.lastHPos=n.lastHSPos=p.ch}u&&u()}if(h(),!c)return n?void Fe(t,{prefix:"replace with <strong>"+l+"</strong> (y/n/a/q/l)",onKeyDown:function(n,i,r){switch(e.e_stop(n),e.keyName(n)){case"Y":d(),h();break;case"N":h();break;case"A":var o=u;u=void 0,t.operation(f),u=o;break;case"L":d();case"Q":case"Esc":case"Ctrl-C":case"Ctrl-[":m(r)}return c&&m(r),!0}}):(f(),void(u&&u()));De(t,"No matches for "+a.source)}(t,p,f,g,b,v,m,c,n.callback)}else De(t,"No previous substitute regular expression")},redo:e.commands.redo,undo:e.commands.undo,write:function(t){e.commands.save?e.commands.save(t):t.save&&t.save()},nohlsearch:function(e){ze(e)},yank:function(e){var t=te(e.getCursor()),n=t.line,i=e.getLine(n);O.registerController.pushText("0","yank",i,!0,!0)},delmarks:function(t,n){if(n.argString&&le(n.argString))for(var i=t.state.vim,r=new e.StringStream(le(n.argString));!r.eol();){r.eatSpace();var o=r.pos;if(!r.match(/[a-zA-Z]/,!1))return void De(t,"Invalid argument: "+n.argString.substring(o));var s=r.next();if(r.match("-",!0)){if(!r.match(/[a-zA-Z]/,!1))return void De(t,"Invalid argument: "+n.argString.substring(o));var a=s,l=r.next();if(!(k(a)&&k(l)||S(a)&&S(l)))return void De(t,"Invalid argument: "+a+"-");var u=a.charCodeAt(0),c=l.charCodeAt(0);if(u>=c)return void De(t,"Invalid argument: "+n.argString.substring(o));for(var p=0;p<=c-u;p++){var f=String.fromCharCode(u+p);delete i.marks[f]}}else delete i.marks[s]}else De(t,"Argument required")}},Ve=new Ue;function Ge(t){var n=t.state.vim,i=O.macroModeState,r=O.registerController.getRegister("."),o=i.isPlaying,s=i.lastInsertModeChanges;o||(t.off("change",Xe),e.off(t.getInputField(),"keydown",et)),!o&&n.insertModeRepeat>1&&(tt(t,n,n.insertModeRepeat-1,!0),n.lastEditInputState.repeatOverride=n.insertModeRepeat),delete n.insertModeRepeat,n.insertMode=!1,t.setCursor(t.getCursor().line,t.getCursor().ch-1),t.setOption("keyMap","vim"),t.setOption("disableInput",!0),t.toggleOverwrite(!1),r.setText(s.changes.join("")),e.signal(t,"vim-mode-change",{mode:"normal"}),i.isRecording&&function(e){if(!e.isPlaying){var t=e.latestRegister,n=O.registerController.getRegister(t);n&&n.pushInsertModeChanges&&n.pushInsertModeChanges(e.lastInsertModeChanges)}}(i)}function Ke(e){t.unshift(e)}function Ye(t,n,i,r){var o=O.registerController.getRegister(r);if(":"==r)return o.keyBuffer[0]&&Ve.processCommand(t,o.keyBuffer[0]),void(i.isPlaying=!1);var s=o.keyBuffer,a=0;i.isPlaying=!0,i.replaySearchQueries=o.searchQueries.slice(0);for(var l=0;l<s.length;l++)for(var u,c,p=s[l];p;)if(u=/<\w+-.+?>|<\w+>|./.exec(p),c=u[0],p=p.substring(u.index+c.length),e.Vim.handleKey(t,c,"macro"),n.insertMode){var f=o.insertModeChanges[a++].changes;O.macroModeState.lastInsertModeChanges.changes=f,nt(t,f,1),Ge(t)}i.isPlaying=!1}function Xe(e,t){var n=O.macroModeState,i=n.lastInsertModeChanges;if(!n.isPlaying)for(;t;){if(i.expectCursorActivityForChange=!0,i.ignoreCount>1)i.ignoreCount--;else if("+input"==t.origin||"paste"==t.origin||void 0===t.origin){var r=e.listSelections().length;r>1&&(i.ignoreCount=r);var o=t.text.join("\n");i.maybeReset&&(i.changes=[],i.maybeReset=!1),o&&(e.state.overwrite&&!/\n/.test(o)?i.changes.push([o]):i.changes.push(o))}t=t.next}}function Qe(t){var n=t.state.vim;if(n.insertMode){var i=O.macroModeState;if(i.isPlaying)return;var r=i.lastInsertModeChanges;r.expectCursorActivityForChange?r.expectCursorActivityForChange=!1:r.maybeReset=!0}else t.curOp.isVimOp||function(t,n){var i=t.getCursor("anchor"),r=t.getCursor("head");if(n.visualMode&&!t.somethingSelected()?me(t,!1):n.visualMode||n.insertMode||!t.somethingSelected()||(n.visualMode=!0,n.visualLine=!1,e.signal(t,"vim-mode-change",{mode:"visual"})),n.visualMode){var o=ie(r,i)?0:-1,s=ie(r,i)?-1:0;r=Z(r,0,o),i=Z(i,0,s),n.sel={anchor:i,head:r},Se(t,n,"<",re(r,i)),Se(t,n,">",oe(r,i))}else n.insertMode||(n.lastHPos=t.getCursor().ch)}(t,n);n.visualMode&&Ze(t)}function Ze(e){var t=e.state.vim,n=X(e,te(t.sel.head)),i=Z(n,0,1);t.fakeCursor&&t.fakeCursor.clear(),t.fakeCursor=e.markText(n,i,{className:"cm-animate-fat-cursor"})}function Je(e){this.keyName=e}function et(t){var n=O.macroModeState,i=n.lastInsertModeChanges,r=e.keyName(t);r&&(-1==r.indexOf("Delete")&&-1==r.indexOf("Backspace")||e.lookupKey(r,"vim-insert",function(){return i.maybeReset&&(i.changes=[],i.maybeReset=!1),i.changes.push(new Je(r)),!0}))}function tt(e,t,n,i){var r=O.macroModeState;r.isPlaying=!0;var o=!!t.lastEditActionCommand,s=t.inputState;function a(){o?W.processAction(e,t,t.lastEditActionCommand):W.evalInput(e,t)}function l(n){if(r.lastInsertModeChanges.changes.length>0){n=t.lastEditActionCommand?n:1;var i=r.lastInsertModeChanges;nt(e,i.changes,n)}}if(t.inputState=t.lastEditInputState,o&&t.lastEditActionCommand.interlaceInsertRepeat)for(var u=0;u<n;u++)a(),l(1);else i||a(),l(n);t.inputState=s,t.insertMode&&!i&&Ge(e),r.isPlaying=!1}function nt(t,n,i){function r(n){return"string"==typeof n?e.commands[n](t):n(t),!0}var o=t.getCursor("head"),s=O.macroModeState.lastInsertModeChanges.inVisualBlock;if(s){var a=t.state.vim,l=a.lastSelection,u=function(e,t){return{line:t.line-e.line,ch:t.line-e.line}}(l.anchor,l.head);pe(t,o,u.line+1),i=t.listSelections().length,t.setCursor(o)}for(var c=0;c<i;c++){s&&t.setCursor(Z(o,c,0));for(var p=0;p<n.length;p++){var f=n[p];if(f instanceof Je)e.lookupKey(f.keyName,"vim-insert",r);else if("string"==typeof f){var d=t.getCursor();t.replaceRange(f,d,d)}else{var h=t.getCursor(),m=Z(h,0,f[0].length);t.replaceRange(f[0],h,m)}}}s&&t.setCursor(Z(o,0,1))}return e.keyMap.vim={attach:s,detach:o,call:u},N("insertModeEscKeysTimeout",200,"number"),e.keyMap["vim-insert"]={fallthrough:["default"],attach:s,detach:o,call:u},e.keyMap["vim-replace"]={Backspace:"goCharLeft",fallthrough:["vim-insert"],attach:s,detach:o,call:u},$(),j}()}(n(8),n(321),n(329),n(359))},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h;d=n(217),r=n(43),n(15),a=n(205),i=n(100),s=n(360),l=n(330),({button:u,div:c,i:p,iframe:f,span:h}=ReactDOMFactories),o=reactCreateClass({displayName:"FullGUI",mixins:[i,s,l,mixins.ViewMixin,Reflux.connect(r,"container"),Reflux.connect(a,"tabs")],getInitialState:function(){return{fullscreen:!1,id:Math.random().toString().substr(2),loaded:!1}},componentDidMount:function(){return this.setClearTimeout(`full-gui-frame-${this.state.id}`,this.showGUI),d.on("change",()=>this.setState({fullscreen:d.isFullscreen})),this.startServices("full-gui")},componentWillUnmount:function(){if(this.state.timeout)return clearTimeout(this.state.timeout)},componentDidUpdate:function(e,t){return this.startServices("full-gui")},onServicesStarted:function(){return this.setState({timeout:setTimeout(()=>this.loadUrl(`full-gui-frame-${this.state.id}`,this.state.container.full_gui_url),2e3)})},showGUI:function(){return console.info("Started full GUI"),$(`#full-gui-loading-${this.state.id}`).css("display","none"),$(`#full-gui-frame-outer-${this.state.id}`).css("display","block"),$(`#full-gui-frame-${this.state.id}`).mouseover(()=>$(`#full-gui-frame-${this.state.id}`)[0].contentWindow.focus())},render:function(){return c({id:`full-gui-${this.state.id}`,className:"full-gui"},c({className:"inner"},this.state.container.token?c({id:`full-gui-loading-${this.state.id}`,className:"full-gui-loading"},p({className:"far fa-spinner-third fa-spin"})):void 0,c({id:`full-gui-frame-outer-${this.state.id}`,className:"full-gui-frame-outer"},h({className:"fullscreen-full-gui",onClick:()=>this.toggleFullScreen(document.getElementById(`full-gui-${this.state.id}`)),"data-toggle":"tooltip","data-original-title":`${this.state.fullscreen?"Minimize":"Fullscreen"}`,"data-placement":"auto left"},p({className:`far fa-${this.state.fullscreen?"compress":"expand"}`})),f({id:`full-gui-frame-${this.state.id}`,className:"full-gui-frame",frameBorder:0,marginHeight:0,marginWidth:0,scrolling:"no"}))))}}),e.exports=o},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h;h=n(107),n(71),r=n(43),s=n(136),l=n(15),i=n(100),o=n(326),u=n(358),c=n(308),({div:p,id:f,p:d}=ReactDOMFactories),a=reactCreateClass({displayName:"InvalidFile",mixins:[mixins.AjaxMixin,mixins.TooltipMixin,i,o,u,c,Reflux.connect(r,"container"),Reflux.connectFilter(s,"sockets",function(e){return e.sockets}),Reflux.connectFilter(l,"color_scheme",function(e){return e.color_scheme})],propTypes:{access_token:PropTypes.string.isRequired,message:PropTypes.string.isRequired,file_actions_enabled:PropTypes.bool.isRequired,tab:PropTypes.object.isRequired},getInitialState:function(){return{connected:!1,file:null,id:Math.random().toString().substr(2)}},componentDidMount:function(){return this.mounted=!0,$(window).on("beforeunload",this.onPageUnload),this.attemptSocketConnection(),this.initializeTooltips(`#unprintable-file-${this.state.id}`)},componentDidUpdate:function(){return this.attemptSocketConnection()},componentWillUnmount:function(){if(this.mounted=!1,$(window).off("beforeunload",this.onPageUnload),this.state.socket)return this.state.socket.removeEventListener("message",this.onSocketMessage)},onPageUnload:function(e){this.mounted=!1},path:function(){return this.props.tab.detail},render:function(){return h.basename(this.props.tab.detail),p({className:"unprintable-file",id:`unprintable-file-${this.state.id}`},this.state.container.token?p({className:"unprintable-file-name"},d(null,this.props.message)):void 0,this.state.container.token?this.fileBottomBar(this.tabToActiveFile(this.props.tab)):void 0)}}),e.exports=a},function(e,t,n){var i,r,o,s,a,l,u,c,p,f;r=n(43),a=n(205),i=n(100),s=n(360),l=n(330),({localToRemoteURL:f}=n(314)),({div:u,i:c,iframe:p}=ReactDOMFactories),o=reactCreateClass({displayName:"JupyterNotebook",mixins:[i,s,l,Reflux.connect(r,"container"),Reflux.connect(a,"tabs")],propTypes:{tab_id:PropTypes.number.isRequired},getInitialState:function(){return{id:Math.random().toString().substr(2),loaded:!1,timeout:null,visible:!1}},componentDidMount:function(){return this.setClearTimeout(`jupyter-notebook-iframe-${this.state.id}`,this.showIframe),this.startServices("jupyter-notebook")},componentWillUnmount:function(){return this.state.timeout&&clearTimeout(this.state.timeout),this.stopServices("jupyter-notebook",this.props.tab_id)},componentDidUpdate:function(e,t){return this.startServices("jupyter-notebook")},onServicesStarted:function(){var e;return e=f({local_url:"localhost:1622",token:this.state.container.token,root_hostname:this.state.container.root_hostname}),$(`#jupyter-notebook-iframe-${this.state.id}`).attr("src",e),this.setState({timeout:setTimeout(this.onServicesStarted,2500)})},showIframe:function(){return console.info("Connected to Jupyter Notebook"),this.setState({visible:!0}),$(`#jupyter-notebook-loading-${this.state.id}`).css("display","none"),$(`#jupyter-notebook-iframe-${this.state.id}`).css("display","block"),$(`#jupyter-notebook-${this.state.id}`).mouseover(()=>$(`#jupyter-notebook-iframe-${this.state.id}`)[0].contentWindow.focus())},render:function(){return u({id:`jupyter-notebook-${this.state.id}`,className:"jupyter-notebook"},u({className:"inner"},this.state.container.token&&!this.state.visible?u({id:`jupyter-notebook-loading-${this.state.id}`,className:"jupyter-notebook-loading"},c({className:"fas fa-cog fa-spin"})):void 0,p({id:`jupyter-notebook-iframe-${this.state.id}`,className:"jupyter-notebook-iframe",frameBorder:0,marginHeight:0,marginWidth:0,height:"100%",width:"100%"})))}}),e.exports=o},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h,m,g;n(107),n(71),r=n(43),s=n(136),l=n(15),i=n(100),o=n(326),u=n(358),c=n(308),({div:p,i:f,img:d,p:h,source:m,video:g}=ReactDOMFactories),a=reactCreateClass({displayName:"MediaViewer",mixins:[mixins.AjaxMixin,mixins.TooltipMixin,i,o,u,c,Reflux.connect(r,"container"),Reflux.connectFilter(s,"sockets",function(e){return e.sockets}),Reflux.connectFilter(l,"color_scheme",function(e){return e.color_scheme})],propTypes:{access_token:PropTypes.string.isRequired,file_actions_enabled:PropTypes.bool.isRequired,tab:PropTypes.object.isRequired},getInitialState:function(){return{connected:!1,file:null,id:Math.random().toString().substr(2),src:""}},componentDidMount:function(){return this.mounted=!0,$(window).on("beforeunload",this.onPageUnload),this.attemptSocketConnection()},componentDidUpdate:function(e,t){switch(this.props.tab.tab_type){case"file-image":this.initializeTooltips(`#remote-img-${this.state.id}`);break;case"file-video":this.initializeTooltips(`#editor-video-player-${this.state.id}`)}return this.attemptSocketConnection()},componentWillUnmount:function(){if(this.mounted=!1,$(window).off("beforeunload",this.onPageUnload),this.state.socket)return this.state.socket.removeEventListener("message",this.onSocketMessage)},onPageUnload:function(e){this.mounted=!1},path:function(){return this.props.tab.detail},handleRemoteOpen:function(e){return this.setSrc(e)},handleRemoteRead:function(e){return this.setSrc(e)},handleRemoteUpdate:function(e){return this.setSrc(e)},setSrc:function(e){switch(e.type){case"file-image":return this.setState({file:e,src:`data:image/png;base64,${e.contents}`});case"file-video":return this.setState({file:e,src:`${this.state.container.root_file_proxy_url}${e.path}`})}},render:function(){if(!this.state.src)return this.state.container.token?p({id:`media-viewer-loading-${this.state.id}`,className:"media-viewer-loading"},f({className:"far fa-spinner-third fa-spin"})):p(null);switch(this.props.tab.tab_type){case"file-image":return this.renderImage();case"file-video":return this.renderVideo()}},renderImage:function(){return p({id:`remote-img-${this.state.id}`,className:"remote-img"},d({className:"remote-img-inner",src:this.state.src}),this.fileBottomBar(this.tabToActiveFile(this.props.tab)))},renderVideo:function(){return this.state.file.name.match(/\.(mp4|ogv|webm)$/)?p({id:`editor-video-player-${this.state.id}`,className:"editor-video-player-outer"},g({className:"editor-video-player",controls:!0,autoPlay:!0},m({src:this.state.src,type:this.state.file.mime}),h(null,"To view this video please enable JavaScript.")),this.fileBottomBar(this.tabToActiveFile(this.props.tab))):p({className:"unprintable-file"},p({className:"unprintable-file-name"},h(null,`"${this.state.file.name}" cannot be displayed.  Supported video extensions are .webm, .mp4, and .ogv.`)),this.fileBottomBar(this.tabToActiveFile(this.props.tab)))}}),e.exports=a},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h,m,g,b,y,v,x,w,k,S,C,E,T,A,N=[].indexOf;C=n(107),n(71),u=n(99),r=n(43),o=n(136),p=n(205),a=n(15),i=n(100),l=n(360),c=n(308),({localToRemoteURL:k,processTemplate:E,displayURL:h}=n(314)),({a:f,button:d,div:m,h2:g,h4:b,hr:y,i:v,input:x,li:w,p:S,span:T,ul:A}=ReactDOMFactories),s=reactCreateClass({displayName:"PaneTabs",mixins:[i,l,c,mixins.AjaxMixin,mixins.FormMixin,mixins.TooltipMixin,mixins.ViewMixin,Reflux.connect(r,"container"),Reflux.connect(p,"tabs"),Reflux.connectFilter(o,"files",function(e){return e.files}),Reflux.connectFilter(o,"path",function(e){return e.path}),Reflux.connectFilter(a,"default_port",function(e){return e.default_port}),Reflux.connectFilter(a,"directory_open",function(e){return e.directory_open}),Reflux.connectFilter(a,"entry",function(e){return e.entry}),Reflux.connectFilter(a,"lite_mode_code_editor",function(e){return e.lite_mode_code_editor}),Reflux.connectFilter(a,"lite_mode_web_browser",function(e){return e.lite_mode_web_browser}),Reflux.connectFilter(a,"tabs_enabled",function(e){return e.tabs_enabled}),Reflux.connectFilter(a,"hidden_files",function(e){return e.hidden_files}),Reflux.connectFilter(a,"panes",function(e){return e.panes})],propTypes:{access_token:PropTypes.string.isRequired,editing:PropTypes.bool.isRequired,file_actions_enabled:PropTypes.bool.isRequired,in_content_editor:PropTypes.bool.isRequired,pane_position:PropTypes.number.isRequired,reviewing:PropTypes.bool.isRequired,tabs:PropTypes.array.isRequired,toggleActionsModal:PropTypes.func.isRequired,toggleSidebar:PropTypes.func.isRequired},getInitialState:function(){return{id:Math.random().toString().substr(2)}},componentDidUpdate:function(e,t){return e.editing&&!this.props.editing&&(this.openFileTabsInLiteMode(this.state.files),this.hideTabsForHiddenFiles()),this.initializeTooltips(`#tab-bar-${this.state.id}`)},handleTabClicked:function(e){return this.onSelectTab(e),u.setProperty(e,"clicked",!0)},hideTabsForHiddenFiles:function(){var e;return[],e=_.filter(this.props.tabs,"file"),u.hideTabs(_.filter(e,e=>this.hidden(e.detail)))},openFileTabsInLiteMode:function(e){var t,n,i,r,o,s;if(!this.props.editing&&this.state.lite_mode_code_editor&&1===this.props.pane_position){for(o=[],i=0,r=(n=_.filter(e,e=>e.parent_id===this.state.path&&!e.directory&&!e.hidden)).length;i<r;i++)t=n[i],_.find(this.props.tabs,function(e){return e.file&&e.detail===t.path})?o.push(void 0):(s={active:!1,tab_type:"file-editor",detail:t.path,pane_position:1},o.push(this.onAddTab(s)));return o}},visibleTabs:function(){return this.state.lite_mode_code_editor?_.sortBy(this.props.tabs,function(e){return e.file?1:2}):this.props.tabs},tabTooltip:function({tab_type:e,detail:t}){switch(e){case"web-browser":return this.webBrowserTooltip(t);default:return this.state.lite_mode_code_editor?C.basename(t):t}},webBrowserTooltip:function(e){var t;return t=(t=(t=E(t=e||"",this.state.default_port)).replace(/\{\{\s*entry\s*\}\}/,this.state.entry||"")).replace(/\/$/,""),h(t,this.state.lite_mode_web_browser)},tabLabel:function(e){return T(null,v({className:this.tabIcon(e.tab_type)}),` ${this.tabDescription(e.tab_type)}`)},render:function(){var e,t;return m({id:`tab-bar-${this.state.id}`,className:`tabs project-files tab-bar ${this.props.file_actions_enabled?"":"files-disabled"}`},1!==this.props.pane_position||!this.props.editing&&this.state.lite_mode_code_editor?void 0:d({onClick:this.props.toggleSidebar,className:`btn btn-text btn-gray nav-icon dir-icon ${this.state.directory_open?"open":""}`,"data-toggle":"tooltip","data-original-title":`${this.state.directory_open?"Close":"Open"} Directory Sidebar`,"data-placement":"auto bottom"},v({className:`fas ${this.state.directory_open?"fa-folder-open":"fa-folder"}`,key:"fa-folder"})),A({className:"tabs",id:"file-list-ul"},function(){var n,i,r,o;for(r=this.visibleTabs(),o=[],e=n=0,i=r.length;n<i;e=++n)t=r[e],o.push(this.tab(t,e,_.find(this.state.files,function(e){return e.id===t.detail})));return o}.call(this),this.props.file_actions_enabled||this.state.tabs_enabled.length&&!this.props.reviewing?d({onClick:this.props.toggleActionsModal.bind(null,{action:"create",pane_position:this.props.pane_position}),className:"btn btn-text btn-gray nav-icon btn-circle","data-toggle":"tooltip","data-original-title":this.createLabel("New"),"data-placement":"auto bottom"},v({className:"fal fa-plus"})):void 0))},tab:function(e,t,n){var i,r,o,s;return r=(i=!(!this.props.editing&&this.state.lite_mode_code_editor)&&e.file)||(o=e.tab_type,N.call(this.state.tabs_enabled,o)>=0),s=this.props.editing||i||r,w({className:`tab js-tab-tooltip ${e.active?"active":""} tab--${e.tab_type}`,key:t,onClick:this.handleTabClicked.bind(null,e),"data-toggle":"tooltip","data-original-title":this.tabTooltip(e),"data-placement":"auto bottom"},T({className:`tab-name ${e.detail&&-1!==e.detail.indexOf(".solution")?"solution":""}`},e.file?C.basename(e.detail):this.tabLabel(e)),s?T({className:"tab-icon",onClick:this.closeTab.bind(null,e)},v({className:"far fa-times"})):void 0)}}),e.exports=s},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h,m,g,b,y,v,_;try{n(757),n(758),n(759)}catch(e){console.warn("3rd party cookies are disabled. Some functionality will not work as expected.")}v=n(320),u=v.default,n(536),o=n(23),r=n(43),s=n(15),i=n(322),d=n(331),l=n(537),h=n(332),({ReflexContainer:c,ReflexSplitter:f,ReflexElement:p}=n(372)),({button:m,div:g,i:b,pre:y,span:_}=ReactDOMFactories),a=reactCreateClass({displayName:"PythonGUI",mixins:[mixins.AjaxMixin,mixins.TooltipMixin,l,h,Reflux.connect(r,"container"),Reflux.connectFilter(s,"active_file",function(e){return e.active_file}),Reflux.connectFilter(s,"project_id",function(e){return e.id}),Reflux.connectFilter(s,"color",function(e){return e.python_gui_color}),Reflux.connectFilter(s,"instant",function(e){return e.python_gui_instant}),Reflux.connectFilter(s,"btns_enabled",function(e){return e.btns_enabled}),Reflux.connectFilter(s,"shortcut_pane",function(e){return e.shortcut_pane})],propTypes:{access_token:PropTypes.string.isRequired,hidden:PropTypes.bool.isRequired},getInitialState:function(){return{id:Math.random().toString().substr(2),loaded:!1,running:!1,terminal_visible:!1}},componentDidMount:function(){return window.addEventListener("keydown",this.checkAction),this.initializeTooltips(`#python-gui-${this.state.id}`),this.setState({loaded:!this.props.hidden})},componentDidUpdate:function(e,t){if(this.initializeTooltips(`#python-gui-${this.state.id}`),t.running!==this.state.running&&this.hideTooltips(`#python-gui-${this.state.id}`),this.state.loaded||this.props.hidden||this.setState({loaded:!0}),!this.props.hidden&&!this.state.terminal_visible&&this.terminalHasOutput())return this.setState({terminal_visible:!0})},componentWillUnmount:function(){return window.removeEventListener("keydown",this.checkAction)},output:function(e){return this.setState({terminal_visible:!this.props.hidden},()=>{var t;return(t=$(`#skulpt-terminal-${this.state.id}`)).text(t.text()+e)})},input:function(e){return window.prompt(e)},clearTerminal:function(){return $(`#skulpt-terminal-${this.state.id}`).text("")},terminalHasOutput:function(){return $(`#skulpt-terminal-${this.state.id}`).text().trim().length>0},runCode:function(){if(this.state.active_file)return this.clearTerminal(),this.setState({terminal_visible:!1,running:!0},()=>{return this.setupSkulpt(`skulpt-canvas-${this.state.id}`,this.state.instant),Sk.misceval.asyncToPromise(()=>Sk.importMainWithBody("<stdin>",!1,this.state.active_file.contents,!0)).then(()=>(console.info("Program run completed"),this.setState({running:!1})),e=>{var t;if(t=e.toString(),this.setState({running:!1}),t.match(/ExternalError/))throw e;this.clearTerminal(),this.output(t)})})},stopSkulpt:function(){if(this.setState({running:!1}),Sk.TurtleGraphics)return Sk.TurtleGraphics.stop()},toggleInstant:function(){return this.setState({instant:!this.state.instant},()=>(o.setProperty("python_gui_instant",this.state.instant),this.ajaxPatch(routes.projects.update({access_token:this.props.access_token}),{data:{project:{python_gui_instant:this.state.instant}}})))},render:function(){var e;return this.state.project_id&&this.state.loaded?(e=this.state.container.dead||!this.state.active_file,g({id:`python-gui-${this.state.id}`,className:"python-gui"},React.createElement(u,{handleWidth:!0,handleHeight:!0,onResize:this.setCanvasSize.bind(null,`skulpt-canvas-${this.state.id}`)}),g({className:"inner"},React.createElement(c,{orientation:"horizontal"},React.createElement(p,{id:`skulpt-canvas-area-${this.state.id}`,flex:1,minSize:100},g({id:`skulpt-canvas-${this.state.id}`,className:"skulpt-canvas",style:{backgroundColor:this.state.color}})),React.createElement(f,{className:`${this.state.terminal_visible?"":"hide"}`}),React.createElement(p,{id:`skulpt-terminal-area-${this.state.id}`,flex:this.state.terminal_visible?.5:0,minSize:this.state.terminal_visible?100:0,className:`${this.state.terminal_visible?"":"hide"}`},y({id:`skulpt-terminal-${this.state.id}`,className:"skulpt-terminal"})))),g({className:"pane-bottom-nav"},React.createElement(i,{btn_class:`python-gui__instant-btn btn-gray btn-text ${this.state.instant?" python-gui__instant-btn--active":""}`,disabled:this.state.running,disabled_tooltip:"Draw output without animations (stop program to enable).",icon:"fa-bolt",onClick:this.toggleInstant,tooltip:"Draw output without animations"}),React.createElement(i,{btn_class:"python-gui__stop-btn btn-red btn-text",disabled:!this.state.running,disabled_tooltip:"Halt program execution (enabled when running).",icon:"fa-times-octagon",onClick:this.stopSkulpt,tooltip:"Halt program execution"}),React.createElement(d,{btn_class:"python-gui-action-btn",disabled:e,is_shortcut_btn:this.shortcutBtn(),onClick:this.runCode})))):null}}),e.exports=a},function(e,t,n){(function(t,n){!function(){function t(e,t){h[e]||("undefined"!=typeof console&&"function"==typeof console.warn&&console.warn("[WARNING] "+e+" is deprecated and will be removed in version 1.0. Instead, use `"+t+"`."),h[e]=!0)}function n(e){e.localize=p.localize.bind(p),e.timezone=p.timezone.bind(p),e.utc=p.utc.bind(p)}function i(e,n,i){return n&&n.days&&(i=n,n=void 0),i&&t("`"+d+"(format, [date], [locale])`","var s = "+d+".localize(locale); s(format, [date])"),(i?p.localize(i):p)(e,n)}function r(e,n,i){return i?t("`"+d+".strftime(format, [date], [locale])`","var s = "+d+".localize(locale); s(format, [date])"):t("`"+d+".strftime(format, [date])`",d+"(format, [date])"),(i?p.localize(i):p)(e,n)}function o(e,t){return""===t||e>9?e:(null==t&&(t="0"),t+e)}function s(e){return 0===e?12:e>12?e-12:e}function a(e,t){t=t||"sunday";var n=e.getDay();"monday"===t&&(0===n?n=6:n--);var i=Date.UTC(e.getFullYear(),0,1),r=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate());return Math.floor((Math.floor((r-i)/864e5)+7-n)/7)}function l(e){var t=e%10;if((e%=100)>=11&&e<=13||0===t||t>=4)return"th";switch(t){case 1:return"st";case 2:return"nd";case 3:return"rd"}}var u,c={days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],AM:"AM",PM:"PM",am:"am",pm:"pm",formats:{D:"%m/%d/%y",F:"%Y-%m-%d",R:"%H:%M",T:"%H:%M:%S",X:"%T",c:"%a %b %d %X %Y",r:"%I:%M:%S %p",v:"%e-%b-%Y",x:"%D"}},p=new function e(t,n,i){var r,u=t||c,p=n||0,f=i||!1,d=0;return(t=function(e,t){var n;return t?(n=t.getTime(),f&&(t=new Date(t.getTime()+6e4*(t.getTimezoneOffset()||0)+p))):((n=Date.now())>d?(d=n,r=new Date(d),n=d,f&&(r=new Date(d+6e4*(r.getTimezoneOffset()||0)+p))):n=d,t=r),function e(t,n,i,r){for(var u="",c=null,d=!1,h=t.length,m=!1,g=0;g<h;g++){var b=t.charCodeAt(g);if(!0===d)if(45===b)c="";else if(95===b)c=" ";else if(48===b)c="0";else if(58===b)m&&"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn("[WARNING] detected use of unsupported %:: or %::: modifiers to strftime"),m=!0;else{switch(b){case 65:u+=i.days[n.getDay()];break;case 66:u+=i.months[n.getMonth()];break;case 67:u+=o(Math.floor(n.getFullYear()/100),c);break;case 68:u+=e(i.formats.D,n,i,r);break;case 70:u+=e(i.formats.F,n,i,r);break;case 72:u+=o(n.getHours(),c);break;case 73:u+=o(s(n.getHours()),c);break;case 76:u+=Math.floor(r%1e3)>99?Math.floor(r%1e3):Math.floor(r%1e3)>9?"0"+Math.floor(r%1e3):"00"+Math.floor(r%1e3);break;case 77:u+=o(n.getMinutes(),c);break;case 80:u+=n.getHours()<12?i.am:i.pm;break;case 82:u+=e(i.formats.R,n,i,r);break;case 83:u+=o(n.getSeconds(),c);break;case 84:u+=e(i.formats.T,n,i,r);break;case 85:u+=o(a(n,"sunday"),c);break;case 87:u+=o(a(n,"monday"),c);break;case 88:u+=e(i.formats.X,n,i,r);break;case 89:u+=n.getFullYear();break;case 90:u+=f&&0===p?"GMT":(c=n.toString().match(/\(([\w\s]+)\)/))&&c[1]||"";break;case 97:u+=i.shortDays[n.getDay()];break;case 98:u+=i.shortMonths[n.getMonth()];break;case 99:u+=e(i.formats.c,n,i,r);break;case 100:u+=o(n.getDate(),c);break;case 101:u+=o(n.getDate(),null==c?" ":c);break;case 104:u+=i.shortMonths[n.getMonth()];break;case 106:c=new Date(n.getFullYear(),0,1),u+=(c=Math.ceil((n.getTime()-c.getTime())/864e5))>99?c:c>9?"0"+c:"00"+c;break;case 107:u+=o(n.getHours(),null==c?" ":c);break;case 108:u+=o(s(n.getHours()),null==c?" ":c);break;case 109:u+=o(n.getMonth()+1,c);break;case 110:u+="\n";break;case 111:u+=String(n.getDate())+l(n.getDate());break;case 112:u+=n.getHours()<12?i.AM:i.PM;break;case 114:u+=e(i.formats.r,n,i,r);break;case 115:u+=Math.floor(r/1e3);break;case 116:u+="\t";break;case 117:u+=0===(c=n.getDay())?7:c;break;case 118:u+=e(i.formats.v,n,i,r);break;case 119:u+=n.getDay();break;case 120:u+=e(i.formats.x,n,i,r);break;case 121:u+=(""+n.getFullYear()).slice(2);break;case 122:f&&0===p?u+=m?"+00:00":"+0000":(c=0!==p?p/6e4:-n.getTimezoneOffset(),d=m?":":"",b=Math.abs(c%60),u+=(c<0?"-":"+")+o(Math.floor(Math.abs(c/60)))+d+o(b));break;default:u+=t[g]}c=null,d=!1}else 37===b?d=!0:u+=t[g]}return u}(e,t,u,n)}).localize=function(t){return new e(t||u,p,f)},t.timezone=function(t){var n=p,i=f,r=typeof t;return"number"!==r&&"string"!==r||(i=!0,"string"===r?n=(n="-"===t[0]?-1:1)*(60*(r=parseInt(t.slice(1,3),10))+(t=parseInt(t.slice(3,5),10)))*6e4:"number"===r&&(n=6e4*t)),new e(u,n,i)},t.utc=function(){return new e(u,p,!0)},t}(c,0,!1),f=void 0!==e;f?(u=e.exports=i).strftime=r:(u=function(){return this||(0,eval)("this")}()).strftime=i;var d=f?"require('strftime')":"strftime",h={};u.strftimeTZ=function(e,n,i,r){return"number"!=typeof i&&"string"!=typeof i||null!=r||(r=i,i=void 0),i?t("`"+d+".strftimeTZ(format, date, locale, tz)`","var s = "+d+".localize(locale).timezone(tz); s(format, [date])` or `var s = "+d+".localize(locale); s.timezone(tz)(format, [date])"):t("`"+d+".strftimeTZ(format, date, tz)`","var s = "+d+".timezone(tz); s(format, [date])` or `"+d+".timezone(tz)(format, [date])"),(i?p.localize(i):p).timezone(r)(e,n)},u.strftimeUTC=function(e,n,i){return i?t("`"+d+".strftimeUTC(format, date, locale)`","var s = "+d+".localize(locale).utc(); s(format, [date])"):t("`"+d+".strftimeUTC(format, [date])`","var s = "+d+".utc(); s(format, [date])"),(i?m.localize(i):m)(e,n)},u.localizedStrftime=function(e){return t("`"+d+".localizedStrftime(locale)`",d+".localize(locale)"),p.localize(e)},n(i),n(r);var m=p.utc();"function"!=typeof Date.now&&(Date.now=function(){return+new Date})}(),function(){"use strict";var t=function(e,n,i){return t.parse(e,n,i)};t.version="0.0.1",(e.exports=t).strptime=t,function(e){e.locale={a:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],A:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],b:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],B:["January","February","March","April","May","June","July","August","September","October","November","December"],f:["Jan.","Feb.","Mar.","Apr.","May","Jun.","Jul.","Aug.","Sep.","Oct.","Nov.","Dec."],c:"%Y-%m-%d %H:%M:%S",P:["am","pm"],r:"%I:%M:%S %p",x:"%m/%d/%y",X:"%H:%M:%S",day:["Yesterday","Today","Tomorrow"],bg:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Bg:["January","February","March","April","May","June","July","August","September","October","November","December"],fg:["Jan.","Feb.","Mar.","Apr.","May","Jun.","Jul.","Aug.","Sep.","Oct.","Nov.","Dec."],Date_dBY_year_in_HM:"%#B %-d, %Y at %-H:%M",Date_dBY_year:"%#B %-d, %Y",Date_dBY:"%#B %-d, %Y",Date_AdBY:"%A, %#B %-d, %Y",Date_dBA:"%#B %-d, %A",Date_df_in_HM:"%#f, %-d at %-H:%M",Date_dfY:"%-d %#f %Y",Date_dB_in_HM:"%#B %-d at %-H:%M",Date_df:"%-d %#f"}}(t),function(e){var t=Array.prototype.indexOf||function(e){for(var t=this.length,n=0;n<t;){if(e==this[n])return n;n++}return-1},n=e.locale,i="[\\d\\s]?\\d",r={"%":"\\%",a:"\\S+",A:"\\S+",b:{reg:"\\S+",make:function(e,i,r,o){return-1!==(i=t.call(o?n.bg:n.b,s(i,r)))&&(e.setUTCMonth(i),!0)}},h:{reg:"\\S+",make:function(e,i,r,o){return-1!==(i=t.call(o?n.bg:n.b,s(i,r)))&&(e.setUTCMonth(i),!0)}},B:{reg:"\\S+",make:function(e,i,r,o){return-1!==(i=t.call(o?n.Bg:n.B,s(i,r)))&&(e.setUTCMonth(i),!0)}},f:{reg:"\\S+",make:function(e,i,r,o){return-1!==(i=t.call(o?n.fg:n.f,s(i,r)))&&(e.setUTCMonth(i),!0)}},g:{reg:i,make:function(e,t){return!((t=parseInt(t,10))<0||t>99)&&(t+=100*parseInt((new Date).getUTCFullYear()/100,10),e.setUTCFullYear(t),!0)}},G:{reg:"\\d{4}",make:function(e,t){return t=parseInt(t,10),e.setUTCFullYear(t),!0}},d:{reg:i,make:function(e,t){return!((t=parseInt(t,10))<1||t>31)&&(e.setUTCDate(t),!0)}},e:{reg:i,make:function(e,t){return!((t=parseInt(t,10))<1||t>31)&&(e.setUTCDate(t),!0)}},H:{reg:i,make:function(e,t){return!((t=parseInt(t,10))<0||t>23)&&(e.setUTCHours(t),!0)}},I:{reg:i,make:function(e,t){return!((t=parseInt(t,10))<1||t>12)&&(e.setUTCHours(e.getUTCHours()+t),!0)}},m:{reg:i,make:function(e,t){return!((t=parseInt(t,10))<1||t>12)&&(e.setUTCMonth(t-1),!0)}},M:{reg:i,make:function(e,t){return!((t=parseInt(t,10))<0||t>59)&&(e.setUTCMinutes(t),!0)}},n:"\\n",p:{reg:"\\S+",make:function(e,i){return-1!==(i=t.call(n.P,i.toLowerCase()))&&(1===i&&e.setUTCHours(e.getUTCHours()+12),!0)}},P:{reg:"\\S+",make:function(e,i){return-1!==(i=t.call(n.P,i.toLowerCase()))&&(1===i&&e.setUTCHours(e.getUTCHours()+12),!0)}},S:{reg:i,make:function(e,t){return!((t=parseInt(t,10))<0||t>60)&&(e.setUTCSeconds(t),!0)}},t:"\\t",u:"\\d",U:i,w:"\\d",W:i,y:{reg:i,make:function(e,t){return!((t=parseInt(t,10))<0||t>99)&&(t+=100*parseInt((new Date).getUTCFullYear()/100,10),e.setUTCFullYear(t),!0)}},Y:{reg:"\\d{4}",make:function(e,t){return t=parseInt(t,10),e.setUTCFullYear(t),!0}},z:{reg:"[+\\-]\\d{4}",make:function(e,t){var n=t.match(/^([+\-])(\d{2})(\d{2})$/);if(!n)return!1;var i=6e4*(60*parseInt(n[2],10)+parseInt(n[3],10));return"+"===n[1]&&(i=-i),e.setTime(e.getTime()+i),!0}},l:{reg:i,make:function(e,t){return!((t=parseInt(t,10))<1||t>12)&&(e.setUTCHours(e.getUTCHours()+t),!0)}},s:{reg:"\\d+",make:function(e,t){return t=parseInt(t,10),e.setTime(1e3*t),!0}},c:n.c,r:n.r,R:"%H:%M",T:"%H:%M:%S",x:n.x,X:n.X,D:"%m/%d/%y",F:"%Y-%m-%d",Date_iso:"%Y-%m-%dT%H:%M:%S",Date_dBY_year_in_HM:n.Date_dBY_year_in_HM,Date_dBY_year:n.Date_dBY_year,Date_dBY:n.Date_dBY,Date_dBA:n.Date_dBA,Date_AdBY:n.Date_AdBY,Date_df_in_HM:n.Date_df_in_HM,Date_dfY:n.Date_dfY,Date_dB_in_HM:n.Date_dB_in_HM,Date_dmY__dot:"%d.%m.%Y",Date_df:n.Date_df,Date_FT:"%F %T",Date_dmY__minus:"%d-%m-%Y"};function o(e,t,n,i,s,a){t=String(t),n=String(n),t=t.replace(/^[#_0\^\-!~]+/,"");var l=r[t];if(!l)return e;var u=!1;if(-1===n.indexOf("!")&&1===t.length&&(n.indexOf("~")>-1||"bBf".indexOf(t)>-1&&/%[0\-_]?d[\s]+$/.test(a.substr(0,s)))&&(u=!0),("I"===t||"l"===t)&&!/%[pP]/.test(a))throw new Error("Undefined AM/PM");switch(typeof l){case"function":return l();case"string":return l;case"object":return o.make.push([l.make,n,u]),"("+l.reg+")";default:return e}}function s(e,t){return e=String(e),-1!==(t=String(t)).indexOf("#")?e.substr(0,1).toUpperCase()+e.substr(1):-1!==t.indexOf("^")?e.substr(0,1)+e.substr(1).toLowerCase():e}e.parse=function(e,t,n){e=String(e),t=String(t);for(var i=5;/%(Date_[a-zA-Z0-9_]+|[cDFrRTxX])/g.test(t)&&i;)t=t.replace(/%(Date_[a-zA-Z0-9_]+|[cDFrRTxX])/,o),i--;o.make=[];var r=t.replace(/%(([#\^!~]{0,2})[aAbBfh]|([0\-_]?)[degHImMSVWyl]|[GnpPtuUwYzZs%])/g,o),s=e.match(new RegExp(r));if(!s||!o.make.length)return null;for(var a=new Date(Date.UTC(0,0)),l=0,u=o.make.length;l<u;l++){var c=o.make[l];if(!c[0](a,s[l+1],c[1],c[2]))return null}return n&&a.setTime(a.getTime()+6e4*a.getTimezoneOffset()),a}}(t)}(),function(){var e,i,r,o,s=s||{};s.global=this,s.exportPath_=function(e,t,n){e=e.split("."),n=n||s.global,e[0]in n||!n.execScript||n.execScript("var "+e[0]);for(var i;e.length&&(i=e.shift());)e.length||void 0===t?n=n[i]?n[i]:n[i]={}:n[i]=t},s.define=function(e,t){var n=t;s.exportPath_(e,n)},s.DEBUG=!1,s.LOCALE="en",s.TRUSTED_SITE=!0,s.provide=function(e){s.exportPath_(e)},s.setTestOnly=function(e){if(!s.DEBUG)throw e=e||"",Error(": "+e)},s.getObjectByName=function(e,t){for(var n,i=e.split("."),r=t||s.global;n=i.shift();){if(!s.isDefAndNotNull(r[n]))return null;r=r[n]}return r},s.globalize=function(e,t){var n,i=t||s.global;for(n in e)i[n]=e[n]},s.addDependency=function(e,t,n){if(s.DEPENDENCIES_ENABLED){var i;e=e.replace(/\\/g,"/");for(var r=s.dependencies_,o=0;i=t[o];o++)r.nameToPath[i]=e,e in r.pathToNames||(r.pathToNames[e]={}),r.pathToNames[e][i]=!0;for(i=0;t=n[i];i++)e in r.requires||(r.requires[e]={}),r.requires[e][t]=!0}},s.ENABLE_DEBUG_LOADER=!0,s.require=function(e){},s.basePath="",s.nullFunction=function(){},s.identityFunction=function(e,t){return e},s.abstractMethod=function(){throw Error("unimplemented abstract method")},s.addSingletonGetter=function(e){e.getInstance=function(){return e.instance_?e.instance_:(s.DEBUG&&(s.instantiatedSingletons_[s.instantiatedSingletons_.length]=e),e.instance_=new e)}},s.instantiatedSingletons_=[],s.DEPENDENCIES_ENABLED=!1,s.DEPENDENCIES_ENABLED&&(s.included_={},s.dependencies_={pathToNames:{},nameToPath:{},requires:{},visited:{},written:{}},s.inHtmlDocument_=function(){var e=s.global.document;return void 0!==e&&"write"in e},s.findBasePath_=function(){if(s.global.CLOSURE_BASE_PATH)s.basePath=s.global.CLOSURE_BASE_PATH;else if(s.inHtmlDocument_())for(var e=s.global.document.getElementsByTagName("script"),t=e.length-1;0<=t;--t){var n=e[t].src,i=-1==(i=n.lastIndexOf("?"))?n.length:i;if("base.js"==n.substr(i-7,7)){s.basePath=n.substr(0,i-7);break}}},s.importScript_=function(e){var t=s.global.CLOSURE_IMPORT_SCRIPT||s.writeScriptTag_;!s.dependencies_.written[e]&&t(e)&&(s.dependencies_.written[e]=!0)},s.writeScriptTag_=function(e){if(s.inHtmlDocument_()){var t=s.global.document;if("complete"==t.readyState){if(/\bdeps.js$/.test(e))return!1;throw Error('Cannot write "'+e+'" after document load')}return t.write('<script type="text/javascript" src="'+e+'"><\/script>'),!0}return!1},s.writeScripts_=function(){function e(t){if(!(t in r.written)){if(!(t in r.visited)&&(r.visited[t]=!0,t in r.requires))for(var o in r.requires[t])if(!s.isProvided_(o)){if(!(o in r.nameToPath))throw Error("Undefined nameToPath for "+o);e(r.nameToPath[o])}t in i||(i[t]=!0,n.push(t))}}var t,n=[],i={},r=s.dependencies_;for(t in s.included_)r.written[t]||e(t);for(t=0;t<n.length;t++){if(!n[t])throw Error("Undefined script input");s.importScript_(s.basePath+n[t])}},s.getPathFromDeps_=function(e){return e in s.dependencies_.nameToPath?s.dependencies_.nameToPath[e]:null},s.findBasePath_(),s.global.CLOSURE_NO_DEPS||s.importScript_(s.basePath+"deps.js")),s.typeOf=function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t},s.isDef=function(e){return void 0!==e},s.isNull=function(e){return null===e},s.isDefAndNotNull=function(e){return null!=e},s.isArray=function(e){return"array"==s.typeOf(e)},s.isArrayLike=function(e){var t=s.typeOf(e);return"array"==t||"object"==t&&"number"==typeof e.length},s.isDateLike=function(e){return s.isObject(e)&&"function"==typeof e.getFullYear},s.isString=function(e){return"string"==typeof e},s.isBoolean=function(e){return"boolean"==typeof e},s.isNumber=function(e){return"number"==typeof e},s.isFunction=function(e){return"function"==s.typeOf(e)},s.isObject=function(e){var t=typeof e;return"object"==t&&null!=e||"function"==t},s.getUid=function(e){return e[s.UID_PROPERTY_]||(e[s.UID_PROPERTY_]=++s.uidCounter_)},s.removeUid=function(e){"removeAttribute"in e&&e.removeAttribute(s.UID_PROPERTY_);try{delete e[s.UID_PROPERTY_]}catch(e){}},s.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),s.uidCounter_=0,s.getHashCode=s.getUid,s.removeHashCode=s.removeUid,s.cloneObject=function(e){if("object"==(n=s.typeOf(e))||"array"==n){if(e.clone)return e.clone();var t,n="array"==n?[]:{};for(t in e)n[t]=s.cloneObject(e[t]);return n}return e},s.bindNative_=function(e,t,n){return e.call.apply(e.bind,arguments)},s.bindJs_=function(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),e.apply(t,n)}}return function(){return e.apply(t,arguments)}},s.bind=function(e,t,n){return Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s.bind=s.bindNative_:s.bind=s.bindJs_,s.bind.apply(null,arguments)},s.partial=function(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=Array.prototype.slice.call(arguments);return t.unshift.apply(t,n),e.apply(this,t)}},s.mixin=function(e,t){for(var n in t)e[n]=t[n]},s.now=s.TRUSTED_SITE&&Date.now||function(){return+new Date},s.globalEval=function(e){if(s.global.execScript)s.global.execScript(e,"JavaScript");else{if(!s.global.eval)throw Error("goog.globalEval not available");if(null==s.evalWorksForGlobals_&&(s.global.eval("var _et_ = 1;"),void 0!==s.global._et_?(delete s.global._et_,s.evalWorksForGlobals_=!0):s.evalWorksForGlobals_=!1),s.evalWorksForGlobals_)s.global.eval(e);else{var t=s.global.document,n=t.createElement("script");n.type="text/javascript",n.defer=!1,n.appendChild(t.createTextNode(e)),t.body.appendChild(n),t.body.removeChild(n)}}},s.evalWorksForGlobals_=null,s.getCssName=function(e,t){var n=function(e){return s.cssNameMapping_[e]||e},i=function(e){e=e.split("-");for(var t=[],i=0;i<e.length;i++)t.push(n(e[i]));return t.join("-")};i=s.cssNameMapping_?"BY_WHOLE"==s.cssNameMappingStyle_?n:i:function(e){return e};return t?e+"-"+i(t):i(e)},s.setCssNameMapping=function(e,t){s.cssNameMapping_=e,s.cssNameMappingStyle_=t},s.getMsg=function(e,t){var n,i=t||{};for(n in i){var r=(""+i[n]).replace(/\$/g,"$$$$");e=e.replace(RegExp("\\{\\$"+n+"\\}","gi"),r)}return e},s.getMsgWithFallback=function(e,t){return e},s.exportSymbol=function(e,t,n){s.exportPath_(e,t,n)},s.exportProperty=function(e,t,n){e[t]=n},s.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new n,e.prototype.constructor=e},s.base=function(e,t,n){var i=arguments.callee.caller;if(s.DEBUG&&!i)throw Error("arguments.caller not defined.  goog.base() expects not to be running in strict mode. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(i.superClass_)return i.superClass_.constructor.apply(e,Array.prototype.slice.call(arguments,1));for(var r=Array.prototype.slice.call(arguments,2),o=!1,a=e.constructor;a;a=a.superClass_&&a.superClass_.constructor)if(a.prototype[t]===i)o=!0;else if(o)return a.prototype[t].apply(e,r);if(e[t]===i)return e.constructor.prototype[t].apply(e,r);throw Error("goog.base called from a method of one name to a method of a different name")},s.scope=function(e){e.call(s.global)},s.string={},s.string.Unicode={NBSP:" "},s.string.startsWith=function(e,t){return 0==e.lastIndexOf(t,0)},s.string.endsWith=function(e,t){var n=e.length-t.length;return 0<=n&&e.indexOf(t,n)==n},s.string.caseInsensitiveStartsWith=function(e,t){return 0==s.string.caseInsensitiveCompare(t,e.substr(0,t.length))},s.string.caseInsensitiveEndsWith=function(e,t){return 0==s.string.caseInsensitiveCompare(t,e.substr(e.length-t.length,t.length))},s.string.caseInsensitiveEquals=function(e,t){return e.toLowerCase()==t.toLowerCase()},s.string.subs=function(e,t){for(var n=e.split("%s"),i="",r=Array.prototype.slice.call(arguments,1);r.length&&1<n.length;)i+=n.shift()+r.shift();return i+n.join("%s")},s.string.collapseWhitespace=function(e){return e.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},s.string.isEmpty=function(e){return/^[\s\xa0]*$/.test(e)},s.string.isEmptySafe=function(e){return s.string.isEmpty(s.string.makeSafe(e))},s.string.isBreakingWhitespace=function(e){return!/[^\t\n\r ]/.test(e)},s.string.isAlpha=function(e){return!/[^a-zA-Z]/.test(e)},s.string.isNumeric=function(e){return!/[^0-9]/.test(e)},s.string.isAlphaNumeric=function(e){return!/[^a-zA-Z0-9]/.test(e)},s.string.isSpace=function(e){return" "==e},s.string.isUnicodeChar=function(e){return 1==e.length&&" "<=e&&"~">=e||""<=e&&"�">=e},s.string.stripNewlines=function(e){return e.replace(/(\r\n|\r|\n)+/g," ")},s.string.canonicalizeNewlines=function(e){return e.replace(/(\r\n|\r|\n)/g,"\n")},s.string.normalizeWhitespace=function(e){return e.replace(/\xa0|\s/g," ")},s.string.normalizeSpaces=function(e){return e.replace(/\xa0|[ \t]+/g," ")},s.string.collapseBreakingSpaces=function(e){return e.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},s.string.trim=function(e){return e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},s.string.trimLeft=function(e){return e.replace(/^[\s\xa0]+/,"")},s.string.trimRight=function(e){return e.replace(/[\s\xa0]+$/,"")},s.string.caseInsensitiveCompare=function(e,t){var n=String(e).toLowerCase(),i=String(t).toLowerCase();return n<i?-1:n==i?0:1},s.string.numerateCompareRegExp_=/(\.\d+)|(\d+)|(\D+)/g,s.string.numerateCompare=function(e,t){if(e==t)return 0;if(!e)return-1;if(!t)return 1;for(var n=e.toLowerCase().match(s.string.numerateCompareRegExp_),i=t.toLowerCase().match(s.string.numerateCompareRegExp_),r=Math.min(n.length,i.length),o=0;o<r;o++){var a=n[o],l=i[o];if(a!=l)return n=parseInt(a,10),!isNaN(n)&&(i=parseInt(l,10),!isNaN(i)&&n-i)?n-i:a<l?-1:1}return n.length!=i.length?n.length-i.length:e<t?-1:1},s.string.urlEncode=function(e){return encodeURIComponent(String(e))},s.string.urlDecode=function(e){return decodeURIComponent(e.replace(/\+/g," "))},s.string.newLineToBr=function(e,t){return e.replace(/(\r\n|\r|\n)/g,t?"<br />":"<br>")},s.string.htmlEscape=function(e,t){return t?e.replace(s.string.amperRe_,"&amp;").replace(s.string.ltRe_,"&lt;").replace(s.string.gtRe_,"&gt;").replace(s.string.quotRe_,"&quot;"):s.string.allRe_.test(e)?(-1!=e.indexOf("&")&&(e=e.replace(s.string.amperRe_,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(s.string.ltRe_,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(s.string.gtRe_,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(s.string.quotRe_,"&quot;")),e):e},s.string.amperRe_=/&/g,s.string.ltRe_=/</g,s.string.gtRe_=/>/g,s.string.quotRe_=/\"/g,s.string.allRe_=/[&<>\"]/,s.string.unescapeEntities=function(e){return s.string.contains(e,"&")?"document"in s.global?s.string.unescapeEntitiesUsingDom_(e):s.string.unescapePureXmlEntities_(e):e},s.string.unescapeEntitiesUsingDom_=function(e){var t={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},n=document.createElement("div");return e.replace(s.string.HTML_ENTITY_PATTERN_,function(e,i){var r=t[e];if(r)return r;if("#"==i.charAt(0)){var o=Number("0"+i.substr(1));isNaN(o)||(r=String.fromCharCode(o))}return r||(n.innerHTML=e+" ",r=n.firstChild.nodeValue.slice(0,-1)),t[e]=r})},s.string.unescapePureXmlEntities_=function(e){return e.replace(/&([^;]+);/g,function(e,t){switch(t){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:if("#"==t.charAt(0)){var n=Number("0"+t.substr(1));if(!isNaN(n))return String.fromCharCode(n)}return e}})},s.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,s.string.whitespaceEscape=function(e,t){return s.string.newLineToBr(e.replace(/  /g," &#160;"),t)},s.string.stripQuotes=function(e,t){for(var n=t.length,i=0;i<n;i++){var r=1==n?t:t.charAt(i);if(e.charAt(0)==r&&e.charAt(e.length-1)==r)return e.substring(1,e.length-1)}return e},s.string.truncate=function(e,t,n){return n&&(e=s.string.unescapeEntities(e)),e.length>t&&(e=e.substring(0,t-3)+"..."),n&&(e=s.string.htmlEscape(e)),e},s.string.truncateMiddle=function(e,t,n,i){if(n&&(e=s.string.unescapeEntities(e)),i&&e.length>t){i>t&&(i=t);var r=e.length-i;e=e.substring(0,t-i)+"..."+e.substring(r)}else e.length>t&&(i=Math.floor(t/2),r=e.length-i,e=e.substring(0,i+t%2)+"..."+e.substring(r));return n&&(e=s.string.htmlEscape(e)),e},s.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\"},s.string.jsEscapeCache_={"'":"\\'"},s.string.quote=function(e){if((e=String(e)).quote)return e.quote();for(var t=['"'],n=0;n<e.length;n++){var i=e.charAt(n),r=i.charCodeAt(0);t[n+1]=s.string.specialEscapeChars_[i]||(31<r&&127>r?i:s.string.escapeChar(i))}return t.push('"'),t.join("")},s.string.escapeString=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=s.string.escapeChar(e.charAt(n));return t.join("")},s.string.escapeChar=function(e){if(e in s.string.jsEscapeCache_)return s.string.jsEscapeCache_[e];if(e in s.string.specialEscapeChars_)return s.string.jsEscapeCache_[e]=s.string.specialEscapeChars_[e];var t=e,n=e.charCodeAt(0);return 31<n&&127>n?t=e:(256>n?(t="\\x",(16>n||256<n)&&(t+="0")):(t="\\u",4096>n&&(t+="0")),t+=n.toString(16).toUpperCase()),s.string.jsEscapeCache_[e]=t},s.string.toMap=function(e){for(var t={},n=0;n<e.length;n++)t[e.charAt(n)]=!0;return t},s.string.contains=function(e,t){return-1!=e.indexOf(t)},s.string.countOf=function(e,t){return e&&t?e.split(t).length-1:0},s.string.removeAt=function(e,t,n){var i=e;return 0<=t&&t<e.length&&0<n&&(i=e.substr(0,t)+e.substr(t+n,e.length-t-n)),i},s.string.remove=function(e,t){var n=RegExp(s.string.regExpEscape(t),"");return e.replace(n,"")},s.string.removeAll=function(e,t){var n=RegExp(s.string.regExpEscape(t),"g");return e.replace(n,"")},s.string.regExpEscape=function(e){return String(e).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},s.string.repeat=function(e,t){return Array(t+1).join(e)},s.string.padNumber=function(e,t,n){return-1==(n=(e=s.isDef(n)?e.toFixed(n):String(e)).indexOf("."))&&(n=e.length),s.string.repeat("0",Math.max(0,t-n))+e},s.string.makeSafe=function(e){return null==e?"":String(e)},s.string.buildString=function(e){return Array.prototype.join.call(arguments,"")},s.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^s.now()).toString(36)},s.string.compareVersions=function(e,t){for(var n=0,i=s.string.trim(String(e)).split("."),r=s.string.trim(String(t)).split("."),o=Math.max(i.length,r.length),a=0;0==n&&a<o;a++){var l=i[a]||"",u=r[a]||"",c=RegExp("(\\d*)(\\D*)","g"),p=RegExp("(\\d*)(\\D*)","g");do{var f=c.exec(l)||["","",""],d=p.exec(u)||["","",""];if(0==f[0].length&&0==d[0].length)break;n=0==f[1].length?0:parseInt(f[1],10);var h=0==d[1].length?0:parseInt(d[1],10);n=s.string.compareElements_(n,h)||s.string.compareElements_(0==f[2].length,0==d[2].length)||s.string.compareElements_(f[2],d[2])}while(0==n)}return n},s.string.compareElements_=function(e,t){return e<t?-1:e>t?1:0},s.string.HASHCODE_MAX_=4294967296,s.string.hashCode=function(e){for(var t=0,n=0;n<e.length;++n)t=31*t+e.charCodeAt(n),t%=s.string.HASHCODE_MAX_;return t},s.string.uniqueStringCounter_=2147483648*Math.random()|0,s.string.createUniqueString=function(){return"goog_"+s.string.uniqueStringCounter_++},s.string.toNumber=function(e){var t=Number(e);return 0==t&&s.string.isEmpty(e)?NaN:t},s.string.isLowerCamelCase=function(e){return/^[a-z]+([A-Z][a-z]*)*$/.test(e)},s.string.isUpperCamelCase=function(e){return/^([A-Z][a-z]*)+$/.test(e)},s.string.toCamelCase=function(e){return String(e).replace(/\-([a-z])/g,function(e,t){return t.toUpperCase()})},s.string.toSelectorCase=function(e){return String(e).replace(/([A-Z])/g,"-$1").toLowerCase()},s.string.toTitleCase=function(e,t){var n=s.isString(t)?s.string.regExpEscape(t):"\\s";return e.replace(RegExp("(^"+(n?"|["+n+"]+":"")+")([a-z])","g"),function(e,t,n){return t+n.toUpperCase()})},s.string.parseInt=function(e){return isFinite(e)&&(e=String(e)),s.isString(e)?/^\s*-?0x/i.test(e)?parseInt(e,16):parseInt(e,10):NaN},s.string.splitLimit=function(e,t,n){e=e.split(t);for(var i=[];0<n&&e.length;)i.push(e.shift()),n--;return e.length&&i.push(e.join(t)),i},s.debug={},s.debug.Error=function(e){Error.captureStackTrace?Error.captureStackTrace(this,s.debug.Error):this.stack=Error().stack||"",e&&(this.message=String(e))},s.inherits(s.debug.Error,Error),s.debug.Error.prototype.name="CustomError",s.asserts={},s.asserts.ENABLE_ASSERTS=s.DEBUG,s.asserts.AssertionError=function(e,t){t.unshift(e),s.debug.Error.call(this,s.string.subs.apply(null,t)),t.shift(),this.messagePattern=e},s.inherits(s.asserts.AssertionError,s.debug.Error),s.asserts.AssertionError.prototype.name="AssertionError",s.asserts.doAssertFailure_=function(e,t,n,i){var r="Assertion failed";if(n){r=r+": "+n;var o=i}else e&&(r+=": "+e,o=t);throw new s.asserts.AssertionError(""+r,o||[])},s.asserts.assert=function(e,t,n){return s.asserts.ENABLE_ASSERTS&&!e&&s.asserts.doAssertFailure_("",null,t,Array.prototype.slice.call(arguments,2)),e},s.asserts.fail=function(e,t){if(s.asserts.ENABLE_ASSERTS)throw new s.asserts.AssertionError("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))},s.asserts.assertNumber=function(e,t,n){return s.asserts.ENABLE_ASSERTS&&!s.isNumber(e)&&s.asserts.doAssertFailure_("Expected number but got %s: %s.",[s.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},s.asserts.assertString=function(e,t,n){return s.asserts.ENABLE_ASSERTS&&!s.isString(e)&&s.asserts.doAssertFailure_("Expected string but got %s: %s.",[s.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},s.asserts.assertFunction=function(e,t,n){return s.asserts.ENABLE_ASSERTS&&!s.isFunction(e)&&s.asserts.doAssertFailure_("Expected function but got %s: %s.",[s.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},s.asserts.assertObject=function(e,t,n){return s.asserts.ENABLE_ASSERTS&&!s.isObject(e)&&s.asserts.doAssertFailure_("Expected object but got %s: %s.",[s.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},s.asserts.assertArray=function(e,t,n){return s.asserts.ENABLE_ASSERTS&&!s.isArray(e)&&s.asserts.doAssertFailure_("Expected array but got %s: %s.",[s.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},s.asserts.assertBoolean=function(e,t,n){return s.asserts.ENABLE_ASSERTS&&!s.isBoolean(e)&&s.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[s.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},s.asserts.assertInstanceof=function(e,t,n,i){return!s.asserts.ENABLE_ASSERTS||e instanceof t||s.asserts.doAssertFailure_("instanceof check failed.",null,n,Array.prototype.slice.call(arguments,3)),e},s.asserts.assertObjectPrototypeIsIntact=function(){for(var e in Object.prototype)s.asserts.fail(e+" should not be enumerable in Object.prototype.")},e=this,function(){var e={},t={};i=function(t,n,i){e[t]={deps:n,callback:i}},o=r=function(n){function i(e){if("."!==e.charAt(0))return e;e=e.split("/");for(var t=n.split("/").slice(0,-1),i=0,r=e.length;i<r;i++){var o=e[i];".."===o?t.pop():"."!==o&&t.push(o)}return t.join("/")}if(o._eak_seen=e,t[n])return t[n];if(t[n]={},!e[n])throw Error("Could not find module "+n);for(var s,a=(l=e[n]).deps,l=l.callback,u=[],c=0,p=a.length;c<p;c++)"exports"===a[c]?u.push(s={}):u.push(r(i(a[c])));return a=l.apply(this,u),t[n]=s||a}}(),i("promise/all",["./utils","exports"],function(e,t){var n=e.isArray,i=e.isFunction;t.all=function(e){if(!n(e))throw new TypeError("You must pass an array to all.");return new this(function(t,n){function r(e){return function(n){s[e]=n,0==--a&&t(s)}}var o,s=[],a=e.length;0===a&&t([]);for(var l=0;l<e.length;l++)(o=e[l])&&i(o.then)?o.then(r(l),n):(s[l]=o,0==--a&&t(s))})}}),i("promise/asap",["exports"],function(e){function i(){for(var e=0;e<s.length;e++){var t=s[e];(0,t[0])(t[1])}s=[]}var r,o=void 0!==n?n:void 0===this?window:this,s=[];r=void 0!==t&&"[object process]"==={}.toString.call(t)?function(){t.nextTick(i)}:function(){o.setTimeout(i,1)},e.asap=function(e,t){1===s.push([e,t])&&r()}}),i("promise/config",["exports"],function(e){var t={instrument:!1};e.config=t,e.configure=function(e,n){if(2!==arguments.length)return t[e];t[e]=n}}),i("promise/polyfill",["./promise","./utils","exports"],function(t,i,r){var o=t.Promise,s=i.isFunction;r.polyfill=function(){var t;"Promise"in(t=void 0!==n?n:"undefined"!=typeof window&&window.document?window:e)&&"resolve"in t.Promise&&"reject"in t.Promise&&"all"in t.Promise&&"race"in t.Promise&&function(){var e;return new t.Promise(function(t){e=t}),s(e)}()||(t.Promise=o)}}),i("promise/promise","./config ./utils ./all ./race ./resolve ./reject ./asap exports".split(" "),function(e,t,n,i,r,o,s,a){function l(e){if(!v(e))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof l))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._subscribers=[],function(e,t){function n(e){h(t,e)}try{e(function(e){f(t,e)},n)}catch(e){n(e)}}(e,this)}function u(e,t,n,i){var r,o,s,a,l=v(n);if(l)try{r=n(i),s=!0}catch(e){a=!0,o=e}else r=i,s=!0;p(t,r)||(l&&s?f(t,r):a?h(t,o):e===w?f(t,r):e===k&&h(t,r))}function c(e,t){for(var n=e._subscribers,i=e._detail,r=0;r<n.length;r+=3)u(t,n[r],n[r+t],i);e._subscribers=null}function p(e,t){var n,i=null;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(y(t)&&(i=t.then,v(i)))return i.call(t,function(i){if(n)return!0;n=!0,t!==i?f(e,i):d(e,i)},function(t){if(n)return!0;n=!0,h(e,t)}),!0}catch(t){return!!n||(h(e,t),!0)}return!1}function f(e,t){e===t?d(e,t):p(e,t)||d(e,t)}function d(e,t){e._state===_&&(e._state=x,e._detail=t,b.async(m,e))}function h(e,t){e._state===_&&(e._state=x,e._detail=t,b.async(g,e))}function m(e){c(e,e._state=w)}function g(e){c(e,e._state=k)}var b=e.config,y=t.objectOrFunction,v=t.isFunction;e=n.all,i=i.race,r=r.resolve,o=o.reject,b.async=s.asap;var _=void 0,x=0,w=1,k=2;l.prototype={constructor:l,_state:void 0,_detail:void 0,_subscribers:void 0,then:function(e,t){var n=this,i=new this.constructor(function(){});if(this._state){var r=arguments;b.async(function(){u(n._state,i,r[n._state-1],n._detail)})}else!function(e,t,n,i){var r=(e=e._subscribers).length;e[r]=t,e[r+w]=n,e[r+k]=i}(this,i,e,t);return i},catch:function(e){return this.then(null,e)}},l.all=e,l.race=i,l.resolve=r,l.reject=o,a.Promise=l}),i("promise/race",["./utils","exports"],function(e,t){var n=e.isArray;t.race=function(e){if(!n(e))throw new TypeError("You must pass an array to race.");return new this(function(t,n){for(var i,r=0;r<e.length;r++)(i=e[r])&&"function"==typeof i.then?i.then(t,n):t(i)})}}),i("promise/reject",["exports"],function(e){e.reject=function(e){return new this(function(t,n){n(e)})}}),i("promise/resolve",["exports"],function(e){e.resolve=function(e){return e&&"object"==typeof e&&e.constructor===this?e:new this(function(t){t(e)})}}),i("promise/utils",["exports"],function(e){function t(e){return"function"==typeof e}var n=Date.now||function(){return(new Date).getTime()};e.objectOrFunction=function(e){return t(e)||"object"==typeof e&&null!==e},e.isFunction=t,e.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},e.now=n}),r("promise/polyfill").polyfill();var a=a||{};a.configure=function(e){a.output=e.output||a.output,s.asserts.assert("function"==typeof a.output),a.debugout=e.debugout||a.debugout,s.asserts.assert("function"==typeof a.debugout),a.uncaughtException=e.uncaughtException||a.uncaughtException,s.asserts.assert("function"==typeof a.uncaughtException),a.read=e.read||a.read,s.asserts.assert("function"==typeof a.read),a.timeoutMsg=e.timeoutMsg||a.timeoutMsg,s.asserts.assert("function"==typeof a.timeoutMsg),s.exportSymbol("Sk.timeoutMsg",a.timeoutMsg),a.sysargv=e.sysargv||a.sysargv,s.asserts.assert(s.isArrayLike(a.sysargv)),a.python3=e.python3||a.python3,s.asserts.assert("boolean"==typeof a.python3),a.imageProxy=e.imageProxy||"http://localhost:8080/320x",s.asserts.assert("string"==typeof a.imageProxy),a.inputfun=e.inputfun||a.inputfun,s.asserts.assert("function"==typeof a.inputfun),a.inputfunTakesPrompt=e.inputfunTakesPrompt||!1,s.asserts.assert("boolean"==typeof a.inputfunTakesPrompt),a.retainGlobals=e.retainglobals||!1,s.asserts.assert("boolean"==typeof a.retainGlobals),a.debugging=e.debugging||!1,s.asserts.assert("boolean"==typeof a.debugging),a.breakpoints=e.breakpoints||function(){return!0},s.asserts.assert("function"==typeof a.breakpoints),a.setTimeout=e.setTimeout,void 0===a.setTimeout&&(a.setTimeout="function"==typeof setTimeout?function(e,t){setTimeout(e,t)}:function(e,t){e()}),s.asserts.assert("function"==typeof a.setTimeout),"execLimit"in e&&(a.execLimit=e.execLimit),"yieldLimit"in e&&(a.yieldLimit=e.yieldLimit),e.syspath&&(a.syspath=e.syspath,s.asserts.assert(s.isArrayLike(a.syspath)),a.realsyspath=void 0,a.sysmodules=new a.builtin.dict([])),a.misceval.softspace_=!1},s.exportSymbol("Sk.configure",a.configure),a.uncaughtException=function(e){throw e},s.exportSymbol("Sk.uncaughtException",a.uncaughtException),a.timeoutMsg=function(){return"Program exceeded run time limit."},s.exportSymbol("Sk.timeoutMsg",a.timeoutMsg),a.execLimit=Number.POSITIVE_INFINITY,a.yieldLimit=Number.POSITIVE_INFINITY,a.output=function(e){},a.read=function(e){throw"Sk.read has not been implemented"},a.sysargv=[],a.getSysArgv=function(){return a.sysargv},s.exportSymbol("Sk.getSysArgv",a.getSysArgv),a.syspath=[],a.inBrowser=void 0!==s.global.document,a.debugout=function(e){},void 0!==s.global.write?a.output=s.global.write:void 0!==s.global.console&&void 0!==s.global.console.log?a.output=function(e){s.global.console.log(e)}:void 0!==s.global.print&&(a.output=s.global.print),void 0!==s.global.print&&(a.debugout=s.global.print),a.inBrowser||(s.global.CLOSURE_IMPORT_SCRIPT=function(e){return s.global.eval(s.global.read("support/closure-library/closure/goog/"+e)),!0}),a.python3=!1,a.inputfun=function(e){return window.prompt(e)},s.exportSymbol("Sk.python3",a.python3),s.exportSymbol("Sk.inputfun",a.inputfun),void 0===a.builtin&&(a.builtin={}),a.dunderToSkulpt={__eq__:"ob$eq",__ne__:"ob$ne",__lt__:"ob$lt",__le__:"ob$le",__gt__:"ob$gt",__ge__:"ob$ge",__hash__:"tp$hash",__abs__:"nb$abs",__neg__:"nb$negative",__pos__:"nb$positive",__int__:"nb$int_",__long__:"nb$lng",__float__:"nb$float_",__add__:"nb$add",__radd__:"nb$reflected_add",__sub__:"nb$subtract",__rsub__:"nb$reflected_subtract",__mul__:"nb$multiply",__rmul__:"nb$reflected_multiply",__div__:"nb$divide",__rdiv__:"nb$reflected_divide",__floordiv__:"nb$floor_divide",__rfloordiv__:"nb$reflected_floor_divide",__mod__:"nb$remainder",__rmod__:"nb$reflected_remainder",__divmod__:"nb$divmod",__rdivmod__:"nb$reflected_divmod",__pow__:"nb$power",__rpow__:"nb$reflected_power",__contains__:"sq$contains",__len__:["sq$length",1],__get__:["tp$descr_get",3],__set__:["tp$descr_set",3]},a.builtin.type=function(e,t,n){var i,r;if(void 0===t&&void 0===n)return e.ob$type;if("dict"!==n.tp$name)throw new a.builtin.TypeError("type() argument 3 must be dict, not "+a.abstr.typeName(n));if(!a.builtin.checkString(e))throw new a.builtin.TypeError("type() argument 1 must be str, not "+a.abstr.typeName(e));if("tuple"!==t.tp$name)throw new a.builtin.TypeError("type() argument 2 must be tuple, not "+a.abstr.typeName(t));i=function(e,t){var n;void 0!==i.prototype.tp$base&&(i.prototype.tp$base.sk$klass?i.prototype.tp$base.call(this,e,t):((n=e.slice()).unshift(i,this),a.abstr.superConstructor.apply(void 0,n))),this.$d=new a.builtin.dict([]),this.$d.mp$ass_subscript(new a.builtin.str("__dict__"),this.$d)};var o=a.ffi.remapToJs(e),l=!1;i.tp$call=function(e,t){var n,r,o=a.builtin.type.typeLookup(i,"__new__");return e=e||[],t=t||[],void 0===o||o===a.builtin.object.prototype.__new__?(r=new i(e,t),o=void 0):((n=e.slice()).unshift(i),r=a.misceval.applyOrSuspend(o,void 0,void 0,t,n)),a.misceval.chain(r,function(n){var i=a.builtin.type.typeLookup(n.ob$type,"__init__");if(r=n,void 0!==i)return e.unshift(r),a.misceval.applyOrSuspend(i,void 0,void 0,t,e);if(void 0===o&&(0!==e.length||0!==t.length)&&!l)throw new a.builtin.TypeError("__init__() got unexpected argument(s)")},function(e){if(e!==a.builtin.none.none$&&void 0!==e)throw new a.builtin.TypeError("__init__() should return None, not "+a.abstr.typeName(e));return r})},0===t.v.length&&a.python3&&a.abstr.setUpInheritance(o,i,a.builtin.object);var u,c,p=[];for(r=(u=t.tp$iter()).tp$iternext();void 0!==r;r=u.tp$iternext()){for(void 0===c&&(c=r);r.sk$klass&&r.prototype.tp$base;)r=r.prototype.tp$base;!r.sk$klass&&0>p.indexOf(r)&&(p.push(r),l=!0)}if(1<p.length)throw new a.builtin.TypeError("Multiple inheritance with more than one builtin type is unsupported");void 0!==c&&(s.inherits(i,c),c.prototype instanceof a.builtin.object||c===a.builtin.object)&&(i.prototype.tp$base=c),i.prototype.tp$name=o,i.prototype.ob$type=a.builtin.type.makeIntoTypeObj(o,i);var f=new a.builtin.str("__module__");for(void 0===n.mp$lookup(f)&&n.mp$ass_subscript(f,a.globals.__name__),c=(u=n.tp$iter()).tp$iternext();void 0!==c;c=u.tp$iternext())void 0===(r=n.mp$subscript(c))&&(r=null),i.prototype[c.v]=r,i[c.v]=r;for(var d in i.__class__=i,i.__name__=e,i.sk$klass=!0,i.prototype.$r=function(){var e,t;return void 0!==(e=this.tp$getattr("__repr__"))&&e.im_func!==a.builtin.object.prototype.__repr__?a.misceval.apply(e,void 0,void 0,void 0,[]):void 0!==i.prototype.tp$base&&i.prototype.tp$base!==a.builtin.object&&void 0!==i.prototype.tp$base.prototype.$r?i.prototype.tp$base.prototype.$r.call(this):(e="",(t=n.mp$subscript(f))&&(e=t.v+"."),new a.builtin.str("<"+e+o+" object>"))},i.prototype.tp$setattr=function(e,t,n){var i=a.builtin.object.prototype.GenericGetAttr.call(this,"__setattr__");return void 0!==i?(e=a.misceval.callsimOrSuspend(i,new a.builtin.str(e),t),n?e:a.misceval.retryOptionalSuspensionOrThrow(e)):a.builtin.object.prototype.GenericSetAttr.call(this,e,t)},i.prototype.tp$getattr=function(e,t){var n,i,r=function(){return a.misceval.tryCatch(function(){return a.misceval.callsimOrSuspend(i,new a.builtin.str(e))},function(e){if(!(e instanceof a.builtin.AttributeError))throw e})};return void 0!==(i=a.builtin.object.prototype.GenericGetAttr.call(this,"__getattribute__"))?n=r():void 0===(n=a.builtin.object.prototype.GenericGetAttr.call(this,e))&&(void 0!==(i=a.builtin.object.prototype.GenericGetAttr.call(this,"__getattr__"))&&(n=r())),t?n:a.misceval.retryOptionalSuspensionOrThrow(n)},i.prototype.tp$str=function(){var e=this.tp$getattr("__str__");return void 0!==e&&e.im_func!==a.builtin.object.prototype.__str__?a.misceval.apply(e,void 0,void 0,void 0,[]):void 0!==i.prototype.tp$base&&i.prototype.tp$base!==a.builtin.object&&void 0!==i.prototype.tp$base.prototype.tp$str?i.prototype.tp$base.prototype.tp$str.call(this):this.$r()},i.prototype.tp$length=function(e){var t=a.misceval.chain(a.abstr.gattr(this,"__len__",e),function(e){return a.misceval.applyOrSuspend(e,void 0,void 0,void 0,[])});return e?t:a.misceval.retryOptionalSuspensionOrThrow(t)},i.prototype.tp$call=function(e,t){return a.misceval.chain(a.abstr.gattr(this,"__call__",!0),function(n){return a.misceval.applyOrSuspend(n,void 0,void 0,t,e)})},i.prototype.tp$iter=function(){var e=a.abstr.gattr(this,"__iter__",!1);return a.misceval.callsim(e)},i.prototype.tp$iternext=function(e){var t=this,n=a.misceval.chain(a.misceval.tryCatch(function(){return a.abstr.gattr(t,"next",e)},function(e){if(e instanceof a.builtin.AttributeError)throw new a.builtin.TypeError("'"+a.abstr.typeName(t)+"' object is not iterable");throw e}),function(e){return a.misceval.tryCatch(function(){return a.misceval.callsimOrSuspend(e)},function(e){if(!(e instanceof a.builtin.StopIteration))throw e})});return e?n:a.misceval.retryOptionalSuspensionOrThrow(n)},i.prototype.tp$getitem=function(e,t){var n=a.abstr.gattr(this,"__getitem__",t);if(void 0!==n)return n=a.misceval.applyOrSuspend(n,void 0,void 0,void 0,[e]),t?n:a.misceval.retryOptionalSuspensionOrThrow(n);throw new a.builtin.TypeError("'"+a.abstr.typeName(this)+"' object does not support indexing")},i.prototype.tp$setitem=function(e,t,n){var i=a.abstr.gattr(this,"__setitem__",n);if(void 0!==i)return e=a.misceval.applyOrSuspend(i,void 0,void 0,void 0,[e,t]),n?e:a.misceval.retryOptionalSuspensionOrThrow(e);throw new a.builtin.TypeError("'"+a.abstr.typeName(this)+"' object does not support item assignment")},t&&(i.$d=new a.builtin.dict([]),i.$d.mp$ass_subscript(a.builtin.type.basesStr_,t),e=a.builtin.type.buildMRO(i),i.$d.mp$ass_subscript(a.builtin.type.mroStr_,e),i.tp$mro=e),i.tp$setattr=a.builtin.type.prototype.tp$setattr,e=function(e,t,n,r){i.prototype[e]=function(){var e,t=Array.prototype.slice.call(arguments);return t.unshift(n,this),null!==r&&(e=t[r+1],t.splice(r+1,1),e)?a.misceval.callsimOrSuspend.apply(void 0,t):a.misceval.callsim.apply(void 0,t)}},a.dunderToSkulpt)"string"==typeof(t=a.dunderToSkulpt[d])?u=null:(u=t[1],t=t[0]),i[d]&&e(t,d,i[d],u);return i},a.builtin.type.makeTypeObj=function(e,t){return a.builtin.type.makeIntoTypeObj(e,t),t},a.builtin.type.makeIntoTypeObj=function(e,t){return s.asserts.assert(void 0!==e),s.asserts.assert(void 0!==t),t.ob$type=a.builtin.type,t.tp$name=e,t.$r=function(){var e,n=t.__module__,i="";return n&&(i=n.v+"."),e="class",n||t.sk$klass||a.python3||(e="type"),new a.builtin.str("<"+e+" '"+i+t.tp$name+"'>")},t.tp$str=void 0,t.tp$getattr=a.builtin.type.prototype.tp$getattr,t.tp$setattr=a.builtin.object.prototype.GenericSetAttr,t.tp$richcompare=a.builtin.type.prototype.tp$richcompare,t.sk$type=!0,t},a.builtin.type.ob$type=a.builtin.type,a.builtin.type.tp$name="type",a.builtin.type.$r=function(){return a.python3?new a.builtin.str("<class 'type'>"):new a.builtin.str("<type 'type'>")},a.builtin.type.prototype.tp$getattr=function(e,t){var n,i;return this.$d&&void 0!==(n=this.$d.mp$lookup(new a.builtin.str(e)))?n:(null!=(n=a.builtin.type.typeLookup(this,e))&&void 0!==n.ob$type&&(i=n.tp$descr_get),i?i.call(n,a.builtin.none.none$,this,t):void 0!==n?n:void 0)},a.builtin.type.prototype.tp$setattr=function(e,t){this[e]=t},a.builtin.type.typeLookup=function(e,t){var n,i,r,o=e.tp$mro,s=new a.builtin.str(t);if(o)for(r=0;r<o.v.length;++r){if((n=o.v[r]).hasOwnProperty(t))return n[t];if(void 0!==(i=n.$d.mp$lookup(s)))return i;if(n.prototype&&void 0!==n.prototype[t])return n.prototype[t]}else if(e.prototype)return e.prototype[t]},a.builtin.type.mroMerge_=function(e){for(var t,n,i,r,o,s,l=[];;){for(n=0;n<e.length&&0===(t=e[n]).length;++n);if(n===e.length)return l;for(i=[],n=0;n<e.length;++n)if(0!==(t=e[n]).length){s=t[0],o=0;e:for(;o<e.length;++o)for(r=e[o],t=1;t<r.length;++t)if(r[t]===s)break e;o===e.length&&i.push(s)}if(0===i.length)throw new a.builtin.TypeError("Inconsistent precedences in type hierarchy");for(i=i[0],l.push(i),n=0;n<e.length;++n)0<(t=e[n]).length&&t[0]===i&&t.splice(0,1)}},a.builtin.type.buildMRO_=function(e){var t,n=[[e]],i=e.$d.mp$subscript(a.builtin.type.basesStr_);for(e=0;e<i.v.length;++e)n.push(a.builtin.type.buildMRO_(i.v[e]));for(t=[],e=0;e<i.v.length;++e)t.push(i.v[e]);return n.push(t),a.builtin.type.mroMerge_(n)},a.builtin.type.buildMRO=function(e){return new a.builtin.tuple(a.builtin.type.buildMRO_(e))},a.builtin.type.prototype.tp$richcompare=function(e,t){var n,i;if(e.ob$type==a.builtin.type&&this.$r&&e.$r)return i=new a.builtin.str(this.$r().v.slice(1,6)),n=new a.builtin.str(e.$r().v.slice(1,6)),"class"!==this.$r().v.slice(1,6)&&(i=this.$r(),n=e.$r()),i.tp$richcompare(n,t)},a.abstr={},a.abstr.typeName=function(e){return void 0!==e.tp$name?e.tp$name:"<invalid type>"},a.abstr.binop_type_error=function(e,t,n){throw e=a.abstr.typeName(e),t=a.abstr.typeName(t),new a.builtin.TypeError("unsupported operand type(s) for "+n+": '"+e+"' and '"+t+"'")},a.abstr.unop_type_error=function(e,t){var n=a.abstr.typeName(e);throw new a.builtin.TypeError("bad operand type for unary "+{UAdd:"+",USub:"-",Invert:"~"}[t]+": '"+n+"'")},a.abstr.boNameToSlotFuncLhs_=function(e,t){if(null!==e)switch(t){case"Add":return e.nb$add?e.nb$add:e.__add__;case"Sub":return e.nb$subtract?e.nb$subtract:e.__sub__;case"Mult":return e.nb$multiply?e.nb$multiply:e.__mul__;case"Div":return e.nb$divide?e.nb$divide:e.__div__;case"FloorDiv":return e.nb$floor_divide?e.nb$floor_divide:e.__floordiv__;case"Mod":return e.nb$remainder?e.nb$remainder:e.__mod__;case"DivMod":return e.nb$divmod?e.nb$divmod:e.__divmod__;case"Pow":return e.nb$power?e.nb$power:e.__pow__;case"LShift":return e.nb$lshift?e.nb$lshift:e.__lshift__;case"RShift":return e.nb$rshift?e.nb$rshift:e.__rshift__;case"BitAnd":return e.nb$and?e.nb$and:e.__and__;case"BitXor":return e.nb$xor?e.nb$xor:e.__xor__;case"BitOr":return e.nb$or?e.nb$or:e.__or__}},a.abstr.boNameToSlotFuncRhs_=function(e,t){if(null!==e)switch(t){case"Add":return e.nb$reflected_add?e.nb$reflected_add:e.__radd__;case"Sub":return e.nb$reflected_subtract?e.nb$reflected_subtract:e.__rsub__;case"Mult":return e.nb$reflected_multiply?e.nb$reflected_multiply:e.__rmul__;case"Div":return e.nb$reflected_divide?e.nb$reflected_divide:e.__rdiv__;case"FloorDiv":return e.nb$reflected_floor_divide?e.nb$reflected_floor_divide:e.__rfloordiv__;case"Mod":return e.nb$reflected_remainder?e.nb$reflected_remainder:e.__rmod__;case"DivMod":return e.nb$reflected_divmod?e.nb$reflected_divmod:e.__rdivmod__;case"Pow":return e.nb$reflected_power?e.nb$reflected_power:e.__rpow__;case"LShift":return e.nb$reflected_lshift?e.nb$reflected_lshift:e.__rlshift__;case"RShift":return e.nb$reflected_rshift?e.nb$reflected_rshift:e.__rrshift__;case"BitAnd":return e.nb$reflected_and?e.nb$reflected_and:e.__rand__;case"BitXor":return e.nb$reflected_xor?e.nb$reflected_xor:e.__rxor__;case"BitOr":return e.nb$reflected_or?e.nb$reflected_or:e.__ror__}},a.abstr.iboNameToSlotFunc_=function(e,t){switch(t){case"Add":return e.nb$inplace_add?e.nb$inplace_add:e.__iadd__;case"Sub":return e.nb$inplace_subtract?e.nb$inplace_subtract:e.__isub__;case"Mult":return e.nb$inplace_multiply?e.nb$inplace_multiply:e.__imul__;case"Div":return e.nb$inplace_divide?e.nb$inplace_divide:e.__idiv__;case"FloorDiv":return e.nb$inplace_floor_divide?e.nb$inplace_floor_divide:e.__ifloordiv__;case"Mod":return e.nb$inplace_remainder;case"Pow":return e.nb$inplace_power;case"LShift":return e.nb$inplace_lshift?e.nb$inplace_lshift:e.__ilshift__;case"RShift":return e.nb$inplace_rshift?e.nb$inplace_rshift:e.__irshift__;case"BitAnd":return e.nb$inplace_and;case"BitOr":return e.nb$inplace_or;case"BitXor":return e.nb$inplace_xor?e.nb$inplace_xor:e.__ixor__}},a.abstr.uoNameToSlotFunc_=function(e,t){if(null!==e)switch(t){case"USub":return e.nb$negative?e.nb$negative:e.__neg__;case"UAdd":return e.nb$positive?e.nb$positive:e.__pos__;case"Invert":return e.nb$invert?e.nb$invert:e.__invert__}},a.abstr.binary_op_=function(e,t,n){var i,r=t.constructor.prototype instanceof e.constructor;return r&&(void 0!==(i=a.abstr.boNameToSlotFuncRhs_(t,n))&&(void 0!==(i=i.call?i.call(t,e):a.misceval.callsim(i,t,e))&&i!==a.builtin.NotImplemented.NotImplemented$))?i:void 0!==(i=a.abstr.boNameToSlotFuncLhs_(e,n))&&(void 0!==(i=i.call?i.call(e,t):a.misceval.callsim(i,e,t))&&i!==a.builtin.NotImplemented.NotImplemented$)||!r&&(void 0!==(i=a.abstr.boNameToSlotFuncRhs_(t,n))&&(void 0!==(i=i.call?i.call(t,e):a.misceval.callsim(i,t,e))&&i!==a.builtin.NotImplemented.NotImplemented$))?i:void a.abstr.binop_type_error(e,t,n)},a.abstr.binary_iop_=function(e,t,n){var i;return void 0!==(i=a.abstr.iboNameToSlotFunc_(e,n))&&(void 0!==(i=i.call?i.call(e,t):a.misceval.callsim(i,e,t))&&i!==a.builtin.NotImplemented.NotImplemented$)?i:a.abstr.binary_op_(e,t,n)},a.abstr.unary_op_=function(e,t){var n;if(void 0!==(n=a.abstr.uoNameToSlotFunc_(e,t))&&void 0!==(n=n.call?n.call(e):a.misceval.callsim(n,e)))return n;a.abstr.unop_type_error(e,t)},a.abstr.numOpAndPromote=function(e,t,n){if(null!==e&&null!==t){if("number"==typeof e&&"number"==typeof t)return((n=n(e,t))>a.builtin.int_.threshold$||n<-a.builtin.int_.threshold$)&&Math.floor(n)===n?[a.builtin.lng.fromInt$(e),a.builtin.lng.fromInt$(t)]:n;if(void 0===e||void 0===t)throw new a.builtin.NameError("Undefined variable in expression");if(e.constructor===a.builtin.lng)return[e,t];if((e.constructor===a.builtin.int_||e.constructor===a.builtin.float_)&&t.constructor===a.builtin.complex)return[e=new a.builtin.complex(e),t];if(e.constructor===a.builtin.int_||e.constructor===a.builtin.float_)return[e,t];if("number"==typeof e)return[e=a.builtin.assk$(e),t]}},a.abstr.boNumPromote_={Add:function(e,t){return e+t},Sub:function(e,t){return e-t},Mult:function(e,t){return e*t},Mod:function(e,t){var n;if(0===t)throw new a.builtin.ZeroDivisionError("division or modulo by zero");return 0>(n=e%t)*t?n+t:n},Div:function(e,t){if(0===t)throw new a.builtin.ZeroDivisionError("division or modulo by zero");return e/t},FloorDiv:function(e,t){if(0===t)throw new a.builtin.ZeroDivisionError("division or modulo by zero");return Math.floor(e/t)},Pow:Math.pow,BitAnd:function(e,t){var n=e&t;return 0>n&&(n+=4294967296),n},BitOr:function(e,t){var n=e|t;return 0>n&&(n+=4294967296),n},BitXor:function(e,t){var n=e^t;return 0>n&&(n+=4294967296),n},LShift:function(e,t){var n;if(0>t)throw new a.builtin.ValueError("negative shift count");return(n=e<<t)>e?n:e*Math.pow(2,t)},RShift:function(e,t){var n;if(0>t)throw new a.builtin.ValueError("negative shift count");return n=e>>t,0<e&&0>n&&(n&=Math.pow(2,32-t)-1),n}},a.abstr.numberBinOp=function(e,t,n){var i;if(void 0!==(i=a.abstr.boNumPromote_[n])){if("number"==typeof(i=a.abstr.numOpAndPromote(e,t,i)))return i;if(void 0!==i&&i.constructor===a.builtin.int_||void 0!==i&&i.constructor===a.builtin.float_||void 0!==i&&i.constructor===a.builtin.lng)return i;void 0!==i&&(e=i[0],t=i[1])}return a.abstr.binary_op_(e,t,n)},s.exportSymbol("Sk.abstr.numberBinOp",a.abstr.numberBinOp),a.abstr.numberInplaceBinOp=function(e,t,n){var i;if(void 0!==(i=a.abstr.boNumPromote_[n])){if("number"==typeof(i=a.abstr.numOpAndPromote(e,t,i)))return i;if(void 0!==i&&i.constructor===a.builtin.int_||void 0!==i&&i.constructor===a.builtin.float_||void 0!==i&&i.constructor===a.builtin.lng)return i;void 0!==i&&(e=i[0],t=i[1])}return a.abstr.binary_iop_(e,t,n)},s.exportSymbol("Sk.abstr.numberInplaceBinOp",a.abstr.numberInplaceBinOp),a.abstr.numberUnaryOp=function(e,t){var n;if("Not"===t)return a.misceval.isTrue(e)?a.builtin.bool.false$:a.builtin.bool.true$;if(e instanceof a.builtin.bool){if(n=a.builtin.asnum$(e),"USub"===t)return new a.builtin.int_(-n);if("UAdd"===t)return new a.builtin.int_(n);if("Invert"===t)return new a.builtin.int_(~n)}else{if("USub"===t&&e.nb$negative)return e.nb$negative();if("UAdd"===t&&e.nb$positive)return e.nb$positive();if("Invert"===t&&e.nb$invert)return e.nb$invert()}return a.abstr.unary_op_(e,t)},s.exportSymbol("Sk.abstr.numberUnaryOp",a.abstr.numberUnaryOp),a.abstr.fixSeqIndex_=function(e,t){return 0>(t=a.builtin.asnum$(t))&&e.sq$length&&(t+=e.sq$length()),t},a.abstr.sequenceContains=function(e,t,n){var i;if(e.sq$contains)return e.sq$contains(t);if(null!=(i=a.abstr.lookupSpecial(e,"__contains__")))return a.misceval.isTrue(a.misceval.callsim(i,e,t));if(!a.builtin.checkIterable(e))throw n=a.abstr.typeName(e),new a.builtin.TypeError("argument of type '"+n+"' is not iterable");return e=a.misceval.iterFor(a.abstr.iter(e),function(e){return!!a.misceval.richCompareBool(e,t,"Eq")&&new a.misceval.Break(!0)},!1),n?e:a.misceval.retryOptionalSuspensionOrThrow(e)},a.abstr.sequenceConcat=function(e,t){var n;if(e.sq$concat)return e.sq$concat(t);throw n=a.abstr.typeName(e),new a.builtin.TypeError("'"+n+"' object can't be concatenated")},a.abstr.sequenceGetIndexOf=function(e,t){var n,i,r;if(e.index)return a.misceval.callsim(e.index,e,t);if(a.builtin.checkIterable(e)){for(r=0,n=(i=a.abstr.iter(e)).tp$iternext();void 0!==n;n=i.tp$iternext()){if(a.misceval.richCompareBool(t,n,"Eq"))return new a.builtin.int_(r);r+=1}throw new a.builtin.ValueError("sequence.index(x): x not in sequence")}throw n=a.abstr.typeName(e),new a.builtin.TypeError("argument of type '"+n+"' is not iterable")},a.abstr.sequenceGetCountOf=function(e,t){var n,i,r;if(e.count)return a.misceval.callsim(e.count,e,t);if(a.builtin.checkIterable(e)){for(r=0,n=(i=a.abstr.iter(e)).tp$iternext();void 0!==n;n=i.tp$iternext())a.misceval.richCompareBool(t,n,"Eq")&&(r+=1);return new a.builtin.int_(r)}throw n=a.abstr.typeName(e),new a.builtin.TypeError("argument of type '"+n+"' is not iterable")},a.abstr.sequenceGetItem=function(e,t,n){if(e.mp$subscript)return e.mp$subscript(t);throw e=a.abstr.typeName(e),new a.builtin.TypeError("'"+e+"' object is unsubscriptable")},a.abstr.sequenceSetItem=function(e,t,n,i){if(e.mp$ass_subscript)return e.mp$ass_subscript(t,n);throw e=a.abstr.typeName(e),new a.builtin.TypeError("'"+e+"' object does not support item assignment")},a.abstr.sequenceDelItem=function(e,t){var n;if(!e.sq$del_item)throw n=a.abstr.typeName(e),new a.builtin.TypeError("'"+n+"' object does not support item deletion");t=a.abstr.fixSeqIndex_(e,t),e.sq$del_item(t)},a.abstr.sequenceRepeat=function(e,t,n){if(n=a.builtin.asnum$(n),void 0===a.misceval.asIndex(n))throw e=a.abstr.typeName(n),new a.builtin.TypeError("can't multiply sequence by non-int of type '"+e+"'");return e.call(t,n)},a.abstr.sequenceGetSlice=function(e,t,n){if(e.sq$slice)return t=a.abstr.fixSeqIndex_(e,t),n=a.abstr.fixSeqIndex_(e,n),e.sq$slice(t,n);if(e.mp$subscript)return e.mp$subscript(new a.builtin.slice(t,n));throw e=a.abstr.typeName(e),new a.builtin.TypeError("'"+e+"' object is unsliceable")},a.abstr.sequenceDelSlice=function(e,t,n){if(!e.sq$del_slice)throw e=a.abstr.typeName(e),new a.builtin.TypeError("'"+e+"' doesn't support slice deletion");t=a.abstr.fixSeqIndex_(e,t),n=a.abstr.fixSeqIndex_(e,n),e.sq$del_slice(t,n)},a.abstr.sequenceSetSlice=function(e,t,n,i){if(e.sq$ass_slice)t=a.abstr.fixSeqIndex_(e,t),n=a.abstr.fixSeqIndex_(e,n),e.sq$ass_slice(t,n,i);else{if(!e.mp$ass_subscript)throw e=a.abstr.typeName(e),new a.builtin.TypeError("'"+e+"' object doesn't support slice assignment");e.mp$ass_subscript(new a.builtin.slice(t,n),i)}},a.abstr.sequenceUnpack=function(e,t){var n,i,r=[];if(!a.builtin.checkIterable(e))throw new a.builtin.TypeError("'"+a.abstr.typeName(e)+"' object is not iterable");for(i=(n=a.abstr.iter(e)).tp$iternext();void 0!==i&&r.length<t;i=n.tp$iternext())r.push(i);if(r.length<t)throw new a.builtin.ValueError("need more than "+r.length+" values to unpack");if(void 0!==i)throw new a.builtin.ValueError("too many values to unpack");return r},a.abstr.objectFormat=function(e,t){var n;if(null==t&&(t=""),null==(n=a.abstr.lookupSpecial(e,"__format__")))throw new a.builtin.TypeError("Type "+a.abstr.typeName(e)+"doesn't define __format__");if(n=a.misceval.callsim(n,e,t),!a.builtin.checkString(n))throw new a.builtin.TypeError("__format__ must return a str, not "+a.abstr.typeName(n));return n},a.abstr.objectAdd=function(e,t){var n,i;if(e.nb$add)return e.nb$add(t);throw i=a.abstr.typeName(e),n=a.abstr.typeName(t),new a.builtin.TypeError("unsupported operand type(s) for +: '"+i+"' and '"+n+"'")},a.abstr.objectNegative=function(e){var t=a.builtin.asnum$(e);if(e instanceof a.builtin.bool&&(e=new a.builtin.int_(t)),e.nb$negative)return e.nb$negative();throw e=a.abstr.typeName(e),new a.builtin.TypeError("bad operand type for unary -: '"+e+"'")},a.abstr.objectPositive=function(e){var t=a.abstr.typeName(e),n=a.builtin.asnum$(e);if(e instanceof a.builtin.bool&&(e=new a.builtin.int_(n)),e.nb$negative)return e.nb$positive();throw new a.builtin.TypeError("bad operand type for unary +: '"+t+"'")},a.abstr.objectDelItem=function(e,t){var n;if(null!==e){if(e.mp$del_subscript)return void e.mp$del_subscript(t);if(e.sq$ass_item){if(void 0===(n=a.misceval.asIndex(t)))throw n=a.abstr.typeName(t),new a.builtin.TypeError("sequence index must be integer, not '"+n+"'");return void a.abstr.sequenceDelItem(e,n)}}throw n=a.abstr.typeName(e),new a.builtin.TypeError("'"+n+"' object does not support item deletion")},s.exportSymbol("Sk.abstr.objectDelItem",a.abstr.objectDelItem),a.abstr.objectGetItem=function(e,t,n){if(null!==e){if(e.tp$getitem)return e.tp$getitem(t,n);if(e.mp$subscript)return e.mp$subscript(t,n);if(a.misceval.isIndex(t)&&e.sq$item)return a.abstr.sequenceGetItem(e,a.misceval.asIndex(t),n)}throw e=a.abstr.typeName(e),new a.builtin.TypeError("'"+e+"' does not support indexing")},s.exportSymbol("Sk.abstr.objectGetItem",a.abstr.objectGetItem),a.abstr.objectSetItem=function(e,t,n,i){if(null!==e){if(e.tp$setitem)return e.tp$setitem(t,n,i);if(e.mp$ass_subscript)return e.mp$ass_subscript(t,n,i);if(a.misceval.isIndex(t)&&e.sq$ass_item)return a.abstr.sequenceSetItem(e,a.misceval.asIndex(t),n,i)}throw e=a.abstr.typeName(e),new a.builtin.TypeError("'"+e+"' does not support item assignment")},s.exportSymbol("Sk.abstr.objectSetItem",a.abstr.objectSetItem),a.abstr.gattr=function(e,t,n){var i,r=a.abstr.typeName(e);if(null===e)throw new a.builtin.AttributeError("'"+r+"' object has no attribute '"+t+"'");return void 0!==e.tp$getattr&&(i=e.tp$getattr(t,n)),i=a.misceval.chain(i,function(e){if(void 0===e)throw new a.builtin.AttributeError("'"+r+"' object has no attribute '"+t+"'");return e}),n?i:a.misceval.retryOptionalSuspensionOrThrow(i)},s.exportSymbol("Sk.abstr.gattr",a.abstr.gattr),a.abstr.sattr=function(e,t,n,i){var r=a.abstr.typeName(e);if(null===e)throw new a.builtin.AttributeError("'"+r+"' object has no attribute '"+t+"'");if(void 0!==e.tp$setattr)return e.tp$setattr(t,n,i);throw new a.builtin.AttributeError("'"+r+"' object has no attribute '"+t+"'")},s.exportSymbol("Sk.abstr.sattr",a.abstr.sattr),a.abstr.iternext=function(e,t){return e.tp$iternext(t)},s.exportSymbol("Sk.abstr.iternext",a.abstr.iternext),a.abstr.iter=function(e){var t,n;if(e.tp$getattr&&(t=a.abstr.lookupSpecial(e,"__iter__"))&&(n=a.misceval.callsim(t,e)).tp$iternext)return n;if(e.tp$iter)try{if((n=e.tp$iter()).tp$iternext)return n}catch(e){}if(a.abstr.lookupSpecial(e,"__getitem__"))return new function(e){this.idx=0,this.myobj=e,this.getitem=a.abstr.lookupSpecial(e,"__getitem__"),this.tp$iternext=function(){var e;try{e=a.misceval.callsim(this.getitem,this.myobj,a.ffi.remapToPy(this.idx))}catch(e){if(e instanceof a.builtin.IndexError||e instanceof a.builtin.StopIteration)return;throw e}return this.idx++,e}}(e);throw new a.builtin.TypeError("'"+a.abstr.typeName(e)+"' object is not iterable")},s.exportSymbol("Sk.abstr.iter",a.abstr.iter),a.abstr.lookupSpecial=function(e,t){var n;return e.ob$type?(n=e.ob$type,a.builtin.type.typeLookup(n,t)):null},s.exportSymbol("Sk.abstr.lookupSpecial",a.abstr.lookupSpecial),a.abstr.markUnhashable=function(e){(e=e.prototype).__hash__=a.builtin.none.none$,e.tp$hash=a.builtin.none.none$},a.abstr.setUpInheritance=function(e,t,n){s.inherits(t,n),t.prototype.tp$base=n,t.prototype.tp$name=e,t.prototype.ob$type=a.builtin.type.makeIntoTypeObj(e,t)},a.abstr.superConstructor=function(e,t,n){var i=Array.prototype.slice.call(arguments,2);e.prototype.tp$base.apply(t,i)},a.builtin.object=function(){return this instanceof a.builtin.object?this:new a.builtin.object};a.builtin.object.prototype.GenericGetAttr=function(e,t){var n,i,r,o=new a.builtin.str(e);return s.asserts.assert("string"==typeof e),i=this.ob$type,s.asserts.assert(void 0!==i,"object has no ob$type!"),(r=this.$d||this.constructor.$d)&&(r.mp$lookup?n=r.mp$lookup(o):r.mp$subscript?n=function(e,t){try{return e.mp$subscript(t)}catch(e){}}(r,o):"object"==typeof r&&(n=r[e]),void 0!==n)?n:null!=(i=a.builtin.type.typeLookup(i,e))&&(n=i.tp$descr_get)?n.call(i,this,this.ob$type,t):void 0!==i?i:void 0},s.exportSymbol("Sk.builtin.object.prototype.GenericGetAttr",a.builtin.object.prototype.GenericGetAttr),a.builtin.object.prototype.GenericPythonGetAttr=function(e,t){return a.builtin.object.prototype.GenericGetAttr.call(e,t.v)},s.exportSymbol("Sk.builtin.object.prototype.GenericPythonGetAttr",a.builtin.object.prototype.GenericPythonGetAttr),a.builtin.object.prototype.GenericSetAttr=function(e,t,n){var i,r,o=a.abstr.typeName(this),l=this.ob$type;if(s.asserts.assert("string"==typeof e),s.asserts.assert(void 0!==l,"object has no ob$type!"),i=this.$d||this.constructor.$d,null!=(l=a.builtin.type.typeLookup(l,e))&&(r=l.tp$descr_set))return r.call(l,this,t,n);if(i.mp$ass_subscript){if(n=new a.builtin.str(e),this instanceof a.builtin.object&&!this.ob$type.sk$klass&&void 0===i.mp$lookup(n))throw new a.builtin.AttributeError("'"+o+"' object has no attribute '"+e+"'");i.mp$ass_subscript(new a.builtin.str(e),t)}else"object"==typeof i&&(i[e]=t)},s.exportSymbol("Sk.builtin.object.prototype.GenericSetAttr",a.builtin.object.prototype.GenericSetAttr),a.builtin.object.prototype.GenericPythonSetAttr=function(e,t,n){return a.builtin.object.prototype.GenericSetAttr.call(e,t.v,n)},s.exportSymbol("Sk.builtin.object.prototype.GenericPythonSetAttr",a.builtin.object.prototype.GenericPythonSetAttr),a.builtin.object.prototype.HashNotImplemented=function(){throw new a.builtin.TypeError("unhashable type: '"+a.abstr.typeName(this)+"'")},a.builtin.object.prototype.tp$getattr=a.builtin.object.prototype.GenericGetAttr,a.builtin.object.prototype.tp$setattr=a.builtin.object.prototype.GenericSetAttr,a.builtin.object.prototype.__getattr__=a.builtin.object.prototype.GenericPythonGetAttr,a.builtin.object.prototype.__setattr__=a.builtin.object.prototype.GenericPythonSetAttr,a.builtin.object.prototype.tp$name="object",a.builtin.object.prototype.ob$type=a.builtin.type.makeIntoTypeObj("object",a.builtin.object),a.builtin.object.prototype.ob$type.sk$klass=void 0,a.builtin.object.prototype.tp$descr_set=void 0,a.builtin.object.prototype.__new__=function(e){return a.builtin.pyCheckArgs("__new__",arguments,1,1,!1,!1),new e([],[])},a.builtin.object.prototype.__repr__=function(e){return a.builtin.pyCheckArgs("__repr__",arguments,0,0,!1,!0),e.$r()},a.builtin.object.prototype.__str__=function(e){return a.builtin.pyCheckArgs("__str__",arguments,0,0,!1,!0),e.$r()},a.builtin.object.prototype.__hash__=function(e){return a.builtin.pyCheckArgs("__hash__",arguments,0,0,!1,!0),e.tp$hash()},a.builtin.object.prototype.__eq__=function(e,t){return a.builtin.pyCheckArgs("__eq__",arguments,1,1,!1,!0),e.ob$eq(t)},a.builtin.object.prototype.__ne__=function(e,t){return a.builtin.pyCheckArgs("__ne__",arguments,1,1,!1,!0),e.ob$ne(t)},a.builtin.object.prototype.__lt__=function(e,t){return a.builtin.pyCheckArgs("__lt__",arguments,1,1,!1,!0),e.ob$lt(t)},a.builtin.object.prototype.__le__=function(e,t){return a.builtin.pyCheckArgs("__le__",arguments,1,1,!1,!0),e.ob$le(t)},a.builtin.object.prototype.__gt__=function(e,t){return a.builtin.pyCheckArgs("__gt__",arguments,1,1,!1,!0),e.ob$gt(t)},a.builtin.object.prototype.__ge__=function(e,t){return a.builtin.pyCheckArgs("__ge__",arguments,1,1,!1,!0),e.ob$ge(t)},a.builtin.object.prototype.$r=function(){return new a.builtin.str("<object>")},a.builtin.hashCount=1,a.builtin.idCount=1,a.builtin.object.prototype.tp$hash=function(){return this.$savedHash_||(this.$savedHash_=new a.builtin.int_(a.builtin.hashCount++)),this.$savedHash_},a.builtin.object.prototype.ob$eq=function(e){return this===e?a.builtin.bool.true$:a.builtin.NotImplemented.NotImplemented$},a.builtin.object.prototype.ob$ne=function(e){return this===e?a.builtin.bool.false$:a.builtin.NotImplemented.NotImplemented$},a.builtin.object.prototype.ob$lt=function(e){return a.builtin.NotImplemented.NotImplemented$},a.builtin.object.prototype.ob$le=function(e){return a.builtin.NotImplemented.NotImplemented$},a.builtin.object.prototype.ob$gt=function(e){return a.builtin.NotImplemented.NotImplemented$},a.builtin.object.prototype.ob$ge=function(e){return a.builtin.NotImplemented.NotImplemented$},a.builtin.object.pythonFunctions="__repr__ __str__ __hash__ __eq__ __ne__ __lt__ __le__ __gt__ __ge__ __getattr__ __setattr__".split(" "),a.builtin.none=function(){this.v=null},a.abstr.setUpInheritance("NoneType",a.builtin.none,a.builtin.object),a.builtin.none.prototype.$r=function(){return new a.builtin.str("None")},a.builtin.none.prototype.tp$hash=function(){return new a.builtin.int_(0)},a.builtin.none.none$=new a.builtin.none,a.builtin.NotImplemented=function(){},a.abstr.setUpInheritance("NotImplementedType",a.builtin.NotImplemented,a.builtin.object),a.builtin.NotImplemented.prototype.$r=function(){return new a.builtin.str("NotImplemented")},a.builtin.NotImplemented.NotImplemented$=new a.builtin.NotImplemented,s.exportSymbol("Sk.builtin.none",a.builtin.none),s.exportSymbol("Sk.builtin.NotImplemented",a.builtin.NotImplemented),a.builtin.pyCheckArgs=function(e,t,n,i,r,o){t=t.length;var s="";if(void 0===i&&(i=1/0),r&&(t-=1),o&&(t-=1),t<n||t>i)throw s=(n===i?e+"() takes exactly "+n+" arguments":t<n?e+"() takes at least "+n+" arguments":e+"() takes at most "+i+" arguments")+" ("+t+" given)",new a.builtin.TypeError(s)},s.exportSymbol("Sk.builtin.pyCheckArgs",a.builtin.pyCheckArgs),a.builtin.pyCheckType=function(e,t,n){if(!n)throw new a.builtin.TypeError(e+" must be a "+t)},s.exportSymbol("Sk.builtin.pyCheckType",a.builtin.pyCheckType),a.builtin.checkSequence=function(e){return null!==e&&void 0!==e.mp$subscript},s.exportSymbol("Sk.builtin.checkSequence",a.builtin.checkSequence),a.builtin.checkIterable=function(e){var t=!1;if(null!==e)try{return!!(t=a.abstr.iter(e))}catch(e){if(e instanceof a.builtin.TypeError)return!1;throw e}return t},s.exportSymbol("Sk.builtin.checkIterable",a.builtin.checkIterable),a.builtin.checkCallable=function(e){return"function"==typeof e||e instanceof a.builtin.func||e instanceof a.builtin.method||void 0!==a.abstr.lookupSpecial(e,"__call__")},a.builtin.checkNumber=function(e){return null!==e&&("number"==typeof e||e instanceof a.builtin.int_||e instanceof a.builtin.float_||e instanceof a.builtin.lng)},s.exportSymbol("Sk.builtin.checkNumber",a.builtin.checkNumber),a.builtin.checkComplex=function(e){return a.builtin.complex._complex_check(e)},s.exportSymbol("Sk.builtin.checkComplex",a.builtin.checkComplex),a.builtin.checkInt=function(e){return null!==e&&("number"==typeof e&&e===(0|e)||e instanceof a.builtin.int_||e instanceof a.builtin.lng)},s.exportSymbol("Sk.builtin.checkInt",a.builtin.checkInt),a.builtin.checkFloat=function(e){return null!==e&&e instanceof a.builtin.float_},s.exportSymbol("Sk.builtin.checkFloat",a.builtin.checkFloat),a.builtin.checkString=function(e){return null!==e&&e.__class__==a.builtin.str},s.exportSymbol("Sk.builtin.checkString",a.builtin.checkString),a.builtin.checkClass=function(e){return null!==e&&e.sk$type},s.exportSymbol("Sk.builtin.checkClass",a.builtin.checkClass),a.builtin.checkBool=function(e){return e instanceof a.builtin.bool},s.exportSymbol("Sk.builtin.checkBool",a.builtin.checkBool),a.builtin.checkNone=function(e){return e instanceof a.builtin.none},s.exportSymbol("Sk.builtin.checkNone",a.builtin.checkNone),a.builtin.checkFunction=function(e){return null!==e&&void 0!==e.tp$call},s.exportSymbol("Sk.builtin.checkFunction",a.builtin.checkFunction),a.builtin.func=function(e,t,n,i){var r;if(this.func_code=e,this.func_globals=t||null,void 0!==i)for(r in i)n[r]=i[r];return this.func_closure=n,this},s.exportSymbol("Sk.builtin.func",a.builtin.func),a.builtin.func.prototype.tp$name="function",a.builtin.func.prototype.tp$descr_get=function(e,t){return s.asserts.assert(void 0!==e&&void 0!==t),e===a.builtin.none.none$?this:new a.builtin.method(this,e,t)},a.builtin.func.prototype.tp$call=function(e,t){var n,i,r,o,s,l,u;if(u=this.func_code.co_kwargs,l=[],this.func_code.no_kw&&t)throw r=this.func_code&&this.func_code.co_name&&this.func_code.co_name.v||"<native JS>",new a.builtin.TypeError(r+"() takes no keyword arguments");if(t)for(s=t.length,r=(o=this.func_code.co_varnames)&&o.length,i=0;i<s;i+=2){for(n=0;n<r&&t[i]!==o[n];++n);if(o&&n!==r){if(n in e)throw r=this.func_code&&this.func_code.co_name&&this.func_code.co_name.v||"<native JS>",new a.builtin.TypeError(r+"() got multiple values for keyword argument '"+t[i]+"'");e[n]=t[i+1]}else{if(!u)throw r=this.func_code&&this.func_code.co_name&&this.func_code.co_name.v||"<native JS>",new a.builtin.TypeError(r+"() got an unexpected keyword argument '"+t[i]+"'");l.push(new a.builtin.str(t[i])),l.push(t[i+1])}}if(this.func_closure){if(this.func_code.co_varnames)for(i=e.length,r=this.func_code.co_varnames.length;i<r;i++)e.push(void 0);e.push(this.func_closure)}return u&&e.unshift(l),this.func_code.apply(this.func_globals,e)},a.builtin.func.prototype.tp$getattr=function(e){return this[e]},a.builtin.func.prototype.tp$setattr=function(e,t){this[e]=t},a.builtin.func.prototype.ob$type=a.builtin.type.makeTypeObj("function",new a.builtin.func(null,null)),a.builtin.func.prototype.$r=function(){return new a.builtin.str("<function "+(this.func_code&&this.func_code.co_name&&this.func_code.co_name.v||"<native JS>")+">")},a.builtin.range=function(e,t,n){var i,r=[];if(a.builtin.pyCheckArgs("range",arguments,1,3),a.builtin.pyCheckType("start","integer",a.builtin.checkInt(e)),void 0!==t&&a.builtin.pyCheckType("stop","integer",a.builtin.checkInt(t)),void 0!==n&&a.builtin.pyCheckType("step","integer",a.builtin.checkInt(n)),e=a.builtin.asnum$(e),t=a.builtin.asnum$(t),n=a.builtin.asnum$(n),void 0===t&&void 0===n?(t=e,e=0,n=1):void 0===n&&(n=1),0===n)throw new a.builtin.ValueError("range() step argument must not be zero");if(0<n)for(i=e;i<t;i+=n)r.push(new a.builtin.int_(i));else for(i=e;i>t;i+=n)r.push(new a.builtin.int_(i));return new a.builtin.list(r)},a.builtin.asnum$=function(e){return null==e?e:e instanceof a.builtin.none?null:e instanceof a.builtin.bool?e.v?1:0:"number"==typeof e?e:"string"==typeof e?e:e instanceof a.builtin.int_?e.v:e instanceof a.builtin.float_?e.v:e instanceof a.builtin.lng?e.cantBeInt()?e.str$(10,!0):e.toInt$():e.constructor===a.builtin.biginteger?0<e.trueCompare(new a.builtin.biginteger(a.builtin.int_.threshold$))||0>e.trueCompare(new a.builtin.biginteger(-a.builtin.int_.threshold$))?e.toString():e.intValue():e},s.exportSymbol("Sk.builtin.asnum$",a.builtin.asnum$),a.builtin.assk$=function(e){return 0==e%1?new a.builtin.int_(e):new a.builtin.float_(e)},s.exportSymbol("Sk.builtin.assk$",a.builtin.assk$),a.builtin.asnum$nofloat=function(e){var t,n;if(null==e)return e;if(e.constructor===a.builtin.none)return null;if(e.constructor===a.builtin.bool)return e.v?1:0;if("number"==typeof e&&(e=e.toString()),e.constructor===a.builtin.int_&&(e=e.v.toString()),e.constructor===a.builtin.float_&&(e=e.v.toString()),e.constructor===a.builtin.lng&&(e=e.str$(10,!0)),e.constructor===a.builtin.biginteger&&(e=e.toString()),0>e.indexOf(".")&&0>e.indexOf("e")&&0>e.indexOf("E"))return e;if(n=0,0<=e.indexOf("e")?(t=e.substr(0,e.indexOf("e")),n=e.substr(e.indexOf("e")+1)):0<=e.indexOf("E")?(t=e.substr(0,e.indexOf("e")),n=e.substr(e.indexOf("E")+1)):t=e,n=parseInt(n,10),0>(e=t.indexOf("."))){if(0<=n){for(;0<n--;)t+="0";return t}return t.length>-n?t.substr(0,t.length+n):0}for(t=0===e?t.substr(1):e<t.length?t.substr(0,e)+t.substr(e+1):t.substr(0,e),e+=n;e>t.length;)t+="0";return 0>=e?0:t.substr(0,e)},s.exportSymbol("Sk.builtin.asnum$nofloat",a.builtin.asnum$nofloat),a.builtin.round=function(e,t){var n;if(a.builtin.pyCheckArgs("round",arguments,1,2),!a.builtin.checkNumber(e))throw new a.builtin.TypeError("a float is required");if(void 0!==t&&!a.misceval.isIndex(t))throw new a.builtin.TypeError("'"+a.abstr.typeName(t)+"' object cannot be interpreted as an index");return void 0===t&&(t=0),e.__round__?e.__round__(e,t):null!=(n=a.abstr.lookupSpecial(e,"__round__"))?a.misceval.callsim(n,e,t):void 0},a.builtin.len=function(e){a.builtin.pyCheckArgs("len",arguments,1,1);var t=function(e){return new a.builtin.int_(e)};if(e.sq$length)return a.misceval.chain(e.sq$length(!0),t);if(e.mp$length)return a.misceval.chain(e.mp$length(),t);if(e.tp$length)return a.misceval.chain(e.tp$length(!0),t);throw new a.builtin.TypeError("object of type '"+a.abstr.typeName(e)+"' has no len()")},a.builtin.min=function(){var e,t,n;if(a.builtin.pyCheckArgs("min",arguments,1),void 0===(t=(n=a.misceval.arrayFromArguments(arguments))[0]))throw new a.builtin.ValueError("min() arg is an empty sequence");for(e=1;e<n.length;++e)a.misceval.richCompareBool(n[e],t,"Lt")&&(t=n[e]);return t},a.builtin.max=function(){var e,t,n;if(a.builtin.pyCheckArgs("max",arguments,1),void 0===(t=(n=a.misceval.arrayFromArguments(arguments))[0]))throw new a.builtin.ValueError("max() arg is an empty sequence");for(e=1;e<n.length;++e)a.misceval.richCompareBool(n[e],t,"Gt")&&(t=n[e]);return t},a.builtin.any=function(e){var t,n;if(a.builtin.pyCheckArgs("any",arguments,1,1),!a.builtin.checkIterable(e))throw new a.builtin.TypeError("'"+a.abstr.typeName(e)+"' object is not iterable");for(n=(t=a.abstr.iter(e)).tp$iternext();void 0!==n;n=t.tp$iternext())if(a.misceval.isTrue(n))return a.builtin.bool.true$;return a.builtin.bool.false$},a.builtin.all=function(e){var t,n;if(a.builtin.pyCheckArgs("all",arguments,1,1),!a.builtin.checkIterable(e))throw new a.builtin.TypeError("'"+a.abstr.typeName(e)+"' object is not iterable");for(n=(t=a.abstr.iter(e)).tp$iternext();void 0!==n;n=t.tp$iternext())if(!a.misceval.isTrue(n))return a.builtin.bool.false$;return a.builtin.bool.true$},a.builtin.sum=function(e,t){var n,i,r,o,s;if(a.builtin.pyCheckArgs("sum",arguments,1,2),a.builtin.pyCheckType("iter","iterable",a.builtin.checkIterable(e)),void 0!==t&&a.builtin.checkString(t))throw new a.builtin.TypeError("sum() can't sum strings [use ''.join(seq) instead]");for(n=void 0===t?new a.builtin.int_(0):t,o=(r=a.abstr.iter(e)).tp$iternext();void 0!==o;o=r.tp$iternext()){if(o instanceof a.builtin.float_?(s=!0,n instanceof a.builtin.float_||(n=new a.builtin.float_(a.builtin.asnum$(n)))):o instanceof a.builtin.lng&&(s||n instanceof a.builtin.lng||(n=new a.builtin.lng(n))),void 0===n.nb$add||(void 0===(i=n.nb$add(o))||i===a.builtin.NotImplemented.NotImplemented$))throw new a.builtin.TypeError("unsupported operand type(s) for +: '"+a.abstr.typeName(n)+"' and '"+a.abstr.typeName(o)+"'");n=n.nb$add(o)}return n},a.builtin.zip=function(){var e,t,n,i,r,o;if(0===arguments.length)return new a.builtin.list([]);for(o=[],r=0;r<arguments.length;r++){if(!a.builtin.checkIterable(arguments[r]))throw new a.builtin.TypeError("argument "+r+" must support iteration");o.push(a.abstr.iter(arguments[r]))}for(i=[],n=!1;!n;){for(t=[],r=0;r<arguments.length;r++){if(void 0===(e=o[r].tp$iternext())){n=!0;break}t.push(e)}n||i.push(new a.builtin.tuple(t))}return new a.builtin.list(i)},a.builtin.abs=function(e){if(a.builtin.pyCheckArgs("abs",arguments,1,1),e instanceof a.builtin.int_)return new a.builtin.int_(Math.abs(e.v));if(e instanceof a.builtin.float_)return new a.builtin.float_(Math.abs(e.v));if(a.builtin.checkNumber(e))return a.builtin.assk$(Math.abs(a.builtin.asnum$(e)));if(a.builtin.checkComplex(e))return a.misceval.callsim(e.__abs__,e);if(e.tp$getattr){var t=e.tp$getattr("__abs__");return a.misceval.callsim(t)}throw new TypeError("bad operand type for abs(): '"+a.abstr.typeName(e)+"'")},a.builtin.ord=function(e){if(a.builtin.pyCheckArgs("ord",arguments,1,1),!a.builtin.checkString(e))throw new a.builtin.TypeError("ord() expected a string of length 1, but "+a.abstr.typeName(e)+" found");if(1!==e.v.length)throw new a.builtin.TypeError("ord() expected a character, but string of length "+e.v.length+" found");return new a.builtin.int_(e.v.charCodeAt(0))},a.builtin.chr=function(e){if(a.builtin.pyCheckArgs("chr",arguments,1,1),!a.builtin.checkInt(e))throw new a.builtin.TypeError("an integer is required");if(0>(e=a.builtin.asnum$(e))||255<e)throw new a.builtin.ValueError("chr() arg not in range(256)");return new a.builtin.str(String.fromCharCode(e))},a.builtin.unichr=function(e){if(a.builtin.pyCheckArgs("chr",arguments,1,1),!a.builtin.checkInt(e))throw new a.builtin.TypeError("an integer is required");e=a.builtin.asnum$(e);try{return new a.builtin.str(String.fromCodePoint(e))}catch(e){if(e instanceof RangeError)throw new a.builtin.ValueError(e.message);throw e}},a.builtin.int2str_=function(e,t,n){var i,r="";return e instanceof a.builtin.lng?(i="",2!==t&&(i="L"),r=e.str$(t,!1),e.nb$isnegative()?new a.builtin.str("-"+n+r+i):new a.builtin.str(n+r+i)):(r=(e=a.misceval.asIndex(e)).toString(t),0>e?new a.builtin.str("-"+n+r.slice(1)):new a.builtin.str(n+r))},a.builtin.hex=function(e){if(a.builtin.pyCheckArgs("hex",arguments,1,1),!a.misceval.isIndex(e))throw new a.builtin.TypeError("hex() argument can't be converted to hex");return a.builtin.int2str_(e,16,"0x")},a.builtin.oct=function(e){if(a.builtin.pyCheckArgs("oct",arguments,1,1),!a.misceval.isIndex(e))throw new a.builtin.TypeError("oct() argument can't be converted to hex");return a.builtin.int2str_(e,8,"0")},a.builtin.bin=function(e){if(a.builtin.pyCheckArgs("bin",arguments,1,1),!a.misceval.isIndex(e))throw new a.builtin.TypeError("'"+a.abstr.typeName(e)+"' object can't be interpreted as an index");return a.builtin.int2str_(e,2,"0b")},a.builtin.dir=function(e){var t,n,i,r,o,s,l;if(a.builtin.pyCheckArgs("dir",arguments,1,1),l=function(e){var t=null;return-1!=="__bases__ __mro__ __class__ __name__ GenericGetAttr GenericSetAttr GenericPythonGetAttr GenericPythonSetAttr pythonFunctions HashNotImplemented constructor __dict__".split(" ").indexOf(e)?null:(-1!==e.indexOf("$")?t=a.builtin.dir.slotNameToRichName(e):"_"!==e.charAt(e.length-1)?t=e:"_"===e.charAt(0)&&(t=e),t)},s=[],null!=(t=a.abstr.lookupSpecial(e,"__dir__"))){if(n=a.misceval.callsim(t,e),!a.builtin.checkSequence(n))throw new a.builtin.TypeError("__dir__ must return sequence.");for(n=a.ffi.remapToJs(n),r=0;r<n.length;++r)s.push(new a.builtin.str(n[r]))}else{for(r in e.constructor.prototype)(o=l(r))&&s.push(new a.builtin.str(o));if(e.$d)if(e.$d.tp$iter)for(r=(t=e.$d.tp$iter()).tp$iternext();void 0!==r;r=t.tp$iternext())(o=l((o=new a.builtin.str(r)).v))&&s.push(new a.builtin.str(o));else for(o in e.$d)s.push(new a.builtin.str(o));if(!(i=e.tp$mro)&&e.ob$type&&(i=e.ob$type.tp$mro),i)for(r=0;r<i.v.length;++r)for(n in t=i.v[r])t.hasOwnProperty(n)&&(o=l(n))&&s.push(new a.builtin.str(o))}return s.sort(function(e,t){return(e.v>t.v)-(e.v<t.v)}),new a.builtin.list(s.filter(function(e,t,n){return e!==n[t+1]}))},a.builtin.dir.slotNameToRichName=function(e){},a.builtin.repr=function(e){return a.builtin.pyCheckArgs("repr",arguments,1,1),a.misceval.objectRepr(e)},a.builtin.open=function(e,t,n){return a.builtin.pyCheckArgs("open",arguments,1,3),void 0===t&&(t=new a.builtin.str("r")),new a.builtin.file(e,t,n)},a.builtin.isinstance=function(e,t){var n,i;if(a.builtin.pyCheckArgs("isinstance",arguments,2,2),!(a.builtin.checkClass(t)||t instanceof a.builtin.tuple))throw new a.builtin.TypeError("isinstance() arg 2 must be a class, type, or tuple of classes and types");if(t===a.builtin.none.prototype.ob$type)return e instanceof a.builtin.none?a.builtin.bool.true$:a.builtin.bool.false$;if(e.ob$type===t)return a.builtin.bool.true$;if(t instanceof a.builtin.tuple){for(i=0;i<t.v.length;++i)if(a.misceval.isTrue(a.builtin.isinstance(e,t.v[i])))return a.builtin.bool.true$;return a.builtin.bool.false$}return e instanceof t?a.builtin.bool.true$:(n=function(e,t){var i,r;if(e===t)return a.builtin.bool.true$;if(void 0===e.$d)return a.builtin.bool.false$;for(r=e.$d.mp$subscript(a.builtin.type.basesStr_),i=0;i<r.v.length;++i)if(a.misceval.isTrue(n(r.v[i],t)))return a.builtin.bool.true$;return a.builtin.bool.false$})(e.ob$type,t)},a.builtin.hash=function(e){if(a.builtin.pyCheckArgs("hash",arguments,1,1),e instanceof Object){if(a.builtin.checkNone(e.tp$hash))throw new a.builtin.TypeError(new a.builtin.str("unhashable type: '"+a.abstr.typeName(e)+"'"));return void 0!==e.tp$hash?e.$savedHash_?e.$savedHash_:(e.$savedHash_=e.tp$hash(),e.$savedHash_):(void 0===e.__hash&&(a.builtin.hashCount+=1,e.__hash=a.builtin.hashCount),new a.builtin.int_(e.__hash))}if("number"==typeof e||null===e||!0===e||!1===e)throw new a.builtin.TypeError("unsupported Javascript type");return new a.builtin.str(typeof e+" "+String(e))},a.builtin.getattr=function(e,t,n){var i;if(a.builtin.pyCheckArgs("getattr",arguments,2,3),!a.builtin.checkString(t))throw new a.builtin.TypeError("attribute name must be string");if(void 0===(i=e.tp$getattr(t.v))){if(void 0!==n)return n;throw new a.builtin.AttributeError("'"+a.abstr.typeName(e)+"' object has no attribute '"+t.v+"'")}return i},a.builtin.setattr=function(e,t,n){if(a.builtin.pyCheckArgs("setattr",arguments,3,3),void 0===e||void 0===e.$r||"type"!==e.$r().v.slice(1,5)){if(!a.builtin.checkString(t))throw new a.builtin.TypeError("attribute name must be string");if(!e.tp$setattr)throw new a.builtin.AttributeError("object has no attribute "+a.ffi.remapToJs(t));return e.tp$setattr(a.ffi.remapToJs(t),n),a.builtin.none.none$}throw new a.builtin.TypeError("can't set attributes of built-in/extension type '"+e.tp$name+"'")},a.builtin.raw_input=function(e){var t=a.importModule("sys");return a.inputfunTakesPrompt?a.misceval.callsimOrSuspend(a.builtin.file.$readline,t.$d.stdin,null,e||""):a.misceval.chain(void 0,function(){return a.misceval.callsimOrSuspend(t.$d.stdout.write,t.$d.stdout,new a.builtin.str(e))},function(){return a.misceval.callsimOrSuspend(t.$d.stdin.readline,t.$d.stdin)})},a.builtin.input=a.builtin.raw_input,a.builtin.jseval=function(e){s.global.eval(e)},a.builtin.jsmillis=function(){return(new Date).valueOf()},a.builtin.superbi=function(){throw new a.builtin.NotImplementedError("super is not yet implemented, please report your use case as a github issue.")},a.builtin.eval_=function(){throw new a.builtin.NotImplementedError("eval is not yet implemented")},a.builtin.map=function(e,t){var n,i,r,o,s,l;if(a.builtin.pyCheckArgs("map",arguments,2),2<arguments.length){for(o in l=[],s=Array.prototype.slice.apply(arguments).slice(1)){if(!a.builtin.checkIterable(s[o]))throw n=parseInt(o,10)+2,new a.builtin.TypeError("argument "+n+" to map() must support iteration");s[o]=a.abstr.iter(s[o])}for(;;){for(o in r=[],i=0,s)void 0===(n=s[o].tp$iternext())?(r.push(a.builtin.none.none$),i++):r.push(n);if(i===s.length)break;l.push(r)}t=new a.builtin.list(l)}if(!a.builtin.checkIterable(t))throw new a.builtin.TypeError("'"+a.abstr.typeName(t)+"' object is not iterable");for(r=[],i=(n=a.abstr.iter(t)).tp$iternext();void 0!==i;i=n.tp$iternext())e===a.builtin.none.none$?(i instanceof Array&&(i=new a.builtin.tuple(i)),r.push(i)):(i instanceof Array||(i=[i]),r.push(a.misceval.apply(e,void 0,void 0,void 0,i)));return new a.builtin.list(r)},a.builtin.reduce=function(e,t,n){var i,r,o;if(a.builtin.pyCheckArgs("reduce",arguments,2,3),!a.builtin.checkIterable(t))throw new a.builtin.TypeError("'"+a.abstr.typeName(t)+"' object is not iterable");if(o=a.abstr.iter(t),void 0===n&&void 0===(n=o.tp$iternext()))throw new a.builtin.TypeError("reduce() of empty sequence with no initial value");for(r=n,i=o.tp$iternext();void 0!==i;i=o.tp$iternext())r=a.misceval.callsim(e,r,i);return r},a.builtin.filter=function(e,t){var n,i,r,o,s,l;if(a.builtin.pyCheckArgs("filter",arguments,2,2),!a.builtin.checkIterable(t))throw new a.builtin.TypeError("'"+a.abstr.typeName(t)+"' object is not iterable");for(n=function(){return[]},l=function(e,t){return e.push(t),e},s=function(e){return new a.builtin.list(e)},t.__class__===a.builtin.str?(n=function(){return new a.builtin.str("")},l=function(e,t){return e.sq$concat(t)},s=function(e){return e}):t.__class__===a.builtin.tuple&&(s=function(e){return new a.builtin.tuple(e)}),o=n(),r=(i=a.abstr.iter(t)).tp$iternext();void 0!==r;r=i.tp$iternext())n=e===a.builtin.none.none$?new a.builtin.bool(r):a.misceval.callsim(e,r),a.misceval.isTrue(n)&&(o=l(o,r));return s(o)},a.builtin.hasattr=function(e,t){var n;if(a.builtin.pyCheckArgs("hasattr",arguments,2,2),!a.builtin.checkString(t))throw new a.builtin.TypeError("hasattr(): attribute name must be string");if(e.tp$getattr)return e.tp$getattr(t.v)?a.builtin.bool.true$:(n=a.abstr.lookupSpecial(e,"__getattr__"))?a.misceval.tryCatch(function(){return a.misceval.callsim(n,e,t)?a.builtin.bool.true$:a.builtin.bool.false$},function(e){if(e instanceof a.builtin.AttributeError)return a.builtin.bool.false$;throw e}):a.builtin.bool.false$;throw new a.builtin.AttributeError("Object has no tp$getattr method")},a.builtin.pow=function(e,t,n){var i,r;if(a.builtin.pyCheckArgs("pow",arguments,2,3),n instanceof a.builtin.none&&(n=void 0),a.builtin.checkComplex(e))return e.nb$power(t,n);if(i=a.builtin.asnum$(e),r=a.builtin.asnum$(t),a.builtin.asnum$(n),!a.builtin.checkNumber(e)||!a.builtin.checkNumber(t)){if(void 0===n)throw new a.builtin.TypeError("unsupported operand type(s) for pow(): '"+a.abstr.typeName(e)+"' and '"+a.abstr.typeName(t)+"'");throw new a.builtin.TypeError("unsupported operand type(s) for pow(): '"+a.abstr.typeName(e)+"', '"+a.abstr.typeName(t)+"', '"+a.abstr.typeName(n)+"'")}if(0>i&&t instanceof a.builtin.float_)throw new a.builtin.ValueError("negative number cannot be raised to a fractional power");if(void 0===n)return e instanceof a.builtin.float_||t instanceof a.builtin.float_||0>r?new a.builtin.float_(Math.pow(i,r)):(i=new a.builtin.int_(i),r=new a.builtin.int_(r),i=i.nb$power(r),e instanceof a.builtin.lng||t instanceof a.builtin.lng?new a.builtin.lng(i):i);if(!a.builtin.checkInt(e)||!a.builtin.checkInt(t)||!a.builtin.checkInt(n))throw new a.builtin.TypeError("pow() 3rd argument not allowed unless all arguments are integers");if(0>r)throw new a.builtin.TypeError("pow() 2nd argument cannot be negative when 3rd argument specified");return e instanceof a.builtin.lng||t instanceof a.builtin.lng||n instanceof a.builtin.lng||1/0===Math.pow(i,r)?(e=new a.builtin.lng(e)).nb$power(t,n):new a.builtin.int_(Math.pow(i,r)).nb$remainder(n)},a.builtin.quit=function(e){throw e=new a.builtin.str(e).v,new a.builtin.SystemExit(e)},a.builtin.issubclass=function(e,t){var n,i;if(a.builtin.pyCheckArgs("issubclass",arguments,2,2),!(a.builtin.checkClass(t)||t instanceof a.builtin.tuple))throw new a.builtin.TypeError("issubclass() arg 2 must be a classinfo, type, or tuple of classes and types");if(i=function(e,t){var n,r;if(e===t)return!0;if(void 0===e.$d||!e.$d.mp$subscript)return!1;for(r=e.$d.mp$subscript(a.builtin.type.basesStr_),n=0;n<r.v.length;++n)if(i(r.v[n],t))return!0;return!1},a.builtin.checkClass(t))return e===t||i(e,t);if(t instanceof a.builtin.tuple){for(n=0;n<t.v.length;++n)if(a.builtin.issubclass(e,t.v[n]))return!0;return!1}},a.builtin.globals=function(){var e,t=new a.builtin.dict([]);for(e in a.globals)t.mp$ass_subscript(new a.builtin.str(e),a.globals[e]);return t},a.builtin.divmod=function(e,t){return a.abstr.numberBinOp(e,t,"DivMod")},a.builtin.format=function(e,t){return a.builtin.pyCheckArgs("format",arguments,1,2),a.abstr.objectFormat(e,t)},a.builtin.reversed=function(e){a.builtin.pyCheckArgs("reversed",arguments,1,1);var t=a.abstr.lookupSpecial(e,"__reversed__");if(null!=t)return a.misceval.callsim(t,e);if(!a.builtin.checkSequence(e))throw new a.builtin.TypeError("'"+a.abstr.typeName(e)+"' object is not a sequence");return new function(e){this.idx=e.sq$length()-1,this.myobj=e,this.getitem=a.abstr.lookupSpecial(e,"__getitem__"),this.tp$iter=function(){return this},this.tp$iternext=function(){var e;if(!(0>this.idx)){try{e=a.misceval.callsim(this.getitem,this.myobj,a.ffi.remapToPy(this.idx))}catch(e){if(e instanceof a.builtin.IndexError)return;throw e}return this.idx--,e}}}(e)},a.builtin.id=function(e){return a.builtin.pyCheckArgs("id",arguments,1,1),void 0===e.__id&&(a.builtin.idCount+=1,e.__id=a.builtin.idCount),new a.builtin.int_(e.__id)},a.builtin.bytearray=function(){throw new a.builtin.NotImplementedError("bytearray is not yet implemented")},a.builtin.callable=function(e){return a.builtin.pyCheckArgs("callable",arguments,1,1),a.builtin.checkCallable(e)?a.builtin.bool.true$:a.builtin.bool.false$},a.builtin.delattr=function(e,t){if(a.builtin.pyCheckArgs("delattr",arguments,2,2),void 0!==e.$d[t.v])return a.misceval.tryCatch(function(){return a.builtin.setattr(e,t,void 0)},function(n){a.misceval.tryCatch(function(){return a.builtin.setattr(e.$d,t,void 0)},function(n){if(n instanceof a.builtin.AttributeError)throw new a.builtin.AttributeError(a.abstr.typeName(e)+" instance has no attribute '"+t.v+"'");throw n})});if("type"!==e.$r().v.slice(1,5)){if(e.ob$type===a.builtin.type&&void 0!==e[t.v])return e[t.v]=void 0,a.builtin.none.none$;throw new a.builtin.AttributeError(a.abstr.typeName(e)+" instance has no attribute '"+t.v+"'")}throw new a.builtin.TypeError("can't set attributes of built-in/extension type '"+e.tp$name+"'")},a.builtin.execfile=function(){throw new a.builtin.NotImplementedError("execfile is not yet implemented")},a.builtin.frozenset=function(){throw new a.builtin.NotImplementedError("frozenset is not yet implemented")},a.builtin.help=function(){throw new a.builtin.NotImplementedError("help is not yet implemented")},a.builtin.iter=function(e,t){if(a.builtin.pyCheckArgs("iter",arguments,1,2),1===arguments.length){if(a.builtin.checkIterable(e))return new a.builtin.iterator(e);throw new a.builtin.TypeError("'"+a.abstr.typeName(e)+"' object is not iterable")}if(a.builtin.checkCallable(e))return new a.builtin.iterator(e,t);throw new TypeError("iter(v, w): v must be callable")},a.builtin.locals=function(){throw new a.builtin.NotImplementedError("locals is not yet implemented")},a.builtin.memoryview=function(){throw new a.builtin.NotImplementedError("memoryview is not yet implemented")},a.builtin.next_=function(e,t){var n;if(a.builtin.pyCheckArgs("next",arguments,1,2),!e.tp$iternext)throw new a.builtin.TypeError("'"+a.abstr.typeName(e)+"' object is not an iterator");if(void 0===(n=e.tp$iternext())){if(t)return t;throw new a.builtin.StopIteration}return n},a.builtin.reload=function(){throw new a.builtin.NotImplementedError("reload is not yet implemented")},a.builtin.vars=function(){throw new a.builtin.NotImplementedError("vars is not yet implemented")},a.builtin.xrange=a.builtin.range,a.builtin.apply_=function(){throw new a.builtin.NotImplementedError("apply is not yet implemented")},a.builtin.buffer=function(){throw new a.builtin.NotImplementedError("buffer is not yet implemented")},a.builtin.coerce=function(){throw new a.builtin.NotImplementedError("coerce is not yet implemented")},a.builtin.intern=function(){throw new a.builtin.NotImplementedError("intern is not yet implemented")},String.fromCodePoint||function(){var e=function(){var e;try{var t={},n=Object.defineProperty;e=n(t,"foo",t)&&n}catch(e){}return e}(),t=String.fromCharCode,n=Math.floor,i=function(e){var i,r,o=[],s=-1,a=arguments.length;if(!a)return"";for(var l="";++s<a;){if(r=Number(arguments[s]),!isFinite(r)||0>r||1114111<r||n(r)!=r)throw RangeError("Invalid code point: "+r);65535>=r?o.push(r):(i=55296+((r-=65536)>>10),r=r%1024+56320,o.push(i,r)),(s+1==a||16384<o.length)&&(l+=t.apply(null,o),o.length=0)}return l};e?e(String,"fromCodePoint",{value:i,configurable:!0,writable:!0}):String.fromCodePoint=i}(),a.builtin.BaseException=function(e){var t;if(!(this instanceof a.builtin.BaseException))return(t=Object.create(a.builtin.BaseException.prototype)).constructor.apply(t,arguments),t;for(e=Array.prototype.slice.call(arguments),t=0;t<e.length;++t)"string"==typeof e[t]&&(e[t]=new a.builtin.str(e[t]));this.args=new a.builtin.tuple(e),this.traceback=[],3<=this.args.sq$length()&&this.traceback.push({lineno:this.args.v[2],filename:this.args.v[1].v||"<unknown>"})},a.abstr.setUpInheritance("BaseException",a.builtin.BaseException,a.builtin.object),a.builtin.BaseException.prototype.tp$str=function(){var e,t;if(t=""+this.tp$name,this.args&&(t+=": "+(0<this.args.v.length?this.args.v[0].v:"")),t=0!==this.traceback.length?t+" on line "+this.traceback[0].lineno:t+" at <unknown>",4<this.args.v.length){for(t+="\n"+this.args.v[4].v+"\n",e=0;e<this.args.v[3];++e)t+=" ";t+="^\n"}return new a.builtin.str(t)},a.builtin.BaseException.prototype.toString=function(){return this.tp$str().v},s.exportSymbol("Sk.builtin.BaseException",a.builtin.BaseException),a.builtin.Exception=function(e){var t;if(!(this instanceof a.builtin.Exception))return(t=Object.create(a.builtin.Exception.prototype)).constructor.apply(t,arguments),t;a.builtin.BaseException.apply(this,arguments)},a.abstr.setUpInheritance("Exception",a.builtin.Exception,a.builtin.BaseException),s.exportSymbol("Sk.builtin.Exception",a.builtin.Exception),a.builtin.StandardError=function(e){var t;if(!(this instanceof a.builtin.StandardError))return(t=Object.create(a.builtin.StandardError.prototype)).constructor.apply(t,arguments),t;a.builtin.Exception.apply(this,arguments)},a.abstr.setUpInheritance("StandardError",a.builtin.StandardError,a.builtin.Exception),s.exportSymbol("Sk.builtin.StandardError",a.builtin.StandardError),a.builtin.AssertionError=function(e){var t;if(!(this instanceof a.builtin.AssertionError))return(t=Object.create(a.builtin.AssertionError.prototype)).constructor.apply(t,arguments),t;a.builtin.StandardError.apply(this,arguments)},a.abstr.setUpInheritance("AssertionError",a.builtin.AssertionError,a.builtin.StandardError),s.exportSymbol("Sk.builtin.AssertionError",a.builtin.AssertionError),a.builtin.AttributeError=function(e){var t;if(!(this instanceof a.builtin.AttributeError))return(t=Object.create(a.builtin.AttributeError.prototype)).constructor.apply(t,arguments),t;a.builtin.StandardError.apply(this,arguments)},a.abstr.setUpInheritance("AttributeError",a.builtin.AttributeError,a.builtin.StandardError),a.builtin.ImportError=function(e){var t;if(!(this instanceof a.builtin.ImportError))return(t=Object.create(a.builtin.ImportError.prototype)).constructor.apply(t,arguments),t;a.builtin.StandardError.apply(this,arguments)},a.abstr.setUpInheritance("ImportError",a.builtin.ImportError,a.builtin.StandardError),a.builtin.IndentationError=function(e){var t;if(!(this instanceof a.builtin.IndentationError))return(t=Object.create(a.builtin.IndentationError.prototype)).constructor.apply(t,arguments),t;a.builtin.StandardError.apply(this,arguments)},a.abstr.setUpInheritance("IndentationError",a.builtin.IndentationError,a.builtin.StandardError),a.builtin.IndexError=function(e){var t;if(!(this instanceof a.builtin.IndexError))return(t=Object.create(a.builtin.IndexError.prototype)).constructor.apply(t,arguments),t;a.builtin.StandardError.apply(this,arguments)},a.abstr.setUpInheritance("IndexError",a.builtin.IndexError,a.builtin.StandardError),a.builtin.KeyError=function(e){var t;if(!(this instanceof a.builtin.KeyError))return(t=Object.create(a.builtin.KeyError.prototype)).constructor.apply(t,arguments),t;a.builtin.StandardError.apply(this,arguments)},a.abstr.setUpInheritance("KeyError",a.builtin.KeyError,a.builtin.StandardError),a.builtin.NameError=function(e){var t;if(!(this instanceof a.builtin.NameError))return(t=Object.create(a.builtin.NameError.prototype)).constructor.apply(t,arguments),t;a.builtin.StandardError.apply(this,arguments)},a.abstr.setUpInheritance("NameError",a.builtin.NameError,a.builtin.StandardError),a.builtin.UnboundLocalError=function(e){var t;if(!(this instanceof a.builtin.UnboundLocalError))return(t=Object.create(a.builtin.UnboundLocalError.prototype)).constructor.apply(t,arguments),t;a.builtin.StandardError.apply(this,arguments)},a.abstr.setUpInheritance("UnboundLocalError",a.builtin.UnboundLocalError,a.builtin.StandardError),a.builtin.OverflowError=function(e){var t;if(!(this instanceof a.builtin.OverflowError))return(t=Object.create(a.builtin.OverflowError.prototype)).constructor.apply(t,arguments),t;a.builtin.StandardError.apply(this,arguments)},a.abstr.setUpInheritance("OverflowError",a.builtin.OverflowError,a.builtin.StandardError),a.builtin.SyntaxError=function(e){var t;if(!(this instanceof a.builtin.SyntaxError))return(t=Object.create(a.builtin.SyntaxError.prototype)).constructor.apply(t,arguments),t;a.builtin.StandardError.apply(this,arguments)},a.abstr.setUpInheritance("SyntaxError",a.builtin.SyntaxError,a.builtin.StandardError),a.builtin.RuntimeError=function(e){var t;if(!(this instanceof a.builtin.RuntimeError))return(t=Object.create(a.builtin.RuntimeError.prototype)).constructor.apply(t,arguments),t;a.builtin.StandardError.apply(this,arguments)},a.abstr.setUpInheritance("RuntimeError",a.builtin.RuntimeError,a.builtin.StandardError),s.exportSymbol("Sk.builtin.RuntimeError",a.builtin.RuntimeError),a.builtin.SuspensionError=function(e){var t;if(!(this instanceof a.builtin.SuspensionError))return(t=Object.create(a.builtin.SuspensionError.prototype)).constructor.apply(t,arguments),t;a.builtin.StandardError.apply(this,arguments)},a.abstr.setUpInheritance("SuspensionError",a.builtin.SuspensionError,a.builtin.StandardError),s.exportSymbol("Sk.builtin.SuspensionError",a.builtin.SuspensionError),a.builtin.SystemExit=function(e){var t;if(!(this instanceof a.builtin.SystemExit))return(t=Object.create(a.builtin.SystemExit.prototype)).constructor.apply(t,arguments),t;a.builtin.BaseException.apply(this,arguments)},a.abstr.setUpInheritance("SystemExit",a.builtin.SystemExit,a.builtin.BaseException),s.exportSymbol("Sk.builtin.SystemExit",a.builtin.SystemExit),a.builtin.TypeError=function(e){var t;if(!(this instanceof a.builtin.TypeError))return(t=Object.create(a.builtin.TypeError.prototype)).constructor.apply(t,arguments),t;a.builtin.StandardError.apply(this,arguments)},a.abstr.setUpInheritance("TypeError",a.builtin.TypeError,a.builtin.StandardError),s.exportSymbol("Sk.builtin.TypeError",a.builtin.TypeError),a.builtin.ValueError=function(e){var t;if(!(this instanceof a.builtin.ValueError))return(t=Object.create(a.builtin.ValueError.prototype)).constructor.apply(t,arguments),t;a.builtin.StandardError.apply(this,arguments)},a.abstr.setUpInheritance("ValueError",a.builtin.ValueError,a.builtin.StandardError),s.exportSymbol("Sk.builtin.ValueError",a.builtin.ValueError),a.builtin.ZeroDivisionError=function(e){var t;if(!(this instanceof a.builtin.ZeroDivisionError))return(t=Object.create(a.builtin.ZeroDivisionError.prototype)).constructor.apply(t,arguments),t;a.builtin.StandardError.apply(this,arguments)},a.abstr.setUpInheritance("ZeroDivisionError",a.builtin.ZeroDivisionError,a.builtin.StandardError),a.builtin.TimeLimitError=function(e){var t;if(!(this instanceof a.builtin.TimeLimitError))return(t=Object.create(a.builtin.TimeLimitError.prototype)).constructor.apply(t,arguments),t;a.builtin.StandardError.apply(this,arguments)},a.abstr.setUpInheritance("TimeLimitError",a.builtin.TimeLimitError,a.builtin.StandardError),s.exportSymbol("Sk.builtin.TimeLimitError",a.builtin.TimeLimitError),a.builtin.IOError=function(e){var t;if(!(this instanceof a.builtin.IOError))return(t=Object.create(a.builtin.IOError.prototype)).constructor.apply(t,arguments),t;a.builtin.StandardError.apply(this,arguments)},a.abstr.setUpInheritance("IOError",a.builtin.IOError,a.builtin.StandardError),s.exportSymbol("Sk.builtin.IOError",a.builtin.IOError),a.builtin.NotImplementedError=function(e){var t;if(!(this instanceof a.builtin.NotImplementedError))return(t=Object.create(a.builtin.NotImplementedError.prototype)).constructor.apply(t,arguments),t;a.builtin.StandardError.apply(this,arguments)},a.abstr.setUpInheritance("NotImplementedError",a.builtin.NotImplementedError,a.builtin.StandardError),s.exportSymbol("Sk.builtin.NotImplementedError",a.builtin.NotImplementedError),a.builtin.NegativePowerError=function(e){var t;if(!(this instanceof a.builtin.NegativePowerError))return(t=Object.create(a.builtin.NegativePowerError.prototype)).constructor.apply(t,arguments),t;a.builtin.StandardError.apply(this,arguments)},a.abstr.setUpInheritance("NegativePowerError",a.builtin.NegativePowerError,a.builtin.StandardError),s.exportSymbol("Sk.builtin.NegativePowerError",a.builtin.NegativePowerError),a.builtin.ExternalError=function(e,t){var n;if(!(this instanceof a.builtin.ExternalError))return(n=Object.create(a.builtin.ExternalError.prototype)).constructor.apply(n,arguments),n;t=Array.prototype.slice.call(arguments),this.nativeError=t[0],t[0]instanceof a.builtin.str||(t[0]=""+t[0]),a.builtin.StandardError.apply(this,t)},a.abstr.setUpInheritance("ExternalError",a.builtin.ExternalError,a.builtin.StandardError),s.exportSymbol("Sk.builtin.ExternalError",a.builtin.ExternalError),a.builtin.OperationError=function(e){var t;if(!(this instanceof a.builtin.OperationError))return(t=Object.create(a.builtin.OperationError.prototype)).constructor.apply(t,arguments),t;a.builtin.StandardError.apply(this,arguments)},a.abstr.setUpInheritance("OperationError",a.builtin.OperationError,a.builtin.StandardError),s.exportSymbol("Sk.builtin.OperationError",a.builtin.OperationError),a.builtin.SystemError=function(e){var t;if(!(this instanceof a.builtin.SystemError))return(t=Object.create(a.builtin.SystemError.prototype)).constructor.apply(t,arguments),t;a.builtin.StandardError.apply(this,arguments)},a.abstr.setUpInheritance("SystemError",a.builtin.SystemError,a.builtin.StandardError),s.exportSymbol("Sk.builtin.SystemError",a.builtin.SystemError),a.builtin.StopIteration=function(e){var t;if(!(this instanceof a.builtin.StopIteration))return(t=Object.create(a.builtin.StopIteration.prototype)).constructor.apply(t,arguments),t;a.builtin.Exception.apply(this,arguments)},a.abstr.setUpInheritance("StopIteration",a.builtin.StopIteration,a.builtin.Exception),s.exportSymbol("Sk.builtin.StopIteration",a.builtin.StopIteration),s.exportSymbol("Sk",a),a.nativejs={FN_ARGS:/^function\s*[^\(]*\(\s*([^\)]*)\)/m,FN_ARG_SPLIT:/,/,FN_ARG:/^\s*(_?)(\S+?)\1\s*$/,STRIP_COMMENTS:/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,formalParameterList:function(e){var t,n=[];for(t in e=e.toString().replace(this.STRIP_COMMENTS,"").match(this.FN_ARGS)[1].split(this.FN_ARG_SPLIT))e[t].replace(this.FN_ARG,function(e,t,i){n.push(i)});return n},func:function(e){return e.co_name=new a.builtin.str(e.name),e.co_varnames=a.nativejs.formalParameterList(e),new a.builtin.func(e)},func_nokw:function(e){return e.co_name=new a.builtin.str(e.name),e.co_varnames=a.nativejs.formalParameterList(e),e.no_kw=!0,new a.builtin.func(e)}},s.exportSymbol("Sk.nativejs.func",a.nativejs.func),s.exportSymbol("Sk.nativejs.func_nokw",a.nativejs.func_nokw),a.builtin.method=function(e,t,n){if(!(this instanceof a.builtin.method)){if(a.builtin.pyCheckArgs("method",arguments,3,3),!a.builtin.checkCallable(e))throw new a.builtin.TypeError("First argument must be callable");if(void 0===t.ob$type)throw new a.builtin.TypeError("Second argument must be object of known type");return new a.builtin.method(e,t,n)}this.im_func=e,this.im_self=t,this.im_class=n,this.$d={im_func:e,im_self:t,im_class:n}},s.exportSymbol("Sk.builtin.method",a.builtin.method),a.abstr.setUpInheritance("instancemethod",a.builtin.method,a.builtin.object),a.builtin.method.prototype.tp$call=function(e,t){return s.asserts.assert(this.im_self,"should just be a function, not a method since there's no self?"),s.asserts.assert(this.im_func instanceof a.builtin.func),e.unshift(this.im_self),this.im_func.tp$call(e,t)},a.builtin.method.prototype.$r=function(){return new a.builtin.str("<bound method "+this.im_self.ob$type.tp$name+"."+(this.im_func.func_code&&this.im_func.func_code.co_name&&this.im_func.func_code.co_name.v||"<native JS>")+" of "+this.im_self.$r().v+">")},a.misceval={},a.misceval.Suspension=function(e,t,n){this.$isSuspension=!0,void 0!==e&&void 0!==t&&(this.resume=function(){return e(t.resume())}),this.child=t,this.optional=void 0!==t&&t.optional,this.data=void 0===n&&void 0!==t?t.data:n},s.exportSymbol("Sk.misceval.Suspension",a.misceval.Suspension),a.misceval.retryOptionalSuspensionOrThrow=function(e,t){for(;e instanceof a.misceval.Suspension;){if(!e.optional)throw new a.builtin.SuspensionError(t||"Cannot call a function that blocks or suspends here");e=e.resume()}return e},s.exportSymbol("Sk.misceval.retryOptionalSuspensionOrThrow",a.misceval.retryOptionalSuspensionOrThrow),a.misceval.isIndex=function(e){return!(!a.builtin.checkInt(e)&&!a.abstr.lookupSpecial(e,"__index__"))},s.exportSymbol("Sk.misceval.isIndex",a.misceval.isIndex),a.misceval.asIndex=function(e){var t;if(a.misceval.isIndex(e)&&null!==e){if(!0===e)return 1;if(!1===e)return 0;if("number"==typeof e)return e;if(e.constructor===a.builtin.int_)return e.v;if(e.constructor===a.builtin.lng)return e.tp$index();if(e.constructor===a.builtin.bool)return a.builtin.asnum$(e);if(t=a.abstr.lookupSpecial(e,"__index__")){if(e=a.misceval.callsim(t,e),!a.builtin.checkInt(e))throw new a.builtin.TypeError("__index__ returned non-(int,long) (type "+a.abstr.typeName(e)+")");return a.builtin.asnum$(e)}s.asserts.fail("todo asIndex;")}},a.misceval.applySlice=function(e,t,n,i){return e.sq$slice&&a.misceval.isIndex(t)&&a.misceval.isIndex(n)?(void 0===(t=a.misceval.asIndex(t))&&(t=0),void 0===(n=a.misceval.asIndex(n))&&(n=1e100),a.abstr.sequenceGetSlice(e,t,n)):a.abstr.objectGetItem(e,new a.builtin.slice(t,n,null),i)},s.exportSymbol("Sk.misceval.applySlice",a.misceval.applySlice),a.misceval.assignSlice=function(e,t,n,i,r){if(!(e.sq$ass_slice&&a.misceval.isIndex(t)&&a.misceval.isIndex(n)))return n=new a.builtin.slice(t,n),null===i?a.abstr.objectDelItem(e,n):a.abstr.objectSetItem(e,n,i,r);r=a.misceval.asIndex(t)||0,n=a.misceval.asIndex(n)||1e100,null===i?a.abstr.sequenceDelSlice(e,r,n):a.abstr.sequenceSetSlice(e,r,n,i)},s.exportSymbol("Sk.misceval.assignSlice",a.misceval.assignSlice),a.misceval.arrayFromArguments=function(e){var t,n;if(1!=e.length)return e;if((t=e[0])instanceof a.builtin.set?t=t.tp$iter().$obj:t instanceof a.builtin.dict&&(t=a.builtin.dict.prototype.keys.func_code(t)),t instanceof a.builtin.list||t instanceof a.builtin.tuple)return t.v;if(a.builtin.checkIterable(t)){for(e=[],n=(t=a.abstr.iter(t)).tp$iternext();void 0!==n;n=t.tp$iternext())e.push(n);return e}throw new a.builtin.TypeError("'"+a.abstr.typeName(t)+"' object is not iterable")},s.exportSymbol("Sk.misceval.arrayFromArguments",a.misceval.arrayFromArguments),a.misceval.swappedOp_={Eq:"Eq",NotEq:"NotEq",Lt:"GtE",LtE:"Gt",Gt:"LtE",GtE:"Lt",Is:"IsNot",IsNot:"Is",In_:"NotIn",NotIn:"In_"},a.misceval.richCompareBool=function(e,t,n,i){var r,o,l,u,c,p,f;if(s.asserts.assert(null!=e,"passed null or undefined parameter to Sk.misceval.richCompareBool"),s.asserts.assert(null!=t,"passed null or undefined parameter to Sk.misceval.richCompareBool"),(f=new a.builtin.type(e))!==(u=new a.builtin.type(t))&&("GtE"===n||"Gt"===n||"LtE"===n||"Lt"===n)){if(p=[a.builtin.float_.prototype.ob$type,a.builtin.int_.prototype.ob$type,a.builtin.lng.prototype.ob$type,a.builtin.bool.prototype.ob$type],c=[a.builtin.dict.prototype.ob$type,a.builtin.enumerate.prototype.ob$type,a.builtin.list.prototype.ob$type,a.builtin.str.prototype.ob$type,a.builtin.tuple.prototype.ob$type],o=p.indexOf(f),l=c.indexOf(f),p=p.indexOf(u),c=c.indexOf(u),f===a.builtin.none.prototype.ob$type)switch(n){case"Lt":case"LtE":return!0;case"Gt":case"GtE":return!1}if(u===a.builtin.none.prototype.ob$type)switch(n){case"Lt":case"LtE":return!1;case"Gt":case"GtE":return!0}if(-1!==o&&-1!==c)switch(n){case"Lt":case"LtE":return!0;case"Gt":case"GtE":return!1}if(-1!==l&&-1!==p)switch(n){case"Lt":case"LtE":return!1;case"Gt":case"GtE":return!0}if(-1!==l&&-1!==c)switch(n){case"Lt":return l<c;case"LtE":return l<=c;case"Gt":return l>c;case"GtE":return l>=c}}if("Is"===n)return e instanceof a.builtin.int_&&t instanceof a.builtin.int_?0===e.numberCompare(t):e instanceof a.builtin.float_&&t instanceof a.builtin.float_?0===e.numberCompare(t):e instanceof a.builtin.lng&&t instanceof a.builtin.lng?0===e.longCompare(t):e===t;if("IsNot"===n)return e instanceof a.builtin.int_&&t instanceof a.builtin.int_?0!==e.numberCompare(t):e instanceof a.builtin.float_&&t instanceof a.builtin.float_?0!==e.numberCompare(t):e instanceof a.builtin.lng&&t instanceof a.builtin.lng?0!==e.longCompare(t):e!==t;if("In"===n)return a.misceval.chain(a.abstr.sequenceContains(t,e,i),a.misceval.isTrue);if("NotIn"===n)return a.misceval.chain(a.abstr.sequenceContains(t,e,i),function(e){return!a.misceval.isTrue(e)});if(l=(o={Eq:"ob$eq",NotEq:"ob$ne",Gt:"ob$gt",GtE:"ob$ge",Lt:"ob$lt",LtE:"ob$le"})[n],(i=e.constructor.prototype.hasOwnProperty(l))&&(r=e[l](t))!==a.builtin.NotImplemented.NotImplemented$)return a.misceval.isTrue(r);if(o=o[a.misceval.swappedOp_[n]],(l=t.constructor.prototype.hasOwnProperty(o))&&(r=t[o](e))!==a.builtin.NotImplemented.NotImplemented$)return a.misceval.isTrue(r);if(e.tp$richcompare&&void 0!==(r=e.tp$richcompare(t,n))&&r!=a.builtin.NotImplemented.NotImplemented$||t.tp$richcompare&&void 0!==(r=t.tp$richcompare(e,a.misceval.swappedOp_[n]))&&r!=a.builtin.NotImplemented.NotImplemented$)return a.misceval.isTrue(r);if(u={Eq:"__eq__",NotEq:"__ne__",Gt:"__gt__",GtE:"__ge__",Lt:"__lt__",LtE:"__le__"},(o=a.abstr.lookupSpecial(e,u[n]))&&!i&&(r=a.misceval.callsim(o,e,t))!=a.builtin.NotImplemented.NotImplemented$||(i=a.abstr.lookupSpecial(t,u[a.misceval.swappedOp_[n]]))&&!l&&(r=a.misceval.callsim(i,t,e))!=a.builtin.NotImplemented.NotImplemented$)return a.misceval.isTrue(r);if(i=a.abstr.lookupSpecial(e,"__cmp__"))try{if(r=a.misceval.callsim(i,e,t),a.builtin.checkNumber(r)){if(r=a.builtin.asnum$(r),"Eq"===n)return 0===r;if("NotEq"===n)return 0!==r;if("Lt"===n)return 0>r;if("Gt"===n)return 0<r;if("LtE"===n)return 0>=r;if("GtE"===n)return 0<=r}if(r!==a.builtin.NotImplemented.NotImplemented$)throw new a.builtin.TypeError("comparison did not return an int")}catch(e){throw new a.builtin.TypeError("comparison did not return an int")}if(i=a.abstr.lookupSpecial(t,"__cmp__"))try{if(r=a.misceval.callsim(i,t,e),a.builtin.checkNumber(r)){if(r=a.builtin.asnum$(r),"Eq"===n)return 0===r;if("NotEq"===n)return 0!==r;if("Lt"===n)return 0<r;if("Gt"===n)return 0>r;if("LtE"===n)return 0<=r;if("GtE"===n)return 0>=r}if(r!==a.builtin.NotImplemented.NotImplemented$)throw new a.builtin.TypeError("comparison did not return an int")}catch(e){throw new a.builtin.TypeError("comparison did not return an int")}if(e instanceof a.builtin.none&&t instanceof a.builtin.none||e instanceof a.builtin.bool&&t instanceof a.builtin.bool){if("Eq"===n)return e.v===t.v;if("NotEq"===n)return e.v!==t.v;if("Gt"===n)return e.v>t.v;if("GtE"===n)return e.v>=t.v;if("Lt"===n)return e.v<t.v;if("LtE"===n)return e.v<=t.v}if("Eq"===n)return e instanceof a.builtin.str&&t instanceof a.builtin.str?e.v===t.v:e===t;if("NotEq"===n)return e instanceof a.builtin.str&&t instanceof a.builtin.str?e.v!==t.v:e!==t;throw e=a.abstr.typeName(e),t=a.abstr.typeName(t),new a.builtin.ValueError("don't know how to compare '"+e+"' and '"+t+"'")},s.exportSymbol("Sk.misceval.richCompareBool",a.misceval.richCompareBool),a.misceval.objectRepr=function(e){return s.asserts.assert(void 0!==e,"trying to repr undefined"),null===e||e instanceof a.builtin.none?new a.builtin.str("None"):!0===e?new a.builtin.str("True"):!1===e?new a.builtin.str("False"):"number"==typeof e?new a.builtin.str(""+e):e.$r?e.constructor===a.builtin.float_?1/0===e.v?new a.builtin.str("inf"):-1/0===e.v?new a.builtin.str("-inf"):e.$r():e.$r():e.tp$name?new a.builtin.str("<"+e.tp$name+" object>"):new a.builtin.str("<unknown>")},s.exportSymbol("Sk.misceval.objectRepr",a.misceval.objectRepr),a.misceval.opAllowsEquality=function(e){switch(e){case"LtE":case"Eq":case"GtE":return!0}return!1},s.exportSymbol("Sk.misceval.opAllowsEquality",a.misceval.opAllowsEquality),a.misceval.isTrue=function(e){if(!0===e)return!0;if(!1===e||null===e||e.constructor===a.builtin.none||e.constructor===a.builtin.NotImplemented)return!1;if(e.constructor===a.builtin.bool)return e.v;if("number"==typeof e)return 0!==e;if(e instanceof a.builtin.lng)return e.nb$nonzero();if(e.constructor===a.builtin.int_||e.constructor===a.builtin.float_)return 0!==e.v;if(e.__nonzero__){if(e=a.misceval.callsim(e.__nonzero__,e),!a.builtin.checkInt(e))throw new a.builtin.TypeError("__nonzero__ should return an int");return 0!==a.builtin.asnum$(e)}if(e.__len__){if(e=a.misceval.callsim(e.__len__,e),!a.builtin.checkInt(e))throw new a.builtin.TypeError("__len__ should return an int");return 0!==a.builtin.asnum$(e)}return e.mp$length?0!==a.builtin.asnum$(e.mp$length()):!e.sq$length||0!==a.builtin.asnum$(e.sq$length())},s.exportSymbol("Sk.misceval.isTrue",a.misceval.isTrue),a.misceval.softspace_=!1,a.misceval.print_=function(e){var t;a.misceval.softspace_&&("\n"!==e&&a.output(" "),a.misceval.softspace_=!1),e=new a.builtin.str(e),t=a.importModule("sys"),a.misceval.apply(t.$d.stdout.write,void 0,void 0,void 0,[t.$d.stdout,e]),t=function(e){return"\n"===e||"\t"===e||"\r"===e},0!==e.v.length&&t(e.v[e.v.length-1])&&" "!==e.v[e.v.length-1]||(a.misceval.softspace_=!0)},s.exportSymbol("Sk.misceval.print_",a.misceval.print_),a.misceval.loadname=function(e,t){var n;if(void 0!==(n=t[e]))return n;if(void 0!==(n=a.builtins[e]))return n;throw e=(e=e.replace("_$rw$","")).replace("_$rn$",""),new a.builtin.NameError("name '"+e+"' is not defined")},s.exportSymbol("Sk.misceval.loadname",a.misceval.loadname),a.misceval.call=function(e,t,n,i,r){return r=Array.prototype.slice.call(arguments,4),a.misceval.apply(e,t,n,i,r)},s.exportSymbol("Sk.misceval.call",a.misceval.call),a.misceval.callAsync=function(e,t,n,i,r,o){return o=Array.prototype.slice.call(arguments,5),a.misceval.applyAsync(e,t,n,i,r,o)},s.exportSymbol("Sk.misceval.callAsync",a.misceval.callAsync),a.misceval.callOrSuspend=function(e,t,n,i,r){return r=Array.prototype.slice.call(arguments,4),a.misceval.applyOrSuspend(e,t,n,i,r)},s.exportSymbol("Sk.misceval.callOrSuspend",a.misceval.callOrSuspend),a.misceval.callsim=function(e,t){return t=Array.prototype.slice.call(arguments,1),a.misceval.apply(e,void 0,void 0,void 0,t)},s.exportSymbol("Sk.misceval.callsim",a.misceval.callsim),a.misceval.callsimAsync=function(e,t,n){return n=Array.prototype.slice.call(arguments,2),a.misceval.applyAsync(e,t,void 0,void 0,void 0,n)},s.exportSymbol("Sk.misceval.callsimAsync",a.misceval.callsimAsync),a.misceval.callsimOrSuspend=function(e,t){return t=Array.prototype.slice.call(arguments,1),a.misceval.applyOrSuspend(e,void 0,void 0,void 0,t)},s.exportSymbol("Sk.misceval.callsimOrSuspend",a.misceval.callsimOrSuspend),a.misceval.apply=function(e,t,n,i,r){return(e=a.misceval.applyOrSuspend(e,t,n,i,r))instanceof a.misceval.Suspension?a.misceval.retryOptionalSuspensionOrThrow(e):e},s.exportSymbol("Sk.misceval.apply",a.misceval.apply),a.misceval.asyncToPromise=function(e,t){return new Promise(function(n,i){try{!function e(r){try{for(var o=function(){e(r.resume())},s=function(e){try{r.data.result=e,o()}catch(e){i(e)}},l=function(e){try{r.data.error=e,o()}catch(e){i(e)}};r instanceof a.misceval.Suspension;){var u=t&&(t[r.data.type]||t["*"]);if(u){var c=u(r);if(c)return void c.then(e,i)}if("Sk.promise"==r.data.type)return void r.data.promise.then(s,l);if("Sk.yield"==r.data.type)return void a.setTimeout(o,0);if(!r.optional)throw new a.builtin.SuspensionError("Unhandled non-optional suspension of type '"+r.data.type+"'");r=r.resume()}n(r)}catch(e){i(e)}}(e())}catch(e){i(e)}})},s.exportSymbol("Sk.misceval.asyncToPromise",a.misceval.asyncToPromise),a.misceval.applyAsync=function(e,t,n,i,r,o){return a.misceval.asyncToPromise(function(){return a.misceval.applyOrSuspend(t,n,i,r,o)},e)},s.exportSymbol("Sk.misceval.applyAsync",a.misceval.applyAsync),a.misceval.chain=function(e,t){for(var n,i,r=1,o=e;;){if(r==arguments.length)return o;if(o&&o.$isSuspension)break;o=arguments[r](o),r++}for(i=Array(arguments.length-r),n=0;n<arguments.length-r;n++)i[n]=arguments[r+n];return n=0,function e(t){for(;n<i.length;){if(t instanceof a.misceval.Suspension)return new a.misceval.Suspension(e,t);t=i[n](t),n++}return t}(o)},s.exportSymbol("Sk.misceval.chain",a.misceval.chain),a.misceval.tryCatch=function(e,t){var n;try{n=e()}catch(e){return t(e)}if(n instanceof a.misceval.Suspension){var i=new a.misceval.Suspension(void 0,n);return i.resume=function(){return a.misceval.tryCatch(n.resume,t)},i}return n},s.exportSymbol("Sk.misceval.tryCatch",a.misceval.tryCatch),a.misceval.iterFor=function(e,t,n){var i=n,r=function(t){return i=t,t instanceof a.misceval.Break?t:e.tp$iternext(!0)};return function e(n){for(;void 0!==n;){if(n instanceof a.misceval.Suspension)return new a.misceval.Suspension(e,n);if(n===a.misceval.Break||n instanceof a.misceval.Break)return n.brValue;n=a.misceval.chain(t(n,i),r)}return i}(e.tp$iternext(!0))},s.exportSymbol("Sk.misceval.iterFor",a.misceval.iterFor),a.misceval.Break=function(e){if(!(this instanceof a.misceval.Break))return new a.misceval.Break(e);this.brValue=e},s.exportSymbol("Sk.misceval.Break",a.misceval.Break),a.misceval.applyOrSuspend=function(e,t,n,i,r){var o,s;if(null===e||e instanceof a.builtin.none)throw new a.builtin.TypeError("'"+a.abstr.typeName(e)+"' object is not callable");if("function"==typeof e&&void 0===e.tp$call){if(n)for(s=n.tp$iter(),n=s.tp$iternext();void 0!==n;n=s.tp$iternext())r.push(n);if(t)for(n=(s=a.abstr.iter(t)).tp$iternext();void 0!==n;n=s.tp$iternext()){if(!a.builtin.checkString(n))throw new a.builtin.TypeError("Function keywords must be strings");i.push(n.v),i.push(a.abstr.objectGetItem(t,n,!1))}if(void 0!==i&&0<i.length){if(!e.co_varnames)throw new a.builtin.ValueError("Keyword arguments are not supported by this function");for(s=e.co_numargs-e.co_varnames.length,o=r.length-s,r=r.concat(e.$defaults.slice(o)),n=0;n<i.length;n+=2){if(-1===(t=e.co_varnames.indexOf(i[n])))throw new a.builtin.TypeError("'"+i[n]+"' is an invalid keyword argument for this function");if(t<o)throw new a.builtin.TypeError("Argument given by name ('"+i[n]+"') and position ("+(t+s+1)+")");r[t+s]=i[n+1]}}return e.apply(null,r)}if(void 0!==(o=e.tp$call)){if(n)for(s=n.tp$iter(),n=s.tp$iternext();void 0!==n;n=s.tp$iternext())r.push(n);if(t)for(n=(s=a.abstr.iter(t)).tp$iternext();void 0!==n;n=s.tp$iternext()){if(!a.builtin.checkString(n))throw new a.builtin.TypeError("Function keywords must be strings");i.push(n.v),i.push(a.abstr.objectGetItem(t,n,!1))}return o.call(e,r,i,t)}if(void 0!==(o=e.__call__))return r.unshift(e),a.misceval.apply(o,t,n,i,r);throw new a.builtin.TypeError("'"+a.abstr.typeName(e)+"' object is not callable")},s.exportSymbol("Sk.misceval.applyOrSuspend",a.misceval.applyOrSuspend),a.misceval.buildClass=function(e,t,n,i){var r=a.builtin.type,o={};for(var s in t(e,o,[]),o.__module__=e.__name__,e=new a.builtin.str(n),i=new a.builtin.tuple(i),t=[],o)o.hasOwnProperty(s)&&(t.push(new a.builtin.str(s)),t.push(o[s]));return t=new a.builtin.dict(t),a.misceval.callsim(r,e,i,t)},s.exportSymbol("Sk.misceval.buildClass",a.misceval.buildClass),a.builtin.seqtype=function(){throw new a.builtin.ExternalError("Cannot instantiate abstract Sk.builtin.seqtype class")},a.abstr.setUpInheritance("SequenceType",a.builtin.seqtype,a.builtin.object),a.builtin.seqtype.sk$abstract=!0,a.builtin.seqtype.prototype.__len__=new a.builtin.func(function(e){return a.builtin.pyCheckArgs("__len__",arguments,0,0,!1,!0),new a.builtin.int_(e.sq$length())}),a.builtin.seqtype.prototype.__iter__=new a.builtin.func(function(e){return a.builtin.pyCheckArgs("__iter__",arguments,0,0,!1,!0),e.tp$iter()}),a.builtin.seqtype.prototype.__contains__=new a.builtin.func(function(e,t){return a.builtin.pyCheckArgs("__contains__",arguments,1,1,!1,!0),e.sq$contains(t)?a.builtin.bool.true$:a.builtin.bool.false$}),a.builtin.seqtype.prototype.__getitem__=new a.builtin.func(function(e,t){return a.builtin.pyCheckArgs("__getitem__",arguments,1,1,!1,!0),e.mp$subscript(t)}),a.builtin.seqtype.prototype.__add__=new a.builtin.func(function(e,t){return a.builtin.pyCheckArgs("__add__",arguments,1,1,!1,!0),e.sq$concat(t)}),a.builtin.seqtype.prototype.__mul__=new a.builtin.func(function(e,t){if(a.builtin.pyCheckArgs("__mul__",arguments,1,1,!1,!0),!a.misceval.isIndex(t))throw new a.builtin.TypeError("can't multiply sequence by non-int of type '"+a.abstr.typeName(t)+"'");return e.sq$repeat(t)}),a.builtin.seqtype.prototype.__rmul__=new a.builtin.func(function(e,t){return a.builtin.pyCheckArgs("__rmul__",arguments,1,1,!1,!0),e.sq$repeat(t)}),a.builtin.list=function(e,t){var n,i,r;if(!(this instanceof a.builtin.list))return new a.builtin.list(e,t||!0);if(t=t||!1,this.__class__=a.builtin.list,void 0===e)n=[];else{if("[object Array]"!==Object.prototype.toString.apply(e)){if(a.builtin.checkIterable(e))return n=[],i=a.abstr.iter(e),r=this,function e(o){for(;;){if(o instanceof a.misceval.Suspension)return new a.misceval.Suspension(e,o);if(void 0===o)return r.v=n,r;n.push(o),o=i.tp$iternext(t)}}(i.tp$iternext(t));throw new a.builtin.TypeError("'"+a.abstr.typeName(e)+"' object is not iterable")}n=e}return this.v=this.v=n,this},a.abstr.setUpInheritance("list",a.builtin.list,a.builtin.seqtype),a.abstr.markUnhashable(a.builtin.list),a.builtin.list.prototype.list_concat_=function(e){var t,n;if(!e.__class__||e.__class__!=a.builtin.list)throw new a.builtin.TypeError("can only concatenate list to list");for(n=this.v.slice(),t=0;t<e.v.length;++t)n.push(e.v[t]);return new a.builtin.list(n,!1)},a.builtin.list.prototype.list_extend_=function(e){var t,n;if(!a.builtin.checkIterable(e))throw new a.builtin.TypeError("'"+a.abstr.typeName(e)+"' object is not iterable");if(this==e){for(n=[],t=(e=a.abstr.iter(e)).tp$iternext();void 0!==t;t=e.tp$iternext())n.push(t);this.v.push.apply(this.v,n)}else for(t=(e=a.abstr.iter(e)).tp$iternext();void 0!==t;t=e.tp$iternext())this.v.push(t);return this},a.builtin.list.prototype.list_del_item_=function(e){if(0>(e=a.builtin.asnum$(e))||e>=this.v.length)throw new a.builtin.IndexError("list assignment index out of range");this.list_del_slice_(e,e+1)},a.builtin.list.prototype.list_del_slice_=function(e,t){var n;e=a.builtin.asnum$(e),t=a.builtin.asnum$(t),(n=[]).unshift(t-e),n.unshift(e),this.v.splice.apply(this.v,n)},a.builtin.list.prototype.list_ass_item_=function(e,t){if(0>(e=a.builtin.asnum$(e))||e>=this.v.length)throw new a.builtin.IndexError("list assignment index out of range");this.v[e]=t},a.builtin.list.prototype.list_ass_slice_=function(e,t,n){if(e=a.builtin.asnum$(e),t=a.builtin.asnum$(t),!a.builtin.checkIterable(n))throw new a.builtin.TypeError("can only assign an iterable");(n=new a.builtin.list(n,!1).v.slice(0)).unshift(t-e),n.unshift(e),this.v.splice.apply(this.v,n)},a.builtin.list.prototype.$r=function(){var e,t,n=[];for(t=(e=a.abstr.iter(this)).tp$iternext();void 0!==t;t=e.tp$iternext())t===this?n.push("[...]"):n.push(a.misceval.objectRepr(t).v);return new a.builtin.str("["+n.join(", ")+"]")},a.builtin.list.prototype.tp$richcompare=function(e,t){var n,i,r,o;if(this===e&&a.misceval.opAllowsEquality(t))return!0;if(!e.__class__||e.__class__!=a.builtin.list)return"Eq"!==t&&"NotEq"===t;for(o=this.v,e=e.v,r=o.length,i=e.length,n=0;n<r&&n<i&&a.misceval.richCompareBool(o[n],e[n],"Eq");++n);if(n>=r||n>=i)switch(t){case"Lt":return r<i;case"LtE":return r<=i;case"Eq":return r===i;case"NotEq":return r!==i;case"Gt":return r>i;case"GtE":return r>=i;default:s.asserts.fail()}return"Eq"!==t&&("NotEq"===t||a.misceval.richCompareBool(o[n],e[n],t))},a.builtin.list.prototype.__iter__=new a.builtin.func(function(e){return a.builtin.pyCheckArgs("__iter__",arguments,0,0,!0,!1),new a.builtin.list_iter_(e)}),a.builtin.list.prototype.tp$iter=function(){return new a.builtin.list_iter_(this)},a.builtin.list.prototype.sq$length=function(){return this.v.length},a.builtin.list.prototype.sq$concat=a.builtin.list.prototype.list_concat_,a.builtin.list.prototype.nb$add=a.builtin.list.prototype.list_concat_,a.builtin.list.prototype.nb$inplace_add=a.builtin.list.prototype.list_extend_,a.builtin.list.prototype.sq$repeat=function(e){var t,n,i;if(!a.misceval.isIndex(e))throw new a.builtin.TypeError("can't multiply sequence by non-int of type '"+a.abstr.typeName(e)+"'");for(e=a.misceval.asIndex(e),i=[],n=0;n<e;++n)for(t=0;t<this.v.length;++t)i.push(this.v[t]);return new a.builtin.list(i,!1)},a.builtin.list.prototype.nb$multiply=a.builtin.list.prototype.sq$repeat,a.builtin.list.prototype.nb$inplace_multiply=function(e){var t,n,i;if(!a.misceval.isIndex(e))throw new a.builtin.TypeError("can't multiply sequence by non-int of type '"+a.abstr.typeName(e)+"'");for(e=a.misceval.asIndex(e),i=this.v.length,n=1;n<e;++n)for(t=0;t<i;++t)this.v.push(this.v[t]);return this},a.builtin.list.prototype.sq$ass_item=a.builtin.list.prototype.list_ass_item_,a.builtin.list.prototype.sq$del_item=a.builtin.list.prototype.list_del_item_,a.builtin.list.prototype.sq$ass_slice=a.builtin.list.prototype.list_ass_slice_,a.builtin.list.prototype.sq$del_slice=a.builtin.list.prototype.list_del_slice_,a.builtin.list.prototype.sq$contains=function(e){var t,n;for(n=(t=this.tp$iter()).tp$iternext();void 0!==n;n=t.tp$iternext())if(a.misceval.richCompareBool(n,e,"Eq"))return!0;return!1},a.builtin.list.prototype.list_subscript_=function(e){var t,n;if(a.misceval.isIndex(e)){if(void 0!==(n=a.misceval.asIndex(e))){if(0>n&&(n=this.v.length+n),0>n||n>=this.v.length)throw new a.builtin.IndexError("list index out of range");return this.v[n]}}else if(e instanceof a.builtin.slice)return t=[],e.sssiter$(this,function(e,n){t.push(n.v[e])}),new a.builtin.list(t,!1);throw new a.builtin.TypeError("list indices must be integers, not "+a.abstr.typeName(e))},a.builtin.list.prototype.list_ass_subscript_=function(e,t){var n,i,r;if(a.misceval.isIndex(e)){if(void 0!==(n=a.misceval.asIndex(e)))return 0>n&&(n=this.v.length+n),void this.list_ass_item_(n,t)}else if(e instanceof a.builtin.slice){if(1===(n=e.slice_indices_(this.v.length))[2])this.list_ass_slice_(n[0],n[1],t);else{if(r=[],e.sssiter$(this,function(e,t){r.push(e)}),i=0,r.length!==t.v.length)throw new a.builtin.ValueError("attempt to assign sequence of size "+t.v.length+" to extended slice of size "+r.length);for(n=0;n<r.length;++n)this.v.splice(r[n],1,t.v[i]),i+=1}return}throw new a.builtin.TypeError("list indices must be integers, not "+a.abstr.typeName(e))},a.builtin.list.prototype.list_del_subscript_=function(e){var t,n,i,r;if(a.misceval.isIndex(e)){if(void 0!==(r=a.misceval.asIndex(e)))return 0>r&&(r=this.v.length+r),void this.list_del_item_(r)}else if(e instanceof a.builtin.slice)return void(1===(r=e.slice_indices_(this.v.length))[2]?this.list_del_slice_(r[0],r[1]):(i=this,n=0,t=0<r[2]?1:0,e.sssiter$(this,function(e,r){i.v.splice(e-n,1),n+=t})));throw new a.builtin.TypeError("list indices must be integers, not "+typeof e)},a.builtin.list.prototype.mp$subscript=a.builtin.list.prototype.list_subscript_,a.builtin.list.prototype.mp$ass_subscript=a.builtin.list.prototype.list_ass_subscript_,a.builtin.list.prototype.mp$del_subscript=a.builtin.list.prototype.list_del_subscript_,a.builtin.list.prototype.__getitem__=new a.builtin.func(function(e,t){return a.builtin.list.prototype.list_subscript_.call(e,t)}),a.builtin.list.prototype.list_sort_=function(e,t,n,i){var r,o,s,l,u,c=null!=n;if(o=null!=t,void 0===i)u=!1;else{if(i===a.builtin.none.none$)throw new a.builtin.TypeError("an integer is required");u=a.misceval.isTrue(i)}if(i=new a.builtin.timSort(e),e.v=[],l=new a.builtin.int_(0),c)for(i.lt=o?function(e,n){var i=a.misceval.callsim(t,e[0],n[0]);return a.misceval.richCompareBool(i,l,"Lt")}:function(e,t){return a.misceval.richCompareBool(e[0],t[0],"Lt")},s=0;s<i.listlength;s++)o=i.list.v[s],r=a.misceval.callsim(n,o),i.list.v[s]=[r,o];else o&&(i.lt=function(e,n){var i=a.misceval.callsim(t,e,n);return a.misceval.richCompareBool(i,l,"Lt")});if(u&&i.list.list_reverse_(i.list),i.sort(),u&&i.list.list_reverse_(i.list),c)for(n=0;n<i.listlength;n++)o=i.list.v[n][1],i.list.v[n]=o;if(n=0<e.sq$length(),e.v=i.list.v,n)throw new a.builtin.OperationError("list modified during sort");return a.builtin.none.none$},a.builtin.list.prototype.list_reverse_=function(e){var t,n,i;for(a.builtin.pyCheckArgs("reverse",arguments,1,1),t=e.v.length,i=e.v,n=[],t-=1;-1<t;--t)n.push(i[t]);return e.v=n,a.builtin.none.none$},a.builtin.list.prototype.append=new a.builtin.func(function(e,t){return a.builtin.pyCheckArgs("append",arguments,2,2),e.v.push(t),a.builtin.none.none$}),a.builtin.list.prototype.insert=new a.builtin.func(function(e,t,n){if(a.builtin.pyCheckArgs("insert",arguments,3,3),!a.builtin.checkNumber(t))throw new a.builtin.TypeError("an integer is required");return 0>(t=a.builtin.asnum$(t))&&(t+=e.v.length),0>t?t=0:t>e.v.length&&(t=e.v.length),e.v.splice(t,0,n),a.builtin.none.none$}),a.builtin.list.prototype.extend=new a.builtin.func(function(e,t){return a.builtin.pyCheckArgs("extend",arguments,2,2),e.list_extend_(t),a.builtin.none.none$}),a.builtin.list.prototype.pop=new a.builtin.func(function(e,t){var n;if(a.builtin.pyCheckArgs("pop",arguments,1,2),void 0===t&&(t=e.v.length-1),!a.builtin.checkNumber(t))throw new a.builtin.TypeError("an integer is required");if(0>(t=a.builtin.asnum$(t))&&(t+=e.v.length),0>t||t>=e.v.length)throw new a.builtin.IndexError("pop index out of range");return n=e.v[t],e.v.splice(t,1),n}),a.builtin.list.prototype.remove=new a.builtin.func(function(e,t){var n;return a.builtin.pyCheckArgs("remove",arguments,2,2),n=a.builtin.list.prototype.index.func_code(e,t),e.v.splice(a.builtin.asnum$(n),1),a.builtin.none.none$}),a.builtin.list.prototype.index=new a.builtin.func(function(e,t,n,i){var r,o;if(a.builtin.pyCheckArgs("index",arguments,2,4),void 0!==n&&!a.builtin.checkInt(n))throw new a.builtin.TypeError("slice indices must be integers");if(void 0!==i&&!a.builtin.checkInt(i))throw new a.builtin.TypeError("slice indices must be integers");for(r=e.v.length,o=e.v,0>(n=void 0===n?0:n.v)&&(n=0<=n+r?n+r:0),0>(i=void 0===i?r:i.v)&&(i=0<=i+r?i+r:0),r=n;r<i;++r)if(a.misceval.richCompareBool(o[r],t,"Eq"))return new a.builtin.int_(r);throw new a.builtin.ValueError("list.index(x): x not in list")}),a.builtin.list.prototype.count=new a.builtin.func(function(e,t){var n,i,r,o;for(a.builtin.pyCheckArgs("count",arguments,2,2),o=e.v.length,r=e.v,n=i=0;n<o;++n)a.misceval.richCompareBool(r[n],t,"Eq")&&(i+=1);return new a.builtin.int_(i)}),a.builtin.list.prototype.reverse=new a.builtin.func(a.builtin.list.prototype.list_reverse_),a.builtin.list.prototype.sort=new a.builtin.func(a.builtin.list.prototype.list_sort_),a.builtin.list.prototype.sort.func_code.co_varnames=["__self__","cmp","key","reverse"],s.exportSymbol("Sk.builtin.list",a.builtin.list),a.builtin.list_iter_=function(e){return this instanceof a.builtin.list_iter_?(this.$index=0,this.lst=e.v.slice(),this.sq$length=this.lst.length,this.tp$iter=this,this.tp$iternext=function(){return this.$index>=this.sq$length?void 0:this.lst[this.$index++]},this.$r=function(){return new a.builtin.str("listiterator")},this):new a.builtin.list_iter_(e)},a.abstr.setUpInheritance("listiterator",a.builtin.list_iter_,a.builtin.object),a.builtin.list_iter_.prototype.__class__=a.builtin.list_iter_,a.builtin.list_iter_.prototype.__iter__=new a.builtin.func(function(e){return e}),a.builtin.list_iter_.prototype.next=new a.builtin.func(function(e){if(void 0===(e=e.tp$iternext()))throw new a.builtin.StopIteration;return e}),a.builtin.interned={},a.builtin.str=function(e){if(void 0===e&&(e=""),e instanceof a.builtin.str)return e;if(!(this instanceof a.builtin.str))return new a.builtin.str(e);if(!0===e)e="True";else if(!1===e)e="False";else if(null===e||e instanceof a.builtin.none)e="None";else if(e instanceof a.builtin.bool)e=e.v?"True":"False";else if("number"==typeof e)"Infinity"===(e=e.toString())?e="inf":"-Infinity"===e&&(e="-inf");else if("string"!=typeof e){if(void 0!==e.tp$str){if(!((e=e.tp$str())instanceof a.builtin.str))throw new a.builtin.ValueError("__str__ didn't return a str");return e}return a.misceval.objectRepr(e)}return a.builtin.interned["1"+e]?a.builtin.interned["1"+e]:(this.__class__=a.builtin.str,this.v=this.v=e,a.builtin.interned["1"+e]=this,this)},s.exportSymbol("Sk.builtin.str",a.builtin.str),a.abstr.setUpInheritance("str",a.builtin.str,a.builtin.seqtype),a.builtin.str.prototype.mp$subscript=function(e){var t;if(a.misceval.isIndex(e)){if(0>(e=a.misceval.asIndex(e))&&(e=this.v.length+e),0>e||e>=this.v.length)throw new a.builtin.IndexError("string index out of range");return new a.builtin.str(this.v.charAt(e))}if(e instanceof a.builtin.slice)return t="",e.sssiter$(this,function(e,n){0<=e&&e<n.v.length&&(t+=n.v.charAt(e))}),new a.builtin.str(t);throw new a.builtin.TypeError("string indices must be integers, not "+a.abstr.typeName(e))},a.builtin.str.prototype.sq$length=function(){return this.v.length},a.builtin.str.prototype.sq$concat=function(e){if(!e||!a.builtin.checkString(e))throw e=a.abstr.typeName(e),new a.builtin.TypeError("cannot concatenate 'str' and '"+e+"' objects");return new a.builtin.str(this.v+e.v)},a.builtin.str.prototype.nb$add=a.builtin.str.prototype.sq$concat,a.builtin.str.prototype.nb$inplace_add=a.builtin.str.prototype.sq$concat,a.builtin.str.prototype.sq$repeat=function(e){var t,n;if(!a.misceval.isIndex(e))throw new a.builtin.TypeError("can't multiply sequence by non-int of type '"+a.abstr.typeName(e)+"'");for(e=a.misceval.asIndex(e),n="",t=0;t<e;++t)n+=this.v;return new a.builtin.str(n)},a.builtin.str.prototype.nb$multiply=a.builtin.str.prototype.sq$repeat,a.builtin.str.prototype.nb$inplace_multiply=a.builtin.str.prototype.sq$repeat,a.builtin.str.prototype.sq$item=function(){s.asserts.fail()},a.builtin.str.prototype.sq$slice=function(e,t){return e=a.builtin.asnum$(e),t=a.builtin.asnum$(t),0>e&&(e=0),new a.builtin.str(this.v.substr(e,t-e))},a.builtin.str.prototype.sq$contains=function(e){if(!(e instanceof a.builtin.str))throw new a.builtin.TypeError("TypeError: 'In <string> requires string as left operand");return-1!=this.v.indexOf(e.v)},a.builtin.str.prototype.__iter__=new a.builtin.func(function(e){return new a.builtin.str_iter_(e)}),a.builtin.str.prototype.tp$iter=function(){return new a.builtin.str_iter_(this)},a.builtin.str.prototype.tp$richcompare=function(e,t){if(e instanceof a.builtin.str)switch(t){case"Lt":return this.v<e.v;case"LtE":return this.v<=e.v;case"Eq":return this.v===e.v;case"NotEq":return this.v!==e.v;case"Gt":return this.v>e.v;case"GtE":return this.v>=e.v;default:s.asserts.fail()}},a.builtin.str.prototype.$r=function(){var e,t,n,i,r="'";for(-1!==this.v.indexOf("'")&&-1===this.v.indexOf('"')&&(r='"'),i=this.v.length,n=r,t=0;t<i;++t)(e=this.v.charAt(t))===r||"\\"===e?n+="\\"+e:"\t"===e?n+="\\t":"\n"===e?n+="\\n":"\r"===e?n+="\\r":" ">e||127<=e?(2>(e=e.charCodeAt(0).toString(16)).length&&(e="0"+e),n+="\\x"+e):n+=e;return new a.builtin.str(n+r)},a.builtin.str.re_escape_=function(e){var t,n,i=[],r=/^[A-Za-z0-9]+$/;for(n=0;n<e.length;++n)t=e.charAt(n),r.test(t)?i.push(t):"\\000"===t?i.push("\\000"):i.push("\\"+t);return i.join("")},a.builtin.str.prototype.lower=new a.builtin.func(function(e){return a.builtin.pyCheckArgs("lower",arguments,1,1),new a.builtin.str(e.v.toLowerCase())}),a.builtin.str.prototype.upper=new a.builtin.func(function(e){return a.builtin.pyCheckArgs("upper",arguments,1,1),new a.builtin.str(e.v.toUpperCase())}),a.builtin.str.prototype.capitalize=new a.builtin.func(function(e){var t,n,i;if(a.builtin.pyCheckArgs("capitalize",arguments,1,1),0===(i=e.v).length)return new a.builtin.str("");for(n=i.charAt(0).toUpperCase(),t=1;t<i.length;t++)n+=i.charAt(t).toLowerCase();return new a.builtin.str(n)}),a.builtin.str.prototype.join=new a.builtin.func(function(e,t){var n,i,r;for(a.builtin.pyCheckArgs("join",arguments,2,2),a.builtin.pyCheckType("seq","iterable",a.builtin.checkIterable(t)),r=[],i=(n=t.tp$iter()).tp$iternext();void 0!==i;i=n.tp$iternext()){if(i.constructor!==a.builtin.str)throw new a.builtin.TypeError("TypeError: sequence item "+r.length+": expected string, "+typeof i+" found");r.push(i.v)}return new a.builtin.str(r.join(e.v))}),a.builtin.str.prototype.split=new a.builtin.func(function(e,t,n){var i,r,o,l,u,c;if(a.builtin.pyCheckArgs("split",arguments,1,3),(void 0===t||t instanceof a.builtin.none)&&(t=null),null!==t&&!a.builtin.checkString(t))throw new a.builtin.TypeError("expected a string");if(null!==t&&""===t.v)throw new a.builtin.ValueError("empty separator");if(void 0!==n&&!a.builtin.checkInt(n))throw new a.builtin.TypeError("an integer is required");for(n=a.builtin.asnum$(n),c=/[\s]+/g,u=e.v,null===t?u=s.string.trimLeft(u):(i=t.v.replace(/([.*+?=|\\\/()\[\]\{\}^$])/g,"\\$1"),c=RegExp(i,"g")),l=[],i=r=0;null!=(o=c.exec(u))&&o.index!==c.lastIndex&&(l.push(new a.builtin.str(u.substring(r,o.index))),r=c.lastIndex,i+=1,!(n&&i>=n)););return u=u.substring(r),(null!==t||0<u.length)&&l.push(new a.builtin.str(u)),new a.builtin.list(l)}),a.builtin.str.prototype.strip=new a.builtin.func(function(e,t){var n;if(a.builtin.pyCheckArgs("strip",arguments,1,2),void 0!==t&&!a.builtin.checkString(t))throw new a.builtin.TypeError("strip arg must be None or str");return void 0===t?n=/^\s+|\s+$/g:(n=a.builtin.str.re_escape_(t.v),n=RegExp("^["+n+"]+|["+n+"]+$","g")),new a.builtin.str(e.v.replace(n,""))}),a.builtin.str.prototype.lstrip=new a.builtin.func(function(e,t){var n;if(a.builtin.pyCheckArgs("lstrip",arguments,1,2),void 0!==t&&!a.builtin.checkString(t))throw new a.builtin.TypeError("lstrip arg must be None or str");return void 0===t?n=/^\s+/g:(n=a.builtin.str.re_escape_(t.v),n=RegExp("^["+n+"]+","g")),new a.builtin.str(e.v.replace(n,""))}),a.builtin.str.prototype.rstrip=new a.builtin.func(function(e,t){var n;if(a.builtin.pyCheckArgs("rstrip",arguments,1,2),void 0!==t&&!a.builtin.checkString(t))throw new a.builtin.TypeError("rstrip arg must be None or str");return void 0===t?n=/\s+$/g:(n=a.builtin.str.re_escape_(t.v),n=RegExp("["+n+"]+$","g")),new a.builtin.str(e.v.replace(n,""))}),a.builtin.str.prototype.partition=new a.builtin.func(function(e,t){var n,i;return a.builtin.pyCheckArgs("partition",arguments,2,2),a.builtin.pyCheckType("sep","string",a.builtin.checkString(t)),i=new a.builtin.str(t),0>(n=e.v.indexOf(i.v))?new a.builtin.tuple([e,a.builtin.str.$emptystr,a.builtin.str.$emptystr]):new a.builtin.tuple([new a.builtin.str(e.v.substring(0,n)),i,new a.builtin.str(e.v.substring(n+i.v.length))])}),a.builtin.str.prototype.rpartition=new a.builtin.func(function(e,t){var n,i;return a.builtin.pyCheckArgs("rpartition",arguments,2,2),a.builtin.pyCheckType("sep","string",a.builtin.checkString(t)),i=new a.builtin.str(t),0>(n=e.v.lastIndexOf(i.v))?new a.builtin.tuple([a.builtin.str.$emptystr,a.builtin.str.$emptystr,e]):new a.builtin.tuple([new a.builtin.str(e.v.substring(0,n)),i,new a.builtin.str(e.v.substring(n+i.v.length))])}),a.builtin.str.prototype.count=new a.builtin.func(function(e,t,n,i){var r;if(a.builtin.pyCheckArgs("count",arguments,2,4),!a.builtin.checkString(t))throw new a.builtin.TypeError("expected a character buffer object");if(void 0!==n&&!a.builtin.checkInt(n))throw new a.builtin.TypeError("slice indices must be integers or None or have an __index__ method");if(void 0!==i&&!a.builtin.checkInt(i))throw new a.builtin.TypeError("slice indices must be integers or None or have an __index__ method");return void 0===n?n=0:n=0<=(n=a.builtin.asnum$(n))?n:e.v.length+n,void 0===i?i=e.v.length:i=0<=(i=a.builtin.asnum$(i))?i:e.v.length+i,r=t.v.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),r=RegExp(r,"g"),(r=e.v.slice(n,i).match(r))?new a.builtin.int_(r.length):new a.builtin.int_(0)}),a.builtin.str.prototype.ljust=new a.builtin.func(function(e,t,n){var i;if(a.builtin.pyCheckArgs("ljust",arguments,2,3),!a.builtin.checkInt(t))throw new a.builtin.TypeError("integer argument exepcted, got "+a.abstr.typeName(t));if(void 0!==n&&(!a.builtin.checkString(n)||1!==n.v.length))throw new a.builtin.TypeError("must be char, not "+a.abstr.typeName(n));return n=void 0===n?" ":n.v,t=a.builtin.asnum$(t),e.v.length>=t?e:(i=Array.prototype.join.call({length:Math.floor(t-e.v.length)+1},n),new a.builtin.str(e.v+i))}),a.builtin.str.prototype.rjust=new a.builtin.func(function(e,t,n){var i;if(a.builtin.pyCheckArgs("rjust",arguments,2,3),!a.builtin.checkInt(t))throw new a.builtin.TypeError("integer argument exepcted, got "+a.abstr.typeName(t));if(void 0!==n&&(!a.builtin.checkString(n)||1!==n.v.length))throw new a.builtin.TypeError("must be char, not "+a.abstr.typeName(n));return n=void 0===n?" ":n.v,t=a.builtin.asnum$(t),e.v.length>=t?e:(i=Array.prototype.join.call({length:Math.floor(t-e.v.length)+1},n),new a.builtin.str(i+e.v))}),a.builtin.str.prototype.center=new a.builtin.func(function(e,t,n){var i;if(a.builtin.pyCheckArgs("center",arguments,2,3),!a.builtin.checkInt(t))throw new a.builtin.TypeError("integer argument exepcted, got "+a.abstr.typeName(t));if(void 0!==n&&(!a.builtin.checkString(n)||1!==n.v.length))throw new a.builtin.TypeError("must be char, not "+a.abstr.typeName(n));return n=void 0===n?" ":n.v,t=a.builtin.asnum$(t),e.v.length>=t?e:((i=(i=Array.prototype.join.call({length:Math.floor((t-e.v.length)/2)+1},n))+e.v+i).length<t&&(i+=n),new a.builtin.str(i))}),a.builtin.str.prototype.find=new a.builtin.func(function(e,t,n,i){var r;if(a.builtin.pyCheckArgs("find",arguments,2,4),!a.builtin.checkString(t))throw new a.builtin.TypeError("expected a character buffer object");if(void 0!==n&&!a.builtin.checkInt(n))throw new a.builtin.TypeError("slice indices must be integers or None or have an __index__ method");if(void 0!==i&&!a.builtin.checkInt(i))throw new a.builtin.TypeError("slice indices must be integers or None or have an __index__ method");return void 0===n?n=0:n=0<=(n=a.builtin.asnum$(n))?n:e.v.length+n,void 0===i?i=e.v.length:i=0<=(i=a.builtin.asnum$(i))?i:e.v.length+i,r=e.v.indexOf(t.v,n),new a.builtin.int_(r>=n&&r<i?r:-1)}),a.builtin.str.prototype.index=new a.builtin.func(function(e,t,n,i){var r;if(a.builtin.pyCheckArgs("index",arguments,2,4),r=a.misceval.callsim(e.find,e,t,n,i),-1===a.builtin.asnum$(r))throw new a.builtin.ValueError("substring not found");return r}),a.builtin.str.prototype.rfind=new a.builtin.func(function(e,t,n,i){var r;if(a.builtin.pyCheckArgs("rfind",arguments,2,4),!a.builtin.checkString(t))throw new a.builtin.TypeError("expected a character buffer object");if(void 0!==n&&!a.builtin.checkInt(n))throw new a.builtin.TypeError("slice indices must be integers or None or have an __index__ method");if(void 0!==i&&!a.builtin.checkInt(i))throw new a.builtin.TypeError("slice indices must be integers or None or have an __index__ method");return void 0===n?n=0:n=0<=(n=a.builtin.asnum$(n))?n:e.v.length+n,void 0===i?i=e.v.length:i=0<=(i=a.builtin.asnum$(i))?i:e.v.length+i,r=(r=e.v.lastIndexOf(t.v,i))!==i?r:e.v.lastIndexOf(t.v,i-1),new a.builtin.int_(r>=n&&r<i?r:-1)}),a.builtin.str.prototype.rindex=new a.builtin.func(function(e,t,n,i){var r;if(a.builtin.pyCheckArgs("rindex",arguments,2,4),r=a.misceval.callsim(e.rfind,e,t,n,i),-1===a.builtin.asnum$(r))throw new a.builtin.ValueError("substring not found");return r}),a.builtin.str.prototype.startswith=new a.builtin.func(function(e,t){return a.builtin.pyCheckArgs("startswith",arguments,2,2),a.builtin.pyCheckType("tgt","string",a.builtin.checkString(t)),new a.builtin.bool(0===e.v.indexOf(t.v))}),a.builtin.str.prototype.endswith=new a.builtin.func(function(e,t){return a.builtin.pyCheckArgs("endswith",arguments,2,2),a.builtin.pyCheckType("tgt","string",a.builtin.checkString(t)),new a.builtin.bool(-1!==e.v.indexOf(t.v,e.v.length-t.v.length))}),a.builtin.str.prototype.replace=new a.builtin.func(function(e,t,n,i){var r,o;if(a.builtin.pyCheckArgs("replace",arguments,3,4),a.builtin.pyCheckType("oldS","string",a.builtin.checkString(t)),a.builtin.pyCheckType("newS","string",a.builtin.checkString(n)),void 0!==i&&!a.builtin.checkInt(i))throw new a.builtin.TypeError("integer argument expected, got "+a.abstr.typeName(i));return i=a.builtin.asnum$(i),o=RegExp(a.builtin.str.re_escape_(t.v),"g"),void 0===i||0>i?new a.builtin.str(e.v.replace(o,n.v)):(r=0,new a.builtin.str(e.v.replace(o,function(e){return++r<=i?n.v:e})))}),a.builtin.str.prototype.zfill=new a.builtin.func(function(e,t){var n,i,r=e.v,o="";if(a.builtin.pyCheckArgs("zfill",arguments,2,2),!a.builtin.checkInt(t))throw new a.builtin.TypeError("integer argument exepected, got "+a.abstr.typeName(t));n=t.v-r.length,i="+"===r[0]||"-"===r[0]?1:0;for(var s=0;s<n;s++)o+="0";return r=r.substr(0,i)+o+r.substr(i),new a.builtin.str(r)}),a.builtin.str.prototype.isdigit=new a.builtin.func(function(e){return a.builtin.pyCheckArgs("isdigit",arguments,1,1),new a.builtin.bool(/^\d+$/.test(e.v))}),a.builtin.str.prototype.isspace=new a.builtin.func(function(e){return a.builtin.pyCheckArgs("isspace",arguments,1,1),new a.builtin.bool(/^\s+$/.test(e.v))}),a.builtin.str.prototype.expandtabs=new a.builtin.func(function(e,t){var n,i;if(a.builtin.pyCheckArgs("expandtabs",arguments,1,2),void 0!==t&&!a.builtin.checkInt(t))throw new a.builtin.TypeError("integer argument exepected, got "+a.abstr.typeName(t));return t=void 0===t?8:a.builtin.asnum$(t),n=Array(t+1).join(" "),i=e.v.replace(/([^\r\n\t]*)\t/g,function(e,i){return i+n.slice(i.length%t)}),new a.builtin.str(i)}),a.builtin.str.prototype.swapcase=new a.builtin.func(function(e){var t;return a.builtin.pyCheckArgs("swapcase",arguments,1,1),t=e.v.replace(/[a-z]/gi,function(e){var t=e.toLowerCase();return t===e?e.toUpperCase():t}),new a.builtin.str(t)}),a.builtin.str.prototype.splitlines=new a.builtin.func(function(e,t){var n,i=e.v,r=0,o=e.v.length,s=[],l=0;if(a.builtin.pyCheckArgs("splitlines",arguments,1,2),void 0!==t&&!a.builtin.checkBool(t))throw new a.builtin.TypeError("boolean argument expected, got "+a.abstr.typeName(t));for(t=void 0!==t&&t.v,r=0;r<o;r++)n=i.charAt(r),"\n"===i.charAt(r+1)&&"\r"===n?(n=r+2,l=i.slice(l,n),t||(l=l.replace(/(\r|\n)/g,"")),s.push(new a.builtin.str(l)),l=n):("\n"===n&&"\r"!==i.charAt(r-1)||"\r"===n)&&(n=r+1,l=i.slice(l,n),t||(l=l.replace(/(\r|\n)/g,"")),s.push(new a.builtin.str(l)),l=n);return l<o&&(l=i.slice(l,o),t||(l=l.replace(/(\r|\n)/g,"")),s.push(new a.builtin.str(l))),new a.builtin.list(s)}),a.builtin.str.prototype.title=new a.builtin.func(function(e){var t;return a.builtin.pyCheckArgs("title",arguments,1,1),t=e.v.replace(/[a-z][a-z]*/gi,function(e){return e[0].toUpperCase()+e.substr(1).toLowerCase()}),new a.builtin.str(t)}),a.builtin.str.prototype.isalpha=new a.builtin.func(function(e){return a.builtin.pyCheckArgs("isalpha",arguments,1,1),new a.builtin.bool(e.v.length&&s.string.isAlpha(e.v))}),a.builtin.str.prototype.isalnum=new a.builtin.func(function(e){return a.builtin.pyCheckArgs("isalnum",arguments,1,1),new a.builtin.bool(e.v.length&&s.string.isAlphaNumeric(e.v))}),a.builtin.str.prototype.isnumeric=new a.builtin.func(function(e){return a.builtin.pyCheckArgs("isnumeric",arguments,1,1),new a.builtin.bool(e.v.length&&s.string.isNumeric(e.v))}),a.builtin.str.prototype.islower=new a.builtin.func(function(e){return a.builtin.pyCheckArgs("islower",arguments,1,1),new a.builtin.bool(e.v.length&&/[a-z]/.test(e.v)&&!/[A-Z]/.test(e.v))}),a.builtin.str.prototype.isupper=new a.builtin.func(function(e){return a.builtin.pyCheckArgs("isupper",arguments,1,1),new a.builtin.bool(e.v.length&&!/[a-z]/.test(e.v)&&/[A-Z]/.test(e.v))}),a.builtin.str.prototype.istitle=new a.builtin.func(function(e){var t,n,i=e.v,r=!1,o=!1;for(a.builtin.pyCheckArgs("istitle",arguments,1,1),t=0;t<i.length;t++)if(n=i.charAt(t),!/[a-z]/.test(n)&&/[A-Z]/.test(n)){if(o)return new a.builtin.bool(!1);r=o=!0}else if(/[a-z]/.test(n)&&!/[A-Z]/.test(n)){if(!o)return new a.builtin.bool(!1);r=!0}else o=!1;return new a.builtin.bool(r)}),a.builtin.str.prototype.nb$remainder=function(e){var t,n;return e.constructor===a.builtin.tuple||void 0!==e.mp$subscript&&e.constructor!==a.builtin.str||(e=new a.builtin.tuple([e])),n=0,t=this.v.replace(/%(\([a-zA-Z0-9]+\))?([#0 +\-]+)?(\*|[0-9]+)?(\.(\*|[0-9]+))?[hlL]?([diouxXeEfFgGcrs%])/g,function(t,i,r,o,l,u,c){var p,f,d,h,m,g;if(o=a.builtin.asnum$(o),l=a.builtin.asnum$(l),void 0!==i&&""!==i||(p=n++),""===l&&(l=void 0),f=d=h=m=g=!1,r&&(-1!==r.indexOf("-")?m=!0:-1!==r.indexOf("0")&&(g=!0),-1!==r.indexOf("+")?d=!0:-1!==r.indexOf(" ")&&(h=!0),f=-1!==r.indexOf("#")),l&&(l=parseInt(l.substr(1),10)),r=function(e,t){var n,i,r,o;if(t=a.builtin.asnum$(t),r=!1,"number"==typeof e?(0>e&&(e=-e,r=!0),o=e.toString(t)):e instanceof a.builtin.float_?(2<(o=e.str$(t,!1)).length&&".0"===o.substr(-2)&&(o=o.substr(0,o.length-2)),r=e.nb$isnegative()):e instanceof a.builtin.int_?(o=e.str$(t,!1),r=e.nb$isnegative()):e instanceof a.builtin.lng&&(o=e.str$(t,!1),r=e.nb$isnegative()),s.asserts.assert(void 0!==o,"unhandled number format"),n=!1,l)for(i=o.length;i<l;++i)o="0"+o,n=!0;return i="",r?i="-":d?i="+"+i:h&&(i=" "+i),f&&(16===t?i+="0x":8!==t||n||"0"===o||(i+="0")),[i,o]},t=function(e){var t,n=e[0];if(e=e[1],o)if(o=parseInt(o,10),t=e.length+n.length,g)for(;t<o;++t)e="0"+e;else if(m)for(;t<o;++t)e+=" ";else for(;t<o;++t)n=" "+n;return n+e},e.constructor===a.builtin.tuple)i=e.v[p];else if(void 0!==e.mp$subscript&&void 0!==i)i=i.substring(1,i.length-1),i=e.mp$subscript(new a.builtin.str(i));else{if(e.constructor!==a.builtin.dict&&e.constructor!==a.builtin.list)throw new a.builtin.AttributeError(e.tp$name+" instance has no attribute 'mp$subscript'");i=e}if("d"===c||"i"===c)return t(r(i,10));if("o"===c)return t(r(i,8));if("x"===c)return t(r(i,16));if("X"===c)return t(r(i,16)).toUpperCase();if("f"===c||"F"===c||"e"===c||"E"===c||"g"===c||"G"===c)return"string"==typeof(p=a.builtin.asnum$(i))&&(p=Number(p)),1/0===p?"inf":-1/0===p?"-inf":isNaN(p)?"nan":(r=["toExponential","toFixed","toPrecision"]["efg".indexOf(c.toLowerCase())],void 0!==l&&""!==l||("e"===c||"E"===c?l=6:"f"!==c&&"F"!==c||(l=7)),r=p[r](l),a.builtin.checkFloat(i)&&0===p&&-1/0==1/p&&(r="-"+r),-1!=="EFG".indexOf(c)&&(r=r.toUpperCase()),t(["",r]));if("c"===c){if("number"==typeof i)return String.fromCharCode(i);if(i instanceof a.builtin.int_)return String.fromCharCode(i.v);if(i instanceof a.builtin.float_)return String.fromCharCode(i.v);if(i instanceof a.builtin.lng)return String.fromCharCode(i.str$(10,!1)[0]);if(i.constructor===a.builtin.str)return i.v.substr(0,1);throw new a.builtin.TypeError("an integer is required")}return"r"===c?(c=a.builtin.repr(i),l?c.v.substr(0,l):c.v):"s"===c?(c=new a.builtin.str(i),l?c.v.substr(0,l):(o&&(c.v=t([" ",c.v])),c.v)):"%"===c?"%":void 0}),new a.builtin.str(t)},a.builtin.str_iter_=function(e){return this instanceof a.builtin.str_iter_?(this.$index=0,this.$obj=e.v.slice(),this.sq$length=this.$obj.length,this.tp$iter=this,this.tp$iternext=function(){return this.$index>=this.sq$length?void 0:new a.builtin.str(this.$obj.substr(this.$index++,1))},this.$r=function(){return new a.builtin.str("iterator")},this):new a.builtin.str_iter_(e)},a.abstr.setUpInheritance("iterator",a.builtin.str_iter_,a.builtin.object),a.builtin.str_iter_.prototype.__class__=a.builtin.str_iter_,a.builtin.str_iter_.prototype.__iter__=new a.builtin.func(function(e){return a.builtin.pyCheckArgs("__iter__",arguments,0,0,!0,!1),e}),a.builtin.str_iter_.prototype.next=new a.builtin.func(function(e){if(void 0===(e=e.tp$iternext()))throw new a.builtin.StopIteration;return e});var l=function(e){var t,n,i,r={};if(a.builtin.pyCheckArgs("format",arguments,0,1/0,!0,!0),t=new a.builtins.tuple(Array.prototype.slice.call(arguments,1)),n=new a.builtins.dict(e),void 0===arguments[1])return t.v;if(i=0,0!==n.size)for(var o in(n=a.misceval.callsim(a.builtin.dict.prototype.items,n)).v)r[n.v[o].v[0].v]=n.v[o].v[1].v;for(var s in t.v)"0"!==s&&(r[s-1]=t.v[s].v);return t=t.v[0].v.replace(/{(((?:\d+)|(?:\w+))?((?:\.(\w+))|(?:\[((?:\d+)|(?:\w+))\])?))?(?:\!([rs]))?(?:\:((?:(.)?([<\>\=\^]))?([\+\-\s])?(#)?(0)?(\d+)?(,)?(?:\.(\d+))?([bcdeEfFgGnosxX%])?))?}/g,function(e,t,n,o,s,l,u,c,p,f,d,h,m,g,b,y,v,_,x){var w,k,S,C,E,T,A,N;if(g=a.builtin.asnum$(g),y=a.builtin.asnum$(y),void 0!==l&&""!==l?(k=r[n][l].v,i++):void 0!==s&&""!==s?(k=r[n][s].v,i++):void 0!==n&&""!==n?(k=r[n],i++):void 0===t||""===t?(e=r[i],i++,k=e):(t instanceof a.builtin.int_||t instanceof a.builtin.float_||t instanceof a.builtin.lng||!isNaN(parseInt(t,10)))&&(e=r[t],i++,k=e),""===y&&(y=void 0),void 0!==p&&""!==p||(p=" "),C=E=T=A=!1,c&&(void 0!==d&&""!==d&&(-1!=="-".indexOf(d)?A=!0:-1!=="+".indexOf(d)?E=!0:-1!==" ".indexOf(d)&&(T=!0)),h&&(C=-1!=="#".indexOf(h)),void 0===g||""===g||void 0!==p&&""!==p||(p=" "),-1!=="%".indexOf(v)&&(N=!0)),y&&(y=parseInt(y,10)),w=function(e){return void 0===u||""===u?e:"r"==u?(e=new a.builtin.str(e),(e=a.builtin.repr(e)).v):"s"==u?(e=new a.builtin.str(e)).v:void 0},S=function(e,t){var n;if(N&&(t+="%"),void 0!==g&&""!==g)if(g=parseInt(g,10),n=t.length+e.length,A)for(;n<g;++n)t+=p;else if(-1!==">".indexOf(f))for(;n<g;++n)e=p+e;else if(-1!=="^".indexOf(f))for(;n<g;++n)0==n%2?e=p+e:1==n%2&&(t+=p);else if(-1!=="=".indexOf(f))for(;n<g;++n)t=p+t;else for(;n<g;++n)t+=p;return w(e+t)},d=function(e,t){var n,i,r;return t=a.builtin.asnum$(t),i=!1,void 0===c?w(k):("number"!=typeof e||y?y?(0>e&&(e=-e,i=!0),r=(e=Number(e.toString(t))).toFixed(y)):e instanceof a.builtin.float_?(2<(r=e.str$(t,!1)).length&&".0"===r.substr(-2)&&(r=r.substr(0,r.length-2)),i=e.nb$isnegative()):e instanceof a.builtin.int_?(r=e.str$(t,!1),i=e.nb$isnegative()):e instanceof a.builtin.lng?(r=e.str$(t,!1),i=e.nb$isnegative()):r=e:(0>e&&(e=-e,i=!0),r=e.toString(t)),n="",i?n="-":E?n="+":T&&(n=" "),C&&(16===t?n+="0x":8===t&&"0"!==r?n+="0o":2===t&&"0"!==r&&(n+="0b")),"n"===v?r=r.toLocaleString():-1!==",".indexOf(b)&&((i=r.toString().split("."))[0]=i[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),r=i.join(".")),S(n,r))},"d"===v||"n"===v||""===v||void 0===v)return d(k,10);if("b"===v)return d(k,2);if("o"===v)return d(k,8);if("x"===v)return d(k,16);if("X"===v)return d(k,16).toUpperCase();if("f"===v||"F"===v||"e"===v||"E"===v||"g"===v||"G"===v){if(C)throw new a.builtin.ValueError("Alternate form (#) not allowed in float format specifier");return"string"==typeof(e=a.builtin.asnum$(k))&&(e=Number(e)),1/0===e?S("","inf"):-1/0===e?S("-","inf"):isNaN(e)?S("","nan"):(h=["toExponential","toFixed","toPrecision"]["efg".indexOf(v.toLowerCase())],void 0!==y&&""!==y||("e"===v||"E"===v||"%"===v?y=6:"f"!==v&&"F"!==v||(y=6)),h=e[h](y),-1!=="EFG".indexOf(v)&&(h=h.toUpperCase()),d(h,10))}if("c"===v){if("number"==typeof k)return S("",String.fromCharCode(k));if(k instanceof a.builtin.int_)return S("",String.fromCharCode(k.v));if(k instanceof a.builtin.float_)return S("",String.fromCharCode(k.v));if(k instanceof a.builtin.lng)return S("",String.fromCharCode(k.str$(10,!1)[0]));if(k.constructor===a.builtin.str)return S("",k.v.substr(0,1));throw new a.builtin.TypeError("an integer is required")}return N?(void 0===y&&(y=7),d(100*k,10)):void 0}),new a.builtin.str(t)};l.co_kwargs=!0,a.builtin.str.prototype.format=new a.builtin.func(l),a.builtin.tuple=function(e){var t;if(!(this instanceof a.builtin.tuple))return new a.builtin.tuple(e);if(void 0===e&&(e=[]),"[object Array]"===Object.prototype.toString.apply(e))this.v=e;else{if(!a.builtin.checkIterable(e))throw new a.builtin.TypeError("expecting Array or iterable");for(this.v=[],t=(e=a.abstr.iter(e)).tp$iternext();void 0!==t;t=e.tp$iternext())this.v.push(t)}return this.__class__=a.builtin.tuple,this.v=this.v,this},a.abstr.setUpInheritance("tuple",a.builtin.tuple,a.builtin.seqtype),a.builtin.tuple.prototype.$r=function(){var e,t;if(0===this.v.length)return new a.builtin.str("()");for(t=[],e=0;e<this.v.length;++e)t[e]=a.misceval.objectRepr(this.v[e]).v;return e=t.join(", "),1===this.v.length&&(e+=","),new a.builtin.str("("+e+")")},a.builtin.tuple.prototype.mp$subscript=function(e){var t,n;if(a.misceval.isIndex(e)){if(void 0!==(n=a.misceval.asIndex(e))){if(0>n&&(n=this.v.length+n),0>n||n>=this.v.length)throw new a.builtin.IndexError("tuple index out of range");return this.v[n]}}else if(e instanceof a.builtin.slice)return t=[],e.sssiter$(this,function(e,n){t.push(n.v[e])}),new a.builtin.tuple(t);throw new a.builtin.TypeError("tuple indices must be integers, not "+a.abstr.typeName(e))},a.builtin.tuple.prototype.tp$hash=function(){var e,t,n=1000003,i=3430008,r=this.v.length;for(t=0;t<r;++t){if(-1===(e=a.builtin.hash(this.v[t]).v))return new a.builtin.int_(-1);i=(i^e)*n,n+=82520+r+r}return-1===(i+=97531)&&(i=-2),new a.builtin.int_(0|i)},a.builtin.tuple.prototype.sq$repeat=function(e){var t,n,i;for(e=a.misceval.asIndex(e),i=[],n=0;n<e;++n)for(t=0;t<this.v.length;++t)i.push(this.v[t]);return new a.builtin.tuple(i)},a.builtin.tuple.prototype.nb$multiply=a.builtin.tuple.prototype.sq$repeat,a.builtin.tuple.prototype.nb$inplace_multiply=a.builtin.tuple.prototype.sq$repeat,a.builtin.tuple.prototype.__iter__=new a.builtin.func(function(e){return a.builtin.pyCheckArgs("__iter__",arguments,1,1),new a.builtin.tuple_iter_(e)}),a.builtin.tuple.prototype.tp$iter=function(){return new a.builtin.tuple_iter_(this)},a.builtin.tuple.prototype.tp$richcompare=function(e,t){var n,i,r,o;if(!e.__class__||!a.misceval.isTrue(a.builtin.isinstance(e,a.builtin.tuple)))return"Eq"!==t&&"NotEq"===t;for(o=this.v,e=e.v,r=o.length,i=e.length,n=0;n<r&&n<i&&a.misceval.richCompareBool(o[n],e[n],"Eq");++n);if(n>=r||n>=i)switch(t){case"Lt":return r<i;case"LtE":return r<=i;case"Eq":return r===i;case"NotEq":return r!==i;case"Gt":return r>i;case"GtE":return r>=i;default:s.asserts.fail()}return"Eq"!==t&&("NotEq"===t||a.misceval.richCompareBool(o[n],e[n],t))},a.builtin.tuple.prototype.sq$concat=function(e){if(e.__class__!=a.builtin.tuple)throw e='can only concatenate tuple (not "'+a.abstr.typeName(e)+'") to tuple',new a.builtin.TypeError(e);return new a.builtin.tuple(this.v.concat(e.v))},a.builtin.tuple.prototype.sq$contains=function(e){var t,n;for(n=(t=this.tp$iter()).tp$iternext();void 0!==n;n=t.tp$iternext())if(a.misceval.richCompareBool(n,e,"Eq"))return!0;return!1},a.builtin.tuple.prototype.nb$add=a.builtin.tuple.prototype.sq$concat,a.builtin.tuple.prototype.nb$inplace_add=a.builtin.tuple.prototype.sq$concat,a.builtin.tuple.prototype.sq$length=function(){return this.v.length},a.builtin.tuple.prototype.index=new a.builtin.func(function(e,t){var n,i=e.v.length,r=e.v;for(n=0;n<i;++n)if(a.misceval.richCompareBool(r[n],t,"Eq"))return new a.builtin.int_(n);throw new a.builtin.ValueError("tuple.index(x): x not in tuple")}),a.builtin.tuple.prototype.count=new a.builtin.func(function(e,t){var n,i=e.v.length,r=e.v,o=0;for(n=0;n<i;++n)a.misceval.richCompareBool(r[n],t,"Eq")&&(o+=1);return new a.builtin.int_(o)}),s.exportSymbol("Sk.builtin.tuple",a.builtin.tuple),a.builtin.tuple_iter_=function(e){return this instanceof a.builtin.tuple_iter_?(this.$index=0,this.$obj=e.v.slice(),this.sq$length=this.$obj.length,this.tp$iter=this,this.tp$iternext=function(){return this.$index>=this.sq$length?void 0:this.$obj[this.$index++]},this.$r=function(){return new a.builtin.str("tupleiterator")},this):new a.builtin.tuple_iter_(e)},a.abstr.setUpInheritance("tupleiterator",a.builtin.tuple_iter_,a.builtin.object),a.builtin.tuple_iter_.prototype.__class__=a.builtin.tuple_iter_,a.builtin.tuple_iter_.prototype.__iter__=new a.builtin.func(function(e){return e}),a.builtin.tuple_iter_.prototype.next=new a.builtin.func(function(e){if(void 0===(e=e.tp$iternext()))throw new a.builtin.StopIteration;return e}),a.builtin.dict=function(e){var t,n,i;if(!(this instanceof a.builtin.dict))return new a.builtin.dict(e);if(void 0===e&&(e=[]),this.size=0,this.buckets={},"[object Array]"===Object.prototype.toString.apply(e))for(t=0;t<e.length;t+=2)this.mp$ass_subscript(e[t],e[t+1]);else if(e instanceof a.builtin.dict)for(i=(n=a.abstr.iter(e)).tp$iternext();void 0!==i;i=n.tp$iternext())void 0===(t=e.mp$subscript(i))&&(t=null),this.mp$ass_subscript(i,t);else{if(!a.builtin.checkIterable(e))throw new a.builtin.TypeError("object is not iterable");for(t=(n=a.abstr.iter(e)).tp$iternext();void 0!==t;t=n.tp$iternext()){if(!t.mp$subscript)throw new a.builtin.TypeError("element "+this.size+" is not a sequence");this.mp$ass_subscript(t.mp$subscript(0),t.mp$subscript(1))}}return this.__class__=a.builtin.dict,this},a.abstr.setUpInheritance("dict",a.builtin.dict,a.builtin.object),a.abstr.markUnhashable(a.builtin.dict);var u=a.builtin.hash;a.builtin.dict.prototype.key$lookup=function(e,t){var n,i;for(i=0;i<e.items.length;i++)if(n=e.items[i],a.misceval.richCompareBool(n.lhs,t,"Eq"))return n;return null},a.builtin.dict.prototype.key$pop=function(e,t){var n,i;for(i=0;i<e.items.length;i++)if(n=e.items[i],a.misceval.richCompareBool(n.lhs,t,"Eq"))return e.items.splice(i,1),this.size-=1,n},a.builtin.dict.prototype.mp$lookup=function(e){var t=u(e);if(void 0!==(t=this.buckets[t.v])&&(e=this.key$lookup(t,e)))return e.rhs},a.builtin.dict.prototype.mp$subscript=function(e){var t;if(a.builtin.pyCheckArgs("[]",arguments,1,2,!1,!1),void 0!==(t=this.mp$lookup(e)))return t;throw t=new a.builtin.str(e),new a.builtin.KeyError(t.v)},a.builtin.dict.prototype.sq$contains=function(e){return a.builtin.pyCheckArgs("__contains__()",arguments,1,1,!1,!1),void 0!==this.mp$lookup(e)},a.builtin.dict.prototype.mp$ass_subscript=function(e,t){var n=u(e),i=this.buckets[n.v];void 0===i?(i={$hash:n,items:[{lhs:e,rhs:t}]},this.buckets[n.v]=i,this.size+=1):(n=this.key$lookup(i,e))?n.rhs=t:(i.items.push({lhs:e,rhs:t}),this.size+=1)},a.builtin.dict.prototype.mp$del_subscript=function(e){a.builtin.pyCheckArgs("del",arguments,1,1,!1,!1);var t=u(e);if(void 0===(t=this.buckets[t.v])||void 0===(t=this.key$pop(t,e)))throw t=new a.builtin.str(e),new a.builtin.KeyError(t.v)},a.builtin.dict.prototype.$r=function(){var e,t,n,i=[];for(n=(t=a.abstr.iter(this)).tp$iternext();void 0!==n;n=t.tp$iternext())void 0===(e=this.mp$subscript(n))&&(e=null),e===this?i.push(a.misceval.objectRepr(n).v+": {...}"):i.push(a.misceval.objectRepr(n).v+": "+a.misceval.objectRepr(e).v);return new a.builtin.str("{"+i.join(", ")+"}")},a.builtin.dict.prototype.mp$length=function(){return this.size},a.builtin.dict.prototype.get=new a.builtin.func(function(e,t,n){var i;return a.builtin.pyCheckArgs("get()",arguments,1,2,!1,!0),void 0===n&&(n=a.builtin.none.none$),void 0===(i=e.mp$lookup(t))&&(i=n),i}),a.builtin.dict.prototype.pop=new a.builtin.func(function(e,t,n){a.builtin.pyCheckArgs("pop()",arguments,1,2,!1,!0);var i=u(t);if(void 0!==(i=e.buckets[i.v])&&void 0!==(i=e.key$pop(i,t)))return i.rhs;if(void 0!==n)return n;throw i=new a.builtin.str(t),new a.builtin.KeyError(i.v)}),a.builtin.dict.prototype.has_key=new a.builtin.func(function(e,t){return a.builtin.pyCheckArgs("has_key()",arguments,1,1,!1,!0),new a.builtin.bool(e.sq$contains(t))}),a.builtin.dict.prototype.items=new a.builtin.func(function(e){a.builtin.pyCheckArgs("items()",arguments,0,0,!1,!0);var t,n,i,r=[];for(i=(n=a.abstr.iter(e)).tp$iternext();void 0!==i;i=n.tp$iternext())void 0===(t=e.mp$subscript(i))&&(t=null),r.push(new a.builtin.tuple([i,t]));return new a.builtin.list(r)}),a.builtin.dict.prototype.keys=new a.builtin.func(function(e){a.builtin.pyCheckArgs("keys()",arguments,0,0,!1,!0);var t,n,i=[];for(n=(t=a.abstr.iter(e)).tp$iternext();void 0!==n;n=t.tp$iternext())i.push(n);return new a.builtin.list(i)}),a.builtin.dict.prototype.values=new a.builtin.func(function(e){a.builtin.pyCheckArgs("values()",arguments,0,0,!1,!0);var t,n,i=[];for(t=(n=a.abstr.iter(e)).tp$iternext();void 0!==t;t=n.tp$iternext())void 0===(t=e.mp$subscript(t))&&(t=null),i.push(t);return new a.builtin.list(i)}),a.builtin.dict.prototype.clear=new a.builtin.func(function(e){var t,n;for(a.builtin.pyCheckArgs("clear()",arguments,0,0,!1,!0),t=(n=a.abstr.iter(e)).tp$iternext();void 0!==t;t=n.tp$iternext())e.mp$del_subscript(t)}),a.builtin.dict.prototype.setdefault=new a.builtin.func(function(e,t,n){try{return e.mp$subscript(t)}catch(i){return void 0===n&&(n=a.builtin.none.none$),e.mp$ass_subscript(t,n),n}}),a.builtin.dict.prototype.dict_merge=function(e){var t,n,i;if(e instanceof a.builtin.dict)for(n=(t=e.tp$iter()).tp$iternext();void 0!==n;n=t.tp$iternext()){if(void 0===(i=e.mp$subscript(n)))throw new a.builtin.AttributeError("cannot get item for key: "+n.v);this.mp$ass_subscript(n,i)}else for(t=a.misceval.callsim(e.keys,e),n=(t=a.abstr.iter(t)).tp$iternext();void 0!==n;n=t.tp$iternext()){if(void 0===(i=e.tp$getitem(n)))throw new a.builtin.AttributeError("cannot get item for key: "+n.v);this.mp$ass_subscript(n,i)}};var c,p,f=function(e,t,n){if(void 0===n||"dict"!==n.tp$name&&!n.keys){if(void 0!==n&&a.builtin.checkIterable(n)){var i,r=0;for(i=(n=a.abstr.iter(n)).tp$iternext();void 0!==i;i=n.tp$iternext(),r++){if(!a.builtin.checkIterable(i))throw new a.builtin.TypeError("cannot convert dictionary update sequence element #"+r+" to a sequence");if(2!==i.sq$length())throw new a.builtin.ValueError("dictionary update sequence element #"+r+" has length "+i.sq$length()+"; 2 is required");var o=a.abstr.iter(i);i=o.tp$iternext(),o=o.tp$iternext(),t.mp$ass_subscript(i,o)}}else if(void 0!==n)throw new a.builtin.TypeError("'"+a.abstr.typeName(n)+"' object is not iterable")}else t.dict_merge(n);return e=new a.builtins.dict(e),t.dict_merge(e),a.builtin.none.none$};for(f.co_kwargs=!0,a.builtin.dict.prototype.update=new a.builtin.func(f),a.builtin.dict.prototype.__contains__=new a.builtin.func(function(e,t){return a.builtin.pyCheckArgs("__contains__",arguments,1,1,!1,!0),a.builtin.dict.prototype.sq$contains.call(e,t)}),a.builtin.dict.prototype.__cmp__=new a.builtin.func(function(e,t,n){return a.builtin.NotImplemented.NotImplemented$}),a.builtin.dict.prototype.__delitem__=new a.builtin.func(function(e,t){return a.builtin.pyCheckArgs("__delitem__",arguments,1,1,!1,!0),a.builtin.dict.prototype.mp$del_subscript.call(e,t)}),a.builtin.dict.prototype.__getitem__=new a.builtin.func(function(e,t){return a.builtin.pyCheckArgs("__getitem__",arguments,1,1,!1,!0),a.builtin.dict.prototype.mp$subscript.call(e,t)}),a.builtin.dict.prototype.__setitem__=new a.builtin.func(function(e,t,n){return a.builtin.pyCheckArgs("__setitem__",arguments,2,2,!1,!0),a.builtin.dict.prototype.mp$ass_subscript.call(e,t,n)}),a.builtin.dict.prototype.__hash__=new a.builtin.func(function(e){return a.builtin.pyCheckArgs("__hash__",arguments,0,0,!1,!0),a.builtin.dict.prototype.tp$hash.call(e)}),a.builtin.dict.prototype.__len__=new a.builtin.func(function(e){return a.builtin.pyCheckArgs("__len__",arguments,0,0,!1,!0),a.builtin.dict.prototype.mp$length.call(e)}),a.builtin.dict.prototype.__getattr__=new a.builtin.func(function(e,t){if(a.builtin.pyCheckArgs("__getattr__",arguments,1,1,!1,!0),!a.builtin.checkString(t))throw new a.builtin.TypeError("__getattr__ requires a string");return a.builtin.dict.prototype.tp$getattr.call(e,a.ffi.remapToJs(t))}),a.builtin.dict.prototype.__iter__=new a.builtin.func(function(e){return a.builtin.pyCheckArgs("__iter__",arguments,0,0,!1,!0),new a.builtin.dict_iter_(e)}),a.builtin.dict.prototype.tp$iter=function(){return new a.builtin.dict_iter_(this)},a.builtin.dict.prototype.__repr__=new a.builtin.func(function(e){return a.builtin.pyCheckArgs("__repr__",arguments,0,0,!1,!0),a.builtin.dict.prototype.$r.call(e)}),a.builtin.dict.prototype.ob$eq=function(e){var t,n,i;if(this===e)return a.builtin.bool.true$;if(!(e instanceof a.builtin.dict))return a.builtin.NotImplemented.NotImplemented$;if(this.size!==e.size)return a.builtin.bool.false$;for(n=(t=this.tp$iter()).tp$iternext();void 0!==n;n=t.tp$iternext())if(i=this.mp$subscript(n),n=e.mp$subscript(n),!a.misceval.richCompareBool(i,n,"Eq"))return a.builtin.bool.false$;return a.builtin.bool.true$},a.builtin.dict.prototype.ob$ne=function(e){return(e=this.ob$eq(e))instanceof a.builtin.NotImplemented?e:e.v?a.builtin.bool.false$:a.builtin.bool.true$},a.builtin.dict.prototype.copy=new a.builtin.func(function(e){throw new a.builtin.NotImplementedError("dict.copy is not yet implemented in Skulpt")}),a.builtin.dict.prototype.fromkeys=new a.builtin.func(function(e,t){throw new a.builtin.NotImplementedError("dict.fromkeys is not yet implemented in Skulpt")}),a.builtin.dict.prototype.iteritems=new a.builtin.func(function(e){throw new a.builtin.NotImplementedError("dict.iteritems is not yet implemented in Skulpt")}),a.builtin.dict.prototype.iterkeys=new a.builtin.func(function(e){throw new a.builtin.NotImplementedError("dict.iterkeys is not yet implemented in Skulpt")}),a.builtin.dict.prototype.itervalues=new a.builtin.func(function(e){throw new a.builtin.NotImplementedError("dict.itervalues is not yet implemented in Skulpt")}),a.builtin.dict.prototype.popitem=new a.builtin.func(function(e){throw new a.builtin.NotImplementedError("dict.popitem is not yet implemented in Skulpt")}),a.builtin.dict.prototype.viewitems=new a.builtin.func(function(e){throw new a.builtin.NotImplementedError("dict.viewitems is not yet implemented in Skulpt")}),a.builtin.dict.prototype.viewkeys=new a.builtin.func(function(e){throw new a.builtin.NotImplementedError("dict.viewkeys is not yet implemented in Skulpt")}),a.builtin.dict.prototype.viewvalues=new a.builtin.func(function(e){throw new a.builtin.NotImplementedError("dict.viewvalues is not yet implemented in Skulpt")}),s.exportSymbol("Sk.builtin.dict",a.builtin.dict),a.builtin.dict_iter_=function(e){var t,n,i,r;if(!(this instanceof a.builtin.dict_iter_))return new a.builtin.dict_iter_(e);for(t in this.$index=0,this.$obj=e,i=[],r=e.buckets)if(r.hasOwnProperty(t)&&(n=r[t])&&void 0!==n.$hash&&void 0!==n.items)for(e=0;e<n.items.length;e++)i.push(n.items[e].lhs);return this.$keys=i,this.tp$iter=this,this.tp$iternext=function(){return this.$index>=this.$keys.length?void 0:this.$keys[this.$index++]},this.$r=function(){return new a.builtin.str("dictionary-keyiterator")},this},a.abstr.setUpInheritance("dictionary-keyiterator",a.builtin.dict_iter_,a.builtin.object),a.builtin.dict_iter_.prototype.__class__=a.builtin.dict_iter_,a.builtin.dict_iter_.prototype.__iter__=new a.builtin.func(function(e){return e}),a.builtin.dict_iter_.prototype.next=new a.builtin.func(function(e){if(void 0===(e=e.tp$iternext()))throw new a.builtin.StopIteration;return e}),a.builtin.numtype=function(){throw new a.builtin.ExternalError("Cannot instantiate abstract Sk.builtin.numtype class")},a.abstr.setUpInheritance("NumericType",a.builtin.numtype,a.builtin.object),a.builtin.numtype.sk$abstract=!0,a.builtin.numtype.prototype.__abs__=new a.builtin.func(function(e){if(void 0===e.nb$abs)throw new a.builtin.NotImplementedError("__abs__ is not yet implemented");return a.builtin.pyCheckArgs("__abs__",arguments,0,0,!1,!0),e.nb$abs()}),a.builtin.numtype.prototype.__neg__=new a.builtin.func(function(e){if(void 0===e.nb$negative)throw new a.builtin.NotImplementedError("__neg__ is not yet implemented");return a.builtin.pyCheckArgs("__neg__",arguments,0,0,!1,!0),e.nb$negative()}),a.builtin.numtype.prototype.__pos__=new a.builtin.func(function(e){if(void 0===e.nb$positive)throw new a.builtin.NotImplementedError("__pos__ is not yet implemented");return a.builtin.pyCheckArgs("__pos__",arguments,0,0,!1,!0),e.nb$positive()}),a.builtin.numtype.prototype.__int__=new a.builtin.func(function(e){if(void 0===e.nb$int_)throw new a.builtin.NotImplementedError("__int__ is not yet implemented");return a.builtin.pyCheckArgs("__int__",arguments,0,0,!1,!0),e.nb$int_()}),a.builtin.numtype.prototype.__long__=new a.builtin.func(function(e){if(void 0===e.nb$lng)throw new a.builtin.NotImplementedError("__long__ is not yet implemented");return a.builtin.pyCheckArgs("__long__",arguments,0,0,!1,!0),e.nb$lng()}),a.builtin.numtype.prototype.__float__=new a.builtin.func(function(e){if(void 0===e.nb$float_)throw new a.builtin.NotImplementedError("__float__ is not yet implemented");return a.builtin.pyCheckArgs("__float__",arguments,0,0,!1,!0),e.nb$float_()}),a.builtin.numtype.prototype.__add__=new a.builtin.func(function(e,t){if(void 0===e.nb$add)throw new a.builtin.NotImplementedError("__add__ is not yet implemented");return a.builtin.pyCheckArgs("__add__",arguments,1,1,!1,!0),e.nb$add(t)}),a.builtin.numtype.prototype.__radd__=new a.builtin.func(function(e,t){if(void 0===e.nb$reflected_add)throw new a.builtin.NotImplementedError("__radd__ is not yet implemented");return a.builtin.pyCheckArgs("__radd__",arguments,1,1,!1,!0),e.nb$reflected_add(t)}),a.builtin.numtype.prototype.__sub__=new a.builtin.func(function(e,t){if(void 0===e.nb$subtract)throw new a.builtin.NotImplementedError("__sub__ is not yet implemented");return a.builtin.pyCheckArgs("__sub__",arguments,1,1,!1,!0),e.nb$subtract(t)}),a.builtin.numtype.prototype.__rsub__=new a.builtin.func(function(e,t){if(void 0===e.nb$reflected_subtract)throw new a.builtin.NotImplementedError("__rsub__ is not yet implemented");return a.builtin.pyCheckArgs("__rsub__",arguments,1,1,!1,!0),e.nb$reflected_subtract(t)}),a.builtin.numtype.prototype.__mul__=new a.builtin.func(function(e,t){if(void 0===e.nb$multiply)throw new a.builtin.NotImplementedError("__mul__ is not yet implemented");return a.builtin.pyCheckArgs("__mul__",arguments,1,1,!1,!0),e.nb$multiply(t)}),a.builtin.numtype.prototype.__rmul__=new a.builtin.func(function(e,t){if(void 0===e.nb$reflected_multiply)throw new a.builtin.NotImplementedError("__rmul__ is not yet implemented");return a.builtin.pyCheckArgs("__rmul__",arguments,1,1,!1,!0),e.nb$reflected_multiply(t)}),a.builtin.numtype.prototype.__div__=new a.builtin.func(function(e,t){if(void 0===e.nb$divide)throw new a.builtin.NotImplementedError("__div__ is not yet implemented");return a.builtin.pyCheckArgs("__div__",arguments,1,1,!1,!0),e.nb$divide(t)}),a.builtin.numtype.prototype.__rdiv__=new a.builtin.func(function(e,t){if(void 0===e.nb$reflected_divide)throw new a.builtin.NotImplementedError("__rdiv__ is not yet implemented");return a.builtin.pyCheckArgs("__rdiv__",arguments,1,1,!1,!0),e.nb$reflected_divide(t)}),a.builtin.numtype.prototype.__floordiv__=new a.builtin.func(function(e,t){if(void 0===e.nb$floor_divide)throw new a.builtin.NotImplementedError("__floordiv__ is not yet implemented");return a.builtin.pyCheckArgs("__floordiv__",arguments,1,1,!1,!0),e.nb$floor_divide(t)}),a.builtin.numtype.prototype.__rfloordiv__=new a.builtin.func(function(e,t){if(void 0===e.nb$reflected_floor_divide)throw new a.builtin.NotImplementedError("__rfloordiv__ is not yet implemented");return a.builtin.pyCheckArgs("__rfloordiv__",arguments,1,1,!1,!0),e.nb$reflected_floor_divide(t)}),a.builtin.numtype.prototype.__mod__=new a.builtin.func(function(e,t){if(void 0===e.nb$remainder)throw new a.builtin.NotImplementedError("__mod__ is not yet implemented");return a.builtin.pyCheckArgs("__mod__",arguments,1,1,!1,!0),e.nb$remainder(t)}),a.builtin.numtype.prototype.__rmod__=new a.builtin.func(function(e,t){if(void 0===e.nb$reflected_remainder)throw new a.builtin.NotImplementedError("__rmod__ is not yet implemented");return a.builtin.pyCheckArgs("__rmod__",arguments,1,1,!1,!0),e.nb$reflected_remainder(t)}),a.builtin.numtype.prototype.__divmod__=new a.builtin.func(function(e,t){if(void 0===e.nb$divmod)throw new a.builtin.NotImplementedError("__divmod__ is not yet implemented");return a.builtin.pyCheckArgs("__divmod__",arguments,1,1,!1,!0),e.nb$divmod(t)}),a.builtin.numtype.prototype.__rdivmod__=new a.builtin.func(function(e,t){if(void 0===e.nb$reflected_divmod)throw new a.builtin.NotImplementedError("__rdivmod__ is not yet implemented");return a.builtin.pyCheckArgs("__rdivmod__",arguments,1,1,!1,!0),e.nb$reflected_divmod(t)}),a.builtin.numtype.prototype.__pow__=new a.builtin.func(function(e,t){if(void 0===e.nb$power)throw new a.builtin.NotImplementedError("__pow__ is not yet implemented");return a.builtin.pyCheckArgs("__pow__",arguments,1,1,!1,!0),e.nb$power(t)}),a.builtin.numtype.prototype.__rpow__=new a.builtin.func(function(e,t){if(void 0===e.nb$reflected_power)throw new a.builtin.NotImplementedError("__rpow__ is not yet implemented");return a.builtin.pyCheckArgs("__rpow__",arguments,1,1,!1,!0),e.nb$reflected_power(t)}),a.builtin.numtype.prototype.__coerce__=new a.builtin.func(function(e,t){throw new a.builtin.NotImplementedError("__coerce__ is not yet implemented")}),a.builtin.numtype.prototype.nb$add=function(e){return a.builtin.NotImplemented.NotImplemented$},a.builtin.numtype.prototype.nb$reflected_add=function(e){return a.builtin.NotImplemented.NotImplemented$},a.builtin.numtype.prototype.nb$inplace_add=function(e){return a.builtin.NotImplemented.NotImplemented$},a.builtin.numtype.prototype.nb$subtract=function(e){return a.builtin.NotImplemented.NotImplemented$},a.builtin.numtype.prototype.nb$reflected_subtract=function(e){return a.builtin.NotImplemented.NotImplemented$},a.builtin.numtype.prototype.nb$inplace_subtract=function(e){return a.builtin.NotImplemented.NotImplemented$},a.builtin.numtype.prototype.nb$multiply=function(e){return a.builtin.NotImplemented.NotImplemented$},a.builtin.numtype.prototype.nb$reflected_multiply=function(e){return a.builtin.NotImplemented.NotImplemented$},a.builtin.numtype.prototype.nb$inplace_multiply=function(e){return a.builtin.NotImplemented.NotImplemented$},a.builtin.numtype.prototype.nb$divide=function(e){return a.builtin.NotImplemented.NotImplemented$},a.builtin.numtype.prototype.nb$reflected_divide=function(e){return a.builtin.NotImplemented.NotImplemented$},a.builtin.numtype.prototype.nb$inplace_divide=function(e){return a.builtin.NotImplemented.NotImplemented$},a.builtin.numtype.prototype.nb$floor_divide=function(e){return a.builtin.NotImplemented.NotImplemented$},a.builtin.numtype.prototype.nb$reflected_floor_divide=function(e){return a.builtin.NotImplemented.NotImplemented$},a.builtin.numtype.prototype.nb$inplace_floor_divide=function(e){return a.builtin.NotImplemented.NotImplemented$},a.builtin.numtype.prototype.nb$remainder=function(e){return a.builtin.NotImplemented.NotImplemented$},a.builtin.numtype.prototype.nb$reflected_remainder=function(e){return a.builtin.NotImplemented.NotImplemented$},a.builtin.numtype.prototype.nb$inplace_remainder=function(e){return a.builtin.NotImplemented.NotImplemented$},a.builtin.numtype.prototype.nb$divmod=function(e){return a.builtin.NotImplemented.NotImplemented$},a.builtin.numtype.prototype.nb$reflected_divmod=function(e){return a.builtin.NotImplemented.NotImplemented$},a.builtin.numtype.prototype.nb$power=function(e,t){return a.builtin.NotImplemented.NotImplemented$},a.builtin.numtype.prototype.nb$reflected_power=function(e,t){return a.builtin.NotImplemented.NotImplemented$},a.builtin.numtype.prototype.nb$inplace_power=function(e){return a.builtin.NotImplemented.NotImplemented$},a.builtin.numtype.prototype.nb$abs=function(){return a.builtin.NotImplemented.NotImplemented$},a.builtin.numtype.prototype.nb$negative=function(){return a.builtin.NotImplemented.NotImplemented$},a.builtin.numtype.prototype.nb$positive=function(){return a.builtin.NotImplemented.NotImplemented$},a.builtin.numtype.prototype.nb$nonzero=function(){return a.builtin.NotImplemented.NotImplemented$},a.builtin.numtype.prototype.nb$isnegative=function(){return a.builtin.NotImplemented.NotImplemented$},a.builtin.numtype.prototype.nb$ispositive=function(){return a.builtin.NotImplemented.NotImplemented$},a.builtin.biginteger=function(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))},a.builtin.biginteger.canary=0xdeadbeefcafe,a.builtin.biginteger.j_lm=15715070==(16777215&a.builtin.biginteger.canary),a.builtin.biginteger.nbi=function(){return new a.builtin.biginteger(null)},a.builtin.biginteger.prototype.am1=function(e,t,n,i,r,o){for(var s;0<=--o;)s=t*this[e++]+n[i]+r,r=Math.floor(s/67108864),n[i++]=67108863&s;return r},a.builtin.biginteger.prototype.am2=function(e,t,n,i,r,o){for(var s,a,l=32767&t,u=t>>15;0<=--o;)r=((a=l*(a=32767&this[e])+((32767&(t=u*a+(s=this[e++]>>15)*l))<<15)+n[i]+(1073741823&r))>>>30)+(t>>>15)+u*s+(r>>>30),n[i++]=1073741823&a;return r},a.builtin.biginteger.prototype.am3=function(e,t,n,i,r,o){for(var s,a,l=16383&t,u=t>>14;0<=--o;)r=((a=l*(a=16383&this[e])+((16383&(t=u*a+(s=this[e++]>>14)*l))<<14)+n[i]+r)>>28)+(t>>14)+u*s,n[i++]=268435455&a;return r},a.builtin.biginteger.prototype.am=a.builtin.biginteger.prototype.am3,a.builtin.biginteger.dbits=28,a.builtin.biginteger.prototype.DB=a.builtin.biginteger.dbits,a.builtin.biginteger.prototype.DM=(1<<a.builtin.biginteger.dbits)-1,a.builtin.biginteger.prototype.DV=1<<a.builtin.biginteger.dbits,a.builtin.biginteger.BI_FP=52,a.builtin.biginteger.prototype.FV=Math.pow(2,a.builtin.biginteger.BI_FP),a.builtin.biginteger.prototype.F1=a.builtin.biginteger.BI_FP-a.builtin.biginteger.dbits,a.builtin.biginteger.prototype.F2=2*a.builtin.biginteger.dbits-a.builtin.biginteger.BI_FP,a.builtin.biginteger.BI_RM="0123456789abcdefghijklmnopqrstuvwxyz",a.builtin.biginteger.BI_RC=[],c=48,p=0;9>=p;++p)a.builtin.biginteger.BI_RC[c++]=p;for(c=97,p=10;36>p;++p)a.builtin.biginteger.BI_RC[c++]=p;for(c=65,p=10;36>p;++p)a.builtin.biginteger.BI_RC[c++]=p;a.builtin.biginteger.int2char=function(e){return a.builtin.biginteger.BI_RM.charAt(e)},a.builtin.biginteger.intAt=function(e,t){var n=a.builtin.biginteger.BI_RC[e.charCodeAt(t)];return null==n?-1:n},a.builtin.biginteger.prototype.bnpCopyTo=function(e){var t;for(t=this.t-1;0<=t;--t)e[t]=this[t];e.t=this.t,e.s=this.s},a.builtin.biginteger.prototype.bnpFromInt=function(e){this.t=1,this.s=0>e?-1:0,0<e?this[0]=e:-1>e?this[0]=e+this.DV:this.t=0},a.builtin.biginteger.nbv=function(e){var t=new a.builtin.biginteger(null);return t.bnpFromInt(e),t},a.builtin.biginteger.prototype.bnpFromString=function(e,t){var n,i,r,o,s;if(16==t)s=4;else if(8==t)s=3;else if(256==t)s=8;else if(2==t)s=1;else if(32==t)s=5;else{if(4!=t)return void this.fromRadix(e,t);s=2}for(this.s=this.t=0,i=e.length,r=!1,o=0;0<=--i;)0>(n=8==s?255&e[i]:a.builtin.biginteger.intAt(e,i))?"-"==e.charAt(i)&&(r=!0):(r=!1,0===o?this[this.t++]=n:o+s>this.DB?(this[this.t-1]|=(n&(1<<this.DB-o)-1)<<o,this[this.t++]=n>>this.DB-o):this[this.t-1]|=n<<o,(o+=s)>=this.DB&&(o-=this.DB));8==s&&0!=(128&e[0])&&(this.s=-1,0<o&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),r&&a.builtin.biginteger.ZERO.subTo(this,this)},a.builtin.biginteger.prototype.bnpClamp=function(){for(var e=this.s&this.DM;0<this.t&&this[this.t-1]==e;)--this.t},a.builtin.biginteger.prototype.bnToString=function(e){var t,n,i,r,o,s;if(0>this.s)return"-"+this.negate().toString(e);if(16==e)s=4;else if(8==e)s=3;else if(2==e)s=1;else if(32==e)s=5;else{if(4!=e)return this.toRadix(e);s=2}if(t=(1<<s)-1,i=!1,r="",o=this.t,e=this.DB-o*this.DB%s,0<o--)for(e<this.DB&&0<(n=this[o]>>e)&&(i=!0,r=a.builtin.biginteger.int2char(n));0<=o;)e<s?(n=(this[o]&(1<<e)-1)<<s-e,n|=this[--o]>>(e+=this.DB-s)):(n=this[o]>>(e-=s)&t,0>=e&&(e+=this.DB,--o)),0<n&&(i=!0),i&&(r+=a.builtin.biginteger.int2char(n));return i?r:"0"},a.builtin.biginteger.prototype.bnNegate=function(){var e=a.builtin.biginteger.nbi();return a.builtin.biginteger.ZERO.subTo(this,e),e},a.builtin.biginteger.prototype.bnAbs=function(){return 0>this.s?this.negate():this},a.builtin.biginteger.prototype.bnCompareTo=function(e){var t,n=this.s-e.s;if(0!==n)return n;if(0!==(n=(t=this.t)-e.t))return 0>this.s?-n:n;for(;0<=--t;)if(0!=(n=this[t]-e[t]))return n;return 0},a.builtin.biginteger.nbits=function(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=e>>1&&(n+=1),n},a.builtin.biginteger.prototype.bnBitLength=function(){return 0>=this.t?0:this.DB*(this.t-1)+a.builtin.biginteger.nbits(this[this.t-1]^this.s&this.DM)},a.builtin.biginteger.prototype.bnpDLShiftTo=function(e,t){var n;for(n=this.t-1;0<=n;--n)t[n+e]=this[n];for(n=e-1;0<=n;--n)t[n]=0;t.t=this.t+e,t.s=this.s},a.builtin.biginteger.prototype.bnpDRShiftTo=function(e,t){var n;for(n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},a.builtin.biginteger.prototype.bnpLShiftTo=function(e,t){var n,i=e%this.DB,r=this.DB-i,o=(1<<r)-1,s=Math.floor(e/this.DB),a=this.s<<i&this.DM;for(n=this.t-1;0<=n;--n)t[n+s+1]=this[n]>>r|a,a=(this[n]&o)<<i;for(n=s-1;0<=n;--n)t[n]=0;t[s]=a,t.t=this.t+s+1,t.s=this.s,t.clamp()},a.builtin.biginteger.prototype.bnpRShiftTo=function(e,t){var n,i,r,o,s;if(t.s=this.s,(s=Math.floor(e/this.DB))>=this.t)t.t=0;else{for(o=e%this.DB,r=this.DB-o,i=(1<<o)-1,t[0]=this[s]>>o,n=s+1;n<this.t;++n)t[n-s-1]|=(this[n]&i)<<r,t[n-s]=this[n]>>o;0<o&&(t[this.t-s-1]|=(this.s&i)<<r),t.t=this.t-s,t.clamp()}},a.builtin.biginteger.prototype.bnpSubTo=function(e,t){for(var n=0,i=0,r=Math.min(e.t,this.t);n<r;)i+=this[n]-e[n],t[n++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i-=e.s;n<this.t;)i+=this[n],t[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<e.t;)i-=e[n],t[n++]=i&this.DM,i>>=this.DB;i-=e.s}t.s=0>i?-1:0,-1>i?t[n++]=this.DV+i:0<i&&(t[n++]=i),t.t=n,t.clamp()},a.builtin.biginteger.prototype.bnpMultiplyTo=function(e,t){var n=this.abs(),i=e.abs(),r=n.t;for(t.t=r+i.t;0<=--r;)t[r]=0;for(r=0;r<i.t;++r)t[r+n.t]=n.am(0,i[r],t,r,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&a.builtin.biginteger.ZERO.subTo(t,t)},a.builtin.biginteger.prototype.bnpSquareTo=function(e){for(var t,n=this.abs(),i=e.t=2*n.t;0<=--i;)e[i]=0;for(i=0;i<n.t-1;++i)t=n.am(i,n[i],e,2*i,0,1),(e[i+n.t]+=n.am(i+1,2*n[i],e,2*i+1,t,n.t-i-1))>=n.DV&&(e[i+n.t]-=n.DV,e[i+n.t+1]=1);0<e.t&&(e[e.t-1]+=n.am(i,n[i],e,2*i,0,1)),e.s=0,e.clamp()},a.builtin.biginteger.prototype.bnpDivRemTo=function(e,t,n){var i,r,o,s,l,u,c,p,f,d,h,m;if(!(0>=(p=e.abs()).t))if((l=this.abs()).t<p.t)null!=t&&t.fromInt(0),null!=n&&this.copyTo(n);else if(null==n&&(n=a.builtin.biginteger.nbi()),d=a.builtin.biginteger.nbi(),h=this.s,m=e.s,0<(e=this.DB-a.builtin.biginteger.nbits(p[p.t-1]))?(p.lShiftTo(e,d),l.lShiftTo(e,n)):(p.copyTo(d),l.copyTo(n)),0!==(p=d[(f=d.t)-1])){for(i=p*(1<<this.F1)+(1<f?d[f-2]>>this.F2:0),l=this.FV/i,u=(1<<this.F1)/i,c=1<<this.F2,o=(r=n.t)-f,s=null==t?a.builtin.biginteger.nbi():t,d.dlShiftTo(o,s),0<=n.compareTo(s)&&(n[n.t++]=1,n.subTo(s,n)),a.builtin.biginteger.ONE.dlShiftTo(f,s),s.subTo(d,d);d.t<f;)d[d.t++]=0;for(;0<=--o;)if(i=n[--r]==p?this.DM:Math.floor(n[r]*l+(n[r-1]+c)*u),(n[r]+=d.am(0,i,n,o,0,f))<i)for(d.dlShiftTo(o,s),n.subTo(s,n);n[r]<--i;)n.subTo(s,n);null!=t&&(n.drShiftTo(f,t),h!=m&&a.builtin.biginteger.ZERO.subTo(t,t)),n.t=f,n.clamp(),0<e&&n.rShiftTo(e,n),0>h&&a.builtin.biginteger.ZERO.subTo(n,n)}},a.builtin.biginteger.prototype.bnMod=function(e){var t=a.builtin.biginteger.nbi();return this.abs().divRemTo(e,null,t),0>this.s&&0<t.compareTo(a.builtin.biginteger.ZERO)&&e.subTo(t,t),t},a.builtin.biginteger.Classic=function(e){this.m=e},a.builtin.biginteger.prototype.cConvert=function(e){return 0>e.s||0<=e.compareTo(this.m)?e.mod(this.m):e},a.builtin.biginteger.prototype.cRevert=function(e){return e},a.builtin.biginteger.prototype.cReduce=function(e){e.divRemTo(this.m,null,e)},a.builtin.biginteger.prototype.cMulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},a.builtin.biginteger.prototype.cSqrTo=function(e,t){e.squareTo(t),this.reduce(t)},a.builtin.biginteger.Classic.prototype.convert=a.builtin.biginteger.prototype.cConvert,a.builtin.biginteger.Classic.prototype.revert=a.builtin.biginteger.prototype.cRevert,a.builtin.biginteger.Classic.prototype.reduce=a.builtin.biginteger.prototype.cReduce,a.builtin.biginteger.Classic.prototype.mulTo=a.builtin.biginteger.prototype.cMulTo,a.builtin.biginteger.Classic.prototype.sqrTo=a.builtin.biginteger.prototype.cSqrTo,a.builtin.biginteger.prototype.bnpInvDigit=function(){var e,t;return 1>this.t?0:0==(1&(t=this[0]))?0:0<(e=(e=(e=(e=(e=3&t)*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)?this.DV-e:-e},a.builtin.biginteger.Montgomery=function(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t},a.builtin.biginteger.prototype.montConvert=function(e){var t=a.builtin.biginteger.nbi();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),0>e.s&&0<t.compareTo(a.builtin.biginteger.ZERO)&&this.m.subTo(t,t),t},a.builtin.biginteger.prototype.montRevert=function(e){var t=a.builtin.biginteger.nbi();return e.copyTo(t),this.reduce(t),t},a.builtin.biginteger.prototype.montReduce=function(e){for(var t,n,i;e.t<=this.mt2;)e[e.t++]=0;for(i=0;i<this.m.t;++i)for(t=(n=32767&e[i])*this.mpl+((n*this.mph+(e[i]>>15)*this.mpl&this.um)<<15)&e.DM,e[n=i+this.m.t]+=this.m.am(0,t,e,i,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++;e.clamp(),e.drShiftTo(this.m.t,e),0<=e.compareTo(this.m)&&e.subTo(this.m,e)},a.builtin.biginteger.prototype.montSqrTo=function(e,t){e.squareTo(t),this.reduce(t)},a.builtin.biginteger.prototype.montMulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},a.builtin.biginteger.Montgomery.prototype.convert=a.builtin.biginteger.prototype.montConvert,a.builtin.biginteger.Montgomery.prototype.revert=a.builtin.biginteger.prototype.montRevert,a.builtin.biginteger.Montgomery.prototype.reduce=a.builtin.biginteger.prototype.montReduce,a.builtin.biginteger.Montgomery.prototype.mulTo=a.builtin.biginteger.prototype.montMulTo,a.builtin.biginteger.Montgomery.prototype.sqrTo=a.builtin.biginteger.prototype.montSqrTo,a.builtin.biginteger.prototype.bnpIsEven=function(){return 0===(0<this.t?1&this[0]:this.s)},a.builtin.biginteger.prototype.bnpExp=function(e,t){var n,i,r,o,s;if(4294967295<e||1>e)return a.builtin.biginteger.ONE;for(i=a.builtin.biginteger.nbi(),r=a.builtin.biginteger.nbi(),o=t.convert(this),s=a.builtin.biginteger.nbits(e)-1,o.copyTo(i);0<=--s;)t.sqrTo(i,r),0<(e&1<<s)?t.mulTo(r,o,i):(n=i,i=r,r=n);return t.revert(i)},a.builtin.biginteger.prototype.bnModPowInt=function(e,t){var n;return n=256>e||t.isEven()?new a.builtin.biginteger.Classic(t):new a.builtin.biginteger.Montgomery(t),this.exp(e,n)},a.builtin.biginteger.prototype.copyTo=a.builtin.biginteger.prototype.bnpCopyTo,a.builtin.biginteger.prototype.fromInt=a.builtin.biginteger.prototype.bnpFromInt,a.builtin.biginteger.prototype.fromString=a.builtin.biginteger.prototype.bnpFromString,a.builtin.biginteger.prototype.clamp=a.builtin.biginteger.prototype.bnpClamp,a.builtin.biginteger.prototype.dlShiftTo=a.builtin.biginteger.prototype.bnpDLShiftTo,a.builtin.biginteger.prototype.drShiftTo=a.builtin.biginteger.prototype.bnpDRShiftTo,a.builtin.biginteger.prototype.lShiftTo=a.builtin.biginteger.prototype.bnpLShiftTo,a.builtin.biginteger.prototype.rShiftTo=a.builtin.biginteger.prototype.bnpRShiftTo,a.builtin.biginteger.prototype.subTo=a.builtin.biginteger.prototype.bnpSubTo,a.builtin.biginteger.prototype.multiplyTo=a.builtin.biginteger.prototype.bnpMultiplyTo,a.builtin.biginteger.prototype.squareTo=a.builtin.biginteger.prototype.bnpSquareTo,a.builtin.biginteger.prototype.divRemTo=a.builtin.biginteger.prototype.bnpDivRemTo,a.builtin.biginteger.prototype.invDigit=a.builtin.biginteger.prototype.bnpInvDigit,a.builtin.biginteger.prototype.isEven=a.builtin.biginteger.prototype.bnpIsEven,a.builtin.biginteger.prototype.exp=a.builtin.biginteger.prototype.bnpExp,a.builtin.biginteger.prototype.toString=a.builtin.biginteger.prototype.bnToString,a.builtin.biginteger.prototype.negate=a.builtin.biginteger.prototype.bnNegate,a.builtin.biginteger.prototype.abs=a.builtin.biginteger.prototype.bnAbs,a.builtin.biginteger.prototype.compareTo=a.builtin.biginteger.prototype.bnCompareTo,a.builtin.biginteger.prototype.bitLength=a.builtin.biginteger.prototype.bnBitLength,a.builtin.biginteger.prototype.mod=a.builtin.biginteger.prototype.bnMod,a.builtin.biginteger.prototype.modPowInt=a.builtin.biginteger.prototype.bnModPowInt,a.builtin.biginteger.ZERO=a.builtin.biginteger.nbv(0),a.builtin.biginteger.ONE=a.builtin.biginteger.nbv(1),a.builtin.biginteger.prototype.bnClone=function(){var e=a.builtin.biginteger.nbi();return this.copyTo(e),e},a.builtin.biginteger.prototype.bnIntValue=function(){if(0>this.s){if(1==this.t)return this[0]-this.DV;if(0===this.t)return-1}else{if(1==this.t)return this[0];if(0===this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},a.builtin.biginteger.prototype.bnByteValue=function(){return 0===this.t?this.s:this[0]<<24>>24},a.builtin.biginteger.prototype.bnShortValue=function(){return 0===this.t?this.s:this[0]<<16>>16},a.builtin.biginteger.prototype.bnpChunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},a.builtin.biginteger.prototype.bnSigNum=function(){return 0>this.s?-1:0>=this.t||1==this.t&&0>=this[0]?0:1},a.builtin.biginteger.prototype.bnpToRadix=function(e){var t,n,i,r,o;if(null==e&&(e=10),0===this.signum()||2>e||36<e)return"0";for(t=this.chunkSize(e),o=Math.pow(e,t),t=a.builtin.biginteger.nbv(o),n=a.builtin.biginteger.nbi(),i=a.builtin.biginteger.nbi(),r="",this.divRemTo(t,n,i);0<n.signum();)r=(o+i.intValue()).toString(e).substr(1)+r,n.divRemTo(t,n,i);return i.intValue().toString(e)+r},a.builtin.biginteger.prototype.bnpFromRadix=function(e,t){var n,i,r,o,s,l,u;for(this.fromInt(0),null==t&&(t=10),u=this.chunkSize(t),r=Math.pow(t,u),o=!1,i=l=s=0;i<e.length;++i)if(0>(n=a.builtin.biginteger.intAt(e,i))){if("-"==e.charAt(i)&&0===this.signum()&&(o=!0),"."==e.charAt(i))break}else l=t*l+n,++s>=u&&(this.dMultiply(r),this.dAddOffset(l,0),l=s=0);0<s&&(this.dMultiply(Math.pow(t,s)),this.dAddOffset(l,0)),o&&a.builtin.biginteger.ZERO.subTo(this,this)},a.builtin.biginteger.prototype.bnpFromNumber=function(e,t,n){if("number"==typeof t)if(2>e)this.fromInt(1);else for(this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(a.builtin.biginteger.ONE.shiftLeft(e-1),a.builtin.biginteger.op_or,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(a.builtin.biginteger.ONE.shiftLeft(e-1),this);this.fromString(e+"")},a.builtin.biginteger.prototype.bnToByteArray=function(){var e,t,n,i=this.t,r=[];if(r[0]=this.s,e=this.DB-i*this.DB%8,n=0,0<i--)for(e<this.DB&&(t=this[i]>>e)!=(this.s&this.DM)>>e&&(r[n++]=t|this.s<<this.DB-e);0<=i;)8>e?(t=(this[i]&(1<<e)-1)<<8-e,t|=this[--i]>>(e+=this.DB-8)):(t=this[i]>>(e-=8)&255,0>=e&&(e+=this.DB,--i)),0!=(128&t)&&(t|=-256),0===n&&(128&this.s)!=(128&t)&&++n,(0<n||t!=this.s)&&(r[n++]=t);return r},a.builtin.biginteger.prototype.bnEquals=function(e){return 0===this.compareTo(e)},a.builtin.biginteger.prototype.bnMin=function(e){return 0>this.compareTo(e)?this:e},a.builtin.biginteger.prototype.bnMax=function(e){return 0<this.compareTo(e)?this:e},a.builtin.biginteger.prototype.bnpBitwiseTo=function(e,t,n){var i,r,o=Math.min(e.t,this.t);for(i=0;i<o;++i)n[i]=t(this[i],e[i]);if(e.t<this.t){for(r=e.s&this.DM,i=o;i<this.t;++i)n[i]=t(this[i],r);n.t=this.t}else{for(r=this.s&this.DM,i=o;i<e.t;++i)n[i]=t(r,e[i]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()},a.builtin.biginteger.op_and=function(e,t){return e&t},a.builtin.biginteger.prototype.bnAnd=function(e){var t=a.builtin.biginteger.nbi();return this.bitwiseTo(e,a.builtin.biginteger.op_and,t),t},a.builtin.biginteger.op_or=function(e,t){return e|t},a.builtin.biginteger.prototype.bnOr=function(e){var t=a.builtin.biginteger.nbi();return this.bitwiseTo(e,a.builtin.biginteger.op_or,t),t},a.builtin.biginteger.op_xor=function(e,t){return e^t},a.builtin.biginteger.prototype.bnXor=function(e){var t=a.builtin.biginteger.nbi();return this.bitwiseTo(e,a.builtin.biginteger.op_xor,t),t},a.builtin.biginteger.op_andnot=function(e,t){return e&~t},a.builtin.biginteger.prototype.bnAndNot=function(e){var t=a.builtin.biginteger.nbi();return this.bitwiseTo(e,a.builtin.biginteger.op_andnot,t),t},a.builtin.biginteger.prototype.bnNot=function(){var e,t=a.builtin.biginteger.nbi();for(e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t},a.builtin.biginteger.prototype.bnShiftLeft=function(e){var t=a.builtin.biginteger.nbi();return 0>e?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},a.builtin.biginteger.prototype.bnShiftRight=function(e){var t=a.builtin.biginteger.nbi();return 0>e?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},a.builtin.biginteger.lbit=function(e){var t;return 0===e?-1:(t=0,0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t)},a.builtin.biginteger.prototype.bnGetLowestSetBit=function(){var e;for(e=0;e<this.t;++e)if(0!==this[e])return e*this.DB+a.builtin.biginteger.lbit(this[e]);return 0>this.s?this.t*this.DB:-1},a.builtin.biginteger.cbit=function(e){for(var t=0;0!==e;)e&=e-1,++t;return t},a.builtin.biginteger.prototype.bnBitCount=function(){var e,t=0,n=this.s&this.DM;for(e=0;e<this.t;++e)t+=a.builtin.biginteger.cbit(this[e]^n);return t},a.builtin.biginteger.prototype.bnTestBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!==this.s:0!=(this[t]&1<<e%this.DB)},a.builtin.biginteger.prototype.bnpChangeBit=function(e,t){var n=a.builtin.biginteger.ONE.shiftLeft(e);return this.bitwiseTo(n,t,n),n},a.builtin.biginteger.prototype.bnSetBit=function(e){return this.changeBit(e,a.builtin.biginteger.op_or)},a.builtin.biginteger.prototype.bnClearBit=function(e){return this.changeBit(e,a.builtin.biginteger.op_andnot)},a.builtin.biginteger.prototype.bnFlipBit=function(e){return this.changeBit(e,a.builtin.biginteger.op_xor)},a.builtin.biginteger.prototype.bnpAddTo=function(e,t){for(var n=0,i=0,r=Math.min(e.t,this.t);n<r;)i+=this[n]+e[n],t[n++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i+=e.s;n<this.t;)i+=this[n],t[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<e.t;)i+=e[n],t[n++]=i&this.DM,i>>=this.DB;i+=e.s}t.s=0>i?-1:0,0<i?t[n++]=i:-1>i&&(t[n++]=this.DV+i),t.t=n,t.clamp()},a.builtin.biginteger.prototype.bnAdd=function(e){var t=a.builtin.biginteger.nbi();return this.addTo(e,t),t},a.builtin.biginteger.prototype.bnSubtract=function(e){var t=a.builtin.biginteger.nbi();return this.subTo(e,t),t},a.builtin.biginteger.prototype.bnMultiply=function(e){var t=a.builtin.biginteger.nbi();return this.multiplyTo(e,t),t},a.builtin.biginteger.prototype.bnDivide=function(e){var t=a.builtin.biginteger.nbi();return this.divRemTo(e,t,null),t},a.builtin.biginteger.prototype.bnRemainder=function(e){var t=a.builtin.biginteger.nbi();return this.divRemTo(e,null,t),t},a.builtin.biginteger.prototype.bnDivideAndRemainder=function(e){var t=a.builtin.biginteger.nbi(),n=a.builtin.biginteger.nbi();return this.divRemTo(e,t,n),[t,n]},a.builtin.biginteger.prototype.bnpDMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},a.builtin.biginteger.prototype.bnpDAddOffset=function(e,t){if(0!==e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},a.builtin.biginteger.NullExp=function(){},a.builtin.biginteger.prototype.nNop=function(e){return e},a.builtin.biginteger.prototype.nMulTo=function(e,t,n){e.multiplyTo(t,n)},a.builtin.biginteger.prototype.nSqrTo=function(e,t){e.squareTo(t)},a.builtin.biginteger.NullExp.prototype.convert=a.builtin.biginteger.prototype.nNop,a.builtin.biginteger.NullExp.prototype.revert=a.builtin.biginteger.prototype.nNop,a.builtin.biginteger.NullExp.prototype.mulTo=a.builtin.biginteger.prototype.nMulTo,a.builtin.biginteger.NullExp.prototype.sqrTo=a.builtin.biginteger.prototype.nSqrTo,a.builtin.biginteger.prototype.bnPow=function(e){return this.exp(e,new a.builtin.biginteger.NullExp)},a.builtin.biginteger.prototype.bnpMultiplyLowerTo=function(e,t,n){var i,r=Math.min(this.t+e.t,t);for(n.s=0,n.t=r;0<r;)n[--r]=0;for(i=n.t-this.t;r<i;++r)n[r+this.t]=this.am(0,e[r],n,r,0,this.t);for(i=Math.min(e.t,t);r<i;++r)this.am(0,e[r],n,r,0,t-r);n.clamp()},a.builtin.biginteger.prototype.bnpMultiplyUpperTo=function(e,t,n){var i;for(--t,i=n.t=this.t+e.t-t,n.s=0;0<=--i;)n[i]=0;for(i=Math.max(t-this.t,0);i<e.t;++i)n[this.t+i-t]=this.am(t-i,e[i],n,0,0,this.t+i-t);n.clamp(),n.drShiftTo(1,n)},a.builtin.biginteger.Barrett=function(e){this.r2=a.builtin.biginteger.nbi(),this.q3=a.builtin.biginteger.nbi(),a.builtin.biginteger.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e},a.builtin.biginteger.prototype.barrettConvert=function(e){var t;return 0>e.s||e.t>2*this.m.t?e.mod(this.m):0>e.compareTo(this.m)?e:(t=a.builtin.biginteger.nbi(),e.copyTo(t),this.reduce(t),t)},a.builtin.biginteger.prototype.barrettRevert=function(e){return e},a.builtin.biginteger.prototype.barrettReduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);0>e.compareTo(this.r2);)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);0<=e.compareTo(this.m);)e.subTo(this.m,e)},a.builtin.biginteger.prototype.barrettSqrTo=function(e,t){e.squareTo(t),this.reduce(t)},a.builtin.biginteger.prototype.barrettMulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},a.builtin.biginteger.Barrett.prototype.convert=a.builtin.biginteger.prototype.barrettConvert,a.builtin.biginteger.Barrett.prototype.revert=a.builtin.biginteger.prototype.barrettRevert,a.builtin.biginteger.Barrett.prototype.reduce=a.builtin.biginteger.prototype.barrettReduce,a.builtin.biginteger.Barrett.prototype.mulTo=a.builtin.biginteger.prototype.barrettMulTo,a.builtin.biginteger.Barrett.prototype.sqrTo=a.builtin.biginteger.prototype.barrettSqrTo,a.builtin.biginteger.prototype.bnModPow=function(e,t){var n,i,r,o,s,l,u,c,p,f,d=e.bitLength(),h=a.builtin.biginteger.nbv(1);if(0>=d)return h;if(p=18>d?1:48>d?3:144>d?4:768>d?5:6,f=8>d?new a.builtin.biginteger.Classic(t):t.isEven()?new a.builtin.biginteger.Barrett(t):new a.builtin.biginteger.Montgomery(t),s=3,u=p-1,c=(1<<p)-1,(l=[])[1]=f.convert(this),1<p)for(n=a.builtin.biginteger.nbi(),f.sqrTo(l[1],n);s<=c;)l[s]=a.builtin.biginteger.nbi(),f.mulTo(n,l[s-2],l[s]),s+=2;for(n=e.t-1,r=!0,o=a.builtin.biginteger.nbi(),d=a.builtin.biginteger.nbits(e[n])-1;0<=n;){for(d>=u?i=e[n]>>d-u&c:(i=(e[n]&(1<<d+1)-1)<<u-d,0<n&&(i|=e[n-1]>>this.DB+d-u)),s=p;0==(1&i);)i>>=1,--s;if(0>(d-=s)&&(d+=this.DB,--n),r)l[i].copyTo(h),r=!1;else{for(;1<s;)f.sqrTo(h,o),f.sqrTo(o,h),s-=2;0<s?f.sqrTo(h,o):(s=h,h=o,o=s),f.mulTo(o,l[i],h)}for(;0<=n&&0==(e[n]&1<<d);)f.sqrTo(h,o),s=h,h=o,o=s,0>--d&&(d=this.DB-1,--n)}return f.revert(h)},a.builtin.biginteger.prototype.bnGCD=function(e){var t,n,i=0>this.s?this.negate():this.clone();if(e=0>e.s?e.negate():e.clone(),0>i.compareTo(e)&&(t=i,i=e,e=t),t=i.getLowestSetBit(),0>(n=e.getLowestSetBit()))return i;for(t<n&&(n=t),0<n&&(i.rShiftTo(n,i),e.rShiftTo(n,e));0<i.signum();)0<(t=i.getLowestSetBit())&&i.rShiftTo(t,i),0<(t=e.getLowestSetBit())&&e.rShiftTo(t,e),0<=i.compareTo(e)?(i.subTo(e,i),i.rShiftTo(1,i)):(e.subTo(i,e),e.rShiftTo(1,e));return 0<n&&e.lShiftTo(n,e),e},a.builtin.biginteger.prototype.bnpModInt=function(e){var t,n,i;if(0>=e)return 0;if(n=this.DV%e,i=0>this.s?e-1:0,0<this.t)if(0===n)i=this[0]%e;else for(t=this.t-1;0<=t;--t)i=(n*i+this[t])%e;return i},a.builtin.biginteger.prototype.bnModInverse=function(e){var t,n,i,r,o,s,l=e.isEven();if(this.isEven()&&l||0===e.signum())return a.builtin.biginteger.ZERO;for(o=e.clone(),s=this.clone(),t=a.builtin.biginteger.nbv(1),n=a.builtin.biginteger.nbv(0),i=a.builtin.biginteger.nbv(0),r=a.builtin.biginteger.nbv(1);0!==o.signum();){for(;o.isEven();)o.rShiftTo(1,o),l?(t.isEven()&&n.isEven()||(t.addTo(this,t),n.subTo(e,n)),t.rShiftTo(1,t)):n.isEven()||n.subTo(e,n),n.rShiftTo(1,n);for(;s.isEven();)s.rShiftTo(1,s),l?(i.isEven()&&r.isEven()||(i.addTo(this,i),r.subTo(e,r)),i.rShiftTo(1,i)):r.isEven()||r.subTo(e,r),r.rShiftTo(1,r);0<=o.compareTo(s)?(o.subTo(s,o),l&&t.subTo(i,t),n.subTo(r,n)):(s.subTo(o,s),l&&i.subTo(t,i),r.subTo(n,r))}return 0!==s.compareTo(a.builtin.biginteger.ONE)?a.builtin.biginteger.ZERO:0<=r.compareTo(e)?r.subtract(e):0>r.signum()?(r.addTo(e,r),0>r.signum()?r.add(e):r):r},a.builtin.biginteger.lowprimes=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],a.builtin.biginteger.lplim=67108864/a.builtin.biginteger.lowprimes[a.builtin.biginteger.lowprimes.length-1],a.builtin.biginteger.prototype.bnIsProbablePrime=function(e){var t,n,i,r=this.abs();if(1==r.t&&r[0]<=a.builtin.biginteger.lowprimes[a.builtin.biginteger.lowprimes.length-1]){for(i=0;i<a.builtin.biginteger.lowprimes.length;++i)if(r[0]==a.builtin.biginteger.lowprimes[i])return!0;return!1}if(r.isEven())return!1;for(i=1;i<a.builtin.biginteger.lowprimes.length;){for(t=a.builtin.biginteger.lowprimes[i],n=i+1;n<a.builtin.biginteger.lowprimes.length&&t<a.builtin.biginteger.lplim;)t*=a.builtin.biginteger.lowprimes[n++];for(t=r.modInt(t);i<n;)if(0==t%a.builtin.biginteger.lowprimes[i++])return!1}return r.millerRabin(e)},a.builtin.biginteger.prototype.bnpMillerRabin=function(e){var t,n,i,r,o,s=this.subtract(a.builtin.biginteger.ONE),l=s.getLowestSetBit();if(0>=l)return!1;for(o=s.shiftRight(l),(e=e+1>>1)>a.builtin.biginteger.lowprimes.length&&(e=a.builtin.biginteger.lowprimes.length),r=a.builtin.biginteger.nbi(),i=0;i<e;++i)if(r.fromInt(a.builtin.biginteger.lowprimes[i]),0!==(n=r.modPow(o,this)).compareTo(a.builtin.biginteger.ONE)&&0!==n.compareTo(s)){for(t=1;t++<l&&0!==n.compareTo(s);)if(0===(n=n.modPowInt(2,this)).compareTo(a.builtin.biginteger.ONE))return!1;if(0!==n.compareTo(s))return!1}return!0},a.builtin.biginteger.prototype.isnegative=function(){return 0>this.s},a.builtin.biginteger.prototype.ispositive=function(){return 0<=this.s},a.builtin.biginteger.prototype.trueCompare=function(e){return 0<=this.s&&0>e.s?1:0>this.s&&0<=e.s?-1:this.compare(e)},a.builtin.biginteger.prototype.chunkSize=a.builtin.biginteger.prototype.bnpChunkSize,a.builtin.biginteger.prototype.toRadix=a.builtin.biginteger.prototype.bnpToRadix,a.builtin.biginteger.prototype.fromRadix=a.builtin.biginteger.prototype.bnpFromRadix,a.builtin.biginteger.prototype.fromNumber=a.builtin.biginteger.prototype.bnpFromNumber,a.builtin.biginteger.prototype.bitwiseTo=a.builtin.biginteger.prototype.bnpBitwiseTo,a.builtin.biginteger.prototype.changeBit=a.builtin.biginteger.prototype.bnpChangeBit,a.builtin.biginteger.prototype.addTo=a.builtin.biginteger.prototype.bnpAddTo,a.builtin.biginteger.prototype.dMultiply=a.builtin.biginteger.prototype.bnpDMultiply,a.builtin.biginteger.prototype.dAddOffset=a.builtin.biginteger.prototype.bnpDAddOffset,a.builtin.biginteger.prototype.multiplyLowerTo=a.builtin.biginteger.prototype.bnpMultiplyLowerTo,a.builtin.biginteger.prototype.multiplyUpperTo=a.builtin.biginteger.prototype.bnpMultiplyUpperTo,a.builtin.biginteger.prototype.modInt=a.builtin.biginteger.prototype.bnpModInt,a.builtin.biginteger.prototype.millerRabin=a.builtin.biginteger.prototype.bnpMillerRabin,a.builtin.biginteger.prototype.clone=a.builtin.biginteger.prototype.bnClone,a.builtin.biginteger.prototype.intValue=a.builtin.biginteger.prototype.bnIntValue,a.builtin.biginteger.prototype.byteValue=a.builtin.biginteger.prototype.bnByteValue,a.builtin.biginteger.prototype.shortValue=a.builtin.biginteger.prototype.bnShortValue,a.builtin.biginteger.prototype.signum=a.builtin.biginteger.prototype.bnSigNum,a.builtin.biginteger.prototype.toByteArray=a.builtin.biginteger.prototype.bnToByteArray,a.builtin.biginteger.prototype.equals=a.builtin.biginteger.prototype.bnEquals,a.builtin.biginteger.prototype.compare=a.builtin.biginteger.prototype.compareTo,a.builtin.biginteger.prototype.min=a.builtin.biginteger.prototype.bnMin,a.builtin.biginteger.prototype.max=a.builtin.biginteger.prototype.bnMax,a.builtin.biginteger.prototype.and=a.builtin.biginteger.prototype.bnAnd,a.builtin.biginteger.prototype.or=a.builtin.biginteger.prototype.bnOr,a.builtin.biginteger.prototype.xor=a.builtin.biginteger.prototype.bnXor,a.builtin.biginteger.prototype.andNot=a.builtin.biginteger.prototype.bnAndNot,a.builtin.biginteger.prototype.not=a.builtin.biginteger.prototype.bnNot,a.builtin.biginteger.prototype.shiftLeft=a.builtin.biginteger.prototype.bnShiftLeft,a.builtin.biginteger.prototype.shiftRight=a.builtin.biginteger.prototype.bnShiftRight,a.builtin.biginteger.prototype.getLowestSetBit=a.builtin.biginteger.prototype.bnGetLowestSetBit,a.builtin.biginteger.prototype.bitCount=a.builtin.biginteger.prototype.bnBitCount,a.builtin.biginteger.prototype.testBit=a.builtin.biginteger.prototype.bnTestBit,a.builtin.biginteger.prototype.setBit=a.builtin.biginteger.prototype.bnSetBit,a.builtin.biginteger.prototype.clearBit=a.builtin.biginteger.prototype.bnClearBit,a.builtin.biginteger.prototype.flipBit=a.builtin.biginteger.prototype.bnFlipBit,a.builtin.biginteger.prototype.add=a.builtin.biginteger.prototype.bnAdd,a.builtin.biginteger.prototype.subtract=a.builtin.biginteger.prototype.bnSubtract,a.builtin.biginteger.prototype.multiply=a.builtin.biginteger.prototype.bnMultiply,a.builtin.biginteger.prototype.divide=a.builtin.biginteger.prototype.bnDivide,a.builtin.biginteger.prototype.remainder=a.builtin.biginteger.prototype.bnRemainder,a.builtin.biginteger.prototype.divideAndRemainder=a.builtin.biginteger.prototype.bnDivideAndRemainder,a.builtin.biginteger.prototype.modPow=a.builtin.biginteger.prototype.bnModPow,a.builtin.biginteger.prototype.modInverse=a.builtin.biginteger.prototype.bnModInverse,a.builtin.biginteger.prototype.pow=a.builtin.biginteger.prototype.bnPow,a.builtin.biginteger.prototype.gcd=a.builtin.biginteger.prototype.bnGCD,a.builtin.biginteger.prototype.isProbablePrime=a.builtin.biginteger.prototype.bnIsProbablePrime,a.builtin.int_=function(e,t){var n,i;if(!(this instanceof a.builtin.int_))return new a.builtin.int_(e,t);if(this instanceof a.builtin.bool)return this;if(e instanceof a.builtin.int_&&void 0===t)return this.v=e.v,this;if(void 0!==t&&!a.builtin.checkInt(t)){if(a.builtin.checkFloat(t))throw new a.builtin.TypeError("integer argument expected, got "+a.abstr.typeName(t));if(t.__index__)t=a.misceval.callsim(t.__index__,t);else{if(!t.__int__)throw new a.builtin.AttributeError(a.abstr.typeName(t)+" instance has no attribute '__index__' or '__int__'");t=a.misceval.callsim(t.__int__,t)}}if(e instanceof a.builtin.str)return t=a.builtin.asnum$(t),(n=a.str2number(e.v,t,parseInt,function(e){return-e},"int"))>a.builtin.int_.threshold$||n<-a.builtin.int_.threshold$?new a.builtin.lng(e,t):(this.v=n,this);if(void 0!==t)throw new a.builtin.TypeError("int() can't convert non-string with explicit base");if(void 0!==e&&e!==a.builtin.none||(e=0),void 0!==e&&e.tp$getattr&&e.tp$getattr("__int__")?(n=a.misceval.callsim(e.tp$getattr("__int__")),i="__int__"):void 0!==e&&e.__int__?(n=a.misceval.callsim(e.__int__,e),i="__int__"):void 0!==e&&e.tp$getattr&&e.tp$getattr("__trunc__")?(n=a.misceval.callsim(e.tp$getattr("__trunc__")),i="__trunc__"):void 0!==e&&e.__trunc__&&(n=a.misceval.callsim(e.__trunc__,e),i="__trunc__"),void 0!==n&&!a.builtin.checkInt(n))throw new a.builtin.TypeError(i+" returned non-Integral (type "+a.abstr.typeName(n)+")");if(void 0!==n&&(e=n),!a.builtin.checkNumber(e))throw new a.builtin.TypeError("int() argument must be a string or a number, not '"+a.abstr.typeName(e)+"'");return(e=a.builtin.asnum$(e))>a.builtin.int_.threshold$||e<-a.builtin.int_.threshold$?new a.builtin.lng(e):(-1<e&&1>e&&(e=0),this.v=parseInt(e,t),this)},a.builtin.int_.$shiftconsts=[.5,1,2,4,8,16,32,64,128,256,512,1024,2048,4096,8192,16384,32768,65536,131072,262144,524288,1048576,2097152,4194304,8388608,16777216,33554432,67108864,134217728,268435456,536870912,1073741824,2147483648,4294967296,8589934592,17179869184,34359738368,68719476736,137438953472,274877906944,549755813888,1099511627776,2199023255552,4398046511104,8796093022208,17592186044416,35184372088832,70368744177664,0x800000000000,281474976710656,562949953421312,0x4000000000000,0x8000000000000,4503599627370496,9007199254740992],a.abstr.setUpInheritance("int",a.builtin.int_,a.builtin.numtype),a.builtin.int_.prototype.nb$int_=function(){return this},a.builtin.int_.prototype.nb$float_=function(){return new a.builtin.float_(this.v)},a.builtin.int_.prototype.nb$lng=function(){return new a.builtin.lng(this.v)},a.builtin.int_.prototype.__trunc__=new a.builtin.func(function(e){return e}),a.builtin.int_.prototype.__index__=new a.builtin.func(function(e){return e}),a.builtin.int_.prototype.__complex__=new a.builtin.func(function(e){return a.builtin.NotImplemented.NotImplemented$}),a.builtin.int_.prototype.tp$index=function(){return this.v},a.builtin.int_.prototype.tp$hash=function(){return new a.builtin.int_(this.v)},a.builtin.int_.threshold$=Math.pow(2,53)-1,a.builtin.int_.prototype.clone=function(){return new a.builtin.int_(this.v)},a.builtin.int_.prototype.nb$add=function(e){return e instanceof a.builtin.int_?new a.builtin.int_(this.v+e.v):e instanceof a.builtin.lng?new a.builtin.lng(this.v).nb$add(e):e instanceof a.builtin.float_?new a.builtin.float_(this.v).nb$add(e):a.builtin.NotImplemented.NotImplemented$},a.builtin.int_.prototype.nb$reflected_add=function(e){return a.builtin.int_.prototype.nb$add.call(this,e)},a.builtin.int_.prototype.nb$subtract=function(e){return e instanceof a.builtin.int_?new a.builtin.int_(this.v-e.v):e instanceof a.builtin.lng?new a.builtin.lng(this.v).nb$subtract(e):e instanceof a.builtin.float_?new a.builtin.float_(this.v).nb$subtract(e):a.builtin.NotImplemented.NotImplemented$},a.builtin.int_.prototype.nb$reflected_subtract=function(e){var t=this.nb$negative();return a.builtin.int_.prototype.nb$add.call(t,e)},a.builtin.int_.prototype.nb$multiply=function(e){var t;return e instanceof a.builtin.int_?(t=this.v*e.v)>a.builtin.int_.threshold$||t<-a.builtin.int_.threshold$?(t=new a.builtin.lng(this.v)).nb$multiply(e):new a.builtin.int_(t):e instanceof a.builtin.lng?(t=new a.builtin.lng(this.v)).nb$multiply(e):e instanceof a.builtin.float_?(t=new a.builtin.float_(this.v)).nb$multiply(e):a.builtin.NotImplemented.NotImplemented$},a.builtin.int_.prototype.nb$reflected_multiply=function(e){return a.builtin.int_.prototype.nb$multiply.call(this,e)},a.builtin.int_.prototype.nb$divide=function(e){return a.python3?new a.builtin.float_(this.v).nb$divide(e):e instanceof a.builtin.int_?this.nb$floor_divide(e):e instanceof a.builtin.lng?new a.builtin.lng(this.v).nb$divide(e):e instanceof a.builtin.float_?new a.builtin.float_(this.v).nb$divide(e):a.builtin.NotImplemented.NotImplemented$},a.builtin.int_.prototype.nb$reflected_divide=function(e){return this.nb$reflected_floor_divide(e)},a.builtin.int_.prototype.nb$floor_divide=function(e){if(e instanceof a.builtin.int_){if(0===e.v)throw new a.builtin.ZeroDivisionError("integer division or modulo by zero");return new a.builtin.int_(Math.floor(this.v/e.v))}return e instanceof a.builtin.lng?new a.builtin.lng(this.v).nb$floor_divide(e):e instanceof a.builtin.float_?new a.builtin.float_(this.v).nb$floor_divide(e):a.builtin.NotImplemented.NotImplemented$},a.builtin.int_.prototype.nb$reflected_floor_divide=function(e){return e instanceof a.builtin.int_?e.nb$divide(this):a.builtin.NotImplemented.NotImplemented$},a.builtin.int_.prototype.nb$remainder=function(e){var t;return e instanceof a.builtin.int_?(t=a.abstr.numberBinOp(this,e,"FloorDiv"),t=a.abstr.numberBinOp(t,e,"Mult"),t=(t=a.abstr.numberBinOp(this,t,"Sub")).v,0>e.v&&0===t?t=-0:0===t&&-1/0==1/0/t&&(t=0),new a.builtin.int_(t)):e instanceof a.builtin.lng?(t=new a.builtin.lng(this.v)).nb$remainder(e):e instanceof a.builtin.float_?(t=new a.builtin.float_(this.v)).nb$remainder(e):a.builtin.NotImplemented.NotImplemented$},a.builtin.int_.prototype.nb$reflected_remainder=function(e){return e instanceof a.builtin.int_?e.nb$remainder(this):a.builtin.NotImplemented.NotImplemented$},a.builtin.int_.prototype.nb$divmod=function(e){return e instanceof a.builtin.int_?new a.builtin.tuple([this.nb$floor_divide(e),this.nb$remainder(e)]):e instanceof a.builtin.lng?new a.builtin.lng(this.v).nb$divmod(e):e instanceof a.builtin.float_?new a.builtin.float_(this.v).nb$divmod(e):a.builtin.NotImplemented.NotImplemented$},a.builtin.int_.prototype.nb$reflected_divmod=function(e){return e instanceof a.builtin.int_?new a.builtin.tuple([e.nb$floor_divide(this),e.nb$remainder(this)]):a.builtin.NotImplemented.NotImplemented$},a.builtin.int_.prototype.nb$power=function(e,t){var n;if(e instanceof a.builtin.int_&&(void 0===t||t instanceof a.builtin.int_)){if((n=Math.pow(this.v,e.v))>a.builtin.int_.threshold$||n<-a.builtin.int_.threshold$?n=(n=new a.builtin.lng(this.v)).nb$power(e,t):n=0>e.v?new a.builtin.float_(n):new a.builtin.int_(n),void 0!==t){if(0>e.v)throw new a.builtin.TypeError("pow() 2nd argument cannot be negative when 3rd argument specified");return n.nb$remainder(t)}return n}return e instanceof a.builtin.lng?(n=new a.builtin.lng(this.v)).nb$power(e):e instanceof a.builtin.float_?(n=new a.builtin.float_(this.v)).nb$power(e):a.builtin.NotImplemented.NotImplemented$},a.builtin.int_.prototype.nb$reflected_power=function(e,t){return e instanceof a.builtin.int_?e.nb$power(this,t):a.builtin.NotImplemented.NotImplemented$},a.builtin.int_.prototype.nb$abs=function(){return new a.builtin.int_(Math.abs(this.v))},a.builtin.int_.prototype.nb$and=function(e){var t;return e instanceof a.builtin.int_&&(e=a.builtin.asnum$(e),void 0!==(t=this.v&e)&&0>t&&(t+=4294967296),void 0!==t)?new a.builtin.int_(t):e instanceof a.builtin.lng?(t=new a.builtin.lng(this.v)).nb$and(e):a.builtin.NotImplemented.NotImplemented$},a.builtin.int_.prototype.nb$reflected_and=a.builtin.int_.prototype.nb$and,a.builtin.int_.prototype.nb$or=function(e){var t;return e instanceof a.builtin.int_&&(e=a.builtin.asnum$(e),void 0!==(t=this.v|e)&&0>t&&(t+=4294967296),void 0!==t)?new a.builtin.int_(t):e instanceof a.builtin.lng?(t=new a.builtin.lng(this.v)).nb$and(e):a.builtin.NotImplemented.NotImplemented$},a.builtin.int_.prototype.nb$reflected_or=a.builtin.int_.prototype.nb$or,a.builtin.int_.prototype.nb$xor=function(e){var t;return e instanceof a.builtin.int_&&(e=a.builtin.asnum$(e),void 0!==(t=this.v^e)&&0>t&&(t+=4294967296),void 0!==t)?new a.builtin.int_(t):e instanceof a.builtin.lng?(t=new a.builtin.lng(this.v)).nb$xor(e):a.builtin.NotImplemented.NotImplemented$},a.builtin.int_.prototype.nb$reflected_xor=a.builtin.int_.prototype.nb$xor,a.builtin.int_.prototype.nb$lshift=function(e){var t;if(0===this.v)return this;if(e instanceof a.builtin.int_){var n=a.builtin.asnum$(e);if(void 0!==n){if(0>n)throw new a.builtin.ValueError("negative shift count");if(53<n)return new a.builtin.lng(this.v).nb$lshift(new a.builtin.int_(n));if((t=2*this.v*a.builtin.int_.$shiftconsts[n])>a.builtin.int_.threshold$||t<-a.builtin.int_.threshold$)return new a.builtin.lng(t)}if(void 0!==t)return new a.builtin.int_(t)}return e instanceof a.builtin.lng?(t=new a.builtin.lng(this.v)).nb$lshift(e):a.builtin.NotImplemented.NotImplemented$},a.builtin.int_.prototype.nb$reflected_lshift=function(e){return e instanceof a.builtin.int_?e.nb$lshift(this):a.builtin.NotImplemented.NotImplemented$},a.builtin.int_.prototype.nb$rshift=function(e){var t;if(e instanceof a.builtin.int_){var n=a.builtin.asnum$(e);if(void 0!==n){if(0>n)throw new a.builtin.ValueError("negative shift count");t=this.v>>n,0<this.v&&0>t&&(t&=Math.pow(2,32-n)-1)}if(void 0!==t)return new a.builtin.int_(t)}return e instanceof a.builtin.lng?(t=new a.builtin.lng(this.v)).nb$rshift(e):a.builtin.NotImplemented.NotImplemented$},a.builtin.int_.prototype.nb$reflected_rshift=function(e){return e instanceof a.builtin.int_?e.nb$rshift(this):a.builtin.NotImplemented.NotImplemented$},a.builtin.int_.prototype.nb$invert=function(){return new a.builtin.int_(~this.v)},a.builtin.int_.prototype.nb$inplace_add=a.builtin.int_.prototype.nb$add,a.builtin.int_.prototype.nb$inplace_subtract=a.builtin.int_.prototype.nb$subtract,a.builtin.int_.prototype.nb$inplace_multiply=a.builtin.int_.prototype.nb$multiply,a.builtin.int_.prototype.nb$inplace_divide=a.builtin.int_.prototype.nb$divide,a.builtin.int_.prototype.nb$inplace_remainder=a.builtin.int_.prototype.nb$remainder,a.builtin.int_.prototype.nb$inplace_floor_divide=a.builtin.int_.prototype.nb$floor_divide,a.builtin.int_.prototype.nb$inplace_power=a.builtin.int_.prototype.nb$power,a.builtin.int_.prototype.nb$inplace_and=a.builtin.int_.prototype.nb$and,a.builtin.int_.prototype.nb$inplace_or=a.builtin.int_.prototype.nb$or,a.builtin.int_.prototype.nb$inplace_xor=a.builtin.int_.prototype.nb$xor,a.builtin.int_.prototype.nb$inplace_lshift=a.builtin.int_.prototype.nb$lshift,a.builtin.int_.prototype.nb$inplace_rshift=a.builtin.int_.prototype.nb$rshift,a.builtin.int_.prototype.nb$negative=function(){return new a.builtin.int_(-this.v)},a.builtin.int_.prototype.nb$positive=function(){return this.clone()},a.builtin.int_.prototype.nb$nonzero=function(){return 0!==this.v},a.builtin.int_.prototype.nb$isnegative=function(){return 0>this.v},a.builtin.int_.prototype.nb$ispositive=function(){return 0<=this.v},a.builtin.int_.prototype.numberCompare=function(e){return e instanceof a.builtin.int_?this.v-e.v:e instanceof a.builtin.lng?-e.longCompare(this):e instanceof a.builtin.float_?-e.numberCompare(this):a.builtin.NotImplemented.NotImplemented$},a.builtin.int_.prototype.ob$eq=function(e){return e instanceof a.builtin.int_||e instanceof a.builtin.lng||e instanceof a.builtin.float_?new a.builtin.bool(0==this.numberCompare(e)):e instanceof a.builtin.none?a.builtin.bool.false$:a.builtin.NotImplemented.NotImplemented$},a.builtin.int_.prototype.ob$ne=function(e){return e instanceof a.builtin.int_||e instanceof a.builtin.lng||e instanceof a.builtin.float_?new a.builtin.bool(0!=this.numberCompare(e)):e instanceof a.builtin.none?a.builtin.bool.true$:a.builtin.NotImplemented.NotImplemented$},a.builtin.int_.prototype.ob$lt=function(e){return e instanceof a.builtin.int_||e instanceof a.builtin.lng||e instanceof a.builtin.float_?new a.builtin.bool(0>this.numberCompare(e)):a.builtin.NotImplemented.NotImplemented$},a.builtin.int_.prototype.ob$le=function(e){return e instanceof a.builtin.int_||e instanceof a.builtin.lng||e instanceof a.builtin.float_?new a.builtin.bool(0>=this.numberCompare(e)):a.builtin.NotImplemented.NotImplemented$},a.builtin.int_.prototype.ob$gt=function(e){return e instanceof a.builtin.int_||e instanceof a.builtin.lng||e instanceof a.builtin.float_?new a.builtin.bool(0<this.numberCompare(e)):a.builtin.NotImplemented.NotImplemented$},a.builtin.int_.prototype.ob$ge=function(e){return e instanceof a.builtin.int_||e instanceof a.builtin.lng||e instanceof a.builtin.float_?new a.builtin.bool(0<=this.numberCompare(e)):a.builtin.NotImplemented.NotImplemented$},a.builtin.int_.prototype.__round__=function(e,t){var n,i;if(a.builtin.pyCheckArgs("__round__",arguments,1,2),void 0!==t&&!a.misceval.isIndex(t))throw new a.builtin.TypeError("'"+a.abstr.typeName(t)+"' object cannot be interpreted as an index");return void 0===t&&(t=0),i=a.builtin.asnum$(e),t=a.misceval.asIndex(t),n=Math.pow(10,t),n=Math.round(i*n)/n,new a.builtin.int_(n)},a.builtin.int_.prototype.conjugate=new a.builtin.func(function(e){return new a.builtin.int_(e.v)}),a.builtin.int_.prototype.$r=function(){return new a.builtin.str(this.str$(10,!0))},a.builtin.int_.prototype.tp$str=function(){return new a.builtin.str(this.str$(10,!0))},a.builtin.int_.prototype.str$=function(e,t){var n;return void 0===t&&(t=!0),n=t?this.v:Math.abs(this.v),void 0===e||10===e?n.toString():n.toString(e)},a.str2number=function(e,t,n,i,r){var o,s,l,u=e,c=!1;if("-"===(e=e.replace(/^\s+|\s+$/g,"")).charAt(0)&&(c=!0,e=e.substring(1)),"+"===e.charAt(0)&&(e=e.substring(1)),void 0===t&&(t=10),(2>t||36<t)&&0!==t)throw new a.builtin.ValueError(r+"() base must be >= 2 and <= 36");if("0x"===e.substring(0,2).toLowerCase()){if(16===t||0===t)e=e.substring(2),t=16;else if(34>t)throw new a.builtin.ValueError("invalid literal for "+r+"() with base "+t+": '"+u+"'")}else if("0b"===e.substring(0,2).toLowerCase()){if(2===t||0===t)e=e.substring(2),t=2;else if(12>t)throw new a.builtin.ValueError("invalid literal for "+r+"() with base "+t+": '"+u+"'")}else if("0o"===e.substring(0,2).toLowerCase()){if(8===t||0===t)e=e.substring(2),t=8;else if(25>t)throw new a.builtin.ValueError("invalid literal for "+r+"() with base "+t+": '"+u+"'")}else if("0"===e.charAt(0)){if("0"===e)return 0;8!==t&&0!==t||(t=8)}if(0===t&&(t=10),0===e.length)throw new a.builtin.ValueError("invalid literal for "+r+"() with base "+t+": '"+u+"'");for(o=0;o<e.length;o+=1)if(l=t,48<=(s=e.charCodeAt(o))&&57>=s?l=s-48:65<=s&&90>=s?l=s-65+10:97<=s&&122>=s&&(l=s-97+10),l>=t)throw new a.builtin.ValueError("invalid literal for "+r+"() with base "+t+": '"+u+"'");return l=n(e,t),c&&(l=i(l)),l},s.exportSymbol("Sk.builtin.int_",a.builtin.int_),a.builtin.bool=function(e){return a.builtin.pyCheckArgs("bool",arguments,1),a.misceval.isTrue(e)?a.builtin.bool.true$:a.builtin.bool.false$},a.abstr.setUpInheritance("bool",a.builtin.bool,a.builtin.int_),a.builtin.bool.prototype.$r=function(){return this.v?new a.builtin.str("True"):new a.builtin.str("False")},a.builtin.bool.prototype.tp$hash=function(){return new a.builtin.int_(this.v)},a.builtin.bool.prototype.__int__=new a.builtin.func(function(e){return e=a.builtin.asnum$(e),new a.builtin.int_(e)}),a.builtin.bool.prototype.__float__=new a.builtin.func(function(e){return new a.builtin.float_(a.ffi.remapToJs(e))}),s.exportSymbol("Sk.builtin.bool",a.builtin.bool),a.builtin.float_=function(e){if(void 0===e)return new a.builtin.float_(0);if(!(this instanceof a.builtin.float_))return new a.builtin.float_(e);if(e instanceof a.builtin.str){if(e.v.match(/^-inf$/i))e=-1/0;else if(e.v.match(/^[+]?inf$/i))e=1/0;else if(e.v.match(/^[-+]?nan$/i))e=NaN;else{if(isNaN(e.v))throw new a.builtin.ValueError("float: Argument: "+e.v+" is not number");e=parseFloat(e.v)}return new a.builtin.float_(e)}if("number"==typeof e||e instanceof a.builtin.int_||e instanceof a.builtin.lng||e instanceof a.builtin.float_)return this.v=a.builtin.asnum$(e),this;if(e instanceof a.builtin.bool)return this.v=a.builtin.asnum$(e),this;if("boolean"==typeof e)return this.v=e?1:0,this;if("string"==typeof e)return this.v=parseFloat(e),this;var t=a.abstr.lookupSpecial(e,"__float__");if(null!=t)return a.misceval.callsim(t,e);throw new a.builtin.TypeError("float() argument must be a string or a number")},a.abstr.setUpInheritance("float",a.builtin.float_,a.builtin.numtype),a.builtin.float_.prototype.nb$int_=function(){var e=0>(e=this.v)?Math.ceil(e):Math.floor(e);return new a.builtin.int_(e)},a.builtin.float_.prototype.nb$float_=function(){return this},a.builtin.float_.prototype.nb$lng=function(){return new a.builtin.lng(this.v)},a.builtin.float_.PyFloat_Check=function(e){return void 0!==e&&!!(a.builtin.checkNumber(e)||a.builtin.checkFloat(e)||a.builtin.issubclass(e.ob$type,a.builtin.float_))},a.builtin.float_.PyFloat_Check_Exact=function(e){return a.builtin.checkFloat(e)},a.builtin.float_.PyFloat_AsDouble=function(e){var t;if(e&&a.builtin.float_.PyFloat_Check(e))return a.ffi.remapToJs(e);if(null==e)throw Error("bad argument for internal PyFloat_AsDouble function");if(null==(t=a.builtin.type.typeLookup(e.ob$type,"__float__")))throw new a.builtin.TypeError("a float is required");if(e=a.misceval.callsim(t,e),!a.builtin.float_.PyFloat_Check(e))throw new a.builtin.TypeError("nb_float should return float object");return a.ffi.remapToJs(e)},a.builtin.float_.prototype.tp$index=function(){return this.v},a.builtin.float_.prototype.tp$hash=function(){return this.nb$int_()},a.builtin.float_.prototype.clone=function(){return new a.builtin.float_(this.v)},a.builtin.float_.prototype.toFixed=function(e){return e=a.builtin.asnum$(e),this.v.toFixed(e)},a.builtin.float_.prototype.nb$add=function(e){return e instanceof a.builtin.int_||e instanceof a.builtin.float_?new a.builtin.float_(this.v+e.v):e instanceof a.builtin.lng?new a.builtin.float_(this.v+parseFloat(e.str$(10,!0))):a.builtin.NotImplemented.NotImplemented$},a.builtin.float_.prototype.nb$reflected_add=function(e){return a.builtin.float_.prototype.nb$add.call(this,e)},a.builtin.float_.prototype.nb$subtract=function(e){return e instanceof a.builtin.int_||e instanceof a.builtin.float_?new a.builtin.float_(this.v-e.v):e instanceof a.builtin.lng?new a.builtin.float_(this.v-parseFloat(e.str$(10,!0))):a.builtin.NotImplemented.NotImplemented$},a.builtin.float_.prototype.nb$reflected_subtract=function(e){var t=this.nb$negative();return a.builtin.float_.prototype.nb$add.call(t,e)},a.builtin.float_.prototype.nb$multiply=function(e){return e instanceof a.builtin.int_||e instanceof a.builtin.float_?new a.builtin.float_(this.v*e.v):e instanceof a.builtin.lng?new a.builtin.float_(this.v*parseFloat(e.str$(10,!0))):a.builtin.NotImplemented.NotImplemented$},a.builtin.float_.prototype.nb$reflected_multiply=function(e){return a.builtin.float_.prototype.nb$multiply.call(this,e)},a.builtin.float_.prototype.nb$divide=function(e){if(e instanceof a.builtin.int_||e instanceof a.builtin.float_){if(0===e.v)throw new a.builtin.ZeroDivisionError("integer division or modulo by zero");return 1/0===this.v?1/0===e.v||-1/0===e.v?new a.builtin.float_(NaN):e.nb$isnegative()?new a.builtin.float_(-1/0):new a.builtin.float_(1/0):-1/0===this.v?1/0===e.v||-1/0===e.v?new a.builtin.float_(NaN):e.nb$isnegative()?new a.builtin.float_(1/0):new a.builtin.float_(-1/0):new a.builtin.float_(this.v/e.v)}if(e instanceof a.builtin.lng){if(0===e.longCompare(a.builtin.biginteger.ZERO))throw new a.builtin.ZeroDivisionError("integer division or modulo by zero");return 1/0===this.v?e.nb$isnegative()?new a.builtin.float_(-1/0):new a.builtin.float_(1/0):-1/0===this.v?e.nb$isnegative()?new a.builtin.float_(1/0):new a.builtin.float_(-1/0):new a.builtin.float_(this.v/parseFloat(e.str$(10,!0)))}return a.builtin.NotImplemented.NotImplemented$},a.builtin.float_.prototype.nb$reflected_divide=function(e){return(e instanceof a.builtin.int_||e instanceof a.builtin.lng)&&(e=new a.builtin.float_(e)),e instanceof a.builtin.float_?e.nb$divide(this):a.builtin.NotImplemented.NotImplemented$},a.builtin.float_.prototype.nb$floor_divide=function(e){if(e instanceof a.builtin.int_||e instanceof a.builtin.float_){if(1/0===this.v||-1/0===this.v)return new a.builtin.float_(NaN);if(0===e.v)throw new a.builtin.ZeroDivisionError("integer division or modulo by zero");return 1/0===e.v?this.nb$isnegative()?new a.builtin.float_(-1):new a.builtin.float_(0):-1/0===e.v?this.nb$isnegative()||!this.nb$nonzero()?new a.builtin.float_(0):new a.builtin.float_(-1):new a.builtin.float_(Math.floor(this.v/e.v))}if(e instanceof a.builtin.lng){if(0===e.longCompare(a.builtin.biginteger.ZERO))throw new a.builtin.ZeroDivisionError("integer division or modulo by zero");return 1/0===this.v||-1/0===this.v?new a.builtin.float_(NaN):new a.builtin.float_(Math.floor(this.v/parseFloat(e.str$(10,!0))))}return a.builtin.NotImplemented.NotImplemented$},a.builtin.float_.prototype.nb$reflected_floor_divide=function(e){return(e instanceof a.builtin.int_||e instanceof a.builtin.lng)&&(e=new a.builtin.float_(e)),e instanceof a.builtin.float_?e.nb$floor_divide(this):a.builtin.NotImplemented.NotImplemented$},a.builtin.float_.prototype.nb$remainder=function(e){var t,n;if(e instanceof a.builtin.int_||e instanceof a.builtin.float_){if(0===e.v)throw new a.builtin.ZeroDivisionError("integer division or modulo by zero");return 0===this.v?new a.builtin.float_(0):1/0===e.v?1/0===this.v||-1/0===this.v?new a.builtin.float_(NaN):this.nb$ispositive()?new a.builtin.float_(this.v):new a.builtin.float_(1/0):(n=this.v%e.v,0>this.v?0<e.v&&0>n&&(n+=e.v):0>e.v&&0!==n&&(n+=e.v),0>e.v&&0===n?n=-0:0===n&&-1/0==1/0/n&&(n=0),new a.builtin.float_(n))}if(e instanceof a.builtin.lng){if(0===e.longCompare(a.builtin.biginteger.ZERO))throw new a.builtin.ZeroDivisionError("integer division or modulo by zero");return 0===this.v?new a.builtin.float_(0):(t=parseFloat(e.str$(10,!0)),0>(n=this.v%t)?0<t&&0!==n&&(n+=t):0>t&&0!==n&&(n+=t),e.nb$isnegative()&&0===n?n=-0:0===n&&-1/0==1/0/n&&(n=0),new a.builtin.float_(n))}return a.builtin.NotImplemented.NotImplemented$},a.builtin.float_.prototype.nb$reflected_remainder=function(e){return(e instanceof a.builtin.int_||e instanceof a.builtin.lng)&&(e=new a.builtin.float_(e)),e instanceof a.builtin.float_?e.nb$remainder(this):a.builtin.NotImplemented.NotImplemented$},a.builtin.float_.prototype.nb$divmod=function(e){return(e instanceof a.builtin.int_||e instanceof a.builtin.lng)&&(e=new a.builtin.float_(e)),e instanceof a.builtin.float_?new a.builtin.tuple([this.nb$floor_divide(e),this.nb$remainder(e)]):a.builtin.NotImplemented.NotImplemented$},a.builtin.float_.prototype.nb$reflected_divmod=function(e){return(e instanceof a.builtin.int_||e instanceof a.builtin.lng)&&(e=new a.builtin.float_(e)),e instanceof a.builtin.float_?new a.builtin.tuple([e.nb$floor_divide(this),e.nb$remainder(this)]):a.builtin.NotImplemented.NotImplemented$},a.builtin.float_.prototype.nb$power=function(e,t){var n;if(e instanceof a.builtin.int_||e instanceof a.builtin.float_){if(0>this.v&&0!=e.v%1)throw new a.builtin.NegativePowerError("cannot raise a negative number to a fractional power");if(0===this.v&&0>e.v)throw new a.builtin.NegativePowerError("cannot raise zero to a negative power");if(n=new a.builtin.float_(Math.pow(this.v,e.v)),1/0===Math.abs(n.v)&&1/0!==Math.abs(this.v)&&1/0!==Math.abs(e.v))throw new a.builtin.OverflowError("Numerical result out of range");return n}if(e instanceof a.builtin.lng){if(0===this.v&&0>e.longCompare(a.builtin.biginteger.ZERO))throw new a.builtin.NegativePowerError("cannot raise zero to a negative power");return new a.builtin.float_(Math.pow(this.v,parseFloat(e.str$(10,!0))))}return a.builtin.NotImplemented.NotImplemented$},a.builtin.float_.prototype.nb$reflected_power=function(e,t){return(e instanceof a.builtin.int_||e instanceof a.builtin.lng)&&(e=new a.builtin.float_(e)),e instanceof a.builtin.float_?e.nb$power(this,t):a.builtin.NotImplemented.NotImplemented$},a.builtin.float_.prototype.nb$abs=function(){return new a.builtin.float_(Math.abs(this.v))},a.builtin.float_.prototype.nb$inplace_add=a.builtin.float_.prototype.nb$add,a.builtin.float_.prototype.nb$inplace_subtract=a.builtin.float_.prototype.nb$subtract,a.builtin.float_.prototype.nb$inplace_multiply=a.builtin.float_.prototype.nb$multiply,a.builtin.float_.prototype.nb$inplace_divide=a.builtin.float_.prototype.nb$divide,a.builtin.float_.prototype.nb$inplace_remainder=a.builtin.float_.prototype.nb$remainder,a.builtin.float_.prototype.nb$inplace_floor_divide=a.builtin.float_.prototype.nb$floor_divide,a.builtin.float_.prototype.nb$inplace_power=a.builtin.float_.prototype.nb$power,a.builtin.float_.prototype.nb$negative=function(){return new a.builtin.float_(-this.v)},a.builtin.float_.prototype.nb$positive=function(){return this.clone()},a.builtin.float_.prototype.nb$nonzero=function(){return 0!==this.v},a.builtin.float_.prototype.nb$isnegative=function(){return 0>this.v},a.builtin.float_.prototype.nb$ispositive=function(){return 0<=this.v},a.builtin.float_.prototype.numberCompare=function(e){if(e instanceof a.builtin.int_||e instanceof a.builtin.float_)return 1/0==this.v&&1/0==e.v||-1/0==this.v&&-1/0==e.v?0:this.v-e.v;if(e instanceof a.builtin.lng){if(0==this.v%1)return new a.builtin.lng(this.v).longCompare(e);if((e=this.nb$subtract(e))instanceof a.builtin.float_)return e.v;if(e instanceof a.builtin.lng)return e.longCompare(a.builtin.biginteger.ZERO)}return a.builtin.NotImplemented.NotImplemented$},a.builtin.float_.prototype.ob$eq=function(e){return e instanceof a.builtin.int_||e instanceof a.builtin.lng||e instanceof a.builtin.float_?new a.builtin.bool(0==this.numberCompare(e)):e instanceof a.builtin.none?a.builtin.bool.false$:a.builtin.NotImplemented.NotImplemented$},a.builtin.float_.prototype.ob$ne=function(e){return e instanceof a.builtin.int_||e instanceof a.builtin.lng||e instanceof a.builtin.float_?new a.builtin.bool(0!=this.numberCompare(e)):e instanceof a.builtin.none?a.builtin.bool.true$:a.builtin.NotImplemented.NotImplemented$},a.builtin.float_.prototype.ob$lt=function(e){return e instanceof a.builtin.int_||e instanceof a.builtin.lng||e instanceof a.builtin.float_?new a.builtin.bool(0>this.numberCompare(e)):a.builtin.NotImplemented.NotImplemented$},a.builtin.float_.prototype.ob$le=function(e){return e instanceof a.builtin.int_||e instanceof a.builtin.lng||e instanceof a.builtin.float_?new a.builtin.bool(0>=this.numberCompare(e)):a.builtin.NotImplemented.NotImplemented$},a.builtin.float_.prototype.ob$gt=function(e){return e instanceof a.builtin.int_||e instanceof a.builtin.lng||e instanceof a.builtin.float_?new a.builtin.bool(0<this.numberCompare(e)):a.builtin.NotImplemented.NotImplemented$},a.builtin.float_.prototype.ob$ge=function(e){return e instanceof a.builtin.int_||e instanceof a.builtin.lng||e instanceof a.builtin.float_?new a.builtin.bool(0<=this.numberCompare(e)):a.builtin.NotImplemented.NotImplemented$},a.builtin.float_.prototype.__round__=function(e,t){var n,i;if(a.builtin.pyCheckArgs("__round__",arguments,1,2),void 0!==t&&!a.misceval.isIndex(t))throw new a.builtin.TypeError("'"+a.abstr.typeName(t)+"' object cannot be interpreted as an index");return void 0===t&&(t=0),i=a.builtin.asnum$(e),t=a.misceval.asIndex(t),n=Math.pow(10,t),n=Math.round(i*n)/n,new a.builtin.float_(n)},a.builtin.float_.prototype.conjugate=new a.builtin.func(function(e){return new a.builtin.float_(e.v)}),a.builtin.float_.prototype.$r=function(){return new a.builtin.str(this.str$(10,!0))},a.builtin.float_.prototype.tp$str=function(){return new a.builtin.str(this.str$(10,!0))},a.builtin.float_.prototype.str$=function(e,t){var n,i,r,o;if(isNaN(this.v))return"nan";if(void 0===t&&(t=!0),1/0==this.v)return"inf";if(-1/0==this.v&&t)return"-inf";if(-1/0==this.v&&!t)return"inf";if(o=t?this.v:Math.abs(this.v),void 0===e||10===e){if(n=(r=o.toPrecision(12)).indexOf("."),i=o.toString().slice(0,n),n=o.toString().slice(n),i.match(/^-?0$/)&&n.slice(1).match(/^0{4,}/)&&(r=12>r.length?o.toExponential():o.toExponential(11)),0>r.indexOf("e")&&0<=r.indexOf(".")){for(;"0"==r.charAt(r.length-1);)r=r.substring(0,r.length-1);"."==r.charAt(r.length-1)&&(r+="0")}r=(r=(r=r.replace(/\.0+e/,"e","i")).replace(/(e[-+])([1-9])$/,"$10$2")).replace(/0+(e.*)/,"$1")}else r=o.toString(e);return 0===this.v&&-1/0==1/this.v&&(r="-"+r),0>r.indexOf(".")&&0>r.indexOf("E")&&0>r.indexOf("e")&&(r+=".0"),r};var d=new a.builtin.ExternalError("Sk.builtin.nmber is deprecated.");a.builtin.nmber=function(e,t){throw new a.builtin.ExternalError("Sk.builtin.nmber is deprecated. Please replace with Sk.builtin.int_, Sk.builtin.float_, or Sk.builtin.assk$.")},a.builtin.nmber.prototype.tp$index=function(){return this.v},a.builtin.nmber.prototype.tp$hash=function(){throw d},a.builtin.nmber.fromInt$=function(e){throw d},a.builtin.nmber.prototype.clone=function(){throw d},a.builtin.nmber.prototype.toFixed=function(e){throw d},a.builtin.nmber.prototype.nb$add=function(e){throw d},a.builtin.nmber.prototype.nb$subtract=function(e){throw d},a.builtin.nmber.prototype.nb$multiply=function(e){throw d},a.builtin.nmber.prototype.nb$divide=function(e){throw d},a.builtin.nmber.prototype.nb$floor_divide=function(e){throw d},a.builtin.nmber.prototype.nb$remainder=function(e){throw d},a.builtin.nmber.prototype.nb$divmod=function(e){throw d},a.builtin.nmber.prototype.nb$power=function(e){throw d},a.builtin.nmber.prototype.nb$and=function(e){throw d},a.builtin.nmber.prototype.nb$or=function(e){throw d},a.builtin.nmber.prototype.nb$xor=function(e){throw d},a.builtin.nmber.prototype.nb$lshift=function(e){throw d},a.builtin.nmber.prototype.nb$rshift=function(e){throw d},a.builtin.nmber.prototype.nb$inplace_add=a.builtin.nmber.prototype.nb$add,a.builtin.nmber.prototype.nb$inplace_subtract=a.builtin.nmber.prototype.nb$subtract,a.builtin.nmber.prototype.nb$inplace_multiply=a.builtin.nmber.prototype.nb$multiply,a.builtin.nmber.prototype.nb$inplace_divide=a.builtin.nmber.prototype.nb$divide,a.builtin.nmber.prototype.nb$inplace_remainder=a.builtin.nmber.prototype.nb$remainder,a.builtin.nmber.prototype.nb$inplace_floor_divide=a.builtin.nmber.prototype.nb$floor_divide,a.builtin.nmber.prototype.nb$inplace_power=a.builtin.nmber.prototype.nb$power,a.builtin.nmber.prototype.nb$inplace_and=a.builtin.nmber.prototype.nb$and,a.builtin.nmber.prototype.nb$inplace_or=a.builtin.nmber.prototype.nb$or,a.builtin.nmber.prototype.nb$inplace_xor=a.builtin.nmber.prototype.nb$xor,a.builtin.nmber.prototype.nb$inplace_lshift=a.builtin.nmber.prototype.nb$lshift,a.builtin.nmber.prototype.nb$inplace_rshift=a.builtin.nmber.prototype.nb$rshift,a.builtin.nmber.prototype.nb$negative=function(){throw d},a.builtin.nmber.prototype.nb$positive=function(){throw d},a.builtin.nmber.prototype.nb$nonzero=function(){throw d},a.builtin.nmber.prototype.nb$isnegative=function(){throw d},a.builtin.nmber.prototype.nb$ispositive=function(){throw d},a.builtin.nmber.prototype.numberCompare=function(e){throw d},a.builtin.nmber.prototype.__eq__=function(e,t){throw d},a.builtin.nmber.prototype.__ne__=function(e,t){throw d},a.builtin.nmber.prototype.__lt__=function(e,t){throw d},a.builtin.nmber.prototype.__le__=function(e,t){throw d},a.builtin.nmber.prototype.__gt__=function(e,t){throw d},a.builtin.nmber.prototype.__ge__=function(e,t){throw d},a.builtin.nmber.prototype.__round__=function(e,t){throw d},a.builtin.nmber.prototype.$r=function(){throw d},a.builtin.nmber.prototype.tp$str=function(){throw d},a.builtin.nmber.prototype.str$=function(e,t){throw d},s.exportSymbol("Sk.builtin.nmber",a.builtin.nmber),a.builtin.lng=function(e,t){if(t=a.builtin.asnum$(t),!(this instanceof a.builtin.lng))return new a.builtin.lng(e,t);if(void 0===e)return this.biginteger=new a.builtin.biginteger(0),this;if(e instanceof a.builtin.lng)return this.biginteger=e.biginteger.clone(),this;if(e instanceof a.builtin.biginteger)return this.biginteger=e,this;if(e instanceof String||"string"==typeof e)return a.longFromStr(e,t);if(e instanceof a.builtin.str)return a.longFromStr(e.v,t);if(void 0!==e&&!a.builtin.checkString(e)&&!a.builtin.checkNumber(e))if(!0===e)e=1;else{if(!1!==e)throw new a.builtin.TypeError("long() argument must be a string or a number, not '"+a.abstr.typeName(e)+"'");e=0}return e=a.builtin.asnum$nofloat(e),this.biginteger=new a.builtin.biginteger(e),this},a.abstr.setUpInheritance("long",a.builtin.lng,a.builtin.numtype),a.builtin.lng.prototype.tp$index=function(){return parseInt(this.str$(10,!0),10)},a.builtin.lng.prototype.tp$hash=function(){return new a.builtin.int_(this.tp$index())},a.builtin.lng.prototype.nb$int_=function(){return this.cantBeInt()?new a.builtin.lng(this):new a.builtin.int_(this.toInt$())},a.builtin.lng.prototype.__index__=new a.builtin.func(function(e){return e.nb$int_(e)}),a.builtin.lng.prototype.nb$lng_=function(){return this},a.builtin.lng.prototype.nb$float_=function(){return new a.builtin.float_(a.ffi.remapToJs(this))},a.builtin.lng.MAX_INT$=new a.builtin.lng(a.builtin.int_.threshold$),a.builtin.lng.MIN_INT$=new a.builtin.lng(-a.builtin.int_.threshold$),a.builtin.lng.prototype.cantBeInt=function(){return 0<this.longCompare(a.builtin.lng.MAX_INT$)||0>this.longCompare(a.builtin.lng.MIN_INT$)},a.builtin.lng.fromInt$=function(e){return new a.builtin.lng(e)},a.longFromStr=function(e,t){var n=a.str2number(e,t,function(e,t){return 10===t?new a.builtin.biginteger(e):new a.builtin.biginteger(e,t)},function(e){return e.negate()},"long");return new a.builtin.lng(n)},s.exportSymbol("Sk.longFromStr",a.longFromStr),a.builtin.lng.prototype.toInt$=function(){return this.biginteger.intValue()},a.builtin.lng.prototype.clone=function(){return new a.builtin.lng(this)},a.builtin.lng.prototype.conjugate=new a.builtin.func(function(e){return e.clone()}),a.builtin.lng.prototype.nb$add=function(e){return e instanceof a.builtin.float_?new a.builtin.float_(this.str$(10,!0)).nb$add(e):(e instanceof a.builtin.int_&&(e=new a.builtin.lng(e.v)),e instanceof a.builtin.lng?new a.builtin.lng(this.biginteger.add(e.biginteger)):e instanceof a.builtin.biginteger?new a.builtin.lng(this.biginteger.add(e)):a.builtin.NotImplemented.NotImplemented$)},a.builtin.lng.prototype.nb$reflected_add=function(e){return a.builtin.lng.prototype.nb$add.call(this,e)},a.builtin.lng.prototype.nb$inplace_add=a.builtin.lng.prototype.nb$add,a.builtin.lng.prototype.nb$subtract=function(e){return e instanceof a.builtin.float_?new a.builtin.float_(this.str$(10,!0)).nb$subtract(e):(e instanceof a.builtin.int_&&(e=new a.builtin.lng(e.v)),e instanceof a.builtin.lng?new a.builtin.lng(this.biginteger.subtract(e.biginteger)):e instanceof a.builtin.biginteger?new a.builtin.lng(this.biginteger.subtract(e)):a.builtin.NotImplemented.NotImplemented$)},a.builtin.lng.prototype.nb$reflected_subtract=function(e){var t=this.nb$negative();return a.builtin.lng.prototype.nb$add.call(t,e)},a.builtin.lng.prototype.nb$inplace_subtract=a.builtin.lng.prototype.nb$subtract,a.builtin.lng.prototype.nb$multiply=function(e){return e instanceof a.builtin.float_?new a.builtin.float_(this.str$(10,!0)).nb$multiply(e):(e instanceof a.builtin.int_&&(e=new a.builtin.lng(e.v)),e instanceof a.builtin.lng?new a.builtin.lng(this.biginteger.multiply(e.biginteger)):e instanceof a.builtin.biginteger?new a.builtin.lng(this.biginteger.multiply(e)):a.builtin.NotImplemented.NotImplemented$)},a.builtin.lng.prototype.nb$reflected_multiply=function(e){return a.builtin.lng.prototype.nb$multiply.call(this,e)},a.builtin.lng.prototype.nb$inplace_multiply=a.builtin.lng.prototype.nb$multiply,a.builtin.lng.prototype.nb$divide=function(e){var t,n;return e instanceof a.builtin.float_?(t=new a.builtin.float_(this.str$(10,!0))).nb$divide(e):(e instanceof a.builtin.int_&&(e=new a.builtin.lng(e.v)),e instanceof a.builtin.lng?(t=this.nb$isnegative(),n=e.nb$isnegative(),t&&!n||n&&!t?0===(e=this.biginteger.divideAndRemainder(e.biginteger))[1].trueCompare(a.builtin.biginteger.ZERO)?new a.builtin.lng(e[0]):(e=e[0].subtract(a.builtin.biginteger.ONE),new a.builtin.lng(e)):new a.builtin.lng(this.biginteger.divide(e.biginteger))):a.builtin.NotImplemented.NotImplemented$)},a.builtin.lng.prototype.nb$reflected_divide=function(e){return e instanceof a.builtin.int_&&(e=new a.builtin.lng(e.v)),e instanceof a.builtin.lng?e.nb$divide(this):a.builtin.NotImplemented.NotImplemented$},a.builtin.lng.prototype.nb$floor_divide=function(e){return e instanceof a.builtin.float_?new a.builtin.float_(this.str$(10,!0)).nb$floor_divide(e):(e instanceof a.builtin.int_&&(e=new a.builtin.lng(e.v)),e instanceof a.builtin.lng?e.nb$divide(this):a.builtin.NotImplemented.NotImplemented$)},a.builtin.lng.prototype.nb$divmod=function(e){return e instanceof a.builtin.int_&&(e=new a.builtin.lng(e.v)),e instanceof a.builtin.lng?new a.builtin.tuple([this.nb$floor_divide(e),this.nb$remainder(e)]):a.builtin.NotImplemented.NotImplemented$},a.builtin.lng.prototype.nb$reflected_divmod=function(e){return e instanceof a.builtin.int_&&(e=new a.builtin.lng(e.v)),e instanceof a.builtin.lng?new a.builtin.tuple([e.nb$floor_divide(this),e.nb$remainder(this)]):a.builtin.NotImplemented.NotImplemented$},a.builtin.lng.prototype.nb$inplace_divide=a.builtin.lng.prototype.nb$divide,a.builtin.lng.prototype.nb$floor_divide=a.builtin.lng.prototype.nb$divide,a.builtin.lng.prototype.nb$reflected_floor_divide=a.builtin.lng.prototype.nb$reflected_divide,a.builtin.lng.prototype.nb$inplace_floor_divide=a.builtin.lng.prototype.nb$floor_divide,a.builtin.lng.prototype.nb$remainder=function(e){var t;return 0===this.biginteger.trueCompare(a.builtin.biginteger.ZERO)?e instanceof a.builtin.float_?new a.builtin.float_(0):new a.builtin.lng(0):e instanceof a.builtin.float_?(t=new a.builtin.float_(this.str$(10,!0))).nb$remainder(e):(e instanceof a.builtin.int_&&(e=new a.builtin.lng(e.v)),e instanceof a.builtin.lng?(t=new a.builtin.lng(this.biginteger.remainder(e.biginteger)),this.nb$isnegative()?e.nb$ispositive()&&t.nb$nonzero()&&(t=t.nb$add(e).nb$remainder(e)):e.nb$isnegative()&&t.nb$nonzero()&&(t=t.nb$add(e)),t):a.builtin.NotImplemented.NotImplemented$)},a.builtin.lng.prototype.nb$reflected_remainder=function(e){return e instanceof a.builtin.int_&&(e=new a.builtin.lng(e.v)),e instanceof a.builtin.lng?e.nb$remainder(this):a.builtin.NotImplemented.NotImplemented$},a.builtin.lng.prototype.nb$inplace_remainder=a.builtin.lng.prototype.nb$remainder,a.builtin.lng.prototype.nb$divmod=function(e){return e===a.builtin.bool.true$&&(e=new a.builtin.lng(1)),e===a.builtin.bool.false$&&(e=new a.builtin.lng(0)),e instanceof a.builtin.int_&&(e=new a.builtin.lng(e.v)),e instanceof a.builtin.lng?new a.builtin.tuple([this.nb$floor_divide(e),this.nb$remainder(e)]):e instanceof a.builtin.float_?new a.builtin.float_(this.str$(10,!0)).nb$divmod(e):a.builtin.NotImplemented.NotImplemented$},a.builtin.lng.prototype.nb$power=function(e,t){return void 0!==t?(e=new a.builtin.biginteger(a.builtin.asnum$(e)),t=new a.builtin.biginteger(a.builtin.asnum$(t)),new a.builtin.lng(this.biginteger.modPowInt(e,t))):e instanceof a.builtin.float_||e instanceof a.builtin.int_&&0>e.v?new a.builtin.float_(this.str$(10,!0)).nb$power(e):(e instanceof a.builtin.int_&&(e=new a.builtin.lng(e.v)),e instanceof a.builtin.lng?void 0!==t?(e=new a.builtin.biginteger(a.builtin.asnum$(e)),t=new a.builtin.biginteger(a.builtin.asnum$(t)),new a.builtin.lng(this.biginteger.modPowInt(e,t))):e.nb$isnegative()?new a.builtin.float_(this.str$(10,!0)).nb$power(e):new a.builtin.lng(this.biginteger.pow(e.biginteger)):e instanceof a.builtin.biginteger?void 0!==t?(t=new a.builtin.biginteger(a.builtin.asnum$(t)),new a.builtin.lng(this.biginteger.modPowInt(e,t))):e.isnegative()?new a.builtin.float_(this.str$(10,!0)).nb$power(e):new a.builtin.lng(this.biginteger.pow(e)):a.builtin.NotImplemented.NotImplemented$)},a.builtin.lng.prototype.nb$reflected_power=function(e,t){return e instanceof a.builtin.int_&&(e=new a.builtin.lng(e.v)),e instanceof a.builtin.lng?e.nb$power(this,t):a.builtin.NotImplemented.NotImplemented$},a.builtin.lng.prototype.nb$inplace_power=a.builtin.lng.prototype.nb$power,a.builtin.lng.prototype.nb$abs=function(){return new a.builtin.lng(this.biginteger.bnAbs())},a.builtin.lng.prototype.nb$lshift=function(e){if(e instanceof a.builtin.int_&&(e=new a.builtin.lng(e.v)),e instanceof a.builtin.lng){if(0>e.biginteger.signum())throw new a.builtin.ValueError("negative shift count");return new a.builtin.lng(this.biginteger.shiftLeft(e.biginteger))}if(e instanceof a.builtin.biginteger){if(0>e.signum())throw new a.builtin.ValueError("negative shift count");return new a.builtin.lng(this.biginteger.shiftLeft(e))}return a.builtin.NotImplemented.NotImplemented$},a.builtin.lng.prototype.nb$reflected_lshift=function(e){return e instanceof a.builtin.int_&&(e=new a.builtin.lng(e.v)),e instanceof a.builtin.lng?e.nb$lshift(this):a.builtin.NotImplemented.NotImplemented$},a.builtin.lng.prototype.nb$inplace_lshift=a.builtin.lng.prototype.nb$lshift,a.builtin.lng.prototype.nb$rshift=function(e){if(e instanceof a.builtin.int_&&(e=new a.builtin.lng(e.v)),e instanceof a.builtin.lng){if(0>e.biginteger.signum())throw new a.builtin.ValueError("negative shift count");return new a.builtin.lng(this.biginteger.shiftRight(e.biginteger))}if(e instanceof a.builtin.biginteger){if(0>e.signum())throw new a.builtin.ValueError("negative shift count");return new a.builtin.lng(this.biginteger.shiftRight(e))}return a.builtin.NotImplemented.NotImplemented$},a.builtin.lng.prototype.nb$reflected_rshift=function(e){return e instanceof a.builtin.int_&&(e=new a.builtin.lng(e.v)),e instanceof a.builtin.lng?e.nb$rshift(this):a.builtin.NotImplemented.NotImplemented$},a.builtin.lng.prototype.nb$inplace_rshift=a.builtin.lng.prototype.nb$rshift,a.builtin.lng.prototype.nb$and=function(e){return e instanceof a.builtin.int_&&(e=new a.builtin.lng(e.v)),e instanceof a.builtin.lng?new a.builtin.lng(this.biginteger.and(e.biginteger)):e instanceof a.builtin.biginteger?new a.builtin.lng(this.biginteger.and(e)):a.builtin.NotImplemented.NotImplemented$},a.builtin.lng.prototype.nb$reflected_and=a.builtin.lng.prototype.nb$and,a.builtin.lng.prototype.nb$inplace_and=a.builtin.lng.prototype.nb$and,a.builtin.lng.prototype.nb$or=function(e){return e instanceof a.builtin.int_&&(e=new a.builtin.lng(e.v)),e instanceof a.builtin.lng?new a.builtin.lng(this.biginteger.or(e.biginteger)):e instanceof a.builtin.biginteger?new a.builtin.lng(this.biginteger.or(e)):a.builtin.NotImplemented.NotImplemented$},a.builtin.lng.prototype.nb$reflected_or=a.builtin.lng.prototype.nb$or,a.builtin.lng.prototype.nb$inplace_or=a.builtin.lng.prototype.nb$or,a.builtin.lng.prototype.nb$xor=function(e){return e instanceof a.builtin.int_&&(e=new a.builtin.lng(e.v)),e instanceof a.builtin.lng?new a.builtin.lng(this.biginteger.xor(e.biginteger)):e instanceof a.builtin.biginteger?new a.builtin.lng(this.biginteger.xor(e)):a.builtin.NotImplemented.NotImplemented$},a.builtin.lng.prototype.nb$reflected_xor=a.builtin.lng.prototype.nb$xor,a.builtin.lng.prototype.nb$inplace_xor=a.builtin.lng.prototype.nb$xor,a.builtin.lng.prototype.nb$negative=function(){return new a.builtin.lng(this.biginteger.negate())},a.builtin.lng.prototype.nb$invert=function(){return new a.builtin.lng(this.biginteger.not())},a.builtin.lng.prototype.nb$positive=function(){return this.clone()},a.builtin.lng.prototype.nb$nonzero=function(){return 0!==this.biginteger.trueCompare(a.builtin.biginteger.ZERO)},a.builtin.lng.prototype.nb$isnegative=function(){return this.biginteger.isnegative()},a.builtin.lng.prototype.nb$ispositive=function(){return!this.biginteger.isnegative()},a.builtin.lng.prototype.longCompare=function(e){return"number"==typeof e&&(e=new a.builtin.lng(e)),e instanceof a.builtin.int_||e instanceof a.builtin.float_&&0==e.v%1?(e=new a.builtin.lng(e.v),this.longCompare(e)):e instanceof a.builtin.float_?new a.builtin.float_(this).numberCompare(e):e instanceof a.builtin.lng?this.biginteger.subtract(e.biginteger):e instanceof a.builtin.biginteger?this.biginteger.subtract(e):a.builtin.NotImplemented.NotImplemented$},a.builtin.lng.prototype.ob$eq=function(e){return e instanceof a.builtin.int_||e instanceof a.builtin.lng||e instanceof a.builtin.float_?new a.builtin.bool(0==this.longCompare(e)):e instanceof a.builtin.none?a.builtin.bool.false$:a.builtin.NotImplemented.NotImplemented$},a.builtin.lng.prototype.ob$ne=function(e){return e instanceof a.builtin.int_||e instanceof a.builtin.lng||e instanceof a.builtin.float_?new a.builtin.bool(0!=this.longCompare(e)):e instanceof a.builtin.none?a.builtin.bool.true$:a.builtin.NotImplemented.NotImplemented$},a.builtin.lng.prototype.ob$lt=function(e){return e instanceof a.builtin.int_||e instanceof a.builtin.lng||e instanceof a.builtin.float_?new a.builtin.bool(0>this.longCompare(e)):a.builtin.NotImplemented.NotImplemented$},a.builtin.lng.prototype.ob$le=function(e){return e instanceof a.builtin.int_||e instanceof a.builtin.lng||e instanceof a.builtin.float_?new a.builtin.bool(0>=this.longCompare(e)):a.builtin.NotImplemented.NotImplemented$},a.builtin.lng.prototype.ob$gt=function(e){return e instanceof a.builtin.int_||e instanceof a.builtin.lng||e instanceof a.builtin.float_?new a.builtin.bool(0<this.longCompare(e)):a.builtin.NotImplemented.NotImplemented$},a.builtin.lng.prototype.ob$ge=function(e){return e instanceof a.builtin.int_||e instanceof a.builtin.lng||e instanceof a.builtin.float_?new a.builtin.bool(0<=this.longCompare(e)):a.builtin.NotImplemented.NotImplemented$},a.builtin.lng.prototype.$r=function(){return new a.builtin.str(this.str$(10,!0)+"L")},a.builtin.lng.prototype.tp$str=function(){return new a.builtin.str(this.str$(10,!0))},a.builtin.lng.prototype.str$=function(e,t){var n;return void 0===t&&(t=!0),n=t?this.biginteger:this.biginteger.abs(),void 0===e||10===e?n.toString():n.toString(e)},Math.hypot=Math.hypot||function(){for(var e=0,t=arguments.length,n=0;n<t;n++){if(1/0===arguments[n]||-1/0===arguments[n])return 1/0;e+=arguments[n]*arguments[n]}return Math.sqrt(e)},a.builtin.complex=function(e,t){a.builtin.pyCheckArgs("complex",arguments,0,2);var n,i,r,o,s,l=!1,u=!1;if(!(this instanceof a.builtin.complex))return new a.builtin.complex(e,t);if(i=t,(n=null==e?a.builtin.bool.false$:e)instanceof a.builtin.complex&&null==i)return e;if(null!=n&&a.builtin.checkString(n)){if(null!=i)throw new a.builtin.TypeError("complex() can't take second arg if first is a string");return a.builtin.complex.complex_subtype_from_string(n)}if(null!=i&&a.builtin.checkString(i))throw new a.builtin.TypeError("complex() second arg can't be a string");if(null!=(r=a.builtin.complex.try_complex_special_method(n))&&r!==a.builtin.NotImplemented.NotImplemented$){if(!a.builtin.checkComplex(r))throw new a.builtin.TypeError("__complex__ should return a complex object");n=r}r=a.builtin.asnum$(n),null!=i&&(o=a.builtin.asnum$(i));var c=function(e){if(a.builtin.checkNumber(e)||void 0!==a.builtin.type.typeLookup(e.ob$type,"__float__"))return!0};if(null==r||!c(n)&&!a.builtin.checkComplex(n)||null!=i&&(null==o||!c(i)&&!a.builtin.checkComplex(i)))throw new a.builtin.TypeError("complex() argument must be a string or number");if(a.builtin.complex._complex_check(n))o=n.real.v,n=n.imag.v,l=!0;else{if(null==(r=a.builtin.float_.PyFloat_AsDouble(n)))return null;o=r,n=0}if(null==i)r=0;else if(a.builtin.complex._complex_check(i))r=i.real.v,s=i.imag.v,u=!0;else{if(null==(r=a.builtin.float_.PyFloat_AsDouble(i)))return null;s=0}return!0===u&&(o-=s),!0===l&&(r+=n),0===o&&(0>r||a.builtin.complex._isNegativeZero(r))&&(o=-0),this.real=new a.builtin.float_(o),this.imag=new a.builtin.float_(r),this.__class__=a.builtin.complex,this},a.abstr.setUpInheritance("complex",a.builtin.complex,a.builtin.numtype),a.builtin.complex.prototype.nb$int_=function(){throw new a.builtin.TypeError("can't convert complex to int")},a.builtin.complex.prototype.nb$float_=function(){throw new a.builtin.TypeError("can't convert complex to float")},a.builtin.complex.prototype.nb$lng=function(){throw new a.builtin.TypeError("can't convert complex to long")},a.builtin.complex.prototype.__doc__=new a.builtin.str("complex(real[, imag]) -> complex number\n\nCreate a complex number from a real part and an optional imaginary part.\nThis is equivalent to (real + imag*1j) where imag defaults to 0."),a.builtin.complex._isNegativeZero=function(e){return 0===e&&-1/0==1/e},a.builtin.complex.try_complex_special_method=function(e){var t;return new a.builtin.str("__complex__"),null==e?null:null!=(t=a.abstr.lookupSpecial(e,"__complex__"))?e=a.misceval.callsim(t,e):null},a.builtin.complex.check_number_or_complex=function(e){if(!a.builtin.checkNumber(e)&&"complex"!==e.tp$name)throw new a.builtin.TypeError("unsupported operand type(s) for +: 'complex' and '"+a.abstr.typeName(e)+"'");return a.builtin.checkNumber(e)&&(e=new a.builtin.complex(e)),e},a.builtin.complex.complex_subtype_from_string=function(e){var t,n,i,r=0,o=0,s=!1;if(a.builtin.checkString(e))e=a.ffi.remapToJs(e);else if("string"!=typeof e)throw new TypeError("provided unsupported string-alike argument");if(-1!==e.indexOf("\0")||0===e.length||""===e)throw new a.builtin.ValueError("complex() arg is a malformed string");for(t=0,e=(e=e.replace(/inf|infinity/gi,"Infinity")).replace(/nan/gi,"NaN");" "===e[t];)t++;if("("===e[t])for(s=!0,t++;" "===e[t];)t++;var l=/^(?:[+-]?(?:(?:(?:\d*\.\d+)|(?:\d+\.?))(?:[eE][+-]?\d+)?|NaN|Infinity))/;if(null!==(i=(n=e.substr(t)).match(l)))if("j"===e[t+=i[0].length]||"J"===e[t])o=parseFloat(i[0]),t++;else if("+"===e[t]||"-"===e[t]){if(r=parseFloat(i[0]),null!==(i=e.substr(t).match(l))?(o=parseFloat(i[0]),t+=i[0].length):(o="+"===e[t]?1:-1,t++),"j"!==e[t]&&"J"!==e[t])throw new a.builtin.ValueError("complex() arg is malformed string");t++}else r=parseFloat(i[0]);else null!==(i=i=n.match(/^([+-]?[jJ])/))&&(o=1===i[0].length?1:"+"===i[0][0]?1:-1,t+=i[0].length);for(;" "===e[t];)t++;if(s){if(")"!==e[t])throw new a.builtin.ValueError("complex() arg is malformed string");for(t++;" "===e[t];)t++}if(e.length!==t)throw new a.builtin.ValueError("complex() arg is malformed string");return new a.builtin.complex(new a.builtin.float_(r),new a.builtin.float_(o))},a.builtin.complex.prototype.tp$hash=function(){return new a.builtin.int_(1000003*this.tp$getattr("imag").v+this.tp$getattr("real").v)},a.builtin.complex.prototype.nb$add=function(e){var t;return e=a.builtin.complex.check_number_or_complex(e),t=this.tp$getattr("real").v+e.tp$getattr("real").v,e=this.tp$getattr("imag").v+e.tp$getattr("imag").v,new a.builtin.complex(new a.builtin.float_(t),new a.builtin.float_(e))},a.builtin.complex._c_diff=function(e,t){var n,i;return n=e.real.nb$subtract.call(e.real,t.real),i=e.imag.nb$subtract.call(e.imag,t.imag),new a.builtin.complex(n,i)},a.builtin.complex.prototype.nb$subtract=function(e){var t;return t=a.builtin.complex.check_number_or_complex(this),e=a.builtin.complex.check_number_or_complex(e),a.builtin.complex._c_diff(t,e)},a.builtin.complex.prototype.nb$multiply=function(e){var t;return t=a.builtin.complex.check_number_or_complex(e),e=this.real.v*t.real.v-this.imag.v*t.imag.v,t=this.real.v*t.imag.v+this.imag.v*t.real.v,new a.builtin.complex(new a.builtin.float_(e),new a.builtin.float_(t))},a.builtin.complex.prototype.nb$divide=function(e){var t,n,i;t=(e=a.builtin.complex.check_number_or_complex(e)).real.v;var r=e.imag.v;e=this.real.v;var o=this.imag.v;if((n=Math.abs(t))>=(i=Math.abs(r))){if(0===n)throw new a.builtin.ZeroDivisionError("complex division by zero");t=(e+o*(n=r/t))/(i=t+r*n),e=(o-e*n)/i}else i>=n?(i=t*(n=t/r)+r,s.asserts.assert(0!==r),t=(e*n+o)/i,e=(o*n-e)/i):e=t=NaN;return new a.builtin.complex(new a.builtin.float_(t),new a.builtin.float_(e))},a.builtin.complex.prototype.nb$floor_divide=function(e){throw new a.builtin.TypeError("can't take floor of complex number.")},a.builtin.complex.prototype.nb$remainder=function(e){throw new a.builtin.TypeError("can't mod complex numbers.")},a.builtin.complex.prototype.nb$power=function(e,t){var n,i;if(null!=t&&!a.builtin.checkNone(t))throw new a.builtin.ValueError("complex modulo");return n=0|(i=a.builtin.complex.check_number_or_complex(e)).real.v,0===i.imag.v&&i.real.v===n?a.builtin.complex.c_powi(this,n):a.builtin.complex.c_pow(this,i)},a.builtin.complex.c_pow=function(e,t){var n,i,r,o;o=t.real.v;var s=t.imag.v;r=e.real.v;var l=e.imag.v;if(0===o&&0===s)n=1,i=0;else if(0===r&&0===l){if(0!==s||0>o)throw new a.builtin.ZeroDivisionError("complex division by zero");i=n=0}else n=Math.hypot(r,l),i=Math.pow(n,o),o*=r=Math.atan2(l,r),0!==s&&(i/=Math.exp(r*s),o+=s*Math.log(n)),n=i*Math.cos(o),i*=Math.sin(o);return new a.builtin.complex(new a.builtin.float_(n),new a.builtin.float_(i))},a.builtin.complex.c_powi=function(e,t){var n;return 100<t||-100>t?(n=new a.builtin.complex(new a.builtin.float_(t),new a.builtin.float_(0)),a.builtin.complex.c_pow(e,n)):0<t?a.builtin.complex.c_powu(e,t):new a.builtin.complex(new a.builtin.float_(1),new a.builtin.float_(0)).nb$divide(a.builtin.complex.c_powu(e,-t))},a.builtin.complex.c_powu=function(e,t){var n,i,r=1;for(n=new a.builtin.complex(new a.builtin.float_(1),new a.builtin.float_(0)),i=e;0<r&&t>=r;)t&r&&(n=n.nb$multiply(i)),r<<=1,i=i.nb$multiply(i);return n},a.builtin.complex.prototype.nb$inplace_add=a.builtin.complex.prototype.nb$add,a.builtin.complex.prototype.nb$inplace_subtract=a.builtin.complex.prototype.nb$subtract,a.builtin.complex.prototype.nb$inplace_multiply=a.builtin.complex.prototype.nb$multiply,a.builtin.complex.prototype.nb$inplace_divide=a.builtin.complex.prototype.nb$divide,a.builtin.complex.prototype.nb$inplace_remainder=a.builtin.complex.prototype.nb$remainder,a.builtin.complex.prototype.nb$inplace_floor_divide=a.builtin.complex.prototype.nb$floor_divide,a.builtin.complex.prototype.nb$inplace_power=a.builtin.complex.prototype.nb$power,a.builtin.complex.prototype.nb$negative=function(){var e,t;return t=this.imag.v,e=-this.real.v,t=-t,new a.builtin.complex(new a.builtin.float_(e),new a.builtin.float_(t))},a.builtin.complex.prototype.nb$positive=function(){return a.builtin.complex.check_number_or_complex(this)},a.builtin.complex._complex_check=function(e){return void 0!==e&&!!(e instanceof a.builtin.complex||e.tp$name&&"complex"===e.tp$name||a.builtin.issubclass(new a.builtin.type(e),a.builtin.complex))},a.builtin.complex.prototype.tp$richcompare=function(e,t){var n,i;if("Eq"!==t&&"NotEq"!==t){if(a.builtin.checkNumber(e)||a.builtin.complex._complex_check(e))throw new a.builtin.TypeError("no ordering relation is defined for complex numbers");return a.builtin.NotImplemented.NotImplemented$}if(n=(i=a.builtin.complex.check_number_or_complex(this)).tp$getattr("real").v,i=i.tp$getattr("imag").v,a.builtin.checkInt(e)){if(0===i)return n=a.misceval.richCompareBool(new a.builtin.float_(n),e,t),new a.builtin.bool(n);n=!1}else if(a.builtin.checkFloat(e))n=n===a.builtin.float_.PyFloat_AsDouble(e)&&0===i;else{if(!a.builtin.complex._complex_check(e))return a.builtin.NotImplemented.NotImplemented$;var r=e.tp$getattr("real").v,o=e.tp$getattr("imag").v;n=n===r&&i===o}return"NotEq"===t&&(n=!n),new a.builtin.bool(n)},a.builtin.complex.prototype.__eq__=function(e,t){return a.builtin.complex.prototype.tp$richcompare.call(e,t,"Eq")},a.builtin.complex.prototype.__ne__=function(e,t){return a.builtin.complex.prototype.tp$richcompare.call(e,t,"NotEq")},a.builtin.complex.prototype.__lt__=function(e,t){throw new a.builtin.TypeError("unorderable types: "+a.abstr.typeName(e)+" < "+a.abstr.typeName(t))},a.builtin.complex.prototype.__le__=function(e,t){throw new a.builtin.TypeError("unorderable types: "+a.abstr.typeName(e)+" <= "+a.abstr.typeName(t))},a.builtin.complex.prototype.__gt__=function(e,t){throw new a.builtin.TypeError("unorderable types: "+a.abstr.typeName(e)+" > "+a.abstr.typeName(t))},a.builtin.complex.prototype.__ge__=function(e,t){throw new a.builtin.TypeError("unorderable types: "+a.abstr.typeName(e)+" >= "+a.abstr.typeName(t))},a.builtin.complex.prototype.__float__=function(e){throw new a.builtin.TypeError("can't convert complex to float")},a.builtin.complex.prototype.__int__=function(e){throw new a.builtin.TypeError("can't convert complex to int")},a.builtin.complex.prototype._internalGenericGetAttr=a.builtin.object.prototype.GenericGetAttr,a.builtin.complex.prototype.tp$getattr=function(e){if(null!=e&&(a.builtin.checkString(e)||"string"==typeof e)){var t=e;if(a.builtin.checkString(e)&&(t=a.ffi.remapToJs(e)),"real"===t||"imag"===t)return this[t]}return this._internalGenericGetAttr(e)},a.builtin.complex.prototype.tp$setattr=function(e,t){if(null!=e&&(a.builtin.checkString(e)||"string"==typeof e)){var n=e;if(a.builtin.checkString(e)&&(n=a.ffi.remapToJs(e)),"real"===n||"imag"===n)throw new a.builtin.AttributeError("readonly attribute")}throw new a.builtin.AttributeError("'complex' object attribute '"+e+"' is readonly")},a.builtin.complex.complex_format=function(e,t,n){if(null==e||!a.builtin.complex._complex_check(e))throw Error("Invalid internal method call: Sk.complex.complex_format() called with invalid value type.");var i="",r=(i="",null),o="",s="";return 0===e.real.v&&1==(0>e.real.v?-Math.abs(1):Math.abs(1))?(r="",i=a.builtin.complex.PyOS_double_to_string(e.imag.v,n,t,0,null)):(r=i=a.builtin.complex.PyOS_double_to_string(e.real.v,n,t,0,null),i=a.builtin.complex.PyOS_double_to_string(e.imag.v,n,t,a.builtin.complex.PyOS_double_to_string.Py_DTSF_SIGN,null),0===e.imag.v&&-1/0==1/e.imag.v&&i&&"-"!==i[0]&&(i="-"+i),o="(",s=")"),new a.builtin.str(""+o+r+i+"j"+s)},a.builtin.complex.prototype.$r=function(){return a.builtin.complex.complex_format(this,0,"r")},a.builtin.complex.prototype.tp$str=function(){return a.builtin.complex.complex_format(this,null,"g")},a.builtin.complex.prototype.__format__=new a.builtin.func(function(e,t){if(null==t)return null;if(a.builtin.checkString(t))return a.builtin.complex._PyComplex_FormatAdvanced(e,t);throw new a.builtin.TypeError("__format__ requires str or unicode")}),a.builtin.complex._PyComplex_FormatAdvanced=function(e,t){throw new a.builtin.NotImplementedError("__format__ is not implemented for complex type.")},a.builtin.complex._is_finite=function(e){return!isNaN(e)&&1/0!==e&&-1/0!==e},a.builtin.complex._is_infinity=function(e){return 1/0===e||-1/0===e},a.builtin.complex.prototype.__abs__=new a.builtin.func(function(e){var t;if(t=e.real.v,e=e.imag.v,!a.builtin.complex._is_finite(t)||!a.builtin.complex._is_finite(e))return a.builtin.complex._is_infinity(t)?(t=Math.abs(t),new a.builtin.float_(t)):a.builtin.complex._is_infinity(e)?(t=Math.abs(e),new a.builtin.float_(t)):new a.builtin.float_(NaN);if(t=Math.hypot(t,e),!a.builtin.complex._is_finite(t))throw new a.builtin.OverflowError("absolute value too large");return new a.builtin.float_(t)}),a.builtin.complex.prototype.__bool__=new a.builtin.func(function(e){return new a.builtin.bool(e.tp$getattr("real").v||e.tp$getattr("real").v)}),a.builtin.complex.prototype.__truediv__=new a.builtin.func(function(e,t){return a.builtin.pyCheckArgs("__truediv__",arguments,1,1,!0),e.nb$divide.call(e,t)}),a.builtin.complex.prototype.__hash__=new a.builtin.func(function(e){return a.builtin.pyCheckArgs("__hash__",arguments,0,0,!0),e.tp$hash.call(e)}),a.builtin.complex.prototype.__add__=new a.builtin.func(function(e,t){return a.builtin.pyCheckArgs("__add__",arguments,1,1,!0),e.nb$add.call(e,t)}),a.builtin.complex.prototype.__repr__=new a.builtin.func(function(e){return a.builtin.pyCheckArgs("__repr__",arguments,0,0,!0),e.r$.call(e)}),a.builtin.complex.prototype.__str__=new a.builtin.func(function(e){return a.builtin.pyCheckArgs("__str__",arguments,0,0,!0),e.tp$str.call(e)}),a.builtin.complex.prototype.__sub__=new a.builtin.func(function(e,t){return a.builtin.pyCheckArgs("__sub__",arguments,1,1,!0),e.nb$subtract.call(e,t)}),a.builtin.complex.prototype.__mul__=new a.builtin.func(function(e,t){return a.builtin.pyCheckArgs("__mul__",arguments,1,1,!0),e.nb$multiply.call(e,t)}),a.builtin.complex.prototype.__div__=new a.builtin.func(function(e,t){return a.builtin.pyCheckArgs("__div__",arguments,1,1,!0),e.nb$divide.call(e,t)}),a.builtin.complex.prototype.__floordiv__=new a.builtin.func(function(e,t){return a.builtin.pyCheckArgs("__floordiv__",arguments,1,1,!0),e.nb$floor_divide.call(e,t)}),a.builtin.complex.prototype.__mod__=new a.builtin.func(function(e,t){return a.builtin.pyCheckArgs("__mod__",arguments,1,1,!0),e.nb$remainder.call(e,t)}),a.builtin.complex.prototype.__pow__=new a.builtin.func(function(e,t,n){return a.builtin.pyCheckArgs("__pow__",arguments,1,2,!0),e.nb$power.call(e,t,n)}),a.builtin.complex.prototype.__neg__=new a.builtin.func(function(e){return a.builtin.pyCheckArgs("__neg__",arguments,0,0,!0),e.nb$negative.call(e)}),a.builtin.complex.prototype.__pos__=new a.builtin.func(function(e){return a.builtin.pyCheckArgs("__pos__",arguments,0,0,!0),e.nb$positive.call(e)}),a.builtin.complex.prototype.conjugate=new a.builtin.func(function(e){a.builtin.pyCheckArgs("conjugate",arguments,0,0,!0);var t=e.imag.v;return new a.builtin.complex(e.real,new a.builtin.float_(-t))}),a.builtin.complex.prototype.__divmod__=new a.builtin.func(function(e,t){var n,i,r;return a.builtin.pyCheckArgs("__divmod__",arguments,1,1,!0),i=a.builtin.complex.check_number_or_complex(e),r=a.builtin.complex.check_number_or_complex(t),(n=i.nb$divide.call(i,r)).real=new a.builtin.float_(Math.floor(n.real.v)),n.imag=new a.builtin.float_(0),i=i.nb$subtract.call(i,r.nb$multiply.call(r,n)),new a.builtin.tuple([n,i])}),a.builtin.complex.prototype.__getnewargs__=new a.builtin.func(function(e){return a.builtin.pyCheckArgs("__getnewargs__",arguments,0,0,!0),new a.builtin.tuple([e.real,e.imag])}),a.builtin.complex.prototype.__nonzero__=new a.builtin.func(function(e){return a.builtin.pyCheckArgs("__nonzero__",arguments,0,0,!0),0!==e.real.v||0!==e.imag.v?a.builtin.bool.true$:a.builtin.bool.false$}),s.exportSymbol("Sk.builtin.complex",a.builtin.complex),a.builtin.complex.PyOS_double_to_string=function(e,t,n,i,r){switch(r=!1,t){case"e":case"f":case"g":break;case"E":r=!0,t="e";break;case"F":r=!0,t="f";break;case"r":if(0!==n)throw Error("Bad internall call");n=17,t="g";break;default:throw Error("Bad internall call")}if(isNaN(e))e="nan";else if(1/0===e)e="inf";else if(-1/0===e)e="-inf";else{var o;i&a.builtin.complex.PyOS_double_to_string.Py_DTSF_ADD_DOT_0&&(t="g"),o="%"+(i&a.builtin.complex.PyOS_double_to_string.Py_DTSF_ALT?"#":""),null!=n&&(o=o+"."+n),o+=t,e=(e=(o=new a.builtin.str(o)).nb$remainder(new a.builtin.float_(e))).v}return i&a.builtin.complex.PyOS_double_to_string.Py_DTSF_SIGN&&"-"!==e[0]&&(e="+"+e),r&&(e=e.toUpperCase()),e},a.builtin.complex.PyOS_double_to_string.Py_DTSF_SIGN=1,a.builtin.complex.PyOS_double_to_string.Py_DTSF_ADD_DOT_0=2,a.builtin.complex.PyOS_double_to_string.Py_DTSF_ALT=4,a.builtin.complex.PyOS_double_to_string.Py_DTST_FINITE=0,a.builtin.complex.PyOS_double_to_string.Py_DTST_INFINITE=1,a.builtin.complex.PyOS_double_to_string.Py_DTST_NAN=2,a.builtin.slice=function(e,t,n){if(a.builtin.pyCheckArgs("slice",arguments,1,3,!1,!1),void 0!==n&&a.misceval.isIndex(n)&&0===a.misceval.asIndex(n))throw new a.builtin.ValueError("slice step cannot be zero");return this instanceof a.builtin.slice?(void 0===t&&void 0===n&&(t=e,e=a.builtin.none.none$),void 0===t&&(t=a.builtin.none.none$),void 0===n&&(n=a.builtin.none.none$),this.start=e,this.stop=t,this.step=n,this.__class__=a.builtin.slice,this.$d=new a.builtin.dict([a.builtin.slice$start,this.start,a.builtin.slice$stop,this.stop,a.builtin.slice$step,this.step]),this):new a.builtin.slice(e,t,n)},a.abstr.setUpInheritance("slice",a.builtin.slice,a.builtin.object),a.builtin.slice.prototype.$r=function(){var e=a.builtin.repr(this.start).v,t=a.builtin.repr(this.stop).v,n=a.builtin.repr(this.step).v;return new a.builtin.str("slice("+e+", "+t+", "+n+")")},a.builtin.slice.prototype.tp$richcompare=function(e,t){var n,i;return e.__class__&&e.__class__==a.builtin.slice?(n=new a.builtin.tuple([this.start,this.stop,this.step]),i=new a.builtin.tuple([e.start,e.stop,e.step]),n.tp$richcompare(i,t)):"Eq"!==t&&"NotEq"===t},a.builtin.slice.prototype.slice_indices_=function(e){var t,n,i;if(a.builtin.checkNone(this.start))t=null;else{if(!a.misceval.isIndex(this.start))throw new a.builtin.TypeError("slice indices must be integers or None");t=a.misceval.asIndex(this.start)}if(a.builtin.checkNone(this.stop))n=null;else{if(!a.misceval.isIndex(this.stop))throw new a.builtin.TypeError("slice indices must be integers or None");n=a.misceval.asIndex(this.stop)}if(a.builtin.checkNone(this.step))i=null;else{if(!a.misceval.isIndex(this.step))throw new a.builtin.TypeError("slice indices must be integers or None");i=a.misceval.asIndex(this.step)}return null===i&&(i=1),0<i?(null===t&&(t=0),null===n&&(n=e),n>e&&(n=e),0>t&&(0>(t=e+t)&&(t=0)),0>n&&(n=e+n)):(null===t&&(t=e-1),t>=e&&(t=e-1),null===n?n=-1:0>n&&(0>(n=e+n)&&(n=-1)),0>t&&(t=e+t)),[t,n,i]},a.builtin.slice.prototype.indices=new a.builtin.func(function(e,t){a.builtin.pyCheckArgs("indices",arguments,2,2,!1,!1),t=a.builtin.asnum$(t);var n=e.slice_indices_(t);return new a.builtin.tuple([new a.builtin.int_(n[0]),new a.builtin.int_(n[1]),new a.builtin.int_(n[2])])}),a.builtin.slice.prototype.sssiter$=function(e,t){var n,i=a.builtin.asnum$(e),r=this.slice_indices_("number"==typeof i?i:e.v.length);if(0<r[2])for(n=r[0];n<r[1]&&!1!==t(n,i);n+=r[2]);else for(n=r[0];n>r[1]&&!1!==t(n,i);n+=r[2]);},a.builtin.slice$start=new a.builtin.str("start"),a.builtin.slice$stop=new a.builtin.str("stop"),a.builtin.slice$step=new a.builtin.str("step"),a.builtin.set=function(e){var t;if(!(this instanceof a.builtin.set))return new a.builtin.set(e);for(void 0===e&&(e=[]),this.set_reset_(),e=new a.builtin.list(e),t=(e=a.abstr.iter(e)).tp$iternext();void 0!==t;t=e.tp$iternext())a.builtin.set.prototype.add.func_code(this,t);return this.__class__=a.builtin.set,this.v=this.v,this},a.abstr.setUpInheritance("set",a.builtin.set,a.builtin.object),a.abstr.markUnhashable(a.builtin.set),a.builtin.set.prototype.set_reset_=function(){this.v=new a.builtin.dict([])},a.builtin.set.prototype.$r=function(){var e,t,n=[];for(t=(e=a.abstr.iter(this)).tp$iternext();void 0!==t;t=e.tp$iternext())n.push(a.misceval.objectRepr(t).v);return a.python3?new a.builtin.str("{"+n.join(", ")+"}"):new a.builtin.str("set(["+n.join(", ")+"])")},a.builtin.set.prototype.ob$eq=function(e){return this===e?a.builtin.bool.true$:e instanceof a.builtin.set&&a.builtin.set.prototype.sq$length.call(this)===a.builtin.set.prototype.sq$length.call(e)?this.issubset.func_code(this,e):a.builtin.bool.false$},a.builtin.set.prototype.ob$ne=function(e){return this===e?a.builtin.bool.false$:e instanceof a.builtin.set&&a.builtin.set.prototype.sq$length.call(this)===a.builtin.set.prototype.sq$length.call(e)&&this.issubset.func_code(this,e).v?a.builtin.bool.false$:a.builtin.bool.true$},a.builtin.set.prototype.ob$lt=function(e){return this===e||a.builtin.set.prototype.sq$length.call(this)>=a.builtin.set.prototype.sq$length.call(e)?a.builtin.bool.false$:this.issubset.func_code(this,e)},a.builtin.set.prototype.ob$le=function(e){return this===e?a.builtin.bool.true$:a.builtin.set.prototype.sq$length.call(this)>a.builtin.set.prototype.sq$length.call(e)?a.builtin.bool.false$:this.issubset.func_code(this,e)},a.builtin.set.prototype.ob$gt=function(e){return this===e||a.builtin.set.prototype.sq$length.call(this)<=a.builtin.set.prototype.sq$length.call(e)?a.builtin.bool.false$:this.issuperset.func_code(this,e)},a.builtin.set.prototype.ob$ge=function(e){return this===e?a.builtin.bool.true$:a.builtin.set.prototype.sq$length.call(this)<a.builtin.set.prototype.sq$length.call(e)?a.builtin.bool.false$:this.issuperset.func_code(this,e)},a.builtin.set.prototype.__iter__=new a.builtin.func(function(e){return a.builtin.pyCheckArgs("__iter__",arguments,0,0,!1,!0),new a.builtin.set_iter_(e)}),a.builtin.set.prototype.tp$iter=function(){return new a.builtin.set_iter_(this)},a.builtin.set.prototype.sq$length=function(){return this.v.mp$length()},a.builtin.set.prototype.sq$contains=function(e){return this.v.sq$contains(e)},a.builtin.set.prototype.isdisjoint=new a.builtin.func(function(e,t){var n,i;if(a.builtin.pyCheckArgs("isdisjoint",arguments,2,2),!a.builtin.checkIterable(t))throw new a.builtin.TypeError("'"+a.abstr.typeName(t)+"' object is not iterable");for(n=(i=a.abstr.iter(e)).tp$iternext();void 0!==n;n=i.tp$iternext())if(n=a.abstr.sequenceContains(t,n))return a.builtin.bool.false$;return a.builtin.bool.true$}),a.builtin.set.prototype.issubset=new a.builtin.func(function(e,t){var n,i;if(a.builtin.pyCheckArgs("issubset",arguments,2,2),!a.builtin.checkIterable(t))throw new a.builtin.TypeError("'"+a.abstr.typeName(t)+"' object is not iterable");if((i=e.sq$length())>(n=t.sq$length()))return a.builtin.bool.false$;for(n=(i=a.abstr.iter(e)).tp$iternext();void 0!==n;n=i.tp$iternext())if(!(n=a.abstr.sequenceContains(t,n)))return a.builtin.bool.false$;return a.builtin.bool.true$}),a.builtin.set.prototype.issuperset=new a.builtin.func(function(e,t){return a.builtin.pyCheckArgs("issuperset",arguments,2,2),a.builtin.set.prototype.issubset.func_code(t,e)}),a.builtin.set.prototype.union=new a.builtin.func(function(e){var t,n,i;for(a.builtin.pyCheckArgs("union",arguments,1),i=[t=a.builtin.set.prototype.copy.func_code(e)],n=1;n<arguments.length;n++)i.push(arguments[n]);return a.builtin.set.prototype.update.func_code.apply(null,i),t}),a.builtin.set.prototype.intersection=new a.builtin.func(function(e){var t,n,i;for(a.builtin.pyCheckArgs("intersection",arguments,1),i=[t=a.builtin.set.prototype.copy.func_code(e)],n=1;n<arguments.length;n++)i.push(arguments[n]);return a.builtin.set.prototype.intersection_update.func_code.apply(null,i),t}),a.builtin.set.prototype.difference=new a.builtin.func(function(e,t){var n,i,r;for(a.builtin.pyCheckArgs("difference",arguments,2),r=[n=a.builtin.set.prototype.copy.func_code(e)],i=1;i<arguments.length;i++)r.push(arguments[i]);return a.builtin.set.prototype.difference_update.func_code.apply(null,r),n}),a.builtin.set.prototype.symmetric_difference=new a.builtin.func(function(e,t){var n,i,r;for(a.builtin.pyCheckArgs("symmetric_difference",arguments,2,2),r=a.builtin.set.prototype.union.func_code(e,t),i=(n=a.abstr.iter(r)).tp$iternext();void 0!==i;i=n.tp$iternext())a.abstr.sequenceContains(e,i)&&a.abstr.sequenceContains(t,i)&&a.builtin.set.prototype.discard.func_code(r,i);return r}),a.builtin.set.prototype.copy=new a.builtin.func(function(e){return a.builtin.pyCheckArgs("copy",arguments,1,1),new a.builtin.set(e)}),a.builtin.set.prototype.update=new a.builtin.func(function(e,t){var n,i,r;for(a.builtin.pyCheckArgs("update",arguments,2),n=1;n<arguments.length;n++){if(i=arguments[n],!a.builtin.checkIterable(i))throw new a.builtin.TypeError("'"+a.abstr.typeName(i)+"' object is not iterable");for(r=(i=a.abstr.iter(i)).tp$iternext();void 0!==r;r=i.tp$iternext())a.builtin.set.prototype.add.func_code(e,r)}return a.builtin.none.none$}),a.builtin.set.prototype.intersection_update=new a.builtin.func(function(e,t){var n,i,r;for(a.builtin.pyCheckArgs("intersection_update",arguments,2),n=1;n<arguments.length;n++)if(!a.builtin.checkIterable(arguments[n]))throw new a.builtin.TypeError("'"+a.abstr.typeName(arguments[n])+"' object is not iterable");for(r=(i=a.abstr.iter(e)).tp$iternext();void 0!==r;r=i.tp$iternext())for(n=1;n<arguments.length;n++)if(!a.abstr.sequenceContains(arguments[n],r)){a.builtin.set.prototype.discard.func_code(e,r);break}return a.builtin.none.none$}),a.builtin.set.prototype.difference_update=new a.builtin.func(function(e,t){var n,i,r;for(a.builtin.pyCheckArgs("difference_update",arguments,2),n=1;n<arguments.length;n++)if(!a.builtin.checkIterable(arguments[n]))throw new a.builtin.TypeError("'"+a.abstr.typeName(arguments[n])+"' object is not iterable");for(r=(i=a.abstr.iter(e)).tp$iternext();void 0!==r;r=i.tp$iternext())for(n=1;n<arguments.length;n++)if(a.abstr.sequenceContains(arguments[n],r)){a.builtin.set.prototype.discard.func_code(e,r);break}return a.builtin.none.none$}),a.builtin.set.prototype.symmetric_difference_update=new a.builtin.func(function(e,t){a.builtin.pyCheckArgs("symmetric_difference_update",arguments,2,2);var n=a.builtin.set.prototype.symmetric_difference.func_code(e,t);return e.set_reset_(),a.builtin.set.prototype.update.func_code(e,n),a.builtin.none.none$}),a.builtin.set.prototype.add=new a.builtin.func(function(e,t){return a.builtin.pyCheckArgs("add",arguments,2,2),e.v.mp$ass_subscript(t,!0),a.builtin.none.none$}),a.builtin.set.prototype.discard=new a.builtin.func(function(e,t){return a.builtin.pyCheckArgs("discard",arguments,2,2),a.builtin.dict.prototype.pop.func_code(e.v,t,a.builtin.none.none$),a.builtin.none.none$}),a.builtin.set.prototype.pop=new a.builtin.func(function(e){var t;if(a.builtin.pyCheckArgs("pop",arguments,1,1),0===e.sq$length())throw new a.builtin.KeyError("pop from an empty set");return t=a.abstr.iter(e).tp$iternext(),a.builtin.set.prototype.discard.func_code(e,t),t}),a.builtin.set.prototype.remove=new a.builtin.func(function(e,t){return a.builtin.pyCheckArgs("remove",arguments,2,2),e.v.mp$del_subscript(t),a.builtin.none.none$}),s.exportSymbol("Sk.builtin.set",a.builtin.set),a.builtin.set_iter_=function(e){var t,n,i,r;if(!(this instanceof a.builtin.set_iter_))return new a.builtin.set_iter_(e);for(n in this.$obj=e,this.tp$iter=this,t=[],r=e.v.buckets)if(r.hasOwnProperty(n)&&(i=r[n])&&void 0!==i.$hash&&void 0!==i.items)for(e=0;e<i.items.length;e++)t.push(i.items[e].lhs);return this.$index=0,this.$keys=t,this.tp$iternext=function(){return this.$index>=this.$keys.length?void 0:this.$keys[this.$index++]},this.$r=function(){return new a.builtin.str("setiterator")},this},a.abstr.setUpInheritance("setiterator",a.builtin.set_iter_,a.builtin.object),a.builtin.set_iter_.prototype.__class__=a.builtin.set_iter_,a.builtin.set_iter_.prototype.__iter__=new a.builtin.func(function(e){return a.builtin.pyCheckArgs("__iter__",arguments,0,0,!0,!1),e}),a.builtin.set_iter_.prototype.next=new a.builtin.func(function(e){if(void 0===(e=e.tp$iternext()))throw new a.builtin.StopIteration;return e});var h=function(e){a.builtin.pyCheckArgs("print",arguments,0,1/0,!0,!1);var t=Array.prototype.slice.call(arguments,1),n=new a.builtins.dict(e);a.ffi.remapToJs(n);var i,r,o={sep:" ",end:"\n",file:null};if(void 0!==(i=n.mp$lookup(new a.builtin.str("sep")))){if(r=a.builtin.checkNone(i),!a.builtin.checkString(i)&&!r)throw new a.builtin.TypeError("sep must be None or a string, not "+a.abstr.typeName(i));o.sep=r?o.sep:a.ffi.remapToJs(i)}if(void 0!==(i=n.mp$lookup(new a.builtin.str("end")))){if(r=a.builtin.checkNone(i),!a.builtin.checkString(i)&&!r)throw new a.builtin.TypeError("end must be None or a string, not "+a.abstr.typeName(i));o.end=r?o.end:a.ffi.remapToJs(i)}if(void 0!==(i=n.mp$lookup(new a.builtin.str("file")))){if(!(r=a.builtin.checkNone(i))&&void 0===i.tp$getattr("write"))throw new a.builtin.AttributeError("'"+a.abstr.typeName(i)+"' object has no attribute 'write'");o.file=r?o.file:i}for(n="",i=0;i<t.length;i++)n+=new a.builtin.str(t[i]).v,n+=o.sep;0<t.length&&0<o.sep.length&&(n=n.substring(0,n.length-o.sep.length)),n+=o.end,null!==o.file?a.misceval.callsim(o.file.write,o.file,new a.builtin.str(n)):(t=a.importModule("sys"),a.misceval.apply(t.$d.stdout.write,void 0,void 0,void 0,[t.$d.stdout,new a.builtin.str(n)]))};function m(e){return"("+Array.prototype.slice.call(arguments).join("|")+")"}h.co_kwargs=!0,a.builtin.print=new a.builtin.func(h),a.builtin.print.__doc__=new a.builtin.str("print(value, ..., sep=' ', end='\\n', file=sys.stdout, flush=False)\n\nPrints the values to a stream, or to sys.stdout by default.\nOptional keyword arguments:\nfile:  a file-like object (stream); defaults to the current sys.stdout.\nsep:   string inserted between values, default a space.\nend:   string appended after the last value, default a newline.\nflush: whether to forcibly flush the stream."),a.builtin.module=function(){},s.exportSymbol("Sk.builtin.module",a.builtin.module),a.builtin.module.prototype.ob$type=a.builtin.type.makeIntoTypeObj("module",a.builtin.module),a.builtin.module.prototype.tp$getattr=a.builtin.object.prototype.GenericGetAttr,a.builtin.module.prototype.tp$setattr=a.builtin.object.prototype.GenericSetAttr,a.builtin.structseq_types={},a.builtin.make_structseq=function(e,t,n,i){var r=e+"."+t,o=[];for(var l in e=[],n)o.push(l),e.push(n[l]);return n=function(e){var t,n,i;if(a.builtin.pyCheckArgs(r,arguments,1,1),!(this instanceof a.builtin.structseq_types[r]))return(t=Object.create(a.builtin.structseq_types[r].prototype)).constructor.apply(t,arguments),t;if("[object Array]"===Object.prototype.toString.apply(e))i=e;else{for(i=[],n=(t=a.abstr.iter(e)).tp$iternext();void 0!==n;n=t.tp$iternext())i.push(n);if(i.length!=o.length)throw new a.builtin.TypeError(r+"() takes a "+o.length+"-sequence ("+i.length+"-sequence given)")}a.builtin.tuple.call(this,i),this.__class__=a.builtin.structseq_types[r]},a.builtin.structseq_types[r]=n,s.inherits(n,a.builtin.tuple),i&&(n.prototype.__doc__=i),n.prototype.tp$name=r,n.prototype.ob$type=a.builtin.type.makeIntoTypeObj(r,a.builtin.structseq_types[r]),n.prototype.ob$type.$d=new a.builtin.dict([]),n.prototype.ob$type.$d.mp$ass_subscript(a.builtin.type.basesStr_,new a.builtin.tuple([a.builtin.tuple])),n.prototype.__getitem__=new a.builtin.func(function(e,t){return a.builtin.tuple.prototype.mp$subscript.call(e,t)}),n.prototype.__reduce__=new a.builtin.func(function(e){throw new a.builtin.Exception("__reduce__ is not implemented")}),n.prototype.$r=function(){var e,t;if(0===this.v.length)return new a.builtin.str(r+"()");for(t=[],e=0;e<this.v.length;++e)t[e]=o[e]+"="+a.misceval.objectRepr(this.v[e]).v;return e=t.join(", "),1===this.v.length&&(e+=","),new a.builtin.str(r+"("+e+")")},n.prototype.tp$setattr=function(e,t){throw new a.builtin.AttributeError("readonly property")},n.prototype.tp$getattr=function(e){var t=o.indexOf(e);return 0<=t?this.v[t]:a.builtin.object.prototype.GenericGetAttr(e)},n},s.exportSymbol("Sk.builtin.make_structseq",a.builtin.make_structseq),a.builtin.generator=function(e,t,n,i,r){var o;if(e){if(!(this instanceof a.builtin.generator))return new a.builtin.generator(e,t,n,i,r);if(this.func_code=e,this.func_globals=t||null,this.gi$running=!1,this.gi$resumeat=0,this.gi$sentvalue=void 0,this.gi$locals={},this.gi$cells={},0<n.length)for(t=0;t<e.co_varnames.length;++t)this.gi$locals[e.co_varnames[t]]=n[t];if(void 0!==r)for(o in r)i[o]=r[o];return this.func_closure=i,this}},s.exportSymbol("Sk.builtin.generator",a.builtin.generator),a.abstr.setUpInheritance("generator",a.builtin.generator,a.builtin.object),a.builtin.generator.prototype.tp$iter=function(){return this},a.builtin.generator.prototype.tp$iternext=function(e,t){var n,i=this;return this.gi$running=!0,void 0===t&&(t=null),this.gi$sentvalue=t,n=[this],this.func_closure&&n.push(this.func_closure),function t(n){if(n instanceof a.misceval.Suspension){if(e)return new a.misceval.Suspension(t,n);n=a.misceval.retryOptionalSuspensionOrThrow(n)}if(i.gi$running=!1,s.asserts.assert(void 0!==n),n!==a.builtin.none.none$)return i.gi$resumeat=n[0],n[1]}(this.func_code.apply(this.func_globals,n))},a.builtin.generator.prototype.next=new a.builtin.func(function(e){return e.tp$iternext(!0)}),a.builtin.generator.prototype.$r=function(){return new a.builtin.str("<generator object "+this.func_code.co_name.v+">")},a.builtin.generator.prototype.send=new a.builtin.func(function(e,t){return e.tp$iternext(!0,t)}),a.builtin.makeGenerator=function(e,t){var n,i=new a.builtin.generator(null,null,null);for(n in i.tp$iternext=e,t)t.hasOwnProperty(n)&&(i[n]=t[n]);return i},s.exportSymbol("Sk.builtin.makeGenerator",a.builtin.makeGenerator),a.builtin.file=function(e,t,n){var i;if(!(this instanceof a.builtin.file))return new a.builtin.file(e,t,n);if(this.mode=t,this.name=a.ffi.remapToJs(e),this.closed=!1,"/dev/stdout"===this.name)this.data$=a.builtin.none.none$,this.fileno=1;else if("/dev/stdin"===this.name)this.fileno=0;else if("/dev/stderr"===this.name)this.fileno=2;else{if(a.inBrowser){if(this.fileno=10,null==(t=document.getElementById(e.v)))throw new a.builtin.IOError("[Errno 2] No such file or directory: '"+e.v+"'");"textarea"==t.nodeName.toLowerCase()?this.data$=t.value:this.data$=t.textContent}else this.fileno=11,this.data$=a.read(e.v);for(i in this.lineList=this.data$.split("\n"),this.lineList=this.lineList.slice(0,-1),this.lineList)this.lineList[i]+="\n";this.currentLine=0}return this.pos$=0,this.__class__=a.builtin.file,this},a.abstr.setUpInheritance("file",a.builtin.file,a.builtin.object),a.builtin.file.prototype.$r=function(){return new a.builtin.str("<"+(this.closed?"closed":"open")+"file '"+this.name+"', mode '"+this.mode+"'>")},a.builtin.file.prototype.tp$iter=function(){var e={tp$iter:function(){return e},$obj:this,$index:0,$lines:this.lineList,tp$iternext:function(){return e.$index>=e.$lines.length?void 0:new a.builtin.str(e.$lines[e.$index++])}};return e},a.builtin.file.prototype.close=new a.builtin.func(function(e){e.closed=!0}),a.builtin.file.prototype.flush=new a.builtin.func(function(e){}),a.builtin.file.prototype.fileno=new a.builtin.func(function(e){return this.fileno}),a.builtin.file.prototype.isatty=new a.builtin.func(function(e){return!1}),a.builtin.file.prototype.read=new a.builtin.func(function(e,t){var n,i;if(e.closed)throw new a.builtin.ValueError("I/O operation on closed file");return i=e.data$.length,void 0===t&&(t=i),n=new a.builtin.str(e.data$.substr(e.pos$,t)),e.pos$+=t,e.pos$>=i&&(e.pos$=i),n}),a.builtin.file.$readline=function(e,t,n){var i;return 0===e.fileno?(e=a.ffi.remapToJs(n),(e=a.inputfun(e||""))instanceof Promise?((t=new a.misceval.Suspension).resume=function(){return new a.builtin.str(i)},t.data={type:"Sk.promise",promise:e.then(function(e){return i=e},function(e){return i="",e})},t):new a.builtin.str(e)):(t="",e.currentLine<e.lineList.length&&(t=e.lineList[e.currentLine],e.currentLine++),new a.builtin.str(t))},a.builtin.file.prototype.readline=new a.builtin.func(function(e,t){return a.builtin.file.$readline(e,t,void 0)}),a.builtin.file.prototype.readlines=new a.builtin.func(function(e,t){if(0===e.fileno)return new a.builtin.NotImplementedError("readlines ins't implemented because the web doesn't support Ctrl+D");var n,i=[];for(n=e.currentLine;n<e.lineList.length;n++)i.push(new a.builtin.str(e.lineList[n]));return new a.builtin.list(i)}),a.builtin.file.prototype.seek=new a.builtin.func(function(e,t,n){void 0===n&&(n=1),e.pos$=1==n?t:e.data$+t}),a.builtin.file.prototype.tell=new a.builtin.func(function(e){return e.pos$}),a.builtin.file.prototype.truncate=new a.builtin.func(function(e,t){s.asserts.fail()}),a.builtin.file.prototype.write=new a.builtin.func(function(e,t){1===e.fileno?a.output(a.ffi.remapToJs(t)):s.asserts.fail()}),s.exportSymbol("Sk.builtin.file",a.builtin.file),a.ffi=a.ffi||{},a.ffi.remapToPy=function(e){var t,n;if("[object Array]"===Object.prototype.toString.call(e)){for(n=[],t=0;t<e.length;++t)n.push(a.ffi.remapToPy(e[t]));return new a.builtin.list(n)}if(null===e)return a.builtin.none.none$;if("object"==typeof e){for(t in n=[],e)n.push(a.ffi.remapToPy(t)),n.push(a.ffi.remapToPy(e[t]));return new a.builtin.dict(n)}return"string"==typeof e?new a.builtin.str(e):"number"==typeof e?a.builtin.assk$(e):"boolean"==typeof e?new a.builtin.bool(e):void s.asserts.fail("unhandled remap type "+typeof e)},s.exportSymbol("Sk.ffi.remapToPy",a.ffi.remapToPy),a.ffi.remapToJs=function(e){var t,n,i,r;if(e instanceof a.builtin.dict){for(r={},n=(i=e.tp$iter()).tp$iternext();void 0!==n;n=i.tp$iternext())void 0===(t=e.mp$subscript(n))&&(t=null),r[n=a.ffi.remapToJs(n)]=a.ffi.remapToJs(t);return r}if(e instanceof a.builtin.list||e instanceof a.builtin.tuple){for(r=[],t=0;t<e.v.length;++t)r.push(a.ffi.remapToJs(e.v[t]));return r}return e instanceof a.builtin.bool?!!e.v:e instanceof a.builtin.int_?a.builtin.asnum$(e):e instanceof a.builtin.float_?a.builtin.asnum$(e):e instanceof a.builtin.lng?a.builtin.asnum$(e):"number"==typeof e||"boolean"==typeof e?e:e.v},s.exportSymbol("Sk.ffi.remapToJs",a.ffi.remapToJs),a.ffi.callback=function(e){return void 0===e?e:function(){return a.misceval.apply(e,void 0,void 0,void 0,Array.prototype.slice.call(arguments,0))}},s.exportSymbol("Sk.ffi.callback",a.ffi.callback),a.ffi.stdwrap=function(e,t){var n=new e;return n.v=t,n},s.exportSymbol("Sk.ffi.stdwrap",a.ffi.stdwrap),a.ffi.basicwrap=function(e){return e instanceof a.builtin.int_?a.builtin.asnum$(e):e instanceof a.builtin.float_?a.builtin.asnum$(e):e instanceof a.builtin.lng?a.builtin.asnum$(e):"number"==typeof e||"boolean"==typeof e?e:"string"==typeof e?new a.builtin.str(e):void s.asserts.fail("unexpected type for basicwrap")},s.exportSymbol("Sk.ffi.basicwrap",a.ffi.basicwrap),a.ffi.unwrapo=function(e){return void 0===e?void 0:e.v},s.exportSymbol("Sk.ffi.unwrapo",a.ffi.unwrapo),a.ffi.unwrapn=function(e){return null===e?null:e.v},s.exportSymbol("Sk.ffi.unwrapn",a.ffi.unwrapn),a.builtin.iterator=function(e,t){var n;return e instanceof a.builtin.generator?e:(n=a.abstr.lookupSpecial(e,"__iter__"))?a.misceval.callsim(n,e):(this.sentinel=t,this.flag=!1,this.idx=0,this.obj=e,void 0===t?(this.getitem=a.abstr.lookupSpecial(e,"__getitem__"),this.$r=function(){return new a.builtin.str("<iterator object>")}):(this.call=a.abstr.lookupSpecial(e,"__call__"),this.$r=function(){return new a.builtin.str("<callable-iterator object>")}),this)},a.abstr.setUpInheritance("iterator",a.builtin.iterator,a.builtin.object),a.builtin.iterator.prototype.__class__=a.builtin.iterator,a.builtin.iterator.prototype.__iter__=new a.builtin.func(function(e){return e.tp$iter()}),a.builtin.iterator.prototype.tp$iter=function(){return this},a.builtin.iterator.prototype.tp$iternext=function(e){var t,n=this;if(!0!==this.flag)return this.getitem?(t=a.misceval.tryCatch(function(){return a.misceval.callsimOrSuspend(n.getitem,n.obj,a.ffi.remapToPy(n.idx++))},function(e){if(!(e instanceof a.builtin.StopIteration||e instanceof a.builtin.IndexError))throw e}),e?t:a.misceval.retryOptionalSuspensionOrThrow(t)):(t=function(e){if(!a.misceval.richCompareBool(e,n.sentinel,"Eq"))return e;n.flag=!0},t=this.call?a.misceval.chain(a.misceval.callsimOrSuspend(this.call,this.obj),t):a.misceval.chain(a.misceval.callsimOrSuspend(this.obj),t),e?t:a.misceval.retryOptionalSuspensionOrThrow(t))},a.builtin.iterator.prototype.next=new a.builtin.func(function(e){if(!(e=e.tp$iternext()))throw new a.builtin.StopIteration;return e}),s.exportSymbol("Sk.builtin.iterator",a.builtin.iterator),a.builtin.enumerate=function(e,t){var n;if(!(this instanceof a.builtin.enumerate))return new a.builtin.enumerate(e,t);if(a.builtin.pyCheckArgs("enumerate",arguments,1,2),!a.builtin.checkIterable(e))throw new a.builtin.TypeError("'"+a.abstr.typeName(e)+"' object is not iterable");if(void 0!==t){if(!a.misceval.isIndex(t))throw new a.builtin.TypeError("'"+a.abstr.typeName(t)+"' object cannot be interpreted as an index");t=a.misceval.asIndex(t)}else t=0;return n=e.tp$iter(),this.tp$iter=function(){return this},this.$index=t,this.tp$iternext=function(){var e,t=n.tp$iternext();if(void 0!==t)return e=new a.builtin.int_(this.$index++),new a.builtin.tuple([e,t])},this.__class__=a.builtin.enumerate,this},a.abstr.setUpInheritance("enumerate",a.builtin.enumerate,a.builtin.object),a.builtin.enumerate.prototype.__iter__=new a.builtin.func(function(e){return e.tp$iter()}),a.builtin.enumerate.prototype.next=new a.builtin.func(function(e){return e.tp$iternext()}),a.builtin.enumerate.prototype.$r=function(){return new a.builtin.str("<enumerate object>")},a.Tokenizer=function(e,t,n){this.filename=e,this.callback=n,this.parenlev=this.lnum=0,this.continued=!1,this.namechars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_",this.numchars="0123456789",this.contstr="",this.needcont=!1,this.contline=void 0,this.indents=[0],this.endprog=/.*/,this.strstart=[-1,-1],this.interactive=t,this.doneFunc=function(){var e;for(e=1;e<this.indents.length;++e)if(this.callback(a.Tokenizer.Tokens.T_DEDENT,"",[this.lnum,0],[this.lnum,0],""))return"done";return this.callback(a.Tokenizer.Tokens.T_ENDMARKER,"",[this.lnum,0],[this.lnum,0],"")?"done":"failed"}},a.Tokenizer.Tokens={T_ENDMARKER:0,T_NAME:1,T_NUMBER:2,T_STRING:3,T_NEWLINE:4,T_INDENT:5,T_DEDENT:6,T_LPAR:7,T_RPAR:8,T_LSQB:9,T_RSQB:10,T_COLON:11,T_COMMA:12,T_SEMI:13,T_PLUS:14,T_MINUS:15,T_STAR:16,T_SLASH:17,T_VBAR:18,T_AMPER:19,T_LESS:20,T_GREATER:21,T_EQUAL:22,T_DOT:23,T_PERCENT:24,T_BACKQUOTE:25,T_LBRACE:26,T_RBRACE:27,T_EQEQUAL:28,T_NOTEQUAL:29,T_LESSEQUAL:30,T_GREATEREQUAL:31,T_TILDE:32,T_CIRCUMFLEX:33,T_LEFTSHIFT:34,T_RIGHTSHIFT:35,T_DOUBLESTAR:36,T_PLUSEQUAL:37,T_MINEQUAL:38,T_STAREQUAL:39,T_SLASHEQUAL:40,T_PERCENTEQUAL:41,T_AMPEREQUAL:42,T_VBAREQUAL:43,T_CIRCUMFLEXEQUAL:44,T_LEFTSHIFTEQUAL:45,T_RIGHTSHIFTEQUAL:46,T_DOUBLESTAREQUAL:47,T_DOUBLESLASH:48,T_DOUBLESLASHEQUAL:49,T_AT:50,T_OP:51,T_COMMENT:52,T_NL:53,T_RARROW:54,T_ERRORTOKEN:55,T_N_TOKENS:56,T_NT_OFFSET:256};var g=m("0[bB][01]*","0[xX][\\da-fA-F]*[lL]?","0[oO]?[0-7]*[lL]?","[1-9]\\d*[lL]?"),b=m("\\d+\\.\\d*","\\.\\d+")+function(e){return m.apply(null,arguments)+"?"}("[eE][-+]?\\d+"),y=m(b,"\\d+[eE][-+]?\\d+"),v=m("\\d+[jJ]",y+"[jJ]"),_=m(v,y,g),x=m("[ubUB]?[rR]?'''",'[ubUB]?[rR]?"""'),w=(m("[uU]?[rR]?'[^\\n'\\\\]*(?:\\\\.[^\\n'\\\\]*)*'",'[uU]?[rR]?"[^\\n"\\\\]*(?:\\\\.[^\\n"\\\\]*)*"'),m("\\*\\*=?",">>=?","<<=?","<>","!=","//=?","->","[+\\-*/%&|^=<>]=?","~")),k=m("\\r?\\n","[:;.,`@]"),S=m(w,"[\\][(){}]",k),C=m("[uUbB]?[rR]?'[^\\n'\\\\]*(?:\\\\.[^\\n'\\\\]*)*"+m("'","\\\\\\r?\\n"),'[uUbB]?[rR]?"[^\\n"\\\\]*(?:\\\\.[^\\n"\\\\]*)*'+m('"',"\\\\\\r?\\n")),E=m("\\\\\\r?\\n","#[^\\r\\n]*",x),T="^"+m(E,_,S,C,"[a-zA-Z_]\\w*"),A={"'''":!0,'"""':!0,"r'''":!0,'r"""':!0,"R'''":!0,'R"""':!0,"u'''":!0,'u"""':!0,"U'''":!0,'U"""':!0,"b'''":!0,'b"""':!0,"B'''":!0,'B"""':!0,"ur'''":!0,'ur"""':!0,"Ur'''":!0,'Ur"""':!0,"uR'''":!0,'uR"""':!0,"UR'''":!0,'UR"""':!0,"br'''":!0,'br"""':!0,"Br'''":!0,'Br"""':!0,"bR'''":!0,'bR"""':!0,"BR'''":!0,'BR"""':!0},N={"'":!0,'"':!0,"r'":!0,'r"':!0,"R'":!0,'R"':!0,"u'":!0,'u"':!0,"U'":!0,'U"':!0,"b'":!0,'b"':!0,"B'":!0,'B"':!0,"ur'":!0,'ur"':!0,"Ur'":!0,'Ur"':!0,"uR'":!0,'uR"':!0,"UR'":!0,'UR"':!0,"br'":!0,'br"':!0,"Br'":!0,'Br"':!0,"bR'":!0,'bR"':!0,"BR'":!0,'BR"':!0};!function(){for(var e in A);for(e in N);}();function M(e,t){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1}function R(e,t){return this.filename=e,this.grammar=t,this.p_flags=0,this}function O(e,t){for(var n=e.length;n--;)if(e[n][0]===t[0]&&e[n][1]===t[1])return!0;return!1}function L(){}function P(){}function D(){}function I(){}function F(){}function $(){}function j(){}function B(){}function z(){}function q(){}function H(){}function U(){}function W(){}function V(){}function G(){}function K(){}function Y(){}function X(){}function Q(){}function Z(){}function J(){}function ee(){}function te(){}function ne(){}function ie(){}function re(){}function oe(){}function se(){}function ae(){}function le(){}function ue(){}function ce(){}function pe(){}function fe(){}function de(e){return this.body=e,this}function he(e){return this.body=e,this}function me(e){return s.asserts.assert(null!=e),this.body=e,this}function ge(e){return this.body=e,this}function be(e,t,n,i,r,o){return s.asserts.assert(null!=e),s.asserts.assert(null!=t),this.name=e,this.args=t,this.body=n,this.decorator_list=i,this.lineno=r,this.col_offset=o,this}function ye(e,t,n,i,r,o){return s.asserts.assert(null!=e),this.name=e,this.bases=t,this.body=n,this.decorator_list=i,this.lineno=r,this.col_offset=o,this}function ve(e,t,n){return this.value=e,this.lineno=t,this.col_offset=n,this}function _e(e,t,n){return this.targets=e,this.lineno=t,this.col_offset=n,this}function xe(e,t,n,i){return s.asserts.assert(null!=t),this.targets=e,this.value=t,this.lineno=n,this.col_offset=i,this}function we(e,t,n,i,r){return s.asserts.assert(null!=e),s.asserts.assert(null!=t),s.asserts.assert(null!=n),this.target=e,this.op=t,this.value=n,this.lineno=i,this.col_offset=r,this}function ke(e,t,n,i,r){return this.dest=e,this.values=t,this.nl=n,this.lineno=i,this.col_offset=r,this}function Se(e,t,n,i,r,o){return s.asserts.assert(null!=e),s.asserts.assert(null!=t),this.target=e,this.iter=t,this.body=n,this.orelse=i,this.lineno=r,this.col_offset=o,this}function Ce(e,t,n,i,r){return s.asserts.assert(null!=e),this.test=e,this.body=t,this.orelse=n,this.lineno=i,this.col_offset=r,this}function Ee(e,t,n,i,r){return s.asserts.assert(null!=e),this.test=e,this.body=t,this.orelse=n,this.lineno=i,this.col_offset=r,this}function Te(e,t,n,i,r){return s.asserts.assert(null!=e),this.context_expr=e,this.optional_vars=t,this.body=n,this.lineno=i,this.col_offset=r,this}function Ae(e,t,n,i,r){return this.type=e,this.inst=t,this.tback=n,this.lineno=i,this.col_offset=r,this}function Ne(e,t,n,i,r){return this.body=e,this.handlers=t,this.orelse=n,this.lineno=i,this.col_offset=r,this}function Me(e,t,n,i){return this.body=e,this.finalbody=t,this.lineno=n,this.col_offset=i,this}function Re(e,t,n,i){return s.asserts.assert(null!=e),this.test=e,this.msg=t,this.lineno=n,this.col_offset=i,this}function Oe(e,t,n){return this.names=e,this.lineno=t,this.col_offset=n,this}function Le(e,t,n,i,r){return s.asserts.assert(null!=e),this.module=e,this.names=t,this.level=n,this.lineno=i,this.col_offset=r,this}function Pe(e,t,n,i,r){return s.asserts.assert(null!=e),this.body=e,this.globals=t,this.locals=n,this.lineno=i,this.col_offset=r,this}function De(e,t,n){return this.names=e,this.lineno=t,this.col_offset=n,this}function Ie(e,t,n){return s.asserts.assert(null!=e),this.value=e,this.lineno=t,this.col_offset=n,this}function Fe(e,t){return this.lineno=e,this.col_offset=t,this}function $e(e,t){return this.lineno=e,this.col_offset=t,this}function je(e,t){return this.lineno=e,this.col_offset=t,this}function Be(e,t){return this.lineno=e,this.col_offset=t,this}function ze(e,t,n,i){return s.asserts.assert(null!=e),this.op=e,this.values=t,this.lineno=n,this.col_offset=i,this}function qe(e,t,n,i,r){return s.asserts.assert(null!=e),s.asserts.assert(null!=t),s.asserts.assert(null!=n),this.left=e,this.op=t,this.right=n,this.lineno=i,this.col_offset=r,this}function He(e,t,n,i){return s.asserts.assert(null!=e),s.asserts.assert(null!=t),this.op=e,this.operand=t,this.lineno=n,this.col_offset=i,this}function Ue(e,t,n,i){return s.asserts.assert(null!=e),s.asserts.assert(null!=t),this.args=e,this.body=t,this.lineno=n,this.col_offset=i,this}function We(e,t,n,i,r){return s.asserts.assert(null!=e),s.asserts.assert(null!=t),s.asserts.assert(null!=n),this.test=e,this.body=t,this.orelse=n,this.lineno=i,this.col_offset=r,this}function Ve(e,t,n,i){return this.keys=e,this.values=t,this.lineno=n,this.col_offset=i,this}function Ge(e,t,n){return this.elts=e,this.lineno=t,this.col_offset=n,this}function Ke(e,t,n,i){return s.asserts.assert(null!=e),this.elt=e,this.generators=t,this.lineno=n,this.col_offset=i,this}function Ye(e,t,n,i){return s.asserts.assert(null!=e),this.elt=e,this.generators=t,this.lineno=n,this.col_offset=i,this}function Xe(e,t,n,i,r){return s.asserts.assert(null!=e),s.asserts.assert(null!=t),this.key=e,this.value=t,this.generators=n,this.lineno=i,this.col_offset=r,this}function Qe(e,t,n,i){return s.asserts.assert(null!=e),this.elt=e,this.generators=t,this.lineno=n,this.col_offset=i,this}function Ze(e,t,n){return this.value=e,this.lineno=t,this.col_offset=n,this}function Je(e,t,n,i,r){return s.asserts.assert(null!=e),this.left=e,this.ops=t,this.comparators=n,this.lineno=i,this.col_offset=r,this}function et(e,t,n,i,r,o,a){return s.asserts.assert(null!=e),this.func=e,this.args=t,this.keywords=n,this.starargs=i,this.kwargs=r,this.lineno=o,this.col_offset=a,this}function tt(e,t,n){return s.asserts.assert(null!=e),this.value=e,this.lineno=t,this.col_offset=n,this}function nt(e,t,n){return s.asserts.assert(null!=e),this.n=e,this.lineno=t,this.col_offset=n,this}function it(e,t,n){return s.asserts.assert(null!=e),this.s=e,this.lineno=t,this.col_offset=n,this}function rt(e,t,n,i,r){return s.asserts.assert(null!=e),s.asserts.assert(null!=t),s.asserts.assert(null!=n),this.value=e,this.attr=t,this.ctx=n,this.lineno=i,this.col_offset=r,this}function ot(e,t,n,i,r){return s.asserts.assert(null!=e),s.asserts.assert(null!=t),s.asserts.assert(null!=n),this.value=e,this.slice=t,this.ctx=n,this.lineno=i,this.col_offset=r,this}function st(e,t,n,i){return s.asserts.assert(null!=e),s.asserts.assert(null!=t),this.id=e,this.ctx=t,this.lineno=n,this.col_offset=i,this}function at(e,t,n,i){return s.asserts.assert(null!=t),this.elts=e,this.ctx=t,this.lineno=n,this.col_offset=i,this}function lt(e,t,n,i){return s.asserts.assert(null!=t),this.elts=e,this.ctx=t,this.lineno=n,this.col_offset=i,this}function ut(){return this}function ct(e,t,n){return this.lower=e,this.upper=t,this.step=n,this}function pt(e){return this.dims=e,this}function ft(e){return s.asserts.assert(null!=e),this.value=e,this}function dt(e,t,n){return s.asserts.assert(null!=e),s.asserts.assert(null!=t),this.target=e,this.iter=t,this.ifs=n,this}function ht(e,t,n,i,r){return this.type=e,this.name=t,this.body=n,this.lineno=i,this.col_offset=r,this}function mt(e,t,n,i){return this.args=e,this.vararg=t,this.kwarg=n,this.defaults=i,this}function gt(e,t){return s.asserts.assert(null!=e),s.asserts.assert(null!=t),this.arg=e,this.value=t,this}function bt(e,t){return s.asserts.assert(null!=e),this.name=e,this.asname=t,this}a.Tokenizer.prototype.generateTokens=function(e){var t,n,i,r,o,s,l,u;t=RegExp(T),u=RegExp("[^'\\\\]*(?:(?:\\\\.|'(?!''))[^'\\\\]*)*'''","g"),l=RegExp('[^"\\\\]*(?:(?:\\\\.|"(?!""))[^"\\\\]*)*"""',"g");var c={"'":RegExp("^[^'\\\\]*(?:\\\\.[^'\\\\]*)*'","g"),'"':RegExp('^[^"\\\\]*(?:\\\\.[^"\\\\]*)*"',"g"),"'''":u,'"""':l,"r'''":u,'r"""':l,"u'''":u,'u"""':l,"b'''":u,'b"""':l,"ur'''":u,'ur"""':l,"br'''":u,'br"""':l,"R'''":u,'R"""':l,"U'''":u,'U"""':l,"B'''":u,'B"""':l,"uR'''":u,'uR"""':l,"Ur'''":u,'Ur"""':l,"UR'''":u,'UR"""':l,"bR'''":u,'bR"""':l,"Br'''":u,'Br"""':l,"BR'''":u,'BR"""':l,r:null,R:null,u:null,U:null,b:null,B:null};if(e||(e=""),this.lnum+=1,u=0,l=e.length,0<this.contstr.length){if(!e)throw new a.builtin.SyntaxError("EOF in multi-line string",this.filename,this.strstart[0],this.strstart[1],this.contline);if(this.endprog.lastIndex=0,!(o=this.endprog.test(e))){if(this.needcont&&"\\\n"!==e.substring(e.length-2)&&"\\\r\n"!==e.substring(e.length-3)){if(this.callback(a.Tokenizer.Tokens.T_ERRORTOKEN,this.contstr+e,this.strstart,[this.lnum,e.length],this.contline))return"done";this.contstr="",this.contline=void 0}else this.contstr+=e,this.contline+=e;return!1}if(u=r=this.endprog.lastIndex,this.callback(a.Tokenizer.Tokens.T_STRING,this.contstr+e.substring(0,r),this.strstart,[this.lnum,r],this.contline+e))return"done";this.contstr="",this.needcont=!1,this.contline=void 0}else if(0!==this.parenlev||this.continued){if(!e)throw new a.builtin.SyntaxError("EOF in multi-line statement",this.filename,this.lnum,0,e);this.continued=!1}else{if(!e)return this.doneFunc();for(s=0;u<l;){if(" "===e.charAt(u))s+=1;else if("\t"===e.charAt(u))s=8*(s/8+1);else{if("\f"!==e.charAt(u))break;s=0}u+=1}if(u===l)return this.doneFunc();if(-1!=="#\r\n".indexOf(e.charAt(u))){if("#"===e.charAt(u))return l=function(e,t){var n;for(n=e.length;0<n&&-1!==t.indexOf(e.charAt(n-1));--n);return e.substring(0,n)}(e.substring(u),"\r\n"),t=u+l.length,!(!this.callback(a.Tokenizer.Tokens.T_COMMENT,l,[this.lnum,u],[this.lnum,u+l.length],e)&&!this.callback(a.Tokenizer.Tokens.T_NL,e.substring(t),[this.lnum,t],[this.lnum,e.length],e))&&"done";if(this.callback(a.Tokenizer.Tokens.T_NL,e.substring(u),[this.lnum,u],[this.lnum,e.length],e))return"done";if(!this.interactive)return!1}if(s>this.indents[this.indents.length-1]&&(this.indents.push(s),this.callback(a.Tokenizer.Tokens.T_INDENT,e.substring(0,u),[this.lnum,0],[this.lnum,u],e)))return"done";for(;s<this.indents[this.indents.length-1];){if(!M(this.indents,s))throw new a.builtin.IndentationError("unindent does not match any outer indentation level",this.filename,this.lnum,u,e);if(this.indents.splice(this.indents.length-1,1),this.callback(a.Tokenizer.Tokens.T_DEDENT,"",[this.lnum,u],[this.lnum,u],e))return"done"}}for(;u<l;){for(s=e.charAt(u);" "===s||"\f"===s||"\t"===s;)u+=1,s=e.charAt(u);if(t.lastIndex=0,s=t.exec(e.substring(u))){if(r=(n=u)+s[1].length,s=[this.lnum,n],o=[this.lnum,r],u=r,r=e.substring(n,r),i=e.charAt(n),-1!==this.numchars.indexOf(i)||"."===i&&"."!==r){if(this.callback(a.Tokenizer.Tokens.T_NUMBER,r,s,o,e))return"done"}else if("\r"===i||"\n"===i){if(n=a.Tokenizer.Tokens.T_NEWLINE,0<this.parenlev&&(n=a.Tokenizer.Tokens.T_NL),this.callback(n,r,s,o,e))return"done"}else if("#"===i){if(this.callback(a.Tokenizer.Tokens.T_COMMENT,r,s,o,e))return"done"}else if(A.hasOwnProperty(r)){if(this.endprog=c[r],this.endprog.lastIndex=0,!(o=this.endprog.test(e.substring(u)))){this.strstart=[this.lnum,n],this.contstr=e.substring(n),this.contline=e;break}if(u=this.endprog.lastIndex+u,r=e.substring(n,u),this.callback(a.Tokenizer.Tokens.T_STRING,r,s,[this.lnum,u],e))return"done"}else if(N.hasOwnProperty(i)||N.hasOwnProperty(r.substring(0,2))||N.hasOwnProperty(r.substring(0,3))){if("\n"===r[r.length-1]){this.strstart=[this.lnum,n],this.endprog=c[i]||c[r[1]]||c[r[2]],this.contstr=e.substring(n),this.needcont=!0,this.contline=e;break}if(this.callback(a.Tokenizer.Tokens.T_STRING,r,s,o,e))return"done"}else if(-1!==this.namechars.indexOf(i)){if(this.callback(a.Tokenizer.Tokens.T_NAME,r,s,o,e))return"done"}else if("\\"===i){if(this.callback(a.Tokenizer.Tokens.T_NL,r,s,[this.lnum,u],e))return"done";this.continued=!0}else if(-1!=="([{".indexOf(i)?this.parenlev+=1:-1!==")]}".indexOf(i)&&(this.parenlev-=1),this.callback(a.Tokenizer.Tokens.T_OP,r,s,o,e))return"done"}else{if(this.callback(a.Tokenizer.Tokens.T_ERRORTOKEN,e.charAt(u),[this.lnum,u],[this.lnum,u+1],e))return"done";u+=1}}return!1},a.Tokenizer.tokenNames={0:"T_ENDMARKER",1:"T_NAME",2:"T_NUMBER",3:"T_STRING",4:"T_NEWLINE",5:"T_INDENT",6:"T_DEDENT",7:"T_LPAR",8:"T_RPAR",9:"T_LSQB",10:"T_RSQB",11:"T_COLON",12:"T_COMMA",13:"T_SEMI",14:"T_PLUS",15:"T_MINUS",16:"T_STAR",17:"T_SLASH",18:"T_VBAR",19:"T_AMPER",20:"T_LESS",21:"T_GREATER",22:"T_EQUAL",23:"T_DOT",24:"T_PERCENT",25:"T_BACKQUOTE",26:"T_LBRACE",27:"T_RBRACE",28:"T_EQEQUAL",29:"T_NOTEQUAL",30:"T_LESSEQUAL",31:"T_GREATEREQUAL",32:"T_TILDE",33:"T_CIRCUMFLEX",34:"T_LEFTSHIFT",35:"T_RIGHTSHIFT",36:"T_DOUBLESTAR",37:"T_PLUSEQUAL",38:"T_MINEQUAL",39:"T_STAREQUAL",40:"T_SLASHEQUAL",41:"T_PERCENTEQUAL",42:"T_AMPEREQUAL",43:"T_VBAREQUAL",44:"T_CIRCUMFLEXEQUAL",45:"T_LEFTSHIFTEQUAL",46:"T_RIGHTSHIFTEQUAL",47:"T_DOUBLESTAREQUAL",48:"T_DOUBLESLASH",49:"T_DOUBLESLASHEQUAL",50:"T_AT",51:"T_OP",52:"T_COMMENT",53:"T_NL",54:"T_RARROW",55:"T_ERRORTOKEN",56:"T_N_TOKENS",256:"T_NT_OFFSET"},s.exportSymbol("Sk.Tokenizer",a.Tokenizer),s.exportSymbol("Sk.Tokenizer.prototype.generateTokens",a.Tokenizer.prototype.generateTokens),s.exportSymbol("Sk.Tokenizer.tokenNames",a.Tokenizer.tokenNames),a.OpMap={"(":a.Tokenizer.Tokens.T_LPAR,")":a.Tokenizer.Tokens.T_RPAR,"[":a.Tokenizer.Tokens.T_LSQB,"]":a.Tokenizer.Tokens.T_RSQB,":":a.Tokenizer.Tokens.T_COLON,",":a.Tokenizer.Tokens.T_COMMA,";":a.Tokenizer.Tokens.T_SEMI,"+":a.Tokenizer.Tokens.T_PLUS,"-":a.Tokenizer.Tokens.T_MINUS,"*":a.Tokenizer.Tokens.T_STAR,"/":a.Tokenizer.Tokens.T_SLASH,"|":a.Tokenizer.Tokens.T_VBAR,"&":a.Tokenizer.Tokens.T_AMPER,"<":a.Tokenizer.Tokens.T_LESS,">":a.Tokenizer.Tokens.T_GREATER,"=":a.Tokenizer.Tokens.T_EQUAL,".":a.Tokenizer.Tokens.T_DOT,"%":a.Tokenizer.Tokens.T_PERCENT,"`":a.Tokenizer.Tokens.T_BACKQUOTE,"{":a.Tokenizer.Tokens.T_LBRACE,"}":a.Tokenizer.Tokens.T_RBRACE,"@":a.Tokenizer.Tokens.T_AT,"==":a.Tokenizer.Tokens.T_EQEQUAL,"!=":a.Tokenizer.Tokens.T_NOTEQUAL,"<>":a.Tokenizer.Tokens.T_NOTEQUAL,"<=":a.Tokenizer.Tokens.T_LESSEQUAL,">=":a.Tokenizer.Tokens.T_GREATEREQUAL,"~":a.Tokenizer.Tokens.T_TILDE,"^":a.Tokenizer.Tokens.T_CIRCUMFLEX,"<<":a.Tokenizer.Tokens.T_LEFTSHIFT,">>":a.Tokenizer.Tokens.T_RIGHTSHIFT,"**":a.Tokenizer.Tokens.T_DOUBLESTAR,"+=":a.Tokenizer.Tokens.T_PLUSEQUAL,"-=":a.Tokenizer.Tokens.T_MINEQUAL,"*=":a.Tokenizer.Tokens.T_STAREQUAL,"/=":a.Tokenizer.Tokens.T_SLASHEQUAL,"%=":a.Tokenizer.Tokens.T_PERCENTEQUAL,"&=":a.Tokenizer.Tokens.T_AMPEREQUAL,"|=":a.Tokenizer.Tokens.T_VBAREQUAL,"^=":a.Tokenizer.Tokens.T_CIRCUMFLEXEQUAL,"<<=":a.Tokenizer.Tokens.T_LEFTSHIFTEQUAL,">>=":a.Tokenizer.Tokens.T_RIGHTSHIFTEQUAL,"**=":a.Tokenizer.Tokens.T_DOUBLESTAREQUAL,"//":a.Tokenizer.Tokens.T_DOUBLESLASH,"//=":a.Tokenizer.Tokens.T_DOUBLESLASHEQUAL,"->":a.Tokenizer.Tokens.T_RARROW},a.ParseTables={sym:{and_expr:257,and_test:258,arglist:259,argument:260,arith_expr:261,assert_stmt:262,atom:263,augassign:264,break_stmt:265,classdef:266,comp_for:267,comp_if:268,comp_iter:269,comp_op:270,comparison:271,compound_stmt:272,continue_stmt:273,debugger_stmt:274,decorated:275,decorator:276,decorators:277,del_stmt:278,dictorsetmaker:279,dotted_as_name:280,dotted_as_names:281,dotted_name:282,encoding_decl:283,eval_input:284,except_clause:285,exec_stmt:286,expr:287,expr_stmt:288,exprlist:289,factor:290,file_input:291,flow_stmt:292,for_stmt:293,fpdef:294,fplist:295,funcdef:296,global_stmt:297,if_stmt:298,import_as_name:299,import_as_names:300,import_from:301,import_name:302,import_stmt:303,lambdef:304,list_for:305,list_if:306,list_iter:307,listmaker:308,not_test:309,old_lambdef:310,old_test:311,or_test:312,parameters:313,pass_stmt:314,power:315,print_stmt:316,raise_stmt:317,return_stmt:318,shift_expr:319,simple_stmt:320,single_input:256,sliceop:321,small_stmt:322,stmt:323,subscript:324,subscriptlist:325,suite:326,term:327,test:328,testlist:329,testlist1:330,testlist_comp:331,testlist_safe:332,trailer:333,try_stmt:334,varargslist:335,while_stmt:336,with_item:337,with_stmt:338,xor_expr:339,yield_expr:340,yield_stmt:341},number2symbol:{256:"single_input",257:"and_expr",258:"and_test",259:"arglist",260:"argument",261:"arith_expr",262:"assert_stmt",263:"atom",264:"augassign",265:"break_stmt",266:"classdef",267:"comp_for",268:"comp_if",269:"comp_iter",270:"comp_op",271:"comparison",272:"compound_stmt",273:"continue_stmt",274:"debugger_stmt",275:"decorated",276:"decorator",277:"decorators",278:"del_stmt",279:"dictorsetmaker",280:"dotted_as_name",281:"dotted_as_names",282:"dotted_name",283:"encoding_decl",284:"eval_input",285:"except_clause",286:"exec_stmt",287:"expr",288:"expr_stmt",289:"exprlist",290:"factor",291:"file_input",292:"flow_stmt",293:"for_stmt",294:"fpdef",295:"fplist",296:"funcdef",297:"global_stmt",298:"if_stmt",299:"import_as_name",300:"import_as_names",301:"import_from",302:"import_name",303:"import_stmt",304:"lambdef",305:"list_for",306:"list_if",307:"list_iter",308:"listmaker",309:"not_test",310:"old_lambdef",311:"old_test",312:"or_test",313:"parameters",314:"pass_stmt",315:"power",316:"print_stmt",317:"raise_stmt",318:"return_stmt",319:"shift_expr",320:"simple_stmt",321:"sliceop",322:"small_stmt",323:"stmt",324:"subscript",325:"subscriptlist",326:"suite",327:"term",328:"test",329:"testlist",330:"testlist1",331:"testlist_comp",332:"testlist_safe",333:"trailer",334:"try_stmt",335:"varargslist",336:"while_stmt",337:"with_item",338:"with_stmt",339:"xor_expr",340:"yield_expr",341:"yield_stmt"},dfas:{256:[[[[1,1],[2,1],[3,2]],[[0,1]],[[2,1]]],{2:1,4:1,5:1,6:1,7:1,8:1,9:1,10:1,11:1,12:1,13:1,14:1,15:1,16:1,17:1,18:1,19:1,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:1,28:1,29:1,30:1,31:1,32:1,33:1,34:1,35:1,36:1,37:1}],257:[[[[38,1]],[[39,0],[0,1]]],{6:1,8:1,9:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1}],258:[[[[40,1]],[[41,0],[0,1]]],{6:1,7:1,8:1,9:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1}],259:[[[[42,1],[43,2],[44,3]],[[45,4]],[[46,5],[0,2]],[[45,6]],[[46,7],[0,4]],[[42,1],[43,2],[44,3],[0,5]],[[0,6]],[[43,4],[44,3]]],{6:1,7:1,8:1,9:1,11:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1,42:1,44:1}],260:[[[[45,1]],[[47,2],[48,3],[0,1]],[[45,3]],[[0,3]]],{6:1,7:1,8:1,9:1,11:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1}],261:[[[[49,1]],[[26,0],[37,0],[0,1]]],{6:1,8:1,9:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1}],262:[[[[21,1]],[[45,2]],[[46,3],[0,2]],[[45,4]],[[0,4]]],{21:1}],263:[[[[19,1],[8,2],[9,5],[30,4],[14,3],[15,6],[22,2]],[[19,1],[0,1]],[[0,2]],[[50,7],[51,2]],[[52,2],[53,8],[54,8]],[[55,2],[56,9]],[[57,10]],[[51,2]],[[52,2]],[[55,2]],[[15,2]]],{8:1,9:1,14:1,15:1,19:1,22:1,30:1}],264:[[[[58,1],[59,1],[60,1],[61,1],[62,1],[63,1],[64,1],[65,1],[66,1],[67,1],[68,1],[69,1]],[[0,1]]],{58:1,59:1,60:1,61:1,62:1,63:1,64:1,65:1,66:1,67:1,68:1,69:1}],265:[[[[33,1]],[[0,1]]],{33:1}],266:[[[[10,1]],[[22,2]],[[70,3],[30,4]],[[71,5]],[[52,6],[72,7]],[[0,5]],[[70,3]],[[52,6]]],{10:1}],267:[[[[29,1]],[[73,2]],[[74,3]],[[75,4]],[[76,5],[0,4]],[[0,5]]],{29:1}],268:[[[[32,1]],[[77,2]],[[76,3],[0,2]],[[0,3]]],{32:1}],269:[[[[78,1],[48,1]],[[0,1]]],{29:1,32:1}],270:[[[[79,1],[80,1],[7,2],[81,1],[79,1],[74,1],[82,1],[83,3],[84,1],[85,1]],[[0,1]],[[74,1]],[[7,1],[0,3]]],{7:1,74:1,79:1,80:1,81:1,82:1,83:1,84:1,85:1}],271:[[[[86,1]],[[87,0],[0,1]]],{6:1,8:1,9:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1}],272:[[[[88,1],[89,1],[90,1],[91,1],[92,1],[93,1],[94,1],[95,1]],[[0,1]]],{4:1,10:1,16:1,18:1,29:1,32:1,35:1,36:1}],273:[[[[34,1]],[[0,1]]],{34:1}],274:[[[[13,1]],[[0,1]]],{13:1}],275:[[[[96,1]],[[94,2],[91,2]],[[0,2]]],{35:1}],276:[[[[35,1]],[[97,2]],[[2,4],[30,3]],[[52,5],[98,6]],[[0,4]],[[2,4]],[[52,5]]],{35:1}],277:[[[[99,1]],[[99,1],[0,1]]],{35:1}],278:[[[[23,1]],[[73,2]],[[0,2]]],{23:1}],279:[[[[45,1]],[[70,2],[48,3],[46,4],[0,1]],[[45,5]],[[0,3]],[[45,6],[0,4]],[[48,3],[46,7],[0,5]],[[46,4],[0,6]],[[45,8],[0,7]],[[70,9]],[[45,10]],[[46,7],[0,10]]],{6:1,7:1,8:1,9:1,11:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1}],280:[[[[97,1]],[[100,2],[0,1]],[[22,3]],[[0,3]]],{22:1}],281:[[[[101,1]],[[46,0],[0,1]]],{22:1}],282:[[[[22,1]],[[102,0],[0,1]]],{22:1}],283:[[[[22,1]],[[0,1]]],{22:1}],284:[[[[72,1]],[[2,1],[103,2]],[[0,2]]],{6:1,7:1,8:1,9:1,11:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1}],285:[[[[104,1]],[[45,2],[0,1]],[[100,3],[46,3],[0,2]],[[45,4]],[[0,4]]],{104:1}],286:[[[[17,1]],[[86,2]],[[74,3],[0,2]],[[45,4]],[[46,5],[0,4]],[[45,6]],[[0,6]]],{17:1}],287:[[[[105,1]],[[106,0],[0,1]]],{6:1,8:1,9:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1}],288:[[[[72,1]],[[107,2],[47,3],[0,1]],[[72,4],[53,4]],[[72,5],[53,5]],[[0,4]],[[47,3],[0,5]]],{6:1,7:1,8:1,9:1,11:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1}],289:[[[[86,1]],[[46,2],[0,1]],[[86,1],[0,2]]],{6:1,8:1,9:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1}],290:[[[[37,2],[26,2],[6,2],[108,1]],[[0,1]],[[109,1]]],{6:1,8:1,9:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1}],291:[[[[2,0],[103,1],[110,0]],[[0,1]]],{2:1,4:1,5:1,6:1,7:1,8:1,9:1,10:1,11:1,12:1,13:1,14:1,15:1,16:1,17:1,18:1,19:1,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:1,28:1,29:1,30:1,31:1,32:1,33:1,34:1,35:1,36:1,37:1,103:1}],292:[[[[111,1],[112,1],[113,1],[114,1],[115,1]],[[0,1]]],{5:1,20:1,27:1,33:1,34:1}],293:[[[[29,1]],[[73,2]],[[74,3]],[[72,4]],[[70,5]],[[71,6]],[[116,7],[0,6]],[[70,8]],[[71,9]],[[0,9]]],{29:1}],294:[[[[30,1],[22,2]],[[117,3]],[[0,2]],[[52,2]]],{22:1,30:1}],295:[[[[118,1]],[[46,2],[0,1]],[[118,1],[0,2]]],{22:1,30:1}],296:[[[[4,1]],[[22,2]],[[119,3]],[[70,4]],[[71,5]],[[0,5]]],{4:1}],297:[[[[28,1]],[[22,2]],[[46,1],[0,2]]],{28:1}],298:[[[[32,1]],[[45,2]],[[70,3]],[[71,4]],[[116,5],[120,1],[0,4]],[[70,6]],[[71,7]],[[0,7]]],{32:1}],299:[[[[22,1]],[[100,2],[0,1]],[[22,3]],[[0,3]]],{22:1}],300:[[[[121,1]],[[46,2],[0,1]],[[121,1],[0,2]]],{22:1}],301:[[[[31,1]],[[97,2],[102,3]],[[25,4]],[[97,2],[25,4],[102,3]],[[122,5],[42,5],[30,6]],[[0,5]],[[122,7]],[[52,5]]],{31:1}],302:[[[[25,1]],[[123,2]],[[0,2]]],{25:1}],303:[[[[124,1],[125,1]],[[0,1]]],{25:1,31:1}],304:[[[[11,1]],[[70,2],[126,3]],[[45,4]],[[70,2]],[[0,4]]],{11:1}],305:[[[[29,1]],[[73,2]],[[74,3]],[[127,4]],[[128,5],[0,4]],[[0,5]]],{29:1}],306:[[[[32,1]],[[77,2]],[[128,3],[0,2]],[[0,3]]],{32:1}],307:[[[[129,1],[130,1]],[[0,1]]],{29:1,32:1}],308:[[[[45,1]],[[129,2],[46,3],[0,1]],[[0,2]],[[45,4],[0,3]],[[46,3],[0,4]]],{6:1,7:1,8:1,9:1,11:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1}],309:[[[[7,1],[131,2]],[[40,2]],[[0,2]]],{6:1,7:1,8:1,9:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1}],310:[[[[11,1]],[[70,2],[126,3]],[[77,4]],[[70,2]],[[0,4]]],{11:1}],311:[[[[132,1],[75,1]],[[0,1]]],{6:1,7:1,8:1,9:1,11:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1}],312:[[[[133,1]],[[134,0],[0,1]]],{6:1,7:1,8:1,9:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1}],313:[[[[30,1]],[[52,2],[126,3]],[[0,2]],[[52,2]]],{30:1}],314:[[[[24,1]],[[0,1]]],{24:1}],315:[[[[135,1]],[[44,2],[136,1],[0,1]],[[109,3]],[[0,3]]],{8:1,9:1,14:1,15:1,19:1,22:1,30:1}],316:[[[[12,1]],[[45,2],[137,3],[0,1]],[[46,4],[0,2]],[[45,5]],[[45,2],[0,4]],[[46,6],[0,5]],[[45,7]],[[46,8],[0,7]],[[45,7],[0,8]]],{12:1}],317:[[[[5,1]],[[45,2],[0,1]],[[46,3],[0,2]],[[45,4]],[[46,5],[0,4]],[[45,6]],[[0,6]]],{5:1}],318:[[[[20,1]],[[72,2],[0,1]],[[0,2]]],{20:1}],319:[[[[138,1]],[[139,0],[137,0],[0,1]]],{6:1,8:1,9:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1}],320:[[[[140,1]],[[2,2],[141,3]],[[0,2]],[[140,1],[2,2]]],{5:1,6:1,7:1,8:1,9:1,11:1,12:1,13:1,14:1,15:1,17:1,19:1,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:1,28:1,30:1,31:1,33:1,34:1,37:1}],321:[[[[70,1]],[[45,2],[0,1]],[[0,2]]],{70:1}],322:[[[[142,1],[143,1],[144,1],[145,1],[146,1],[147,1],[148,1],[149,1],[150,1],[151,1]],[[0,1]]],{5:1,6:1,7:1,8:1,9:1,11:1,12:1,13:1,14:1,15:1,17:1,19:1,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:1,28:1,30:1,31:1,33:1,34:1,37:1}],323:[[[[1,1],[3,1]],[[0,1]]],{4:1,5:1,6:1,7:1,8:1,9:1,10:1,11:1,12:1,13:1,14:1,15:1,16:1,17:1,18:1,19:1,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:1,28:1,29:1,30:1,31:1,32:1,33:1,34:1,35:1,36:1,37:1}],324:[[[[45,1],[70,2],[102,3]],[[70,2],[0,1]],[[45,4],[152,5],[0,2]],[[102,6]],[[152,5],[0,4]],[[0,5]],[[102,5]]],{6:1,7:1,8:1,9:1,11:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1,70:1,102:1}],325:[[[[153,1]],[[46,2],[0,1]],[[153,1],[0,2]]],{6:1,7:1,8:1,9:1,11:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1,70:1,102:1}],326:[[[[1,1],[2,2]],[[0,1]],[[154,3]],[[110,4]],[[155,1],[110,4]]],{2:1,5:1,6:1,7:1,8:1,9:1,11:1,12:1,13:1,14:1,15:1,17:1,19:1,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:1,28:1,30:1,31:1,33:1,34:1,37:1}],327:[[[[109,1]],[[156,0],[42,0],[157,0],[158,0],[0,1]]],{6:1,8:1,9:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1}],328:[[[[75,1],[159,2]],[[32,3],[0,1]],[[0,2]],[[75,4]],[[116,5]],[[45,2]]],{6:1,7:1,8:1,9:1,11:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1}],329:[[[[45,1]],[[46,2],[0,1]],[[45,1],[0,2]]],{6:1,7:1,8:1,9:1,11:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1}],330:[[[[45,1]],[[46,0],[0,1]]],{6:1,7:1,8:1,9:1,11:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1}],331:[[[[45,1]],[[48,2],[46,3],[0,1]],[[0,2]],[[45,4],[0,3]],[[46,3],[0,4]]],{6:1,7:1,8:1,9:1,11:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1}],332:[[[[77,1]],[[46,2],[0,1]],[[77,3]],[[46,4],[0,3]],[[77,3],[0,4]]],{6:1,7:1,8:1,9:1,11:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1}],333:[[[[30,1],[102,2],[14,3]],[[52,4],[98,5]],[[22,4]],[[160,6]],[[0,4]],[[52,4]],[[51,4]]],{14:1,30:1,102:1}],334:[[[[16,1]],[[70,2]],[[71,3]],[[161,4],[162,5]],[[70,6]],[[70,7]],[[71,8]],[[71,9]],[[161,4],[116,10],[162,5],[0,8]],[[0,9]],[[70,11]],[[71,12]],[[162,5],[0,12]]],{16:1}],335:[[[[42,1],[118,2],[44,3]],[[22,4]],[[47,5],[46,6],[0,2]],[[22,7]],[[46,8],[0,4]],[[45,9]],[[42,1],[118,2],[44,3],[0,6]],[[0,7]],[[44,3]],[[46,6],[0,9]]],{22:1,30:1,42:1,44:1}],336:[[[[18,1]],[[45,2]],[[70,3]],[[71,4]],[[116,5],[0,4]],[[70,6]],[[71,7]],[[0,7]]],{18:1}],337:[[[[45,1]],[[100,2],[0,1]],[[86,3]],[[0,3]]],{6:1,7:1,8:1,9:1,11:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1}],338:[[[[36,1]],[[163,2]],[[70,3],[46,1]],[[71,4]],[[0,4]]],{36:1}],339:[[[[164,1]],[[165,0],[0,1]]],{6:1,8:1,9:1,14:1,15:1,19:1,22:1,26:1,30:1,37:1}],340:[[[[27,1]],[[72,2],[0,1]],[[0,2]]],{27:1}],341:[[[[53,1]],[[0,1]]],{27:1}]},states:[[[[1,1],[2,1],[3,2]],[[0,1]],[[2,1]]],[[[38,1]],[[39,0],[0,1]]],[[[40,1]],[[41,0],[0,1]]],[[[42,1],[43,2],[44,3]],[[45,4]],[[46,5],[0,2]],[[45,6]],[[46,7],[0,4]],[[42,1],[43,2],[44,3],[0,5]],[[0,6]],[[43,4],[44,3]]],[[[45,1]],[[47,2],[48,3],[0,1]],[[45,3]],[[0,3]]],[[[49,1]],[[26,0],[37,0],[0,1]]],[[[21,1]],[[45,2]],[[46,3],[0,2]],[[45,4]],[[0,4]]],[[[19,1],[8,2],[9,5],[30,4],[14,3],[15,6],[22,2]],[[19,1],[0,1]],[[0,2]],[[50,7],[51,2]],[[52,2],[53,8],[54,8]],[[55,2],[56,9]],[[57,10]],[[51,2]],[[52,2]],[[55,2]],[[15,2]]],[[[58,1],[59,1],[60,1],[61,1],[62,1],[63,1],[64,1],[65,1],[66,1],[67,1],[68,1],[69,1]],[[0,1]]],[[[33,1]],[[0,1]]],[[[10,1]],[[22,2]],[[70,3],[30,4]],[[71,5]],[[52,6],[72,7]],[[0,5]],[[70,3]],[[52,6]]],[[[29,1]],[[73,2]],[[74,3]],[[75,4]],[[76,5],[0,4]],[[0,5]]],[[[32,1]],[[77,2]],[[76,3],[0,2]],[[0,3]]],[[[78,1],[48,1]],[[0,1]]],[[[79,1],[80,1],[7,2],[81,1],[79,1],[74,1],[82,1],[83,3],[84,1],[85,1]],[[0,1]],[[74,1]],[[7,1],[0,3]]],[[[86,1]],[[87,0],[0,1]]],[[[88,1],[89,1],[90,1],[91,1],[92,1],[93,1],[94,1],[95,1]],[[0,1]]],[[[34,1]],[[0,1]]],[[[13,1]],[[0,1]]],[[[96,1]],[[94,2],[91,2]],[[0,2]]],[[[35,1]],[[97,2]],[[2,4],[30,3]],[[52,5],[98,6]],[[0,4]],[[2,4]],[[52,5]]],[[[99,1]],[[99,1],[0,1]]],[[[23,1]],[[73,2]],[[0,2]]],[[[45,1]],[[70,2],[48,3],[46,4],[0,1]],[[45,5]],[[0,3]],[[45,6],[0,4]],[[48,3],[46,7],[0,5]],[[46,4],[0,6]],[[45,8],[0,7]],[[70,9]],[[45,10]],[[46,7],[0,10]]],[[[97,1]],[[100,2],[0,1]],[[22,3]],[[0,3]]],[[[101,1]],[[46,0],[0,1]]],[[[22,1]],[[102,0],[0,1]]],[[[22,1]],[[0,1]]],[[[72,1]],[[2,1],[103,2]],[[0,2]]],[[[104,1]],[[45,2],[0,1]],[[100,3],[46,3],[0,2]],[[45,4]],[[0,4]]],[[[17,1]],[[86,2]],[[74,3],[0,2]],[[45,4]],[[46,5],[0,4]],[[45,6]],[[0,6]]],[[[105,1]],[[106,0],[0,1]]],[[[72,1]],[[107,2],[47,3],[0,1]],[[72,4],[53,4]],[[72,5],[53,5]],[[0,4]],[[47,3],[0,5]]],[[[86,1]],[[46,2],[0,1]],[[86,1],[0,2]]],[[[37,2],[26,2],[6,2],[108,1]],[[0,1]],[[109,1]]],[[[2,0],[103,1],[110,0]],[[0,1]]],[[[111,1],[112,1],[113,1],[114,1],[115,1]],[[0,1]]],[[[29,1]],[[73,2]],[[74,3]],[[72,4]],[[70,5]],[[71,6]],[[116,7],[0,6]],[[70,8]],[[71,9]],[[0,9]]],[[[30,1],[22,2]],[[117,3]],[[0,2]],[[52,2]]],[[[118,1]],[[46,2],[0,1]],[[118,1],[0,2]]],[[[4,1]],[[22,2]],[[119,3]],[[70,4]],[[71,5]],[[0,5]]],[[[28,1]],[[22,2]],[[46,1],[0,2]]],[[[32,1]],[[45,2]],[[70,3]],[[71,4]],[[116,5],[120,1],[0,4]],[[70,6]],[[71,7]],[[0,7]]],[[[22,1]],[[100,2],[0,1]],[[22,3]],[[0,3]]],[[[121,1]],[[46,2],[0,1]],[[121,1],[0,2]]],[[[31,1]],[[97,2],[102,3]],[[25,4]],[[97,2],[25,4],[102,3]],[[122,5],[42,5],[30,6]],[[0,5]],[[122,7]],[[52,5]]],[[[25,1]],[[123,2]],[[0,2]]],[[[124,1],[125,1]],[[0,1]]],[[[11,1]],[[70,2],[126,3]],[[45,4]],[[70,2]],[[0,4]]],[[[29,1]],[[73,2]],[[74,3]],[[127,4]],[[128,5],[0,4]],[[0,5]]],[[[32,1]],[[77,2]],[[128,3],[0,2]],[[0,3]]],[[[129,1],[130,1]],[[0,1]]],[[[45,1]],[[129,2],[46,3],[0,1]],[[0,2]],[[45,4],[0,3]],[[46,3],[0,4]]],[[[7,1],[131,2]],[[40,2]],[[0,2]]],[[[11,1]],[[70,2],[126,3]],[[77,4]],[[70,2]],[[0,4]]],[[[132,1],[75,1]],[[0,1]]],[[[133,1]],[[134,0],[0,1]]],[[[30,1]],[[52,2],[126,3]],[[0,2]],[[52,2]]],[[[24,1]],[[0,1]]],[[[135,1]],[[44,2],[136,1],[0,1]],[[109,3]],[[0,3]]],[[[12,1]],[[45,2],[137,3],[0,1]],[[46,4],[0,2]],[[45,5]],[[45,2],[0,4]],[[46,6],[0,5]],[[45,7]],[[46,8],[0,7]],[[45,7],[0,8]]],[[[5,1]],[[45,2],[0,1]],[[46,3],[0,2]],[[45,4]],[[46,5],[0,4]],[[45,6]],[[0,6]]],[[[20,1]],[[72,2],[0,1]],[[0,2]]],[[[138,1]],[[139,0],[137,0],[0,1]]],[[[140,1]],[[2,2],[141,3]],[[0,2]],[[140,1],[2,2]]],[[[70,1]],[[45,2],[0,1]],[[0,2]]],[[[142,1],[143,1],[144,1],[145,1],[146,1],[147,1],[148,1],[149,1],[150,1],[151,1]],[[0,1]]],[[[1,1],[3,1]],[[0,1]]],[[[45,1],[70,2],[102,3]],[[70,2],[0,1]],[[45,4],[152,5],[0,2]],[[102,6]],[[152,5],[0,4]],[[0,5]],[[102,5]]],[[[153,1]],[[46,2],[0,1]],[[153,1],[0,2]]],[[[1,1],[2,2]],[[0,1]],[[154,3]],[[110,4]],[[155,1],[110,4]]],[[[109,1]],[[156,0],[42,0],[157,0],[158,0],[0,1]]],[[[75,1],[159,2]],[[32,3],[0,1]],[[0,2]],[[75,4]],[[116,5]],[[45,2]]],[[[45,1]],[[46,2],[0,1]],[[45,1],[0,2]]],[[[45,1]],[[46,0],[0,1]]],[[[45,1]],[[48,2],[46,3],[0,1]],[[0,2]],[[45,4],[0,3]],[[46,3],[0,4]]],[[[77,1]],[[46,2],[0,1]],[[77,3]],[[46,4],[0,3]],[[77,3],[0,4]]],[[[30,1],[102,2],[14,3]],[[52,4],[98,5]],[[22,4]],[[160,6]],[[0,4]],[[52,4]],[[51,4]]],[[[16,1]],[[70,2]],[[71,3]],[[161,4],[162,5]],[[70,6]],[[70,7]],[[71,8]],[[71,9]],[[161,4],[116,10],[162,5],[0,8]],[[0,9]],[[70,11]],[[71,12]],[[162,5],[0,12]]],[[[42,1],[118,2],[44,3]],[[22,4]],[[47,5],[46,6],[0,2]],[[22,7]],[[46,8],[0,4]],[[45,9]],[[42,1],[118,2],[44,3],[0,6]],[[0,7]],[[44,3]],[[46,6],[0,9]]],[[[18,1]],[[45,2]],[[70,3]],[[71,4]],[[116,5],[0,4]],[[70,6]],[[71,7]],[[0,7]]],[[[45,1]],[[100,2],[0,1]],[[86,3]],[[0,3]]],[[[36,1]],[[163,2]],[[70,3],[46,1]],[[71,4]],[[0,4]]],[[[164,1]],[[165,0],[0,1]]],[[[27,1]],[[72,2],[0,1]],[[0,2]]],[[[53,1]],[[0,1]]]],labels:[[0,"EMPTY"],[320,null],[4,null],[272,null],[1,"def"],[1,"raise"],[32,null],[1,"not"],[2,null],[26,null],[1,"class"],[1,"lambda"],[1,"print"],[1,"debugger"],[9,null],[25,null],[1,"try"],[1,"exec"],[1,"while"],[3,null],[1,"return"],[1,"assert"],[1,null],[1,"del"],[1,"pass"],[1,"import"],[15,null],[1,"yield"],[1,"global"],[1,"for"],[7,null],[1,"from"],[1,"if"],[1,"break"],[1,"continue"],[50,null],[1,"with"],[14,null],[319,null],[19,null],[309,null],[1,"and"],[16,null],[260,null],[36,null],[328,null],[12,null],[22,null],[267,null],[327,null],[308,null],[10,null],[8,null],[340,null],[331,null],[27,null],[279,null],[330,null],[46,null],[39,null],[41,null],[47,null],[42,null],[43,null],[37,null],[44,null],[49,null],[45,null],[38,null],[40,null],[11,null],[326,null],[329,null],[289,null],[1,"in"],[312,null],[269,null],[311,null],[268,null],[29,null],[21,null],[28,null],[30,null],[1,"is"],[31,null],[20,null],[287,null],[270,null],[334,null],[298,null],[293,null],[266,null],[338,null],[336,null],[296,null],[275,null],[277,null],[282,null],[259,null],[276,null],[1,"as"],[280,null],[23,null],[0,null],[1,"except"],[339,null],[18,null],[264,null],[315,null],[290,null],[323,null],[265,null],[273,null],[317,null],[318,null],[341,null],[1,"else"],[295,null],[294,null],[313,null],[1,"elif"],[299,null],[300,null],[281,null],[302,null],[301,null],[335,null],[332,null],[307,null],[305,null],[306,null],[271,null],[310,null],[258,null],[1,"or"],[263,null],[333,null],[35,null],[261,null],[34,null],[322,null],[13,null],[292,null],[278,null],[288,null],[314,null],[316,null],[262,null],[286,null],[297,null],[303,null],[274,null],[321,null],[324,null],[5,null],[6,null],[48,null],[17,null],[24,null],[304,null],[325,null],[285,null],[1,"finally"],[337,null],[257,null],[33,null]],keywords:{and:41,as:100,assert:21,break:33,class:10,continue:34,debugger:13,def:4,del:23,elif:120,else:116,except:104,exec:17,finally:162,for:29,from:31,global:28,if:32,import:25,in:74,is:83,lambda:11,not:7,or:134,pass:24,print:12,raise:5,return:20,try:16,while:18,with:36,yield:27},tokens:{0:103,1:22,2:8,3:19,4:2,5:154,6:155,7:30,8:52,9:14,10:51,11:70,12:46,13:141,14:37,15:26,16:42,17:157,18:106,19:39,20:85,21:80,22:47,23:102,24:158,25:15,26:9,27:55,28:81,29:79,30:82,31:84,32:6,33:165,34:139,35:137,36:44,37:64,38:68,39:59,40:69,41:60,42:62,43:63,44:65,45:67,46:58,47:61,48:156,49:66,50:35},start:256},R.FUTURE_PRINT_FUNCTION="print_function",R.FUTURE_UNICODE_LITERALS="unicode_literals",R.FUTURE_DIVISION="division",R.FUTURE_ABSOLUTE_IMPORT="absolute_import",R.FUTURE_WITH_STATEMENT="with_statement",R.FUTURE_NESTED_SCOPES="nested_scopes",R.FUTURE_GENERATORS="generators",R.CO_FUTURE_PRINT_FUNCTION=65536,R.CO_FUTURE_UNICODE_LITERALS=131072,R.CO_FUTURE_DIVISON=8192,R.CO_FUTURE_ABSOLUTE_IMPORT=16384,R.CO_FUTURE_WITH_STATEMENT=32768,R.prototype.setup=function(e){e=e||this.grammar.start,this.stack=[{dfa:this.grammar.dfas[e],state:0,node:{type:e,value:null,context:null,children:[]}}],this.used_names={}},R.prototype.addtoken=function(e,t,n){var i,r,o,l,u,c,p,f=this.classify(e,t,n);e:for(;;){for(c=(i=(p=this.stack[this.stack.length-1]).dfa[0])[p.state],u=0;u<c.length;++u){if(r=c[u][0],l=c[u][1],o=this.grammar.labels[r][0],f===r){for(s.asserts.assert(256>o),this.shift(e,t,l,n),n=l;1===i[n].length&&0===i[n][0][0]&&i[n][0][1]===n;){if(this.pop(),0===this.stack.length)return!0;n=(p=this.stack[this.stack.length-1]).state,i=p.dfa[0]}return!1}if(256<=o&&(r=(r=this.grammar.dfas[o])[1]).hasOwnProperty(f)){this.push(o,this.grammar.dfas[o],l,n);continue e}}if(!O(c,[0,p.state]))throw i=n[0][0],new a.builtin.SyntaxError("bad input",this.filename,i,n);if(this.pop(),0===this.stack.length)throw new a.builtin.SyntaxError("too much input",this.filename)}},R.prototype.classify=function(e,t,n){var i;if(e===a.Tokenizer.Tokens.T_NAME&&(this.used_names[t]=!0,i=this.grammar.keywords.hasOwnProperty(t)&&this.grammar.keywords[t],"print"===t&&(this.p_flags&R.CO_FUTURE_PRINT_FUNCTION||!0===a.python3)&&(i=!1),i))return i;if(!(i=this.grammar.tokens.hasOwnProperty(e)&&this.grammar.tokens[e]))throw new a.builtin.SyntaxError("bad token",this.filename,n[0][0],n);return i},R.prototype.shift=function(e,t,n,i){var r=this.stack[this.stack.length-1].dfa,o=this.stack[this.stack.length-1].node;o.children.push({type:e,value:t,lineno:i[0][0],col_offset:i[0][1],children:null}),this.stack[this.stack.length-1]={dfa:r,state:n,node:o}},R.prototype.push=function(e,t,n,i){e={type:e,value:null,lineno:i[0][0],col_offset:i[0][1],children:[]},this.stack[this.stack.length-1]={dfa:this.stack[this.stack.length-1].dfa,state:n,node:this.stack[this.stack.length-1].node},this.stack.push({dfa:t,state:0,node:e})},R.prototype.pop=function(){var e=this.stack.pop().node;e&&(0!==this.stack.length?this.stack[this.stack.length-1].node.children.push(e):(this.rootnode=e,this.rootnode.used_names=this.used_names))},a.parse=function(e,t){var n,i,r,o=function(e,t){var n,i,r,o,l;void 0===t&&(t="file_input"),l=new R(e,a.ParseTables),"file_input"===t?l.setup(a.ParseTables.sym.file_input):s.asserts.fail("todo;"),o=a.Tokenizer.Tokens.T_COMMENT,r=a.Tokenizer.Tokens.T_NL,i=a.Tokenizer.Tokens.T_OP,n=new a.Tokenizer(e,"single_input"===t,function(e,t,n,s,u){if(e!==o&&e!==r&&(e===i&&(e=a.OpMap[t]),l.addtoken(e,t,[n,s,u])))return!0});var u=function(e){if(e=n.generateTokens(e)){if("done"!==e)throw new a.builtin.SyntaxError("incomplete input",this.filename);return l.rootnode}return!1};return u.p_flags=l.p_flags,u}(e);for("\n"!==t.substr(t.length-1,1)&&(t+="\n"),r=t.split("\n"),n=0;n<r.length;++n)i=o(r[n]+(n===r.length-1?"":"\n"));return{cst:i,flags:o.p_flags}},a.parseTreeDump=function(e,t){var n,i;if(i=""+(t=t||""),256<=e.type)for(i+=a.ParseTables.number2symbol[e.type]+"\n",n=0;n<e.children.length;++n)i+=a.parseTreeDump(e.children[n],t+"  ");else i+=a.Tokenizer.tokenNames[e.type]+": "+new a.builtin.str(e.value).$r().v+"\n";return i},s.exportSymbol("Sk.parse",a.parse),s.exportSymbol("Sk.parseTreeDump",a.parseTreeDump),de.prototype._astname="Module",de.prototype._fields=["body",function(e){return e.body}],he.prototype._astname="Interactive",he.prototype._fields=["body",function(e){return e.body}],me.prototype._astname="Expression",me.prototype._fields=["body",function(e){return e.body}],ge.prototype._astname="Suite",ge.prototype._fields=["body",function(e){return e.body}],be.prototype._astname="FunctionDef",be.prototype._fields=["name",function(e){return e.name},"args",function(e){return e.args},"body",function(e){return e.body},"decorator_list",function(e){return e.decorator_list}],ye.prototype._astname="ClassDef",ye.prototype._fields=["name",function(e){return e.name},"bases",function(e){return e.bases},"body",function(e){return e.body},"decorator_list",function(e){return e.decorator_list}],ve.prototype._astname="Return",ve.prototype._fields=["value",function(e){return e.value}],_e.prototype._astname="Delete",_e.prototype._fields=["targets",function(e){return e.targets}],xe.prototype._astname="Assign",xe.prototype._fields=["targets",function(e){return e.targets},"value",function(e){return e.value}],we.prototype._astname="AugAssign",we.prototype._fields=["target",function(e){return e.target},"op",function(e){return e.op},"value",function(e){return e.value}],ke.prototype._astname="Print",ke.prototype._fields=["dest",function(e){return e.dest},"values",function(e){return e.values},"nl",function(e){return e.nl}],Se.prototype._astname="For",Se.prototype._fields=["target",function(e){return e.target},"iter",function(e){return e.iter},"body",function(e){return e.body},"orelse",function(e){return e.orelse}],Ce.prototype._astname="While",Ce.prototype._fields=["test",function(e){return e.test},"body",function(e){return e.body},"orelse",function(e){return e.orelse}],Ee.prototype._astname="If",Ee.prototype._fields=["test",function(e){return e.test},"body",function(e){return e.body},"orelse",function(e){return e.orelse}],Te.prototype._astname="With",Te.prototype._fields=["context_expr",function(e){return e.context_expr},"optional_vars",function(e){return e.optional_vars},"body",function(e){return e.body}],Ae.prototype._astname="Raise",Ae.prototype._fields=["type",function(e){return e.type},"inst",function(e){return e.inst},"tback",function(e){return e.tback}],Ne.prototype._astname="TryExcept",Ne.prototype._fields=["body",function(e){return e.body},"handlers",function(e){return e.handlers},"orelse",function(e){return e.orelse}],Me.prototype._astname="TryFinally",Me.prototype._fields=["body",function(e){return e.body},"finalbody",function(e){return e.finalbody}],Re.prototype._astname="Assert",Re.prototype._fields=["test",function(e){return e.test},"msg",function(e){return e.msg}],Oe.prototype._astname="Import",Oe.prototype._fields=["names",function(e){return e.names}],Le.prototype._astname="ImportFrom",Le.prototype._fields=["module",function(e){return e.module},"names",function(e){return e.names},"level",function(e){return e.level}],Pe.prototype._astname="Exec",Pe.prototype._fields=["body",function(e){return e.body},"globals",function(e){return e.globals},"locals",function(e){return e.locals}],De.prototype._astname="Global",De.prototype._fields=["names",function(e){return e.names}],Ie.prototype._astname="Expr",Ie.prototype._fields=["value",function(e){return e.value}],Fe.prototype._astname="Pass",Fe.prototype._fields=[],$e.prototype._astname="Break",$e.prototype._fields=[],je.prototype._astname="Continue",je.prototype._fields=[],Be.prototype._astname="Debugger",Be.prototype._fields=[],ze.prototype._astname="BoolOp",ze.prototype._fields=["op",function(e){return e.op},"values",function(e){return e.values}],qe.prototype._astname="BinOp",qe.prototype._fields=["left",function(e){return e.left},"op",function(e){return e.op},"right",function(e){return e.right}],He.prototype._astname="UnaryOp",He.prototype._fields=["op",function(e){return e.op},"operand",function(e){return e.operand}],Ue.prototype._astname="Lambda",Ue.prototype._fields=["args",function(e){return e.args},"body",function(e){return e.body}],We.prototype._astname="IfExp",We.prototype._fields=["test",function(e){return e.test},"body",function(e){return e.body},"orelse",function(e){return e.orelse}],Ve.prototype._astname="Dict",Ve.prototype._fields=["keys",function(e){return e.keys},"values",function(e){return e.values}],Ge.prototype._astname="Set",Ge.prototype._fields=["elts",function(e){return e.elts}],Ke.prototype._astname="ListComp",Ke.prototype._fields=["elt",function(e){return e.elt},"generators",function(e){return e.generators}],Ye.prototype._astname="SetComp",Ye.prototype._fields=["elt",function(e){return e.elt},"generators",function(e){return e.generators}],Xe.prototype._astname="DictComp",Xe.prototype._fields=["key",function(e){return e.key},"value",function(e){return e.value},"generators",function(e){return e.generators}],Qe.prototype._astname="GeneratorExp",Qe.prototype._fields=["elt",function(e){return e.elt},"generators",function(e){return e.generators}],Ze.prototype._astname="Yield",Ze.prototype._fields=["value",function(e){return e.value}],Je.prototype._astname="Compare",Je.prototype._fields=["left",function(e){return e.left},"ops",function(e){return e.ops},"comparators",function(e){return e.comparators}],et.prototype._astname="Call",et.prototype._fields=["func",function(e){return e.func},"args",function(e){return e.args},"keywords",function(e){return e.keywords},"starargs",function(e){return e.starargs},"kwargs",function(e){return e.kwargs}],tt.prototype._astname="Repr",tt.prototype._fields=["value",function(e){return e.value}],nt.prototype._astname="Num",nt.prototype._fields=["n",function(e){return e.n}],it.prototype._astname="Str",it.prototype._fields=["s",function(e){return e.s}],rt.prototype._astname="Attribute",rt.prototype._fields=["value",function(e){return e.value},"attr",function(e){return e.attr},"ctx",function(e){return e.ctx}],ot.prototype._astname="Subscript",ot.prototype._fields=["value",function(e){return e.value},"slice",function(e){return e.slice},"ctx",function(e){return e.ctx}],st.prototype._astname="Name",st.prototype._fields=["id",function(e){return e.id},"ctx",function(e){return e.ctx}],at.prototype._astname="List",at.prototype._fields=["elts",function(e){return e.elts},"ctx",function(e){return e.ctx}],lt.prototype._astname="Tuple",lt.prototype._fields=["elts",function(e){return e.elts},"ctx",function(e){return e.ctx}],L.prototype._astname="Load",L.prototype._isenum=!0,P.prototype._astname="Store",P.prototype._isenum=!0,D.prototype._astname="Del",D.prototype._isenum=!0,I.prototype._astname="AugLoad",I.prototype._isenum=!0,F.prototype._astname="AugStore",F.prototype._isenum=!0,$.prototype._astname="Param",$.prototype._isenum=!0,ut.prototype._astname="Ellipsis",ut.prototype._fields=[],ct.prototype._astname="Slice",ct.prototype._fields=["lower",function(e){return e.lower},"upper",function(e){return e.upper},"step",function(e){return e.step}],pt.prototype._astname="ExtSlice",pt.prototype._fields=["dims",function(e){return e.dims}],ft.prototype._astname="Index",ft.prototype._fields=["value",function(e){return e.value}],j.prototype._astname="And",j.prototype._isenum=!0,B.prototype._astname="Or",B.prototype._isenum=!0,z.prototype._astname="Add",z.prototype._isenum=!0,q.prototype._astname="Sub",q.prototype._isenum=!0,H.prototype._astname="Mult",H.prototype._isenum=!0,U.prototype._astname="Div",U.prototype._isenum=!0,W.prototype._astname="Mod",W.prototype._isenum=!0,V.prototype._astname="Pow",V.prototype._isenum=!0,G.prototype._astname="LShift",G.prototype._isenum=!0,K.prototype._astname="RShift",K.prototype._isenum=!0,Y.prototype._astname="BitOr",Y.prototype._isenum=!0,X.prototype._astname="BitXor",X.prototype._isenum=!0,Q.prototype._astname="BitAnd",Q.prototype._isenum=!0,Z.prototype._astname="FloorDiv",Z.prototype._isenum=!0,J.prototype._astname="Invert",J.prototype._isenum=!0,ee.prototype._astname="Not",ee.prototype._isenum=!0,te.prototype._astname="UAdd",te.prototype._isenum=!0,ne.prototype._astname="USub",ne.prototype._isenum=!0,ie.prototype._astname="Eq",ie.prototype._isenum=!0,re.prototype._astname="NotEq",re.prototype._isenum=!0,oe.prototype._astname="Lt",oe.prototype._isenum=!0,se.prototype._astname="LtE",se.prototype._isenum=!0,ae.prototype._astname="Gt",ae.prototype._isenum=!0,le.prototype._astname="GtE",le.prototype._isenum=!0,ue.prototype._astname="Is",ue.prototype._isenum=!0,ce.prototype._astname="IsNot",ce.prototype._isenum=!0,pe.prototype._astname="In",pe.prototype._isenum=!0,fe.prototype._astname="NotIn",fe.prototype._isenum=!0,dt.prototype._astname="comprehension",dt.prototype._fields=["target",function(e){return e.target},"iter",function(e){return e.iter},"ifs",function(e){return e.ifs}],ht.prototype._astname="ExceptHandler",ht.prototype._fields=["type",function(e){return e.type},"name",function(e){return e.name},"body",function(e){return e.body}],mt.prototype._astname="arguments",mt.prototype._fields=["args",function(e){return e.args},"vararg",function(e){return e.vararg},"kwarg",function(e){return e.kwarg},"defaults",function(e){return e.defaults}],gt.prototype._astname="keyword",gt.prototype._fields=["arg",function(e){return e.arg},"value",function(e){return e.value}],bt.prototype._astname="alias",bt.prototype._fields=["name",function(e){return e.name},"asname",function(e){return e.asname}];var yt=a.ParseTables.sym,vt=a.Tokenizer.Tokens,_t=0,xt=1;function wt(e,t,n){this.c_encoding=e,this.c_filename=t,this.c_flags=n||0}function kt(e){return s.asserts.assert(void 0!==e),null===e.children?0:e.children.length}function St(e,t){return s.asserts.assert(void 0!==e),s.asserts.assert(void 0!==t),e.children[t]}function Ct(e,t){s.asserts.assert(e.type===t,"node wasn't expected type")}function Et(e){return s.asserts.assert("string"==typeof e,"expecting string, got "+typeof e),new a.builtin.str(e)}function Tt(e){var t,n,i;switch(e.type){case yt.single_input:if(St(e,0).type===vt.T_NEWLINE)break;return Tt(St(e,0));case yt.file_input:for(n=i=0;n<kt(e);++n)(t=St(e,n)).type===yt.stmt&&(i+=Tt(t));return i;case yt.stmt:return Tt(St(e,0));case yt.compound_stmt:return 1;case yt.simple_stmt:return Math.floor(kt(e)/2);case yt.suite:if(1===kt(e))return Tt(St(e,0));for(i=0,n=2;n<kt(e)-1;++n)i+=Tt(St(e,n));return i;default:s.asserts.fail("Non-statement found")}return 0}function At(e,t,n,i){if("None"===n)throw new a.builtin.SyntaxError("assignment to None",e.c_filename,i);if("True"===n||"False"===n)throw new a.builtin.SyntaxError("assignment to True or False is forbidden",e.c_filename,i)}function Nt(e,t,n,i){var r,o;switch(s.asserts.assert(n!==F&&n!==I),r=o=null,t.constructor){case rt:case st:n===P&&At(e,0,t.attr,i.lineno),t.ctx=n;break;case ot:t.ctx=n;break;case at:t.ctx=n,o=t.elts;break;case lt:if(0===t.elts.length)throw new a.builtin.SyntaxError("can't assign to ()",e.c_filename,i.lineno);t.ctx=n,o=t.elts;break;case Ue:r="lambda";break;case et:r="function call";break;case ze:case qe:case He:r="operator";break;case Qe:r="generator expression";break;case Ze:r="yield expression";break;case Ke:r="list comprehension";break;case Ye:r="set comprehension";break;case Xe:r="dict comprehension";break;case Ve:case Ge:case nt:case it:r="literal";break;case Je:r="comparison";break;case tt:r="repr";break;case We:r="conditional expression";break;default:s.asserts.fail("unhandled expression in assignment")}if(r)throw new a.builtin.SyntaxError("can't "+(n===P?"assign to":"delete")+" "+r,e.c_filename,i.lineno);if(o)for(t=0;t<o.length;++t)Nt(e,o[t],n,i)}var Mt={};function Rt(e){return s.asserts.assert(void 0!==Mt[e.type]),Mt[e.type]}function Ot(e,t){if(Ct(t,yt.comp_op),1===kt(t))switch(t=St(t,0),t.type){case vt.T_LESS:return oe;case vt.T_GREATER:return ae;case vt.T_EQEQUAL:return ie;case vt.T_LESSEQUAL:return se;case vt.T_GREATEREQUAL:return le;case vt.T_NOTEQUAL:return re;case vt.T_NAME:if("in"===t.value)return pe;if("is"===t.value)return ue}else if(2===kt(t)&&St(t,0).type===vt.T_NAME){if("in"===St(t,1).value)return fe;if("is"===St(t,0).value)return ce}s.asserts.fail("invalid comp_op")}function Lt(e,t){var n,i=[];for(s.asserts.assert(t.type===yt.testlist||t.type===yt.listmaker||t.type===yt.testlist_comp||t.type===yt.testlist_safe||t.type===yt.testlist1),n=0;n<kt(t);n+=2)s.asserts.assert(St(t,n).type===yt.test||St(t,n).type===yt.old_test),i[n/2]=sn(e,St(t,n));return i}function Pt(e,t){var n,i,r,o,a;if(Ct(t,yt.suite),a=[],o=0,St(t,0).type===yt.simple_stmt)for(t=St(t,0),St(t,(r=kt(t)-1)-1).type===vt.T_SEMI&&(r-=1),i=0;i<r;i+=2)a[o++]=an(e,St(t,i));else for(i=2;i<kt(t)-1;++i)if(Ct(r=St(t,i),yt.stmt),1===(n=Tt(r)))a[o++]=an(e,r);else for(Ct(r=St(r,0),yt.simple_stmt),n=0;n<kt(r);n+=2){if(0===kt(St(r,n))){s.asserts.assert(n+1===kt(r));break}a[o++]=an(e,St(r,n))}return s.asserts.assert(o===Tt(t)),a}function Dt(e,t,n){var i;return Ct(t,yt.except_clause),Ct(n,yt.suite),1===kt(t)?new ht(null,null,Pt(e,n),t.lineno,t.col_offset):2===kt(t)?new ht(sn(e,St(t,1)),null,Pt(e,n),t.lineno,t.col_offset):4===kt(t)?(Nt(e,i=sn(e,St(t,3)),P,St(t,3)),new ht(sn(e,St(t,1)),i,Pt(e,n),t.lineno,t.col_offset)):void s.asserts.fail("wrong number of children for except clause")}function It(e,t){var n;return Ct(t,yt.decorator),Ct(St(t,0),vt.T_AT),Ct(St(t,kt(t)-1),vt.T_NEWLINE),n=function(e,t){var n,i,r,o;for(Ct(t,yt.dotted_name),o=t.lineno,r=t.col_offset,i=new st(Et(St(t,0).value),L,o,r),n=2;n<kt(t);n+=2)i=new rt(i,Et(St(t,n).value),L,o,r);return i}(0,St(t,1)),3===kt(t)?n:5===kt(t)?new et(n,[],[],null,null,t.lineno,t.col_offset):qt(e,St(t,3),n)}function Ft(e,t){var n,i;return Ct(t,yt.decorated),i=function(e,t){var n,i;for(Ct(t,yt.decorators),i=[],n=0;n<kt(t);++n)i[n]=It(e,St(t,n));return i}(e,St(t,0)),s.asserts.assert(St(t,1).type===yt.funcdef||St(t,1).type===yt.classdef),n=null,St(t,1).type===yt.funcdef?n=Wt(e,St(t,1),i):St(t,1)===yt.classdef&&(n=Vt(e,St(t,1),i)),n&&(n.lineno=t.lineno,n.col_offset=t.col_offset),n}function $t(e,t){var n,i,r=3;return s.asserts.assert(t.type===yt.with_stmt),i=sn(e,St(t,1)),St(t,2).type===yt.with_item&&(Nt(e,n=function(e,t){return Ct(t,yt.with_item),sn(e,St(t,1))}(e,St(t,2)),P,t),r=4),new Te(i,n,Pt(e,St(t,r)),t.lineno,t.col_offset)}function jt(e,t,n){var i,r,o;for(Ct(t,yt.exprlist),o=[],r=0;r<kt(t);r+=2)i=sn(e,St(t,r)),o[r/2]=i,n&&Nt(e,i,n,St(t,r));return o}function Bt(e,t){var n,i;e:for(;;)switch(t.type){case yt.import_as_name:return i=null,n=Et(St(t,0).value),3===kt(t)&&(i=St(t,2).value),new bt(n,null==i?null:Et(i));case yt.dotted_as_name:if(1===kt(t)){t=St(t,0);continue e}return i=Bt(e,St(t,0)),s.asserts.assert(!i.asname),i.asname=Et(St(t,2).value),i;case yt.dotted_name:if(1===kt(t))return new bt(Et(St(t,0).value),null);for(i="",n=0;n<kt(t);n+=2)i+=St(t,n).value+".";return new bt(Et(i.substr(0,i.length-1)),null);case vt.T_STAR:return new bt(Et("*"),null);default:throw new a.builtin.SyntaxError("unexpected import name",e.c_filename,t.lineno)}}function zt(e,t){var n,i;if(St(t,0).type===vt.T_MINUS&&2===kt(t)&&((n=St(t,1)).type===yt.factor&&1===kt(n)&&((n=St(n,0)).type===yt.power&&1===kt(n)&&((i=St(n,0)).type===yt.atom&&(n=St(i,0)).type===vt.T_NUMBER))))return n.value="-"+n.value,rn(e,i);switch(n=sn(e,St(t,1)),St(t,0).type){case vt.T_PLUS:return new He(te,n,t.lineno,t.col_offset);case vt.T_MINUS:return new He(ne,n,t.lineno,t.col_offset);case vt.T_TILDE:return new He(J,n,t.lineno,t.col_offset)}s.asserts.fail("unhandled factor")}function qt(e,t,n){var i,r,o,s,l,u,c,p,f,d,h;for(Ct(t,yt.arglist),f=s=d=h=0;f<kt(t);f++)(p=St(t,f)).type===yt.argument&&(1===kt(p)?h++:St(p,1).type===yt.comp_for?s++:d++);if(1<s||s&&(h||d))throw new a.builtin.SyntaxError("Generator expression must be parenthesized if not sole argument",e.c_filename,t.lineno);if(255<h+d+s)throw new a.builtin.SyntaxError("more than 255 arguments",e.c_filename,t.lineno);for(c=[],u=[],d=h=0,s=l=null,f=0;f<kt(t);f++)if((p=St(t,f)).type===yt.argument)if(1===kt(p)){if(d)throw new a.builtin.SyntaxError("non-keyword arg after keyword arg",e.c_filename,t.lineno);if(l)throw new a.builtin.SyntaxError("only named arguments may follow *expression",e.c_filename,t.lineno);c[h++]=sn(e,St(p,0))}else if(St(p,1).type===yt.comp_for)c[h++]=Xt(e,p);else{if((i=sn(e,St(p,0))).constructor===Ue)throw new a.builtin.SyntaxError("lambda cannot contain assignment",e.c_filename,t.lineno);if(i.constructor!==st)throw new a.builtin.SyntaxError("keyword can't be an expression",e.c_filename,t.lineno);for(o=i.id,At(e,St(p,0),o,t.lineno),r=0;r<d;++r)if((i=u[r].arg)===o)throw new a.builtin.SyntaxError("keyword argument repeated",e.c_filename,t.lineno);u[d++]=new gt(o,sn(e,St(p,2)))}else p.type===vt.T_STAR?l=sn(e,St(t,++f)):p.type===vt.T_DOUBLESTAR&&(s=sn(e,St(t,++f)));return new et(n,c,u,l,s,n.lineno,n.col_offset)}function Ht(e,t,n){var i,r,o,a;if(Ct(t,yt.trailer),St(t,0).type===vt.T_LPAR)return 2===kt(t)?new et(n,[],[],null,null,t.lineno,t.col_offset):qt(e,St(t,1),n);if(St(t,0).type===vt.T_DOT)return new rt(n,Et(St(t,1).value),L,t.lineno,t.col_offset);if(Ct(St(t,0),vt.T_LSQB),Ct(St(t,2),vt.T_RSQB),1===kt(t=St(t,1)))return new ot(n,nn(e,St(t,0)),L,t.lineno,t.col_offset);for(a=!0,o=[],r=0;r<kt(t);r+=2)(i=nn(e,St(t,r))).constructor!==ft&&(a=!1),o[r/2]=i;if(!a)return new ot(n,new pt(o),L,t.lineno,t.col_offset);for(e=[],r=0;r<o.length;++r)i=o[r],s.asserts.assert(i.constructor===ft&&null!==i.value&&void 0!==i.value),e[r]=i.value;return new ot(n,new ft(i=new lt(e,L,t.lineno,t.col_offset)),L,t.lineno,t.col_offset)}function Ut(e,t){var n,i,r,o,l,u,c,p,f,d=null,h=null;if(t.type===yt.parameters){if(2===kt(t))return new mt([],null,null,[]);t=St(t,1)}for(Ct(t,yt.varargslist),p=[],c=[],u=!1,r=o=l=0;l<kt(t);)switch(f=St(t,l),f.type){case yt.fpdef:for(n=0;;){if(l+1<kt(t)&&St(t,l+1).type===vt.T_EQUAL)c[o++]=sn(e,St(t,l+2)),l+=2,u=!0;else if(u){if(n)throw new a.builtin.SyntaxError("parenthesized arg with default",e.c_filename,t.lineno);throw new a.builtin.SyntaxError("non-default argument follows default argument",e.c_filename,t.lineno)}if(3!==kt(f)){if(St(f,0).type===vt.T_NAME&&(At(e,0,St(f,0).value,t.lineno),i=Et(St(f,0).value),p[r++]=new st(i,$,f.lineno,f.col_offset)),l+=2,n)throw new a.builtin.SyntaxError("parenthesized argument names are invalid",e.c_filename,t.lineno);break}if(1!==kt(f=St(f,1)))throw new a.builtin.SyntaxError("tuple parameter unpacking has been removed",e.c_filename,t.lineno);n=!0,f=St(f,0),s.asserts.assert(f.type===yt.fpdef)}break;case vt.T_STAR:At(e,St(t,l+1),St(t,l+1).value,t.lineno),d=Et(St(t,l+1).value),l+=3;break;case vt.T_DOUBLESTAR:At(e,St(t,l+1),St(t,l+1).value,t.lineno),h=Et(St(t,l+1).value),l+=3;break;default:s.asserts.fail("unexpected node in varargslist")}return new mt(p,d,h,c)}function Wt(e,t,n){var i;return Ct(t,yt.funcdef),i=Et(St(t,1).value),At(e,St(t,1),St(t,1).value,t.lineno),new be(i,Ut(e,St(t,2)),e=Pt(e,St(t,4)),n,t.lineno,t.col_offset)}function Vt(e,t,n){var i;return Ct(t,yt.classdef),At(e,0,St(t,1).value,t.lineno),i=Et(St(t,1).value),4===kt(t)?new ye(i,[],Pt(e,St(t,3)),n,t.lineno,t.col_offset):St(t,3).type===vt.T_RPAR?new ye(i,[],Pt(e,St(t,5)),n,t.lineno,t.col_offset):new ye(i,function(e,t){return s.asserts.assert(0<kt(t)),Ct(t,yt.testlist),1===kt(t)?[sn(e,St(t,0))]:Lt(e,t)}(e,St(t,3)),e=Pt(e,St(t,6)),n,t.lineno,t.col_offset)}function Gt(e,t){var n,i;return 3===kt(t)?(n=new mt([],null,null,[]),i=sn(e,St(t,2))):(n=Ut(e,St(t,1)),i=sn(e,St(t,3))),new Ue(n,i,t.lineno,t.col_offset)}function Kt(e,t){function n(e,t){for(var n=0;;){if(Ct(t,yt.comp_iter),St(t,0).type===yt.comp_for)return n;if(Ct(t=St(t,0),yt.comp_if),n++,2==kt(t))return n;t=St(t,2)}}var i,r,o,a,l,u,c,p;for(u=function(e,t){var n=0;e:for(;;){if(n++,Ct(t,yt.comp_for),5!==kt(t))return n;t=St(t,4);t:for(;;){if(Ct(t,yt.comp_iter),(t=St(t,0)).type===yt.comp_for)continue e;if(t.type===yt.comp_if){if(3===kt(t)){t=St(t,2);continue t}return n}break}break}s.asserts.fail("logic error in countCompFors")}(0,t),c=[],l=0;l<u;++l){if(Ct(t,yt.comp_for),i=jt(e,r=St(t,1),P),a=sn(e,St(t,3)),p=1===kt(r)?new dt(i[0],a,[]):new dt(new lt(i,P,t.lineno,t.col_offset),a,[]),5===kt(t)){for(o=n(0,t=St(t,4)),r=[],i=0;i<o;++i)Ct(t,yt.comp_iter),Ct(t=St(t,0),yt.comp_if),a=sn(e,St(t,1)),r[i]=a,3===kt(t)&&(t=St(t,2));t.type===yt.comp_iter&&(t=St(t,0)),p.ifs=r}c[l]=p}return c}function Yt(e,t,n){var i;return s.asserts.assert(1<kt(t)),i=sn(e,St(t,0)),e=Kt(e,St(t,1)),n===_t?new Qe(i,e,t.lineno,t.col_offset):n===xt?new Ye(i,e,t.lineno,t.col_offset):void 0}function Xt(e,t){return s.asserts.assert(t.type===yt.testlist_comp||t.type===yt.argument),Yt(e,t,_t)}function Qt(e,t){var n,i,r=new qe(sn(e,St(t,0)),Rt(St(t,1)),sn(e,St(t,2)),t.lineno,t.col_offset),o=(kt(t)-1)/2;for(i=1;i<o;++i)r=new qe(r,Rt(n=St(t,2*i+1)),sn(e,St(t,2*i+2)),n.lineno,n.col_offset);return r}function Zt(e,t){return s.asserts.assert(0<kt(t)),t.type===yt.testlist_comp?1<kt(t)&&s.asserts.assert(St(t,1).type!==yt.comp_for):s.asserts.assert(t.type===yt.testlist||t.type===yt.testlist_safe||t.type===yt.testlist1),1===kt(t)?sn(e,St(t,0)):new lt(Lt(e,t),L,t.lineno,t.col_offset)}function Jt(e,t){var n,i,r;if(Ct(t,yt.expr_stmt),1===kt(t))return new Ie(Zt(e,St(t,0)),t.lineno,t.col_offset);if(St(t,1).type===yt.augassign){switch((r=Zt(e,n=St(t,0))).constructor){case Qe:throw new a.builtin.SyntaxError("augmented assignment to generator expression not possible",e.c_filename,t.lineno);case Ze:throw new a.builtin.SyntaxError("augmented assignment to yield expression not possible",e.c_filename,t.lineno);case st:At(e,0,i=r.id,t.lineno);break;case rt:case ot:break;default:throw new a.builtin.SyntaxError("illegal expression for augmented assignment",e.c_filename,t.lineno)}return Nt(e,r,P,n),n=(n=St(t,2)).type===yt.testlist?Zt(e,n):sn(e,n),new we(r,function(e,t){switch(Ct(t,yt.augassign),(t=St(t,0)).value.charAt(0)){case"+":return z;case"-":return q;case"/":return"/"===t.value.charAt(1)?Z:U;case"%":return W;case"<":return G;case">":return K;case"&":return Q;case"^":return X;case"|":return Y;case"*":return"*"===t.value.charAt(1)?V:H;default:s.asserts.fail("invalid augassign")}}(0,St(t,1)),n,t.lineno,t.col_offset)}for(Ct(St(t,1),vt.T_EQUAL),r=[],i=0;i<kt(t)-2;i+=2){if((n=St(t,i)).type===yt.yield_expr)throw new a.builtin.SyntaxError("assignment to yield expression not possible",e.c_filename,t.lineno);Nt(e,n=Zt(e,n),P,St(t,i)),r[i/2]=n}return new xe(r,n=(n=St(t,kt(t)-1)).type===yt.testlist?Zt(e,n):sn(e,n),t.lineno,t.col_offset)}function en(e,t){return s.asserts.assert(5===kt(t)),new We(sn(e,St(t,2)),sn(e,St(t,0)),sn(e,St(t,4)),t.lineno,t.col_offset)}function tn(e,t){var n=t.charAt(0),i=!1,r=!1;if((e.c_flags&R.CO_FUTURE_UNICODE_LITERALS||!0===a.python3)&&(r=!0),"u"===n||"U"===n?(n=(t=t.substr(1)).charAt(0),r=!0):"r"!==n&&"R"!==n||(n=(t=t.substr(1)).charAt(0),i=!0),s.asserts.assert("b"!==n&&"B"!==n,"todo; haven't done b'' strings yet"),s.asserts.assert("'"===n||'"'===n&&t.charAt(t.length-1)===n),t=t.substr(1,t.length-2),r&&(t=unescape(encodeURIComponent(t))),4<=t.length&&t.charAt(0)===n&&t.charAt(1)===n&&(s.asserts.assert(t.charAt(t.length-1)===n&&t.charAt(t.length-2)===n),t=t.substr(2,t.length-4)),i||-1===t.indexOf("\\"))n=Et(decodeURIComponent(escape(t)));else{n=Et;var o,l,u,c,p=(i=t).length,f="";for(r=0;r<p;++r)"\\"===(o=i.charAt(r))?(++r,"n"===(o=i.charAt(r))?f+="\n":"\\"===o?f+="\\":"t"===o?f+="\t":"r"===o?f+="\r":"b"===o?f+="\b":"f"===o?f+="\f":"v"===o?f+="\v":"0"===o?f+="\0":'"'===o?f+='"':"'"===o?f+="'":"\n"!==o&&("x"===o?(c=i.charAt(++r),u=i.charAt(++r),f+=String.fromCharCode(parseInt(c+u,16))):"u"===o||"U"===o?(c=i.charAt(++r),u=i.charAt(++r),l=i.charAt(++r),o=i.charAt(++r),f+=String.fromCharCode(parseInt(c+u,16),parseInt(l+o,16))):f+="\\"+o)):f+=o;n=n(f)}return n}function nn(e,t){var n,i,r,o;return Ct(t,yt.subscript),i=r=o=null,(n=St(t,0)).type===vt.T_DOT?new ut:1===kt(t)&&n.type===yt.test?new ft(sn(e,n)):(n.type===yt.test&&(o=sn(e,n)),n.type===vt.T_COLON?1<kt(t)&&((n=St(t,1)).type===yt.test&&(r=sn(e,n))):2<kt(t)&&((n=St(t,2)).type===yt.test&&(r=sn(e,n))),(n=St(t,kt(t)-1)).type===yt.sliceop&&(1===kt(n)?(n=St(n,0),i=new st(Et("None"),L,n.lineno,n.col_offset)):(n=St(n,1)).type===yt.test&&(i=sn(e,n))),new ct(o,r,i))}function rn(e,t){var n,i,r,o=St(t,0);switch(o.type){case vt.T_NAME:return new st(Et(o.value),L,t.lineno,t.col_offset);case vt.T_STRING:return new it(function(e,t){var n,i;for(Ct(St(t,0),vt.T_STRING),i=new a.builtin.str(""),n=0;n<kt(t);++n)try{i=i.sq$concat(tn(e,St(t,n).value))}catch(i){throw new a.builtin.SyntaxError("invalid string (possibly contains a unicode character)",e.c_filename,St(t,n).lineno)}return i}(e,t),t.lineno,t.col_offset);case vt.T_NUMBER:return new nt(function(e,t,n){if("j"===(e=t.charAt(t.length-1))||"J"===e)return a.builtin.complex.complex_subtype_from_string(t);if("l"===e||"L"===e)return a.longFromStr(t.substr(0,t.length-1),0);if(-1!==t.indexOf("."))return new a.builtin.float_(parseFloat(t));if(n=t,e=!1,"-"===t.charAt(0)&&(n=t.substr(1),e=!0),"0"!==n.charAt(0)||"x"!==n.charAt(1)&&"X"!==n.charAt(1)){if(-1!==t.indexOf("e")||-1!==t.indexOf("E"))return new a.builtin.float_(parseFloat(t));"0"!==n.charAt(0)||"b"!==n.charAt(1)&&"B"!==n.charAt(1)?"0"===n.charAt(0)?"0"===n?n=0:("o"!==(n=n.substring(1)).charAt(0)&&"O"!==n.charAt(0)||(n=n.substring(1)),n=parseInt(n,8)):n=parseInt(n,10):(n=n.substring(2),n=parseInt(n,2))}else n=n.substring(2),n=parseInt(n,16);return n>a.builtin.int_.threshold$&&Math.floor(n)===n&&-1===t.indexOf("e")&&-1===t.indexOf("E")?a.longFromStr(t,0):e?new a.builtin.int_(-n):new a.builtin.int_(n)}(e,o.value,t.lineno),t.lineno,t.col_offset);case vt.T_LPAR:return(o=St(t,1)).type===vt.T_RPAR?new lt([],L,t.lineno,t.col_offset):o.type===yt.yield_expr?sn(e,o):function(e,t){return s.asserts.assert(t.type===yt.testlist_comp||t.type===yt.argument),1<kt(t)&&St(t,1).type===yt.comp_for?Xt(e,t):Zt(e,t)}(e,o);case vt.T_LSQB:return(o=St(t,1)).type===vt.T_RSQB?new at([],L,t.lineno,t.col_offset):(Ct(o,yt.listmaker),1===kt(o)||St(o,1).type===vt.T_COMMA?new at(Lt(e,o),L,t.lineno,t.col_offset):function(e,t){function n(e,t){for(var n=0;;){if(Ct(t,yt.list_iter),St(t,0).type===yt.list_for)return n;if(Ct(t=St(t,0),yt.list_if),n++,2==kt(t))return n;t=St(t,2)}}var i,r,o,a,l,u,c,p,f;for(Ct(t,yt.listmaker),s.asserts.assert(1<kt(t)),f=sn(e,St(t,0)),p=function(e,t){var n=0,i=St(t,1);e:for(;;){if(n++,Ct(i,yt.list_for),5!==kt(i))return n;i=St(i,4);t:for(;;){if(Ct(i,yt.list_iter),(i=St(i,0)).type===yt.list_for)continue e;if(i.type===yt.list_if){if(3===kt(i)){i=St(i,2);continue t}return n}break}break}}(0,t),c=[],u=St(t,1),l=0;l<p;++l){if(Ct(u,yt.list_for),r=jt(e,o=St(u,1),P),i=Zt(e,St(u,3)),a=1===kt(o)?new dt(r[0],i,[]):new dt(new lt(r,P,u.lineno,u.col_offset),i,[]),5===kt(u)){for(o=n(0,u=St(u,4)),r=[],i=0;i<o;++i)Ct(u,yt.list_iter),Ct(u=St(u,0),yt.list_if),r[i]=sn(e,St(u,1)),3===kt(u)&&(u=St(u,2));u.type===yt.list_iter&&(u=St(u,0)),a.ifs=r}c[l]=a}return new Ke(f,c,t.lineno,t.col_offset)}(e,o));case vt.T_LBRACE:if(r=[],i=[],o=St(t,1),t.type===vt.T_RBRACE)return new Ve([],null,t.lineno,t.col_offset);if(1===kt(o)||0!==kt(o)&&St(o,1).type===vt.T_COMMA){for(i=[],kt(o),n=0;n<kt(o);n+=2)r=sn(e,St(o,n)),i[n/2]=r;return new Ge(i,t.lineno,t.col_offset)}if(0!==kt(o)&&St(o,1).type==yt.comp_for)return function(e,t){return s.asserts.assert(t.type===yt.dictorsetmaker),Yt(e,t,xt)}(e,o);if(3<kt(o)&&St(o,3).type===yt.comp_for)return function(e,t){return s.asserts.assert(3<kt(t)),Ct(St(t,1),vt.T_COLON),new Xe(sn(e,St(t,0)),sn(e,St(t,2)),Kt(e,St(t,3)),t.lineno,t.col_offset)}(e,o);for(kt(o),n=0;n<kt(o);n+=4)r[n/4]=sn(e,St(o,n)),i[n/4]=sn(e,St(o,n+2));return new Ve(r,i,t.lineno,t.col_offset);case vt.T_BACKQUOTE:return new tt(Zt(e,St(t,1)),t.lineno,t.col_offset);default:s.asserts.fail("unhandled atom",o.type)}}function on(e,t){var n,i,r;if(Ct(t,yt.power),r=rn(e,St(t,0)),1===kt(t))return r;for(n=1;n<kt(t)&&(i=St(t,n)).type===yt.trailer;++n)(i=Ht(e,i,r)).lineno=r.lineno,i.col_offset=r.col_offset,r=i;return St(t,kt(t)-1).type===yt.factor&&(r=new qe(r,V,n=sn(e,St(t,kt(t)-1)),t.lineno,t.col_offset)),r}function sn(e,t){var n,i,r;e:for(;;){switch(t.type){case yt.test:case yt.old_test:if(St(t,0).type===yt.lambdef||St(t,0).type===yt.old_lambdef)return Gt(e,St(t,0));if(1<kt(t))return en(e,t);case yt.or_test:case yt.and_test:if(1===kt(t)){t=St(t,0);continue e}for(i=[],n=0;n<kt(t);n+=2)i[n/2]=sn(e,St(t,n));return"and"===St(t,1).value?new ze(j,i,t.lineno,t.col_offset):(s.asserts.assert("or"===St(t,1).value),new ze(B,i,t.lineno,t.col_offset));case yt.not_test:if(1===kt(t)){t=St(t,0);continue e}return new He(ee,sn(e,St(t,1)),t.lineno,t.col_offset);case yt.comparison:if(1===kt(t)){t=St(t,0);continue e}for(r=[],i=[],n=1;n<kt(t);n+=2)r[(n-1)/2]=Ot(0,St(t,n)),i[(n-1)/2]=sn(e,St(t,n+1));return new Je(sn(e,St(t,0)),r,i,t.lineno,t.col_offset);case yt.expr:case yt.xor_expr:case yt.and_expr:case yt.shift_expr:case yt.arith_expr:case yt.term:if(1===kt(t)){t=St(t,0);continue e}return Qt(e,t);case yt.yield_expr:return n=null,2===kt(t)&&(n=Zt(e,St(t,1))),new Ze(n,t.lineno,t.col_offset);case yt.factor:if(1===kt(t)){t=St(t,0);continue e}return zt(e,t);case yt.power:return on(e,t);default:s.asserts.fail("unhandled expr","n.type: %d",t.type)}break}}function an(e,t){var n;if(t.type===yt.stmt&&(s.asserts.assert(1===kt(t)),t=St(t,0)),t.type===yt.simple_stmt&&(s.asserts.assert(1===Tt(t)),t=St(t,0)),t.type===yt.small_stmt)switch(Ct(t,yt.small_stmt),t=St(t,0),t.type){case yt.expr_stmt:return Jt(e,t);case yt.print_stmt:return function(e,t){var n,i,r;n=1;var o=null;for(Ct(t,yt.print_stmt),2<=kt(t)&&St(t,1).type===vt.T_RIGHTSHIFT&&(o=sn(e,St(t,2)),n=4),r=[],i=0;n<kt(t);n+=2,++i)r[i]=sn(e,St(t,n));return new ke(o,r,n=St(t,kt(t)-1).type!==vt.T_COMMA,t.lineno,t.col_offset)}(e,t);case yt.del_stmt:return function(e,t){return Ct(t,yt.del_stmt),new _e(jt(e,St(t,1),D),t.lineno,t.col_offset)}(e,t);case yt.pass_stmt:return new Fe(t.lineno,t.col_offset);case yt.flow_stmt:return function(e,t){var n;switch(Ct(t,yt.flow_stmt),(n=St(t,0)).type){case yt.break_stmt:return new $e(t.lineno,t.col_offset);case yt.continue_stmt:return new je(t.lineno,t.col_offset);case yt.yield_stmt:return new Ie(sn(e,St(n,0)),t.lineno,t.col_offset);case yt.return_stmt:return 1===kt(n)?new ve(null,t.lineno,t.col_offset):new ve(Zt(e,St(n,1)),t.lineno,t.col_offset);case yt.raise_stmt:if(1===kt(n))return new Ae(null,null,null,t.lineno,t.col_offset);if(2===kt(n))return new Ae(sn(e,St(n,1)),null,null,t.lineno,t.col_offset);if(4===kt(n))return new Ae(sn(e,St(n,1)),sn(e,St(n,3)),null,t.lineno,t.col_offset);if(6===kt(n))return new Ae(sn(e,St(n,1)),sn(e,St(n,3)),sn(e,St(n,5)),t.lineno,t.col_offset);break;default:s.asserts.fail("unexpected flow_stmt")}s.asserts.fail("unhandled flow statement")}(e,t);case yt.import_stmt:return function(e,t){var n,i,r,o,s,l;if(Ct(t,yt.import_stmt),l=t.lineno,s=t.col_offset,(t=St(t,0)).type===yt.import_name){for(Ct(t=St(t,1),yt.dotted_as_names),i=[],o=0;o<kt(t);o+=2)i[o/2]=Bt(e,St(t,o));return new Oe(i,l,s)}if(t.type===yt.import_from){for(n=null,r=0,i=1;i<kt(t);++i){if(St(t,i).type===yt.dotted_name){n=Bt(e,St(t,i)),i++;break}if(St(t,i).type!==vt.T_DOT)break;r++}switch(St(t,++i).type){case vt.T_STAR:t=St(t,i);break;case vt.T_LPAR:kt(t=St(t,i+1));break;case yt.import_as_names:if(0==(i=kt(t=St(t,i)))%2)throw new a.builtin.SyntaxError("trailing comma not allowed without surrounding parentheses",e.c_filename,t.lineno);break;default:throw new a.builtin.SyntaxError("Unexpected node-type in from-import",e.c_filename,t.lineno)}if(i=[],t.type===vt.T_STAR)i[0]=Bt(e,t);else for(o=0;o<kt(t);o+=2)i[o/2]=Bt(e,St(t,o));return new Le(Et(n=n?n.name.v:""),i,r,l,s)}throw new a.builtin.SyntaxError("unknown import statement",e.c_filename,t.lineno)}(e,t);case yt.global_stmt:return function(e,t){var n,i=[];for(Ct(t,yt.global_stmt),n=1;n<kt(t);n+=2)i[(n-1)/2]=Et(St(t,n).value);return new De(i,t.lineno,t.col_offset)}(0,t);case yt.exec_stmt:return function(e,t){var n,i=null,r=null,o=kt(t);return s.asserts.assert(2===o||4===o||6===o),Ct(t,yt.exec_stmt),n=sn(e,St(t,1)),4<=o&&(i=sn(e,St(t,3))),6===o&&(r=sn(e,St(t,5))),new Pe(n,i,r,t.lineno,t.col_offset)}(e,t);case yt.assert_stmt:return function(e,t){return Ct(t,yt.assert_stmt),2===kt(t)?new Re(sn(e,St(t,1)),null,t.lineno,t.col_offset):4===kt(t)?new Re(sn(e,St(t,1)),sn(e,St(t,3)),t.lineno,t.col_offset):void s.asserts.fail("improper number of parts to assert stmt")}(e,t);case yt.debugger_stmt:return new Be(t.lineno,t.col_offset);default:s.asserts.fail("unhandled small_stmt")}else switch(n=St(t,0),Ct(t,yt.compound_stmt),n.type){case yt.if_stmt:return function(e,t){var n,i,r,o;if(Ct(t,yt.if_stmt),4===kt(t))return new Ee(sn(e,St(t,1)),Pt(e,St(t,3)),[],t.lineno,t.col_offset);if("s"===(r=St(t,4).value.charAt(2)))return new Ee(sn(e,St(t,1)),Pt(e,St(t,3)),Pt(e,St(t,6)),t.lineno,t.col_offset);if("i"===r){for(n=!1,r=[],St(t,1+(o=kt(t)-4)).type===vt.T_NAME&&"s"===St(t,o+1).value.charAt(2)&&(n=!0,o-=3),o/=4,n&&(r=[new Ee(sn(e,St(t,kt(t)-6)),Pt(e,St(t,kt(t)-4)),Pt(e,St(t,kt(t)-1)),St(t,kt(t)-6).lineno,St(t,kt(t)-6).col_offset)],o--),i=0;i<o;++i)r=[new Ee(sn(e,St(t,n=5+4*(o-i-1))),Pt(e,St(t,n+2)),r,St(t,n).lineno,St(t,n).col_offset)];return new Ee(sn(e,St(t,1)),Pt(e,St(t,3)),r,t.lineno,t.col_offset)}s.asserts.fail("unexpected token in 'if' statement")}(e,n);case yt.while_stmt:return function(e,t){return Ct(t,yt.while_stmt),4===kt(t)?new Ce(sn(e,St(t,1)),Pt(e,St(t,3)),[],t.lineno,t.col_offset):7===kt(t)?new Ce(sn(e,St(t,1)),Pt(e,St(t,3)),Pt(e,St(t,6)),t.lineno,t.col_offset):void s.asserts.fail("wrong number of tokens for 'while' stmt")}(e,n);case yt.for_stmt:return function(e,t){var n,i,r=[];return Ct(t,yt.for_stmt),9===kt(t)&&(r=Pt(e,St(t,8))),n=jt(e,i=St(t,1),P),new Se(n=1===kt(i)?n[0]:new lt(n,P,t.lineno,t.col_offset),Zt(e,St(t,3)),Pt(e,St(t,5)),r,t.lineno,t.col_offset)}(e,n);case yt.try_stmt:return function(e,t){var n,i,r;n=((i=kt(t))-3)/3;var o,l=[],u=null;if(Ct(t,yt.try_stmt),o=Pt(e,St(t,2)),St(t,i-3).type===vt.T_NAME)"finally"===St(t,i-3).value?(9<=i&&St(t,i-6).type===vt.T_NAME&&(l=Pt(e,St(t,i-4)),n--),u=Pt(e,St(t,i-1))):l=Pt(e,St(t,i-1)),n--;else if(St(t,i-3).type!==yt.except_clause)throw new a.builtin.SyntaxError("malformed 'try' statement",e.c_filename,t.lineno);if(0<n){for(r=[],i=0;i<n;++i)r[i]=Dt(e,St(t,3+3*i),St(t,5+3*i));if(n=new Ne(o,r,l,t.lineno,t.col_offset),!u)return n;o=[n]}return s.asserts.assert(null!==u),new Me(o,u,t.lineno,t.col_offset)}(e,n);case yt.with_stmt:return $t(e,n);case yt.funcdef:return Wt(e,n,[]);case yt.classdef:return Vt(e,n,[]);case yt.decorated:return Ft(e,n);default:s.asserts.assert("unhandled compound_stmt")}}Mt[vt.T_VBAR]=Y,Mt[vt.T_CIRCUMFLEX]=X,Mt[vt.T_AMPER]=Q,Mt[vt.T_LEFTSHIFT]=G,Mt[vt.T_RIGHTSHIFT]=K,Mt[vt.T_PLUS]=z,Mt[vt.T_MINUS]=q,Mt[vt.T_STAR]=H,Mt[vt.T_SLASH]=U,Mt[vt.T_DOUBLESLASH]=Z,Mt[vt.T_PERCENT]=W,a.astFromParse=function(e,t,n){var i,r,o=new wt("utf-8",t,n),a=[],l=0;switch(e.type){case yt.file_input:for(r=0;r<kt(e)-1;++r)if(i=St(e,r),e.type!==vt.T_NEWLINE)if(Ct(i,yt.stmt),1===(n=Tt(i)))a[l++]=an(o,i);else for(Ct(i=St(i,0),yt.simple_stmt),t=0;t<n;++t)a[l++]=an(o,St(i,2*t));return new de(a);case yt.eval_input:s.asserts.fail("todo;");case yt.single_input:s.asserts.fail("todo;");default:s.asserts.fail("todo;")}},a.astDump=function(e){var t=function(e){var t,n="";for(t=0;t<e;++t)n+=" ";return n},n=function(e,i){var r,o,l,u,c,p;if(null===e)return i+"None";if(e.prototype&&void 0!==e.prototype._astname&&e.prototype._isenum)return i+e.prototype._astname+"()";if(void 0!==e._astname){for(l=t(e._astname.length+1),o=[],r=0;r<e._fields.length;r+=2)p=e._fields[r],c=e._fields[r+1](e),u=t(p.length+1),o.push([p,n(c,i+l+u)]);for(c=[],r=0;r<o.length;++r)u=o[r],c.push(u[0]+"="+u[1].replace(/^\s+/,""));return r=c.join(",\n"+i+l),i+e._astname+"("+r+")"}if(s.isArrayLike(e)){for(l=[],r=0;r<e.length;++r)o=e[r],l.push(n(o,i+" "));return i+"["+(r=l.join(",\n")).replace(/^\s+/,"")+"]"}return i+(r=!0===e?"True":!1===e?"False":e instanceof a.builtin.lng?e.tp$str().v:e instanceof a.builtin.str?e.$r().v:""+e)};return n(e,"")},s.exportSymbol("Sk.astFromParse",a.astFromParse),s.exportSymbol("Sk.astDump",a.astDump);var ln=11,un=7,cn="function";function pn(e,t,n){this.__name=e,this.__flags=t,this.__scope=t>>ln&un,this.__namespaces=n||[]}pn.prototype.get_name=function(){return this.__name},pn.prototype.is_referenced=function(){return!!(8&this.__flags)},pn.prototype.is_parameter=function(){return!!(4&this.__flags)},pn.prototype.is_global=function(){return 3===this.__scope||2==this.__scope},pn.prototype.is_declared_global=function(){return 2==this.__scope},pn.prototype.is_local=function(){return!!(1030&this.__flags)},pn.prototype.is_free=function(){return 4==this.__scope},pn.prototype.is_imported=function(){return!!(1024&this.__flags)},pn.prototype.is_assigned=function(){return!!(2&this.__flags)},pn.prototype.is_namespace=function(){return this.__namespaces&&0<this.__namespaces.length},pn.prototype.get_namespaces=function(){return this.__namespaces};var fn,dn=0;function hn(e,t,n,i,r){this.symFlags={},this.name=t,this.varnames=[],this.children=[],this.blockType=n,this.returnsValue=this.varkeywords=this.varargs=this.generator=this.childHasFree=this.hasFree=this.isNested=!1,this.lineno=r,this.table=e,e.cur&&(e.cur.nested||e.cur.blockType===cn)&&(this.isNested=!0),i.scopeId=dn++,e.stss[i.scopeId]=this,this.symbols={}}function mn(e){this.filename=e,this.top=this.cur=null,this.stack=[],this.curClass=this.global=null,this.tmpname=0,this.stss={}}function gn(e,t){for(var n in t)e[n]=t[n]}function bn(e,t,n,i,r){this.filename=e,this.st=t,this.flags=n,this.canSuspend=i,this.interactive=!1,this.nestlevel=0,this.u=null,this.stack=[],this.result=[],this.allUnits=[],this.source=!!r&&r.split("\n")}function yn(){this.name=this.ste=null,this.doesSuspend=this.canSuspend=!1,this.private_=null,this.lineno=this.firstlineno=0,this.linenoSet=!1,this.localnames=[],this.localtemps=[],this.tempsToSave=[],this.blocknum=0,this.blocks=[],this.curblock=0,this.scopename=null,this.suffixCode=this.switchCode=this.varDeclsCode=this.prefixCode="",this.breakBlocks=[],this.continueBlocks=[],this.exceptBlocks=[],this.finallyBlocks=[]}hn.prototype.get_type=function(){return this.blockType},hn.prototype.get_name=function(){return this.name},hn.prototype.get_lineno=function(){return this.lineno},hn.prototype.is_nested=function(){return this.isNested},hn.prototype.has_children=function(){return 0<this.children.length},hn.prototype.get_identifiers=function(){return this._identsMatching(function(){return!0})},hn.prototype.lookup=function(e){var t,n;return this.symbols.hasOwnProperty(e)?e=this.symbols[e]:(n=this.symFlags[e],t=this.__check_children(e),e=this.symbols[e]=new pn(e,n,t)),e},hn.prototype.__check_children=function(e){var t,n,i=[];for(n=0;n<this.children.length;++n)(t=this.children[n]).name===e&&i.push(t);return i},hn.prototype._identsMatching=function(e){var t,n=[];for(t in this.symFlags)this.symFlags.hasOwnProperty(t)&&e(this.symFlags[t])&&n.push(t);return n.sort(),n},hn.prototype.get_parameters=function(){return s.asserts.assert("function"==this.get_type(),"get_parameters only valid for function scopes"),this._funcParams||(this._funcParams=this._identsMatching(function(e){return 4&e})),this._funcParams},hn.prototype.get_locals=function(){return s.asserts.assert("function"==this.get_type(),"get_locals only valid for function scopes"),this._funcLocals||(this._funcLocals=this._identsMatching(function(e){return 1030&e})),this._funcLocals},hn.prototype.get_globals=function(){return s.asserts.assert("function"==this.get_type(),"get_globals only valid for function scopes"),this._funcGlobals||(this._funcGlobals=this._identsMatching(function(e){return 3==(e=e>>ln&un)||2==e})),this._funcGlobals},hn.prototype.get_frees=function(){return s.asserts.assert("function"==this.get_type(),"get_frees only valid for function scopes"),this._funcFrees||(this._funcFrees=this._identsMatching(function(e){return 4==(e>>ln&un)})),this._funcFrees},hn.prototype.get_methods=function(){var e,t;if(s.asserts.assert("class"==this.get_type(),"get_methods only valid for class scopes"),!this._classMethods){for(t=[],e=0;e<this.children.length;++e)t.push(this.children[e].name);t.sort(),this._classMethods=t}return this._classMethods},hn.prototype.getScope=function(e){return void 0===(e=this.symFlags[e])?0:e>>ln&un},mn.prototype.getStsForAst=function(e){return s.asserts.assert(void 0!==e.scopeId,"ast wasn't added to st?"),e=this.stss[e.scopeId],s.asserts.assert(void 0!==e,"unknown sym tab entry"),e},mn.prototype.SEQStmt=function(e){var t,n,i;for(s.asserts.assert(s.isArrayLike(e),"SEQ: nodes isn't array? got %s",e),i=e.length,n=0;n<i;++n)(t=e[n])&&this.visitStmt(t)},mn.prototype.SEQExpr=function(e){var t,n,i;for(s.asserts.assert(s.isArrayLike(e),"SEQ: nodes isn't array? got %s",e),i=e.length,n=0;n<i;++n)(t=e[n])&&this.visitExpr(t)},mn.prototype.enterBlock=function(e,t,n,i){var r;e=wn(e),r=null,this.cur&&(r=this.cur,this.stack.push(this.cur)),this.cur=new hn(this,e,t,n,i),"top"===e&&(this.global=this.cur.symFlags),r&&r.children.push(this.cur)},mn.prototype.exitBlock=function(){this.cur=null,0<this.stack.length&&(this.cur=this.stack.pop())},mn.prototype.visitParams=function(e,t){var n,i;for(i=0;i<e.length;++i){if((n=e[i]).constructor!==st)throw new a.builtin.SyntaxError("invalid expression in parameter list",this.filename);s.asserts.assert(n.ctx===$||n.ctx===P&&!t),this.addDef(n.id,4,n.lineno)}},mn.prototype.visitArguments=function(e,t){e.args&&this.visitParams(e.args,!0),e.vararg&&(this.addDef(e.vararg,4,t),this.cur.varargs=!0),e.kwarg&&(this.addDef(e.kwarg,4,t),this.cur.varkeywords=!0)},mn.prototype.newTmpname=function(e){this.addDef(new a.builtin.str("_["+ ++this.tmpname+"]"),2,e)},mn.prototype.addDef=function(e,t,n){var i,r=wn(r=kn(this.curClass,new a.builtin.str(e)).v);if(void 0!==(i=this.cur.symFlags[r])){if(4&t&&4&i)throw new a.builtin.SyntaxError("duplicate argument '"+e.v+"' in function definition",this.filename,n);i|=t}else i=t;this.cur.symFlags[r]=i,4&t?this.cur.varnames.push(r):1&t&&(i=t,void 0!==(e=this.global[r])&&(i|=e),this.global[r]=i)},mn.prototype.visitSlice=function(e){var t;switch(e.constructor){case ct:e.lower&&this.visitExpr(e.lower),e.upper&&this.visitExpr(e.upper),e.step&&this.visitExpr(e.step);break;case pt:for(t=0;t<e.dims.length;++t)this.visitSlice(e.dims[t]);break;case ft:this.visitExpr(e.value)}},mn.prototype.visitStmt=function(e){var t,n,i,r;switch(s.asserts.assert(void 0!==e,"visitStmt called with undefined"),e.constructor){case be:this.addDef(e.name,2,e.lineno),e.args.defaults&&this.SEQExpr(e.args.defaults),e.decorator_list&&this.SEQExpr(e.decorator_list),this.enterBlock(e.name.v,cn,e,e.lineno),this.visitArguments(e.args,e.lineno),this.SEQStmt(e.body),this.exitBlock();break;case ye:this.addDef(e.name,2,e.lineno),this.SEQExpr(e.bases),e.decorator_list&&this.SEQExpr(e.decorator_list),this.enterBlock(e.name.v,"class",e,e.lineno),this.curClass=e.name,this.SEQStmt(e.body),this.exitBlock();break;case ve:if(e.value&&(this.visitExpr(e.value),this.cur.returnsValue=!0,this.cur.generator))throw new a.builtin.SyntaxError("'return' with argument inside generator",this.filename);break;case _e:this.SEQExpr(e.targets);break;case xe:this.SEQExpr(e.targets),this.visitExpr(e.value);break;case we:this.visitExpr(e.target),this.visitExpr(e.value);break;case ke:e.dest&&this.visitExpr(e.dest),this.SEQExpr(e.values);break;case Se:this.visitExpr(e.target),this.visitExpr(e.iter),this.SEQStmt(e.body),e.orelse&&this.SEQStmt(e.orelse);break;case Ce:case Ee:this.visitExpr(e.test),this.SEQStmt(e.body),e.orelse&&this.SEQStmt(e.orelse);break;case Ae:e.type&&(this.visitExpr(e.type),e.inst&&(this.visitExpr(e.inst),e.tback&&this.visitExpr(e.tback)));break;case Ne:this.SEQStmt(e.body),this.SEQStmt(e.orelse),this.visitExcepthandlers(e.handlers);break;case Me:this.SEQStmt(e.body),this.SEQStmt(e.finalbody);break;case Re:this.visitExpr(e.test),e.msg&&this.visitExpr(e.msg);break;case Oe:case Le:this.visitAlias(e.names,e.lineno);break;case Pe:this.visitExpr(e.body),e.globals&&(this.visitExpr(e.globals),e.locals&&this.visitExpr(e.locals));break;case De:for(r=e.names.length,i=0;i<r;++i){if(n=wn(n=kn(this.curClass,e.names[i]).v),10&(t=this.cur.symFlags[n])){if(2&t)throw new a.builtin.SyntaxError("name '"+n+"' is assigned to before global declaration",this.filename,e.lineno);throw new a.builtin.SyntaxError("name '"+n+"' is used prior to global declaration",this.filename,e.lineno)}this.addDef(new a.builtin.str(n),1,e.lineno)}break;case Ie:this.visitExpr(e.value);break;case Fe:case $e:case Be:case je:break;case Te:this.newTmpname(e.lineno),this.visitExpr(e.context_expr),e.optional_vars&&(this.newTmpname(e.lineno),this.visitExpr(e.optional_vars)),this.SEQStmt(e.body);break;default:s.asserts.fail("Unhandled type "+e.constructor.name+" in visitStmt")}},mn.prototype.visitExpr=function(e){var t;switch(s.asserts.assert(void 0!==e,"visitExpr called with undefined"),e.constructor){case ze:this.SEQExpr(e.values);break;case qe:this.visitExpr(e.left),this.visitExpr(e.right);break;case He:this.visitExpr(e.operand);break;case Ue:this.addDef(new a.builtin.str("lambda"),2,e.lineno),e.args.defaults&&this.SEQExpr(e.args.defaults),this.enterBlock("lambda",cn,e,e.lineno),this.visitArguments(e.args,e.lineno),this.visitExpr(e.body),this.exitBlock();break;case We:this.visitExpr(e.test),this.visitExpr(e.body),this.visitExpr(e.orelse);break;case Ve:this.SEQExpr(e.keys),this.SEQExpr(e.values);break;case Xe:case Ye:this.visitComprehension(e.generators,0);break;case Ke:this.newTmpname(e.lineno),this.visitExpr(e.elt),this.visitComprehension(e.generators,0);break;case Qe:this.visitGenexp(e);break;case Ze:if(e.value&&this.visitExpr(e.value),this.cur.generator=!0,this.cur.returnsValue)throw new a.builtin.SyntaxError("'return' with argument inside generator",this.filename);break;case Je:this.visitExpr(e.left),this.SEQExpr(e.comparators);break;case et:for(this.visitExpr(e.func),this.SEQExpr(e.args),t=0;t<e.keywords.length;++t)this.visitExpr(e.keywords[t].value);e.starargs&&this.visitExpr(e.starargs),e.kwargs&&this.visitExpr(e.kwargs);break;case nt:case it:break;case rt:this.visitExpr(e.value);break;case ot:this.visitExpr(e.value),this.visitSlice(e.slice);break;case st:this.addDef(e.id,e.ctx===L?8:2,e.lineno);break;case at:case lt:case Ge:this.SEQExpr(e.elts);break;default:s.asserts.fail("Unhandled type "+e.constructor.name+" in visitExpr")}},mn.prototype.visitComprehension=function(e,t){var n,i,r=e.length;for(i=t;i<r;++i)n=e[i],this.visitExpr(n.target),this.visitExpr(n.iter),this.SEQExpr(n.ifs)},mn.prototype.visitAlias=function(e,t){var n,i,r,o;for(o=0;o<e.length;++o)if(i=r=null===(n=e[o]).asname?n.name.v:n.asname.v,-1!==(n=r.indexOf("."))&&(i=r.substr(0,n)),"*"!==r)this.addDef(new a.builtin.str(i),1024,t);else if("module"!==this.cur.blockType)throw new a.builtin.SyntaxError("import * only allowed at module level",this.filename)},mn.prototype.visitGenexp=function(e){var t=e.generators[0];this.visitExpr(t.iter),this.enterBlock("genexpr",cn,e,e.lineno),this.cur.generator=!0,this.addDef(new a.builtin.str(".0"),4,e.lineno),this.visitExpr(t.target),this.SEQExpr(t.ifs),this.visitComprehension(e.generators,1),this.visitExpr(e.elt),this.exitBlock()},mn.prototype.visitExcepthandlers=function(e){var t,n;for(t=0;n=e[t];++t)n.type&&this.visitExpr(n.type),n.name&&this.visitExpr(n.name),this.SEQStmt(n.body)},mn.prototype.analyzeBlock=function(e,t,n,i){var r,o,s;s={};var a={},l={},u={},c={};for(o in"class"==e.blockType&&(gn(l,i),t&&gn(u,t)),e.symFlags)r=e.symFlags[o],this.analyzeName(e,a,o,r,t,s,n,i);for("class"!==e.blockType&&(e.blockType===cn&&gn(u,s),t&&gn(u,t),gn(l,i)),s={},o=e.children.length,r=0;r<o;++r)i=e.children[r],this.analyzeChildBlock(i,u,c,l,s),(i.hasFree||i.childHasFree)&&(e.childHasFree=!0);gn(c,s),e.blockType===cn&&this.analyzeCells(a,c),this.updateSymbols(e.symFlags,a,t,c,"class"===e.blockType),gn(n,c)},mn.prototype.analyzeChildBlock=function(e,t,n,i,r){var o={};gn(o,t),gn(t={},n),gn(n={},i),this.analyzeBlock(e,o,t,n),gn(r,t)},mn.prototype.analyzeCells=function(e,t){var n;for(n in e)1===e[n]&&void 0!==t[n]&&(e[n]=5,delete t[n])},mn.prototype.updateSymbols=function(e,t,n,i,r){var o,s;for(s in e)o=e[s],o|=t[s]<<ln,e[s]=o;for(s in t=4<<ln,i)void 0!==(i=e[s])?r&&1031&i&&(i|=512,e[s]=i):void 0!==n[s]&&(e[s]=t)},mn.prototype.analyzeName=function(e,t,n,i,r,o,s,l){if(1&i){if(4&i)throw new a.builtin.SyntaxError("name '"+n+"' is local and global",this.filename,e.lineno);t[n]=2,l[n]=null,r&&void 0!==r[n]&&delete r[n]}else 1030&i?(t[n]=1,o[n]=null,delete l[n]):r&&void 0!==r[n]?(t[n]=4,e.hasFree=!0,s[n]=null):(l&&void 0!==l[n]||!e.isNested||(e.hasFree=!0),t[n]=3)},mn.prototype.analyze=function(){this.analyzeBlock(this.top,null,{},{})},a.symboltable=function(e,t){var n,i=new mn(t);for(i.enterBlock("top","module",e,0),i.top=i.cur,n=0;n<e.body.length;++n)i.visitStmt(e.body[n]);return i.exitBlock(),i.analyze(),i},a.dumpSymtab=function(e){var t=function(e){return e?"True":"False"},n=function(e){var t,n=[];for(t=0;t<e.length;++t)n.push(new a.builtin.str(e[t]).$r().v);return"["+n.join(", ")+"]"},i=function(e,r){var o,s,a,l,u,c,p,f,d;for(void 0===r&&(r=""),d=r+"Sym_type: "+e.get_type()+"\n",d+=r+"Sym_name: "+e.get_name()+"\n",d+=r+"Sym_lineno: "+e.get_lineno()+"\n",d+=r+"Sym_nested: "+t(e.is_nested())+"\n",d+=r+"Sym_haschildren: "+t(e.has_children())+"\n","class"===e.get_type()?d+=r+"Class_methods: "+n(e.get_methods())+"\n":"function"===e.get_type()&&(d+=r+"Func_params: "+n(e.get_parameters())+"\n",d+=r+"Func_locals: "+n(e.get_locals())+"\n",d+=r+"Func_globals: "+n(e.get_globals())+"\n",d+=r+"Func_frees: "+n(e.get_frees())+"\n"),d+=r+"-- Identifiers --\n",p=(f=e.get_identifiers()).length,c=0;c<p;++c){for(d+=r+"name: "+(o=e.lookup(f[c])).get_name()+"\n",d+=r+"  is_referenced: "+t(o.is_referenced())+"\n",d+=r+"  is_imported: "+t(o.is_imported())+"\n",d+=r+"  is_parameter: "+t(o.is_parameter())+"\n",d+=r+"  is_global: "+t(o.is_global())+"\n",d+=r+"  is_declared_global: "+t(o.is_declared_global())+"\n",d+=r+"  is_local: "+t(o.is_local())+"\n",d+=r+"  is_free: "+t(o.is_free())+"\n",d+=r+"  is_assigned: "+t(o.is_assigned())+"\n",d+=r+"  is_namespace: "+t(o.is_namespace())+"\n",l=(u=o.get_namespaces()).length,d+=r+"  namespaces: [\n",a=[],s=0;s<l;++s)o=u[s],a.push(i(o,r+"    "));d+=a.join("\n"),d+=r+"  ]\n"}return d};return i(e.top,"")},s.exportSymbol("Sk.symboltable",a.symboltable),s.exportSymbol("Sk.dumpSymtab",a.dumpSymtab),a.gensymcount=0,yn.prototype.activateScope=function(){var e=this;fn=function(){var t,n=e.blocks[e.curblock];if(null===n._next)for(t=0;t<arguments.length;++t)n.push(arguments[t])}},bn.prototype.getSourceLine=function(e){return s.asserts.assert(this.source),this.source[e-1]},bn.prototype.annotateSource=function(e){var t,n;if(this.source){for(n=e.lineno,t=e.col_offset,fn("\n//\n// line ",n,":\n// ",this.getSourceLine(n),"\n// "),e=0;e<t;++e)fn(" ");fn("^\n//\n"),fn("$currLineNo = ",n,";\n$currColNo = ",t,";\n\n")}},bn.prototype.gensym=function(e){return(e="$"+(e||""))+a.gensymcount++},bn.prototype.niceName=function(e){return this.gensym(e.replace("<","").replace(">","").replace(" ","_"))};var vn={abstract:!0,as:!0,boolean:!0,break:!0,byte:!0,case:!0,catch:!0,char:!0,class:!0,continue:!0,const:!0,debugger:!0,default:!0,delete:!0,do:!0,double:!0,else:!0,enum:!0,export:!0,extends:!0,false:!0,final:!0,finally:!0,float:!0,for:!0,function:!0,goto:!0,if:!0,implements:!0,import:!0,in:!0,instanceof:!0,int:!0,interface:!0,is:!0,long:!0,namespace:!0,native:!0,new:!0,null:!0,package:!0,private:!0,protected:!0,public:!0,return:!0,short:!0,static:!0,super:!1,switch:!0,synchronized:!0,this:!0,throw:!0,throws:!0,transient:!0,true:!0,try:!0,typeof:!0,use:!0,var:!0,void:!0,volatile:!0,while:!0,with:!0};function _n(e){return!0!==vn[e]?e:e+"_$rw$"}var xn={__defineGetter__:!0,__defineSetter__:!0,apply:!0,call:!0,eval:!0,hasOwnProperty:!0,isPrototypeOf:!0,__lookupGetter__:!0,__lookupSetter__:!0,__noSuchMethod__:!0,propertyIsEnumerable:!0,toSource:!0,toLocaleString:!0,toString:!0,unwatch:!0,valueOf:!0,watch:!0,length:!0};function wn(e){return xn[e]?e+"_$rn$":e}function kn(e,t){var n=t.v,i=null;return null===e||null===n||"_"!==n.charAt(0)||"_"!==n.charAt(1)||"_"===n.charAt(n.length-1)&&"_"===n.charAt(n.length-2)?t:((i=e.v).replace(/_/g,""),""===i?t:((i=e.v).replace(/^_*/,""),new a.builtin.str("_"+i+n)))}bn.prototype._gr=function(e,t){var n,i=this.gensym(e);for(this.u.localtemps.push(i),fn("var ",i,"="),n=1;n<arguments.length;++n)fn(arguments[n]);return fn(";"),i},bn.prototype.outputInterruptTest=function(){var e="";return(null!==a.execLimit||null!==a.yieldLimit&&this.u.canSuspend)&&(e+="var $dateNow = Date.now();",null!==a.execLimit&&(e+="if ($dateNow - Sk.execStart > Sk.execLimit) {throw new Sk.builtin.TimeLimitError(Sk.timeoutMsg())}"),null!==a.yieldLimit&&this.u.canSuspend&&(e=e+"if ($dateNow - Sk.lastYield > Sk.yieldLimit) {var $susp = $saveSuspension({data: {type: 'Sk.yield'}, resume: function() {}}, '"+this.filename+"',$currLineNo,$currColNo);",e+="$susp.$blk = $blk;",e+="$susp.optional = true;",e+="return $susp;",e+="}",this.u.doesSuspend=!0)),e},bn.prototype._jumpfalse=function(e,t){var n=this._gr("jfalse","(",e,"===false||!Sk.misceval.isTrue(",e,"))");fn("if(",n,"){/*test failed */$blk=",t,";continue;}")},bn.prototype._jumpundef=function(e,t){fn("if(",e,"===undefined){$blk=",t,";continue;}")},bn.prototype._jumptrue=function(e,t){var n=this._gr("jtrue","(",e,"===true||Sk.misceval.isTrue(",e,"))");fn("if(",n,"){/*test passed */$blk=",t,";continue;}")},bn.prototype._jump=function(e){null===this.u.blocks[this.u.curblock]._next&&(fn("$blk=",e,";"),this.u.blocks[this.u.curblock]._next=e)},bn.prototype._checkSuspension=function(e){var t;this.u.canSuspend?(t=this.newBlock("function return or resume suspension"),this._jump(t),this.setBlock(t),e=e||{lineno:"$currLineNo",col_offset:"$currColNo"},fn("if ($ret && $ret.$isSuspension) { return $saveSuspension($ret,'"+this.filename+"',"+e.lineno+","+e.col_offset+"); }"),this.u.doesSuspend=!0,this.u.tempsToSave=this.u.tempsToSave.concat(this.u.localtemps)):fn("if ($ret && $ret.$isSuspension) { $ret = Sk.misceval.retryOptionalSuspensionOrThrow($ret); }")},bn.prototype.ctuplelistorset=function(e,t,n){var i;if(s.asserts.assert("tuple"===n||"list"===n||"set"===n),e.ctx===P)for(i=this._gr("items","Sk.abstr.sequenceUnpack("+t+","+e.elts.length+")"),t=0;t<e.elts.length;++t)this.vexpr(e.elts[t],i+"["+t+"]");else if(e.ctx===L||"set"===n){for(i=[],t=0;t<e.elts.length;++t)i.push(this._gr("elem",this.vexpr(e.elts[t])));return this._gr("load"+n,"new Sk.builtins['",n,"']([",i,"])")}},bn.prototype.cdict=function(e){var t,n,i;for(s.asserts.assert(e.values.length===e.keys.length),i=[],n=0;n<e.values.length;++n)t=this.vexpr(e.values[n]),i.push(this.vexpr(e.keys[n])),i.push(t);return this._gr("loaddict","new Sk.builtins['dict']([",i,"])")},bn.prototype.clistcomp=function(e){s.asserts.assert(e instanceof Ke);var t=this._gr("_compr","new Sk.builtins['list']([])");return this.ccompgen("list",t,e.generators,0,e.elt,null,e)},bn.prototype.cdictcomp=function(e){s.asserts.assert(e instanceof Xe);var t=this._gr("_dcompr","new Sk.builtins.dict([])");return this.ccompgen("dict",t,e.generators,0,e.value,e.key,e)},bn.prototype.csetcomp=function(e){s.asserts.assert(e instanceof Ye);var t=this._gr("_setcompr","new Sk.builtins.set([])");return this.ccompgen("set",t,e.generators,0,e.elt,null,e)},bn.prototype.ccompgen=function(e,t,n,i,r,o,s){var a,l,u=this.newBlock(e+" comp start"),c=this.newBlock(e+" comp skip"),p=this.newBlock(e+" comp anchor"),f=n[i],d=this.vexpr(f.iter);d=this._gr("iter","Sk.abstr.iter(",d,")");for(this._jump(u),this.setBlock(u),fn("$ret = Sk.abstr.iternext(",d,", true);"),this._checkSuspension(s),d=this._gr("next","$ret"),this._jumpundef(d,p),this.vexpr(f.target,d),l=f.ifs.length,a=0;a<l;++a)d=this.vexpr(f.ifs[a]),this._jumpfalse(d,u);return++i<n.length&&this.ccompgen(e,t,n,i,r,o,s),i>=n.length&&(n=this.vexpr(r),"dict"===e?(e=this.vexpr(o),fn(t,".mp$ass_subscript(",e,",",n,");")):"list"===e?fn(t,".v.push(",n,");"):"set"===e&&fn(t,".v.mp$ass_subscript(",n,", true);"),this._jump(c),this.setBlock(c)),this._jump(u),this.setBlock(p),t},bn.prototype.cyield=function(e){if(this.u.ste.blockType!==cn)throw new SyntaxError("'yield' outside function");var t="null";return e.value&&(t=this.vexpr(e.value)),e=this.newBlock("after yield"),fn("return [/*resume*/",e,",/*ret*/",t,"];"),this.setBlock(e),"$gen.gi$sentvalue"},bn.prototype.ccompare=function(e){var t,n,i,r,o,a;for(s.asserts.assert(e.ops.length===e.comparators.length),a=this.vexpr(e.left),o=e.ops.length,r=this.newBlock("done"),i=this._gr("compareres","null"),n=0;n<o;++n)t=this.vexpr(e.comparators[n]),fn("$ret = Sk.builtin.bool(Sk.misceval.richCompareBool(",a,",",t,",'",e.ops[n].prototype._astname,"', true));"),this._checkSuspension(e),fn(i,"=$ret;"),this._jumpfalse("$ret",r),a=t;return this._jump(r),this.setBlock(r),i},bn.prototype.ccall=function(e){var t,n,i,r=this.vexpr(e.func),o=this.vseqexpr(e.args);if(0<e.keywords.length||e.starargs||e.kwargs){for(n=[],t=0;t<e.keywords.length;++t)n.push("'"+e.keywords[t].arg.v+"'"),n.push(this.vexpr(e.keywords[t].value));i="["+n.join(",")+"]",t=n="undefined",e.starargs&&(n=this.vexpr(e.starargs)),e.kwargs&&(t=this.vexpr(e.kwargs)),fn("$ret;"),fn("$ret = Sk.misceval.callOrSuspend(",r,",",t,",",n,",",i,0<o.length?",":"",o,");")}else fn("$ret;"),fn("$ret = Sk.misceval.callsimOrSuspend(",r,0<o.length?",":"",o,");");return this._checkSuspension(e),this._gr("call","$ret")},bn.prototype.cslice=function(e){var t,n;return s.asserts.assert(e instanceof ct),n=e.lower?this.vexpr(e.lower):e.step?"Sk.builtin.none.none$":"new Sk.builtin.int_(0)",t=e.upper?this.vexpr(e.upper):e.step?"Sk.builtin.none.none$":"new Sk.builtin.int_(2147483647)",e=e.step?this.vexpr(e.step):"Sk.builtin.none.none$",this._gr("slice","new Sk.builtins['slice'](",n,",",t,",",e,")")},bn.prototype.eslice=function(e){var t,n;for(s.asserts.assert(e instanceof Array),n=[],t=0;t<e.length;t++)n.push(this.vslicesub(e[t]));return this._gr("extslice","new Sk.builtins['tuple']([",n,"])")},bn.prototype.vslicesub=function(e){var t;switch(e.constructor){case ft:t=this.vexpr(e.value);break;case ct:t=this.cslice(e);break;case ut:s.asserts.fail("todo compile.js Ellipsis;");break;case pt:t=this.eslice(e.dims);break;default:s.asserts.fail("invalid subscript kind")}return t},bn.prototype.vslice=function(e,t,n,i){return e=this.vslicesub(e),this.chandlesubscr(t,n,e,i)},bn.prototype.chandlesubscr=function(e,t,n,i){if(e===L||e===I)return fn("$ret = Sk.abstr.objectGetItem(",t,",",n,", true);"),this._checkSuspension(),this._gr("lsubscr","$ret");e===P||e===F?(fn("$ret = Sk.abstr.objectSetItem(",t,",",n,",",i,", true);"),this._checkSuspension()):e===D?fn("Sk.abstr.objectDelItem(",t,",",n,");"):s.asserts.fail("handlesubscr fail")},bn.prototype.cboolop=function(e){var t,n,i,r,o,a;for(s.asserts.assert(e instanceof ze),a=e.op===j?this._jumpfalse:this._jumptrue,o=this.newBlock("end of boolop"),i=(r=e.values).length,t=0;t<i;++t)e=this.vexpr(r[t]),0===t&&(n=this._gr("boolopsucc",e)),fn(n,"=",e,";"),a.call(this,e,o);return this._jump(o),this.setBlock(o),n},bn.prototype.vexpr=function(e,t,n,i){var r;switch(e.lineno>this.u.lineno&&(this.u.lineno=e.lineno,this.u.linenoSet=!1),e.constructor){case ze:return this.cboolop(e);case qe:return this._gr("binop","Sk.abstr.numberBinOp(",this.vexpr(e.left),",",this.vexpr(e.right),",'",e.op.prototype._astname,"')");case He:return this._gr("unaryop","Sk.abstr.numberUnaryOp(",this.vexpr(e.operand),",'",e.op.prototype._astname,"')");case Ue:return this.clambda(e);case We:return this.cifexp(e);case Ve:return this.cdict(e);case Ke:return this.clistcomp(e);case Xe:return this.cdictcomp(e);case Ye:return this.csetcomp(e);case Qe:return this.cgenexp(e);case Ze:return this.cyield(e);case Je:return this.ccompare(e);case et:return t=this.ccall(e),this.annotateSource(e),t;case nt:if("number"==typeof e.n)return e.n;if(e.n instanceof a.builtin.int_)return"new Sk.builtin.int_("+e.n.v+")";if(e.n instanceof a.builtin.float_)return"new Sk.builtin.float_("+(e=0===e.n.v&&-1/0==1/e.n.v?"-0":e.n.v)+")";if(e.n instanceof a.builtin.lng)return"Sk.longFromStr('"+e.n.tp$str().v+"')";if(e.n instanceof a.builtin.complex)return"new Sk.builtin.complex(new Sk.builtin.float_("+(0===e.n.real.v&&-1/0==1/e.n.real.v?"-0":e.n.real.v)+"), new Sk.builtin.float_("+(0===e.n.imag.v&&-1/0==1/e.n.imag.v?"-0":e.n.imag.v)+"))";s.asserts.fail("unhandled Num type");case it:return this._gr("str","new Sk.builtins['str'](",e.s.$r().v,")");case rt:switch(e.ctx!==I&&e.ctx!==F&&(r=this.vexpr(e.value)),i=(i=e.attr.$r().v).substring(1,i.length-1),i=wn(i=_n(i=kn(this.u.private_,new a.builtin.str(i)).v)),e.ctx){case I:return fn("$ret = Sk.abstr.gattr(",n,",'",i,"', true);"),this._checkSuspension(e),this._gr("lattr","$ret");case L:return fn("$ret = Sk.abstr.gattr(",r,",'",i,"', true);"),this._checkSuspension(e),this._gr("lattr","$ret");case F:fn("$ret = undefined;"),fn("if(",t,"!==undefined){"),fn("$ret = Sk.abstr.sattr(",n,",'",i,"',",t,", true);"),fn("}"),this._checkSuspension(e);break;case P:fn("$ret = Sk.abstr.sattr(",r,",'",i,"',",t,", true);"),this._checkSuspension(e);break;case D:s.asserts.fail("todo Del;");break;default:s.asserts.fail("invalid attribute expression")}break;case ot:switch(e.ctx){case I:return fn("$ret = Sk.abstr.objectGetItem(",n,",",i,", true);"),this._checkSuspension(e),this._gr("gitem","$ret");case L:case P:case D:return this.vslice(e.slice,e.ctx,this.vexpr(e.value),t);case F:fn("$ret=undefined;"),fn("if(",t,"!==undefined){"),fn("$ret=Sk.abstr.objectSetItem(",n,",",i,",",t,", true)"),fn("}"),this._checkSuspension(e);break;default:s.asserts.fail("invalid subscript expression")}break;case st:return this.nameop(e.id,e.ctx,t);case at:return this.ctuplelistorset(e,t,"list");case lt:return this.ctuplelistorset(e,t,"tuple");case Ge:return this.ctuplelistorset(e,t,"set");default:s.asserts.fail("unhandled case in vexpr")}},bn.prototype.vseqexpr=function(e,t){var n,i;for(s.asserts.assert(void 0===t||e.length===t.length),i=[],n=0;n<e.length;++n)i.push(this.vexpr(e[n],void 0===t?void 0:t[n]));return i},bn.prototype.caugassign=function(e){var t,n,i,r,o;switch(s.asserts.assert(e instanceof we),(o=e.target).constructor){case rt:return t=this.vexpr(o.value),o=new rt(o.value,o.attr,I,o.lineno,o.col_offset),r=this.vexpr(o,void 0,t),i=this.vexpr(e.value),e=this._gr("inplbinopattr","Sk.abstr.numberInplaceBinOp(",r,",",i,",'",e.op.prototype._astname,"')"),o.ctx=F,this.vexpr(o,e,t);case ot:return t=this.vexpr(o.value),n=this.vslicesub(o.slice),o=new ot(o.value,n,I,o.lineno,o.col_offset),r=this.vexpr(o,void 0,t,n),i=this.vexpr(e.value),e=this._gr("inplbinopsubscr","Sk.abstr.numberInplaceBinOp(",r,",",i,",'",e.op.prototype._astname,"')"),o.ctx=F,this.vexpr(o,e,t,n);case st:return t=this.nameop(o.id,L),i=this.vexpr(e.value),e=this._gr("inplbinop","Sk.abstr.numberInplaceBinOp(",t,",",i,",'",e.op.prototype._astname,"')"),this.nameop(o.id,P,e);default:s.asserts.fail("unhandled case in augassign")}},bn.prototype.exprConstant=function(e){switch(e.constructor){case nt:return a.misceval.isTrue(e.n)?1:0;case it:return a.misceval.isTrue(e.s)?1:0;default:return-1}},bn.prototype.newBlock=function(e){var t=this.u.blocknum++;return this.u.blocks[t]=[],this.u.blocks[t]._name=e||"<unnamed>",this.u.blocks[t]._next=null,t},bn.prototype.setBlock=function(e){s.asserts.assert(0<=e&&e<this.u.blocknum),this.u.curblock=e},bn.prototype.pushBreakBlock=function(e){s.asserts.assert(0<=e&&e<this.u.blocknum),this.u.breakBlocks.push(e)},bn.prototype.popBreakBlock=function(){this.u.breakBlocks.pop()},bn.prototype.pushContinueBlock=function(e){s.asserts.assert(0<=e&&e<this.u.blocknum),this.u.continueBlocks.push(e)},bn.prototype.popContinueBlock=function(){this.u.continueBlocks.pop()},bn.prototype.pushExceptBlock=function(e){s.asserts.assert(0<=e&&e<this.u.blocknum),this.u.exceptBlocks.push(e)},bn.prototype.popExceptBlock=function(){this.u.exceptBlocks.pop()},bn.prototype.pushFinallyBlock=function(e){s.asserts.assert(0<=e&&e<this.u.blocknum),this.u.finallyBlocks.push(e)},bn.prototype.popFinallyBlock=function(){this.u.finallyBlocks.pop()},bn.prototype.setupExcept=function(e){fn("$exc.push(",e,");")},bn.prototype.endExcept=function(){fn("$exc.pop();")},bn.prototype.outputLocals=function(e){var t,n,i,r={};for(i=0;e.argnames&&i<e.argnames.length;++i)r[e.argnames[i]]=!0;for(e.localnames.sort(),n=[],i=0;i<e.localnames.length;++i)void 0===r[t=e.localnames[i]]&&(n.push(t),r[t]=!0);return 0<n.length?"var "+n.join(",")+"; /* locals */":""},bn.prototype.outputSuspensionHelpers=function(e){var t,n,i=[],r=e.localnames.concat(e.tempsToSave),o={},s=e.ste.blockType===cn&&e.ste.childHasFree,a=(0<r.length?"var "+r.join(",")+";":"")+"var $wakeFromSuspension = function() {var susp = "+e.scopename+".$wakingSuspension; delete "+e.scopename+".$wakingSuspension;$blk=susp.$blk; $loc=susp.$loc; $gbl=susp.$gbl; $exc=susp.$exc; $err=susp.$err;$currLineNo=susp.$lineno; $currColNo=susp.$colno; Sk.lastYield=Date.now();"+(s?"$cell=susp.$cell;":"");for(t=0;t<r.length;t++)void 0===o[n=r[t]]&&(a+=n+"=susp.$tmps."+n+";",o[n]=!0);for(a+="try { $ret=susp.child.resume(); } catch(err) { if (!(err instanceof Sk.builtin.BaseException)) { err = new Sk.builtin.ExternalError(err); } err.traceback.push({lineno: $currLineNo, colno: $currColNo, filename: '"+this.filename+"'}); if($exc.length>0) { $err=err; $blk=$exc.pop(); } else { throw err; } }};",a+="var $saveSuspension = function($child, $filename, $lineno, $colno) {var susp = new Sk.misceval.Suspension(); susp.child=$child;susp.resume=function(){"+e.scopename+".$wakingSuspension=susp; return "+e.scopename+"("+(e.ste.generator?"$gen":"")+"); };susp.data=susp.child.data;susp.$blk=$blk;susp.$loc=$loc;susp.$gbl=$gbl;susp.$exc=$exc;susp.$err=$err;susp.$filename=$filename;susp.$lineno=$lineno;susp.$colno=$colno;susp.optional=susp.child.optional;"+(s?"susp.$cell=$cell;":""),o={},t=0;t<r.length;t++)void 0===o[n=r[t]]&&(i.push('"'+n+'":'+n),o[n]=!0);return a+"susp.$tmps={"+i.join(",")+"};return susp;};"},bn.prototype.outputAllUnits=function(){var e,t,n,i,r,o,s="";for(i=0;i<this.allUnits.length;++i){for(s+=(n=this.allUnits[i]).prefixCode,s+=this.outputLocals(n),n.doesSuspend&&(s+=this.outputSuspensionHelpers(n)),s+=n.varDeclsCode,s+=n.switchCode,t=n.blocks,o=Object.create(null),e=0;e<t.length;++e)if(!((r=e)in o))for(;;){if(o[r]=!0,s+="case "+r+": /* --- "+t[r]._name+" --- */",s+=t[r].join(""),null===t[r]._next){s+="throw new Sk.builtin.SystemError('internal error: unterminated block');";break}if(t[r]._next in o){s+="/* jump */ continue;";break}s+="/* allowing case fallthrough */",r=t[r]._next}s+=n.suffixCode}return s},bn.prototype.cif=function(e){var t,n,i;s.asserts.assert(e instanceof Ee),0===(t=this.exprConstant(e.test))?e.orelse&&0<e.orelse.length&&this.vseqstmt(e.orelse):1===t?this.vseqstmt(e.body):(i=this.newBlock("end of if"),e.orelse&&0<e.orelse.length&&(n=this.newBlock("next branch of if")),t=this.vexpr(e.test),e.orelse&&0<e.orelse.length?(this._jumpfalse(t,n),this.vseqstmt(e.body),this._jump(i),this.setBlock(n),this.vseqstmt(e.orelse)):(this._jumpfalse(t,i),this.vseqstmt(e.body)),this._jump(i),this.setBlock(i))},bn.prototype.cwhile=function(e){var t,n,i,r;0===this.exprConstant(e.test)?e.orelse&&this.vseqstmt(e.orelse):(r=this.newBlock("while test"),this._jump(r),this.setBlock(r),i=this.newBlock("after while"),n=0<e.orelse.length?this.newBlock("while orelse"):null,t=this.newBlock("while body"),this.annotateSource(e),this._jumpfalse(this.vexpr(e.test),n||i),this._jump(t),this.pushBreakBlock(i),this.pushContinueBlock(r),this.setBlock(t),this.vseqstmt(e.body),this._jump(r),this.popContinueBlock(),this.popBreakBlock(),0<e.orelse.length&&(this.setBlock(n),this.vseqstmt(e.orelse),this._jump(i)),this.setBlock(i))},bn.prototype.cfor=function(e){var t,n,i=this.newBlock("for start"),r=this.newBlock("for cleanup"),o=this.newBlock("for end");this.pushBreakBlock(o),this.pushContinueBlock(i),n=this.vexpr(e.iter),this.u.ste.generator?(t="$loc."+this.gensym("iter"),fn(t,"=Sk.abstr.iter(",n,");")):(t=this._gr("iter","Sk.abstr.iter(",n,")"),this.u.tempsToSave.push(t)),this._jump(i),this.setBlock(i),fn("$ret = Sk.abstr.iternext(",t,this.u.canSuspend?", true":", false",");"),this._checkSuspension(e),t=this._gr("next","$ret"),this._jumpundef(t,r),this.vexpr(e.target,t),this.vseqstmt(e.body),this._jump(i),this.setBlock(r),this.popContinueBlock(),this.popBreakBlock(),this.vseqstmt(e.orelse),this._jump(o),this.setBlock(o)},bn.prototype.craise=function(e){var t="";e.inst?(t=this.vexpr(e.inst),fn("throw ",this.vexpr(e.type),"(",t,");")):e.type?e.type.func?fn("throw ",this.vexpr(e.type),";"):(e=this._gr("err",this.vexpr(e.type)),fn("if(",e," instanceof Sk.builtin.type) {","throw Sk.misceval.callsim(",e,");","} else if(typeof(",e,") === 'function') {","throw ",e,"();","} else {","throw ",e,";","}")):fn("throw $err;")},bn.prototype.ctryexcept=function(e){var t,n,i,r,o,s,a,l=e.handlers.length,u=[];for(a=0;a<l;++a)u.push(this.newBlock("except_"+a+"_"));for(s=this.newBlock("unhandled"),o=this.newBlock("orelse"),r=this.newBlock("end"),this.setupExcept(u[0]),this.vseqstmt(e.body),this.endExcept(),this._jump(o),a=0;a<l;++a){if(this.setBlock(u[a]),!(i=e.handlers[a]).type&&a<l-1)throw new SyntaxError("default 'except:' must be last");i.type&&(t=this.vexpr(i.type),n=a==l-1?s:u[a+1],t=this._gr("instance","Sk.misceval.isTrue(Sk.builtin.isinstance($err, ",t,"))"),this._jumpfalse(t,n)),i.name&&this.vexpr(i.name,"$err"),this.vseqstmt(i.body),this._jump(r)}this.setBlock(s),fn("throw $err;"),this.setBlock(o),this.vseqstmt(e.orelse),this._jump(r),this.setBlock(r)},bn.prototype.ctryfinally=function(e){fn("/*todo; tryfinally*/"),this.ctryexcept(e.body[0])},bn.prototype.cassert=function(e){var t=this.vexpr(e.test),n=this.newBlock("end");this._jumptrue(t,n),fn("throw new Sk.builtin.AssertionError(",e.msg?this.vexpr(e.msg):"",");"),this.setBlock(n)},bn.prototype.cimportas=function(e,t,n){var i=(e=e.v).indexOf("."),r=n;if(-1!==i)for(e=e.substr(i+1);-1!==i;)n=-1!==(i=e.indexOf("."))?e.substr(0,i):e,r=this._gr("lattr","Sk.abstr.gattr(",r,",'",n,"')"),e=e.substr(i+1);return this.nameop(t,P,r)},bn.prototype.cimport=function(e){var t,n,i,r,o=e.names.length;for(r=0;r<o;++r)t=e.names[r],fn("$ret = Sk.builtin.__import__(",t.name.$r().v,",$gbl,$loc,[]);"),this._checkSuspension(e),i=this._gr("module","$ret"),t.asname?this.cimportas(t.name,t.asname,i):(-1!==(t=(n=t.name).v.indexOf("."))&&(n=new a.builtin.str(n.v.substr(0,t))),this.nameop(n,P,i))},bn.prototype.cfromimport=function(e){var t,n,i,r,o,a=e.names.length;for(t=[],o=0;o<a;++o)t[o]=e.names[o].name.$r().v;for(fn("$ret = Sk.builtin.__import__(",e.module.$r().v,",$gbl,$loc,[",t,"]);"),this._checkSuspension(e),r=this._gr("module","$ret"),o=0;o<a;++o){if(i=e.names[o],0===o&&"*"===i.name.v){s.asserts.assert(1===a),fn("Sk.importStar(",r,",$loc, $gbl);");break}n=this._gr("item","Sk.abstr.gattr(",r,",",i.name.$r().v,")"),t=i.name,i.asname&&(t=i.asname),this.nameop(t,P,n)}},bn.prototype.buildcodeobj=function(e,t,n,i,r){var o,s,l,u,c,p,f,d,h=[],m=[],g=null;if(o=null,n&&(h=this.vseqexpr(n)),i&&i.defaults&&(m=this.vseqexpr(i.defaults)),i&&i.vararg&&(g=i.vararg),i&&i.kwarg&&(o=i.kwarg),n=this.enterScope(t,e,e.lineno,this.canSuspend),e=this.u.ste.generator,d=this.u.ste.hasFree,p=this.u.ste.childHasFree,c=this.newBlock("codeobj entry"),this.u.prefixCode="var "+n+"=(function "+this.niceName(t.v)+"$(",l=[],e){if(o)throw new SyntaxError(t.v+"(): keyword arguments in generators not supported");if(g)throw new SyntaxError(t.v+"(): variable number of arguments in generators not supported");l.push("$gen")}else for(o&&(l.push("$kwa"),this.u.tempsToSave.push("$kwa")),u=0;i&&u<i.args.length;++u)l.push(this.nameop(i.args[u].id,$));if(d&&(g?this.u.varDeclsCode+="$free = arguments[arguments.length-1];":(l.push("$free"),this.u.tempsToSave.push("$free"))),this.u.prefixCode+=l.join(","),this.u.prefixCode+="){",e&&(this.u.prefixCode+="\n// generator\n"),d&&(this.u.prefixCode+="\n// has free\n"),p&&(this.u.prefixCode+="\n// has cell\n"),f="{}",e&&(c="$gen.gi$resumeat",f="$gen.gi$locals"),u="",p&&(u=e?",$cell=$gen.gi$cells":",$cell={}"),this.u.varDeclsCode+="var $blk="+c+",$exc=[],$loc="+f+u+",$gbl=this,$err=undefined,$ret=undefined,$currLineNo=undefined,$currColNo=undefined;",null!==a.execLimit&&(this.u.varDeclsCode+="if (typeof Sk.execStart === 'undefined') {Sk.execStart = Date.now()}"),null!==a.yieldLimit&&this.u.canSuspend&&(this.u.varDeclsCode+="if (typeof Sk.lastYield === 'undefined') {Sk.lastYield = Date.now()}"),this.u.varDeclsCode+="if ("+n+".$wakingSuspension!==undefined) { $wakeFromSuspension(); } else {",0<m.length)for(p=i.args.length-m.length,u=0;u<m.length;++u)c=this.nameop(i.args[u+p].id,$),this.u.varDeclsCode+="if("+c+"===undefined)"+c+"="+n+".$defaults["+u+"];";for(u=0;i&&u<i.args.length;++u)c=i.args[u].id,this.isCell(c)&&(this.u.varDeclsCode+="$cell."+c.v+"="+c.v+";");if(e||(c=i?i.args.length-m.length:0,u=g?1/0:i?i.args.length:0,this.u.varDeclsCode+='Sk.builtin.pyCheckArgs("'+t.v+'", arguments, '+c+", "+u+", "+!!o+", "+d+");"),g&&(l=l.length,this.u.localnames.push(g.v),this.u.varDeclsCode+=g.v+"=new Sk.builtins['tuple'](Array.prototype.slice.call(arguments,"+l+(d?",-1)":")")+"); /*vararg*/"),o&&(this.u.localnames.push(o.v),this.u.varDeclsCode+=o.v+"=new Sk.builtins['dict']($kwa);"),this.u.varDeclsCode+="}",this.u.switchCode="while(true){try{",this.u.switchCode+=this.outputInterruptTest(),this.u.switchCode+="switch($blk){",this.u.suffixCode="} }catch(err){ if (!(err instanceof Sk.builtin.BaseException)) { err = new Sk.builtin.ExternalError(err); } err.traceback.push({lineno: $currLineNo, colno: $currColNo, filename: '"+this.filename+"'}); if ($exc.length>0) { $err = err; $blk=$exc.pop(); continue; } else { throw err; }} }});",r.call(this,n),i&&0<i.args.length){for(r=[],u=0;u<i.args.length;++u)r.push(i.args[u].id.v);s=r.join("', '"),this.u.argnames=r}return this.exitScope(),0<m.length&&fn(n,".$defaults=[",m.join(","),"];"),0<h.length&&fn(n,".$decorators=[",h.join(","),"];"),s&&fn(n,".co_varnames=['",s,"'];"),o&&fn(n,".co_kwargs=1;"),s="",d&&(s=",$cell",(o=this.u.ste.hasFree)&&(s+=",$free")),e?i&&0<i.args.length?this._gr("gener","new Sk.builtins['function']((function(){var $origargs=Array.prototype.slice.call(arguments);Sk.builtin.pyCheckArgs(\"",t.v,'",arguments,',i.args.length-m.length,",",i.args.length,");return new Sk.builtins['generator'](",n,",$gbl,$origargs",s,");}))"):this._gr("gener","new Sk.builtins['function']((function(){Sk.builtin.pyCheckArgs(\"",t.v,"\",arguments,0,0);return new Sk.builtins['generator'](",n,",$gbl,[]",s,");}))"):0<h.length?(fn("$ret = Sk.misceval.callsimOrSuspend(",n,".$decorators[0], new Sk.builtins['function'](",n,",$gbl",s,"));"),this._checkSuspension(),this._gr("funcobj","$ret")):this._gr("funcobj","new Sk.builtins['function'](",n,",$gbl",s,")")},bn.prototype.cfunction=function(e){var t;s.asserts.assert(e instanceof be),t=this.buildcodeobj(e,e.name,e.decorator_list,e.args,function(t){this.vseqstmt(e.body),fn("return Sk.builtin.none.none$;")}),this.nameop(e.name,P,t)},bn.prototype.clambda=function(e){return s.asserts.assert(e instanceof Ue),this.buildcodeobj(e,new a.builtin.str("<lambda>"),null,e.args,function(t){t=this.vexpr(e.body),fn("return ",t,";")})},bn.prototype.cifexp=function(e){var t=this.newBlock("next of ifexp"),n=this.newBlock("end of ifexp"),i=this._gr("res","null"),r=this.vexpr(e.test);return this._jumpfalse(r,t),fn(i,"=",this.vexpr(e.body),";"),this._jump(n),this.setBlock(t),fn(i,"=",this.vexpr(e.orelse),";"),this._jump(n),this.setBlock(n),i},bn.prototype.cgenexpgen=function(e,t,n){var i,r,o,s=this.newBlock("start for "+t),a=this.newBlock("skip for "+t);this.newBlock("if cleanup for "+t);var l=this.newBlock("end for "+t),u=e[t];for(0===t?r="$loc.$iter0":(i=this.vexpr(u.iter),r="$loc."+this.gensym("iter"),fn(r,"=","Sk.abstr.iter(",i,");")),this._jump(s),this.setBlock(s),this.annotateSource(n),fn("$ret = Sk.abstr.iternext(",r,this.u.canSuspend?", true":", false",");"),this._checkSuspension(n),i=this._gr("next","$ret"),this._jumpundef(i,l),this.vexpr(u.target,i),o=u.ifs.length,r=0;r<o;++r)this.annotateSource(u.ifs[r]),i=this.vexpr(u.ifs[r]),this._jumpfalse(i,s);++t<e.length&&this.cgenexpgen(e,t,n),t>=e.length&&(this.annotateSource(n),e=this.vexpr(n),fn("return [",a,"/*resume*/,",e,"/*ret*/];"),this.setBlock(a)),this._jump(s),this.setBlock(l),1===t&&fn("return Sk.builtin.none.none$;")},bn.prototype.cgenexp=function(e){var t=this.buildcodeobj(e,new a.builtin.str("<genexpr>"),null,null,function(t){this.cgenexpgen(e.generators,0,e.elt)});t=this._gr("gener","Sk.misceval.callsim(",t,");");return fn(t,".gi$locals.$iter0=Sk.abstr.iter(",this.vexpr(e.generators[0].iter),");"),t},bn.prototype.cclass=function(e){var t,n,i;s.asserts.assert(e instanceof ye),i=this.vseqexpr(e.bases),n=this.enterScope(e.name,e,e.lineno),t=this.newBlock("class entry"),this.u.prefixCode="var "+n+"=(function $"+e.name.v+"$class_outer($globals,$locals,$rest){var $gbl=$globals,$loc=$locals;",this.u.switchCode+="(function $"+e.name.v+"$_closure(){",this.u.switchCode+="var $blk="+t+",$exc=[],$ret=undefined,$currLineNo=undefined,$currColNo=undefined;",null!==a.execLimit&&(this.u.switchCode+="if (typeof Sk.execStart === 'undefined') {Sk.execStart = Date.now()}"),null!==a.yieldLimit&&this.u.canSuspend&&(this.u.switchCode+="if (typeof Sk.lastYield === 'undefined') {Sk.lastYield = Date.now()}"),this.u.switchCode+="while(true){try{",this.u.switchCode+=this.outputInterruptTest(),this.u.switchCode+="switch($blk){",this.u.suffixCode="}}catch(err){ if (!(err instanceof Sk.builtin.BaseException)) { err = new Sk.builtin.ExternalError(err); } err.traceback.push({lineno: $currLineNo, colno: $currColNo, filename: '"+this.filename+"'}); if ($exc.length>0) { $err = err; $blk=$exc.pop(); continue; } else { throw err; }}}",this.u.suffixCode+="}).apply(null,$rest);});",this.u.private_=e.name,this.cbody(e.body),fn("return;"),this.exitScope(),t=this._gr("built","Sk.misceval.buildClass($gbl,",n,",",e.name.$r().v,",[",i,"])"),this.nameop(e.name,P,t)},bn.prototype.ccontinue=function(e){if(0===this.u.continueBlocks.length)throw new SyntaxError("'continue' outside loop");this._jump(this.u.continueBlocks[this.u.continueBlocks.length-1])},bn.prototype.vstmt=function(e){var t,n,i;switch(this.u.lineno=e.lineno,this.u.linenoSet=!1,this.u.localtemps=[],a.debugging&&this.u.canSuspend&&(t=this.newBlock("debug breakpoint for line "+e.lineno),fn("if (Sk.breakpoints('"+this.filename+"',"+e.lineno+","+e.col_offset+")) {","var $susp = $saveSuspension({data: {type: 'Sk.debug'}, resume: function() {}}, '"+this.filename+"',"+e.lineno+","+e.col_offset+");","$susp.$blk = "+t+";","$susp.optional = true;","return $susp;","}"),this._jump(t),this.setBlock(t),this.u.doesSuspend=!0),this.annotateSource(e),e.constructor){case be:this.cfunction(e);break;case ye:this.cclass(e);break;case ve:if(this.u.ste.blockType!==cn)throw new SyntaxError("'return' outside function");e.value?fn("return ",this.vexpr(e.value),";"):fn("return Sk.builtin.none.none$;");break;case _e:this.vseqexpr(e.targets);break;case xe:for(i=e.targets.length,n=this.vexpr(e.value),t=0;t<i;++t)this.vexpr(e.targets[t],n);break;case we:return this.caugassign(e);case ke:this.cprint(e);break;case Se:return this.cfor(e);case Ce:return this.cwhile(e);case Ee:return this.cif(e);case Ae:return this.craise(e);case Ne:return this.ctryexcept(e);case Me:return this.ctryfinally(e);case Re:return this.cassert(e);case Oe:return this.cimport(e);case Le:return this.cfromimport(e);case De:break;case Ie:this.vexpr(e.value);break;case Fe:break;case $e:if(0===this.u.breakBlocks.length)throw new SyntaxError("'break' outside loop");this._jump(this.u.breakBlocks[this.u.breakBlocks.length-1]);break;case je:this.ccontinue(e);break;case Be:fn("debugger;");break;default:s.asserts.fail("unhandled case in vstmt")}},bn.prototype.vseqstmt=function(e){var t;for(t=0;t<e.length;++t)this.vstmt(e[t])};bn.prototype.isCell=function(e){return e=kn(this.u.private_,e).v,5===this.u.ste.getScope(e)},bn.prototype.nameop=function(e,t,n){var i,r,o,l;if((t===P||t===F||t===D)&&"__debug__"===e.v)throw new a.builtin.SyntaxError("can not assign to __debug__");if((t===P||t===F||t===D)&&"None"===e.v)throw new a.builtin.SyntaxError("can not assign to None");if("None"===e.v)return"Sk.builtin.none.none$";if("True"===e.v)return"Sk.builtin.bool.true$";if("False"===e.v)return"Sk.builtin.bool.false$";if("NotImplemented"===e.v)return"Sk.builtin.NotImplemented.NotImplemented$";switch(l=wn(l=kn(this.u.private_,e).v),o=3,i=null,r=this.u.ste.getScope(l)){case 4:i="$free",o=2;break;case 5:i="$cell",o=2;break;case 1:this.u.ste.blockType!==cn||this.u.ste.generator||(o=0);break;case 3:this.u.ste.blockType===cn&&(o=1);break;case 2:o=1}switch(l=_n(l),s.asserts.assert(r||"_"===e.v.charAt(1)),e=l,this.u.ste.generator||this.u.ste.blockType!==cn?l="$loc."+l:0!==o&&3!==o||this.u.localnames.push(l),o){case 0:switch(t){case L:case $:return fn("if (",l," === undefined) { throw new Sk.builtin.UnboundLocalError('local variable \\'",l,"\\' referenced before assignment'); }\n"),l;case P:fn(l,"=",n,";");break;case D:fn("delete ",l,";");break;default:s.asserts.fail("unhandled")}break;case 3:switch(t){case L:return this._gr("loadname",l,"!==undefined?",l,":Sk.misceval.loadname('",e,"',$gbl);");case P:fn(l,"=",n,";");break;case D:fn("delete ",l,";");break;case $:return l;default:s.asserts.fail("unhandled")}break;case 1:switch(t){case L:return this._gr("loadgbl","Sk.misceval.loadname('",e,"',$gbl)");case P:fn("$gbl.",e,"=",n,";");break;case D:fn("delete $gbl.",e);break;default:s.asserts.fail("unhandled case in name op_global")}break;case 2:switch(t){case L:return i+"."+e;case P:fn(i,".",e,"=",n,";");break;case $:return e;default:s.asserts.fail("unhandled case in name op_deref")}break;default:s.asserts.fail("unhandled case")}},bn.prototype.enterScope=function(e,t,n,i){var r=new yn;return r.ste=this.st.getStsForAst(t),r.name=e,r.firstlineno=n,r.canSuspend=i||!1,this.u&&this.u.private_&&(r.private_=this.u.private_),this.stack.push(this.u),this.allUnits.push(r),e=this.gensym("scope"),r.scopename=e,this.u=r,this.u.activateScope(),this.nestlevel++,e},bn.prototype.exitScope=function(){var e,t=this.u;this.nestlevel--,(this.u=0<=this.stack.length-1?this.stack.pop():null)&&this.u.activateScope(),"<module>"!==t.name.v&&(e=wn(e=_n(e=(e=t.name.$r().v).substring(1,e.length-1))),fn(t.scopename,".co_name=new Sk.builtins['str']('",e,"');"))},bn.prototype.cbody=function(e){var t;for(t=0;t<e.length;++t)this.vstmt(e[t])},bn.prototype.cprint=function(e){var t,n;for(s.asserts.assert(e instanceof ke),e.dest&&this.vexpr(e.dest),n=e.values.length,t=0;t<n;++t)fn("Sk.misceval.print_(","new Sk.builtins['str'](",this.vexpr(e.values[t]),").v);");e.nl&&fn("Sk.misceval.print_(",'"\\n");')},bn.prototype.cmod=function(e){var t=this.enterScope(new a.builtin.str("<module>"),e,0,this.canSuspend),n=this.newBlock("module entry");switch(this.u.prefixCode="var "+t+"=(function($modname){",this.u.varDeclsCode="var $gbl = {}, $blk="+n+",$exc=[],$loc=$gbl,$err=undefined;$gbl.__name__=$modname;$loc.__file__=new Sk.builtins.str('"+this.filename+"');var $ret=undefined,$currLineNo=undefined,$currColNo=undefined;",null!==a.execLimit&&(this.u.varDeclsCode+="if (typeof Sk.execStart === 'undefined') {Sk.execStart = Date.now()}"),null!==a.yieldLimit&&this.u.canSuspend&&(this.u.varDeclsCode+="if (typeof Sk.lastYield === 'undefined') {Sk.lastYield = Date.now()}"),this.u.varDeclsCode+="if ("+t+".$wakingSuspension!==undefined) { $wakeFromSuspension(); }if (Sk.retainGlobals) {    if (Sk.globals) { $gbl = Sk.globals; Sk.globals = $gbl; $loc = $gbl; }    else { Sk.globals = $gbl; }} else { Sk.globals = $gbl; }",this.u.switchCode="while(true){try{",this.u.switchCode+=this.outputInterruptTest(),this.u.switchCode+="switch($blk){",this.u.suffixCode="}",this.u.suffixCode+="}catch(err){ if (!(err instanceof Sk.builtin.BaseException)) { err = new Sk.builtin.ExternalError(err); } err.traceback.push({lineno: $currLineNo, colno: $currColNo, filename: '"+this.filename+"'}); if ($exc.length>0) { $err = err; $blk=$exc.pop(); continue; } else { throw err; }} } });",e.constructor){case de:this.cbody(e.body),fn("return $loc;");break;default:s.asserts.fail("todo; unhandled case in compilerMod")}return this.exitScope(),this.result.push(this.outputAllUnits()),t},a.compile=function(e,t,n,i){var r=a.parse(t,e);n=a.astFromParse(r.cst,t,r.flags);r=r.flags;return t=(e=new bn(t,a.symboltable(n,t),r,i,e)).cmod(n),{funcname:"$compiledmod",code:"$compiledmod = function() {"+e.result.join("")+"\nreturn "+t+";}();"}},s.exportSymbol("Sk.compile",a.compile),a.resetCompiler=function(){a.gensymcount=0},s.exportSymbol("Sk.resetCompiler",a.resetCompiler),a.sysmodules=new a.builtin.dict([]),a.realsyspath=void 0,a.externalLibraryCache={},a.loadExternalLibraryInternal_=function(e,t){var n,i;if(null!=e){if(a.externalLibraryCache[e])return a.externalLibraryCache[e];if((n=new XMLHttpRequest).open("GET",e,!1),n.send(),200===n.status)return i=n.responseText,t&&((n=document.createElement("script")).type="text/javascript",n.text=i,document.getElementsByTagName("head")[0].appendChild(n)),i}},a.loadExternalLibrary=function(e){var t,n,i,r,o;if(a.externalLibraryCache[e])return a.externalLibraryCache[e];if(t=a.externalLibraries&&a.externalLibraries[e]){if("string"!=typeof(n="string"==typeof t?t:t.path))throw new a.builtin.ImportError("Invalid path specified for "+e);if((o=t.type)||(o=(i=n.match(/\.(js|py)$/))&&i[1]),!o)throw new a.builtin.ImportError("Invalid file extension specified for "+e);if(!(i=a.loadExternalLibraryInternal_(n,!1)))throw new a.builtin.ImportError("Failed to load remote module '"+e+"'");if((r=t.dependencies)&&r.length)for(t=0;t<r.length;t++)if(!a.loadExternalLibraryInternal_(r[t],!0))throw new a.builtin.ImportError("Failed to load dependencies required for "+e);return n="js"===o?{funcname:"$builtinmodule",code:i}:a.compile(i,n,"exec",!0),a.externalLibraryCache[e]=n}},a.importSearchPathForName=function(e,t,n,i,r){var o,s,l,u=[],c=e.replace(/\./g,"/");for(l=(s=a.realsyspath.tp$iter()).tp$iternext();void 0!==l;l=s.tp$iternext())u.push(l.v+"/"+c+t),u.push(l.v+"/"+c+"/__init__"+t);return u.push(r+"/"+c+t),u.push(r+"/"+c+"/__init__"+t),o=0,function t(){for(var r,s=function e(n){var i;return n instanceof a.misceval.Suspension?((i=new a.misceval.Suspension(void 0,n)).resume=function(){try{return e(n.resume())}catch(e){return o++,t()}},i):{filename:u[o],code:n}};o<u.length;)try{return r=a.read(u[o]),i||(r=a.misceval.retryOptionalSuspensionOrThrow(r)),s(r)}catch(e){o++}if(n)return null;throw new a.builtin.ImportError("No module named "+e)}()},a.doOneTimeInitialization=function(){var e,t,n;for(e in a.builtin.type.basesStr_=new a.builtin.str("__bases__"),a.builtin.type.mroStr_=new a.builtin.str("__mro__"),a.builtin)if(((t=a.builtin[e]).prototype instanceof a.builtin.object||t===a.builtin.object)&&!t.sk$abstract){n=[];var i=void 0;for(i=t.tp$base;void 0!==i;i=i.tp$base)n.push(i);t.$d=new a.builtin.dict([]),t.$d.mp$ass_subscript(a.builtin.type.basesStr_,new a.builtin.tuple(n)),t.$d.mp$ass_subscript(a.builtin.type.mroStr_,new a.builtin.tuple([t]))}for(e=a.builtin.object.prototype,n=0;n<a.builtin.object.pythonFunctions.length&&!(e[t=a.builtin.object.pythonFunctions[n]]instanceof a.builtin.func);n++)e[t]=new a.builtin.func(e[t]);for(var r in a.internalPy.files)e=r.split(".")[0].split("/")[1],t=a.importBuiltinWithBody(e,!1,a.internalPy.files[r],!1),s.asserts.assert(void 0!==t.$d[e],"Should have imported name "+e),a.builtins[e]=t.$d[e]},a.importSetUpPath=function(){var e,t;if(!a.realsyspath){for(t=[new a.builtin.str("src/builtin"),new a.builtin.str("src/lib"),new a.builtin.str(".")],e=0;e<a.syspath.length;++e)t.push(new a.builtin.str(a.syspath[e]));a.realsyspath=new a.builtin.list(t),a.doOneTimeInitialization()}};var Sn=function(e){return e};a.importModuleInternal_=function(e,t,n,i,r,o){var l,u,c,p,f,d,h,m,g;a.importSetUpPath(),void 0===n&&(n=e),g=null,m=n.split(".");try{return c=a.sysmodules.mp$subscript(n),1<m.length?a.sysmodules.mp$subscript(m[0]):c}catch(e){}if(1<m.length&&(h=m.slice(0,m.length-1).join("."),(g=a.importModuleInternal_(h,t,void 0,void 0,r,o))instanceof a.misceval.Suspension))return function s(l){return l instanceof a.misceval.Suspension?new a.misceval.Suspension(s,l):a.importModuleInternal_(e,t,n,i,r,o)}(g);if(d=new a.builtin.module,a.sysmodules.mp$ass_subscript(e,d),i)p=e+".py",c=a.compile(i,p,"exec",r);else{if(a.onBeforeImport&&"function"==typeof a.onBeforeImport){if(!1===(c=a.onBeforeImport(e)))throw new a.builtin.ImportError("Importing "+e+" is not allowed");if("string"==typeof c)throw new a.builtin.ImportError(c)}(c=a.loadExternalLibrary(e))?p=a.externalLibraries?a.externalLibraries[e].path:"unknown":c=function t(n){return n instanceof a.misceval.Suspension?new a.misceval.Suspension(t,n):n?(p=n.filename,f?a.compile(n.code,n.filename,"exec",r):{funcname:"$builtinmodule",code:n.code}):(s.asserts.assert(!f,"Sk.importReadFileFromPath did not throw when loading Python file failed"),f=!0,t(a.importSearchPathForName(e,".py",!1,r,o)))}(c=a.importSearchPathForName(e,".js",!0,r,o))}return function i(o){return o instanceof a.misceval.Suspension?r?new a.misceval.Suspension(i,o):a.misceval.retryOptionalSuspensionOrThrow(o):(u=d.$js=o.code,null==p&&(p=o.filename),null!=a.dateSet&&a.dateSet||(u="Sk.execStart = Sk.lastYield = new Date();\n"+o.code,a.dateSet=!0),t&&(u=function(e){var t,n,i=Sn(e).split("\n");for(n=1;n<=i.length;++n){for(t=(""+n).length,e="";5>t;++t)e+=" ";i[n-1]="/* "+e+n+" */ "+i[n-1]}return i.join("\n")}(u),a.debugout(u)),l="new Sk.builtin.str('"+n+"')",u+="\n"+o.funcname+"("+l+");",function t(i){if(i instanceof a.misceval.Suspension){if(r)return new a.misceval.Suspension(t,i);i=a.misceval.retryOptionalSuspensionOrThrow(i,'Module "'+n+'" suspended or blocked during load, and it was loaded somewhere that does not permit this')}if(i.__name__||(i.__name__=new a.builtin.str(n)),i.__path__=new a.builtin.str(p),d.$d=i,i.__doc__||(i.__doc__=a.builtin.none.none$),a.onAfterImport&&"function"==typeof a.onAfterImport)try{a.onAfterImport(e)}catch(e){}return g?(a.sysmodules.mp$subscript(h).tp$setattr(m[m.length-1],d),g):d}(s.global.eval(u)))}(c)},a.importModule=function(e,t,n){return a.importModuleInternal_(e,t,void 0,void 0,n)},a.importMain=function(e,t,n){return a.dateSet=!1,a.filesLoaded=!1,a.sysmodules=new a.builtin.dict([]),a.realsyspath=void 0,a.resetCompiler(),a.importModuleInternal_(e,t,"__main__",void 0,n)},a.importMainWithBody=function(e,t,n,i){return a.dateSet=!1,a.filesLoaded=!1,a.sysmodules=new a.builtin.dict([]),a.realsyspath=void 0,a.resetCompiler(),a.importModuleInternal_(e,t,"__main__",n,i)},a.importBuiltinWithBody=function(e,t,n,i){return a.importModuleInternal_(e,t,"__builtin__",n,i)},a.builtin.__import__=function(e,t,n,i){var r=a.globals,o=void 0===n.__file__?void 0:n.__file__.v.substring(0,n.__file__.v.lastIndexOf("/"));return function t(n){if(n instanceof a.misceval.Suspension)return new a.misceval.Suspension(t,n);if(r!==a.globals&&(a.globals=r),!i||0===i.length)return n;var l,u,c,p=(l=e.split("."))[l.length-1];for(l=0;l<i.length;l++)u=i[l],c=!1,a.sysmodules.sq$contains(e)&&(c=null!=a.sysmodules.mp$subscript(e).$d[u]),c||"*"==u||null!=n.$d[u]||null==n.$d[p]&&n.$d.__name__.v!=p||(u=e+"."+u,a.importModuleInternal_(u,void 0,void 0,void 0,!1,o));return n=a.sysmodules.mp$subscript(e),s.asserts.assert(n),n}(a.importModuleInternal_(e,void 0,void 0,void 0,!0,o))},a.importStar=function(e,t,n){var i,r=n.__name__,o=Object.getOwnPropertyNames(e.$d);for(i in o)t[o[i]]=e.$d[o[i]];n.__name__!==r&&(n.__name__=r)},s.exportSymbol("Sk.importMain",a.importMain),s.exportSymbol("Sk.importMainWithBody",a.importMainWithBody),s.exportSymbol("Sk.importBuiltinWithBody",a.importBuiltinWithBody),s.exportSymbol("Sk.builtin.__import__",a.builtin.__import__),s.exportSymbol("Sk.importStar",a.importStar),a.builtin.timSort=function(e,t){this.list=new a.builtin.list(e.v),this.MIN_GALLOP=7,this.listlength=t||e.sq$length()},a.builtin.timSort.prototype.lt=function(e,t){return a.misceval.richCompareBool(e,t,"Lt")},a.builtin.timSort.prototype.le=function(e,t){return!this.lt(t,e)},a.builtin.timSort.prototype.setitem=function(e,t){this.list.v[e]=t},a.builtin.timSort.prototype.binary_sort=function(e,t){var n,i,r,o,a;for(a=e.base+t;a<e.base+e.len;a++){for(o=e.base,r=a,n=e.getitem(r);o<r;)i=o+(r-o>>1),this.lt(n,e.getitem(i))?r=i:o=i+1;for(s.asserts.assert(o===r),i=a;i>o;i--)e.setitem(i,e.getitem(i-1));e.setitem(o,n)}},a.builtin.timSort.prototype.count_run=function(e){var t,n,i;if(1>=e.len)t=e.len,i=!1;else if(t=2,this.lt(e.getitem(e.base+1),e.getitem(e.base)))for(i=!0,n=e.base+2;n<e.base+e.len&&this.lt(e.getitem(n),e.getitem(n-1));n++)t++;else for(i=!1,n=e.base+2;n<e.base+e.len&&!this.lt(e.getitem(n),e.getitem(n-1));n++)t++;return{run:new a.builtin.listSlice(e.list,e.base,t),descending:i}},a.builtin.timSort.prototype.sort=function(){var e,t,n,i=new a.builtin.listSlice(this.list,0,this.listlength);if(!(2>i.len)){for(this.merge_init(),e=this.merge_compute_minrun(i.len);0<i.len;)(t=this.count_run(i)).descending&&t.run.reverse(),t.run.len<e&&(n=t.run.len,t.run.len=e<i.len?e:i.len,this.binary_sort(t.run,n)),i.advance(t.run.len),this.pending.push(t.run),this.merge_collapse();s.asserts.assert(i.base==this.listlength),this.merge_force_collapse(),s.asserts.assert(1==this.pending.length),s.asserts.assert(0===this.pending[0].base),s.asserts.assert(this.pending[0].len==this.listlength)}},a.builtin.timSort.prototype.gallop=function(e,t,n,i){var r,o,a,l,u;if(s.asserts.assert(0<=n&&n<t.len),r=this,i=i?function(e,t){return r.le(e,t)}:function(e,t){return r.lt(e,t)},o=t.base+n,a=0,l=1,i(t.getitem(o),e)){for(u=t.len-n;l<u&&i(t.getitem(o+l),e);){a=l;try{l=1+(l<<1)}catch(e){l=u}}l>u&&(l=u),a+=n,l+=n}else{for(u=n+1;l<u&&!i(t.getitem(o-l),e);){a=l;try{l=1+(l<<1)}catch(e){l=u}}l>u&&(l=u),o=n-a,a=n-l,l=o}for(s.asserts.assert(-1<=a<l<=t.len),a+=1;a<l;)n=a+(l-a>>1),i(t.getitem(t.base+n),e)?a=n+1:l=n;return s.asserts.assert(a==l),l},a.builtin.timSort.prototype.merge_init=function(){this.min_gallop=this.MIN_GALLOP,this.pending=[]},a.builtin.timSort.prototype.merge_lo=function(e,t){var n,i,r,o,a;s.asserts.assert(0<e.len&&0<t.len&&e.base+e.len==t.base),n=this.min_gallop,i=e.base,e=e.copyitems();try{if(this.setitem(i,t.popleft()),i++,1!=e.len&&0!==t.len)for(;;){for(o=r=0;;)if(this.lt(t.getitem(t.base),e.getitem(e.base))){if(this.setitem(i,t.popleft()),i++,0===t.len)return;if(r=0,++o>=n)break}else{if(this.setitem(i,e.popleft()),i++,1==e.len)return;if(o=0,++r>=n)break}for(n+=1;;){for(this.min_gallop=n-=1<n,r=this.gallop(t.getitem(t.base),e,0,!0),a=e.base;a<e.base+r;a++)this.setitem(i,e.getitem(a)),i++;if(e.advance(r),1>=e.len)return;if(this.setitem(i,t.popleft()),i++,0===t.len)return;for(o=this.gallop(e.getitem(e.base),t,0,!1),a=t.base;a<t.base+o;a++)this.setitem(i,t.getitem(a)),i++;if(t.advance(o),0===t.len)return;if(this.setitem(i,e.popleft()),i++,1==e.len)return;if(r<this.MIN_GALLOP&&o<this.MIN_GALLOP)break;n++,this.min_gallop=n}}}finally{for(s.asserts.assert(0<=e.len&&0<=t.len),a=t.base;a<t.base+t.len;a++)this.setitem(i,t.getitem(a)),i++;for(a=e.base;a<e.base+e.len;a++)this.setitem(i,e.getitem(a)),i++}},a.builtin.timSort.prototype.merge_hi=function(e,t){var n,i,r,o,a,l,u,c;s.asserts.assert(0<e.len&&0<t.len&&e.base+e.len==t.base),n=this.min_gallop,i=t.base+t.len,t=t.copyitems();try{if(i--,this.setitem(i,e.popright()),0!==e.len&&1!=t.len)for(;;){for(o=r=0;;)if(a=e.getitem(e.base+e.len-1),l=t.getitem(t.base+t.len-1),this.lt(l,a)){if(i--,this.setitem(i,a),e.len--,0===e.len)return;if(o=0,++r>=n)break}else{if(i--,this.setitem(i,l),t.len--,1==t.len)return;if(r=0,++o>=n)break}for(n+=1;;){for(this.min_gallop=n-=1<n,l=t.getitem(t.base+t.len-1),u=this.gallop(l,e,e.len-1,!0),r=e.len-u,c=e.base+e.len-1;c>e.base+u-1;c--)i--,this.setitem(i,e.getitem(c));if(e.len-=r,0===e.len)return;if(i--,this.setitem(i,t.popright()),1==t.len)return;for(a=e.getitem(e.base+e.len-1),u=this.gallop(a,t,t.len-1,!1),o=t.len-u,c=t.base+t.len-1;c>t.base+u-1;c--)i--,this.setitem(i,t.getitem(c));if(t.len-=o,1>=t.len)return;if(i--,this.setitem(i,e.popright()),0===e.len)return;if(r<this.MIN_GALLOP&&o<this.MIN_GALLOP)break;n++,this.min_gallop=n}}}finally{for(s.asserts.assert(0<=e.len&&0<=t.len),c=e.base+e.len-1;c>e.base-1;c--)i--,this.setitem(i,e.getitem(c));for(c=t.base+t.len-1;c>t.base-1;c--)i--,this.setitem(i,t.getitem(c))}},a.builtin.timSort.prototype.merge_at=function(e){var t,n;0>e&&(e=this.pending.length+e),t=this.pending[e],n=this.pending[e+1],s.asserts.assert(0<t.len&&0<n.len),s.asserts.assert(t.base+t.len==n.base),this.pending[e]=new a.builtin.listSlice(this.list,t.base,t.len+n.len),this.pending.splice(e+1,1),e=this.gallop(n.getitem(n.base),t,0,!0),t.advance(e),0!==t.len&&(n.len=this.gallop(t.getitem(t.base+t.len-1),n,n.len-1,!1),0!==n.len&&(t.len<=n.len?this.merge_lo(t,n):this.merge_hi(t,n)))},a.builtin.timSort.prototype.merge_collapse=function(){for(var e=this.pending;1<e.length;)if(3<=e.length&&e[e.length-3].len<=e[e.length-2].len+e[e.length-1].len)e[e.length-3].len<e[e.length-1].len?this.merge_at(-3):this.merge_at(-2);else{if(!(e[e.length-2].len<=e[e.length-1].len))break;this.merge_at(-2)}},a.builtin.timSort.prototype.merge_force_collapse=function(){for(var e=this.pending;1<e.length;)3<=e.length&&e[e.length-3].len<e[e.length-1].len?this.merge_at(-3):this.merge_at(-2)},a.builtin.timSort.prototype.merge_compute_minrun=function(e){for(var t=0;64<=e;)t|=1&e,e>>=1;return e+t},a.builtin.listSlice=function(e,t,n){this.list=e,this.base=t,this.len=n},a.builtin.listSlice.prototype.copyitems=function(){var e=this.base,t=this.base+this.len;return s.asserts.assert(0<=e<=t),new a.builtin.listSlice(new a.builtin.list(this.list.v.slice(e,t)),0,this.len)},a.builtin.listSlice.prototype.advance=function(e){this.base+=e,this.len-=e,s.asserts.assert(this.base<=this.list.sq$length())},a.builtin.listSlice.prototype.getitem=function(e){return this.list.v[e]},a.builtin.listSlice.prototype.setitem=function(e,t){this.list.v[e]=t},a.builtin.listSlice.prototype.popleft=function(){var e=this.list.v[this.base];return this.base++,this.len--,e},a.builtin.listSlice.prototype.popright=function(){return this.len--,this.list.v[this.base+this.len]},a.builtin.listSlice.prototype.reverse=function(){for(var e,t,n=this.list,i=this.base,r=i+this.len-1;i<r;)e=n.v[r],t=n.v[i],n.v[i]=e,n.v[r]=t,i++,r--},s.exportSymbol("Sk.builtin.listSlice",a.builtin.listSlice),s.exportSymbol("Sk.builtin.timSort",a.builtin.timSort),a.builtin.sorted=function(e,t,n,i){var r,o,s;if(void 0===i)i=!1;else{if(i instanceof a.builtin.float_)throw new a.builtin.TypeError("an integer is required, got float");if(!(i instanceof a.builtin.int_||i.prototype instanceof a.builtin.int_))throw new a.builtin.TypeError("an integer is required");i=a.misceval.isTrue(i)}if(void 0===n||n instanceof a.builtin.none)t instanceof a.builtin.none||void 0===t||(s=t);else for(s=t instanceof a.builtin.none||void 0===t?function(e,t){return a.misceval.richCompareBool(e[0],t[0],"Lt")?new a.builtin.int_(-1):new a.builtin.int_(0)}:function(e,n){return a.misceval.callsim(t,e[0],n[0])},r=(o=e.tp$iter()).tp$iternext(),e=[];void 0!==r;)e.push([a.misceval.callsim(n,r),r]),r=o.tp$iternext();if(e=new a.builtin.list(e),void 0!==s?e.list_sort_(e,s):e.list_sort_(e),i&&e.list_reverse_(e),void 0!==n&&!(n instanceof a.builtin.none)){for(r=(o=e.tp$iter()).tp$iternext(),e=[];void 0!==r;)e.push(r[1]),r=o.tp$iternext();e=new a.builtin.list(e)}return e},a.builtins={range:a.builtin.range,round:a.builtin.round,len:a.builtin.len,min:a.builtin.min,max:a.builtin.max,sum:a.builtin.sum,zip:a.builtin.zip,abs:a.builtin.abs,fabs:a.builtin.abs,ord:a.builtin.ord,chr:a.builtin.chr,hex:a.builtin.hex,oct:a.builtin.oct,bin:a.builtin.bin,dir:a.builtin.dir,repr:a.builtin.repr,open:a.builtin.open,isinstance:a.builtin.isinstance,hash:a.builtin.hash,getattr:a.builtin.getattr,float_$rw$:a.builtin.float_,int_$rw$:a.builtin.int_,hasattr:a.builtin.hasattr,id:a.builtin.id,map:a.builtin.map,filter:a.builtin.filter,reduce:a.builtin.reduce,sorted:a.builtin.sorted,bool:a.builtin.bool,any:a.builtin.any,all:a.builtin.all,enumerate:a.builtin.enumerate,AttributeError:a.builtin.AttributeError,ValueError:a.builtin.ValueError,Exception:a.builtin.Exception,ZeroDivisionError:a.builtin.ZeroDivisionError,AssertionError:a.builtin.AssertionError,ImportError:a.builtin.ImportError,IndentationError:a.builtin.IndentationError,IndexError:a.builtin.IndexError,KeyError:a.builtin.KeyError,TypeError:a.builtin.TypeError,NameError:a.builtin.NameError,IOError:a.builtin.IOError,NotImplementedError:a.builtin.NotImplementedError,StandardError:a.builtin.StandardError,SystemExit:a.builtin.SystemExit,OverflowError:a.builtin.OverflowError,OperationError:a.builtin.OperationError,RuntimeError:a.builtin.RuntimeError,StopIteration:a.builtin.StopIteration,dict:a.builtin.dict,file:a.builtin.file,function:a.builtin.func,generator:a.builtin.generator,list:a.builtin.list,long_$rw$:a.builtin.lng,method:a.builtin.method,object:a.builtin.object,slice:a.builtin.slice,str:a.builtin.str,set:a.builtin.set,tuple:a.builtin.tuple,type:a.builtin.type,input:a.builtin.input,raw_input:a.builtin.raw_input,setattr:a.builtin.setattr,jseval:a.builtin.jseval,jsmillis:a.builtin.jsmillis,quit:a.builtin.quit,exit:a.builtin.quit,print:a.builtin.print,divmod:a.builtin.divmod,format:a.builtin.format,globals:a.builtin.globals,issubclass:a.builtin.issubclass,iter:a.builtin.iter,complex:a.builtin.complex,bytearray:a.builtin.bytearray,callable:a.builtin.callable,delattr:a.builtin.delattr,eval_$rn$:a.builtin.eval_,execfile:a.builtin.execfile,frozenset:a.builtin.frozenset,help:a.builtin.help,locals:a.builtin.locals,memoryview:a.builtin.memoryview,next:a.builtin.next_,pow:a.builtin.pow,reload:a.builtin.reload,reversed:a.builtin.reversed,super:a.builtin.superbi,unichr:a.builtin.unichr,vars:a.builtin.vars,xrange:a.builtin.xrange,apply_$rn$:a.builtin.apply_,buffer:a.builtin.buffer,coerce:a.builtin.coerce,intern:a.builtin.intern},s.exportSymbol("Sk.builtins",a.builtins),a.builtin.str.$emptystr=new a.builtin.str(""),a.builtin.bool.true$=Object.create(a.builtin.bool.prototype,{v:{value:1,enumerable:!0}}),a.builtin.bool.false$=Object.create(a.builtin.bool.prototype,{v:{value:0,enumerable:!0}}),a.builtin.int_.co_varnames=["base"],a.builtin.int_.co_numargs=2,a.builtin.int_.$defaults=[new a.builtin.int_(10)],a.builtin.lng.co_varnames=["base"],a.builtin.lng.co_numargs=2,a.builtin.lng.$defaults=[new a.builtin.int_(10)],a.builtin.sorted.co_varnames=["cmp","key","reverse"],a.builtin.sorted.co_numargs=4,a.builtin.sorted.$defaults=[a.builtin.none.none$,a.builtin.none.none$,a.builtin.bool.false$],a.internalPy={files:{"src/staticmethod.py":'class staticmethod(object):\n    "Emulate PyStaticMethod_Type() in Objects/funcobject.c"\n\n    def __init__(self, f):\n        self.f = f\n\n    def __get__(self, obj, objtype=None):\n        return self.f\n',"src/property.py":'class property(object):\n    "Emulate PyProperty_Type() in Objects/descrobject.c"\n\n    def __init__(self, fget=None, fset=None, fdel=None, doc=None):\n        self.fget = fget\n        self.fset = fset\n        self.fdel = fdel\n        if doc is None and fget is not None:\n            if hasattr(fget, \'__doc__\'):\n                doc = fget.__doc__\n            else:\n                doc = None\n        self.__doc__ = doc\n\n    def __get__(self, obj, objtype=None):\n        if obj is None:\n            return self\n        if self.fget is None:\n            raise AttributeError("unreadable attribute")\n        return self.fget(obj)\n\n    def __set__(self, obj, value):\n        if self.fset is None:\n            raise AttributeError("can\'t set attribute")\n        self.fset(obj, value)\n\n    def __delete__(self, obj):\n        if self.fdel is None:\n            raise AttributeError("can\'t delete attribute")\n        self.fdel(obj)\n\n    def getter(self, fget):\n        return type(self)(fget, self.fset, self.fdel, self.__doc__)\n\n    def setter(self, fset):\n        return type(self)(self.fget, fset, self.fdel, self.__doc__)\n\n    def deleter(self, fdel):\n        return type(self)(self.fget, self.fset, fdel, self.__doc__)\n',"src/classmethod.py":'class classmethod(object):\n    "Emulate PyClassMethod_Type() in Objects/funcobject.c"\n\n    def __init__(self, f):\n        self.f = f\n\n    def __get__(self, obj, klass=None):\n        if klass is None:\n            klass = type(obj)\n        def newfunc(*args):\n            return self.f(klass, *args)\n        return newfunc\n'}}}()}).call(this,n(344),n(12))},function(e,t){Sk.builtinFiles={files:{"src/lib/py_compile.py":'raise NotImplementedError("py_compile is not yet implemented in Skulpt")\n',"src/lib/symbol.py":'raise NotImplementedError("symbol is not yet implemented in Skulpt")\n',"src/lib/runpy.py":'raise NotImplementedError("runpy is not yet implemented in Skulpt")\n',"src/lib/_LWPCookieJar.py":'raise NotImplementedError("_LWPCookieJar is not yet implemented in Skulpt")\n',"src/lib/Bastion.py":'raise NotImplementedError("Bastion is not yet implemented in Skulpt")\n',"src/lib/this.py":'raise NotImplementedError("this is not yet implemented in Skulpt")\n',"src/lib/platform.py":'raise NotImplementedError("platform is not yet implemented in Skulpt")\n',"src/lib/logging/__init__.py":'raise NotImplementedError("logging is not yet implemented in Skulpt")\n',"src/lib/ntpath.py":'raise NotImplementedError("ntpath is not yet implemented in Skulpt")\n',"src/lib/fileinput.py":'raise NotImplementedError("fileinput is not yet implemented in Skulpt")\n',"src/lib/shutil.py":'raise NotImplementedError("shutil is not yet implemented in Skulpt")\n',"src/lib/uuid.py":'raise NotImplementedError("uuid is not yet implemented in Skulpt")\n',"src/lib/threading.py":'raise NotImplementedError("threading is not yet implemented in Skulpt")\n',"src/lib/dummy_threading.py":'raise NotImplementedError("dummy_threading is not yet implemented in Skulpt")\n',"src/lib/xml/etree/__init__.py":'raise NotImplementedError("etree is not yet implemented in Skulpt")\n',"src/lib/repr.py":'raise NotImplementedError("repr is not yet implemented in Skulpt")\n',"src/lib/pdb.py":'raise NotImplementedError("pdb is not yet implemented in Skulpt")\n',"src/lib/operator.js":'/*\n *  __author__: Isaac Dontje Lindell (i@isaacdontjelindell.com)\n *\n *  Implementation of the Python operator module.\n */\n\nvar $builtinmodule = function (name) {\n    var mod = {};\n\n    mod.lt = new Sk.builtin.func(function (a, b) {\n        return Sk.builtin.bool(Sk.misceval.richCompareBool(a, b, \'Lt\'));\n    });\n    mod.__lt__ = mod.lt;\n\n    mod.le = new Sk.builtin.func(function (a, b) {\n        return Sk.builtin.bool(Sk.misceval.richCompareBool(a, b, \'LtE\'));\n    });\n    mod.__le__ = mod.le;\n\n    mod.eq = new Sk.builtin.func(function (a, b) {\n        return Sk.builtin.bool(Sk.misceval.richCompareBool(a, b, \'Eq\'));\n    });\n    mod.__eq__ = mod.eq;\n\n    mod.ne = new Sk.builtin.func(function (a, b) {\n        return Sk.builtin.bool(Sk.misceval.richCompareBool(a, b, \'NotEq\'));\n    });\n    mod.__ne__ = mod.ne;\n\n    mod.ge = new Sk.builtin.func(function (a, b) {\n        return Sk.builtin.bool(Sk.misceval.richCompareBool(a, b, \'GtE\'));\n    });\n    mod.__ge__ = mod.ge;\n\n    mod.gt = new Sk.builtin.func(function (a, b) {\n        return Sk.builtin.bool(Sk.misceval.richCompareBool(a, b, \'Gt\'));\n    });\n    mod.__gt__ = mod.gt;\n\n    mod.not_ = new Sk.builtin.func(function (obj) {\n        throw new Sk.builtin.NotImplementedError("operator.not_() is not yet implemented in Skulpt");\n    });\n\n    mod.truth = new Sk.builtin.func(function (obj) {\n        return Sk.builtin.bool(obj);\n    });\n\n    mod.is_ = new Sk.builtin.func(function (a, b) {\n        return Sk.builtin.bool(Sk.misceval.richCompareBool(a, b, \'Is\'));\n    });\n\n    mod.is_not = new Sk.builtin.func(function (a, b) {\n        return Sk.builtin.bool(Sk.misceval.richCompareBool(a, b, \'IsNot\'));\n    });\n\n    mod.abs = new Sk.builtin.func(function (obj) {\n        return Sk.misceval.callsim(Sk.builtin.abs, obj);\n    });\n    mod.__abs__ = mod.abs;\n\n    // The documentation says that operator.add() is defined for a and b numbers, but\n    // CPython (2.6) allows a and b to be other types (e.g. str)\n    mod.add = new Sk.builtin.func(function (a, b) {\n        return Sk.abstr.objectAdd(a, b);\n    });\n    mod.__add__ = mod.add;\n\n    mod.and_ = new Sk.builtin.func(function (a, b) {\n        return Sk.abstr.binary_op_(a, b, "BitAnd");\n    });\n    mod.__and__ = mod.and_;\n\n    mod.div = new Sk.builtin.func(function (a, b) {\n        return Sk.abstr.binary_op_(a, b, "Div");\n    });\n    mod.__div__ = mod.div;\n\n    mod.floordiv = new Sk.builtin.func(function (a, b) {\n        return Sk.abstr.binary_op_(a, b, "FloorDiv");\n    });\n    mod.__floordiv__ = mod.floordiv;\n\n    mod.index = new Sk.builtin.func(function (a) {\n        return new Sk.builtin.int_(Sk.misceval.asIndex(a));\n    });\n    mod.__index__ = mod.index;\n\n    // Note: Sk.abstr.numberUnaryOp(obj, \'Invert\') looks for the function nb$invert() on obj.\n    // However, it doesn\'t look like that function has been implemented for any existing object types.\n    // I\'ve gone ahead and created this function for completeness\' sake, but expect any use of it to\n    // result in an error.\n    mod.inv = new Sk.builtin.func(function (obj) {\n        return Sk.abstr.numberUnaryOp(obj, \'Invert\');\n    });\n    mod.__inv__ = mod.inv;\n    mod.invert = mod.inv;\n    mod.__invert__ = mod.inv;\n\n    mod.lshift = new Sk.builtin.func(function (a, b) {\n        return Sk.abstr.binary_op_(a, b, "LShift");\n    });\n    mod.__lshift__ = mod.lshift;\n\n    mod.mod = new Sk.builtin.func(function (a, b) {\n        return Sk.abstr.binary_op_(a, b, "Mod");\n    });\n    mod.__mod__ = mod.mod;\n\n    mod.divmod = new Sk.builtin.func(function (a, b) {\n        return Sk.abstr.binary_op_(a, b, "DivMod");\n    });\n    mod.__divmod__ = mod.divmod;\n\n    mod.mul = new Sk.builtin.func(function (a, b) {\n        return Sk.abstr.binary_op_(a, b, "Mult");\n    });\n    mod.__mul__ = mod.mul;\n\n    mod.neg = new Sk.builtin.func(function (obj) {\n        return Sk.abstr.objectNegative(obj);\n    });\n    mod.__neg__ = mod.neg;\n\n    mod.or_ = new Sk.builtin.func(function (a, b) {\n        return Sk.abstr.binary_op_(a, b, "BitOr");\n    });\n    mod.__or__ = mod.or_;\n\n    mod.pos = new Sk.builtin.func(function (obj) {\n        return Sk.abstr.objectPositive(obj);\n    });\n    mod.__pos__ = mod.pos;\n\n    mod.pow = new Sk.builtin.func(function (a, b) {\n        return Sk.abstr.binary_op_(a, b, "Pow");\n    });\n    mod.__pow__ = mod.pow;\n\n    mod.rshift = new Sk.builtin.func(function (a, b) {\n        return Sk.abstr.binary_op_(a, b, "RShift");\n    });\n    mod.__rshift__ = mod.rshift;\n\n    mod.sub = new Sk.builtin.func(function (a, b) {\n        return Sk.abstr.binary_op_(a, b, "Sub");\n    });\n    mod.__sub__ = mod.sub;\n\n    mod.truediv = mod.div;\n    mod.__truediv__ = mod.div;\n\n    mod.xor = new Sk.builtin.func(function (a, b) {\n        return Sk.abstr.binary_op_(a, b, "BitXor");\n    });\n    mod.__xor__ = mod.xor;\n\n    mod.concat = new Sk.builtin.func(function (a, b) {\n        return Sk.abstr.sequenceConcat(a, b);\n    });\n    mod.__concat__ = mod.concat;\n\n    mod.contains = new Sk.builtin.func(function (a, b) {\n        return Sk.builtin.bool(Sk.abstr.sequenceContains(a, b));\n    });\n    mod.__contains__ = mod.contains;\n\n    mod.countOf = new Sk.builtin.func(function (a, b) {\n        return Sk.abstr.sequenceGetCountOf(a, b);\n    });\n\n    mod.delitem = new Sk.builtin.func(function (a, b) {\n        return Sk.abstr.sequenceDelItem(a, b);\n    });\n    mod.__delitem__ = mod.delitem;\n\n    mod.getitem = new Sk.builtin.func(function (a, b) {\n        return Sk.abstr.sequenceGetItem(a, b);\n    });\n    mod.__getitem__ = mod.getitem;\n\n    mod.indexOf = new Sk.builtin.func(function (a, b) {\n        return Sk.abstr.sequenceGetIndexOf(a, b);\n    });\n\n    mod.setitem = new Sk.builtin.func(function (a, b, c) {\n        return Sk.abstr.sequenceSetItem(a, b, c);\n    });\n    mod.__setitem__ = mod.setitem;\n\n    return mod;\n};\n',"src/lib/pyclbr.py":'raise NotImplementedError("pyclbr is not yet implemented in Skulpt")\n',"src/lib/test/__init__.py":"__author__ = 'bmiller'\n\ndef testEqual(actual, expected):\n    if type(expected) == type(1):\n        if actual == expected:\n            print('Pass')\n            return True\n    elif type(expected) == type(1.11):\n        if abs(actual-expected) < 0.00001:\n            print('Pass')\n            return True\n    else:\n        if actual == expected:\n            print('Pass')\n            return True\n    print('Test Failed: expected ' + str(expected) + ' but got ' + str(actual))\n    return False\n\ndef testNotEqual(actual, expected):\n    pass\n\n","src/lib/doctest.py":'raise NotImplementedError("doctest is not yet implemented in Skulpt")\n',"src/lib/pty.py":'raise NotImplementedError("pty is not yet implemented in Skulpt")\n',"src/lib/test/decimaltestdata/__init__.py":'raise NotImplementedError("decimaltestdata is not yet implemented in Skulpt")\n',"src/lib/uu.py":'raise NotImplementedError("uu is not yet implemented in Skulpt")\n',"src/lib/lib-dynload/__init__.py":'raise NotImplementedError("lib-dynload is not yet implemented in Skulpt")\n',"src/lib/distutils/tests/__init__.py":'raise NotImplementedError("tests is not yet implemented in Skulpt")\n',"src/lib/sunau.py":'raise NotImplementedError("sunau is not yet implemented in Skulpt")\n',"src/lib/trace.py":'raise NotImplementedError("trace is not yet implemented in Skulpt")\n',"src/lib/xml/dom/__init__.py":'raise NotImplementedError("dom is not yet implemented in Skulpt")\n',"src/lib/gettext.py":'raise NotImplementedError("gettext is not yet implemented in Skulpt")\n',"src/lib/pythonds/basic/queue.py":"# Bradley N. Miller, David L. Ranum\n# Introduction to Data Structures and Algorithms in Python\n# Copyright 2005\n# \n#queue.py\r\n\r\nclass Queue:\r\n    def __init__(self):\r\n        self.items = []\r\n\r\n    def isEmpty(self):\r\n        return self.items == []\r\n\r\n    def enqueue(self, item):\r\n        self.items.insert(0,item)\r\n\r\n    def dequeue(self):\r\n        return self.items.pop()\r\n\r\n    def size(self):\r\n        return len(self.items)\r\n","src/lib/pkgutil.py":'raise NotImplementedError("pkgutil is not yet implemented in Skulpt")\n',"src/lib/gzip.py":'raise NotImplementedError("gzip is not yet implemented in Skulpt")\n',"src/lib/numbers.py":'raise NotImplementedError("numbers is not yet implemented in Skulpt")\n',"src/lib/asyncore.py":'raise NotImplementedError("asyncore is not yet implemented in Skulpt")\n',"src/lib/site.py":'raise NotImplementedError("site is not yet implemented in Skulpt")\n',"src/lib/imputil.py":'raise NotImplementedError("imputil is not yet implemented in Skulpt")\n',"src/lib/bdb.py":'raise NotImplementedError("bdb is not yet implemented in Skulpt")\n',"src/lib/email/test/data/__init__.py":'raise NotImplementedError("data is not yet implemented in Skulpt")\n',"src/lib/imghdr.py":'raise NotImplementedError("imghdr is not yet implemented in Skulpt")\n',"src/lib/UserString.py":'raise NotImplementedError("UserString is not yet implemented in Skulpt")\n',"src/lib/SimpleXMLRPCServer.py":'raise NotImplementedError("SimpleXMLRPCServer is not yet implemented in Skulpt")\n',"src/lib/telnetlib.py":'raise NotImplementedError("telnetlib is not yet implemented in Skulpt")\n',"src/lib/robotparser.py":'raise NotImplementedError("robotparser is not yet implemented in Skulpt")\n',"src/lib/ast.py":'raise NotImplementedError("ast is not yet implemented in Skulpt")\n',"src/lib/fractions.py":'raise NotImplementedError("fractions is not yet implemented in Skulpt")\n',"src/lib/posixpath.py":'raise NotImplementedError("posixpath is not yet implemented in Skulpt")\n',"src/lib/pythonds/basic/stack.py":"# Bradley N. Miller, David L. Ranum\n# Introduction to Data Structures and Algorithms in Python\n# Copyright 2005\n# \n#stack.py\r\n\r\nclass Stack:\r\n    def __init__(self):\r\n        self.items = []\r\n\r\n    def isEmpty(self):\r\n        return self.items == []\r\n\r\n    def push(self, item):\r\n        self.items.append(item)\r\n\r\n    def pop(self):\r\n        return self.items.pop()\r\n\r\n    def peek(self):\r\n        return self.items[len(self.items)-1]\r\n\r\n    def size(self):\r\n        return len(self.items)\r\n\r\n","src/lib/processing.js":'/*\n  Skulpt Processing\n\n  Testing/debugging:\n\n  ProcessingJS from Skulpt:\n  Sk.misceval.callsim(Sk.globals.processing.$d.PShapeSVG, \n      new Sk.builtin.str("string"), \n      new Sk.builtin.str("bot1.svg"))\n\n  ProcessingJS direct:\n  p = Processing.instances[0]\n  p.PShapeSVG("string", "bot1.svg")\n*/\n\nvar $builtinmodule = function (name) {\n    var imageClass;\n    var colorClass;\n    var screenClass;\n    var environmentClass;\n    var keyboardClass;\n    var mouseClass;\n    var vectorClass\n\n    var mod = {};\n    var imList = [];\n    var looping = true;\n    var instance = null;\n\n    // We need this to store a reference to the actual processing object which is not created\n    // until the run function is called.  Even then the processing object is passed by the\n    // processing-js sytem as a parameter to the sketchProc function.  Why not set it to None here\n    //\n\n    // See:  http://processingjs.org/reference/\n\n    mod.processing = null;\n    mod.p = null;\n\n    mod.X = new Sk.builtin.int_(0);\n    mod.Y = new Sk.builtin.int_(1);\n    mod.Z = new Sk.builtin.int_(2);\n\n    mod.R = new Sk.builtin.int_( 3);\n    mod.G = new Sk.builtin.int_( 4);\n    mod.B = new Sk.builtin.int_( 5);\n    mod.A = new Sk.builtin.int_( 6);\n    \n    mod.U = new Sk.builtin.int_( 7);\n    mod.V = new Sk.builtin.int_( 8);\n    \n    mod.NX = new Sk.builtin.int_( 9);\n    mod.NY = new Sk.builtin.int_( 10);\n    mod.NZ = new Sk.builtin.int_( 11);\n    \n    mod.EDGE = new Sk.builtin.int_( 12);\n    \n    // Stroke\n    mod.SR = new Sk.builtin.int_( 13);\n    mod.SG = new Sk.builtin.int_( 14);\n    mod.SB = new Sk.builtin.int_( 15);\n    mod.SA = new Sk.builtin.int_( 16);\n    \n    mod.SW = new Sk.builtin.int_( 17);\n    \n    // Transformations (2D and 3D)\n    mod.TX = new Sk.builtin.int_( 18);\n    mod.TY = new Sk.builtin.int_( 19);\n    mod.TZ = new Sk.builtin.int_( 20);\n    \n    mod.VX = new Sk.builtin.int_( 21);\n    mod.VY = new Sk.builtin.int_( 22);\n    mod.VZ = new Sk.builtin.int_( 23);\n    mod.VW = new Sk.builtin.int_( 24);\n    \n    // Material properties\n    mod.AR = new Sk.builtin.int_( 25);\n    mod.AG = new Sk.builtin.int_( 26);\n    mod.AB = new Sk.builtin.int_( 27);\n    \n    mod.DR = new Sk.builtin.int_( 3);\n    mod.DG = new Sk.builtin.int_( 4);\n    mod.DB = new Sk.builtin.int_( 5);\n    mod.DA = new Sk.builtin.int_( 6);\n    \n    mod.SPR = new Sk.builtin.int_( 28);\n    mod.SPG = new Sk.builtin.int_( 29);\n    mod.SPB = new Sk.builtin.int_( 30);\n    \n    mod.SHINE = new Sk.builtin.int_( 31);\n    \n    mod.ER = new Sk.builtin.int_( 32);\n    mod.EG = new Sk.builtin.int_( 33);\n    mod.EB = new Sk.builtin.int_( 34);\n    \n    mod.BEEN_LIT = new Sk.builtin.int_( 35);\n    \n    mod.VERTEX_FIELD_COUNT = new Sk.builtin.int_( 36);\n    \n    // Shape drawing modes\n    mod.CENTER = new Sk.builtin.int_(3);\n    mod.RADIUS = new Sk.builtin.int_(2);\n    mod.CORNERS = new Sk.builtin.int_(1);\n    mod.CORNER = new Sk.builtin.int_(0);\n    mod.DIAMETER = new Sk.builtin.int_(3);\n    \n    // Text vertical alignment modes\n    // Default vertical alignment for text placement\n    mod.BASELINE = new Sk.builtin.int_( 0);\n    // Align text to the top\n    mod.TOP = new Sk.builtin.int_(      101);\n    // Align text from the bottom, using the baseline\n    mod.BOTTOM = new Sk.builtin.int_(   102);\n    \n    // UV Texture coordinate modes\n    mod.NORMAL = new Sk.builtin.int_(     1);\n    mod.NORMALIZED = new Sk.builtin.int_( 1);\n    mod.IMAGE = new Sk.builtin.int_(      2);\n    \n    // Text placement modes\n    mod.MODEL = new Sk.builtin.int_( 4);\n    mod.SHAPE = new Sk.builtin.int_( 5);\n    \n    // Lighting modes\n    mod.AMBIENT = new Sk.builtin.int_(     0);\n    mod.DIRECTIONAL = new Sk.builtin.int_( 1);\n    //POINT:     2, Shared with Shape constant\n    mod.SPOT = new Sk.builtin.int_(        3);\n\n    // Color modes\n    mod.RGB = new Sk.builtin.int_(1);\n    mod.ARGB = new Sk.builtin.int_(2);\n    mod.HSB = new Sk.builtin.int_(3);\n    mod.ALPHA = new Sk.builtin.int_(4);\n    mod.CMYK = new Sk.builtin.int_(5);\n    \n    // Image file types\n    mod.TIFF = new Sk.builtin.int_(0);\n    mod.TARGA = new Sk.builtin.int_(1);\n    mod.JPEG = new Sk.builtin.int_(2);\n    mod.GIF = new Sk.builtin.int_(3);\n\n    // Stroke modes\n    mod.MITER = new Sk.builtin.str("miter");\n    mod.BEVEL = new Sk.builtin.str("bevel");\n    mod.ROUND = new Sk.builtin.str("round");\n    mod.SQUARE = new Sk.builtin.str("butt");\n    mod.PROJECT = new Sk.builtin.str("square");\n\n    // Renderer modes\n    mod.P2D = new Sk.builtin.int_(1);\n    mod.JAVA2D = new Sk.builtin.int_(1);\n    mod.WEBGL = new Sk.builtin.int_(2);\n    mod.P3D = new Sk.builtin.int_(2);\n    mod.OPENGL = new Sk.builtin.int_(2);\n    mod.PDF = new Sk.builtin.int_(0);\n    mod.DXF  = new Sk.builtin.int_(0);\n\n    // Platform IDs\n    mod.OTHER = new Sk.builtin.int_(   0);\n    mod.WINDOWS = new Sk.builtin.int_( 1);\n    mod.MAXOSX = new Sk.builtin.int_(  2);\n    mod.LINUX = new Sk.builtin.int_(   3);\n    \n    mod.EPSILON = new Sk.builtin.float_( 0.0001);\n\n    mod.MAX_FLOAT = new Sk.builtin.float_(  3.4028235e+38);\n    mod.MIN_FLOAT = new Sk.builtin.float_( -3.4028235e+38);\n    mod.MAX_INT = new Sk.builtin.int_(    2147483647);\n    mod.MIN_INT = new Sk.builtin.int_(   -2147483648);\n    \n    // Constants\n    mod.HALF_PI = new Sk.builtin.float_(Math.PI / 2.0);\n    mod.THIRD_PI = new Sk.builtin.float_(Math.PI / 3.0);\n    mod.PI = new Sk.builtin.float_(Math.PI);\n    mod.TWO_PI = new Sk.builtin.float_(Math.PI * 2.0);\n    mod.TAU = new Sk.builtin.float_(Math.PI * 2.0);\n    mod.QUARTER_PI = new Sk.builtin.float_(Math.PI / 4.0);\n\n    mod.DEG_TO_RAD = new Sk.builtin.float_( Math.PI / 180);\n    mod.RAD_TO_DEG = new Sk.builtin.float_( 180 / Math.PI);\n\n    mod.WHITESPACE = Sk.builtin.str(" \\t\\n\\r\\f\\u00A0");\n    // Shape modes\n    mod.POINT = new Sk.builtin.int_(2);\n    mod.POINTS = new Sk.builtin.int_(2);\n    mod.LINE = new Sk.builtin.int_(4);\n    mod.LINES = new Sk.builtin.int_(4);\n    mod.TRIANGLE = new Sk.builtin.int_(8);\n    mod.TRIANGLES = new Sk.builtin.int_(9);\n    mod.TRIANGLE_FAN = new Sk.builtin.int_(11);\n    mod.TRIANGLE_STRIP = new Sk.builtin.int_(10);\n    mod.QUAD = new Sk.builtin.int_(16);\n    mod.QUADS = new Sk.builtin.int_(16);\n    mod.QUAD_STRIP = new Sk.builtin.int_(17);\n    mod.POLYGON = new Sk.builtin.int_(20);\n\n    mod.PATH = new Sk.builtin.int_(21);\n    mod.RECT = new Sk.builtin.int_(30);\n    mod.ELLIPSE = new Sk.builtin.int_(31);\n    mod.ARC = new Sk.builtin.int_(32);\n    mod.SPHERE = new Sk.builtin.int_(40);\n    mod.BOX = new Sk.builtin.int_(41);\n\n    mod.GROUP = new Sk.builtin.int_(          0);\n    mod.PRIMITIVE = new Sk.builtin.int_(      1);\n    //PATH:         21, // shared with Shape PATH\n    mod.GEOMETRY = new Sk.builtin.int_(       3);\n    \n    // Shape Vertex\n    mod.VERTEX = new Sk.builtin.int_(        0);\n    mod.BEZIER_VERTEX = new Sk.builtin.int_( 1);\n    mod.CURVE_VERTEX = new Sk.builtin.int_(  2);\n    mod.BREAK = new Sk.builtin.int_(         3);\n    mod.CLOSESHAPE = new Sk.builtin.int_(    4);\n    \n    // Blend modes\n    mod.REPLACE    = new Sk.builtin.int_(0);\n    mod.BLEND      = new Sk.builtin.int_(1 << 0);\n    mod.ADD        = new Sk.builtin.int_(1 << 1);\n    mod.SUBTRACT   = new Sk.builtin.int_(1 << 2);\n    mod.LIGHTEST   = new Sk.builtin.int_(1 << 3);\n    mod.DARKEST    = new Sk.builtin.int_(1 << 4);\n    mod.DIFFERENCE = new Sk.builtin.int_(1 << 5);\n    mod.EXCLUSION  = new Sk.builtin.int_(1 << 6);\n    mod.MULTIPLY   = new Sk.builtin.int_(1 << 7);\n    mod.SCREEN     = new Sk.builtin.int_(1 << 8);\n    mod.OVERLAY    = new Sk.builtin.int_(1 << 9);\n    mod.HARD_LIGHT = new Sk.builtin.int_(1 << 10);\n    mod.SOFT_LIGHT = new Sk.builtin.int_(1 << 11);\n    mod.DODGE      = new Sk.builtin.int_(1 << 12);\n    mod.BURN       = new Sk.builtin.int_(1 << 13);\n\n    // Color component bit masks\n    mod.ALPHA_MASK = new Sk.builtin.int_( 0xff000000);\n    mod.RED_MASK = new Sk.builtin.int_(   0x00ff0000);\n    mod.GREEN_MASK = new Sk.builtin.int_( 0x0000ff00);\n    mod.BLUE_MASK = new Sk.builtin.int_(  0x000000ff);\n    \n    // Projection matrices\n    mod.CUSTOM = new Sk.builtin.int_(       0);\n    mod.ORTHOGRAPHIC = new Sk.builtin.int_( 2);\n    mod.PERSPECTIVE = new Sk.builtin.int_(  3);\n    \n    // Cursors\n    mod.ARROW = new Sk.builtin.str("default");\n    mod.CROSS = new Sk.builtin.str("crosshair");\n    mod.HAND = new Sk.builtin.str("pointer");\n    mod.MOVE = new Sk.builtin.str("move");\n    mod.TEXT = new Sk.builtin.str("text");\n    mod.WAIT = new Sk.builtin.str("wait");\n    mod.NOCURSOR = Sk.builtin.assk$("url(\'data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==\'), auto", Sk.builtin.nmber.str);\n\n    // Hints\n    mod.DISABLE_OPENGL_2X_SMOOTH = new Sk.builtin.int_(1);\n    mod.ENABLE_OPENGL_2X_SMOOTH = new Sk.builtin.int_(-1);\n    mod.ENABLE_OPENGL_4X_SMOOTH = new Sk.builtin.int_(2);\n    mod.ENABLE_NATIVE_FONTS = new Sk.builtin.int_(3);\n    mod.DISABLE_DEPTH_TEST = new Sk.builtin.int_(4);\n    mod.ENABLE_DEPTH_TEST = new Sk.builtin.int_(-4);\n    mod.ENABLE_DEPTH_SORT = new Sk.builtin.int_(5);\n    mod.DISABLE_DEPTH_SORT = new Sk.builtin.int_(-5);\n    mod.DISABLE_OPENGL_ERROR_REPORT = new Sk.builtin.int_(6);\n    mod.ENABLE_OPENGL_ERROR_REPORT = new Sk.builtin.int_(-6);\n    mod.ENABLE_ACCURATE_TEXTURES = new Sk.builtin.int_(7);\n    mod.DISABLE_ACCURATE_TEXTURES = new Sk.builtin.int_(-7);\n    mod.HINT_COUNT = new Sk.builtin.int_(10);\n\n    // Shape closing modes\n    mod.OPEN =  new Sk.builtin.int_(1);\n    mod.CLOSE = new Sk.builtin.int_(2);\n\n    // Filter/convert types\n    mod.BLUR = new Sk.builtin.int_(11);\n    mod.GRAY = new Sk.builtin.int_(12);\n    mod.INVERT = new Sk.builtin.int_(13);\n    mod.OPAQUE = new Sk.builtin.int_(14);\n    mod.POSTERIZE = new Sk.builtin.int_(15);\n    mod.THRESHOLD = new Sk.builtin.int_(16);\n    mod.ERODE = new Sk.builtin.int_(17);\n    mod.DILATE = new Sk.builtin.int_(18);\n\n    // Both key and keyCode will be equal to these values\n    mod.BACKSPACE = new Sk.builtin.int_( 8);\n    mod.TAB = new Sk.builtin.int_(9);\n    mod.ENTER = new Sk.builtin.int_(10);\n    mod.RETURN = new Sk.builtin.int_(13);\n    mod.ESC = new Sk.builtin.int_(27);\n    mod.DELETE = new Sk.builtin.int_(127);\n    mod.CODED = new Sk.builtin.int_(0xffff);\n\n    // p.key will be CODED and p.keyCode will be this value\n    mod.SHIFT = new Sk.builtin.int_(16);\n    mod.CONTROL = new Sk.builtin.int_(17);\n    mod.ALT = new Sk.builtin.int_(18);\n    mod.CAPSLK = new Sk.builtin.int_(20);\n    mod.PGUP = new Sk.builtin.int_(33);\n    mod.PGDN = new Sk.builtin.int_(34);\n    mod.END = new Sk.builtin.int_(35);\n    mod.HOME = new Sk.builtin.int_(36);\n    mod.LEFT = new Sk.builtin.int_(37);\n    mod.UP = new Sk.builtin.int_(38);\n    mod.RIGHT = new Sk.builtin.int_(39);\n    mod.DOWN = new Sk.builtin.int_(40);\n    mod.F1 = new Sk.builtin.int_(112);\n    mod.F2 = new Sk.builtin.int_(113);\n    mod.F3 = new Sk.builtin.int_(114);\n    mod.F4 = new Sk.builtin.int_(115);\n    mod.F5 = new Sk.builtin.int_(116);\n    mod.F6 = new Sk.builtin.int_(117);\n    mod.F7 = new Sk.builtin.int_(118);\n    mod.F8 = new Sk.builtin.int_(119);\n    mod.F9 = new Sk.builtin.int_(120);\n    mod.F10 = new Sk.builtin.int_(121);\n    mod.F11 = new Sk.builtin.int_(122);\n    mod.F12 = new Sk.builtin.int_(123);\n    mod.NUMLK = new Sk.builtin.int_(144);\n    mod.META = new Sk.builtin.int_(157);\n    mod.INSERT = new Sk.builtin.int_(155);\n\n    // PJS defined constants\n    mod.SINCOS_LENGTH = new Sk.builtin.int_(720);\n    mod.PRECISIONB = new Sk.builtin.int_(15);\n    mod.PRECISIONF = new Sk.builtin.int_(1 << 15);\n    mod.PREC_MAXVAL = new Sk.builtin.int_((1 << 15) - 1);\n    mod.PREC_ALPHA_SHIFT = new Sk.builtin.int_(24 - 15);\n    mod.PREC_RED_SHIFT = new Sk.builtin.int_(16 - 15);\n    mod.NORMAL_MODE_AUTO = new Sk.builtin.int_(0);\n    mod.NORMAL_MODE_SHAPE = new Sk.builtin.int_(1);\n    mod.NORMAL_MODE_VERTEX = new Sk.builtin.int_(2);\n    mod.MAX_LIGHTS = new Sk.builtin.int_(8);\n\n    // 2D - Primitives\n    mod.line = new Sk.builtin.func(function (x1, y1, x2, y2) {\n        mod.processing.line(x1.v, y1.v, x2.v, y2.v);\n    });\n\n    mod.ellipse = new Sk.builtin.func(function (x, y, r1, r2) {\n        mod.processing.ellipse(x.v, y.v, r1.v, r2.v);\n\n    });\n\n    mod.text = new Sk.builtin.func(function (theText, x, y) {\n        mod.processing.text(theText.v, x.v, y.v);\n    });\n\n    mod.point = new Sk.builtin.func(function (x1, y1) {\n        mod.processing.point(x1.v, y1.v);\n    });\n\n    mod.arc = new Sk.builtin.func(function (x, y, width, height, start, stop) {\n        mod.processing.arc(x.v, y.v, width.v, height.v, start.v, stop.v);\n    });\n\n    mod.quad = new Sk.builtin.func(function (x1, y1, x2, y2, x3, y3, x4, y4) {\n        mod.processing.quad(x1.v, y1.v, x2.v, y2.v, x3.v, y3.v, x4.v, y4.v);\n    });\n\n    mod.rect = new Sk.builtin.func(function (x, y, width, height, radius) {\n        var rad;\n        if (typeof(radius) === "undefined") {\n            mod.processing.rect(x.v, y.v, width.v, height.v);\n        } else {\n            mod.processing.rect(x.v, y.v, width.v, height.v, radius.v);\n        }\n    });\n\n    mod.triangle = new Sk.builtin.func(function (x1, y1, x2, y2, x3, y3) {\n        mod.processing.triangle(x1.v, y1.v, x2.v, y2.v, x3.v, y3.v);\n    });\n\n    mod.bezier = new Sk.builtin.func(function (x1, y1, a1, a2, a3, a4, a5, a6, a7, a8, a9, a10) {\n        if (typeof(a7) === "undefined") {\n\t    // bezier(x1, y1, cx1, cy1, cx2, cy2,  x2,  y2);\n            mod.processing.bezier(x1.v, y1.v, a1.v, a2.v, a3.v, a4.v, a5.v, a6.v);\n\t} else {\n\t    // bezier(x1, y1,  z1, cx1, cy1, cz1, cx2, cy2, cz2, x2, y2, z2);\n            mod.processing.bezier(x1.v, y1.v, a1.v, a2.v, a3.v, a4.v, a5.v, a6.v, a7.v, a8.v, a9.v, a10.v);\n\t}\n    });\n\n    mod.alpha = new Sk.builtin.func(function (r, g, b) {\n        // r will be either:\n        //      a number in which case the fill will be grayscale\n        //      a color object\n        // g, and b may be undefined.  If they hold values it will\n        // be assumed that we have an r,g,b color tuple\n        if (typeof(g) === "undefined") {\n            return new Sk.builtin.float_(mod.processing.alpha(r.v));\n        } else if (typeof(b) === "undefined") {\n            return new Sk.builtin.float_(mod.processing.alpha(r.v, g.v));\n        } else {\n            return new Sk.builtin.float_(mod.processing.alpha(r.v, g.v, b.v));\n\t}\n    });\n\n    mod.ambient = new Sk.builtin.func(function (r, g, b) {\n\t// ambient(gray)\n\t// ambient(red, green blue)\n        // r will be either:\n        //      a number in which case the fill will be grayscale\n        //      a color object\n        // g, and b may be undefined.  If they hold values it will\n        // be assumed that we have an r,g,b color tuple\n        if (typeof(g) === "undefined") {\n            mod.processing.ambient(r.v);\n        } else if (typeof(b) === "undefined") {\n            mod.processing.ambient(r.v, g.v);\n        } else {\n            mod.processing.ambient(r.v, g.v, b.v);\n\t}\n    });\n\n    mod.ambientLight = new Sk.builtin.func(function (v1, v2, v3, x, y, z) {\n\t// ambientLight(v1,v2,v3)\n\t// ambientLight(v1,v2,v3,x,y,z)\n        if (typeof(x) === "undefined") {\n            mod.processing.ambientLight(v1.v, v2.v, v3.v);\n        } else if (typeof(y) === "undefined") {\n            mod.processing.ambientLight(v1.v, v2.v, v3.v, x.v);\n        } else if (typeof(z) === "undefined") {\n            mod.processing.ambientLight(v1.v, v2.v, v3.v, x.v, y.v);\n        } else {\n            mod.processing.ambientLight(v1.v, v2.v, v3.v, x.v, y.v, z.v);\n\t}\n    });\n\n    mod.beginCamera = new Sk.builtin.func(function () {\n\tmod.processing.beginCamera();\n    });\n\n    mod.beginShape = new Sk.builtin.func(function (mode) {\n        if (typeof(mode) === "undefined") {\n            mode = mod.POLYGON;\n        }\n        mod.processing.beginShape(mode.v);\n    });\n\n    mod.bezierDetail = new Sk.builtin.func(function (resolution) {\n\t// Sets the resolution at which Beziers display. The default\n\t// value is 20. This function is only useful when using the\n\t// P3D or OPENGL renderer as the default (JAVA2D) renderer\n\t// does not use this information.\n        if (typeof(resolution) !== "undefined") {\n            resolution = resolution.v;\n        } else {\n            resolution = 20;\n\t}\n        mod.processing.bezierDetail(resolution);\n    });\n\n    mod.bezierPoint = new Sk.builtin.func(function (a,b,c,d,t) {\n        mod.processing.bezierPoint(a.v,b.v,c.v,d.v,t.v);\n    });\n\n    mod.bezierTangent = new Sk.builtin.func(function (a,b,c,d,t) {\n\tmod.processing.bezierTangent(a.v,b.v,c.v,d.v,t.v);\n    });\n\n    mod.bezierVertex = new Sk.builtin.func(function (v1, v2, v3, v4, v5, v6,\n\t\t\t\t\t\t    v7, v8, v9) {\n\t// bezierVertex(cx1, cy1, cx2, cy2,   x,   y)\n\t// bezierVertex(cx1, cy1, cz1, cx2, cy2, cz2, x, y, z)\n        if (typeof(v7) === "undefined") {\n\t    mod.processing.bezierVertex(v1.v, v2.v, v3.v, v4.v, v5.v, v6.v);\n\t} else if (typeof(v8) === "undefined") {\n\t    mod.processing.bezierVertex(v1.v, v2.v, v3.v, v4.v, v5.v, v6.v,\n\t\t\t\t\tv7.v);\n\t} else if (typeof(v9) === "undefined") {\n\t    mod.processing.bezierVertex(v1.v, v2.v, v3.v, v4.v, v5.v, v6.v,\n\t\t\t\t\tv7.v, v8.v);\n\t} else {\n\t    mod.processing.bezierVertex(v1.v, v2.v, v3.v, v4.v, v5.v, v6.v,\n\t\t\t\t\tv7.v, v8.v, v9.v);\n\t}\n    });\n\n    mod.blend = new Sk.builtin.func(function (v1, v2, v3, v4, v5,\n\t\t\t\t\t      v6, v7, v8, v9, v10) {\n\tif (other instanceof Sk.builtin.int_ || other instanceof Sk.builtin.float_) {\n\t    // blend(x,     y,width,height,dx,    dy,dwidth,dheight,MODE)\n\t    mod.processing.blend(v1.v, v2.v, v3.v, v4.v, v5.v,\n\t\t\t\t v6.v, v7.v, v8.v, v9.v);\n\t} else {\n\t    // blend(srcImg,x,y,    width, height,dx,dy,    dwidth, dheight,MODE)\n\t    mod.processing.blend(v1.v, v2.v, v3.v, v4.v, v5.v,\n\t\t\t\t v6.v, v7.v, v8.v, v9.v, v10.v);\n\t}\n    });\n\n    mod.blendColor = new Sk.builtin.func(function (c1, c2, mode) {\n\t// blendColor(c1,c2,MODE)\n        var c = Sk.misceval.callsim(mod.color,\n\t\t\t\t    new Sk.builtin.int_(0),\n\t\t\t\t    new Sk.builtin.int_(0),\n\t\t\t\t    new Sk.builtin.int_(0));\n\tc.v = mod.processing.blendColor(c1.v, c2.v, mode.v);\n\treturn c;\n    });\n\n    mod.brightness = new Sk.builtin.func(function (r, g, b) {\n        if (typeof(g) === "undefined") {\n\t    return new Sk.builtin.float_(mod.processing.brightness(r.v));\n        } else if (typeof(b) === "undefined") {\n\t    return new Sk.builtin.float_(mod.processing.brightness(r.v, g.v));\n        } else {\n\t    return new Sk.builtin.float_(mod.processing.brightness(r.v, g.v, b.v));\n\t}\n    });\n\n    mod.camera = new Sk.builtin.func(function (eyeX, eyeY, eyeZ,\n\t\t\t\t\t       centerX, centerY, centerZ,\n\t\t\t\t\t       upX, upY, upZ) {\n\t// camera()\n\t// camera(eyeX, eyeY, eyeZ,centerX, centerY, centerZ,upX, upY, upZ)\n        if (typeof(eyeX) === "undefined") {\n\t    mod.processing.camera();\n\t} else {\n\t    mod.processing.camera(eyeX.v, eyeY.v, eyeZ.v,\n\t\t\t\t  centerX.v, centerY.v, centerZ.v,\n\t\t\t\t  upX.v, upY.v, upZ.v);\n\t}\n    });\n\n    mod.constrain = new Sk.builtin.func(function (value, min, max) {\n\treturn new Sk.builtin.float_(mod.processing.constrain(value.v, min.v, max.v));\n    });\n\n    mod.copy = new Sk.builtin.func(function (v1, v2, v3, v4, v5,\n\t\t\t\t\t      v6, v7, v8, v9) {\n\tif (other instanceof Sk.builtin.int_ || other instanceof Sk.builtin.float_) {\n\t    // copy(x,     y,width,height,dx,    dy,dwidth,dheight)\n\t    mod.processing.copy(v1.v, v2.v, v3.v, v4.v, v5.v,\n\t\t\t\tv6.v, v7.v, v8.v);\n\t} else {\n\t    // copy(srcImg,x,y,    width, height,dx,dy,    dwidth, dheight)\n\t    mod.processing.copy(v1.v, v2.v, v3.v, v4.v, v5.v,\n\t\t\t\tv6.v, v7.v, v8.v, v9.v);\n\t}\n    });\n\n    mod.createFont = new Sk.builtin.func(function (name, size, smooth, charset) {\n\t// createFont(name, size)\n\t// createFont(name, size, smooth)\n\t// createFont(name, size, smooth, charset)\n\tvar font = Sk.misceval.callsim(mod.PFont);\n        if (typeof(smooth) === "undefined") {\n\t    font.v = mod.processing.createFont(name.v, size.v);\n\t} else if (typeof(charset) === "undefined") {\n\t    font.v = mod.processing.createFont(name.v, size.v, smooth.v);\n\t} else {\n\t    font.v = mod.processing.createFont(name.v, size.v, smooth.v, charset.v);\n\t}\n\treturn font;\n    });\n\n    mod.createGraphics = new Sk.builtin.func(function (width, height, renderer, filename) {\n\t// createGraphics(width, height, renderer)\n\t// createGraphics(width, height, renderer, filename)\n\tvar graphics = Sk.misceval.callsim(mod.PGraphics);\n        if (typeof(filename) === "undefined") {\n\t    graphics.v = mod.processing.createGraphics(width.v, height.v, renderer.v);\n\t} else {\n\t    graphics.v = mod.processing.createGraphics(width.v, height.v, renderer.v, filename.v);\n\t}\n\treturn graphics;\n    });\n\n    mod.createImage = new Sk.builtin.func(function (width, height, format) {\n\tvar image = Sk.misceval.callsim(mod.PImage);\n\timage.v = mod.processing.createImage(width.v, height.v, format.v);\n\treturn image;\n    });\n\n    mod.cursor = new Sk.builtin.func(function (v, x, y) {\n\t// cursor()\n\t// cursor(MODE)\n\t// cursor(image,x,y)\n        if (typeof(v) === "undefined") {\n\t    mod.processing.cursor();\n\t} else if (typeof(x) === "undefined") {\n\t    mod.processing.cursor(v.v);\n\t} else if (typeof(y) === "undefined") {\n\t    mod.processing.cursor(v.v, x.v);\n\t} else {\n\t    mod.processing.cursor(v.v, x.v, y.v);\n\t}\n    });\n\n    mod.curve = new Sk.builtin.func(function (v1, v2, v3, v4,\n\t\t\t\t\t      v5, v6, v7, v8,\n\t\t\t\t\t      v9, v10, v11, v12) {\n\t// curve(x1, y1, x2, y2, x3, y3, x4, y4);\n\t// curve(x1, y1, z1, x2, y2, z2, x3, y3, z3, x4, y4, z4);\n        if (typeof(v9) === "undefined") {\n\t    mod.processing.curve(v1.v, v2.v, v3.v, v4.v,\n\t\t\t\t v5.v, v6.v, v7.v, v8.v);\n\t} else if (typeof(v10) === "undefined") {\n\t    mod.processing.curve(v1.v, v2.v, v3.v, v4.v,\n\t\t\t\t v5.v, v6.v, v7.v, v8.v,\n\t\t\t\t v9.v);\n\t} else if (typeof(v11) === "undefined") {\n\t    mod.processing.curve(v1.v, v2.v, v3.v, v4.v,\n\t\t\t\t v5.v, v6.v, v7.v, v8.v,\n\t\t\t\t v9.v, v10.v);\n\t} else if (typeof(v12) === "undefined") {\n\t    mod.processing.curve(v1.v, v2.v, v3.v, v4.v,\n\t\t\t\t v5.v, v6.v, v7.v, v8.v,\n\t\t\t\t v9.v, v10.v, v11.v);\n\t} else {\n\t    mod.processing.curve(v1.v, v2.v, v3.v, v4.v,\n\t\t\t\t v5.v, v6.v, v7.v, v8.v,\n\t\t\t\t v9.v, v10.v, v11.v, v12.v);\n\t}\n    });\n\n    mod.curveDetail = new Sk.builtin.func(function (detail) {\n\t// curveDetail(detail)\n\tmod.processing.curveDetail(detail.v);\n    });\n\n    mod.curvePoint = new Sk.builtin.func(function (a,b,c,d,t) {\n\t// curvePoint(a,b,c,d,t)\n\tmod.processing.curvePoint(a.v,b.v,c.v,d.v,t.v);\n    });\n\n    mod.curveTangent = new Sk.builtin.func(function (a,b,c,d,t) {\n\t// curveTangent(a,b,c,d,t)\n\tmod.processing.curveTangent(a.v,b.v,c.v,d.v,t.v);\n    });\n\n    mod.curveTightness = new Sk.builtin.func(function (squishy) {\n\t// curveTightness(squishy)\n\tmod.processing.curveTightness(squishy.v);\n    });\n\n    mod.curveVertex = new Sk.builtin.func(function (x, y, z) {\n\t// curveVertex(x, y) \n\t// curveVertex(x, y, z)\n        if (typeof(z) === "undefined") {\n\t    mod.processing.curveVertex(x.v, y.v);\n\t} else {\n\t    mod.processing.curveVertex(x.v, y.v, z.v);\n\t}\n    });\n\n    mod.day = new Sk.builtin.func(function () {\n\treturn new Sk.builtin.int_(mod.processing.day());\n    });\n\n    mod.degrees = new Sk.builtin.func(function (angle) {\n\t// degrees(angle)\n\treturn new Sk.builtin.float_(mod.processing.degrees(angle.v));\n    });\n\n    mod.directionalLight = new Sk.builtin.func(function (v1,v2,v3,nx,ny,nz) {\n\t// directionalLight(v1,v2,v3,nx,ny,nz)\n\tmod.processing.directionalLight(v1.v,v2.v,v3.v,nx.v,ny.v,nz.v);\n    });\n\n    mod.dist = new Sk.builtin.func(function (x1, y1, z1, x2, y2, z2) {\n\t// dist(x1, y1, x2, y2)\n\t// dist(x1, y1, z1, x2, y2, z2)\n        if (typeof(y2) === "undefined") {\n\t    return new Sk.builtin.float_(mod.processing.dist(x1.v, y1.v, z1.v, x2.v));\n\t} else if (typeof(z2) === "undefined") {\n\t    return new Sk.builtin.float_(mod.processing.dist(x1.v, y1.v, z1.v, x2.v, y2.v));\n\t} else {\n\t    return new Sk.builtin.float_(mod.processing.dist(x1.v, y1.v, z1.v, x2.v, y2.v, z2.v));\n\t}\n    });\n\n    mod.emissive = new Sk.builtin.func(function (v1, v2, v3) {\n\t// emissive(gray)\n\t// emissive(color)\n\t// emissive(v1,v2,v3)\n        if (typeof(v2) === "undefined") {\n\t    mod.processing.emissive(v1.v);\n\t} else if (typeof(v3) === "undefined") {\n\t    mod.processing.emissive(v1.v, v2.v);\n\t} else {\n\t    mod.processing.emissive(v1.v, v2.v, v3.v);\n\t}\n    });\n\n    mod.endCamera = new Sk.builtin.func(function () {\n\t// endCamera()\n\tmod.processing.endCamera();\n    });\n\n    mod.endShape = new Sk.builtin.func(function (mode) {\n\t// endShape()\n\t// endShape(MODE)\n        if (typeof(mode) === "undefined") {\n\t    mod.processing.endShape();\n\t} else {\n\t    mod.processing.endShape(mode.v);\n\t}\n    });\n\n    mod.filter = new Sk.builtin.func(function (mode, srcImg) {\n\t// filter(MODE)\n\t// filter(MODE, srcImg)\n        if (typeof(srcImg) === "undefined") {\n\t    mod.processing.filter(mode.v);\n\t} else {\n\t    mod.processing.filter(mode.v, srcImg.v);\n\t}\n    });\n\n    mod.frustum = new Sk.builtin.func(function (left, right, bottom, top, near, far) {\n\t// frustum(left, right, bottom,top, near, far)\n\tmod.processing.frustum(left, right, bottom, top, near, far);\n    });\n\n    mod.hint = new Sk.builtin.func(function (item) {\n\t// hint(item)\n\tmod.processing.hint(item);\n    });\n\n    mod.hour = new Sk.builtin.func(function () {\n\treturn new Sk.builtin.int_(mod.processing.hour());\n    });\n\n    mod.hue = new Sk.builtin.func(function (color) {\n\t// hue(color)\n\treturn new Sk.builtin.float_(mod.processing.hue(color.v));\n    });\n\n    mod.imageMode = new Sk.builtin.func(function (mode) {\n\tmod.processing.imageMode(mode.v);\n    });\n\n    mod.lerp = new Sk.builtin.func(function (value1, value2, amt) {\n\t// lerp(value1, value2, amt)\n\t// returns float\n\treturn new Sk.builtin.float_(mod.processing.lerp(value1.v, value2.v, amt.v));\n    });\n\n    mod.lerpColor = new Sk.builtin.func(function (c1, c2, amt) {\n\t// lerpColor(c1, c2, amt)\n\t// returns color\n        var c = Sk.misceval.callsim(mod.color,\n\t\t\t\t    new Sk.builtin.int_(0),\n\t\t\t\t    new Sk.builtin.int_(0),\n\t\t\t\t    new Sk.builtin.int_(0));\n\tc.v = mod.processing.lerpColor(c1.v, c2.v, amt.v);\n\treturn c;\n    });\n\n    mod.lightFalloff = new Sk.builtin.func(function (constant, linear, quadratic) {\n\t// lightFalloff(constant,linear,quadratic)\n\tmod.processing.lightFalloff(constant.v, linear.v, quadratic.v);\n    });\n\n    mod.lights = new Sk.builtin.func(function () {\n\tmod.processing.lights();\n    });\n\n    mod.lightSpecular = new Sk.builtin.func(function (v1, v2, v3) {\n\t// lightSpecular(v1,v2,v3)\n\tmod.processing.lightSpecular(v1.v, v2.v, v3.v);\n    });\n\n    mod.loadBytes = new Sk.builtin.func(function (filename) {\n\t// loadBytes(filename)\n\t// returns byte[]\n\treturn new Sk.builtin.list(mod.processing.loadBytes(filename.v));\n    });\n\n    mod.loadFont = new Sk.builtin.func(function (fontname) {\n\t// loadFont(fontname)\n\t// returns font\n\tvar font = Sk.misceval.callsim(mod.PFont);\n\tfont.v = mod.processing.loadFont(fontname.v);\n\treturn font;\n    });\n\n    mod.loadShape = new Sk.builtin.func(function (filename) {\n\t// loadShape(filename)\n\t// returns shape\n\tvar shape = Sk.misceval.callsim(mod.PShapeSVG, \n\t\t\t\t\tnew Sk.builtin.str("string"),\n\t\t\t\t\tfilename);\n\treturn shape;\n    });\n\n    mod.loadStrings = new Sk.builtin.func(function (filename) {\n\t// loadStrings(filename)\n\t// returns string []\n\treturn new Sk.builtin.list(mod.processing.loadStrings(filename.v));\n    });\n\n    mod.mag = new Sk.builtin.func(function (a, b, c) {\n\t// mag(a,b)\n\t// mag(a,b,c)\n\t// returns magnitude as float\n        if (typeof(c) === "undefined") {\n\t    return new Sk.builtin.float_(mod.processing.mag(a.v, b.v));\n        } else {\n\t    return new Sk.builtin.float_(mod.processing.mag(a.v, b.v, c.v));\n\t}\n    });\n\n    mod.map = new Sk.builtin.func(function (value,low1,high1,low2,high2) {\n\t// map(value,low1,high1,low2,high2)\n\t// returns float\n\treturn new Sk.builtin.float_(mod.processing.map(value.v,low1.v,high1.v,\n\t\t\t\t\t\t   low2.v,high2.v));\n    });\n\n    mod.millis = new Sk.builtin.func(function () {\n\treturn new Sk.builtin.int_(mod.processing.millis());\n    });\n\n    mod.minute = new Sk.builtin.func(function () {\n\treturn new Sk.builtin.int_(mod.processing.minute());\n    });\n\n    mod.modelX = new Sk.builtin.func(function (x, y, z) {\n\t// modelX(x,y,z)\n\t// returns float\n\treturn new Sk.builtin.float_(mod.processing.modelX(x.v, y.v, z.v));\n    });\n\n    mod.modelY = new Sk.builtin.func(function (x, y, z) {\n\t// modelY(x,y,z)\n\t// returns float\n\treturn new Sk.builtin.float_(mod.processing.modelY(x.v, y.v, z.v));\n    });\n\n    mod.modelZ = new Sk.builtin.func(function (x, y, z) {\n\t// modelZ(x,y,z)\n\t// returns float\n\treturn new Sk.builtin.float_(mod.processing.modelZ(x.v, y.v, z.v));\n    });\n\n    mod.month = new Sk.builtin.func(function () {\n\treturn new Sk.builtin.int_(mod.processing.month());\n    });\n\n    mod.noCursor = new Sk.builtin.func(function () {\n\tmod.processing.noCursor();\n    });\n\n    mod.noise = new Sk.builtin.func(function (x, y, z) {\n\t// noise(x)\n\t// noise(x, y)\n\t// noise(x, y, z)\n\t// returns float\n        if (typeof(y) === "undefined") {\n\t    return new Sk.builtin.float_(mod.processing.noise(x.v));\n        } else if (typeof(z) === "undefined") {\n\t    return new Sk.builtin.float_(mod.processing.noise(x.v, y.v));\n        } else {\n\t    return new Sk.builtin.float_(mod.processing.noise(x.v, y.v, z.v));\n\t}\n    });\n\n    mod.noiseDetail = new Sk.builtin.func(function (octaves, falloff) {\n\t// noiseDetail(octaves);\n\t// noiseDetail(octaves,falloff);\n\tmod.processing.noiseDetail(octaves.v, falloff.v);\n    });\n\n    mod.noiseSeed = new Sk.builtin.func(function (value) {\n\t// noiseSeed(value); int\n\t// returns float\n\treturn new Sk.builtin.float_(mod.processing.noiseSeed(value.v));\n    });\n\n    mod.noLights = new Sk.builtin.func(function () {\n\tmod.processing.noLights();\n    });\n\n    mod.norm = new Sk.builtin.func(function (value, low, high) {\n\t// norm(value, low, high)\n\t// returns float\n\treturn new Sk.builtin.float_(mod.processing.norm(value.v, low.v, high.v));\n    });\n\n    mod.normal = new Sk.builtin.func(function (nx, ny, nz) {\n\t// normal(nx,ny,nz)\n\t// returns None\n\tmod.processing.normal(nx.v, ny.v, nz.v);\n    });\n\n    mod.noTint = new Sk.builtin.func(function () {\n\tmod.processing.noTint();\n    });\n\n    mod.ortho = new Sk.builtin.func(function (left, right, bottom, top, near, far) {\n\t// ortho(left, right, bottom,top, near,far)\n\t// returns None\n\tmod.processing.ortho(left.v, right.v, bottom.v, top.v, near.v, far.v);\n    });\n\n    mod.perspective = new Sk.builtin.func(function (fov, aspect, zNear, zFar) {\n\t// perspective()\n\t// perspective(fov, aspect, zNear, zFar)\n\t// returns None\n        if (typeof(fov) === "undefined") {\n\t    mod.processing.perspective();\n        } else if (typeof(aspect) === "undefined") {\n\t    mod.processing.perspective(fov.v);\n        } else if (typeof(zNear) === "undefined") {\n\t    mod.processing.perspective(fov.v, aspect.v);\n        } else if (typeof(zFar) === "undefined") {\n\t    mod.processing.perspective(fov.v, aspect.v, zNear.v);\n        } else {\n\t    mod.processing.perspective(fov.v, aspect.v, zNear.v, zFar.v);\n\t}\n    });\n\n    mod.pointLight = new Sk.builtin.func(function (v1,v2,v3,nx,ny,nz) {\n\t// pointLight(v1,v2,v3,nx,ny,nz)\n\t// returns None\n\tmod.processing.pointLight(v1.v,v2.v,v3.v,nx.v,ny.v,nz.v);\n    });\n\n    mod.printCamera = new Sk.builtin.func(function () {\n\t// printCamera()\n\t// returns None\n\tmod.processing.printCamera();\n    });\n\n    mod.println = new Sk.builtin.func(function (data) {\n\t// println(data)\n\tmod.processing.println(data.v);\n    });\n\n    mod.printProjection = new Sk.builtin.func(function () {\n\t// printProjection()\n\t// returns None\n\tmod.processing.printProjection();\n    });\n\n    mod.radians = new Sk.builtin.func(function (angle) {\n\t// radians(angle)\n\t// returns int or float\n\treturn new Sk.builtin.float_(mod.processing.radians(angle.v));\n    });\n\n    mod.randomSeed = new Sk.builtin.func(function (value) {\n\t// noiseSeed(value);\n\t// returns float\n\treturn new Sk.builtin.float_(mod.processing.randomSeed(value.v));\n    });\n\n    mod.random = new Sk.builtin.func(function (v1, v2) {\n\t// random();\n\t// random(high);\n\t// random(low, high);\n\t// returns float\n        if (typeof(v1) === "undefined") {\n\t    return new Sk.builtin.float_(mod.processing.random());\n        } else if (typeof(v2) === "undefined") {\n\t    return new Sk.builtin.float_(mod.processing.random(v1.v));\n        } else {\n\t    return new Sk.builtin.float_(mod.processing.random(v1.v, v2.v));\n\t}\n    });\n\n    mod.requestImage = new Sk.builtin.func(function (filename, extension) {\n\t// requestImage(filename)\n\t// requestImage(filename, extension)\n\tvar image = Sk.misceval.callsim(mod.PImage);\n        if (typeof(extension) === "undefined") {\n\t    image.v = mod.processing.requestImage(filename.v);\n        } else {\n\t    image.v = mod.processing.requestImage(filename.v, extension.v);\n\t}\n\treturn image;\n    });\n\n    mod.saturation = new Sk.builtin.func(function (color) {\n\t// saturation(color)\n\t// returns float\n\treturn new Sk.builtin.float_(mod.processing.saturation(color.v));\n    });\n\n    mod.save = new Sk.builtin.func(function (filename) {\n\t// save(filename)\n\t// returns None\n\tmod.processing.save(filename.v);\n    });\n\n    mod.saveFrame = new Sk.builtin.func(function (filename) {\n\t// saveFrame()\n\t// saveFrame(filename-####.ext)\n\t// returns None\n        if (typeof(filename) === "undefined") {\n\t    mod.processing.saveFrame();\n        } else {\n\t    mod.processing.saveFrame(filename.v);\n\t}\n    });\n\n    mod.saveStrings = new Sk.builtin.func(function (filename, strings) {\n\t// saveStrings(filename,strings)\n\tmod.processing.saveStrings(filename.v, strings.v);\n    });\n\n    mod.screenX = new Sk.builtin.func(function (x, y, z) {\n\t// screenX(x,y,z)\n\t// returns float\n\treturn new Sk.builtin.float_(mod.processing.screenX(x.v, y.v, z.v));\n    });\n\n    mod.screenY = new Sk.builtin.func(function (x, y, z) {\n\t// screenY(x,y,z)\n\t// returns float\n\treturn new Sk.builtin.float_(mod.processing.screenY(x.v, y.v, z.v));\n    });\n\n    mod.screenZ = new Sk.builtin.func(function (x, y, z) {\n\t// screenZ(x,y,z)\n\t// returns float\n\treturn new Sk.builtin.float_(mod.processing.screenZ(x.v, y.v, z.v));\n    });\n\n    mod.second = new Sk.builtin.func(function () {\n\treturn new Sk.builtin.int_(mod.processing.second());\n    });\n\n    mod.shape = new Sk.builtin.func(function (sh, x, y, width, height) {\n\t// shape(sh)\n\t// shape(sh,x,y)\n\t// shape(sh,x,y,width,height)\n\t// returns?\n        if (typeof(x) === "undefined") {\n\t    mod.processing.shape(sh.v);\n        } else if (typeof(y) === "undefined") {\n\t    mod.processing.shape(sh.v,x.v);\n        } else if (typeof(width) === "undefined") {\n\t    mod.processing.shape(sh.v,x.v,y.v);\n        } else if (typeof(height) === "undefined") {\n\t    mod.processing.shape(sh.v,x.v,y.v,width.v);\n        } else {\n\t    mod.processing.shape(sh.v,x.v,y.v,width.v,height.v);\n\t}\n    });\n\n    mod.shapeMode = new Sk.builtin.func(function (mode) {\n\t// shapeMode(MODE)\n\tmod.processing.shapeMode(mode.v);\n    });\n\n    mod.shininess = new Sk.builtin.func(function (shine) {\n\t// shininess(shine)\n\t// returns None\n\tmod.processing.shininess(shine.v);\n    });\n\n    mod.specular = new Sk.builtin.func(function (v1,v2,v3) {\n\t// specular(gray)\n\t// specular(color)\n\t// specular(v1,v2,v3)\n        if (typeof(v2) === "undefined") {\n\t    mod.processing.specular(v1.v);\n        } else if (typeof(v3) === "undefined") {\n\t    mod.processing.specular(v1.v,v2.v);\n        } else {\n\t    mod.processing.specular(v1.v,v2.v,v3.v);\n\t}\n    });\n\n    mod.spotLight = new Sk.builtin.func(function (v1,v2,v3,nx,ny,nz,angle,concentration) {\n\t// spotLight(v1,v2,v3,nx,ny,nz,angle,concentration)\n\t// returns None\n\tmod.processing.spotLight(v1.v,v2.v,v3.v,nx.v,ny.v,nz.v,angle.v,concentration.v);\n    });\n\n    mod.sq = new Sk.builtin.func(function (value) {\n\t// sq(value)\n\t// returns squared number\n\treturn new Sk.builtin.float_(mod.processing.sq(value));\n    });\n\n    mod.status = new Sk.builtin.func(function (text) {\n\t// status(text)\n\tmod.processing.status(text.v);\n    });\n\n    mod.textAlign = new Sk.builtin.func(function (align, yalign) {\n\t// textAlign(ALIGN)\n\t// textAlign(ALIGN, YALIGN)\n\t// returns None\n        if (typeof(yalign) === "undefined") {\n\t    mod.processing.textAlign(align.v);\n        } else {\n\t    mod.processing.textAlign(align.v, yalign.v);\n\t}\n    });\n\n    mod.textAscent = new Sk.builtin.func(function () {\n\t// returns float\n\treturn new Sk.builtin.float_(mod.processing.textAscent());\n    });\n\n    mod.textDescent = new Sk.builtin.func(function () {\n\t// returns float\n\treturn new Sk.builtin.float_(mod.processing.textDescent());\n    });\n\n    mod.textFont = new Sk.builtin.func(function (font, size) {\n\t// textFont(font)\n\t// textFont(font, size)\n        if (typeof(size) === "undefined") {\n\t    mod.processing.textFont(font.v);\n        } else {\n\t    mod.processing.textFont(font.v, size.v);\n\t}\n    });\n\n    mod.textLeading = new Sk.builtin.func(function (dist) {\n\t// textLeading(dist)\n\t// returns None\n\tmod.processing.textLeading(dist.v);\n    });\n\n    mod.textMode = new Sk.builtin.func(function (mode) {\n\t// textMode(MODE)\n\t// returns None\n\tmod.processing.textMode(mode.v);\n    });\n\n    mod.textSize = new Sk.builtin.func(function (size) {\n\t// textSize(size)\n\t// returns None\n\tmod.processing.textSize(size.v);\n    });\n\n    mod.texture = new Sk.builtin.func(function (img) {\n\t// texture(img)\n\t// returns None\n\tmod.processing.texture(img.v);\n    });\n\n    mod.textureMode = new Sk.builtin.func(function (mode) {\n\t// textureMode(MODE)\n\t// returns None\n\tmod.processing.textureMode(mode.v);\n    });\n\n    mod.textWidth = new Sk.builtin.func(function (data) {\n\t// textWidth(data)\n\t// returns float\n\treturn new Sk.builtin.float_(mod.processing.textWidth(data.v));\n    });\n\n    mod.tint = new Sk.builtin.func(function (v1, v2, v3, v4) {\n\t// tint(gray)\n\t// tint(gray, alpha)\n\t// tint(value1, value2, value3)\n\t// tint(value1, value2, value3, alpha)\n\t// tint(color)\n\t// tint(color, alpha)\n\t// tint(hex)\n\t// tint(hex, alpha)\n        if (typeof(v2) === "undefined") {\n\t    mod.processing.tint(v1.v);\n        } else if (typeof(v3) === "undefined") {\n\t    mod.processing.tint(v1.v, v2.v);\n        } else if (typeof(v4) === "undefined") {\n\t    mod.processing.tint(v1.v, v2.v, v3.v);\n        } else {\n\t    mod.processing.tint(v1.v, v2.v, v3.v, v4.v);\n\t}\n    });\n\n    mod.updatePixels = new Sk.builtin.func(function () {\n\t// updatePixels()\n\tmod.processing.updatePixels();\n    });\n\n    mod.vertex = new Sk.builtin.func(function (x, y, z, u, v) {\n\t// vertex(x, y); \n\t// vertex(x, y, z); \n\t// vertex(x, y, u, v); \n\t// vertex(x, y, z, u, v);\n        if (typeof(z) === "undefined") {\n\t    mod.processing.vertex(x.v, y.v);\n        } else if (typeof(u) === "undefined") {\n\t    mod.processing.vertex(x.v, y.v, z.v);\n        } else if (typeof(v) === "undefined") {\n\t    mod.processing.vertex(x.v, y.v, z.v, u.v);\n        } else {\n\t    mod.processing.vertex(x.v, y.v, z.v, u.v, v.v);\n\t}\n    });\n\n    mod.year = new Sk.builtin.func(function () {\n\treturn new Sk.builtin.int_(mod.processing.year());\n    });\n\n    // 3D Primitives\n\n    mod.box = new Sk.builtin.func(function(size) {\n        mod.processing.box(size.v);\n    });\n\n    mod.sphere = new Sk.builtin.func(function(radius) {\n        mod.processing.sphere(radius.v);\n    });\n\n    mod.sphereDetail = new Sk.builtin.func(function(res,vres) {\n        if (typeof(vres) === "undefined") {\n            mod.processing.sphereDetail(res.v);\n        }\n        else {\n            mod.processing.sphereDetail(res.v, vres.v);\n        }\n    });\n\n    // Color\n    mod.background = new Sk.builtin.func(function (r, g, b) {\n\n        if (typeof(g) !== "undefined") {\n            g = g.v;\n        }\n        if (typeof(b) !== "undefined") {\n            b = b.v;\n        }\n\n        mod.processing.background(r.v, g, b);\n\n    });\n\n    mod.fill = new Sk.builtin.func(function (r, g, b, alpha) {\n        // r will be either:\n        //      a number in which case the fill will be grayscale\n        //      a color object\n        // g, and b may be undefined.  If they hold values it will\n        // be assumed that we have an r,g,b color tuple\n        // alpha may also be undefined - if defined, it is the opacity of the fill\n        if (typeof(g) !== "undefined") {\n            g = g.v;\n        }\n        if (typeof(b) !== "undefined") {\n            b = b.v;\n        }\n        if (typeof(alpha) !== "undefined") {\n            alpha = alpha.v;\n        }\n\n        mod.processing.fill(r.v, g, b, alpha);\n\n    });\n\n\n    mod.stroke = new Sk.builtin.func(function (r, g, b) {\n\n        if (typeof(g) !== "undefined") {\n            g = g.v;\n        }\n        if (typeof(b) !== "undefined") {\n            b = b.v;\n        }\n\n        mod.processing.stroke(r.v, g, b);\n\n    });\n\n    mod.noStroke = new Sk.builtin.func(function () {\n        mod.processing.noStroke();\n    });\n\n\n    mod.colorMode = new Sk.builtin.func(function (mode, maxV, maxG, maxB, maxAlpha) {\n        // mode is one of RGB or HSB\n        // maxV is either the max value for all color elements\n        // or the range for Red/Hue (depending on mode) if maxG and maxB are defined\n        if (typeof(maxV) === "undefined") {\n            maxV = 255;\n        }\n        else {\n            maxV = maxV.v;\n        }\n        if (typeof(maxG) !== "undefined") {\n            maxG = maxG.v;\n        }\n        if (typeof(maxB) !== "undefined") {\n            maxB = maxB.v;\n        }\n        if (typeof(maxAlpha) !== "undefined") {\n            maxAlpha = maxAlpha.v;\n        }\n\n        mod.processing.colorMode(mode.v, maxV, maxG, maxB, maxAlpha);\n    });\n\n    mod.noFill = new Sk.builtin.func(function () {\n        mod.processing.noFill();\n    });\n\n\n    // Environment\n\n    mod.loop = new Sk.builtin.func(function () {\n        if (mod.processing === null) {\n            throw new Sk.builtin.Exception("loop() should be called after run()");\n        }\n        looping = true;\n        mod.processing.loop();\n    });\n\n    mod.noLoop = new Sk.builtin.func(function () {\n        if (mod.processing === null) {\n            throw new Sk.builtin.Exception("noLoop() should be called after run()");\n        }\n        looping = false;\n        mod.processing.noLoop();\n    });\n\n    // NOTE: difference with ProcessingJS\n    // frameRate is only a function, not a variable: \n    // use environment.frameRate for value\n    mod.frameRate = new Sk.builtin.func(function (fr) {\n        mod.processing.frameRate(fr.v);\n    });\n\n    // NOTE: difference with ProcessingJS\n    // Use mouse.pressed rather than mousePressed\n\n    // NOTE: difference with ProcessingJS\n    // Use environment.keyPressed rather than keyPressed\n\n    // NOTE: difference with ProcessingJS\n    // Use environment.frameCount \n\n    // NOTE: difference with ProcessingJS\n    // Use environment.frameCount\n    \n    // NOTE: difference with ProcessingJS\n    // Use environment.online\n\n    // NOTE: difference with ProcessingJS\n    // Use environment.focused\n\n    mod.width = new Sk.builtin.int_(100);\n    mod.height = new Sk.builtin.int_(100);\n\n    mod.size = new Sk.builtin.func(function (w, h, mode) {\n        if (typeof(mode) === "undefined") {\n            mode = mod.P2D;\n        }\n        mod.processing.size(w.v, h.v, mode.v);\n\tmod.width = new Sk.builtin.int_(mod.processing.width);\n\tmod.height = new Sk.builtin.int_(mod.processing.height);\n    });\n\n    mod.exitp = new Sk.builtin.func(function (h, w) {\n        mod.processing.exit();\n    });\n\n    // NOTE: difference with ProcessingJS\n    // Use mouseX() or mouse.x rather than mouseX\n    mod.mouseX = new Sk.builtin.func(function () {\n        return new Sk.builtin.int_(mod.processing.mouseX);\n    });\n\n    // NOTE: difference with ProcessingJS\n    // Use mouseY() or mouse.y rather than mouseY\n    mod.mouseY = new Sk.builtin.func(function () {\n        return new Sk.builtin.int_(mod.processing.mouseY);\n    });\n\n    // NOTE: difference with ProcessingJS\n    // Use pmouseX() or mouse.px rather than pmouseX\n    mod.pmouseX = new Sk.builtin.func(function () {\n        return new Sk.builtin.int_(mod.processing.pmouseX);\n    });\n\n    // NOTE: difference with ProcessingJS\n    // Use pmouseY() or mouse.py rather than pmouseY\n    mod.pmouseY = new Sk.builtin.func(function () {\n        return new Sk.builtin.int_(mod.processing.pmouseY);\n    });\n\n    // Attributes\n    mod.rectMode = new Sk.builtin.func(function (mode) {\n        mod.processing.rectMode(mode.v);\n    });\n\n    mod.strokeWeight = new Sk.builtin.func(function (wt) {\n        mod.processing.strokeWeight(wt.v);\n\n    });\n\n    mod.smooth = new Sk.builtin.func(function () {\n        mod.processing.smooth();\n    });\n\n    mod.noSmooth = new Sk.builtin.func(function () {\n        mod.processing.noSmooth();\n    });\n\n    mod.ellipseMode = new Sk.builtin.func(function (mode) {\n        mod.processing.ellipseMode(mode.v);\n    });\n\n    mod.strokeCap = new Sk.builtin.func(function (mode) {\n        mod.processing.strokeCap(mode.v);\n    });\n\n    mod.strokeJoin = new Sk.builtin.func(function (mode) {\n        mod.processing.strokeJoin(mode.v);\n    });\n\n\n    // Transforms\n    mod.rotate = new Sk.builtin.func(function (rads) {\n        // rotation in radians\n        mod.processing.rotate(rads.v);\n    });\n\n    mod.rotateX = new Sk.builtin.func(function(rads) {\n        mod.processing.rotateX(rads.v);\n    });\n\n    mod.rotateY = new Sk.builtin.func(function(rads) {\n        mod.processing.rotateY(rads.v);\n    });\n\n    mod.rotateZ = new Sk.builtin.func(function(rads) {\n        mod.processing.rotateZ(rads.v);\n    });\n\n    mod.scale = new Sk.builtin.func(function (sx, sy, sz) {\n        if (typeof(sy) === "undefined") {\n            sy = 1.0;\n        } else {\n            sy = sy.v;\n        }\n        if (typeof(sz) === "undefined") {\n            sz = 1.0;\n        } else {\n            sz = sz.v;\n        }\n        mod.processing.scale(sx.v, sy, sz);\n    });\n\n    mod.translate = new Sk.builtin.func(function (sx, sy, sz) {\n        if (typeof(sy) === "undefined") {\n            sy = 1.0;\n        } else {\n            sy = sy.v;\n        }\n        if (typeof(sz) === "undefined") {\n            sz = 1.0;\n        } else {\n            sz = sz.v;\n        }\n        mod.processing.translate(sx.v, sy, sz);\n    });\n\n    mod.popMatrix = new Sk.builtin.func(function() {\n        mod.processing.popMatrix();\n    });\n\n    mod.pushMatrix = new Sk.builtin.func(function() {\n        mod.processing.pushMatrix();\n    });\n\n    mod.applyMatrix = new Sk.builtin.func(function() {\n        var args = Array.prototype.slice.call(arguments, 0, 16),\n            i;\n\n        for (i = 0; i < args.length; i++) {\n            args[i] = typeof(args[i]) === "undefined" ? 0.0 : args[i].v;\n        }\n\n        mod.processing.applyMatrix.apply(mod.processing, args);\n    });\n\n    mod.resetMatrix = new Sk.builtin.func(function() {\n        mod.processing.resetMatrix();\n    });\n\n    mod.printMatrix = new Sk.builtin.func(function() {\n        return Sk.ffi.remapToPy(mod.processing.printMatrix());\n    });\n\n    //  //////////////////////////////////////////////////////////////////////\n    //  Run\n    // \n    //  Create the processing context and setup of calls to setup, draw etc.\n    //\n    //\n    //  //////////////////////////////////////////////////////////////////////    \n    mod.run = new Sk.builtin.func(function () {\n        function sketchProc (processing) {\n            mod.processing = processing;\n\n            // processing.setup = function() {\n            //     if Sk.globals["setup"]\n            //         Sk.misceval.callsim(Sk.globals["setup"])\n            // }\n\n\n            // FIXME if no Sk.globals["draw"], then no need for this\n            processing.draw = function () {\n                // if there are pending image loads then just use the natural looping calls to \n                // retry until all the images are loaded.  If noLoop was called in setup then make\n                // sure to revert to that after all the images in hand.\n                var wait = false;\n                for (var i in imList) {\n                    if (imList[i].width === 0) {\n                        wait = true;\n                    }\n                }\n                if (wait === true) {\n                    if (looping === true) {\n                        return;\n                    }\n                    else {\n                        processing.loop();\n                        return;\n                    }\n\n                } else {\n                    if (looping === false) {\n                        processing.noLoop();\n                    }\n                }\n\n                mod.frameCount = processing.frameCount;\n                if (Sk.globals["draw"]) {\n                \ttry {\n                   \t    Sk.misceval.callsim(Sk.globals["draw"]);\n                    }\n                    catch(e) {\n                        Sk.uncaughtException(e);\n                    }\n\t\t\t\t}\n            };\n\n            var callBacks = ["setup", "mouseMoved", "mouseClicked", "mouseDragged", "mouseMoved", "mouseOut",\n                "mouseOver", "mousePressed", "mouseReleased", "keyPressed", "keyReleased", "keyTyped"\n            ];\n            for (var cb in callBacks) {\n                if (Sk.globals[callBacks[cb]]) {\n                    processing[callBacks[cb]] = new Function("try {Sk.misceval.callsim(Sk.globals[\'" + callBacks[cb] + "\']);} catch(e) {Sk.uncaughtException(e);}");\n                }\n            }\n        }\n\n        var canvas = document.getElementById(Sk.canvas);\n        if (canvas.tagName !== "CANVAS") {\n            var mydiv = canvas;\n            canvas = document.createElement(\'canvas\');\n            while (mydiv.firstChild) {\n                mydiv.removeChild(mydiv.firstChild);\n            }\n            mydiv.appendChild(canvas);\n        }\n        window.$(canvas).show();\n        window.Processing.logger = { log : function(message) {\n            Sk.misceval.print_(message);\n        }};\n        // if a Processing instance already exists it\'s likely still running, stop it by exiting\n        instance = window.Processing.getInstanceById(Sk.canvas);\n        if (instance) {\n            instance.exit();\n        }\n        mod.p = new window.Processing(canvas, sketchProc);\n\n\n    });\n\n    mouseClass = function ($gbl, $loc) {\n\n        $loc.__getattr__ = new Sk.builtin.func(function (self, key) {\n\t    key = Sk.ffi.remapToJs(key);\n            if (key === "x") {\n                return Sk.builtin.assk$(mod.processing.mouseX);\n            }\n            else if (key === "y") {\n                return Sk.builtin.assk$(mod.processing.mouseY);\n            }\n            else if (key === "px") {\n                return Sk.builtin.assk$(mod.processing.pmouseX);\n            }\n            else if (key === "py") {\n                return Sk.builtin.assk$(mod.processing.pmouseY);\n            }\n            else if (key === "pressed") {\n                    return new Sk.builtin.bool(mod.processing.__mousePressed);\n            }\n            else if (key === "button") {\n                return Sk.builtin.assk$(mod.processing.mouseButton);\n            }\n        });\n\n    };\n\n\n    mod.Mouse = Sk.misceval.buildClass(mod, mouseClass, "Mouse", []);\n\n    mod.mouse = Sk.misceval.callsim(mod.Mouse);\n\n    keyboardClass = function ($gbl, $loc) {\n\n        $loc.__getattr__ = new Sk.builtin.func(function (self, key) {\n\t    key = Sk.ffi.remapToJs(key);\n            if (key === "key") {\n                return new Sk.builtin.str(mod.processing.key.toString());\n            }\n            else if (key === "keyCode") {\n                return Sk.builtin.assk$(mod.processing.keyCode);\n            }\n            else if (key === "keyPressed") {\n                return new Sk.builtin.str(mod.processing.keyPressed);\n            } // todo bool\n        });\n\n    };\n\n    mod.Keyboard = Sk.misceval.buildClass(mod, keyboardClass, "Keyboard", []);\n\n    mod.keyboard = Sk.misceval.callsim(mod.Keyboard);\n\n\n    environmentClass = function ($gbl, $loc) {\n\n        $loc.__getattr__ = new Sk.builtin.func(function (self, key) {\n\t    key = Sk.ffi.remapToJs(key);\n            if (key === "frameCount") {\n                return Sk.builtin.assk$(mod.processing.frameCount);\n            }\n            else if (key === "frameRate") {\n                return Sk.builtin.assk$(mod.processing.frameRate);\n            }\n            else if (key === "height") {\n                return Sk.builtin.assk$(mod.processing.height);\n            }\n            else if (key === "width") {\n                return Sk.builtin.assk$(mod.processing.width);\n            }\n            else if (key === "online") {\n                return new Sk.builtin.bool(mod.processing.online);\n            }\n            else if (key === "focused") {\n                return new Sk.builtin.bool(mod.processing.focused);\n            }\n        });\n\n    };\n\n    mod.Environment = Sk.misceval.buildClass(mod, environmentClass, "Environment", []);\n\n    mod.environment = Sk.misceval.callsim(mod.Environment);\n\n    screenClass = function ($gbl, $loc) {\n\n        $loc.__init__ = new Sk.builtin.func(function (self) {\n            self.pixels = null;\n        });\n\n        $loc.__getattr__ = new Sk.builtin.func(function (self, key) {\n\t    key = Sk.ffi.remapToJs(key);\n            if (key === "height") {\n                return Sk.builtin.assk$(mod.processing.height);\n            }\n            else if (key === "width") {\n                return Sk.builtin.assk$(mod.processing.width);\n            }\n            else if (key === "pixels") {\n                if (self.pixels == null) {\n                    self.pixels = new Sk.builtin.list(mod.processing.pixels.toArray());\n                }\n            }\n            return self.pixels;\n        });\n\n    };\n\n    mod.Screen = Sk.misceval.buildClass(mod, screenClass, "Screen", []);\n\n    mod.screen = Sk.misceval.callsim(mod.Screen);\n\n    mod.loadPixels = new Sk.builtin.func(function () {\n        mod.processing.loadPixels();\n    });\n\n\n    colorClass = function ($gbl, $loc) {\n        /* images are loaded async.. so its best to preload them */\n        $loc.__init__ = new Sk.builtin.func(function (self, val1, val2, val3, alpha) {\n            if (typeof(val2) !== "undefined") {\n                val2 = val2.v;\n            }\n            if (typeof(val3) !== "undefined") {\n                val3 = val3.v;\n            }\n            if (typeof(alpha) !== "undefined") {\n                alpha = alpha.v;\n            }\n            self.v = mod.processing.color(val1.v, val2, val3, alpha);\n        });\n\n    };\n\n    mod.color = Sk.misceval.buildClass(mod, colorClass, "color", []);\n\n    mod.red = new Sk.builtin.func(function (clr) {\n        return new Sk.builtin.int_(mod.processing.red(clr.v));\n    });\n\n    mod.green = new Sk.builtin.func(function (clr) {\n        return new Sk.builtin.int_(mod.processing.green(clr.v));\n    });\n\n    mod.blue = new Sk.builtin.func(function (clr) {\n        return new Sk.builtin.int_(mod.processing.blue(clr.v));\n    });\n\n    // Image class and functions\n    //\n    imageClass = function ($gbl, $loc) {\n        /* images are loaded async.. so its best to preload them */\n        $loc.__init__ = new Sk.builtin.func(function (self, arg1, arg2, arg3) {\n\t    // PImage()\n\t    // PImage(img)\n\t    // PImage(width,height)\n\t    // PImage(width,height,format)\n\t    if (typeof(arg1) === "undefined") {\n\t\tself.v = new mod.processing.PImage();\n\t    } else if (typeof(arg2) === "undefined") {\n\t\tself.v = new mod.processing.PImage(arg1.v);\n\t    } else if (typeof(arg3) === "undefined") {\n\t\tself.v = new mod.processing.PImage(arg1.v, arg2.v);\n\t    } else {\n\t\tself.v = new mod.processing.PImage(arg1.v, arg2.v, arg3.v);\n\t    }\n        });\n\n        $loc.__getattr__ = new Sk.builtin.func(function (self, key) {\n\t    key = Sk.ffi.remapToJs(key);\n            if (key === "width") {\n                return Sk.builtin.assk$(self.v.width);\n            }\n            if (key === "height") {\n                return Sk.builtin.assk$(self.v.height);\n            }\n        });\n\n    };\n\n    mod.loadImage = new Sk.builtin.func(function (imfile) {\n        var i = mod.processing.loadImage(imfile.v);\n        imList.push(i);\n\tvar image = Sk.misceval.callsim(mod.PImage);\n\timage.v = i;\n        return image;\n    });\n\n    mod.image = new Sk.builtin.func(function (im, x, y, w, h) {\n\t// image(img, x, y)\n\t// image(img, x, y, width, height)\n\tif (typeof(w) === "undefined") {\n            mod.processing.image(im.v, x.v, y.v);\n\t} else {\n            mod.processing.image(im.v, x.v, y.v, w.v, h.v);\n        }\n    });\n\n    mod.get = new Sk.builtin.func(function (x, y) {\n        var clr = mod.processing.get(x.v, y.v);\n        return Sk.misceval.callsim(mod.color,\n            new Sk.builtin.int_(mod.processing.red(clr)),\n            new Sk.builtin.int_(mod.processing.green(clr)),\n            new Sk.builtin.int_(mod.processing.blue(clr)));\n    });\n\n    mod.set = new Sk.builtin.func(function (x, y, color) {\n        mod.processing.set(x.v, y.v, color.v);\n    });\n\n    // --- classes\n\n    vectorClass = function ($gbl, $loc) {\n        $loc.__init__ = new Sk.builtin.func(function (self, x, y, z) {\n\t    // PVector()\n\t    // PVector(x,y)\n\t    // PVector(x,y,z)\n            if (typeof(x) === "undefined") {\n\t\tself.v = new mod.processing.PVector();\n            } else if (typeof(z) === "undefined") {\n\t\tself.v = new mod.processing.PVector(x.v, y.v);\n            } else {\n\t\tself.v = new mod.processing.PVector(x.v, y.v, z.v);\n\t    }\n        });\n\n        $loc.__getattr__ = new Sk.builtin.func(function (self, key) {\n\t    key = Sk.ffi.remapToJs(key);\n            if (key === "x") {\n                return Sk.builtin.assk$(self.v.x);\n            } else if (key === "y") {\n                return Sk.builtin.assk$(self.v.y);\n            } else if (key === "z") {\n                return Sk.builtin.assk$(self.v.z);\n\t    }\n\t});\n\t    \n        $loc.get = new Sk.builtin.func(function (self) {\n\t    // get() Gets a copy of the vector\n            var new_vec = Sk.misceval.callsim(mod.PVector);\n\t    new_vec.v = self.v.get();\n\t    return new_vec;\n\t});\n\t\n\t$loc.set = new Sk.builtin.func(function (self, x, y, x) {\n\t    // set() Sets the x, y, z component of the vector\n\t    if (typeof(z) === "undefined") {\n\t\tself.v.set(x.v, y.v);\n\t    } else {\n\t\tself.v.set(x.v, y.v, z.v);\n\t    }\n\t});\n\n\t$loc.mag = new Sk.builtin.func(function (self) {\n\t    // mag() Calculates the magnitude (length) of the vector\n\t    // and returns the result as a float\n\t    return Sk.builtin.assk$(self.v.mag());\n\t});\n\n\t$loc.add = new Sk.builtin.func(function (self, vec) {\n\t    // add()\tAdds one vector to another\n            var new_vec = Sk.misceval.callsim(mod.PVector);\n\t    new_vec.v = self.v.add(vec.v);\n\t    return new_vec;\n\t});\n\n\t$loc.sub = new Sk.builtin.func(function (self, vec) {\n\t    // sub()\tSubtracts one vector from another\n            var new_vec = Sk.misceval.callsim(mod.PVector);\n\t    new_vec.v = self.v.sub(vec.v);\n\t    return new_vec;\n\t});\n\n\t$loc.mult = new Sk.builtin.func(function (self, vec) {\n\t    // mult()\tMultiplies the vector by a scalar\n            var new_vec = Sk.misceval.callsim(mod.PVector);\n\t    new_vec.v = self.v.mult(vec.v);\n\t    return new_vec;\n\t});\n\n\t$loc.div = new Sk.builtin.func(function (self, vec) {\n\t    // div()\tDivides the vector by a scalar\n            var new_vec = Sk.misceval.callsim(mod.PVector);\n\t    new_vec.v = self.v.dic(vec.v);\n\t    return new_vec;\n\t});\n\n\t$loc.dist = new Sk.builtin.func(function (self, vec) {\n\t    // dist()\tCalculate the Euclidean distance between two points\n\t    return Sk.builtin.assk$(self.v.dist(vec.v));\n\t});\n\n\t$loc.dot = new Sk.builtin.func(function (self, v1, v2, v3) {\n\t    // dot()\tCalculates the dot product\n\t    // returns float\n\t    // vec.dot(x,y,z)\n\t    // vec.dot(v)\t    \n\t    if (typeof(v2) === \'undefined\') {\n\t\treturn Sk.builtin.assk$(self.v.dot(v1.v));\n\t    } else {\n\t\treturn Sk.builtin.assk$(self.v.dot(v1.v, v2.v, v3.v));\n\t    }\n\t});\n\n\t$loc.cross = new Sk.builtin.func(function (self, vec) {\n\t    // cross()\tCalculates the cross product\n            var new_vec = Sk.misceval.callsim(mod.PVector);\n\t    new_vec.v = self.v.cross(vec.v);\n\t    return new_vec;\n\t});\n\n\t$loc.normalize = new Sk.builtin.func(function (self) {\n\t    // normalize()\tNormalizes the vector\n\t    self.v.normalize();\n\t});\n\n\t$loc.limit = new Sk.builtin.func(function (self, value) {\n\t    // limit()\tLimits the magnitude of the vector\n\t    self.v.limit(value.v);\n\t});\n\n\t$loc.angleBetween = new Sk.builtin.func(function (self, vec) {\n\t    // angleBetween()\tCalculates the angle between two vectors\n\t    return Sk.builtin.assk$(self.v.angleBetween(vec.v));\n\t});\n\n\t$loc.array = new Sk.builtin.func(function (self) {\n\t    // array()\t\n\t    return new Sk.builtin.list(self.v.array());\n\t});\n    };\n\n    fontClass = function ($gbl, $loc) {\n        $loc.__init__ = new Sk.builtin.func(function (self, input) {\n\t    // PFont()\n\t    // PFont(input)\n            if (typeof(input) === "undefined") {\n\t\tself.v = new mod.processing.PFont();\n            } else {\n\t\tself.v = new mod.processing.PVector(input.v);\n\t    }\n        });\n\n        $loc.list = new Sk.builtin.func(function (self) {\n\t    // font.list()\n\t    return new Sk.builtin.list(self.v.list());\n\t});\n    };\n\n    graphicsClass = function ($gbl, $loc) {\n        $loc.__init__ = new Sk.builtin.func(function (self, x, y, z) {\n\t    // PGraphics()\n\t    // PGraphics(width,height)\n\t    // PGraphics(width,height,applet)\n            if (typeof(x) === "undefined") {\n\t\tself.v = new mod.processing.PVector();\n            } else if (typeof(z) === "undefined") {\n\t\tself.v = new mod.processing.PVector(x.v, y.v);\n            } else {\n\t\tself.v = new mod.processing.PVector(x.v, y.v, z.v);\n\t    }\n        });\n\n        $loc.beginDraw = new Sk.builtin.func(function (self) {\n\t    self.v.beginDraw();\n\t});\n\n        $loc.endDraw = new Sk.builtin.func(function (self) {\n\t    self.v.endDraw();\n\t});\n    };\n    \n    shapeClass = function ($gbl, $loc) {\n        $loc.__init__ = new Sk.builtin.func(function (self, arg1, arg2, arg3) {\n\t    if (typeof(arg1) === "undefined") {\n\t\t// special version for Skulpt\n\t\tself.v = null;\n\t\t// Will fill in manually in getChild()\n\t    } else if (typeof(arg2) === "undefined") {\n\t\tself.v = new mod.processing.PShapeSVG(arg1.v);\n\t    } else if (typeof(arg3) === "undefined") {\n\t\tself.v = new mod.processing.PShapeSVG(arg1.v, arg2.v);\n\t    } else {\n\t\tself.v = new mod.processing.PShapeSVG(arg1.v, arg2.v, arg3.v);\n\t    }\n        });\n\n        $loc.__getattr__ = new Sk.builtin.func(function (self, key) {\n\t    key = Sk.ffi.remapToJs(key);\n            if (key === "width") {\n                return Sk.builtin.assk$(self.v.width);\n            } else if (key === "height") {\n                return Sk.builtin.assk$(self.v.height);\n\t    }\n\t});\n\n        $loc.isVisible = new Sk.builtin.func(function (self) {\n\t    // isVisible() Returns a boolean value "true" if the image is set to be visible, "false" if not\n\t    return new Sk.builtin.bool(self.v.isVisible());\n\t});\n\n        $loc.setVisible = new Sk.builtin.func(function (self, value) {\n\t    // setVisible() Sets the shape to be visible or invisible\n\t    self.v.setVisible(value.v);\n\t});\n\n        $loc.disableStyle = new Sk.builtin.func(function (self) {\n\t    // disableStyle() Disables the shape\'s style data and uses Processing styles\n\t    self.v.disableStyle();\n\t});\n\n        $loc.enableStyle = new Sk.builtin.func(function (self) {\n\t    // enableStyle() Enables the shape\'s style data and ignores the Processing styles\n\t    self.v.enableStyle();\n\t});\n\n        $loc.getChild = new Sk.builtin.func(function (self, shape) {\n\t    // getChild() Returns a child element of a shape as a PShapeSVG object\n\t    var child = self.v.getChild(shape.v);\n\t    if (child != null) {\n\t\t// special method for Skulpt:\n\t\tvar new_shape = Sk.misceval.callsim(mod.PShapeSVG);\n\t\t// Now fill in value:\n\t\tnew_shape.v = child;\n\t\treturn new_shape;\n\t    } else {\n\t\treturn null;\n\t    }\n\t});\n\n        $loc.translate = new Sk.builtin.func(function (self, x, y, z) {\n\t    // translate() Displaces the shape\n\t    // sh.translate(x,y)\n\t    // sh.translate(x,y,z)\n            if (typeof(z) === "undefined") {\n\t\tself.v.translate(x.v, y.v);\n\t    } else {\n\t\tself.v.translate(x.v, y.v, z.v);\n\t    }\n\t});\n\n        $loc.rotate = new Sk.builtin.func(function (self, angle) {\n\t    // rotate() Rotates the shape\n\t    self.v.rotate(angle.v);\n\t});\n\n        $loc.rotateX = new Sk.builtin.func(function (self, angle) {\n\t    // rotateX() Rotates the shape around the x-axis\n\t    self.v.rotateX(angle.v);\n\t});\n\n        $loc.rotateY = new Sk.builtin.func(function (self) {\n\t    // rotateY() Rotates the shape around the y-axis\n\t    self.v.rotateY(angle.v);\n\t});\n\n        $loc.rotateZ = new Sk.builtin.func(function (self) {\n\t    // rotateZ() Rotates the shape around the z-axis\n\t    self.v.rotateZ(angle.v);\n\t});\n\n        $loc.scale = new Sk.builtin.func(function (self, x, y, z) {\n\t    // scale() Increases and decreases the size of a shape\n\t    // sh.scale(size)\n\t    // sh.scale(x,y)\n\t    // sh.scale(x,y,z)\n            if (typeof(y) === "undefined") {\n\t\tself.v.scale(x.v);\n\t    } else if (typeof(z) === "undefined") {\n\t\tself.v.scale(x.v, y.v);\n\t    } else {\n\t\tself.v.scale(x.v, y.v, z.v);\n\t    }\n\t});\n    };\n\n    mod.PFont = Sk.misceval.buildClass(mod, fontClass, "PFont", []);\n    mod.PGraphics = Sk.misceval.buildClass(mod, graphicsClass, "PGraphics", []);\n    mod.PShapeSVG = Sk.misceval.buildClass(mod, shapeClass, "PShapeSVG", []);\n    mod.PVector = Sk.misceval.buildClass(mod, vectorClass, "PVector", []);\n    mod.PImage = Sk.misceval.buildClass(mod, imageClass, "PImage", []);\n\n    return mod;\n};\n',"src/lib/codeop.py":'raise NotImplementedError("codeop is not yet implemented in Skulpt")\n',"src/lib/shlex.py":'raise NotImplementedError("shlex is not yet implemented in Skulpt")\n',"src/lib/sre_compile.py":'raise NotImplementedError("sre_compile is not yet implemented in Skulpt")\n',"src/lib/contextlib.py":'raise NotImplementedError("contextlib is not yet implemented in Skulpt")\n',"src/lib/hmac.py":'raise NotImplementedError("hmac is not yet implemented in Skulpt")\n',"src/lib/poplib.py":'raise NotImplementedError("poplib is not yet implemented in Skulpt")\n',"src/lib/anydbm.py":'raise NotImplementedError("anydbm is not yet implemented in Skulpt")\n',"src/lib/unittest/gui.py":"import document\nfrom unittest import TestCase\n\nclass TestCaseGui(TestCase):\n     def __init__(self):\n          TestCase.__init__(self)\n          self.divid = document.currentDiv()\n          self.mydiv = document.getElementById(self.divid)\n          res = document.getElementById(self.divid+'_unit_results')\n          if res:\n              self.resdiv = res\n              res.innerHTML = ''\n          else:\n              self.resdiv = document.createElement('div')\n              self.resdiv.setAttribute('id',self.divid+'_unit_results')\n              self.resdiv.setAttribute('class','unittest-results')\n              self.mydiv.appendChild(self.resdiv)\n\n\n     def main(self):\n         t = document.createElement('table')\n         self.resTable = t\n         self.resdiv.appendChild(self.resTable)\n\n         headers = ['Result','Actual Value','Expected Value','Notes']\n         row = document.createElement('tr')\n         for item in headers:\n             head = document.createElement('th')\n             head.setAttribute('class','ac-feedback')\n             head.innerHTML = item\n             head.setCSS('text-align','center')\n             row.appendChild(head)\n         self.resTable.appendChild(row)\n\n         for func in self.tlist:\n             try:\n                 self.setUp()\n                 func()\n                 self.tearDown()\n             except Exception as e:\n                 self.appendResult('Error', None, None, e)\n                 self.numFailed += 1\n                 self.showSummary()\n\n     def appendResult(self,res,actual,expected,param):\n         trimActual = False\n         if len(str(actual)) > 15:\n             trimActual = True\n             actualType = type(actual)\n         trimExpected = False\n         if len(str(expected)) > 15:\n             trimExpected = True\n             expectedType = type(expected)\n         row = document.createElement('tr')\n         err = False\n         if res == 'Error':\n             err = True\n             msg = 'Error: %s' % param\n             errorData = document.createElement('td')\n             errorData.setAttribute('class','ac-feedback')\n             errorData.innerHTML = 'ERROR'\n             errorData.setCSS('background-color','#de8e96')\n             errorData.setCSS('text-align','center')\n             row.appendChild(errorData)\n         elif res:\n             passed = document.createElement('td')\n             passed.setAttribute('class','ac-feedback')\n             passed.innerHTML = 'Pass'\n             passed.setCSS('background-color','#83d382')\n             passed.setCSS('text-align','center')\n             row.appendChild(passed)\n             self.numPassed += 1\n         else:\n             fail = document.createElement('td')\n             fail.setAttribute('class','ac-feedback')\n             fail.innerHTML = 'Fail'\n             fail.setCSS('background-color','#de8e96')\n             fail.setCSS('text-align','center')\n             row.appendChild(fail)\n             self.numFailed += 1\n\n\n         act = document.createElement('td')\n         act.setAttribute('class','ac-feedback')\n         if trimActual:\n             actHTML = str(actual)[:5] + \"...\" + str(actual)[-5:]\n             if actualType == str:\n                 actHTML = repr(actHTML)\n             act.innerHTML = actHTML\n         else:\n             act.innerHTML = repr(actual)\n         act.setCSS('text-align','center')\n         row.appendChild(act)\n\n         expect = document.createElement('td')\n         expect.setAttribute('class','ac-feedback')\n\n         if trimExpected:\n             expectedHTML = str(expected)[:5] + \"...\" + str(expected)[-5:]\n             if expectedType == str:\n                 expectedHTML = repr(expectedHTML)\n             expect.innerHTML = expectedHTML\n         else:\n             expect.innerHTML = repr(expected)\n         expect.setCSS('text-align','center')\n         row.appendChild(expect)\n         inp = document.createElement('td')\n         inp.setAttribute('class','ac-feedback')\n\n         if err:\n             inp.innerHTML = msg\n         else:\n             inp.innerHTML = param\n         inp.setCSS('text-align','center')\n         row.appendChild(inp)\n         self.resTable.appendChild(row)\n\n\n     def showSummary(self):\n         pct = self.numPassed / (self.numPassed+self.numFailed) * 100\n         pTag = document.createElement('p')\n         pTag.innerHTML = \"You passed: \" + str(pct) + \"% of the tests\"\n         self.resdiv.appendChild(pTag)\n","src/lib/os.py":'raise NotImplementedError("os is not yet implemented in Skulpt")\n',"src/lib/pythonds/basic/__init__.py":'\n#__all__ = ["stack"]\n\n\n#from .stack import Stack\n#from .queue import Queue\n\n\n\n',"src/lib/sha.py":'raise NotImplementedError("sha is not yet implemented in Skulpt")\n',"src/lib/locale.py":'raise NotImplementedError("locale is not yet implemented in Skulpt")\n',"src/lib/getopt.py":'raise NotImplementedError("getopt is not yet implemented in Skulpt")\n',"src/lib/stringold.py":'raise NotImplementedError("stringold is not yet implemented in Skulpt")\n',"src/lib/stringprep.py":'raise NotImplementedError("stringprep is not yet implemented in Skulpt")\n',"src/lib/fnmatch.py":'raise NotImplementedError("fnmatch is not yet implemented in Skulpt")\n',"src/lib/sre_parse.py":'raise NotImplementedError("sre_parse is not yet implemented in Skulpt")\n',"src/lib/multifile.py":'raise NotImplementedError("multifile is not yet implemented in Skulpt")\n',"src/lib/idlelib/Icons/__init__.py":'raise NotImplementedError("Icons is not yet implemented in Skulpt")\n',"src/lib/copy_reg.py":'raise NotImplementedError("copy_reg is not yet implemented in Skulpt")\n',"src/lib/sre.py":'raise NotImplementedError("sre is not yet implemented in Skulpt")\n',"src/lib/htmlentitydefs.py":'raise NotImplementedError("htmlentitydefs is not yet implemented in Skulpt")\n',"src/lib/_MozillaCookieJar.py":'raise NotImplementedError("_MozillaCookieJar is not yet implemented in Skulpt")\n',"src/lib/cgitb.py":'raise NotImplementedError("cgitb is not yet implemented in Skulpt")\n',"src/lib/statvfs.py":'raise NotImplementedError("statvfs is not yet implemented in Skulpt")\n',"src/lib/chunk.py":'raise NotImplementedError("chunk is not yet implemented in Skulpt")\n',"src/lib/ctypes/macholib/__init__.py":'raise NotImplementedError("macholib is not yet implemented in Skulpt")\n',"src/lib/linecache.py":'raise NotImplementedError("linecache is not yet implemented in Skulpt")\n',"src/lib/math.js":'var $builtinmodule = function (name) {\n    var mod = {};\n    mod.pi = new Sk.builtin.float_(Math.PI);\n    mod.e = new Sk.builtin.float_(Math.E);\n\n    mod.fabs = new Sk.builtin.func(function (x) {\n        Sk.builtin.pyCheckArgs("fabs", arguments, 1, 1);\n        Sk.builtin.pyCheckType("x", "number", Sk.builtin.checkNumber(x));\n\n        return new Sk.builtin.float_(Math.abs(Sk.builtin.asnum$(x)));\n    });\n\n    mod.asin = new Sk.builtin.func(function (rad) {\n        Sk.builtin.pyCheckArgs("asin", arguments, 1, 1);\n        Sk.builtin.pyCheckType("rad", "number", Sk.builtin.checkNumber(rad));\n\n        return new Sk.builtin.float_(Math.asin(Sk.builtin.asnum$(rad)));\n    });\n\n    mod.acos = new Sk.builtin.func(function (rad) {\n        Sk.builtin.pyCheckArgs("acos", arguments, 1, 1);\n        Sk.builtin.pyCheckType("rad", "number", Sk.builtin.checkNumber(rad));\n\n        return new Sk.builtin.float_(Math.acos(Sk.builtin.asnum$(rad)));\n    });\n\n    mod.atan = new Sk.builtin.func(function (rad) {\n        Sk.builtin.pyCheckArgs("atan", arguments, 1, 1);\n        Sk.builtin.pyCheckType("rad", "number", Sk.builtin.checkNumber(rad));\n\n        return new Sk.builtin.float_(Math.atan(Sk.builtin.asnum$(rad)));\n    });\n\n    mod.atan2 = new Sk.builtin.func(function (y, x) {\n        Sk.builtin.pyCheckArgs("atan2", arguments, 2, 2);\n        Sk.builtin.pyCheckType("y", "number", Sk.builtin.checkNumber(y));\n        Sk.builtin.pyCheckType("x", "number", Sk.builtin.checkNumber(x));\n\n        return new Sk.builtin.float_(Math.atan2(Sk.builtin.asnum$(y), Sk.builtin.asnum$(x)));\n    });\n\n    mod.sin = new Sk.builtin.func(function (rad) {\n        Sk.builtin.pyCheckArgs("sin", arguments, 1, 1);\n        Sk.builtin.pyCheckType("rad", "number", Sk.builtin.checkNumber(rad));\n\n        return new Sk.builtin.float_(Math.sin(Sk.builtin.asnum$(rad)));\n    });\n\n    mod.cos = new Sk.builtin.func(function (rad) {\n        Sk.builtin.pyCheckArgs("cos", arguments, 1, 1);\n        Sk.builtin.pyCheckType("rad", "number", Sk.builtin.checkNumber(rad));\n\n        return new Sk.builtin.float_(Math.cos(Sk.builtin.asnum$(rad)));\n    });\n\n    mod.tan = new Sk.builtin.func(function (rad) {\n        Sk.builtin.pyCheckArgs("tan", arguments, 1, 1);\n        Sk.builtin.pyCheckType("rad", "number", Sk.builtin.checkNumber(rad));\n\n        return new Sk.builtin.float_(Math.tan(Sk.builtin.asnum$(rad)));\n    });\n\n    mod.asinh = new Sk.builtin.func(function (x) {\n        Sk.builtin.pyCheckArgs("asinh", arguments, 1, 1);\n        Sk.builtin.pyCheckType("x", "number", Sk.builtin.checkNumber(x));\n\n        x = Sk.builtin.asnum$(x);\n\n        var L = x + Math.sqrt(x * x + 1);\n\n        return new Sk.builtin.float_(Math.log(L));\n    });\n\n    mod.acosh = new Sk.builtin.func(function (x) {\n        Sk.builtin.pyCheckArgs("acosh", arguments, 1, 1);\n        Sk.builtin.pyCheckType("x", "number", Sk.builtin.checkNumber(x));\n\n        x = Sk.builtin.asnum$(x);\n\n        var L = x + Math.sqrt(x * x - 1);\n\n        return new Sk.builtin.float_(Math.log(L));\n    });\n\n    mod.atanh = new Sk.builtin.func(function (x) {\n        Sk.builtin.pyCheckArgs("atanh", arguments, 1, 1);\n        Sk.builtin.pyCheckType("x", "number", Sk.builtin.checkNumber(x));\n\n        x = Sk.builtin.asnum$(x);\n\n        var L = (1 + x) / (1 - x);\n\n        return new Sk.builtin.float_(Math.log(L) / 2);\n    });\n\n    mod.sinh = new Sk.builtin.func(function (x) {\n        Sk.builtin.pyCheckArgs("sinh", arguments, 1, 1);\n        Sk.builtin.pyCheckType("x", "number", Sk.builtin.checkNumber(x));\n\n        x = Sk.builtin.asnum$(x);\n\n        var e = Math.E;\n        var p = Math.pow(e, x);\n        var n = 1 / p;\n        var result = (p - n) / 2;\n\n        return new Sk.builtin.float_(result);\n    });\n\n    mod.cosh = new Sk.builtin.func(function (x) {\n        Sk.builtin.pyCheckArgs("cosh", arguments, 1, 1);\n        Sk.builtin.pyCheckType("x", "number", Sk.builtin.checkNumber(x));\n\n        x = Sk.builtin.asnum$(x);\n\n        var e = Math.E;\n        var p = Math.pow(e, x);\n        var n = 1 / p;\n        var result = (p + n) / 2;\n\n        return new Sk.builtin.float_(result);\n    });\n\n    mod.tanh = new Sk.builtin.func(function (x) {\n        Sk.builtin.pyCheckArgs("tanh", arguments, 1, 1);\n        Sk.builtin.pyCheckType("x", "number", Sk.builtin.checkNumber(x));\n\n        x = Sk.builtin.asnum$(x);\n\n        var e = Math.E;\n        var p = Math.pow(e, x);\n        var n = 1 / p;\n        var result = ((p - n) / 2) / ((p + n) / 2);\n\n        return new Sk.builtin.float_(result);\n    });\n\n    mod.ceil = new Sk.builtin.func(function (x) {\n        Sk.builtin.pyCheckArgs("ceil", arguments, 1, 1);\n        Sk.builtin.pyCheckType("x", "number", Sk.builtin.checkNumber(x));\n\n        return new Sk.builtin.float_(Math.ceil(Sk.builtin.asnum$(x)));\n    });\n\n    // returns y with the sign of x\n    mod.copysign = new Sk.builtin.func(function (x, y) {\n        Sk.builtin.pyCheckArgs("ceil", arguments, 2, 2);\n        Sk.builtin.pyCheckType("x", "number", Sk.builtin.checkNumber(x));\n        Sk.builtin.pyCheckType("y", "number", Sk.builtin.checkNumber(y));\n\n        var _x = Sk.ffi.remapToJs(x);\n        var _y = Sk.ffi.remapToJs(y);\n        var res;\n\n        var isNeg_x = _x < 0;\n        var isNeg_y = _x < 0;\n\n        // special case for floats with negative zero\n        if(Sk.builtin.checkFloat(x)) {\n            if(_x === 0) {\n                isNeg_x = 1/_x === -Infinity ? true : false;\n            }\n        }\n\n        if(Sk.builtin.checkFloat(y)) {\n            if(_y === 0) {\n                isNeg_y = 1/_y === -Infinity ? true : false;\n            }\n        }\n\n        // if both signs are equal, just return _y\n        if((isNeg_x && isNeg_y) || (!isNeg_x && !isNeg_y)) {\n            res = _y;\n        } else if((isNeg_x && !isNeg_y) || (!isNeg_x && isNeg_y)) {\n            // if different, invert sign\n            if(y === 0) {\n                // special case for zero\n                res = isNeg_x ? -0.0 : 0.0;\n            } else {\n                res = _y * -1;\n            }\n        }\n\n        return new Sk.builtin.float_(res);\n    });\n\n    mod.floor = new Sk.builtin.func(function (x) {\n        Sk.builtin.pyCheckArgs("floor", arguments, 1, 1);\n        Sk.builtin.pyCheckType("x", "number", Sk.builtin.checkNumber(x));\n\n        return new Sk.builtin.float_(Math.floor(Sk.builtin.asnum$(x)));\n    });\n\n    mod.sqrt = new Sk.builtin.func(function (x) {\n        Sk.builtin.pyCheckArgs("sqrt", arguments, 1, 1);\n        Sk.builtin.pyCheckType("x", "number", Sk.builtin.checkNumber(x));\n\n        return new Sk.builtin.float_(Math.sqrt(Sk.builtin.asnum$(x)));\n    });\n\n    mod.trunc = new Sk.builtin.func(function (x) {\n        Sk.builtin.pyCheckArgs("trunc", arguments, 1, 1);\n        Sk.builtin.pyCheckType("x", "number", Sk.builtin.checkNumber(x));\n\n        return new Sk.builtin.int_(Sk.builtin.asnum$(x) | 0);\n    });\n\n    mod.log = new Sk.builtin.func(function (x, base) {\n        Sk.builtin.pyCheckArgs("log", arguments, 1, 2);\n        Sk.builtin.pyCheckType("x", "number", Sk.builtin.checkNumber(x));\n\n        if (base === undefined) {\n            return new Sk.builtin.float_(Math.log(Sk.builtin.asnum$(x)));\n        } else {\n            Sk.builtin.pyCheckType("base", "number", Sk.builtin.checkNumber(base));\n            var ret = Math.log(Sk.builtin.asnum$(x)) / Math.log(Sk.builtin.asnum$(base));\n            return new Sk.builtin.float_(ret);\n        }\n    });\n\n    mod.log10 = new Sk.builtin.func(function (x) {\n        Sk.builtin.pyCheckArgs("log10", arguments, 1, 1);\n        Sk.builtin.pyCheckType("x", "number", Sk.builtin.checkNumber(x));\n\n        var ret = Math.log(Sk.builtin.asnum$(x)) / Math.log(10);\n        return new Sk.builtin.float_(ret);\n    });\n\n    /* Return True if x is infinite, and False otherwise. */\n    mod.isinf = new Sk.builtin.func(function(x) {\n        Sk.builtin.pyCheckArgs("isinf", arguments, 1, 1);\n        Sk.builtin.pyCheckType("x", "number", Sk.builtin.checkNumber(x));\n\n        var _x = Sk.builtin.asnum$(x);\n        if(isFinite(_x) && !isNaN(_x)) {\n            return Sk.builtin.bool.false$;\n        } else {\n            return Sk.builtin.bool.true$\n        }\n    });\n\n    /* Return True if x is a NaN (not a number), and False otherwise. */\n    mod.isnan = new Sk.builtin.func(function(x) {\n        Sk.builtin.pyCheckArgs("isnan", arguments, 1, 1);\n        Sk.builtin.pyCheckType("x", "float", Sk.builtin.checkFloat(x));\n\n        var _x = Sk.builtin.asnum$(x);\n        if(isNaN(_x)) {\n            return Sk.builtin.bool.true$;\n        } else {\n            return Sk.builtin.bool.false$;\n        }\n    });\n\n    mod.exp = new Sk.builtin.func(function (x) {\n        Sk.builtin.pyCheckArgs("exp", arguments, 1, 1);\n        Sk.builtin.pyCheckType("x", "number", Sk.builtin.checkNumber(x));\n\n        return new Sk.builtin.float_(Math.exp(Sk.builtin.asnum$(x)));\n    });\n\n    mod.pow = new Sk.builtin.func(function (x, y) {\n        Sk.builtin.pyCheckArgs("pow", arguments, 2, 2);\n        Sk.builtin.pyCheckType("x", "number", Sk.builtin.checkNumber(x));\n        Sk.builtin.pyCheckType("y", "number", Sk.builtin.checkNumber(y));\n\n        return new Sk.builtin.float_(Math.pow(Sk.builtin.asnum$(x), Sk.builtin.asnum$(y)));\n    });\n\n    mod.radians = new Sk.builtin.func(function (deg) {\n        Sk.builtin.pyCheckArgs("radians", arguments, 1, 1);\n        Sk.builtin.pyCheckType("deg", "number", Sk.builtin.checkNumber(deg));\n\n        var ret = Math.PI / 180.0 * Sk.builtin.asnum$(deg);\n        return new Sk.builtin.float_(ret);\n    });\n\n    mod.degrees = new Sk.builtin.func(function (rad) {\n        Sk.builtin.pyCheckArgs("degrees", arguments, 1, 1);\n        Sk.builtin.pyCheckType("rad", "number", Sk.builtin.checkNumber(rad));\n\n        var ret = 180.0 / Math.PI * Sk.builtin.asnum$(rad);\n        return new Sk.builtin.float_(ret);\n    });\n\n    mod.hypot = new Sk.builtin.func(function (x, y) {\n        Sk.builtin.pyCheckArgs("hypot", arguments, 2, 2);\n        Sk.builtin.pyCheckType("x", "number", Sk.builtin.checkNumber(x));\n        Sk.builtin.pyCheckType("y", "number", Sk.builtin.checkNumber(y));\n\n        x = Sk.builtin.asnum$(x);\n        y = Sk.builtin.asnum$(y);\n        return new Sk.builtin.float_(Math.sqrt((x * x) + (y * y)));\n    });\n\n    mod.factorial = new Sk.builtin.func(function (x) {\n        Sk.builtin.pyCheckArgs("factorial", arguments, 1, 1);\n        Sk.builtin.pyCheckType("x", "number", Sk.builtin.checkNumber(x));\n\n        x = Math.floor(Sk.builtin.asnum$(x));\n        var r = 1;\n        for (var i = 2; i <= x; i++) {\n            r *= i;\n        }\n        return new Sk.builtin.int_(r);\n    });\n\n    return mod;\n}',"src/lib/BaseHTTPServer.py":'raise NotImplementedError("BaseHTTPServer is not yet implemented in Skulpt")\n',"src/lib/cmd.py":'raise NotImplementedError("cmd is not yet implemented in Skulpt")\n',"src/lib/filecmp.py":'raise NotImplementedError("filecmp is not yet implemented in Skulpt")\n',"src/lib/lib2to3/fixes/__init__.py":'raise NotImplementedError("fixes is not yet implemented in Skulpt")\n',"src/builtin/sys.js":'var $builtinmodule = function (name) {\n    var i;\n    var sys = {};\n\n    var args = [];\n    var argv = Sk.getSysArgv();\n    for (i = 0; i < argv.length; ++i) {\n        args.push(new Sk.builtin.str(argv[i]));\n    }\n    sys.argv = new Sk.builtins["list"](args);\n\n    sys.copyright = Sk.builtin["str"]("Copyright 2009-2010 Scott Graham.\\nAll Rights Reserved.\\n");\n\n    sys.maxint = new Sk.builtin.int_(Math.pow(2,53)-1);\n\n    /*  The largest positive integer supported by the platform’s Py_ssize_t type,\n     *  and thus the maximum size lists, strings, dicts, and many other containers can have.\n     *\n     *  In skulpt this is the same as maxint, due to the underlying implementation in javascript\n     */\n    sys.maxsize = new Sk.builtin.int_(Math.pow(2,53)-1);\n\n    sys.modules = Sk.sysmodules;\n\n    sys.path = Sk.realsyspath;\n\n    sys.getExecutionLimit = new Sk.builtin.func(function () {\n        if (Sk.execLimit === null) {\n            return Sk.builtin.none.none$;\n        }\n        return new Sk.builtin.int_(Sk.execLimit);\n    });\n\n    sys.setExecutionLimit = new Sk.builtin.func(function (t) {\n        if (Sk.execLimit === null) {\n            throw new Sk.builtin.NotImplementedError("Execution limiting is not enabled");\n        }\n        if (t !== undefined) {\n            Sk.execLimit = Sk.builtin.asnum$(t);\n        }\n    });\n\n    sys.resetTimeout = new Sk.builtin.func(function () {\n        Sk.execStart = new Date();\n    });\n\n    sys.getYieldLimit = new Sk.builtin.func(function () {\n        if (Sk.yieldLimit === null) {\n            return Sk.builtin.none.none$;\n        }\n        return new Sk.builtin.int_(Sk.yieldLimit);\n    });\n\n    sys.setYieldLimit = new Sk.builtin.func(function (t) {\n        if (Sk.yieldLimit === null) {\n            throw new Sk.builtin.NotImplementedError("Yielding is not enabled");\n        }\n        if (t !== undefined) {\n            Sk.yieldLimit = Sk.builtin.asnum$(t);\n        }\n    });\n\n    sys.debug = new Sk.builtin.func(function () {\n        return Sk.builtin.none.none$;\n    });\n\n    sys.__stdout__ = new Sk.builtin.file(new Sk.builtin.str("/dev/stdout"), "w");\n    sys.__stdin__ = new Sk.builtin.file(new Sk.builtin.str("/dev/stdin"), "r");\n\n    sys.stdout = sys.__stdout__;\n    sys.stdin = sys.__stdin__;\n\n    return sys;\n};\n',"src/lib/functools.py":'raise NotImplementedError("functools is not yet implemented in Skulpt")\n',"src/lib/markupbase.py":'raise NotImplementedError("markupbase is not yet implemented in Skulpt")\n',"src/lib/shelve.py":'raise NotImplementedError("shelve is not yet implemented in Skulpt")\n',"src/lib/pythonds/graphs/priorityQueue.py":"# Bradley N. Miller, David L. Ranum\n# Introduction to Data Structures and Algorithms in Python\n# Copyright 2005\n# \nimport unittest\n\n# this implementation of binary heap takes key value pairs,\n# we will assume that the keys are all comparable\n\nclass PriorityQueue:\n    def __init__(self):\n        self.heapArray = [(0,0)]\n        self.currentSize = 0\n\n    def buildHeap(self,alist):\n        self.currentSize = len(alist)\n        self.heapArray = [(0,0)]\n        for i in alist:\n            self.heapArray.append(i)\n        i = len(alist) // 2            \n        while (i > 0):\n            self.percDown(i)\n            i = i - 1\n                        \n    def percDown(self,i):\n        while (i * 2) <= self.currentSize:\n            mc = self.minChild(i)\n            if self.heapArray[i][0] > self.heapArray[mc][0]:\n                tmp = self.heapArray[i]\n                self.heapArray[i] = self.heapArray[mc]\n                self.heapArray[mc] = tmp\n            i = mc\n                \n    def minChild(self,i):\n        if i*2 > self.currentSize:\n            return -1\n        else:\n            if i*2 + 1 > self.currentSize:\n                return i*2\n            else:\n                if self.heapArray[i*2][0] < self.heapArray[i*2+1][0]:\n                    return i*2\n                else:\n                    return i*2+1\n\n    def percUp(self,i):\n        while i // 2 > 0:\n            if self.heapArray[i][0] < self.heapArray[i//2][0]:\n               tmp = self.heapArray[i//2]\n               self.heapArray[i//2] = self.heapArray[i]\n               self.heapArray[i] = tmp\n            i = i//2\n \n    def add(self,k):\n        self.heapArray.append(k)\n        self.currentSize = self.currentSize + 1\n        self.percUp(self.currentSize)\n\n    def delMin(self):\n        retval = self.heapArray[1][1]\n        self.heapArray[1] = self.heapArray[self.currentSize]\n        self.currentSize = self.currentSize - 1\n        self.heapArray.pop()\n        self.percDown(1)\n        return retval\n        \n    def isEmpty(self):\n        if self.currentSize == 0:\n            return True\n        else:\n            return False\n\n    def decreaseKey(self,val,amt):\n        # this is a little wierd, but we need to find the heap thing to decrease by\n        # looking at its value\n        done = False\n        i = 1\n        myKey = 0\n        while not done and i <= self.currentSize:\n            if self.heapArray[i][1] == val:\n                done = True\n                myKey = i\n            else:\n                i = i + 1\n        if myKey > 0:\n            self.heapArray[myKey] = (amt,self.heapArray[myKey][1])\n            self.percUp(myKey)\n            \n    def __contains__(self,vtx):\n        for pair in self.heapArray:\n            if pair[1] == vtx:\n                return True\n        return False\n        \nclass TestBinHeap(unittest.TestCase):\n    def setUp(self):\n        self.theHeap = PriorityQueue()\n        self.theHeap.add((2,'x'))\n        self.theHeap.add((3,'y'))\n        self.theHeap.add((5,'z'))\n        self.theHeap.add((6,'a'))\n        self.theHeap.add((4,'d'))\n\n\n    def testInsert(self):\n        assert self.theHeap.currentSize == 5\n\n    def testDelmin(self):\n        assert self.theHeap.delMin() == 'x'\n        assert self.theHeap.delMin() == 'y'\n    \n    def testDecKey(self):\n        self.theHeap.decreaseKey('d',1)\n        assert self.theHeap.delMin() == 'd'\n        \nif __name__ == '__main__':\n    unittest.main()\n","src/lib/string.js":"/*\n *  __author__: Isaac Dontje Lindell (i@isaacdontjelindell.com)\n *\n *  Implementation of the Python string module.\n */\n\n\nvar $builtinmodule = function (name) {\n    var mod = {};\n\n    mod.ascii_lowercase = Sk.builtin.str('abcdefghijklmnopqrstuvwxyz');\n    mod.ascii_uppercase = Sk.builtin.str('ABCDEFGHIJKLMNOPQRSTUVWXYZ');\n    mod.ascii_letters = Sk.builtin.str(mod.ascii_lowercase.v + mod.ascii_uppercase.v);\n\n    mod.lowercase = Sk.builtin.str('abcdefghijklmnopqrstuvwxyz');\n    mod.uppercase = Sk.builtin.str('ABCDEFGHIJKLMNOPQRSTUVWXYZ');\n    mod.letters = Sk.builtin.str(mod.lowercase.v + mod.uppercase.v);\n\n    mod.digits = Sk.builtin.str('0123456789', Sk.builtin.str);\n    mod.hexdigits = Sk.builtin.str('0123456789abcdefABCDEF');\n    mod.octdigits = Sk.builtin.str('01234567');\n\n    mod.punctuation = Sk.builtin.str('!\"#$%&\\'()*+,-./:;<=>?@[\\\\]^_`{|}~');\n    mod.whitespace = Sk.builtin.str('\\t\\n\\x0b\\x0c\\r ');\n\n    /* Note: The docs for string.printable say that it's the concatenation of string.digits,\n     * string.letters, string.punctuation, and string.whitespace. The CPython interpreter\n     * outputs the whitespace characters in one order when string.whitespace is used, and a\n     * slightly different order when string.printable is used. I've elected to follow the\n     * behavior of CPython here rather than the spec. */\n    mod.printable = Sk.builtin.str(mod.digits.v + mod.letters.v + mod.punctuation.v + \" \\t\\n\\r\\x0b\\x0c\");\n\n\n    mod.split = new Sk.builtin.func(function (s, sep, maxsplit) {\n        return Sk.misceval.callsim(Sk.builtin.str.prototype['split'], s, sep, maxsplit);\n    });\n\n    /* Return a copy of word with only its first character capitalized. */\n    mod.capitalize = new Sk.builtin.func(function (word) {\n        return Sk.misceval.callsim(Sk.builtin.str.prototype['capitalize'], word);\n    });\n\n    /* Concatenate a list or tuple of words with intervening occurrences\n     * of sep. The default value for sep is a single space character. */\n    mod.join = new Sk.builtin.func(function (words, sep) {\n        if (sep === undefined) {\n            sep = Sk.builtin.str(' ');\n        }\n        return Sk.misceval.callsim(Sk.builtin.str.prototype['join'], sep, words);\n    });\n\n\n    /* Split the argument into words using split(), capitalize each word\n     * using capitalize(), and join the capitalized words using join().\n     * Note that this replaces runs of whitespace characters by a single\n     * space, and removes leading and trailing whitespace. */\n    mod.capwords = new Sk.builtin.func(function (s, sep) {\n        Sk.builtin.pyCheckArgs('capwords', arguments, 1, 2);\n        if (!Sk.builtin.checkString(s)) {\n            throw new Sk.builtin.TypeError(\"s must be a string\");\n        }\n        if (sep === undefined) {\n            sep = Sk.builtin.str(' ');\n        }\n        if (!Sk.builtin.checkString(sep)) {\n            throw new Sk.builtin.TypeError(\"sep must be a string\");\n        }\n\n        var words = Sk.misceval.callsim(mod.split, s, sep);\n        var capWords = [];\n        for (var i = 0; i < words.v.length; i++) {\n            var word = Sk.builtin.list.prototype['list_subscript_'].call(words, i);\n            var cap = Sk.misceval.callsim(mod.capitalize, word);\n            capWords.push(cap);\n        }\n\n        return Sk.misceval.callsim(mod.join, new Sk.builtin.list(capWords), sep);\n    });\n\n\n    return mod;\n};\n","src/lib/ConfigParser.py":'raise NotImplementedError("ConfigParser is not yet implemented in Skulpt")\n',"src/lib/pickle.py":'raise NotImplementedError("pickle is not yet implemented in Skulpt")\n',"src/lib/MimeWriter.py":'raise NotImplementedError("MimeWriter is not yet implemented in Skulpt")\n',"src/lib/code.py":'raise NotImplementedError("code is not yet implemented in Skulpt")\n',"src/lib/cProfile.py":'raise NotImplementedError("cProfile is not yet implemented in Skulpt")\n',"src/lib/UserDict.py":'raise NotImplementedError("UserDict is not yet implemented in Skulpt")\n',"src/lib/codecs.py":'raise NotImplementedError("codecs is not yet implemented in Skulpt")\n',"src/lib/tty.py":'raise NotImplementedError("tty is not yet implemented in Skulpt")\n',"src/lib/pydoc.py":'raise NotImplementedError("pydoc is not yet implemented in Skulpt")\n',"src/lib/macurl2path.py":'raise NotImplementedError("macurl2path is not yet implemented in Skulpt")\n',"src/lib/new.py":'raise NotImplementedError("new is not yet implemented in Skulpt")\n',"src/lib/whichdb.py":'raise NotImplementedError("whichdb is not yet implemented in Skulpt")\n',"src/lib/_abcoll.py":'raise NotImplementedError("_abcoll is not yet implemented in Skulpt")\n',"src/lib/hotshot/__init__.py":'raise NotImplementedError("hotshot is not yet implemented in Skulpt")\n',"src/lib/colorsys.py":'raise NotImplementedError("colorsys is not yet implemented in Skulpt")\n',"src/lib/sre_constants.py":'raise NotImplementedError("sre_constants is not yet implemented in Skulpt")\n',"src/lib/atexit.py":'raise NotImplementedError("atexit is not yet implemented in Skulpt")\n',"src/lib/compileall.py":'raise NotImplementedError("compileall is not yet implemented in Skulpt")\n',"src/lib/symtable.py":'raise NotImplementedError("symtable is not yet implemented in Skulpt")\n',"src/lib/warnings.py":'raise NotImplementedError("warnings is not yet implemented in Skulpt")\n',"src/lib/cookielib.py":'raise NotImplementedError("cookielib is not yet implemented in Skulpt")\n',"src/lib/timeit.py":'raise NotImplementedError("timeit is not yet implemented in Skulpt")\n',"src/lib/pythonds/basic/deque.py":"# Bradley N. Miller, David L. Ranum\n# Introduction to Data Structures and Algorithms in Python\n# Copyright 2005\n# \n#deque.py\r\n\r\n\r\nclass Deque:\r\n    def __init__(self):\r\n        self.items = []\r\n\r\n    def isEmpty(self):\r\n        return self.items == []\r\n\r\n    def addFront(self, item):\r\n        self.items.append(item)\r\n\r\n    def addRear(self, item):\r\n        self.items.insert(0,item)\r\n\r\n    def removeFront(self):\r\n        return self.items.pop()\r\n\r\n    def removeRear(self):\r\n        return self.items.pop(0)\r\n\r\n    def size(self):\r\n        return len(self.items)\r\n","src/lib/audiodev.py":'raise NotImplementedError("audiodev is not yet implemented in Skulpt")\n',"src/lib/pprint.py":'raise NotImplementedError("pprint is not yet implemented in Skulpt")\n',"src/lib/mutex.py":'raise NotImplementedError("mutex is not yet implemented in Skulpt")\n',"src/lib/xml/sax/__init__.py":'raise NotImplementedError("sax is not yet implemented in Skulpt")\n',"src/lib/mimetypes.py":'raise NotImplementedError("mimetypes is not yet implemented in Skulpt")\n',"src/lib/aifc.py":'raise NotImplementedError("aifc is not yet implemented in Skulpt")\n',"src/lib/unittest/__init__.py":'__author__ = \'bmiller\'\n\'\'\'\nThis is the start of something that behaves like\nthe unittest module from cpython.\n\n\'\'\'\n\nclass TestCase:\n    def __init__(self):\n        self.numPassed = 0\n        self.numFailed = 0\n        self.assertPassed = 0\n        self.assertFailed = 0\n        self.verbosity = 1\n        self.tlist = []\n        testNames = {}\n        for name in dir(self):\n            if name[:4] == \'test\' and name not in testNames:\n                self.tlist.append(getattr(self,name))\n                testNames[name]=True\n\n    def setUp(self):\n        pass\n\n    def tearDown(self):\n        pass\n    \n    def cleanName(self,funcName):\n    # work around skulpts lack of an __name__\n        funcName = str(funcName)\n        funcName = funcName[13:]\n        funcName = funcName[:funcName.find(\'<\')-3]\n        return funcName\n\n    def main(self):\n\n        for func in self.tlist:\n            if self.verbosity > 1:\n                print(\'Running %s\' % self.cleanName(func))\n            try:\n                self.setUp()\n                self.assertPassed = 0\n                self.assertFailed = 0\n                func()\n                self.tearDown()\n                if self.assertFailed == 0:\n                    self.numPassed += 1\n                else:\n                    self.numFailed += 1\n                    print(\'Tests failed in %s \' % self.cleanName(func))\n            except Exception as e:\n                self.assertFailed += 1\n                self.numFailed += 1\n                print(\'Test threw exception in %s (%s)\' % (self.cleanName(func), e))\n        self.showSummary()\n\n    def assertEqual(self, actual, expected, feedback=""):\n        res = actual==expected\n        if not res and feedback == "":\n            feedback = "Expected %s to equal %s" % (str(actual),str(expected))\n        self.appendResult(res, actual ,expected, feedback)\n\n    def assertNotEqual(self, actual, expected, feedback=""):\n        res = actual != expected\n        if not res and feedback == "":\n            feedback = "Expected %s to not equal %s" % (str(actual),str(expected))\n        self.appendResult(res, actual, expected, feedback)\n\n    def assertTrue(self,x, feedback=""):\n        res = bool(x) is True\n        if not res and feedback == "":\n            feedback = "Expected %s to be True" % (str(x))\n        self.appendResult(res, x, True, feedback)\n\n    def assertFalse(self,x, feedback=""):\n        res = not bool(x)\n        if not res and feedback == "":\n            feedback = "Expected %s to be False" % (str(x))\n        self.appendResult(res, x, False, feedback)\n\n    def assertIs(self,a,b, feedback=""):\n        res = a is b\n        if not res and feedback == "":\n            feedback = "Expected %s to be the same object as %s" % (str(a),str(b))\n        self.appendResult(res, a, b, feedback)\n\n    def assertIsNot(self,a,b, feedback=""):\n        res = a is not b\n        if not res and feedback == "":\n            feedback = "Expected %s to not be the same object as %s" % (str(a),str(b))\n        self.appendResult(res, a, b, feedback)\n\n    def assertIsNone(self,x, feedback=""):\n        res = x is None\n        if not res and feedback == "":\n            feedback = "Expected %s to be None" % (str(x))\n        self.appendResult(res, x, None, feedback)\n\n    def assertIsNotNone(self,x, feedback=""):\n        res = x is not None\n        if not res and feedback == "":\n            feedback = "Expected %s to not be None" % (str(x))\n        self.appendResult(res, x, None, feedback)\n\n    def assertIn(self, a, b, feedback=""):\n        res = a in b\n        if not res and feedback == "":\n            feedback = "Expected %s to be in %s" % (str(a),str(b))\n        self.appendResult(res, a, b, feedback)\n\n    def assertNotIn(self, a, b, feedback=""):\n        res = a not in b\n        if not res and feedback == "":\n            feedback = "Expected %s to not be in %s" % (str(a),str(b))\n        self.appendResult(res, a, b, feedback)\n\n    def assertIsInstance(self,a,b, feedback=""):\n        res = isinstance(a,b)\n        if not res and feedback == "":\n            feedback = "Expected %s to be an instance of %s" % (str(a), str(b))\n        self.appendResult(res, a, b, feedback)\n\n    def assertNotIsInstance(self,a,b, feedback=""):\n        res = not isinstance(a,b)\n        if not res and feedback == "":\n            feedback = "Expected %s to not be an instance of %s" % (str(a),str(b))\n        self.appendResult(res, a, b, feedback)\n\n    def assertAlmostEqual(self, a, b, places=7, feedback="", delta=None):\n\n        if delta is not None:\n            res = abs(a-b) <= delta\n        else:\n            if places is None:\n                places = 7\n            res = round(a-b, places) == 0\n        \n        if not res and feedback == "":\n            feedback = "Expected %s to equal %s" % (str(a),str(b))\n        self.appendResult(res, a, b, feedback)\n\n    def assertNotAlmostEqual(self, a, b, places=7, feedback="", delta=None):\n\n        if delta is not None:\n            res = not (a == b) and abs(a - b) > delta\n        else:\n            if places is None:\n                places = 7\n            res = round(a-b, places) != 0\n\n        if not res and feedback == "":\n            feedback = "Expected %s to not equal %s" % (str(a),str(b))\n        self.appendResult(res, a, b, feedback)\n\n\n    def assertGreater(self,a,b, feedback=""):\n        res = a > b\n        if not res and feedback == "":\n            feedback = "Expected %s to be greater than %s" % (str(a),str(b))\n        self.appendResult(res, a, b, feedback)\n\n    def assertGreaterEqual(self,a,b, feedback=""):\n        res = a >= b\n        if not res and feedback == "":\n            feedback = "Expected %s to be >= %s" % (str(a),str(b))\n        self.appendResult(res, a, b, feedback)\n\n    def assertLess(self, a, b, feedback=""):\n        res = a < b\n        if not res and feedback == "":\n            feedback = "Expected %s to be less than %s" % (str(a),str(b))\n        self.appendResult(res, a, b, feedback)\n\n    def assertLessEqual(self,a,b, feedback=""):\n        res = a <= b\n        if not res and feedback == "":\n            feedback = "Expected %s to be <= %s" % (str(a),str(b))\n        self.appendResult(res, a, b, feedback)\n\n    def appendResult(self,res,actual,expected,feedback):\n        if res:\n            msg = \'Pass\'\n            self.assertPassed += 1\n        else:\n            msg = \'Fail: \' +  feedback\n            print(msg)\n            self.assertFailed += 1\n\n    def assertRaises(self, exception, callable=None, *args, **kwds):\n        # with is currently not supported hence we just try and catch\n        if callable is None:\n            raise NotImplementedError("assertRaises does currently not support assert contexts")\n        if kwds:\n            raise NotImplementedError("assertRaises does currently not support **kwds")\n\n        res = False\n        actualerror = str(exception())\n        try:\n            callable(*args)\n        except exception as ex:\n            res = True\n        except Exception as inst:\n            actualerror = str(inst)\n            print("ACT = ", actualerror, str(exception()))\n        else:\n            actualerror = "No Error"\n\n        self.appendResult(res, str(exception()), actualerror, "")\n\n    def fail(self, msg=None):\n        if msg is None:\n            msg = \'Fail\'\n        else:\n            msg = \'Fail: \' + msg\n        print(msg)\n        self.assertFailed += 1\n\n    def showSummary(self):\n        pct = self.numPassed / (self.numPassed+self.numFailed) * 100\n        print("Ran %d tests, passed: %d failed: %d\\n" % (self.numPassed+self.numFailed,\n                                               self.numPassed, self.numFailed))\n\n\n\ndef main(verbosity=1):\n    glob = globals() # globals() still needs work\n    for name in glob:\n        if issubclass(glob[name],TestCase):\n            try:\n                tc = glob[name]()\n                tc.verbosity = verbosity\n                tc.main()\n            except:\n                print("Uncaught Error in: ", name)\n',"src/lib/sgmllib.py":'raise NotImplementedError("sgmllib is not yet implemented in Skulpt")\n',"src/lib/idlelib/__init__.py":'raise NotImplementedError("idlelib is not yet implemented in Skulpt")\n',"src/lib/formatter.py":'raise NotImplementedError("formatter is not yet implemented in Skulpt")\n',"src/lib/tabnanny.py":'raise NotImplementedError("tabnanny is not yet implemented in Skulpt")\n',"src/lib/fpformat.py":'raise NotImplementedError("fpformat is not yet implemented in Skulpt")\n',"src/lib/base64.py":'raise NotImplementedError("base64 is not yet implemented in Skulpt")\n',"src/lib/sqlite3/__init__.py":'raise NotImplementedError("sqlite3 is not yet implemented in Skulpt")\n',"src/lib/abc.py":'raise NotImplementedError("abc is not yet implemented in Skulpt")\n',"src/lib/email/mime/__init__.py":'raise NotImplementedError("mime is not yet implemented in Skulpt")\n',"src/builtin/this.py":'s = """Gur Mra bs Clguba, ol Gvz Crgref\n\nOrnhgvshy vf orggre guna htyl.\nRkcyvpvg vf orggre guna vzcyvpvg.\nFvzcyr vf orggre guna pbzcyrk.\nPbzcyrk vf orggre guna pbzcyvpngrq.\nSyng vf orggre guna arfgrq.\nFcnefr vf orggre guna qrafr.\nErnqnovyvgl pbhagf.\nFcrpvny pnfrf nera\'g fcrpvny rabhtu gb oernx gur ehyrf.\nNygubhtu cenpgvpnyvgl orngf chevgl.\nReebef fubhyq arire cnff fvyragyl.\nHayrff rkcyvpvgyl fvyraprq.\nVa gur snpr bs nzovthvgl, ershfr gur grzcgngvba gb thrff.\nGurer fubhyq or bar-- naq cersrenoyl bayl bar --boivbhf jnl gb qb vg.\nNygubhtu gung jnl znl abg or boivbhf ng svefg hayrff lbh\'er Qhgpu.\nAbj vf orggre guna arire.\nNygubhtu arire vf bsgra orggre guna *evtug* abj.\nVs gur vzcyrzragngvba vf uneq gb rkcynva, vg\'f n onq vqrn.\nVs gur vzcyrzragngvba vf rnfl gb rkcynva, vg znl or n tbbq vqrn.\nAnzrfcnprf ner bar ubaxvat terng vqrn -- yrg\'f qb zber bs gubfr!"""\n\nd = {}\nfor c in (65, 97):\n    for i in range(26):\n        d[chr(i+c)] = chr((i+13) % 26 + c)\n\nprint "".join([d.get(c, c) for c in s])\n',"src/lib/inspect.py":'raise NotImplementedError("inspect is not yet implemented in Skulpt")\n',"src/lib/multiprocessing/dummy/__init__.py":'raise NotImplementedError("dummy is not yet implemented in Skulpt")\n',"src/lib/xml/__init__.py":'raise NotImplementedError("xml is not yet implemented in Skulpt")\n',"src/lib/pythonds/trees/binheap.py":"# Bradley N. Miller, David L. Ranum\n# Introduction to Data Structures and Algorithms in Python\n# Copyright 2005\n# \n\n# this heap takes key value pairs, we will assume that the keys are integers\nclass BinHeap:\n    def __init__(self):\n        self.heapList = [0]\n        self.currentSize = 0\n\n\n    def buildHeap(self,alist):\n        i = len(alist) // 2\n        self.currentSize = len(alist)\n        self.heapList = [0] + alist[:]\n        print(len(self.heapList), i)\n        while (i > 0):\n            print(self.heapList, i)\n            self.percDown(i)\n            i = i - 1\n        print(self.heapList,i)\n                        \n    def percDown(self,i):\n        while (i * 2) <= self.currentSize:\n            mc = self.minChild(i)\n            if self.heapList[i] > self.heapList[mc]:\n                tmp = self.heapList[i]\n                self.heapList[i] = self.heapList[mc]\n                self.heapList[mc] = tmp\n            i = mc\n                \n    def minChild(self,i):\n        if i * 2 + 1 > self.currentSize:\n            return i * 2\n        else:\n            if self.heapList[i * 2] < self.heapList[i * 2 + 1]:\n                return i * 2\n            else:\n                return i * 2 + 1\n\n    def percUp(self,i):\n        while i // 2 > 0:\n            if self.heapList[i] < self.heapList[i//2]:\n               tmp = self.heapList[i // 2]\n               self.heapList[i // 2] = self.heapList[i]\n               self.heapList[i] = tmp\n            i = i // 2\n \n    def insert(self,k):\n        self.heapList.append(k)\n        self.currentSize = self.currentSize + 1\n        self.percUp(self.currentSize)\n\n    def delMin(self):\n        retval = self.heapList[1]\n        self.heapList[1] = self.heapList[self.currentSize]\n        self.currentSize = self.currentSize - 1\n        self.heapList.pop()\n        self.percDown(1)\n        return retval\n        \n    def isEmpty(self):\n        if currentSize == 0:\n            return True\n        else:\n            return False\n","src/lib/distutils/__init__.py":'raise NotImplementedError("distutils is not yet implemented in Skulpt")\n',"src/lib/urllib/__init__.js":"var $builtinmodule = function (name) {\n    var urllib = {};\n\n    return urllib;\n};\n","src/lib/_strptime.py":'raise NotImplementedError("_strptime is not yet implemented in Skulpt")\n',"src/lib/urllib2.py":'raise NotImplementedError("urllib2 is not yet implemented in Skulpt")\n',"src/lib/Queue.py":'raise NotImplementedError("Queue is not yet implemented in Skulpt")\n',"src/lib/time.js":'/*\n implementation of the Python time package.\n\n For higher res time we could use following apart from new Date:\n window.performance.now()\n\n notes:\n - struct_time is a structseq but structseq does not implement methods: \'n_fields\', \'n_sequence_fields\', \'n_unnamed_fields\' yet\n\n [\'__doc__\', \'__file__\', \'__name__\', \'__package__\', \'accept2dyear\', \'altzone\', \'asctime\', \'clock\', \'ctime\', \'daylight\', \'gmtime\', \'localtime\', \'mktime\', \'sleep\', \'strftime\', \'strptime\', \'struct_time\', \'time\', \'timezone\', \'tzname\', \'tzset\']\n */\n\nvar $builtinmodule = function (name) {\n    var mod = {};\n\n    mod.__file__ = "/src/lib/time/__init__.js";\n\n    mod.__package__ = Sk.builtin.none.none$;\n\n    var struct_time_fields = {\n        "tm_year": "year, for example, 1993", \n        "tm_mon": "month of year, range [1, 12]", \n        "tm_mday": "day of month, range [1, 31]", \n        "tm_hour": "hours, range [0, 23]", \n        "tm_min": "minutes, range [0, 59]", \n        "tm_sec": "seconds, range [0, 61]", \n        "tm_wday": "day of week, range [0, 6], Monday is 0", \n        "tm_yday": "day of year, range [1, 366]", \n        "tm_isdst": "1 if summer time is in effect, 0 if not, and -1 if unknown"\n    };\n\n    var struct_time_f = Sk.builtin.make_structseq(\'time\', \'struct_time\', struct_time_fields);\n\n    mod.struct_time = struct_time_f;\n\n    function check_struct_time(t) {\n        if (!(t instanceof struct_time_f)) {\n            throw new Sk.builtin.TypeError("Required argument \'struct_time\' must be of type: \'struct_time\'");\n        }\n        var i;\n        var len = t.v.length;\n        var obj = t.v;\n        for (i = 0; i < len; ++i) {\n            if (!Sk.builtin.checkInt(obj[i])) {\n                throw new Sk.builtin.TypeError("struct_time may only contain integers");\n            }\n        }\n        return true;\n    }\n\n    mod.time = new Sk.builtin.func(function () {\n        Sk.builtin.pyCheckArgs("time", arguments, 0, 0);\n        var res = Date.now();\n        if (performance && performance.now)\n        {\n            res = res + performance.now() % 1;\n        }\n        return Sk.builtin.assk$(res / 1000, undefined);\n    });\n\n    // This is an experimental implementation of time.sleep(), using suspensions\n    mod.sleep = new Sk.builtin.func(function(delay) {\n        Sk.builtin.pyCheckArgs("sleep", arguments, 1, 1);\n        Sk.builtin.pyCheckType("delay", "float", Sk.builtin.checkNumber(delay));\n        var susp = new Sk.misceval.Suspension();\n        susp.resume = function() { return Sk.builtin.none.none$; }\n        susp.data = {type: "Sk.promise", promise: new Promise(function(resolve) {\n            Sk.setTimeout(resolve, Sk.ffi.remapToJs(delay)*1000);\n        })};\n        return susp;\n    });\n\n    function padLeft(str, l, c) {\n        var _str = str.toString();\n        return Array(l - _str.length + 1).join(c || " ") + _str;\n    }\n\n    function isLeapYear(year) {\n        if((year & 3) != 0) return false;\n        return ((year % 100) != 0 || (year % 400) == 0);\n    }\n\n    function getDayOfYear(date,utc) {\n        utc = utc || false;\n        var dayCount = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334];\n        var mn = utc ? date.getUTCMonth() : date.getMonth();\n        var dn = utc ? date.getUTCDate() : date.getDate();\n        var dayOfYear = dayCount[mn] + dn;\n        if(mn > 1 && isLeapYear(utc ? date.getUTCFullYear() : date.getFullYear())) dayOfYear++;\n        return dayOfYear;\n    }\n\n    function stdTimezoneOffset() {\n        var jan = new Date(2002, 0, 1);\n        var jul = new Date(2002, 6, 1);\n        return Math.max(jan.getTimezoneOffset(), jul.getTimezoneOffset());\n    }\n\n    function altTimezoneOffset() {\n        var jan = new Date(2002, 0, 1);\n        var jul = new Date(2002, 6, 1);\n        return Math.min(jan.getTimezoneOffset(), jul.getTimezoneOffset());\n    }    \n\n    function dst(date) {\n        return date.getTimezoneOffset() < stdTimezoneOffset();\n    }\n\n    function timeZoneName(date) {\n        return /\\((.*)\\)/.exec(date.toString())[1];\n    }\n\n    function timeZoneNames() {\n        var jan = new Date(2002, 0, 1);\n        var jul = new Date(2002, 6, 1);     \n        if (dst(jan)) {\n            return [Sk.builtin.str(timeZoneName(jul)), Sk.builtin.str(timeZoneName(jan))];\n        } else {\n            return [Sk.builtin.str(timeZoneName(jan)), Sk.builtin.str(timeZoneName(jul))];\n        }\n    }\n\n    function date_to_struct_time(date, utc) {\n        utc = utc || false;\n        // y, m, d, hh, mm, ss, weekday, jday, dst\n        return new struct_time_f(\n            [\n                Sk.builtin.assk$(utc ? date.getUTCFullYear() : date.getFullYear()), \n                Sk.builtin.assk$((utc ? date.getUTCMonth() : date.getMonth()) + 1), // want January == 1\n                Sk.builtin.assk$(utc ? date.getUTCDate() : date.getDate()), \n                Sk.builtin.assk$(utc ? date.getUTCHours() : date.getHours()), \n                Sk.builtin.assk$(utc ? date.getUTCMinutes() : date.getMinutes()), \n                Sk.builtin.assk$(utc ? date.getUTCSeconds() : date.getSeconds()), \n                Sk.builtin.assk$(((utc ? date.getUTCDay() : date.getDay()) + 6) % 7), // Want Monday == 0\n                Sk.builtin.assk$(getDayOfYear(date, utc)), // Want January, 1 == 1\n                Sk.builtin.assk$(utc ? 0 : (dst(date) ? 1 : 0)) // 1 for DST /0 for non-DST /-1 for unknown\n            ]\n        );\n    }\n\n    function localtime_f(secs) {\n        Sk.builtin.pyCheckArgs("localtime", arguments, 0, 1);\n        var d = new Date();\n        if (secs) {\n            Sk.builtin.pyCheckType("secs", "number", Sk.builtin.checkNumber(secs));\n            var seconds = Sk.builtin.asnum$(secs);\n            d.setTime(seconds * 1000);\n        }\n        return date_to_struct_time(d);\n    }\n\n    mod.localtime = new Sk.builtin.func(localtime_f);\n\n    mod.gmtime = new Sk.builtin.func(function(secs) {\n        Sk.builtin.pyCheckArgs("localtime", arguments, 0, 1);\n        var d = new Date();\n        if (secs) {\n            Sk.builtin.pyCheckType("secs", "number", Sk.builtin.checkNumber(secs));\n            var seconds = Sk.builtin.asnum$(secs);\n            d.setTime(seconds * 1000);\n        }\n        return date_to_struct_time(d, true);\n    });\n\n    var monthnames = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];\n    var daynames = ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"];\n\n    function asctime_f(time) {\n        if (!time || Sk.builtin.checkNone(time))\n        {\n            time = localtime_f();\n        } else if (!(time instanceof struct_time_f)) {\n            time = new struct_time_f(time);\n        }\n        if (time instanceof Sk.builtin.tuple && time.v.length == 9)\n        {\n            // todo: test validity??\n            var parts = [];\n            parts.push(daynames[Sk.builtin.asnum$(time.v[6])]);\n            parts.push(monthnames[Sk.builtin.asnum$(time.v[1])-1]);  \n            parts.push(padLeft(Sk.builtin.asnum$(time.v[2]).toString(), 2, \'0\'));\n            parts.push(\n                padLeft(Sk.builtin.asnum$(time.v[3]).toString(), 2, \'0\') + ":" +\n                padLeft(Sk.builtin.asnum$(time.v[4]).toString(), 2, \'0\') + ":" +\n                padLeft(Sk.builtin.asnum$(time.v[5]).toString(), 2, \'0\')\n            );\n            parts.push(padLeft(Sk.builtin.asnum$(time.v[0]).toString(), 4, \'0\'));\n\n            return Sk.builtin.str(parts.join(" "));\n        }\n    }\n\n    mod.asctime = new Sk.builtin.func(asctime_f);\n\n    mod.ctime = new Sk.builtin.func(function(secs) {\n        return asctime_f(localtime_f(secs));\n    });\n\n    function mktime_f(time) {\n        if (time instanceof Sk.builtin.tuple && time.v.length == 9)\n        {\n            var d = new Date();\n            d.setFullYear(Sk.builtin.asnum$(time.v[0]));\n            d.setMonth(Sk.builtin.asnum$(time.v[1])-1);\n            d.setDate(Sk.builtin.asnum$(time.v[2]));\n            d.setHours(Sk.builtin.asnum$(time.v[3]));\n            d.setMinutes(Sk.builtin.asnum$(time.v[4]));\n            d.setSeconds(Sk.builtin.asnum$(time.v[5]));\n            return Sk.builtin.assk$(d.getTime() / 1000, undefined);\n        } else {\n            throw new Sk.builtin.TypeError("mktime() requires a struct_time or 9-tuple");\n        }\n    }\n\n    mod.mktime = new Sk.builtin.func(mktime_f);\n\n    /*\n    The offset of the local (non-DST) timezone, in seconds west of UTC (negative in most of Western Europe, \n    positive in the US, zero in the UK).\n    */\n    mod.timezone = new Sk.builtin.int_(stdTimezoneOffset() * 60);\n\n    /*\n    The offset of the local DST timezone, in seconds west of UTC, if one is defined. This is negative if the\n    local DST timezone is east of UTC (as in Western Europe, including the UK). Only use this if daylight is nonzero.\n    */\n    mod.altzone = new Sk.builtin.int_(altTimezoneOffset() * 60);\n\n    /*\n    Nonzero if a DST timezone is defined.\n    */\n    mod.daylight = new Sk.builtin.int_(dst(new Date()) ? 1 : 0);\n\n    /*\n    A tuple of two strings: the first is the name of the local non-DST timezone, the second is the name of the local \n    DST timezone. If no DST timezone is defined, the second string should not be used.\n    */\n    mod.tzname = Sk.builtin.tuple(timeZoneNames());\n\n    mod.accept2dyear = Sk.builtin.assk$(1, Sk.builtin.nmber.int$);\n\n    mod.clock = new Sk.builtin.func(function() {\n        var res = 0.0;\n        if (performance && performance.now)\n        {\n            res = performance.now() / 1000;\n        } else {\n            res = new Date().getTime() / 1000;\n        }\n        return new Sk.builtin.float_(res);\n    });\n\n    function strftime_f(format, t) {\n        var jsFormat;\n\n        Sk.builtin.pyCheckArgs("strftime", arguments, 1, 2);\n        if (!Sk.builtin.checkString(format)) {\n            throw new Sk.builtin.TypeError("format must be a string");\n        }\n        if (!t)\n        {\n            t = localtime_f();\n        } else if (!(t instanceof struct_time_f)) {\n            t = new struct_time_f(t);\n        }\n\n        check_struct_time(t);\n        \n        jsFormat = Sk.ffi.remapToJs(format);\n\n        return Sk.ffi.remapToPy(strftime(jsFormat, new Date(mktime_f(t).v*1000)));\n    }\n\n    mod.strftime = new Sk.builtin.func(strftime_f);\n\n    function tzset_f()\n    {\n        throw new Sk.builtin.NotImplementedError("time.tzset() is not yet implemented");\n        Sk.builtin.pyCheckArgs("tzset", arguments, 0, 0);\n    }\n\n    mod.tzset = new Sk.builtin.func(tzset_f);\n\n    function strptime_f(s, format)\n    {\n        Sk.builtin.pyCheckArgs("strptime", arguments, 1, 2);\n        Sk.builtin.pyCheckType("string", "string", Sk.builtin.checkString(s));\n        if (format !== undefined) {\n            Sk.builtin.pyCheckType("format", "string", Sk.builtin.checkString(format));\n        } else {\n            format = new Sk.builtin.str("%a %b %d %H:%M:%S %Y");\n        }\n\n        return date_to_struct_time(strptime(Sk.ffi.remapToJs(s), Sk.ffi.remapToJs(format), true));\n    }\n\n    mod.strptime = new Sk.builtin.func(strptime_f);\n\n    return mod;\n};\n',"src/lib/xml/parsers/__init__.py":'raise NotImplementedError("parsers is not yet implemented in Skulpt")\n',"src/lib/sndhdr.py":'raise NotImplementedError("sndhdr is not yet implemented in Skulpt")\n',"src/lib/optparse.py":'raise NotImplementedError("optparse is not yet implemented in Skulpt")\n',"src/lib/getpass.py":'raise NotImplementedError("getpass is not yet implemented in Skulpt")\n',"src/lib/pydoc_topics.py":'raise NotImplementedError("pydoc_topics is not yet implemented in Skulpt")\n',"src/lib/urlparse.py":'raise NotImplementedError("urlparse is not yet implemented in Skulpt")\n',"src/lib/CGIHTTPServer.py":'raise NotImplementedError("CGIHTTPServer is not yet implemented in Skulpt")\n',"src/lib/nturl2path.py":'raise NotImplementedError("nturl2path is not yet implemented in Skulpt")\n',"src/lib/HTMLParser.py":'raise NotImplementedError("HTMLParser is not yet implemented in Skulpt")\n',"src/lib/calendar.py":'raise NotImplementedError("calendar is not yet implemented in Skulpt")\n',"src/lib/compiler/__init__.py":'raise NotImplementedError("compiler is not yet implemented in Skulpt")\n',"src/lib/xmllib.py":'raise NotImplementedError("xmllib is not yet implemented in Skulpt")\n',"src/lib/dumbdbm.py":'raise NotImplementedError("dumbdbm is not yet implemented in Skulpt")\n',"src/lib/pythonds/graphs/__init__.py":"\n\nfrom .adjGraph import Graph\nfrom .adjGraph import Vertex\nfrom .priorityQueue import PriorityQueue\n","src/lib/dbhash.py":'raise NotImplementedError("dbhash is not yet implemented in Skulpt")\n',"src/lib/ihooks.py":'raise NotImplementedError("ihooks is not yet implemented in Skulpt")\n',"src/lib/lib2to3/tests/__init__.py":'raise NotImplementedError("tests is not yet implemented in Skulpt")\n',"src/lib/genericpath.py":'raise NotImplementedError("genericpath is not yet implemented in Skulpt")\n',"src/lib/webgl/matrix4.js":"// more from 'tdl'\nvar $builtinmodule = function(name)\n{\n    var mod = {};\n\n    var temp0v3_ = new Float32Array(3);\n    var temp1v3_ = new Float32Array(3);\n    var temp2v3_ = new Float32Array(3);\n\n    var temp0v4_ = new Float32Array(4);\n    var temp1v4_ = new Float32Array(4);\n    var temp2v4_ = new Float32Array(4);\n\n    var temp0m4_ = new Float32Array(16);\n    var temp1m4_ = new Float32Array(16);\n    var temp2m4_ = new Float32Array(16);\n\n    var normalize = function(dst, a) {\n        var n = 0.0;\n        var aLength = a.length;\n        for (var i = 0; i < aLength; ++i)\n            n += a[i] * a[i];\n        n = Math.sqrt(n);\n        if (n > 0.00001) {\n            for (var i = 0; i < aLength; ++i)\n                dst[i] = a[i] / n;\n        } else {\n            for (var i = 0; i < aLength; ++i)\n                dst[i] = 0;\n        }\n        return dst;\n    };\n\n    var cross = function(dst, a, b) {\n        dst[0] = a[1] * b[2] - a[2] * b[1];\n        dst[1] = a[2] * b[0] - a[0] * b[2];\n        dst[2] = a[0] * b[1] - a[1] * b[0];\n        return dst;\n    };\n\n    var subVector = function(dst, a, b) {\n        var aLength = a.length;\n        for (var i = 0; i < aLength; ++i)\n            dst[i] = a[i] - b[i];\n        return dst;\n    };\n\n    var dot = function(a, b) {\n        return (a[0] * b[0]) + (a[1] * b[1]) + (a[2] * b[2]);\n    };\n\n    mod.lookAt = new Sk.builtin.func(function(view, eye, target, up)\n            {\n                var t0 = temp0v3_;\n                var t1 = temp1v3_;\n                var t2 = temp2v3_;\n\n                var vz = normalize(t0, subVector(t0, eye.v, target.v));\n                var vx = normalize(t1, cross(t1, up.v, vz));\n                var vy = cross(t2, vz, vx);\n\n                var dst = view.v;\n                dst[ 0] = vx[0];\n                dst[ 1] = vy[0];\n                dst[ 2] = vz[0];\n                dst[ 3] = 0;\n                dst[ 4] = vx[1];\n                dst[ 5] = vy[1];\n                dst[ 6] = vz[1];\n                dst[ 7] = 0;\n                dst[ 8] = vx[2];\n                dst[ 9] = vy[2];\n                dst[10] = vz[2];\n                dst[11] = 0;\n                dst[12] = -dot(vx, eye.v);\n                dst[13] = -dot(vy, eye.v);\n                dst[14] = -dot(vz, eye.v);\n                dst[15] = 1;\n\n                return view;\n            });\n\n    mod.perspective = new Sk.builtin.func(function(proj, angle, aspect, near, far)\n            {\n                var f = Math.tan(Math.PI * 0.5 - 0.5 * (angle * Math.PI / 180));\n                var rangeInv = 1.0 / (near - far);\n\n                var dst = proj.v;\n\n                dst[0]  = f / aspect;\n                dst[1]  = 0;\n                dst[2]  = 0;\n                dst[3]  = 0;\n\n                dst[4]  = 0;\n                dst[5]  = f;\n                dst[6]  = 0;\n                dst[7]  = 0;\n\n                dst[8]  = 0;\n                dst[9]  = 0;\n                dst[10] = (near + far) * rangeInv;\n                dst[11] = -1;\n\n                dst[12] = 0;\n                dst[13] = 0;\n                dst[14] = near * far * rangeInv * 2;\n                dst[15] = 0;\n\n                return proj;\n            });\n\n    // builds, not appending\n    mod.rotationY = new Sk.builtin.func(function(target, angle)\n            {\n                var dst = target.v;\n                var c = Math.cos(angle * Math.PI / 180);\n                var s = Math.sin(angle * Math.PI / 180);\n\n                dst[ 0] = c;\n                dst[ 1] = 0;\n                dst[ 2] = -s;\n                dst[ 3] = 0;\n                dst[ 4] = 0;\n                dst[ 5] = 1;\n                dst[ 6] = 0;\n                dst[ 7] = 0;\n                dst[ 8] = s;\n                dst[ 9] = 0;\n                dst[10] = c;\n                dst[11] = 0;\n                dst[12] = 0;\n                dst[13] = 0;\n                dst[14] = 0;\n                dst[15] = 1;\n\n                return target;\n            });\n\n    mod.identity = new Sk.builtin.func(function(target)\n            {\n                var dst = target.v;\n                dst[ 0] = 1;\n                dst[ 1] = 0;\n                dst[ 2] = 0;\n                dst[ 3] = 0;\n                dst[ 4] = 0;\n                dst[ 5] = 1;\n                dst[ 6] = 0;\n                dst[ 7] = 0;\n                dst[ 8] = 0;\n                dst[ 9] = 0;\n                dst[10] = 1;\n                dst[11] = 0;\n                dst[12] = 0;\n                dst[13] = 0;\n                dst[14] = 0;\n                dst[15] = 1;\n                return target;\n            });\n\n    // row major\n    mod.mul = new Sk.builtin.func(function(target, x, y)\n            {\n                var dst = target.v;\n                var a = x.v;\n                var b = y.v;\n                var a00 = a[0];\n                var a01 = a[1];\n                var a02 = a[2];\n                var a03 = a[3];\n                var a10 = a[ 4 + 0];\n                var a11 = a[ 4 + 1];\n                var a12 = a[ 4 + 2];\n                var a13 = a[ 4 + 3];\n                var a20 = a[ 8 + 0];\n                var a21 = a[ 8 + 1];\n                var a22 = a[ 8 + 2];\n                var a23 = a[ 8 + 3];\n                var a30 = a[12 + 0];\n                var a31 = a[12 + 1];\n                var a32 = a[12 + 2];\n                var a33 = a[12 + 3];\n                var b00 = b[0];\n                var b01 = b[1];\n                var b02 = b[2];\n                var b03 = b[3];\n                var b10 = b[ 4 + 0];\n                var b11 = b[ 4 + 1];\n                var b12 = b[ 4 + 2];\n                var b13 = b[ 4 + 3];\n                var b20 = b[ 8 + 0];\n                var b21 = b[ 8 + 1];\n                var b22 = b[ 8 + 2];\n                var b23 = b[ 8 + 3];\n                var b30 = b[12 + 0];\n                var b31 = b[12 + 1];\n                var b32 = b[12 + 2];\n                var b33 = b[12 + 3];\n                dst[ 0] = a00 * b00 + a01 * b10 + a02 * b20 + a03 * b30;\n                dst[ 1] = a00 * b01 + a01 * b11 + a02 * b21 + a03 * b31;\n                dst[ 2] = a00 * b02 + a01 * b12 + a02 * b22 + a03 * b32;\n                dst[ 3] = a00 * b03 + a01 * b13 + a02 * b23 + a03 * b33;\n                dst[ 4] = a10 * b00 + a11 * b10 + a12 * b20 + a13 * b30;\n                dst[ 5] = a10 * b01 + a11 * b11 + a12 * b21 + a13 * b31;\n                dst[ 6] = a10 * b02 + a11 * b12 + a12 * b22 + a13 * b32;\n                dst[ 7] = a10 * b03 + a11 * b13 + a12 * b23 + a13 * b33;\n                dst[ 8] = a20 * b00 + a21 * b10 + a22 * b20 + a23 * b30;\n                dst[ 9] = a20 * b01 + a21 * b11 + a22 * b21 + a23 * b31;\n                dst[10] = a20 * b02 + a21 * b12 + a22 * b22 + a23 * b32;\n                dst[11] = a20 * b03 + a21 * b13 + a22 * b23 + a23 * b33;\n                dst[12] = a30 * b00 + a31 * b10 + a32 * b20 + a33 * b30;\n                dst[13] = a30 * b01 + a31 * b11 + a32 * b21 + a33 * b31;\n                dst[14] = a30 * b02 + a31 * b12 + a32 * b22 + a33 * b32;\n                dst[15] = a30 * b03 + a31 * b13 + a32 * b23 + a33 * b33;\n                return target;\n            });\n\n    mod.invert = new Sk.builtin.func(function(target, mat)\n            {\n                var dst = target.v;\n                var m = mat.v;\n                var m00 = m[0 * 4 + 0];\n                var m01 = m[0 * 4 + 1];\n                var m02 = m[0 * 4 + 2];\n                var m03 = m[0 * 4 + 3];\n                var m10 = m[1 * 4 + 0];\n                var m11 = m[1 * 4 + 1];\n                var m12 = m[1 * 4 + 2];\n                var m13 = m[1 * 4 + 3];\n                var m20 = m[2 * 4 + 0];\n                var m21 = m[2 * 4 + 1];\n                var m22 = m[2 * 4 + 2];\n                var m23 = m[2 * 4 + 3];\n                var m30 = m[3 * 4 + 0];\n                var m31 = m[3 * 4 + 1];\n                var m32 = m[3 * 4 + 2];\n                var m33 = m[3 * 4 + 3];\n                var tmp_0  = m22 * m33;\n                var tmp_1  = m32 * m23;\n                var tmp_2  = m12 * m33;\n                var tmp_3  = m32 * m13;\n                var tmp_4  = m12 * m23;\n                var tmp_5  = m22 * m13;\n                var tmp_6  = m02 * m33;\n                var tmp_7  = m32 * m03;\n                var tmp_8  = m02 * m23;\n                var tmp_9  = m22 * m03;\n                var tmp_10 = m02 * m13;\n                var tmp_11 = m12 * m03;\n                var tmp_12 = m20 * m31;\n                var tmp_13 = m30 * m21;\n                var tmp_14 = m10 * m31;\n                var tmp_15 = m30 * m11;\n                var tmp_16 = m10 * m21;\n                var tmp_17 = m20 * m11;\n                var tmp_18 = m00 * m31;\n                var tmp_19 = m30 * m01;\n                var tmp_20 = m00 * m21;\n                var tmp_21 = m20 * m01;\n                var tmp_22 = m00 * m11;\n                var tmp_23 = m10 * m01;\n\n                var t0 = (tmp_0 * m11 + tmp_3 * m21 + tmp_4 * m31) -\n                    (tmp_1 * m11 + tmp_2 * m21 + tmp_5 * m31);\n                var t1 = (tmp_1 * m01 + tmp_6 * m21 + tmp_9 * m31) -\n                    (tmp_0 * m01 + tmp_7 * m21 + tmp_8 * m31);\n                var t2 = (tmp_2 * m01 + tmp_7 * m11 + tmp_10 * m31) -\n                    (tmp_3 * m01 + tmp_6 * m11 + tmp_11 * m31);\n                var t3 = (tmp_5 * m01 + tmp_8 * m11 + tmp_11 * m21) -\n                    (tmp_4 * m01 + tmp_9 * m11 + tmp_10 * m21);\n\n                var d = 1.0 / (m00 * t0 + m10 * t1 + m20 * t2 + m30 * t3);\n\n                dst[ 0] = d * t0;\n                dst[ 1] = d * t1;\n                dst[ 2] = d * t2;\n                dst[ 3] = d * t3;\n                dst[ 4] = d * ((tmp_1 * m10 + tmp_2 * m20 + tmp_5 * m30) -\n                        (tmp_0 * m10 + tmp_3 * m20 + tmp_4 * m30));\n                dst[ 5] = d * ((tmp_0 * m00 + tmp_7 * m20 + tmp_8 * m30) -\n                        (tmp_1 * m00 + tmp_6 * m20 + tmp_9 * m30));\n                dst[ 6] = d * ((tmp_3 * m00 + tmp_6 * m10 + tmp_11 * m30) -\n                        (tmp_2 * m00 + tmp_7 * m10 + tmp_10 * m30));\n                dst[ 7] = d * ((tmp_4 * m00 + tmp_9 * m10 + tmp_10 * m20) -\n                        (tmp_5 * m00 + tmp_8 * m10 + tmp_11 * m20));\n                dst[ 8] = d * ((tmp_12 * m13 + tmp_15 * m23 + tmp_16 * m33) -\n                        (tmp_13 * m13 + tmp_14 * m23 + tmp_17 * m33));\n                dst[ 9] = d * ((tmp_13 * m03 + tmp_18 * m23 + tmp_21 * m33) -\n                        (tmp_12 * m03 + tmp_19 * m23 + tmp_20 * m33));\n                dst[10] = d * ((tmp_14 * m03 + tmp_19 * m13 + tmp_22 * m33) -\n                        (tmp_15 * m03 + tmp_18 * m13 + tmp_23 * m33));\n                dst[11] = d * ((tmp_17 * m03 + tmp_20 * m13 + tmp_23 * m23) -\n                        (tmp_16 * m03 + tmp_21 * m13 + tmp_22 * m23));\n                dst[12] = d * ((tmp_14 * m22 + tmp_17 * m32 + tmp_13 * m12) -\n                        (tmp_16 * m32 + tmp_12 * m12 + tmp_15 * m22));\n                dst[13] = d * ((tmp_20 * m32 + tmp_12 * m02 + tmp_19 * m22) -\n                        (tmp_18 * m22 + tmp_21 * m32 + tmp_13 * m02));\n                dst[14] = d * ((tmp_18 * m12 + tmp_23 * m32 + tmp_15 * m02) -\n                        (tmp_22 * m32 + tmp_14 * m02 + tmp_19 * m12));\n                dst[15] = d * ((tmp_22 * m22 + tmp_16 * m02 + tmp_21 * m12) -\n                        (tmp_20 * m12 + tmp_23 * m22 + tmp_17 * m02));\n                return target;\n            });\n\n    mod.transpose = new Sk.builtin.func(function(target, mat)\n            {\n                var dst = target.v;\n                var m = mat.v;\n                for (var j = 0; j < 4; ++j) {\n                    for (var i = 0; i < 4; ++i)\n                    dst[j * 4 + i] = m[i * 4 + j];\n                }\n                return dst;\n            });\n\n    return mod;\n};\n","src/lib/webgl/__init__.js":"var $builtinmodule = function(name)\n{\n  var mod = {};\n\n  var makeFailHTML = function(msg) {\n    return '' +\n      '<table style=\"background-color: #8CE; width: 100%; height: 100%;\"><tr>' +\n      '<td align=\"center\">' +\n      '<div style=\"display: table-cell; vertical-align: middle;\">' +\n      '<div style=\"\">' + msg + '</div>' +\n      '</div>' +\n      '</td></tr></table>';\n  };\n\n  var GET_A_WEBGL_BROWSER = '' +\n    'This page requires a browser that supports WebGL.<br/>' +\n    '<a href=\"http://get.webgl.org\">Click here to upgrade your browser.</a>';\n\n  var NEED_HARDWARE = '' +\n    \"It doesn't appear your computer can support WebGL.<br/>\" +\n    '<a href=\"http://get.webgl.org\">Click here for more information.</a>';\n  \n  var create3DContext = function(canvas) {\n    var names = [\"webgl\", \"experimental-webgl\", \"webkit-3d\", \"moz-webgl\"];\n    var gl = null;\n    for (var ii = 0; ii < names.length; ++ii) {\n      try {\n        gl = canvas.getContext(names[ii]);\n      }\n      catch(e) {\n      }\n      if (gl) {\n          break;\n      }\n    }\n    if (gl) {\n      // Disallow selection by default. This keeps the cursor from changing to an\n      // I-beam when the user clicks and drags. It's easier on the eyes.\n      function returnFalse() {\n        return false;\n      }\n\n      canvas.onselectstart = returnFalse;\n      canvas.onmousedown = returnFalse;\n    }\n    return gl;\n  };\n\n  var setupWebGL = function(canvasContainerId, opt_canvas) {\n    var container = document.getElementById(canvasContainerId);\n    var context;\n    if (!opt_canvas) {\n      opt_canvas = container.getElementsByTagName(\"canvas\")[0];\n    }\n    if (!opt_canvas) {\n        // this browser doesn't support the canvas tag at all. Not even 2d.\n      container.innerHTML = makeFailHTML(GET_A_WEBGL_BROWSER);\n      return;\n    }\n\n    var gl = create3DContext(opt_canvas);\n    if (!gl) {\n      // TODO(gman): fix to official way to detect that it's the user's machine, not the browser.\n      var browserStrings = navigator.userAgent.match(/(\\w+\\/.*? )/g);\n      var browsers = {};\n      try {\n        for (var b = 0; b < browserStrings.length; ++b) {\n          var parts = browserStrings[b].match(/(\\w+)/g);\n          var bb = [];\n          for (var ii = 1; ii < parts.length; ++ii) {\n            bb.push(parseInt(parts[ii]));\n          }\n          browsers[parts[0]] = bb;\n        }\n      }\n      catch (e) {\n      }\n      if (browsers.Chrome &&\n           (browsers.Chrome[0] > 7 ||\n                 (browsers.Chrome[0] == 7 && browsers.Chrome[1] > 0) ||\n                 (browsers.Chrome[0] == 7 && browsers.Chrome[1] == 0 && browsers.Chrome[2] >= 521))) {\n        container.innerHTML = makeFailHTML(NEED_HARDWARE);\n      }\n      else {\n        container.innerHTML = makeFailHTML(GET_A_WEBGL_BROWSER);\n      }\n    }\n    return gl;\n  };\n\n  /**\n   * The Context encapsulates the underlying WebGL native JavaScript API.\n   */\n  mod.Context = Sk.misceval.buildClass(mod, function($gbl, $loc) {\n    $loc.__init__ = new Sk.builtin.func(\n      function(self, canvasid) {\n        var canvas = document.getElementById(canvasid.v);\n        var gl = setupWebGL(canvasid.v, canvas)\n        if (!gl) {\n          throw new Error(\"Your browser does not appear to support WebGL.\");\n        }\n\n        self.gl = gl;\n\n        // Copy symbolic constants and functions from native WebGL, encapsulating where necessary.       \n        for (var k in gl.__proto__) {\n          if (typeof gl.__proto__[k] === 'number') {\n            Sk.abstr.objectSetItem(self['$d'], new Sk.builtin.str(k), gl.__proto__[k]);\n          }\n          else if (typeof gl.__proto__[k] === \"function\") {\n            switch(k) {\n              case 'bufferData': {\n              }\n              break;\n              case 'clearColor': {\n              }\n              break;\n              case 'drawArrays': {\n              }\n              break;\n              case 'getAttribLocation': {\n              }\n              break;\n              case 'getUniformLocation': {\n              }\n              break;\n              case 'shaderSource': {\n              }\n              break;\n              case 'uniformMatrix4fv': {\n              }\n              break;\n              case 'vertexAttribPointer': {\n              }\n              break;\n              case 'viewport': {\n              }\n              break;\n              default: {\n                (function(key) {\n                  Sk.abstr.objectSetItem(self['$d'], new Sk.builtin.str(k), new Sk.builtin.func(function() {\n                    var f = gl.__proto__[key];\n                    return f.apply(gl, arguments);\n                  }));\n                 }(k));\n              }\n            }\n          }\n        }\n\n        gl.clearColor(100.0/255.0, 149.0/255.0, 237.0/255.0, 1.0);\n        gl.clear(gl.COLOR_BUFFER_BIT);\n      }\n    );\n\n    $loc.tp$getattr = Sk.builtin.object.prototype.GenericGetAttr;\n\n    $loc.bufferData = new Sk.builtin.func(\n      function(self, target, data, usage) {\n        self.gl.bufferData(target, data.v, usage);\n      }\n    );\n\n    $loc.clearColor = new Sk.builtin.func(\n      function(self, red, green, blue, alpha) {\n        self.gl.clearColor(Sk.builtin.asnum$(red), Sk.builtin.asnum$(green), Sk.builtin.asnum$(blue), Sk.builtin.asnum$(alpha));\n      }\n    );\n\n    $loc.getAttribLocation = new Sk.builtin.func(\n      function(self, program, name) {\n        return self.gl.getAttribLocation(program, name.v);\n      }\n    );\n\n    $loc.getUniformLocation = new Sk.builtin.func(\n      function(self, program, name) {\n        return self.gl.getUniformLocation(program, name.v);\n      }\n    );\n\n    $loc.shaderSource = new Sk.builtin.func(\n      function(self, shader, src) {\n        self.gl.shaderSource(shader, src.v);\n      }\n    );\n\n    $loc.drawArrays = new Sk.builtin.func(\n      function(self, mode, first, count) {\n        self.gl.drawArrays(Sk.builtin.asnum$(mode), Sk.builtin.asnum$(first), Sk.builtin.asnum$(count));\n      }\n    );\n\n    $loc.vertexAttribPointer = new Sk.builtin.func(\n      function(self, index, size, type, normalized, stride, dunno) {\n        self.gl.vertexAttribPointer(index, Sk.builtin.asnum$(size), Sk.builtin.asnum$(type), normalized, Sk.builtin.asnum$(stride), Sk.builtin.asnum$(dunno));\n      }\n    );\n\n    $loc.viewport = new Sk.builtin.func(\n      function(self, x, y, width, height) {\n        self.gl.viewport(Sk.builtin.asnum$(x), Sk.builtin.asnum$(y), Sk.builtin.asnum$(width), Sk.builtin.asnum$(height));\n      }\n    );\n\n    $loc.uniformMatrix4fv = new Sk.builtin.func(\n      function(self, location, transpose, values) {\n//        console.log(\"location  \" + (typeof location));\n//        console.log(\"transpose \" + (typeof transpose));\n//        console.log(\"values.v  \" + (typeof values.v));\n        self.gl.uniformMatrix4fv(Sk.builtin.asnum$(location), transpose, values.v);\n      }\n    );\n\n    $loc.setDrawFunc = new Sk.builtin.func(function(self, func) {\n      var startTime = (new Date()).getTime();\n      var intervalId = setInterval(\n        function() {\n          Sk.misceval.callsim(func, self, (new Date()).getTime() - startTime);\n        }, 1000.0 / 60.0); // 60 fps\n    });\n\n  }, 'Context', []);\n\n  mod.Float32Array = Sk.misceval.buildClass(mod, function($gbl, $loc) {\n    $loc.__init__ = new Sk.builtin.func(function(self, data) {\n      if (typeof data === \"number\") {\n        self.v = new Float32Array(data);\n      }\n      else {\n        self.v = new Float32Array(Sk.ffi.remapToJs(data));\n      }\n    });\n\n    $loc.__repr__ = new Sk.builtin.func(function(self) {\n      var copy = [];\n      for (var i = 0; i < self.v.length; ++i) {\n        copy.push(self.v[i]);\n      }\n      return new Sk.builtin.str(\"[\" + copy.join(', ') + \"]\");\n     });\n  }, 'Float32Array', []);\n\n  /**\n   * A 4x4 (mutable) matrix suitable for OpenGL.\n   *\n   * Mutability is chosen for performance.\n   * The inderlying implementation is Float32Array.\n   * The indexing of the elements is\n   * 0 4  8 12\n   * 1 5  9 13\n   * 2 6 10 14\n   * 3 7 11 15\n   */\n  mod.Matrix4x4 = Sk.misceval.buildClass(mod, function($gbl, $loc) {\n    $loc.__init__ = new Sk.builtin.func(function(self, data) {\n      self.v = new Float32Array(Sk.ffi.remapToJs(data));\n    });\n\n    $loc.identity = new Sk.builtin.func(\n      function(self) {\n\n        var m = self.v;\n\n        m[0]  = 1;\n        m[1]  = 0;\n        m[2]  = 0;\n        m[3]  = 0;\n\n        m[4]  = 0;\n        m[5]  = 1;\n        m[6]  = 0;\n        m[7]  = 0;\n\n        m[8]  = 0;\n        m[9]  = 0;\n        m[10] = 1;\n        m[11] = 0;\n\n        m[12] = 0;\n        m[13] = 0;\n        m[14] = 0;\n        m[15] = 1;\n      }\n    );\n\n    $loc.perspective = new Sk.builtin.func(\n      function(self, fov, aspect, near, far) {\n        \n        var t = Math.tan(Math.PI * 0.5 - 0.5 * (Sk.builtin.asnum$(fov) * Math.PI / 180));\n        var a = Sk.builtin.asnum$(aspect)\n        var n = Sk.builtin.asnum$(near)\n        var f = Sk.builtin.asnum$(far)\n        var k = 1.0 / (n - f);\n\n        var m = self.v;\n\n        m[0]  = t / a;\n        m[1]  = 0;\n        m[2]  = 0;\n        m[3]  = 0;\n\n        m[4]  = 0;\n        m[5]  = t;\n        m[6]  = 0;\n        m[7]  = 0;\n\n        m[8]  = 0;\n        m[9]  = 0;\n        m[10] = (n + f) * k;\n        m[11] = -1;\n\n        m[12] = 0;\n        m[13] = 0;\n        m[14] = n * f * k * 2;\n        m[15] = 0;\n      }\n    );\n\n    $loc.translate = new Sk.builtin.func(\n      function(self, translation) {\n\n        var m = self.v;\n        var t = Sk.ffi.remapToJs(translation);\n\n        m[0]  = 1;\n        m[1]  = 0;\n        m[2]  = 0;\n        m[3]  = 0;\n\n        m[4]  = 0;\n        m[5]  = 1;\n        m[6]  = 0;\n        m[7]  = 0;\n\n        m[8]  = 0;\n        m[9]  = 0;\n        m[10] = 1;\n        m[11] = 0;\n\n        m[12] = t[0];\n        m[13] = t[1];\n        m[14] = t[2];\n        m[15] = 1;\n      }\n    );\n\n    $loc.__repr__ = new Sk.builtin.func(function(self) {\n      var copy = [];\n      for (var i = 0; i < self.v.length; ++i) {\n        copy.push(self.v[i]);\n      }\n      return new Sk.builtin.str(\"[\" + copy.join(', ') + \"]\");\n     });\n  }, 'Matrix4x4', []);\n\n  return mod;\n};","src/lib/sets.py":'raise NotImplementedError("sets is not yet implemented in Skulpt")\n',"src/lib/modulefinder.py":'raise NotImplementedError("modulefinder is not yet implemented in Skulpt")\n',"src/lib/config/__init__.py":'raise NotImplementedError("config is not yet implemented in Skulpt")\n',"src/lib/decimal.py":'raise NotImplementedError("decimal is not yet implemented in Skulpt")\n',"src/lib/pythonds/trees/balance.py":"#!/bin/env python3.1\n# Bradley N. Miller, David L. Ranum\n# Introduction to Data Structures and Algorithms in Python\n# Copyright 2005, 2010\n# \n\nfrom .bst import BinarySearchTree, TreeNode\n\nclass AVLTree(BinarySearchTree):\n    '''\n    Author:  Brad Miller\n    Date:  1/15/2005\n    Description:  Imlement a binary search tree with the following interface\n                  functions:  \n                  __contains__(y) <==> y in x\n                  __getitem__(y) <==> x[y]\n                  __init__()\n                  __len__() <==> len(x)\n                  __setitem__(k,v) <==> x[k] = v\n                  clear()\n                  get(k)\n                  has_key(k)\n                  items() \n                  keys() \n                  values()\n                  put(k,v)\n    '''\n\n\n    def _put(self,key,val,currentNode):\n        if key < currentNode.key:\n            if currentNode.hasLeftChild():\n                self._put(key,val,currentNode.leftChild)\n            else:\n                currentNode.leftChild = TreeNode(key,val,parent=currentNode)\n                self.updateBalance(currentNode.leftChild)\n        else:\n            if currentNode.hasRightChild():\n                self._put(key,val,currentNode.rightChild)\n            else:\n                currentNode.rightChild = TreeNode(key,val,parent=currentNode)\n                self.updateBalance(currentNode.rightChild)                \n\n    def updateBalance(self,node):\n        if node.balanceFactor > 1 or node.balanceFactor < -1:\n            self.rebalance(node)\n            return\n        if node.parent != None:\n            if node.isLeftChild():\n                node.parent.balanceFactor += 1\n            elif node.isRightChild():\n                node.parent.balanceFactor -= 1\n\n            if node.parent.balanceFactor != 0:\n                self.updateBalance(node.parent)\n\n    def rebalance(self,node):\n        if node.balanceFactor < 0:\n            if node.rightChild.balanceFactor > 0:\n                # Do an LR Rotation\n                self.rotateRight(node.rightChild)\n                self.rotateLeft(node)\n            else:\n                # single left\n                self.rotateLeft(node)\n        elif node.balanceFactor > 0:\n            if node.leftChild.balanceFactor < 0:\n                # Do an RL Rotation\n                self.rotateLeft(node.leftChild)\n                self.rotateRight(node)\n            else:\n                # single right\n                self.rotateRight(node)\n\n    def rotateLeft(self,rotRoot):\n        newRoot = rotRoot.rightChild\n        rotRoot.rightChild = newRoot.leftChild\n        if newRoot.leftChild != None:\n            newRoot.leftChild.parent = rotRoot\n        newRoot.parent = rotRoot.parent\n        if rotRoot.isRoot():\n            self.root = newRoot\n        else:\n            if rotRoot.isLeftChild():\n                rotRoot.parent.leftChild = newRoot\n            else:\n                rotRoot.parent.rightChild = newRoot\n        newRoot.leftChild = rotRoot\n        rotRoot.parent = newRoot\n        rotRoot.balanceFactor = rotRoot.balanceFactor + 1 - min(newRoot.balanceFactor, 0)\n        newRoot.balanceFactor = newRoot.balanceFactor + 1 + max(rotRoot.balanceFactor, 0)\n\n\n    def rotateRight(self,rotRoot):\n        newRoot = rotRoot.leftChild\n        rotRoot.leftChild = newRoot.rightChild\n        if newRoot.rightChild != None:\n            newRoot.rightChild.parent = rotRoot\n        newRoot.parent = rotRoot.parent\n        if rotRoot.isRoot():\n            self.root = newRoot\n        else:\n            if rotRoot.isRightChild():\n                rotRoot.parent.rightChild = newRoot\n            else:\n                rotRoot.parent.leftChild = newRoot\n        newRoot.rightChild = rotRoot\n        rotRoot.parent = newRoot\n        rotRoot.balanceFactor = rotRoot.balanceFactor - 1 - max(newRoot.balanceFactor, 0)\n        newRoot.balanceFactor = newRoot.balanceFactor - 1 + min(rotRoot.balanceFactor, 0)\n        \n","src/lib/urllib/request/__init__.js":'var $builtinmodule = function (name) {\n    var request = {};\n\n\n    //~ Classes .................................................................\n\n    // Response class\n    //\n    // Response objects are returned by the request, get, post, etc.\n    // methods, allowing the user to access the response text, status\n    // code, and other information.\n\n    // ------------------------------------------------------------\n    var response = function ($gbl, $loc) {\n\n        // ------------------------------------------------------------\n        $loc.__init__ = new Sk.builtin.func(function (self, xhr) {\n            self.data$ = xhr.responseText;\n            self.lineList = self.data$.split("\\n");\n            self.lineList = self.lineList.slice(0, -1);\n            for (var i = 0; i < self.lineList.length; i++) {\n                self.lineList[i] = self.lineList[i] + \'\\n\';\n            }\n            self.currentLine = 0;\n            self.pos$ = 0;\n        });\n\n\n        // ------------------------------------------------------------\n        $loc.__str__ = new Sk.builtin.func(function (self) {\n            return Sk.ffi.remapToPy(\'<Response>\');\n        });\n\n\n        // ------------------------------------------------------------\n        $loc.__iter__ = new Sk.builtin.func(function (self) {\n            var allLines = self.lineList;\n\n            return Sk.builtin.makeGenerator(function () {\n                if (this.$index >= this.$lines.length) {\n                    return undefined;\n                }\n                return new Sk.builtin.str(this.$lines[this.$index++]);\n            }, {\n                $obj  : self,\n                $index: 0,\n                $lines: allLines\n            });\n        });\n\n\n        // ------------------------------------------------------------\n        $loc.read = new Sk.builtin.func(function (self, size) {\n            if (self.closed) {\n                throw new Sk.builtin.ValueError("I/O operation on closed file");\n            }\n            var len = self.data$.length;\n            if (size === undefined) {\n                size = len;\n            }\n            var ret = new Sk.builtin.str(self.data$.substr(self.pos$, size));\n            self.pos$ += size;\n            if (self.pos$ >= len) {\n                self.pos$ = len;\n            }\n            return ret;\n        });\n\n\n        // ------------------------------------------------------------\n        $loc.readline = new Sk.builtin.func(function (self, size) {\n            var line = "";\n            if (self.currentLine < self.lineList.length) {\n                line = self.lineList[self.currentLine];\n                self.currentLine++;\n            }\n            return new Sk.builtin.str(line);\n        });\n\n\n        // ------------------------------------------------------------\n        $loc.readlines = new Sk.builtin.func(function (self, sizehint) {\n            var arr = [];\n            for (var i = self.currentLine; i < self.lineList.length; i++) {\n                arr.push(new Sk.builtin.str(self.lineList[i]));\n            }\n            return new Sk.builtin.list(arr);\n        });\n\n    };\n\n    request.Response =\n        Sk.misceval.buildClass(request, response, \'Response\', []);\n\n\n    //~ Module functions ........................................................\n\n    // ------------------------------------------------------------\n    /**\n     * Constructs and sends a Request. Returns Response object.\n     *\n     * http://docs.python-requests.org/en/latest/api/#requests.request\n     *\n     * For now, this implementation doesn\'t actually construct a Request\n     * object; it just makes the request through jQuery.ajax and then\n     * constructs a Response.\n     */\n    request.urlopen = new Sk.builtin.func(function (url, data, timeout) {\n        var prom = new Promise(function(resolve, reject) {\n            var xmlhttp = new XMLHttpRequest();\n\n            xmlhttp.addEventListener("loadend", function (e) {\n                resolve(Sk.misceval.callsim(request.Response, xmlhttp));\n            });\n\n            if (!data) {\n                xmlhttp.open("GET", url.v);\n                xmlhttp.send(null);\n            } else {\n                xmlhttp.open("POST", url.v);\n                xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");\n                xmlhttp.setRequestHeader("Content-length", data.v.length);\n                xmlhttp.send(data.v);\n            }\n        });\n\n        var susp = new Sk.misceval.Suspension();\n\n        susp.resume = function() {\n            return resolution;\n        };\n\n        susp.data = {\n            type: "Sk.promise",\n            promise: prom.then(function(value) {\n                resolution = value;\n                return value;\n            }, function(err) {\n                resolution = "";\n                return err;\n            })\n        };\n\n        return susp;\n    });\n\n\n    return request;\n};\n',"src/lib/quopri.py":'raise NotImplementedError("quopri is not yet implemented in Skulpt")\n',"src/lib/datetime.py":'"""Concrete date/time and related types -- prototype implemented in Python.\n\nSee http://www.zope.org/Members/fdrake/DateTimeWiki/FrontPage\n\nSee also http://dir.yahoo.com/Reference/calendars/\n\nFor a primer on DST, including many current DST rules, see\nhttp://webexhibits.org/daylightsaving/\n\nFor more about DST than you ever wanted to know, see\nftp://elsie.nci.nih.gov/pub/\n\nSources for time zone and DST data: http://www.twinsun.com/tz/tz-link.htm\n\nThis was originally copied from the sandbox of the CPython CVS repository.\nThanks to Tim Peters for suggesting using it.\n\nThis was then copied from PyPy v5.1.0 into Skulpt by Meredydd Luff, removing\n\'from __future__ import division\' (and replacing division operators accordingly)\nand pickle support (which requires \'struct\', which Skulpt does not currently\n[as of 31/8/2016] have)\n"""\n\nimport time as _time\nimport math as _math\n\n_SENTINEL = object()\n\ndef _cmp(x, y):\n    return 0 if x == y else 1 if x > y else -1\n\ndef _round(x):\n    return int(_math.floor(x + 0.5) if x >= 0.0 else _math.ceil(x - 0.5))\n\nMINYEAR = 1\nMAXYEAR = 9999\n_MINYEARFMT = 1900\n\n_MAX_DELTA_DAYS = 999999999\n\n# Utility functions, adapted from Python\'s Demo/classes/Dates.py, which\n# also assumes the current Gregorian calendar indefinitely extended in\n# both directions.  Difference:  Dates.py calls January 1 of year 0 day\n# number 1.  The code here calls January 1 of year 1 day number 1.  This is\n# to match the definition of the "proleptic Gregorian" calendar in Dershowitz\n# and Reingold\'s "Calendrical Calculations", where it\'s the base calendar\n# for all computations.  See the book for algorithms for converting between\n# proleptic Gregorian ordinals and many other calendar systems.\n\n_DAYS_IN_MONTH = [-1, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]\n\n_DAYS_BEFORE_MONTH = [-1]\ndbm = 0\nfor dim in _DAYS_IN_MONTH[1:]:\n    _DAYS_BEFORE_MONTH.append(dbm)\n    dbm += dim\ndel dbm, dim\n\ndef _is_leap(year):\n    "year -> 1 if leap year, else 0."\n    return year % 4 == 0 and (year % 100 != 0 or year % 400 == 0)\n\ndef _days_before_year(year):\n    "year -> number of days before January 1st of year."\n    y = year - 1\n    return y*365 + y//4 - y//100 + y//400\n\ndef _days_in_month(year, month):\n    "year, month -> number of days in that month in that year."\n    assert 1 <= month <= 12, month\n    if month == 2 and _is_leap(year):\n        return 29\n    return _DAYS_IN_MONTH[month]\n\ndef _days_before_month(year, month):\n    "year, month -> number of days in year preceding first day of month."\n    assert 1 <= month <= 12, \'month must be in 1..12\'\n    return _DAYS_BEFORE_MONTH[month] + (month > 2 and _is_leap(year))\n\ndef _ymd2ord(year, month, day):\n    "year, month, day -> ordinal, considering 01-Jan-0001 as day 1."\n    assert 1 <= month <= 12, \'month must be in 1..12\'\n    dim = _days_in_month(year, month)\n    assert 1 <= day <= dim, (\'day must be in 1..%d\' % dim)\n    return (_days_before_year(year) +\n            _days_before_month(year, month) +\n            day)\n\n_DI400Y = _days_before_year(401)    # number of days in 400 years\n_DI100Y = _days_before_year(101)    #    "    "   "   " 100   "\n_DI4Y   = _days_before_year(5)      #    "    "   "   "   4   "\n\n# A 4-year cycle has an extra leap day over what we\'d get from pasting\n# together 4 single years.\nassert _DI4Y == 4 * 365 + 1\n\n# Similarly, a 400-year cycle has an extra leap day over what we\'d get from\n# pasting together 4 100-year cycles.\nassert _DI400Y == 4 * _DI100Y + 1\n\n# OTOH, a 100-year cycle has one fewer leap day than we\'d get from\n# pasting together 25 4-year cycles.\nassert _DI100Y == 25 * _DI4Y - 1\n\n_US_PER_US = 1\n_US_PER_MS = 1000\n_US_PER_SECOND = 1000000\n_US_PER_MINUTE = 60000000\n_SECONDS_PER_DAY = 24 * 3600\n_US_PER_HOUR = 3600000000\n_US_PER_DAY = 86400000000\n_US_PER_WEEK = 604800000000\n\ndef _ord2ymd(n):\n    "ordinal -> (year, month, day), considering 01-Jan-0001 as day 1."\n\n    # n is a 1-based index, starting at 1-Jan-1.  The pattern of leap years\n    # repeats exactly every 400 years.  The basic strategy is to find the\n    # closest 400-year boundary at or before n, then work with the offset\n    # from that boundary to n.  Life is much clearer if we subtract 1 from\n    # n first -- then the values of n at 400-year boundaries are exactly\n    # those divisible by _DI400Y:\n    #\n    #     D  M   Y            n              n-1\n    #     -- --- ----        ----------     ----------------\n    #     31 Dec -400        -_DI400Y       -_DI400Y -1\n    #      1 Jan -399         -_DI400Y +1   -_DI400Y      400-year boundary\n    #     ...\n    #     30 Dec  000        -1             -2\n    #     31 Dec  000         0             -1\n    #      1 Jan  001         1              0            400-year boundary\n    #      2 Jan  001         2              1\n    #      3 Jan  001         3              2\n    #     ...\n    #     31 Dec  400         _DI400Y        _DI400Y -1\n    #      1 Jan  401         _DI400Y +1     _DI400Y      400-year boundary\n    n -= 1\n    n400, n = divmod(n, _DI400Y)\n    year = n400 * 400 + 1   # ..., -399, 1, 401, ...\n\n    # Now n is the (non-negative) offset, in days, from January 1 of year, to\n    # the desired date.  Now compute how many 100-year cycles precede n.\n    # Note that it\'s possible for n100 to equal 4!  In that case 4 full\n    # 100-year cycles precede the desired day, which implies the desired\n    # day is December 31 at the end of a 400-year cycle.\n    n100, n = divmod(n, _DI100Y)\n\n    # Now compute how many 4-year cycles precede it.\n    n4, n = divmod(n, _DI4Y)\n\n    # And now how many single years.  Again n1 can be 4, and again meaning\n    # that the desired day is December 31 at the end of the 4-year cycle.\n    n1, n = divmod(n, 365)\n\n    year += n100 * 100 + n4 * 4 + n1\n    if n1 == 4 or n100 == 4:\n        assert n == 0\n        return year-1, 12, 31\n\n    # Now the year is correct, and n is the offset from January 1.  We find\n    # the month via an estimate that\'s either exact or one too large.\n    leapyear = n1 == 3 and (n4 != 24 or n100 == 3)\n    assert leapyear == _is_leap(year)\n    month = (n + 50) >> 5\n    preceding = _DAYS_BEFORE_MONTH[month] + (month > 2 and leapyear)\n    if preceding > n:  # estimate is too large\n        month -= 1\n        preceding -= _DAYS_IN_MONTH[month] + (month == 2 and leapyear)\n    n -= preceding\n    assert 0 <= n < _days_in_month(year, month)\n\n    # Now the year and month are correct, and n is the offset from the\n    # start of that month:  we\'re done!\n    return year, month, n+1\n\n# Month and day names.  For localized versions, see the calendar module.\n_MONTHNAMES = [None, "Jan", "Feb", "Mar", "Apr", "May", "Jun",\n                     "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"]\n_DAYNAMES = [None, "Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"]\n\n\ndef _build_struct_time(y, m, d, hh, mm, ss, dstflag):\n    wday = (_ymd2ord(y, m, d) + 6) % 7\n    dnum = _days_before_month(y, m) + d\n    return _time.struct_time((y, m, d, hh, mm, ss, wday, dnum, dstflag))\n\ndef _format_time(hh, mm, ss, us):\n    # Skip trailing microseconds when us==0.\n    result = "%02d:%02d:%02d" % (hh, mm, ss)\n    if us:\n        result += ".%06d" % us\n    return result\n\n# Correctly substitute for %z and %Z escapes in strftime formats.\ndef _wrap_strftime(object, format, timetuple):\n    year = timetuple[0]\n    if year < _MINYEARFMT:\n        raise ValueError("year=%d is before %d; the datetime strftime() "\n                         "methods require year >= %d" %\n                         (year, _MINYEARFMT, _MINYEARFMT))\n    # Don\'t call utcoffset() or tzname() unless actually needed.\n    freplace = None  # the string to use for %f\n    zreplace = None  # the string to use for %z\n    Zreplace = None  # the string to use for %Z\n\n    # Scan format for %z and %Z escapes, replacing as needed.\n    newformat = []\n    push = newformat.append\n    i, n = 0, len(format)\n    while i < n:\n        ch = format[i]\n        i += 1\n        if ch == \'%\':\n            if i < n:\n                ch = format[i]\n                i += 1\n                if ch == \'f\':\n                    if freplace is None:\n                        freplace = \'%06d\' % getattr(object,\n                                                    \'microsecond\', 0)\n                    newformat.append(freplace)\n                elif ch == \'z\':\n                    if zreplace is None:\n                        zreplace = ""\n                        if hasattr(object, "_utcoffset"):\n                            offset = object._utcoffset()\n                            if offset is not None:\n                                sign = \'+\'\n                                if offset < 0:\n                                    offset = -offset\n                                    sign = \'-\'\n                                h, m = divmod(offset, 60)\n                                zreplace = \'%c%02d%02d\' % (sign, h, m)\n                    assert \'%\' not in zreplace\n                    newformat.append(zreplace)\n                elif ch == \'Z\':\n                    if Zreplace is None:\n                        Zreplace = ""\n                        if hasattr(object, "tzname"):\n                            s = object.tzname()\n                            if s is not None:\n                                # strftime is going to have at this: escape %\n                                Zreplace = s.replace(\'%\', \'%%\')\n                    newformat.append(Zreplace)\n                else:\n                    push(\'%\')\n                    push(ch)\n            else:\n                push(\'%\')\n        else:\n            push(ch)\n    newformat = "".join(newformat)\n    return _time.strftime(newformat, timetuple)\n\n# Just raise TypeError if the arg isn\'t None or a string.\ndef _check_tzname(name):\n    if name is not None and not isinstance(name, str):\n        raise TypeError("tzinfo.tzname() must return None or string, "\n                        "not \'%s\'" % type(name))\n\n# name is the offset-producing method, "utcoffset" or "dst".\n# offset is what it returned.\n# If offset isn\'t None or timedelta, raises TypeError.\n# If offset is None, returns None.\n# Else offset is checked for being in range, and a whole # of minutes.\n# If it is, its integer value is returned.  Else ValueError is raised.\ndef _check_utc_offset(name, offset):\n    assert name in ("utcoffset", "dst")\n    if offset is None:\n        return\n    if not isinstance(offset, timedelta):\n        raise TypeError("tzinfo.%s() must return None "\n                        "or timedelta, not \'%s\'" % (name, type(offset)))\n    days = offset.days\n    if days < -1 or days > 0:\n        offset = 1440  # trigger out-of-range\n    else:\n        seconds = days * 86400 + offset.seconds\n        minutes, seconds = divmod(seconds, 60)\n        if seconds or offset.microseconds:\n            raise ValueError("tzinfo.%s() must return a whole number "\n                             "of minutes" % name)\n        offset = minutes\n    if not -1440 < offset < 1440:\n        raise ValueError("%s()=%d, must be in -1439..1439" % (name, offset))\n    return offset\n\ndef _check_int_field(value):\n    if isinstance(value, int):\n        return int(value)\n    if not isinstance(value, float):\n        try:\n            value = value.__int__()\n        except AttributeError:\n            pass\n        else:\n            if isinstance(value, int):\n                return int(value)\n            elif isinstance(value, long):\n                return int(long(value))\n            raise TypeError(\'__int__ method should return an integer\')\n        raise TypeError(\'an integer is required\')\n    raise TypeError(\'integer argument expected, got float\')\n\ndef _check_date_fields(year, month, day):\n    year = _check_int_field(year)\n    month = _check_int_field(month)\n    day = _check_int_field(day)\n    if not MINYEAR <= year <= MAXYEAR:\n        raise ValueError(\'year must be in %d..%d\' % (MINYEAR, MAXYEAR), year)\n    if not 1 <= month <= 12:\n        raise ValueError(\'month must be in 1..12\', month)\n    dim = _days_in_month(year, month)\n    if not 1 <= day <= dim:\n        raise ValueError(\'day must be in 1..%d\' % dim, day)\n    return year, month, day\n\ndef _check_time_fields(hour, minute, second, microsecond):\n    hour = _check_int_field(hour)\n    minute = _check_int_field(minute)\n    second = _check_int_field(second)\n    microsecond = _check_int_field(microsecond)\n    if not 0 <= hour <= 23:\n        raise ValueError(\'hour must be in 0..23\', hour)\n    if not 0 <= minute <= 59:\n        raise ValueError(\'minute must be in 0..59\', minute)\n    if not 0 <= second <= 59:\n        raise ValueError(\'second must be in 0..59\', second)\n    if not 0 <= microsecond <= 999999:\n        raise ValueError(\'microsecond must be in 0..999999\', microsecond)\n    return hour, minute, second, microsecond\n\ndef _check_tzinfo_arg(tz):\n    if tz is not None and not isinstance(tz, tzinfo):\n        raise TypeError("tzinfo argument must be None or of a tzinfo subclass")\n\n\n# Notes on comparison:  In general, datetime module comparison operators raise\n# TypeError when they don\'t know how to do a comparison themself.  If they\n# returned NotImplemented instead, comparison could (silently) fall back to\n# the default compare-objects-by-comparing-their-memory-addresses strategy,\n# and that\'s not helpful.  There are two exceptions:\n#\n# 1. For date and datetime, if the other object has a "timetuple" attr,\n#    NotImplemented is returned.  This is a hook to allow other kinds of\n#    datetime-like objects a chance to intercept the comparison.\n#\n# 2. Else __eq__ and __ne__ return False and True, respectively.  This is\n#    so opertaions like\n#\n#        x == y\n#        x != y\n#        x in sequence\n#        x not in sequence\n#        dict[x] = y\n#\n#    don\'t raise annoying TypeErrors just because a datetime object\n#    is part of a heterogeneous collection.  If there\'s no known way to\n#    compare X to a datetime, saying they\'re not equal is reasonable.\n\ndef _cmperror(x, y):\n    raise TypeError("can\'t compare \'%s\' to \'%s\'" % (\n                    type(x).__name__, type(y).__name__))\n\ndef _normalize_pair(hi, lo, factor):\n    if not 0 <= lo <= factor-1:\n        inc, lo = divmod(lo, factor)\n        hi += inc\n    return hi, lo\n\ndef _normalize_datetime(y, m, d, hh, mm, ss, us, ignore_overflow=False):\n    # Normalize all the inputs, and store the normalized values.\n    ss, us = _normalize_pair(ss, us, 1000000)\n    mm, ss = _normalize_pair(mm, ss, 60)\n    hh, mm = _normalize_pair(hh, mm, 60)\n    d, hh = _normalize_pair(d, hh, 24)\n    y, m, d = _normalize_date(y, m, d, ignore_overflow)\n    return y, m, d, hh, mm, ss, us\n\ndef _normalize_date(year, month, day, ignore_overflow=False):\n    # That was easy.  Now it gets muddy:  the proper range for day\n    # can\'t be determined without knowing the correct month and year,\n    # but if day is, e.g., plus or minus a million, the current month\n    # and year values make no sense (and may also be out of bounds\n    # themselves).\n    # Saying 12 months == 1 year should be non-controversial.\n    if not 1 <= month <= 12:\n        year, month = _normalize_pair(year, month-1, 12)\n        month += 1\n        assert 1 <= month <= 12\n\n    # Now only day can be out of bounds (year may also be out of bounds\n    # for a datetime object, but we don\'t care about that here).\n    # If day is out of bounds, what to do is arguable, but at least the\n    # method here is principled and explainable.\n    dim = _days_in_month(year, month)\n    if not 1 <= day <= dim:\n        # Move day-1 days from the first of the month.  First try to\n        # get off cheap if we\'re only one day out of range (adjustments\n        # for timezone alone can\'t be worse than that).\n        if day == 0:    # move back a day\n            month -= 1\n            if month > 0:\n                day = _days_in_month(year, month)\n            else:\n                year, month, day = year-1, 12, 31\n        elif day == dim + 1:    # move forward a day\n            month += 1\n            day = 1\n            if month > 12:\n                month = 1\n                year += 1\n        else:\n            ordinal = _ymd2ord(year, month, 1) + (day - 1)\n            year, month, day = _ord2ymd(ordinal)\n\n    if not ignore_overflow and not MINYEAR <= year <= MAXYEAR:\n        raise OverflowError("date value out of range")\n    return year, month, day\n\ndef _accum(tag, sofar, num, factor, leftover):\n    if isinstance(num, (int, long)):\n        prod = num * factor\n        rsum = sofar + prod\n        return rsum, leftover\n    if isinstance(num, float):\n        fracpart, intpart = _math.modf(num)\n        prod = int(intpart) * factor\n        rsum = sofar + prod\n        if fracpart == 0.0:\n            return rsum, leftover\n        assert isinstance(factor, (int, long))\n        fracpart, intpart = _math.modf(factor * fracpart)\n        rsum += int(intpart)\n        return rsum, leftover + fracpart\n    raise TypeError("unsupported type for timedelta %s component: %s" %\n                    (tag, type(num)))\n\nclass timedelta(object):\n    """Represent the difference between two datetime objects.\n\n    Supported operators:\n\n    - add, subtract timedelta\n    - unary plus, minus, abs\n    - compare to timedelta\n    - multiply, divide by int/long\n\n    In addition, datetime supports subtraction of two datetime objects\n    returning a timedelta, and addition or subtraction of a datetime\n    and a timedelta giving a datetime.\n\n    Representation: (days, seconds, microseconds).  Why?  Because I\n    felt like it.\n    """\n    __slots__ = \'_days\', \'_seconds\', \'_microseconds\', \'_hashcode\'\n\n    def __new__(cls, days=_SENTINEL, seconds=_SENTINEL, microseconds=_SENTINEL,\n                milliseconds=_SENTINEL, minutes=_SENTINEL, hours=_SENTINEL, weeks=_SENTINEL):\n        x = 0\n        leftover = 0.0\n        if microseconds is not _SENTINEL:\n            x, leftover = _accum("microseconds", x, microseconds, _US_PER_US, leftover)\n        if milliseconds is not _SENTINEL:\n            x, leftover = _accum("milliseconds", x, milliseconds, _US_PER_MS, leftover)\n        if seconds is not _SENTINEL:\n            x, leftover = _accum("seconds", x, seconds, _US_PER_SECOND, leftover)\n        if minutes is not _SENTINEL:\n            x, leftover = _accum("minutes", x, minutes, _US_PER_MINUTE, leftover)\n        if hours is not _SENTINEL:\n            x, leftover = _accum("hours", x, hours, _US_PER_HOUR, leftover)\n        if days is not _SENTINEL:\n            x, leftover = _accum("days", x, days, _US_PER_DAY, leftover)\n        if weeks is not _SENTINEL:\n            x, leftover = _accum("weeks", x, weeks, _US_PER_WEEK, leftover)\n        if leftover != 0.0:\n            x += _round(leftover)\n        return cls._from_microseconds(x)\n\n    @classmethod\n    def _from_microseconds(cls, us):\n        s, us = divmod(us, _US_PER_SECOND)\n        d, s = divmod(s, _SECONDS_PER_DAY)\n        return cls._create(d, s, us, False)\n\n    @classmethod\n    def _create(cls, d, s, us, normalize):\n        if normalize:\n            s, us = _normalize_pair(s, us, 1000000)\n            d, s = _normalize_pair(d, s, 24*3600)\n\n        if not -_MAX_DELTA_DAYS <= d <= _MAX_DELTA_DAYS:\n            raise OverflowError("days=%d; must have magnitude <= %d" % (d, _MAX_DELTA_DAYS))\n\n        self = object.__new__(cls)\n        self._days = d\n        self._seconds = s\n        self._microseconds = us\n        self._hashcode = -1\n        return self\n\n    def _to_microseconds(self):\n        return ((self._days * _SECONDS_PER_DAY + self._seconds) * _US_PER_SECOND +\n                self._microseconds)\n\n    def __repr__(self):\n        module = "datetime." if self.__class__ is timedelta else ""\n        if self._microseconds:\n            return "%s(%d, %d, %d)" % (module + self.__class__.__name__,\n                                       self._days,\n                                       self._seconds,\n                                       self._microseconds)\n        if self._seconds:\n            return "%s(%d, %d)" % (module + self.__class__.__name__,\n                                   self._days,\n                                   self._seconds)\n        return "%s(%d)" % (module + self.__class__.__name__, self._days)\n\n    def __str__(self):\n        mm, ss = divmod(self._seconds, 60)\n        hh, mm = divmod(mm, 60)\n        s = "%d:%02d:%02d" % (hh, mm, ss)\n        if self._days:\n            def plural(n):\n                return n, abs(n) != 1 and "s" or ""\n            s = ("%d day%s, " % plural(self._days)) + s\n        if self._microseconds:\n            s = s + ".%06d" % self._microseconds\n        return s\n\n    def total_seconds(self):\n        """Total seconds in the duration."""\n        return self._to_microseconds() / 10.0**6\n\n    # Read-only field accessors\n    @property\n    def days(self):\n        """days"""\n        return self._days\n\n    @property\n    def seconds(self):\n        """seconds"""\n        return self._seconds\n\n    @property\n    def microseconds(self):\n        """microseconds"""\n        return self._microseconds\n\n    def __add__(self, other):\n        if isinstance(other, timedelta):\n            # for CPython compatibility, we cannot use\n            # our __class__ here, but need a real timedelta\n            return timedelta._create(self._days + other._days,\n                                     self._seconds + other._seconds,\n                                     self._microseconds + other._microseconds,\n                                     True)\n        return NotImplemented\n\n    def __sub__(self, other):\n        if isinstance(other, timedelta):\n            # for CPython compatibility, we cannot use\n            # our __class__ here, but need a real timedelta\n            return timedelta._create(self._days - other._days,\n                                     self._seconds - other._seconds,\n                                     self._microseconds - other._microseconds,\n                                     True)\n        return NotImplemented\n\n    def __neg__(self):\n        # for CPython compatibility, we cannot use\n        # our __class__ here, but need a real timedelta\n        return timedelta._create(-self._days,\n                                 -self._seconds,\n                                 -self._microseconds,\n                                 True)\n\n    def __pos__(self):\n        # for CPython compatibility, we cannot use\n        # our __class__ here, but need a real timedelta\n        return timedelta._create(self._days,\n                                 self._seconds,\n                                 self._microseconds,\n                                 False)\n\n    def __abs__(self):\n        if self._days < 0:\n            return -self\n        else:\n            return self\n\n    def __mul__(self, other):\n        if not isinstance(other, (int, long)):\n            return NotImplemented\n        usec = self._to_microseconds()\n        return timedelta._from_microseconds(usec * other)\n\n    __rmul__ = __mul__\n\n    def __div__(self, other):\n        if not isinstance(other, (int, long)):\n            return NotImplemented\n        usec = self._to_microseconds()\n        return timedelta._from_microseconds(usec // other)\n\n    __floordiv__ = __div__\n\n    # Comparisons of timedelta objects with other.\n\n    def __eq__(self, other):\n        if isinstance(other, timedelta):\n            return self._cmp(other) == 0\n        else:\n            return False\n\n    def __ne__(self, other):\n        if isinstance(other, timedelta):\n            return self._cmp(other) != 0\n        else:\n            return True\n\n    def __le__(self, other):\n        if isinstance(other, timedelta):\n            return self._cmp(other) <= 0\n        else:\n            _cmperror(self, other)\n\n    def __lt__(self, other):\n        if isinstance(other, timedelta):\n            return self._cmp(other) < 0\n        else:\n            _cmperror(self, other)\n\n    def __ge__(self, other):\n        if isinstance(other, timedelta):\n            return self._cmp(other) >= 0\n        else:\n            _cmperror(self, other)\n\n    def __gt__(self, other):\n        if isinstance(other, timedelta):\n            return self._cmp(other) > 0\n        else:\n            _cmperror(self, other)\n\n    def _cmp(self, other):\n        assert isinstance(other, timedelta)\n        return _cmp(self._getstate(), other._getstate())\n\n    def __hash__(self):\n        if self._hashcode == -1:\n            self._hashcode = hash(self._getstate())\n        return self._hashcode\n\n    def __nonzero__(self):\n        return (self._days != 0 or\n                self._seconds != 0 or\n                self._microseconds != 0)\n\ntimedelta.min = timedelta(-_MAX_DELTA_DAYS)\ntimedelta.max = timedelta(_MAX_DELTA_DAYS, 24*3600-1, 1000000-1)\ntimedelta.resolution = timedelta(microseconds=1)\n\nclass date(object):\n    """Concrete date type.\n\n    Constructors:\n\n    __new__()\n    fromtimestamp()\n    today()\n    fromordinal()\n\n    Operators:\n\n    __repr__, __str__\n    __cmp__, __hash__\n    __add__, __radd__, __sub__ (add/radd only with timedelta arg)\n\n    Methods:\n\n    timetuple()\n    toordinal()\n    weekday()\n    isoweekday(), isocalendar(), isoformat()\n    ctime()\n    strftime()\n\n    Properties (readonly):\n    year, month, day\n    """\n    __slots__ = \'_year\', \'_month\', \'_day\', \'_hashcode\'\n\n    def __new__(cls, year, month=None, day=None):\n        """Constructor.\n\n        Arguments:\n\n        year, month, day (required, base 1)\n        """\n        year, month, day = _check_date_fields(year, month, day)\n        self = object.__new__(cls)\n        self._year = year\n        self._month = month\n        self._day = day\n        self._hashcode = -1\n        return self\n\n    # Additional constructors\n\n    @classmethod\n    def fromtimestamp(cls, t):\n        "Construct a date from a POSIX timestamp (like time.time())."\n        y, m, d, hh, mm, ss, weekday, jday, dst = _time.localtime(t)\n        return cls(y, m, d)\n\n    @classmethod\n    def today(cls):\n        "Construct a date from time.time()."\n        t = _time.time()\n        return cls.fromtimestamp(t)\n\n    @classmethod\n    def fromordinal(cls, n):\n        """Contruct a date from a proleptic Gregorian ordinal.\n\n        January 1 of year 1 is day 1.  Only the year, month and day are\n        non-zero in the result.\n        """\n        y, m, d = _ord2ymd(n)\n        return cls(y, m, d)\n\n    # Conversions to string\n\n    def __repr__(self):\n        """Convert to formal string, for repr().\n\n        >>> dt = datetime(2010, 1, 1)\n        >>> repr(dt)\n        \'datetime.datetime(2010, 1, 1, 0, 0)\'\n\n        >>> dt = datetime(2010, 1, 1, tzinfo=timezone.utc)\n        >>> repr(dt)\n        \'datetime.datetime(2010, 1, 1, 0, 0, tzinfo=datetime.timezone.utc)\'\n        """\n        module = "datetime." if self.__class__ is date else ""\n        return "%s(%d, %d, %d)" % (module + self.__class__.__name__,\n                                   self._year,\n                                   self._month,\n                                   self._day)\n\n    # XXX These shouldn\'t depend on time.localtime(), because that\n    # clips the usable dates to [1970 .. 2038).  At least ctime() is\n    # easily done without using strftime() -- that\'s better too because\n    # strftime("%c", ...) is locale specific.\n\n    def ctime(self):\n        "Return ctime() style string."\n        weekday = self.toordinal() % 7 or 7\n        return "%s %s %2d 00:00:00 %04d" % (\n            _DAYNAMES[weekday],\n            _MONTHNAMES[self._month],\n            self._day, self._year)\n\n    def strftime(self, format):\n        "Format using strftime()."\n        return _wrap_strftime(self, format, self.timetuple())\n\n    def __format__(self, fmt):\n        if not isinstance(fmt, (str, unicode)):\n            raise ValueError("__format__ expects str or unicode, not %s" %\n                             fmt.__class__.__name__)\n        if len(fmt) != 0:\n            return self.strftime(fmt)\n        return str(self)\n\n    def isoformat(self):\n        """Return the date formatted according to ISO.\n\n        This is \'YYYY-MM-DD\'.\n\n        References:\n        - http://www.w3.org/TR/NOTE-datetime\n        - http://www.cl.cam.ac.uk/~mgk25/iso-time.html\n        """\n        return "%04d-%02d-%02d" % (self._year, self._month, self._day)\n\n    __str__ = isoformat\n\n    # Read-only field accessors\n    @property\n    def year(self):\n        """year (1-9999)"""\n        return self._year\n\n    @property\n    def month(self):\n        """month (1-12)"""\n        return self._month\n\n    @property\n    def day(self):\n        """day (1-31)"""\n        return self._day\n\n    # Standard conversions, __cmp__, __hash__ (and helpers)\n\n    def timetuple(self):\n        "Return local time tuple compatible with time.localtime()."\n        return _build_struct_time(self._year, self._month, self._day,\n                                  0, 0, 0, -1)\n\n    def toordinal(self):\n        """Return proleptic Gregorian ordinal for the year, month and day.\n\n        January 1 of year 1 is day 1.  Only the year, month and day values\n        contribute to the result.\n        """\n        return _ymd2ord(self._year, self._month, self._day)\n\n    def replace(self, year=None, month=None, day=None):\n        """Return a new date with new values for the specified fields."""\n        if year is None:\n            year = self._year\n        if month is None:\n            month = self._month\n        if day is None:\n            day = self._day\n        return date(year, month, day)\n\n    # Comparisons of date objects with other.\n\n    def __eq__(self, other):\n        if isinstance(other, date):\n            return self._cmp(other) == 0\n        elif hasattr(other, "timetuple"):\n            return NotImplemented\n        else:\n            return False\n\n    def __ne__(self, other):\n        if isinstance(other, date):\n            return self._cmp(other) != 0\n        elif hasattr(other, "timetuple"):\n            return NotImplemented\n        else:\n            return True\n\n    def __le__(self, other):\n        if isinstance(other, date):\n            return self._cmp(other) <= 0\n        elif hasattr(other, "timetuple"):\n            return NotImplemented\n        else:\n            _cmperror(self, other)\n\n    def __lt__(self, other):\n        if isinstance(other, date):\n            return self._cmp(other) < 0\n        elif hasattr(other, "timetuple"):\n            return NotImplemented\n        else:\n            _cmperror(self, other)\n\n    def __ge__(self, other):\n        if isinstance(other, date):\n            return self._cmp(other) >= 0\n        elif hasattr(other, "timetuple"):\n            return NotImplemented\n        else:\n            _cmperror(self, other)\n\n    def __gt__(self, other):\n        if isinstance(other, date):\n            return self._cmp(other) > 0\n        elif hasattr(other, "timetuple"):\n            return NotImplemented\n        else:\n            _cmperror(self, other)\n\n    def _cmp(self, other):\n        assert isinstance(other, date)\n        y, m, d = self._year, self._month, self._day\n        y2, m2, d2 = other._year, other._month, other._day\n        return _cmp((y, m, d), (y2, m2, d2))\n\n    def __hash__(self):\n        "Hash."\n        if self._hashcode == -1:\n            self._hashcode = hash(self._getstate())\n        return self._hashcode\n\n    # Computations\n\n    def _add_timedelta(self, other, factor):\n        y, m, d = _normalize_date(\n            self._year,\n            self._month,\n            self._day + other.days * factor)\n        return date(y, m, d)\n\n    def __add__(self, other):\n        "Add a date to a timedelta."\n        if isinstance(other, timedelta):\n            return self._add_timedelta(other, 1)\n        return NotImplemented\n\n    __radd__ = __add__\n\n    def __sub__(self, other):\n        """Subtract two dates, or a date and a timedelta."""\n        if isinstance(other, date):\n            days1 = self.toordinal()\n            days2 = other.toordinal()\n            return timedelta._create(days1 - days2, 0, 0, False)\n        if isinstance(other, timedelta):\n            return self._add_timedelta(other, -1)\n        return NotImplemented\n\n    def weekday(self):\n        "Return day of the week, where Monday == 0 ... Sunday == 6."\n        return (self.toordinal() + 6) % 7\n\n    # Day-of-the-week and week-of-the-year, according to ISO\n\n    def isoweekday(self):\n        "Return day of the week, where Monday == 1 ... Sunday == 7."\n        # 1-Jan-0001 is a Monday\n        return self.toordinal() % 7 or 7\n\n    def isocalendar(self):\n        """Return a 3-tuple containing ISO year, week number, and weekday.\n\n        The first ISO week of the year is the (Mon-Sun) week\n        containing the year\'s first Thursday; everything else derives\n        from that.\n\n        The first week is 1; Monday is 1 ... Sunday is 7.\n\n        ISO calendar algorithm taken from\n        http://www.phys.uu.nl/~vgent/calendar/isocalendar.htm\n        """\n        year = self._year\n        week1monday = _isoweek1monday(year)\n        today = _ymd2ord(self._year, self._month, self._day)\n        # Internally, week and day have origin 0\n        week, day = divmod(today - week1monday, 7)\n        if week < 0:\n            year -= 1\n            week1monday = _isoweek1monday(year)\n            week, day = divmod(today - week1monday, 7)\n        elif week >= 52:\n            if today >= _isoweek1monday(year+1):\n                year += 1\n                week = 0\n        return year, week+1, day+1\n\n_date_class = date  # so functions w/ args named "date" can get at the class\n\ndate.min = date(1, 1, 1)\ndate.max = date(9999, 12, 31)\ndate.resolution = timedelta(days=1)\n\nclass tzinfo(object):\n    """Abstract base class for time zone info classes.\n\n    Subclasses must override the name(), utcoffset() and dst() methods.\n    """\n    __slots__ = ()\n\n    def tzname(self, dt):\n        "datetime -> string name of time zone."\n        raise NotImplementedError("tzinfo subclass must override tzname()")\n\n    def utcoffset(self, dt):\n        "datetime -> minutes east of UTC (negative for west of UTC)"\n        raise NotImplementedError("tzinfo subclass must override utcoffset()")\n\n    def dst(self, dt):\n        """datetime -> DST offset in minutes east of UTC.\n\n        Return 0 if DST not in effect.  utcoffset() must include the DST\n        offset.\n        """\n        raise NotImplementedError("tzinfo subclass must override dst()")\n\n    def fromutc(self, dt):\n        "datetime in UTC -> datetime in local time."\n\n        if not isinstance(dt, datetime):\n            raise TypeError("fromutc() requires a datetime argument")\n        if dt.tzinfo is not self:\n            raise ValueError("dt.tzinfo is not self")\n\n        dtoff = dt.utcoffset()\n        if dtoff is None:\n            raise ValueError("fromutc() requires a non-None utcoffset() "\n                             "result")\n\n        # See the long comment block at the end of this file for an\n        # explanation of this algorithm.\n        dtdst = dt.dst()\n        if dtdst is None:\n            raise ValueError("fromutc() requires a non-None dst() result")\n        delta = dtoff - dtdst\n        if delta:\n            dt = dt + delta\n            dtdst = dt.dst()\n            if dtdst is None:\n                raise ValueError("fromutc(): dt.dst gave inconsistent "\n                                 "results; cannot convert")\n        if dtdst:\n            return dt + dtdst\n        else:\n            return dt\n\n_tzinfo_class = tzinfo\n\nclass time(object):\n    """Time with time zone.\n\n    Constructors:\n\n    __new__()\n\n    Operators:\n\n    __repr__, __str__\n    __cmp__, __hash__\n\n    Methods:\n\n    strftime()\n    isoformat()\n    utcoffset()\n    tzname()\n    dst()\n\n    Properties (readonly):\n    hour, minute, second, microsecond, tzinfo\n    """\n    __slots__ = \'_hour\', \'_minute\', \'_second\', \'_microsecond\', \'_tzinfo\', \'_hashcode\'\n\n    def __new__(cls, hour=0, minute=0, second=0, microsecond=0, tzinfo=None):\n        """Constructor.\n\n        Arguments:\n\n        hour, minute (required)\n        second, microsecond (default to zero)\n        tzinfo (default to None)\n        """\n        hour, minute, second, microsecond = _check_time_fields(\n            hour, minute, second, microsecond)\n        _check_tzinfo_arg(tzinfo)\n        self = object.__new__(cls)\n        self._hour = hour\n        self._minute = minute\n        self._second = second\n        self._microsecond = microsecond\n        self._tzinfo = tzinfo\n        self._hashcode = -1\n        return self\n\n    # Read-only field accessors\n    @property\n    def hour(self):\n        """hour (0-23)"""\n        return self._hour\n\n    @property\n    def minute(self):\n        """minute (0-59)"""\n        return self._minute\n\n    @property\n    def second(self):\n        """second (0-59)"""\n        return self._second\n\n    @property\n    def microsecond(self):\n        """microsecond (0-999999)"""\n        return self._microsecond\n\n    @property\n    def tzinfo(self):\n        """timezone info object"""\n        return self._tzinfo\n\n    # Standard conversions, __hash__ (and helpers)\n\n    # Comparisons of time objects with other.\n\n    def __eq__(self, other):\n        if isinstance(other, time):\n            return self._cmp(other) == 0\n        else:\n            return False\n\n    def __ne__(self, other):\n        if isinstance(other, time):\n            return self._cmp(other) != 0\n        else:\n            return True\n\n    def __le__(self, other):\n        if isinstance(other, time):\n            return self._cmp(other) <= 0\n        else:\n            _cmperror(self, other)\n\n    def __lt__(self, other):\n        if isinstance(other, time):\n            return self._cmp(other) < 0\n        else:\n            _cmperror(self, other)\n\n    def __ge__(self, other):\n        if isinstance(other, time):\n            return self._cmp(other) >= 0\n        else:\n            _cmperror(self, other)\n\n    def __gt__(self, other):\n        if isinstance(other, time):\n            return self._cmp(other) > 0\n        else:\n            _cmperror(self, other)\n\n    def _cmp(self, other):\n        assert isinstance(other, time)\n        mytz = self._tzinfo\n        ottz = other._tzinfo\n        myoff = otoff = None\n\n        if mytz is ottz:\n            base_compare = True\n        else:\n            myoff = self._utcoffset()\n            otoff = other._utcoffset()\n            base_compare = myoff == otoff\n\n        if base_compare:\n            return _cmp((self._hour, self._minute, self._second,\n                         self._microsecond),\n                        (other._hour, other._minute, other._second,\n                         other._microsecond))\n        if myoff is None or otoff is None:\n            raise TypeError("can\'t compare offset-naive and offset-aware times")\n        myhhmm = self._hour * 60 + self._minute - myoff\n        othhmm = other._hour * 60 + other._minute - otoff\n        return _cmp((myhhmm, self._second, self._microsecond),\n                    (othhmm, other._second, other._microsecond))\n\n    def __hash__(self):\n        """Hash."""\n        if self._hashcode == -1:\n            tzoff = self._utcoffset()\n            if not tzoff:  # zero or None\n                self._hashcode = hash(self._getstate()[0])\n            else:\n                h, m = divmod(self.hour * 60 + self.minute - tzoff, 60)\n                if 0 <= h < 24:\n                    self._hashcode = hash(time(h, m, self.second, self.microsecond))\n                else:\n                    self._hashcode = hash((h, m, self.second, self.microsecond))\n        return self._hashcode\n\n    # Conversion to string\n\n    def _tzstr(self, sep=":"):\n        """Return formatted timezone offset (+xx:xx) or None."""\n        off = self._utcoffset()\n        if off is not None:\n            if off < 0:\n                sign = "-"\n                off = -off\n            else:\n                sign = "+"\n            hh, mm = divmod(off, 60)\n            assert 0 <= hh < 24\n            off = "%s%02d%s%02d" % (sign, hh, sep, mm)\n        return off\n\n    def __repr__(self):\n        """Convert to formal string, for repr()."""\n        if self._microsecond != 0:\n            s = ", %d, %d" % (self._second, self._microsecond)\n        elif self._second != 0:\n            s = ", %d" % self._second\n        else:\n            s = ""\n        module = "datetime." if self.__class__ is time else ""\n        s= "%s(%d, %d%s)" % (module + self.__class__.__name__,\n                             self._hour, self._minute, s)\n        if self._tzinfo is not None:\n            assert s[-1:] == ")"\n            s = s[:-1] + ", tzinfo=%r" % self._tzinfo + ")"\n        return s\n\n    def isoformat(self):\n        """Return the time formatted according to ISO.\n\n        This is \'HH:MM:SS.mmmmmm+zz:zz\', or \'HH:MM:SS+zz:zz\' if\n        self.microsecond == 0.\n        """\n        s = _format_time(self._hour, self._minute, self._second,\n                         self._microsecond)\n        tz = self._tzstr()\n        if tz:\n            s += tz\n        return s\n\n    __str__ = isoformat\n\n    def strftime(self, format):\n        """Format using strftime().  The date part of the timestamp passed\n        to underlying strftime should not be used.\n        """\n        # The year must be >= _MINYEARFMT else Python\'s strftime implementation\n        # can raise a bogus exception.\n        timetuple = (1900, 1, 1,\n                     self._hour, self._minute, self._second,\n                     0, 1, -1)\n        return _wrap_strftime(self, format, timetuple)\n\n    def __format__(self, fmt):\n        if not isinstance(fmt, (str, unicode)):\n            raise ValueError("__format__ expects str or unicode, not %s" %\n                             fmt.__class__.__name__)\n        if len(fmt) != 0:\n            return self.strftime(fmt)\n        return str(self)\n\n    # Timezone functions\n\n    def utcoffset(self):\n        """Return the timezone offset in minutes east of UTC (negative west of\n        UTC)."""\n        if self._tzinfo is None:\n            return None\n        offset = self._tzinfo.utcoffset(None)\n        offset = _check_utc_offset("utcoffset", offset)\n        if offset is not None:\n            offset = timedelta._create(0, offset * 60, 0, True)\n        return offset\n\n    # Return an integer (or None) instead of a timedelta (or None).\n    def _utcoffset(self):\n        if self._tzinfo is None:\n            return None\n        offset = self._tzinfo.utcoffset(None)\n        offset = _check_utc_offset("utcoffset", offset)\n        return offset\n\n    def tzname(self):\n        """Return the timezone name.\n\n        Note that the name is 100% informational -- there\'s no requirement that\n        it mean anything in particular. For example, "GMT", "UTC", "-500",\n        "-5:00", "EDT", "US/Eastern", "America/New York" are all valid replies.\n        """\n        if self._tzinfo is None:\n            return None\n        name = self._tzinfo.tzname(None)\n        _check_tzname(name)\n        return name\n\n    def dst(self):\n        """Return 0 if DST is not in effect, or the DST offset (in minutes\n        eastward) if DST is in effect.\n\n        This is purely informational; the DST offset has already been added to\n        the UTC offset returned by utcoffset() if applicable, so there\'s no\n        need to consult dst() unless you\'re interested in displaying the DST\n        info.\n        """\n        if self._tzinfo is None:\n            return None\n        offset = self._tzinfo.dst(None)\n        offset = _check_utc_offset("dst", offset)\n        if offset is not None:\n            offset = timedelta._create(0, offset * 60, 0, True)\n        return offset\n\n    # Return an integer (or None) instead of a timedelta (or None).\n    def _dst(self):\n        if self._tzinfo is None:\n            return None\n        offset = self._tzinfo.dst(None)\n        offset = _check_utc_offset("dst", offset)\n        return offset\n\n    def replace(self, hour=None, minute=None, second=None, microsecond=None,\n                tzinfo=True):\n        """Return a new time with new values for the specified fields."""\n        if hour is None:\n            hour = self.hour\n        if minute is None:\n            minute = self.minute\n        if second is None:\n            second = self.second\n        if microsecond is None:\n            microsecond = self.microsecond\n        if tzinfo is True:\n            tzinfo = self.tzinfo\n        return time(hour, minute, second, microsecond, tzinfo)\n\n    def __nonzero__(self):\n        if self.second or self.microsecond:\n            return True\n        offset = self._utcoffset() or 0\n        return self.hour * 60 + self.minute != offset\n\n_time_class = time  # so functions w/ args named "time" can get at the class\n\ntime.min = time(0, 0, 0)\ntime.max = time(23, 59, 59, 999999)\ntime.resolution = timedelta(microseconds=1)\n\nclass datetime(date):\n    """datetime(year, month, day[, hour[, minute[, second[, microsecond[,tzinfo]]]]])\n\n    The year, month and day arguments are required. tzinfo may be None, or an\n    instance of a tzinfo subclass. The remaining arguments may be ints or longs.\n    """\n    __slots__ = date.__slots__ + time.__slots__\n\n    def __new__(cls, year, month=None, day=None, hour=0, minute=0, second=0,\n                microsecond=0, tzinfo=None):\n        year, month, day = _check_date_fields(year, month, day)\n        hour, minute, second, microsecond = _check_time_fields(\n            hour, minute, second, microsecond)\n        _check_tzinfo_arg(tzinfo)\n        self = object.__new__(cls)\n        self._year = year\n        self._month = month\n        self._day = day\n        self._hour = hour\n        self._minute = minute\n        self._second = second\n        self._microsecond = microsecond\n        self._tzinfo = tzinfo\n        self._hashcode = -1\n        return self\n\n    # Read-only field accessors\n    @property\n    def hour(self):\n        """hour (0-23)"""\n        return self._hour\n\n    @property\n    def minute(self):\n        """minute (0-59)"""\n        return self._minute\n\n    @property\n    def second(self):\n        """second (0-59)"""\n        return self._second\n\n    @property\n    def microsecond(self):\n        """microsecond (0-999999)"""\n        return self._microsecond\n\n    @property\n    def tzinfo(self):\n        """timezone info object"""\n        return self._tzinfo\n\n    @classmethod\n    def fromtimestamp(cls, timestamp, tz=None):\n        """Construct a datetime from a POSIX timestamp (like time.time()).\n\n        A timezone info object may be passed in as well.\n        """\n        _check_tzinfo_arg(tz)\n        converter = _time.localtime if tz is None else _time.gmtime\n        self = cls._from_timestamp(converter, timestamp, tz)\n        if tz is not None:\n            self = tz.fromutc(self)\n        return self\n\n    @classmethod\n    def utcfromtimestamp(cls, t):\n        "Construct a UTC datetime from a POSIX timestamp (like time.time())."\n        return cls._from_timestamp(_time.gmtime, t, None)\n\n    @classmethod\n    def _from_timestamp(cls, converter, timestamp, tzinfo):\n        t_full = timestamp\n        timestamp = int(_math.floor(timestamp))\n        frac = t_full - timestamp\n        us = _round(frac * 1e6)\n\n        # If timestamp is less than one microsecond smaller than a\n        # full second, us can be rounded up to 1000000.  In this case,\n        # roll over to seconds, otherwise, ValueError is raised\n        # by the constructor.\n        if us == 1000000:\n            timestamp += 1\n            us = 0\n        y, m, d, hh, mm, ss, weekday, jday, dst = converter(timestamp)\n        ss = min(ss, 59)    # clamp out leap seconds if the platform has them\n        return cls(y, m, d, hh, mm, ss, us, tzinfo)\n\n    @classmethod\n    def now(cls, tz=None):\n        "Construct a datetime from time.time() and optional time zone info."\n        t = _time.time()\n        return cls.fromtimestamp(t, tz)\n\n    @classmethod\n    def utcnow(cls):\n        "Construct a UTC datetime from time.time()."\n        t = _time.time()\n        return cls.utcfromtimestamp(t)\n\n    @classmethod\n    def combine(cls, date, time):\n        "Construct a datetime from a given date and a given time."\n        if not isinstance(date, _date_class):\n            raise TypeError("date argument must be a date instance")\n        if not isinstance(time, _time_class):\n            raise TypeError("time argument must be a time instance")\n        return cls(date.year, date.month, date.day,\n                   time.hour, time.minute, time.second, time.microsecond,\n                   time.tzinfo)\n\n    def timetuple(self):\n        "Return local time tuple compatible with time.localtime()."\n        dst = self._dst()\n        if dst is None:\n            dst = -1\n        elif dst:\n            dst = 1\n        return _build_struct_time(self.year, self.month, self.day,\n                                  self.hour, self.minute, self.second,\n                                  dst)\n\n    def utctimetuple(self):\n        "Return UTC time tuple compatible with time.gmtime()."\n        y, m, d = self.year, self.month, self.day\n        hh, mm, ss = self.hour, self.minute, self.second\n        offset = self._utcoffset()\n        if offset:  # neither None nor 0\n            mm -= offset\n            y, m, d, hh, mm, ss, _ = _normalize_datetime(\n                y, m, d, hh, mm, ss, 0, ignore_overflow=True)\n        return _build_struct_time(y, m, d, hh, mm, ss, 0)\n\n    def date(self):\n        "Return the date part."\n        return date(self._year, self._month, self._day)\n\n    def time(self):\n        "Return the time part, with tzinfo None."\n        return time(self.hour, self.minute, self.second, self.microsecond)\n\n    def timetz(self):\n        "Return the time part, with same tzinfo."\n        return time(self.hour, self.minute, self.second, self.microsecond,\n                    self._tzinfo)\n\n    def replace(self, year=None, month=None, day=None, hour=None,\n                minute=None, second=None, microsecond=None, tzinfo=True):\n        """Return a new datetime with new values for the specified fields."""\n        if year is None:\n            year = self.year\n        if month is None:\n            month = self.month\n        if day is None:\n            day = self.day\n        if hour is None:\n            hour = self.hour\n        if minute is None:\n            minute = self.minute\n        if second is None:\n            second = self.second\n        if microsecond is None:\n            microsecond = self.microsecond\n        if tzinfo is True:\n            tzinfo = self.tzinfo\n        return datetime(year, month, day, hour, minute, second, microsecond,\n                        tzinfo)\n\n    def astimezone(self, tz):\n        if not isinstance(tz, tzinfo):\n            raise TypeError("tz argument must be an instance of tzinfo")\n\n        mytz = self.tzinfo\n        if mytz is None:\n            raise ValueError("astimezone() requires an aware datetime")\n\n        if tz is mytz:\n            return self\n\n        # Convert self to UTC, and attach the new time zone object.\n        myoffset = self.utcoffset()\n        if myoffset is None:\n            raise ValueError("astimezone() requires an aware datetime")\n        utc = (self - myoffset).replace(tzinfo=tz)\n\n        # Convert from UTC to tz\'s local time.\n        return tz.fromutc(utc)\n\n    # Ways to produce a string.\n\n    def ctime(self):\n        "Return ctime() style string."\n        weekday = self.toordinal() % 7 or 7\n        return "%s %s %2d %02d:%02d:%02d %04d" % (\n            _DAYNAMES[weekday],\n            _MONTHNAMES[self._month],\n            self._day,\n            self._hour, self._minute, self._second,\n            self._year)\n\n    def isoformat(self, sep=\'T\'):\n        """Return the time formatted according to ISO.\n\n        This is \'YYYY-MM-DD HH:MM:SS.mmmmmm\', or \'YYYY-MM-DD HH:MM:SS\' if\n        self.microsecond == 0.\n\n        If self.tzinfo is not None, the UTC offset is also attached, giving\n        \'YYYY-MM-DD HH:MM:SS.mmmmmm+HH:MM\' or \'YYYY-MM-DD HH:MM:SS+HH:MM\'.\n\n        Optional argument sep specifies the separator between date and\n        time, default \'T\'.\n        """\n        s = ("%04d-%02d-%02d%c" % (self._year, self._month, self._day, sep) +\n             _format_time(self._hour, self._minute, self._second,\n                          self._microsecond))\n        off = self._utcoffset()\n        if off is not None:\n            if off < 0:\n                sign = "-"\n                off = -off\n            else:\n                sign = "+"\n            hh, mm = divmod(off, 60)\n            s += "%s%02d:%02d" % (sign, hh, mm)\n        return s\n\n    def __repr__(self):\n        """Convert to formal string, for repr()."""\n        L = [self._year, self._month, self._day,  # These are never zero\n             self._hour, self._minute, self._second, self._microsecond]\n        if L[-1] == 0:\n            del L[-1]\n        if L[-1] == 0:\n            del L[-1]\n        s = ", ".join(map(str, L))\n        module = "datetime." if self.__class__ is datetime else ""\n        s = "%s(%s)" % (module + self.__class__.__name__, s)\n        if self._tzinfo is not None:\n            assert s[-1:] == ")"\n            s = s[:-1] + ", tzinfo=%r" % self._tzinfo + ")"\n        return s\n\n    def __str__(self):\n        "Convert to string, for str()."\n        return self.isoformat(sep=\' \')\n\n    @classmethod\n    def strptime(cls, date_string, format):\n        \'string, format -> new datetime parsed from a string (like time.strptime()).\'\n        from _strptime import _strptime\n        # _strptime._strptime returns a two-element tuple.  The first\n        # element is a time.struct_time object.  The second is the\n        # microseconds (which are not defined for time.struct_time).\n        struct, micros = _strptime(date_string, format)\n        return cls(*(struct[0:6] + (micros,)))\n\n    def utcoffset(self):\n        """Return the timezone offset in minutes east of UTC (negative west of\n        UTC)."""\n        if self._tzinfo is None:\n            return None\n        offset = self._tzinfo.utcoffset(self)\n        offset = _check_utc_offset("utcoffset", offset)\n        if offset is not None:\n            offset = timedelta._create(0, offset * 60, 0, True)\n        return offset\n\n    # Return an integer (or None) instead of a timedelta (or None).\n    def _utcoffset(self):\n        if self._tzinfo is None:\n            return None\n        offset = self._tzinfo.utcoffset(self)\n        offset = _check_utc_offset("utcoffset", offset)\n        return offset\n\n    def tzname(self):\n        """Return the timezone name.\n\n        Note that the name is 100% informational -- there\'s no requirement that\n        it mean anything in particular. For example, "GMT", "UTC", "-500",\n        "-5:00", "EDT", "US/Eastern", "America/New York" are all valid replies.\n        """\n        if self._tzinfo is None:\n            return None\n        name = self._tzinfo.tzname(self)\n        _check_tzname(name)\n        return name\n\n    def dst(self):\n        """Return 0 if DST is not in effect, or the DST offset (in minutes\n        eastward) if DST is in effect.\n\n        This is purely informational; the DST offset has already been added to\n        the UTC offset returned by utcoffset() if applicable, so there\'s no\n        need to consult dst() unless you\'re interested in displaying the DST\n        info.\n        """\n        if self._tzinfo is None:\n            return None\n        offset = self._tzinfo.dst(self)\n        offset = _check_utc_offset("dst", offset)\n        if offset is not None:\n            offset = timedelta._create(0, offset * 60, 0, True)\n        return offset\n\n    # Return an integer (or None) instead of a timedelta (or None).\n    def _dst(self):\n        if self._tzinfo is None:\n            return None\n        offset = self._tzinfo.dst(self)\n        offset = _check_utc_offset("dst", offset)\n        return offset\n\n    # Comparisons of datetime objects with other.\n\n    def __eq__(self, other):\n        if isinstance(other, datetime):\n            return self._cmp(other) == 0\n        elif hasattr(other, "timetuple") and not isinstance(other, date):\n            return NotImplemented\n        else:\n            return False\n\n    def __ne__(self, other):\n        if isinstance(other, datetime):\n            return self._cmp(other) != 0\n        elif hasattr(other, "timetuple") and not isinstance(other, date):\n            return NotImplemented\n        else:\n            return True\n\n    def __le__(self, other):\n        if isinstance(other, datetime):\n            return self._cmp(other) <= 0\n        elif hasattr(other, "timetuple") and not isinstance(other, date):\n            return NotImplemented\n        else:\n            _cmperror(self, other)\n\n    def __lt__(self, other):\n        if isinstance(other, datetime):\n            return self._cmp(other) < 0\n        elif hasattr(other, "timetuple") and not isinstance(other, date):\n            return NotImplemented\n        else:\n            _cmperror(self, other)\n\n    def __ge__(self, other):\n        if isinstance(other, datetime):\n            return self._cmp(other) >= 0\n        elif hasattr(other, "timetuple") and not isinstance(other, date):\n            return NotImplemented\n        else:\n            _cmperror(self, other)\n\n    def __gt__(self, other):\n        if isinstance(other, datetime):\n            return self._cmp(other) > 0\n        elif hasattr(other, "timetuple") and not isinstance(other, date):\n            return NotImplemented\n        else:\n            _cmperror(self, other)\n\n    def _cmp(self, other):\n        assert isinstance(other, datetime)\n        mytz = self._tzinfo\n        ottz = other._tzinfo\n        myoff = otoff = None\n\n        if mytz is ottz:\n            base_compare = True\n        else:\n            if mytz is not None:\n                myoff = self._utcoffset()\n            if ottz is not None:\n                otoff = other._utcoffset()\n            base_compare = myoff == otoff\n\n        if base_compare:\n            return _cmp((self._year, self._month, self._day,\n                         self._hour, self._minute, self._second,\n                         self._microsecond),\n                        (other._year, other._month, other._day,\n                         other._hour, other._minute, other._second,\n                         other._microsecond))\n        if myoff is None or otoff is None:\n            raise TypeError("can\'t compare offset-naive and offset-aware datetimes")\n        # XXX What follows could be done more efficiently...\n        diff = self - other     # this will take offsets into account\n        if diff.days < 0:\n            return -1\n        return diff and 1 or 0\n\n    def _add_timedelta(self, other, factor):\n        y, m, d, hh, mm, ss, us = _normalize_datetime(\n            self._year,\n            self._month,\n            self._day + other.days * factor,\n            self._hour,\n            self._minute,\n            self._second + other.seconds * factor,\n            self._microsecond + other.microseconds * factor)\n        return datetime(y, m, d, hh, mm, ss, us, tzinfo=self._tzinfo)\n\n    def __add__(self, other):\n        "Add a datetime and a timedelta."\n        if not isinstance(other, timedelta):\n            return NotImplemented\n        return self._add_timedelta(other, 1)\n\n    __radd__ = __add__\n\n    def __sub__(self, other):\n        "Subtract two datetimes, or a datetime and a timedelta."\n        if not isinstance(other, datetime):\n            if isinstance(other, timedelta):\n                return self._add_timedelta(other, -1)\n            return NotImplemented\n\n        delta_d = self.toordinal() - other.toordinal()\n        delta_s = (self._hour - other._hour) * 3600 + \\\n                  (self._minute - other._minute) * 60 + \\\n                  (self._second - other._second)\n        delta_us = self._microsecond - other._microsecond\n        base = timedelta._create(delta_d, delta_s, delta_us, True)\n        if self._tzinfo is other._tzinfo:\n            return base\n        myoff = self._utcoffset()\n        otoff = other._utcoffset()\n        if myoff == otoff:\n            return base\n        if myoff is None or otoff is None:\n            raise TypeError("can\'t subtract offset-naive and offset-aware datetimes")\n        return base + timedelta(minutes = otoff-myoff)\n\n    def __hash__(self):\n        if self._hashcode == -1:\n            tzoff = self._utcoffset()\n            if tzoff is None:\n                self._hashcode = hash(self._getstate()[0])\n            else:\n                days = _ymd2ord(self.year, self.month, self.day)\n                seconds = self.hour * 3600 + (self.minute - tzoff) * 60 + self.second\n                self._hashcode = hash(timedelta(days, seconds, self.microsecond))\n        return self._hashcode\n\n\n\ndatetime.min = datetime(1, 1, 1)\ndatetime.max = datetime(9999, 12, 31, 23, 59, 59, 999999)\ndatetime.resolution = timedelta(microseconds=1)\n\n\ndef _isoweek1monday(year):\n    # Helper to calculate the day number of the Monday starting week 1\n    # XXX This could be done more efficiently\n    THURSDAY = 3\n    firstday = _ymd2ord(year, 1, 1)\n    firstweekday = (firstday + 6) % 7  # See weekday() above\n    week1monday = firstday - firstweekday\n    if firstweekday > THURSDAY:\n        week1monday += 7\n    return week1monday\n\n"""\nSome time zone algebra.  For a datetime x, let\n    x.n = x stripped of its timezone -- its naive time.\n    x.o = x.utcoffset(), and assuming that doesn\'t raise an exception or\n          return None\n    x.d = x.dst(), and assuming that doesn\'t raise an exception or\n          return None\n    x.s = x\'s standard offset, x.o - x.d\n\nNow some derived rules, where k is a duration (timedelta).\n\n1. x.o = x.s + x.d\n   This follows from the definition of x.s.\n\n2. If x and y have the same tzinfo member, x.s = y.s.\n   This is actually a requirement, an assumption we need to make about\n   sane tzinfo classes.\n\n3. The naive UTC time corresponding to x is x.n - x.o.\n   This is again a requirement for a sane tzinfo class.\n\n4. (x+k).s = x.s\n   This follows from #2, and that datimetimetz+timedelta preserves tzinfo.\n\n5. (x+k).n = x.n + k\n   Again follows from how arithmetic is defined.\n\nNow we can explain tz.fromutc(x).  Let\'s assume it\'s an interesting case\n(meaning that the various tzinfo methods exist, and don\'t blow up or return\nNone when called).\n\nThe function wants to return a datetime y with timezone tz, equivalent to x.\nx is already in UTC.\n\nBy #3, we want\n\n    y.n - y.o = x.n                             [1]\n\nThe algorithm starts by attaching tz to x.n, and calling that y.  So\nx.n = y.n at the start.  Then it wants to add a duration k to y, so that [1]\nbecomes true; in effect, we want to solve [2] for k:\n\n   (y+k).n - (y+k).o = x.n                      [2]\n\nBy #1, this is the same as\n\n   (y+k).n - ((y+k).s + (y+k).d) = x.n          [3]\n\nBy #5, (y+k).n = y.n + k, which equals x.n + k because x.n=y.n at the start.\nSubstituting that into [3],\n\n   x.n + k - (y+k).s - (y+k).d = x.n; the x.n terms cancel, leaving\n   k - (y+k).s - (y+k).d = 0; rearranging,\n   k = (y+k).s - (y+k).d; by #4, (y+k).s == y.s, so\n   k = y.s - (y+k).d\n\nOn the RHS, (y+k).d can\'t be computed directly, but y.s can be, and we\napproximate k by ignoring the (y+k).d term at first.  Note that k can\'t be\nvery large, since all offset-returning methods return a duration of magnitude\nless than 24 hours.  For that reason, if y is firmly in std time, (y+k).d must\nbe 0, so ignoring it has no consequence then.\n\nIn any case, the new value is\n\n    z = y + y.s                                 [4]\n\nIt\'s helpful to step back at look at [4] from a higher level:  it\'s simply\nmapping from UTC to tz\'s standard time.\n\nAt this point, if\n\n    z.n - z.o = x.n                             [5]\n\nwe have an equivalent time, and are almost done.  The insecurity here is\nat the start of daylight time.  Picture US Eastern for concreteness.  The wall\ntime jumps from 1:59 to 3:00, and wall hours of the form 2:MM don\'t make good\nsense then.  The docs ask that an Eastern tzinfo class consider such a time to\nbe EDT (because it\'s "after 2"), which is a redundant spelling of 1:MM EST\non the day DST starts.  We want to return the 1:MM EST spelling because that\'s\nthe only spelling that makes sense on the local wall clock.\n\nIn fact, if [5] holds at this point, we do have the standard-time spelling,\nbut that takes a bit of proof.  We first prove a stronger result.  What\'s the\ndifference between the LHS and RHS of [5]?  Let\n\n    diff = x.n - (z.n - z.o)                    [6]\n\nNow\n    z.n =                       by [4]\n    (y + y.s).n =               by #5\n    y.n + y.s =                 since y.n = x.n\n    x.n + y.s =                 since z and y are have the same tzinfo member,\n                                    y.s = z.s by #2\n    x.n + z.s\n\nPlugging that back into [6] gives\n\n    diff =\n    x.n - ((x.n + z.s) - z.o) =     expanding\n    x.n - x.n - z.s + z.o =         cancelling\n    - z.s + z.o =                   by #2\n    z.d\n\nSo diff = z.d.\n\nIf [5] is true now, diff = 0, so z.d = 0 too, and we have the standard-time\nspelling we wanted in the endcase described above.  We\'re done.  Contrarily,\nif z.d = 0, then we have a UTC equivalent, and are also done.\n\nIf [5] is not true now, diff = z.d != 0, and z.d is the offset we need to\nadd to z (in effect, z is in tz\'s standard time, and we need to shift the\nlocal clock into tz\'s daylight time).\n\nLet\n\n    z\' = z + z.d = z + diff                     [7]\n\nand we can again ask whether\n\n    z\'.n - z\'.o = x.n                           [8]\n\nIf so, we\'re done.  If not, the tzinfo class is insane, according to the\nassumptions we\'ve made.  This also requires a bit of proof.  As before, let\'s\ncompute the difference between the LHS and RHS of [8] (and skipping some of\nthe justifications for the kinds of substitutions we\'ve done several times\nalready):\n\n    diff\' = x.n - (z\'.n - z\'.o) =           replacing z\'.n via [7]\n            x.n  - (z.n + diff - z\'.o) =    replacing diff via [6]\n            x.n - (z.n + x.n - (z.n - z.o) - z\'.o) =\n            x.n - z.n - x.n + z.n - z.o + z\'.o =    cancel x.n\n            - z.n + z.n - z.o + z\'.o =              cancel z.n\n            - z.o + z\'.o =                      #1 twice\n            -z.s - z.d + z\'.s + z\'.d =          z and z\' have same tzinfo\n            z\'.d - z.d\n\nSo z\' is UTC-equivalent to x iff z\'.d = z.d at this point.  If they are equal,\nwe\'ve found the UTC-equivalent so are done.  In fact, we stop with [7] and\nreturn z\', not bothering to compute z\'.d.\n\nHow could z.d and z\'d differ?  z\' = z + z.d [7], so merely moving z\' by\na dst() offset, and starting *from* a time already in DST (we know z.d != 0),\nwould have to change the result dst() returns:  we start in DST, and moving\na little further into it takes us out of DST.\n\nThere isn\'t a sane case where this can happen.  The closest it gets is at\nthe end of DST, where there\'s an hour in UTC with no spelling in a hybrid\ntzinfo class.  In US Eastern, that\'s 5:MM UTC = 0:MM EST = 1:MM EDT.  During\nthat hour, on an Eastern clock 1:MM is taken as being in standard time (6:MM\nUTC) because the docs insist on that, but 0:MM is taken as being in daylight\ntime (4:MM UTC).  There is no local time mapping to 5:MM UTC.  The local\nclock jumps from 1:59 back to 1:00 again, and repeats the 1:MM hour in\nstandard time.  Since that\'s what the local clock *does*, we want to map both\nUTC hours 5:MM and 6:MM to 1:MM Eastern.  The result is ambiguous\nin local time, but so it goes -- it\'s the way the local clock works.\n\nWhen x = 5:MM UTC is the input to this algorithm, x.o=0, y.o=-5 and y.d=0,\nso z=0:MM.  z.d=60 (minutes) then, so [5] doesn\'t hold and we keep going.\nz\' = z + z.d = 1:MM then, and z\'.d=0, and z\'.d - z.d = -60 != 0 so [8]\n(correctly) concludes that z\' is not UTC-equivalent to x.\n\nBecause we know z.d said z was in daylight time (else [5] would have held and\nwe would have stopped then), and we know z.d != z\'.d (else [8] would have held\nand we have stopped then), and there are only 2 possible values dst() can\nreturn in Eastern, it follows that z\'.d must be 0 (which it is in the example,\nbut the reasoning doesn\'t depend on the example -- it depends on there being\ntwo possible dst() outcomes, one zero and the other non-zero).  Therefore\nz\' must be in standard time, and is the spelling we want in this case.\n\nNote again that z\' is not UTC-equivalent as far as the hybrid tzinfo class is\nconcerned (because it takes z\' as being in standard time rather than the\ndaylight time we intend here), but returning it gives the real-life "local\nclock repeats an hour" behavior when mapping the "unspellable" UTC hour into\ntz.\n\nWhen the input is 6:MM, z=1:MM and z.d=0, and we stop at once, again with\nthe 1:MM standard time spelling we want.\n\nSo how can this break?  One of the assumptions must be violated.  Two\npossibilities:\n\n1) [2] effectively says that y.s is invariant across all y belong to a given\n   time zone.  This isn\'t true if, for political reasons or continental drift,\n   a region decides to change its base offset from UTC.\n\n2) There may be versions of "double daylight" time where the tail end of\n   the analysis gives up a step too early.  I haven\'t thought about that\n   enough to say.\n\nIn any case, it\'s clear that the default fromutc() is strong enough to handle\n"almost all" time zones:  so long as the standard offset is invariant, it\ndoesn\'t matter if daylight time transition points change from year to year, or\nif daylight time is skipped in some years; it doesn\'t matter how large or\nsmall dst() may get within its bounds; and it doesn\'t even matter if some\nperverse time zone returns a negative dst()).  So a breaking case must be\npretty bizarre, and a tzinfo subclass can override fromutc() if it is.\n"""\n',"src/lib/nntplib.py":'raise NotImplementedError("nntplib is not yet implemented in Skulpt")\n',"src/lib/ssl.py":'raise NotImplementedError("ssl is not yet implemented in Skulpt")\n',"src/lib/opcode.py":'raise NotImplementedError("opcode is not yet implemented in Skulpt")\n',"src/lib/mailbox.py":'raise NotImplementedError("mailbox is not yet implemented in Skulpt")\n',"src/lib/xmlrpclib.py":'raise NotImplementedError("xmlrpclib is not yet implemented in Skulpt")\n',"src/lib/pythonds/trees/binaryTree.py":"# Bradley N. Miller, David L. Ranum\n# Introduction to Data Structures and Algorithms in Python\n# Copyright 2005\n# \n\nclass BinaryTree:\n    \"\"\"\n    A recursive implementation of Binary Tree\n    Using links and Nodes approach.\n    \"\"\"    \n    def __init__(self,rootObj):\n        self.key = rootObj\n        self.leftChild = None\n        self.rightChild = None\n\n    def insertLeft(self,newNode):\n        if self.leftChild == None:\n            self.leftChild = BinaryTree(newNode)\n        else:\n            t = BinaryTree(newNode)\n            t.left = self.leftChild\n            self.leftChild = t\n    \n    def insertRight(self,newNode):\n        if self.rightChild == None:\n            self.rightChild = BinaryTree(newNode)\n        else:\n            t = BinaryTree(newNode)\n            t.right = self.rightChild\n            self.rightChild = t\n\n    def isLeaf(self):\n        return ((not self.leftChild) and (not self.rightChild))\n\n    def getRightChild(self):\n        return self.rightChild\n\n    def getLeftChild(self):\n        return self.leftChild\n\n    def setRootVal(self,obj):\n        self.key = obj\n\n    def getRootVal(self,):\n        return self.key\n\n    def inorder(self):\n        if self.leftChild:\n            self.leftChild.inorder()\n        print(self.key)\n        if self.rightChild:\n            self.rightChild.inorder()\n\n    def postorder(self):\n        if self.leftChild:\n            self.leftChild.postorder()\n        if self.rightChild:\n            self.rightChild.postorder()\n        print(self.key)\n\n\n    def preorder(self):\n        print(self.key)\n        if self.leftChild:\n            self.leftChild.preorder()\n        if self.rightChild:\n            self.rightChild.preorder()\n\n    def printexp(self):\n        if self.leftChild:\n            print('(')\n            self.leftChild.printexp()\n        print(self.key)\n        if self.rightChild:\n            self.rightChild.printexp()\n            print(')')\n\n    def postordereval(self):\n        opers = {'+':operator.add, '-':operator.sub, '*':operator.mul, '/':operator.truediv}\n        res1 = None\n        res2 = None\n        if self.leftChild:\n            res1 = self.leftChild.postordereval()  #// \\label{peleft}\n        if self.rightChild:\n            res2 = self.rightChild.postordereval() #// \\label{peright}\n        if res1 and res2:\n            return opers[self.key](res1,res2) #// \\label{peeval}\n        else:\n            return self.key\n\ndef inorder(tree):\n    if tree != None:\n        inorder(tree.getLeftChild())\n        print(tree.getRootVal())\n        inorder(tree.getRightChild())\n\ndef printexp(tree):\n    if tree.leftChild:\n        print('(')\n        printexp(tree.getLeftChild())\n    print(tree.getRootVal())\n    if tree.rightChild:\n        printexp(tree.getRightChild())\n        print(')') \n\ndef printexp(tree):\n    sVal = \"\"\n    if tree:\n        sVal = '(' + printexp(tree.getLeftChild())\n        sVal = sVal + str(tree.getRootVal())\n        sVal = sVal + printexp(tree.getRightChild()) + ')'\n    return sVal\n\ndef postordereval(tree):\n    opers = {'+':operator.add, '-':operator.sub, '*':operator.mul, '/':operator.truediv}\n    res1 = None\n    res2 = None\n    if tree:\n        res1 = postordereval(tree.getLeftChild())  #// \\label{peleft}\n        res2 = postordereval(tree.getRightChild()) #// \\label{peright}\n        if res1 and res2:\n            return opers[tree.getRootVal()](res1,res2) #// \\label{peeval}\n        else:\n            return tree.getRootVal()\n\ndef height(tree):\n    if tree == None:\n        return -1\n    else:\n        return 1 + max(height(tree.leftChild),height(tree.rightChild))\n\n# t = BinaryTree(7)\n# t.insertLeft(3)\n# t.insertRight(9)\n# inorder(t)\n# import operator\n# x = BinaryTree('*')\n# x.insertLeft('+')\n# l = x.getLeftChild()\n# l.insertLeft(4)\n# l.insertRight(5)\n# x.insertRight(7)\n# print(printexp(x))\n# print(postordereval(x))\n# print(height(x))\n","src/lib/UserList.py":'raise NotImplementedError("UserList is not yet implemented in Skulpt")\n',"src/lib/webgl/math.js":"var $builtinmodule = function(name)\n{\n    var mod = {};\n\n    // todo; should probably put this in a math package\n    mod.Mat44 = Sk.misceval.buildClass(mod, function($gbl, $loc)\n            {\n                $loc.__init__ = new Sk.builtin.func(function(self)\n                    {\n                        Sk.misceval.callsim($loc.loadIdentity, self);\n                        self.stack = [];\n                    });\n\n                $loc.push = new Sk.builtin.func(function(self)\n                    {\n                        self.stack.push(self.elements.slice(0));\n                    });\n\n                $loc.pop = new Sk.builtin.func(function(self)\n                    {\n                        self.elements = self.stack.pop();\n                    });\n\n                $loc.loadIdentity = new Sk.builtin.func(function(self)\n                    {\n                        self.elements = [1.0, 0.0, 0.0, 0.0,\n                                         0.0, 1.0, 0.0, 0.0,\n                                         0.0, 0.0, 1.0, 0.0,\n                                         0.0, 0.0, 0.0, 1.0];\n                    });\n\n                $loc.transform3 = new Sk.builtin.func(function(self, v)\n                    {\n                        var e = self.elements;\n                        return Sk.misceval.callsim(mod.Vec3,\n                            e[0] * v.x + e[4] * v.y + e[8] * v.z,\n                            e[1] * v.x + e[5] * v.y + e[9] * v.z,\n                            e[2] * v.x + e[6] * v.y + e[10] * v.z);\n                    });\n\n                $loc.scale = new Sk.builtin.func(function(self, sx, sy, sz)\n                        {\n                            self.elements[0*4+0] *= sx;\n                            self.elements[0*4+1] *= sx;\n                            self.elements[0*4+2] *= sx;\n                            self.elements[0*4+3] *= sx;\n\n                            self.elements[1*4+0] *= sy;\n                            self.elements[1*4+1] *= sy;\n                            self.elements[1*4+2] *= sy;\n                            self.elements[1*4+3] *= sy;\n\n                            self.elements[2*4+0] *= sz;\n                            self.elements[2*4+1] *= sz;\n                            self.elements[2*4+2] *= sz;\n                            self.elements[2*4+3] *= sz;\n\n                            return self;\n                        });\n\n                $loc.translate = new Sk.builtin.func(function(self, tx, ty, tz)\n                        {\n                            self.elements[3*4+0] += self.elements[0*4+0] * tx + self.elements[1*4+0] * ty + self.elements[2*4+0] * tz;\n                            self.elements[3*4+1] += self.elements[0*4+1] * tx + self.elements[1*4+1] * ty + self.elements[2*4+1] * tz;\n                            self.elements[3*4+2] += self.elements[0*4+2] * tx + self.elements[1*4+2] * ty + self.elements[2*4+2] * tz;\n                            self.elements[3*4+3] += self.elements[0*4+3] * tx + self.elements[1*4+3] * ty + self.elements[2*4+3] * tz;\n                            return self;\n                        });\n\n                $loc.rotate = new Sk.builtin.func(function(self, angle, x, y, z)\n                        {\n                            var mag = Math.sqrt(x*x + y*y + z*z);\n                            var sinAngle = Math.sin(angle * Math.PI / 180.0);\n                            var cosAngle = Math.cos(angle * Math.PI / 180.0);\n\n                            if (mag > 0)\n                            {\n                                var xx, yy, zz, xy, yz, zx, xs, ys, zs;\n                                var oneMinusCos;\n                                var rotMat;\n\n                                x /= mag;\n                                y /= mag;\n                                z /= mag;\n\n                                xx = x * x;\n                                yy = y * y;\n                                zz = z * z;\n                                xy = x * y;\n                                yz = y * z;\n                                zx = z * x;\n                                xs = x * sinAngle;\n                                ys = y * sinAngle;\n                                zs = z * sinAngle;\n                                oneMinusCos = 1.0 - cosAngle;\n\n                                rotMat = Sk.misceval.callsim(mod.Mat44);\n\n                                rotMat.elements[0*4+0] = (oneMinusCos * xx) + cosAngle;\n                                rotMat.elements[0*4+1] = (oneMinusCos * xy) - zs;\n                                rotMat.elements[0*4+2] = (oneMinusCos * zx) + ys;\n                                rotMat.elements[0*4+3] = 0.0;\n\n                                rotMat.elements[1*4+0] = (oneMinusCos * xy) + zs;\n                                rotMat.elements[1*4+1] = (oneMinusCos * yy) + cosAngle;\n                                rotMat.elements[1*4+2] = (oneMinusCos * yz) - xs;\n                                rotMat.elements[1*4+3] = 0.0;\n\n                                rotMat.elements[2*4+0] = (oneMinusCos * zx) - ys;\n                                rotMat.elements[2*4+1] = (oneMinusCos * yz) + xs;\n                                rotMat.elements[2*4+2] = (oneMinusCos * zz) + cosAngle;\n                                rotMat.elements[2*4+3] = 0.0;\n\n                                rotMat.elements[3*4+0] = 0.0;\n                                rotMat.elements[3*4+1] = 0.0;\n                                rotMat.elements[3*4+2] = 0.0;\n                                rotMat.elements[3*4+3] = 1.0;\n\n                                rotMat = rotMat.multiply(self);\n                                self.elements = rotMat.elements;\n                            }\n                            return self;\n                        });\n\n                $loc.multiply = new Sk.builtin.func(function(self, right)\n                        {\n                            var tmp = Sk.misceval.callsim(mod.Mat44);\n\n                            for (var i = 0; i < 4; i++)\n                            {\n                                tmp.elements[i*4+0] =\n                                (self.elements[i*4+0] * right.elements[0*4+0]) +\n                                (self.elements[i*4+1] * right.elements[1*4+0]) +\n                                (self.elements[i*4+2] * right.elements[2*4+0]) +\n                                (self.elements[i*4+3] * right.elements[3*4+0]) ;\n\n                                tmp.elements[i*4+1] =\n                                (self.elements[i*4+0] * right.elements[0*4+1]) +\n                                (self.elements[i*4+1] * right.elements[1*4+1]) +\n                                (self.elements[i*4+2] * right.elements[2*4+1]) +\n                                (self.elements[i*4+3] * right.elements[3*4+1]) ;\n\n                                tmp.elements[i*4+2] =\n                                (self.elements[i*4+0] * right.elements[0*4+2]) +\n                                (self.elements[i*4+1] * right.elements[1*4+2]) +\n                                (self.elements[i*4+2] * right.elements[2*4+2]) +\n                                (self.elements[i*4+3] * right.elements[3*4+2]) ;\n\n                                tmp.elements[i*4+3] =\n                                (self.elements[i*4+0] * right.elements[0*4+3]) +\n                                (self.elements[i*4+1] * right.elements[1*4+3]) +\n                                (self.elements[i*4+2] * right.elements[2*4+3]) +\n                                (self.elements[i*4+3] * right.elements[3*4+3]) ;\n                            }\n\n                            self.elements = tmp.elements;\n                            return self;\n                        });\n\n                /* Following gluLookAt implementation is adapted from\n                 * the Mesa 3D Graphics library. http://www.mesa3d.org\n                 */\n                // todo; rewrite this with proper vec/mat ops\n                $loc.lookAt = new Sk.builtin.func(function(self, eyeX, eyeY, eyeZ,\n                                                                 centerX, centerY, centerZ,\n                                                                 upX, upY, upZ)\n                        {\n                            /* Z vector */\n                            var z = [\n                                eyeX - centerX,\n                                eyeY - centerY,\n                                eyeZ - centerZ\n                            ];\n                            var mag = Math.sqrt(z[0] * z[0] + z[1] * z[1] + z[2] * z[2]);\n                            if (mag)\n                            {\n                                z[0] /= mag;\n                                z[1] /= mag;\n                                z[2] /= mag;\n                            }\n\n                            /* Y vector */\n                            var y = [ upX, upY, upZ ];\n\n                            /* X vector = Y cross Z */\n                            var x = [];\n                            x[0] = y[1] * z[2] - y[2] * z[1];\n                            x[1] = -y[0] * z[2] + y[2] * z[0];\n                            x[2] = y[0] * z[1] - y[1] * z[0];\n\n                            /* Recompute Y = Z cross X */\n                            y[0] = z[1] * x[2] - z[2] * x[1];\n                            y[1] = -z[0] * x[2] + z[2] * x[0];\n                            y[2] = z[0] * x[1] - z[1] * x[0];\n\n                            /* mpichler, 19950515 */\n                            /* cross product gives area of parallelogram, which is < 1.0 for\n                            * non-perpendicular unit-length vectors; so normalize x, y here\n                            */\n\n                            mag = Math.sqrt(x[0] * x[0] + x[1] * x[1] + x[2] * x[2]);\n                            if (mag) {\n                                x[0] /= mag;\n                                x[1] /= mag;\n                                x[2] /= mag;\n                            }\n\n                            mag = Math.sqrt(y[0] * y[0] + y[1] * y[1] + y[2] * y[2]);\n                            if (mag) {\n                                y[0] /= mag;\n                                y[1] /= mag;\n                                y[2] /= mag;\n                            }\n\n                            var lookAt = Sk.misceval.callsim(mod.Mat44);\n                            lookAt.elements[0 * 4 + 0] = x[0];\n                            lookAt.elements[1 * 4 + 0] = x[1];\n                            lookAt.elements[2 * 4 + 0] = x[2];\n                            lookAt.elements[3 * 4 + 0] = 0.;\n                            lookAt.elements[0 * 4 + 1] = y[0];\n                            lookAt.elements[1 * 4 + 1] = y[1];\n                            lookAt.elements[2 * 4 + 1] = y[2];\n                            lookAt.elements[3 * 4 + 1] = 0.;\n                            lookAt.elements[0 * 4 + 2] = z[0];\n                            lookAt.elements[1 * 4 + 2] = z[1];\n                            lookAt.elements[2 * 4 + 2] = z[2];\n                            lookAt.elements[3 * 4 + 2] = 0.;\n                            lookAt.elements[0 * 4 + 3] = 0.;\n                            lookAt.elements[1 * 4 + 3] = 0.;\n                            lookAt.elements[2 * 4 + 3] = 0.;\n                            lookAt.elements[3 * 4 + 3] = 1.;\n\n                            // log(lookAt.elements);\n\n                            lookAt = lookAt.multiply(self);\n                            self.elements = lookAt.elements;\n                            self.translate(-eyeX, -eyeY, -eyeZ);\n\n                            // log(this.elements);\n\n                            return self;\n                        });\n            },\n            'Mat44', []);\n\n    // todo; should probably put this in a math package\n    mod.Mat33 = Sk.misceval.buildClass(mod, function($gbl, $loc)\n            {\n                $loc.__init__ = new Sk.builtin.func(function(self)\n                    {\n                        Sk.misceval.callsim($loc.loadIdentity, self);\n                    });\n\n                $loc.loadIdentity = new Sk.builtin.func(function(self)\n                    {\n                        self.elements = [1.0, 0.0, 0.0,\n                                         0.0, 1.0, 0.0,\n                                         0.0, 0.0, 1.0];\n                    });\n            },\n            'Mat33', []);\n\n    mod.Vec3 = Sk.misceval.buildClass(mod, function($gbl, $loc)\n            {\n                $loc.__init__ = new Sk.builtin.func(function(self, x, y, z)\n                    {\n                        self.x = x;\n                        self.y = y;\n                        self.z = z;\n                    });\n                $loc.__sub__ = new Sk.builtin.func(function(self, other)\n                    {\n                        return Sk.misceval.callsim(mod.Vec3, self.x - other.x, self.y - other.y, self.z - other.z);\n                    });\n            },\n            'Vec3', []);\n    \n    mod.cross = new Sk.builtin.func(function(v1, v2)\n            {\n                goog.asserts.assert(v1 instanceof mod.Vec3 && v2 instanceof mod.Vec3);\n                return Sk.misceval.callsim(mod.Vec3,\n                    v1.y * v2.z - v1.z * v2.y,\n                    v1.z * v2.x - v1.x * v2.z,\n                    v1.x * v2.y - v1.y * v2.x);\n            });\n\n    return mod;\n};\n","src/lib/toaiff.py":'raise NotImplementedError("toaiff is not yet implemented in Skulpt")\n',"src/lib/__future__.py":'raise NotImplementedError("__future__ is not yet implemented in Skulpt")\n',"src/lib/zipfile.py":'raise NotImplementedError("zipfile is not yet implemented in Skulpt")\n',"src/lib/email/__init__.py":'raise NotImplementedError("email is not yet implemented in Skulpt")\n',"src/lib/pythonds/__init__.py":"","src/lib/dummy_thread.py":'raise NotImplementedError("dummy_thread is not yet implemented in Skulpt")\n',"src/lib/Cookie.py":'raise NotImplementedError("Cookie is not yet implemented in Skulpt")\n',"src/lib/socket.py":'raise NotImplementedError("socket is not yet implemented in Skulpt")\n',"src/lib/pstats.py":'raise NotImplementedError("pstats is not yet implemented in Skulpt")\n',"src/lib/test/test_support.py":'"""Supporting definitions for the Python regression tests."""\n\nif __name__ != \'test.test_support\':\n    raise ImportError(\'test_support must be imported from the test package\')\n\nimport unittest\n\n\n# def run_unittest(*classes):\n#     """Run tests from unittest.TestCase-derived classes."""\n#     valid_types = (unittest.TestSuite, unittest.TestCase)\n#     suite = unittest.TestSuite()\n#     for cls in classes:\n#         if isinstance(cls, str):\n#             if cls in sys.modules:\n#                 suite.addTest(unittest.findTestCases(sys.modules[cls]))\n#             else:\n#                 raise ValueError("str arguments must be keys in sys.modules")\n#         elif isinstance(cls, valid_types):\n#             suite.addTest(cls)\n#         else:\n#             suite.addTest(unittest.makeSuite(cls))\n#     _run_suite(suite)\n\ndef run_unittest(*classes):\n    """Run tests from unittest.TestCase-derived classes."""\n    for cls in classes:\n        print cls\n        if issubclass(cls, unittest.TestCase):\n            cls().main()\n        else:\n            print "Don\'t know what to do with ", cls\n',"src/lib/io.py":'raise NotImplementedError("io is not yet implemented in Skulpt")\n',"src/lib/webgl/models.js":"// most of this file is from/based on 'tdl'\n\nvar $builtinmodule = function(name)\n{\n    var mod = {};\n\n    var Buffer = function(array, opt_target) {\n        var target = opt_target || gl.ARRAY_BUFFER;\n        var buf = gl.createBuffer();\n        this.target = target;\n        this.buf = buf;\n        this.set(array);\n        this.numComponents_ = array.numComponents;\n        this.numElements_ = array.numElements;\n        this.totalComponents_ = this.numComponents_ * this.numElements_;\n        if (array.buffer instanceof Float32Array) {\n            this.type_ = gl.FLOAT;\n        } else if (array.buffer instanceof Uint8Array) {\n            this.type_ = gl.UNSIGNED_BYTE;\n        } else if (array.buffer instanceof Int8Array) {\n            this.type_ = gl._BYTE;\n        } else if (array.buffer instanceof Uint16Array) {\n            this.type_ = gl.UNSIGNED_SHORT;\n        } else if (array.buffer instanceof Int16Array) {\n            this.type_ = gl.SHORT;\n        } else {\n            throw(\"unhandled type:\" + (typeof array.buffer));\n        }\n    };\n\n    Buffer.prototype.set = function(array) {\n        gl.bindBuffer(this.target, this.buf);\n        gl.bufferData(this.target, array.buffer, gl.STATIC_DRAW);\n    }\n\n    Buffer.prototype.type = function() {\n        return this.type_;\n    };\n\n    Buffer.prototype.numComponents = function() {\n        return this.numComponents_;\n    };\n\n    Buffer.prototype.numElements = function() {\n        return this.numElements_;\n    };\n\n    Buffer.prototype.totalComponents = function() {\n        return this.totalComponents_;\n    };\n\n    Buffer.prototype.buffer = function() {\n        return this.buf;\n    };\n\n    Buffer.prototype.stride = function() {\n        return 0;\n    };\n\n    Buffer.prototype.offset = function() {\n        return 0;\n    };\n\n\n\n    mod.Model = Sk.misceval.buildClass(mod, function($gbl, $loc)\n            {\n                $loc.__init__ = new Sk.builtin.func(function(self, shader, arrays, textures)\n                    {\n                        self.buffers = {};\n                        var setBuffer = function(name, array)\n                        {\n                            var target = (name == 'indices') ? gl.ELEMENT_ARRAY_BUFFER : gl.ARRAY_BUFFER;\n                            b = self.buffers[name];\n                            if (!b)\n                                b = new Buffer(array, target);\n                            else\n                                b.set(array);\n                            self.buffers[name] = b;\n                        };\n                        for (name in arrays)\n                            setBuffer(name, arrays[name]);\n\n                        var textureUnits = {};\n                        var unit = 0;\n                        for (var texture in textures)\n                        {\n                            textureUnits[texture] = unit++;\n                        }\n\n                        self.mode = gl.TRIANGLES;\n                        self.textures = textures.v;\n                        self.textureUnits = textureUnits;\n                        self.shader = shader;\n                    });\n\n                /**\n                * Sets up the shared parts of drawing this model. Uses the\n                * program, binds the buffers, sets the textures.\n                *\n                * @param {!Object.<string, *>} uniforms An object of names to\n                *     values to set on this models uniforms.\n                */\n                $loc.drawPrep = new Sk.builtin.func(function(self, uniforms)\n                    {\n                        var shader = self.shader;\n                        var buffers = self.buffers;\n                        var textures = self.textures;\n\n                        uniforms = Sk.ffi.remapToJs(uniforms);\n\n                        Sk.misceval.callsim(shader.use, shader);\n\n                        for (var buffer in buffers) {\n                            var b = buffers[buffer];\n                            if (buffer == 'indices') {\n                                gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, b.buffer());\n                            } else {\n                                var attrib = shader.attrib[buffer];\n                                if (attrib) {\n                                    attrib(b);\n                                }\n                            }\n                        }\n\n                        for (var texture in textures) {\n                            var unit = self.textureUnits[texture];\n                            shader.setUniform$impl(shader, textuer, unit);\n                            textures[texture].bindToUnit(unit);\n                        }\n\n                        for (var uniform in uniforms) {\n                            shader.setUniform$impl(shader, uniform, uniforms[uniform]);\n                        }\n                    });\n\n                /**\n                * Draws this model.\n                *\n                * After calling tdl.models.Model.drawPrep you can call this\n                * function multiple times to draw this model.\n                *\n                * @param {!Object.<string, *>} uniforms An object of names to\n                *     values to set on this models uniforms.\n                */\n                $loc.draw = new Sk.builtin.func(function(self, uniforms, opt_textures)\n                    {\n                        var shader = self.shader;\n                        uniforms = Sk.ffi.remapToJs(uniforms);\n                        for (uniform in uniforms) {\n                            shader.setUniform$impl(shader, uniform, uniforms[uniform]);\n                        }\n\n                        if (opt_textures) {\n                            for (var texture in opt_textures) {\n                                var unit = self.textureUnits[texture];\n                                shader.setUniform$impl(shader, texture, unit);\n                                opt_textures[texture].bindToUnit(unit);\n                            }\n                        }\n\n                        var buffers = self.buffers;\n                        gl.drawElements(self.mode, buffers.indices.totalComponents(), gl.UNSIGNED_SHORT, 0);\n                    });\n            },\n            'Model', []);\n\n    return mod;\n};\n","src/lib/csv.py":'raise NotImplementedError("csv is not yet implemented in Skulpt")\n',"src/lib/multiprocessing/__init__.py":'raise NotImplementedError("multiprocessing is not yet implemented in Skulpt")\n',"src/lib/SimpleHTTPServer.py":'raise NotImplementedError("SimpleHTTPServer is not yet implemented in Skulpt")\n',"src/lib/image.js":'var ImageMod; // the single identifier needed in the global scope\nvar $builtinmodule;\n\nif (!ImageMod) {\n    ImageMod = {};\n    ImageMod.canvasLib = [];\n}\n\n$builtinmodule = function (name) {\n    var screen;\n    var pixel;\n    var eImage;\n    var mod = {};\n    var updateCanvasAndSuspend;\n    var initializeImage;\n    var checkPixelRange;\n    var remapImageIdToURL;\n\n    var image = function ($gbl, $loc) {\n        initializeImage = function (self) {\n            self.width = self.image.width;\n            self.height = self.image.height;\n            self.delay = 0;\n            self.updateCount = 0;\n            self.updateInterval = 1;\n            self.lastx = 0;\n            self.lasty = 0;\n            self.canvas = document.createElement("canvas");\n            self.canvas.height = self.height;\n            self.canvas.width = self.width;\n            self.ctx = self.canvas.getContext("2d");\n            self.ctx.drawImage(self.image, 0, 0);\n            self.imagedata = self.ctx.getImageData(0, 0, self.width, self.height);\n        };\n\n\n        $loc.__init__ = new Sk.builtin.func(function (self, imageId) {\n            var susp;\n            Sk.builtin.pyCheckArgs("__init__", arguments, 2, 2);\n            try {\n                self.image = document.getElementById(Sk.ffi.remapToJs(imageId));\n                initializeImage(self);\n            } catch (e) {\n                self.image = null;\n            }\n            if (self.image == null) {\n                susp = new Sk.misceval.Suspension();\n                susp.resume = function () {\n                    // Should the post image get stuff go here??\n                    if (susp.data["error"]) {\n                        throw new Sk.builtin.IOError(susp.data["error"].message);\n                    }\n                };\n                susp.data = {\n                    type: "Sk.promise",\n                    promise: new Promise(function (resolve, reject) {\n                            var newImg = new Image();\n                            newImg.crossOrigin = "";\n                            newImg.onerror = function () {\n                                reject(Error("Failed to load URL: " + newImg.src));\n                            };\n                            newImg.onload = function () {\n                                self.image = this;\n                                initializeImage(self);\n                                resolve();\n                            };\n                            // look for mapping from imagename to url and possible an image proxy server\n                            newImg.src = remapImageIdToURL(imageId);\n                        }\n                    )\n                };\n                return susp;\n            }\n\n        });\n\n        remapImageIdToURL = function (imageId) {\n            // if imageId starts with http -- OK\n            // if imageId is in Sk.imageMap -- look it up\n            // if imageId is the name of an image file prepend http://host/app/book/_static/\n            // if image proxy server is configured construct url for proxy\n            // return the final URL\n            var url;\n            var ret;\n            ret = Sk.ffi.remapToJs(imageId);\n            url = document.createElement("a");\n            url.href = ret;\n            if (window.location.host !== url.host) {\n                ret = Sk.imageProxy + "/" + ret;\n            }\n            return ret;\n        };\n\n        checkPixelRange = function (self, x, y) {\n            if (x < 0 || y < 0 || x >= self.width || y >= self.height) {\n                throw new Sk.builtin.ValueError("Pixel index out of range.");\n            }\n        };\n\n        $loc.setDelay = new Sk.builtin.func(function (self, delay, interval) {\n            var i;\n            Sk.builtin.pyCheckArgs("setDelay", arguments, 2, 3);\n            self.delay = Sk.ffi.remapToJs(delay);\n            i = Sk.builtin.asnum$(interval);\n            if (!i) {\n                self.updateInterval = 1;\n            } else {\n                self.updateInterval = i;\n            }\n        });\n\n\n        //get a one-dimensional array of pixel objects - Zhu\n        $loc.getPixels = new Sk.builtin.func(function (self) {\n            var arr = [];//initial array\n            var i;\n            Sk.builtin.pyCheckArgs("getPixels", arguments, 1, 1);\n\n            for (i = 0; i < self.image.height * self.image.width; i++) {\n\n                arr[i] = Sk.misceval.callsim(self.getPixel, self,\n                    i % self.image.width, Math.floor(i / self.image.width));\n            }\n            return new Sk.builtin.tuple(arr);\n        });\n\n        $loc.getPixel = new Sk.builtin.func(function (self, x, y) {\n            var red;\n            var blue;\n            var green;\n            var index;\n            Sk.builtin.pyCheckArgs("getPixel", arguments, 3, 3);\n            x = Sk.builtin.asnum$(x);\n            y = Sk.builtin.asnum$(y);\n            checkPixelRange(self, x, y);\n            index = (y * 4) * self.width + (x * 4);\n            red = self.imagedata.data[index];\n            green = self.imagedata.data[index + 1];\n            blue = self.imagedata.data[index + 2];\n            return Sk.misceval.callsim(mod.Pixel, red, green, blue, x, y);\n        });\n\n        updateCanvasAndSuspend = function (self, x, y) {\n            var susp = new Sk.misceval.Suspension();\n            susp.resume = function () {\n                return Sk.builtin.none.none$;\n            };\n            susp.data = {\n                type: "Sk.promise",\n                promise: new Promise(function (resolve, reject) {\n                    self.updateCount++;\n                    if ((self.updateCount % self.updateInterval) === 0) {\n                        if (self.lastx + self.updateInterval >= self.width) {\n                            self.lastCtx.putImageData(self.imagedata, self.lastUlx, self.lastUly,\n                                0, self.lasty, self.width, 2);\n                        } else if (self.lasty + self.updateInterval >= self.height) {\n                            self.lastCtx.putImageData(self.imagedata, self.lastUlx, self.lastUly,\n                                self.lastx, 0, 2, self.height);\n                        } else {\n                            self.lastCtx.putImageData(self.imagedata, self.lastUlx, self.lastUly,\n                                Math.min(x, self.lastx),\n                                Math.min(y, self.lasty),\n                                Math.max(Math.abs(x - self.lastx), 1),\n                                Math.max(Math.abs(y - self.lasty), 1));\n                        }\n                        self.lastx = x;\n                        self.lasty = y;\n                        if (self.delay > 0) {\n                            window.setTimeout(resolve, self.delay);\n                        } else {\n                            resolve();\n                        }\n                    } else {\n                        resolve();\n                    }\n                })\n            };\n            return susp;\n        };\n\n        $loc.setPixel = new Sk.builtin.func(function (self, x, y, pix) {\n            var index;\n            Sk.builtin.pyCheckArgs("setPixel", arguments, 4, 4);\n            x = Sk.builtin.asnum$(x);\n            y = Sk.builtin.asnum$(y);\n            checkPixelRange(self, x, y);\n            index = (y * 4) * self.width + (x * 4);\n            self.imagedata.data[index] = Sk.builtin.asnum$(Sk.misceval.callsim(pix.getRed, pix));\n            self.imagedata.data[index + 1] = Sk.builtin.asnum$(Sk.misceval.callsim(pix.getGreen, pix));\n            self.imagedata.data[index + 2] = Sk.builtin.asnum$(Sk.misceval.callsim(pix.getBlue, pix));\n            self.imagedata.data[index + 3] = 255;\n            return updateCanvasAndSuspend(self, x, y);\n        });\n\n        // update the image with the pixel at the given count - Zhu\n        $loc.setPixelAt = new Sk.builtin.func(function (self, count, pixel) {\n            var x;\n            var y;\n            var index;\n            Sk.builtin.pyCheckArgs("setPixelAt", arguments, 3, 3);\n            count = Sk.builtin.asnum$(count);\n            x = count % self.image.width;\n            y = Math.floor(count / self.image.width);\n            checkPixelRange(self, x, y);\n            index = (y * 4) * self.width + (x * 4);\n            self.imagedata.data[index] = Sk.builtin.asnum$(Sk.misceval.callsim(pixel.getRed, pixel));\n            self.imagedata.data[index + 1] = Sk.builtin.asnum$(Sk.misceval.callsim(pixel.getGreen, pixel));\n            self.imagedata.data[index + 2] = Sk.builtin.asnum$(Sk.misceval.callsim(pixel.getBlue, pixel));\n            self.imagedata.data[index + 3] = 255;\n            return updateCanvasAndSuspend(self, x, y);\n        });\n\n        // new updatePixel that uses the saved x and y location in the pixel - Barb Ericson\n        $loc.updatePixel = new Sk.builtin.func(function (self, pixel) {\n            var x;\n            var y;\n            var index;\n            Sk.builtin.pyCheckArgs("updatePixel", arguments, 2, 2);\n            x = Sk.builtin.asnum$(Sk.misceval.callsim(pixel.getX, pixel));\n            y = Sk.builtin.asnum$(Sk.misceval.callsim(pixel.getY, pixel));\n            checkPixelRange(self, x, y);\n            index = (y * 4) * self.width + (x * 4);\n            self.imagedata.data[index] = Sk.builtin.asnum$(Sk.misceval.callsim(pixel.getRed, pixel));\n            self.imagedata.data[index + 1] = Sk.builtin.asnum$(Sk.misceval.callsim(pixel.getGreen, pixel));\n            self.imagedata.data[index + 2] = Sk.builtin.asnum$(Sk.misceval.callsim(pixel.getBlue, pixel));\n            self.imagedata.data[index + 3] = 255;\n            return updateCanvasAndSuspend(self, x, y);\n        });\n\n        $loc.getHeight = new Sk.builtin.func(function (self) {\n            Sk.builtin.pyCheckArgs("getHeight", arguments, 1, 1);\n            return new Sk.builtin.int_(self.image.height);\n        });\n\n        $loc.getWidth = new Sk.builtin.func(function (self, titlestring) {\n            Sk.builtin.pyCheckArgs("getWidth", arguments, 1, 1);\n            return new Sk.builtin.int_(self.image.width);\n        });\n\n        $loc.draw = new Sk.builtin.func(function (self, win, ulx, uly) {\n            var susp;\n            Sk.builtin.pyCheckArgs("draw", arguments, 2, 4);\n            susp = new Sk.misceval.Suspension();\n            susp.resume = function () {\n                return Sk.builtin.none.none$;\n            };\n            susp.data = {\n                type: "Sk.promise",\n                promise: new Promise(function (resolve, reject) {\n                    var can;\n                    var ctx;\n                    win = Sk.builtin.asnum$(win);\n                    ulx = Sk.builtin.asnum$(ulx);\n                    uly = Sk.builtin.asnum$(uly);\n                    can = Sk.misceval.callsim(win.getWin, win);\n                    ctx = can.getContext("2d");\n                    if (!ulx) {\n                        ulx = 0;\n                        uly = 0;\n                    }\n                    self.lastUlx = ulx;\n                    self.lastUly = uly;\n                    self.lastCtx = ctx;  // save a reference to the context of the window the image was last drawn in\n                    //ctx.putImageData(self.imagedata,0,0,0,0,self.imagedata.width,self.imagedata.height);\n                    ctx.putImageData(self.imagedata, ulx, uly);\n\n                    if (self.delay > 0) {\n                        window.setTimeout(resolve, self.delay);\n                    } else {\n                        window.setTimeout(resolve, 200);\n                    }\n                })\n            };\n            return susp;\n\n        });\n\n        // toList\n\n    };\n\n    mod.Image = Sk.misceval.buildClass(mod, image, "Image", []);\n\n    eImage = function ($gbl, $loc) {\n        $loc.__init__ = new Sk.builtin.func(function (self, width, height) {\n            Sk.builtin.pyCheckArgs("__init__", arguments, 3, 3);\n            self.width = Sk.builtin.asnum$(width);\n            self.height = Sk.builtin.asnum$(height);\n            self.canvas = document.createElement("canvas");\n            self.ctx = self.canvas.getContext("2d");\n            self.canvas.height = self.height;\n            self.canvas.width = self.width;\n            self.imagedata = self.ctx.getImageData(0, 0, self.width, self.height);\n        });\n\n    };\n\n    mod.EmptyImage = Sk.misceval.buildClass(mod, eImage, "EmptyImage", [mod.Image]);\n\n    // create a ListImage object\n\n\n    pixel = function ($gbl, $loc) {\n        $loc.__init__ = new Sk.builtin.func(function (self, r, g, b, x, y) {\n            Sk.builtin.pyCheckArgs("__init__", arguments, 4, 6);\n            self.red = Sk.builtin.asnum$(r);\n            self.green = Sk.builtin.asnum$(g);\n            self.blue = Sk.builtin.asnum$(b);\n            self.x = Sk.builtin.asnum$(x);\n            self.y = Sk.builtin.asnum$(y);\n        });\n\n        $loc.getRed = new Sk.builtin.func(function (self) {\n            Sk.builtin.pyCheckArgs("getRed", arguments, 1, 1);\n            return Sk.builtin.assk$(self.red);\n        });\n\n        $loc.getGreen = new Sk.builtin.func(function (self) {\n            Sk.builtin.pyCheckArgs("getGreen", arguments, 1, 1);\n            return Sk.builtin.assk$(self.green);\n        });\n\n        $loc.getBlue = new Sk.builtin.func(function (self) {\n            Sk.builtin.pyCheckArgs("getBlue", arguments, 1, 1);\n            return Sk.builtin.assk$(self.blue);\n        });\n\n        $loc.getX = new Sk.builtin.func(function (self) {\n            Sk.builtin.pyCheckArgs("getX", arguments, 1, 1);\n            return Sk.builtin.assk$(self.x);\n        });\n\n        $loc.getY = new Sk.builtin.func(function (self) {\n            Sk.builtin.pyCheckArgs("getY", arguments, 1, 1);\n            return Sk.builtin.assk$(self.y);\n        });\n\n        $loc.setRed = new Sk.builtin.func(function (self, r) {\n            Sk.builtin.pyCheckArgs("setRed", arguments, 2, 2);\n            self.red = Sk.builtin.asnum$(r);\n        });\n\n        $loc.setGreen = new Sk.builtin.func(function (self, g) {\n            Sk.builtin.pyCheckArgs("setGreen", arguments, 2, 2);\n            self.green = Sk.builtin.asnum$(g);\n        });\n\n        $loc.setBlue = new Sk.builtin.func(function (self, b) {\n            Sk.builtin.pyCheckArgs("setBlue", arguments, 2, 2);\n            self.blue = Sk.builtin.asnum$(b);\n        });\n\n        $loc.setX = new Sk.builtin.func(function (self, x) {\n            Sk.builtin.pyCheckArgs("setX", arguments, 2, 2);\n            self.x = Sk.builtin.asnum$(x);\n        });\n\n        $loc.setY = new Sk.builtin.func(function (self, y) {\n            Sk.builtin.pyCheckArgs("setY", arguments, 2, 2);\n            self.y = Sk.builtin.asnum$(y);\n        });\n\n        $loc.__getitem__ = new Sk.builtin.func(function (self, k) {\n            k = Sk.builtin.asnum$(k);\n            if (k === 0) {\n                return self.red;\n            } else if (k == 1) {\n                return self.green;\n            } else if (k == 2) {\n                return self.blue;\n            }\n        });\n\n        $loc.__str__ = new Sk.builtin.func(function (self) {\n            return "[" + self.red + "," + self.green + "," + self.blue + "]";\n        });\n\n        //getColorTuple\n        $loc.getColorTuple = new Sk.builtin.func(function (self, x, y) {\n\n        });\n\n        //setRange -- change from 0..255 to 0.0 .. 1.0\n        $loc.setRange = new Sk.builtin.func(function (self, mx) {\n            self.max = Sk.builtin.asnum$(mx);\n        });\n\n    };\n    mod.Pixel = Sk.misceval.buildClass(mod, pixel, "Pixel", []);\n\n\n    screen = function ($gbl, $loc) {\n        $loc.__init__ = new Sk.builtin.func(function (self, width, height) {\n            var currentCanvas;\n            var tmpCan, tmpDiv;\n            Sk.builtin.pyCheckArgs("__init__", arguments, 1, 3);\n            currentCanvas = ImageMod.canvasLib[Sk.canvas];\n            if (currentCanvas === undefined) {\n                tmpCan = document.createElement("canvas");\n                tmpDiv = document.getElementById(Sk.canvas);\n                self.theScreen = tmpCan;\n                tmpDiv.appendChild(tmpCan);\n                ImageMod.canvasLib[Sk.canvas] = tmpCan;\n                ImageMod.canvasLib[Sk.canvas] = self.theScreen;\n            } else {\n                self.theScreen = currentCanvas;\n                self.theScreen.height = self.theScreen.height;\n            }\n            if (width !== undefined) {\n                self.theScreen.height = height.v;\n                self.theScreen.width = width.v;\n            } else {\n                if (Sk.availableHeight) {\n                    self.theScreen.height = Sk.availableHeight;\n                }\n                if (Sk.availableWidth) {\n                    self.theScreen.width = Sk.availableWidth;\n                }\n            }\n\n            self.theScreen.style.display = "block";\n        });\n\n        $loc.getWin = new Sk.builtin.func(function (self) {\n            return self.theScreen;\n        });\n\n        // exitonclick\n        $loc.exitonclick = new Sk.builtin.func(function (self) {\n            var canvas_id = self.theScreen.id;\n            self.theScreen.onclick = function () {\n                document.getElementById(canvas_id).style.display = "none";\n                document.getElementById(canvas_id).onclick = null;\n                delete ImageMod.canvasLib[canvas_id];\n            };\n\n        });\n        //getMouse\n    };\n\n    mod.ImageWin = Sk.misceval.buildClass(mod, screen, "ImageWin", []);\n\n    return mod;\n};\n',"src/lib/wsgiref/__init__.py":'raise NotImplementedError("wsgiref is not yet implemented in Skulpt")\n',"src/lib/httplib.py":'raise NotImplementedError("httplib is not yet implemented in Skulpt")\n',"src/lib/lib2to3/__init__.py":'raise NotImplementedError("lib2to3 is not yet implemented in Skulpt")\n',"src/lib/json/tests/__init__.py":'raise NotImplementedError("tests is not yet implemented in Skulpt")\n',"src/lib/rlcompleter.py":'raise NotImplementedError("rlcompleter is not yet implemented in Skulpt")\n',"src/lib/ftplib.py":'raise NotImplementedError("ftplib is not yet implemented in Skulpt")\n',"src/lib/ctypes/__init__.py":'raise NotImplementedError("ctypes is not yet implemented in Skulpt")\n',"src/lib/subprocess.py":'raise NotImplementedError("subprocess is not yet implemented in Skulpt")\n',"src/lib/bsddb/__init__.py":'raise NotImplementedError("bsddb is not yet implemented in Skulpt")\n',"src/lib/tempfile.py":'raise NotImplementedError("tempfile is not yet implemented in Skulpt")\n',"src/lib/struct.py":'raise NotImplementedError("struct is not yet implemented in Skulpt")\n',"src/lib/random.js":'/*\n I\'ve wrapped Makoto Matsumoto and Takuji Nishimura\'s code in a namespace\n so it\'s better encapsulated. Now you can have multiple random number generators\n and they won\'t stomp all over eachother\'s state.\n\n If you want to use this as a substitute for Math.random(), use the random()\n method like so:\n\n var m = new MersenneTwister();\n var randomNumber = m.random();\n\n You can also call the other genrand_{foo}() methods on the instance.\n\n If you want to use a specific seed in order to get a repeatable random\n sequence, pass an integer into the constructor:\n\n var m = new MersenneTwister(123);\n\n and that will always produce the same random sequence.\n\n Sean McCullough (banksean@gmail.com)\n */\n\n/* \n A C-program for MT19937, with initialization improved 2002/1/26.\n Coded by Takuji Nishimura and Makoto Matsumoto.\n\n Before using, initialize the state by using init_genrand(seed)\n or init_by_array(init_key, key_length).\n\n Copyright (C) 1997 - 2002, Makoto Matsumoto and Takuji Nishimura,\n All rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions\n are met:\n\n 1. Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n 2. Redistributions in binary form must reproduce the above copyright\n notice, this list of conditions and the following disclaimer in the\n documentation and/or other materials provided with the distribution.\n\n 3. The names of its contributors may not be used to endorse or promote\n products derived from this software without specific prior written\n permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR\n CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\n\n Any feedback is very welcome.\n http://www.math.sci.hiroshima-u.ac.jp/~m-mat/MT/emt.html\n email: m-mat @ math.sci.hiroshima-u.ac.jp (remove space)\n */\n\nvar MersenneTwister = function (seed) {\n    if (seed == undefined) {\n        seed = new Date().getTime();\n    }\n    /* Period parameters */\n    this.N = 624;\n    this.M = 397;\n    this.MATRIX_A = 0x9908b0df;\n    /* constant vector a */\n    this.UPPER_MASK = 0x80000000;\n    /* most significant w-r bits */\n    this.LOWER_MASK = 0x7fffffff;\n    /* least significant r bits */\n\n    this.mt = new Array(this.N);\n    /* the array for the state vector */\n    this.mti = this.N + 1;\n    /* mti==N+1 means mt[N] is not initialized */\n\n    this.init_genrand(seed);\n}\n\n/* initializes mt[N] with a seed */\nMersenneTwister.prototype.init_genrand = function (s) {\n    this.mt[0] = s >>> 0;\n    for (this.mti = 1; this.mti < this.N; this.mti++) {\n        var s = this.mt[this.mti - 1] ^ (this.mt[this.mti - 1] >>> 30);\n        this.mt[this.mti] = (((((s & 0xffff0000) >>> 16) * 1812433253) << 16) + (s & 0x0000ffff) * 1812433253)\n            + this.mti;\n        /* See Knuth TAOCP Vol2. 3rd Ed. P.106 for multiplier. */\n        /* In the previous versions, MSBs of the seed affect   */\n        /* only MSBs of the array mt[].                        */\n        /* 2002/01/09 modified by Makoto Matsumoto             */\n        this.mt[this.mti] >>>= 0;\n        /* for >32 bit machines */\n    }\n}\n\n/* initialize by an array with array-length */\n/* init_key is the array for initializing keys */\n/* key_length is its length */\n/* slight change for C++, 2004/2/26 */\nMersenneTwister.prototype.init_by_array = function (init_key, key_length) {\n    var i, j, k;\n    this.init_genrand(19650218);\n    i = 1;\n    j = 0;\n    k = (this.N > key_length ? this.N : key_length);\n    for (; k; k--) {\n        var s = this.mt[i - 1] ^ (this.mt[i - 1] >>> 30)\n        this.mt[i] = (this.mt[i] ^ (((((s & 0xffff0000) >>> 16) * 1664525) << 16) + ((s & 0x0000ffff) * 1664525)))\n            + init_key[j] + j;\n        /* non linear */\n        this.mt[i] >>>= 0;\n        /* for WORDSIZE > 32 machines */\n        i++;\n        j++;\n        if (i >= this.N) {\n            this.mt[0] = this.mt[this.N - 1];\n            i = 1;\n        }\n        if (j >= key_length) {\n            j = 0;\n        }\n    }\n    for (k = this.N - 1; k; k--) {\n        var s = this.mt[i - 1] ^ (this.mt[i - 1] >>> 30);\n        this.mt[i] = (this.mt[i] ^ (((((s & 0xffff0000) >>> 16) * 1566083941) << 16) + (s & 0x0000ffff) * 1566083941))\n            - i;\n        /* non linear */\n        this.mt[i] >>>= 0;\n        /* for WORDSIZE > 32 machines */\n        i++;\n        if (i >= this.N) {\n            this.mt[0] = this.mt[this.N - 1];\n            i = 1;\n        }\n    }\n\n    this.mt[0] = 0x80000000;\n    /* MSB is 1; assuring non-zero initial array */\n}\n\n/* generates a random number on [0,0xffffffff]-interval */\nMersenneTwister.prototype.genrand_int32 = function () {\n    var y;\n    var mag01 = new Array(0x0, this.MATRIX_A);\n    /* mag01[x] = x * MATRIX_A  for x=0,1 */\n\n    if (this.mti >= this.N) { /* generate N words at one time */\n        var kk;\n\n        if (this.mti == this.N + 1)   /* if init_genrand() has not been called, */\n        {\n            this.init_genrand(5489);\n        }\n        /* a default initial seed is used */\n\n        for (kk = 0; kk < this.N - this.M; kk++) {\n            y = (this.mt[kk] & this.UPPER_MASK) | (this.mt[kk + 1] & this.LOWER_MASK);\n            this.mt[kk] = this.mt[kk + this.M] ^ (y >>> 1) ^ mag01[y & 0x1];\n        }\n        for (; kk < this.N - 1; kk++) {\n            y = (this.mt[kk] & this.UPPER_MASK) | (this.mt[kk + 1] & this.LOWER_MASK);\n            this.mt[kk] = this.mt[kk + (this.M - this.N)] ^ (y >>> 1) ^ mag01[y & 0x1];\n        }\n        y = (this.mt[this.N - 1] & this.UPPER_MASK) | (this.mt[0] & this.LOWER_MASK);\n        this.mt[this.N - 1] = this.mt[this.M - 1] ^ (y >>> 1) ^ mag01[y & 0x1];\n\n        this.mti = 0;\n    }\n\n    y = this.mt[this.mti++];\n\n    /* Tempering */\n    y ^= (y >>> 11);\n    y ^= (y << 7) & 0x9d2c5680;\n    y ^= (y << 15) & 0xefc60000;\n    y ^= (y >>> 18);\n\n    return y >>> 0;\n}\n\n/* generates a random number on [0,0x7fffffff]-interval */\nMersenneTwister.prototype.genrand_int31 = function () {\n    return (this.genrand_int32() >>> 1);\n}\n\n/* generates a random number on [0,1]-real-interval */\nMersenneTwister.prototype.genrand_real1 = function () {\n    return this.genrand_int32() * (1.0 / 4294967295.0);\n    /* divided by 2^32-1 */\n}\n\n/* generates a random number on [0,1)-real-interval */\nMersenneTwister.prototype.random = function () {\n    return this.genrand_int32() * (1.0 / 4294967296.0);\n    /* divided by 2^32 */\n}\n\n/* generates a random number on (0,1)-real-interval */\nMersenneTwister.prototype.genrand_real3 = function () {\n    return (this.genrand_int32() + 0.5) * (1.0 / 4294967296.0);\n    /* divided by 2^32 */\n}\n\n/* generates a random number on [0,1) with 53-bit resolution*/\nMersenneTwister.prototype.genrand_res53 = function () {\n    var a = this.genrand_int32() >>> 5, b = this.genrand_int32() >>> 6;\n    return(a * 67108864.0 + b) * (1.0 / 9007199254740992.0);\n}\n\n/* These real versions are due to Isaku Wada, 2002/01/09 added */\n\n\nvar $builtinmodule = function (name) {\n\n    var mod = {};\n\n    var myGenerator = new MersenneTwister();\n    var nextNormalSample = undefined;\n\n    mod.seed = new Sk.builtin.func(function (x) {\n        Sk.builtin.pyCheckArgs("seed", arguments, 0, 1);\n        x = Sk.builtin.asnum$(x);\n\n        if (arguments.length > 0) {\n            myGenerator = new MersenneTwister(x);\n        }\n        else {\n            myGenerator = new MersenneTwister();\n        }\n\n        return Sk.builtin.none.none$;\n    });\n\n    mod.random = new Sk.builtin.func(function () {\n        Sk.builtin.pyCheckArgs("random", arguments, 0, 0);\n\n        return new Sk.builtin.float_(myGenerator.genrand_res53());\n    });\n\n    var toInt = function (num) {\n        return num | 0;\n    };\n\n    var randrange = function (start, stop, step) {\n        // Ported from CPython 2.7\n        var width, n, ret;\n\n        if (!Sk.builtin.checkInt(start)) {\n            throw new Sk.builtin.ValueError("non-integer first argument for randrange()");\n        }\n        ;\n\n        if (stop === undefined) {\n            // Random in [0, start)\n            ret = toInt(myGenerator.genrand_res53() * start);\n            return new Sk.builtin.int_(ret);\n        }\n        ;\n\n        if (!Sk.builtin.checkInt(stop)) {\n            throw new Sk.builtin.ValueError("non-integer stop for randrange()");\n        }\n        ;\n\n        if (step === undefined) {\n            step = 1;\n        }\n        ;\n\n        width = stop - start;\n\n        if ((step == 1) && (width > 0)) {\n            // Random in [start, stop), must use toInt on product for correct results with negative ranges\n            ret = start + toInt(myGenerator.genrand_res53() * width);\n            return new Sk.builtin.int_(ret);\n        }\n        ;\n\n        if (step == 1) {\n            throw new Sk.builtin.ValueError("empty range for randrange() (" + start + ", " + stop + ", " + width + ")");\n        }\n        ;\n\n        if (!Sk.builtin.checkInt(step)) {\n            throw new Sk.builtin.ValueError("non-integer step for randrange()");\n        }\n        ;\n\n        if (step > 0) {\n            n = toInt((width + step - 1) / step);\n        } else if (step < 0) {\n            n = toInt((width + step + 1) / step);\n        } else {\n            throw new Sk.builtin.ValueError("zero step for randrange()");\n        }\n        ;\n\n        if (n <= 0) {\n            throw new Sk.builtin.ValueError("empty range for randrange()");\n        }\n        ;\n\n        // Random in range(start, stop, step)\n        ret = start + (step * toInt(myGenerator.genrand_res53() * n));\n        return new Sk.builtin.int_(ret);\n    };\n\n    mod.randint = new Sk.builtin.func(function (a, b) {\n        Sk.builtin.pyCheckArgs("randint", arguments, 2, 2);\n\n        a = Sk.builtin.asnum$(a);\n        b = Sk.builtin.asnum$(b);\n        return randrange(a, b + 1);\n    });\n\n    mod.randrange = new Sk.builtin.func(function (start, stop, step) {\n        Sk.builtin.pyCheckArgs("randrange", arguments, 1, 3);\n\n        start = Sk.builtin.asnum$(start);\n        stop = Sk.builtin.asnum$(stop);\n        step = Sk.builtin.asnum$(step);\n        return randrange(start, stop, step);\n    });\n  \n    mod.uniform = new Sk.builtin.func(function (a, b) {\n        Sk.builtin.pyCheckArgs("uniform", arguments, 2, 2);\n\n        a = Sk.builtin.asnum$(a);\n        b = Sk.builtin.asnum$(b);\n        var rnd = myGenerator.genrand_res53();\n        c = a + rnd * (b - a)\n        return new Sk.builtin.float_(c);\n    });\n\n    mod.triangular = new Sk.builtin.func(function (low, high, mode) {\n        Sk.builtin.pyCheckArgs("triangular", arguments, 2, 3);\n        Sk.builtin.pyCheckType("low", "number", Sk.builtin.checkNumber(low));\n        Sk.builtin.pyCheckType("high", "number", Sk.builtin.checkNumber(high));\n\n        var rnd, sample, swap;\n\n        low = Sk.builtin.asnum$(low);\n        high = Sk.builtin.asnum$(high);\n        if (low > high) {\n            swap = low;\n            low = high;\n            high = swap;\n        }\n        if ((mode === undefined) || (mode instanceof Sk.builtin.none)) {\n            mode = (high - low)/2.0;\n        } else {\n            Sk.builtin.pyCheckType("mode", "number", Sk.builtin.checkNumber(mode));\n            mode = Sk.builtin.asnum$(mode);\n        }\n\n        // https://en.wikipedia.org/wiki/Triangular_distribution\n        rnd = myGenerator.genrand_res53();\n        if (rnd < (mode - low)/(high - low)) {\n            sample = low + Math.sqrt(rnd * (high - low) * (mode - low));\n        } else {\n            sample = high - Math.sqrt((1 - rnd) * (high - low) * (high - mode));\n        }\n\n        return new Sk.builtin.float_(sample);\n    });\n\n    var normalSample = function(mu, sigma) {\n        var r1, r2, u, v, s;\n\n        // Box-Muller transform\n        // (https://en.wikipedia.org/wiki/Box%E2%80%93Muller_transform)\n        // generates two independent samples from a Gaussian\n        // distribution. Return one of them and store the another one\n        // and return it next time.\n\n        if (nextNormalSample !== undefined) {\n            s = nextNormalSample;\n            nextNormalSample = undefined;\n        } else {\n            r1 = myGenerator.genrand_res53();\n            r2 = myGenerator.genrand_res53();\n            u = Math.sqrt(-2*Math.log(r1));\n            v = 2*Math.PI*r2;\n            s = u * Math.cos(v);\n            nextNormalSample = u * Math.sin(v);\n        }\n\n        return mu + sigma*s;\n    };\n    \n    mod.gauss = new Sk.builtin.func(function (mu, sigma) {\n        Sk.builtin.pyCheckArgs("gauss", arguments, 2, 2);\n        Sk.builtin.pyCheckType("mu", "number", Sk.builtin.checkNumber(mu));\n        Sk.builtin.pyCheckType("sigma", "number", Sk.builtin.checkNumber(sigma));\n\n        mu = Sk.builtin.asnum$(mu);\n        sigma = Sk.builtin.asnum$(sigma);\n\n        return new Sk.builtin.float_(normalSample(mu, sigma));\n    });\n\n    // CPython uses a different (slower but thread-safe) algorithm for\n    // normalvariate. We use the same algorithm for normalvariate and\n    // gauss.\n    mod.normalvariate = mod.gauss;\n\n    mod.lognormvariate = new Sk.builtin.func(function (mu, sigma) {\n        Sk.builtin.pyCheckArgs("lognormvariate", arguments, 2, 2);\n        Sk.builtin.pyCheckType("mu", "number", Sk.builtin.checkNumber(mu));\n        Sk.builtin.pyCheckType("sigma", "number", Sk.builtin.checkNumber(sigma));\n\n        mu = Sk.builtin.asnum$(mu);\n        sigma = Sk.builtin.asnum$(sigma);\n\n        return new Sk.builtin.float_(Math.exp(normalSample(mu, sigma)));\n    });\n\n    mod.expovariate = new Sk.builtin.func(function (lambd) {\n        Sk.builtin.pyCheckArgs("expovariate", arguments, 1, 1);\n        Sk.builtin.pyCheckType("lambd", "number", Sk.builtin.checkNumber(lambd));\n\n        lambd = Sk.builtin.asnum$(lambd);\n\n        var rnd = myGenerator.genrand_res53();\n        return new Sk.builtin.float_(-Math.log(rnd)/lambd);\n    });\n\n    mod.choice = new Sk.builtin.func(function (seq) {\n        Sk.builtin.pyCheckArgs("choice", arguments, 1, 1);\n        Sk.builtin.pyCheckType("seq", "sequence", Sk.builtin.checkSequence(seq));\n\n        if (seq.sq$length !== undefined) {\n            var r = toInt(myGenerator.genrand_res53() * seq.sq$length());\n            return seq.mp$subscript(r);\n        } else {\n            throw new Sk.builtin.TypeError("object has no length");\n        }\n    });\n\n    mod.shuffle = new Sk.builtin.func(function (x) {\n        Sk.builtin.pyCheckArgs("shuffle", arguments, 1, 1);\n        Sk.builtin.pyCheckType("x", "sequence", Sk.builtin.checkSequence(x));\n\n        if (x.sq$length !== undefined) {\n            if (x.mp$ass_subscript !== undefined) {\n                for (var i = x.sq$length() - 1; i > 0; i -= 1) {\n                    var r = toInt(myGenerator.genrand_res53() * (i + 1));\n                    var tmp = x.mp$subscript(r);\n                    x.mp$ass_subscript(r, x.mp$subscript(i));\n                    x.mp$ass_subscript(i, tmp);\n                }\n                ;\n            } else {\n                throw new Sk.builtin.TypeError("object is immutable");\n            }\n            ;\n        } else {\n            throw new Sk.builtin.TypeError("object has no length");\n        }\n        ;\n\n        return Sk.builtin.none.none$;\n    });\n\n    mod.sample = new Sk.builtin.func(function (population, k) {\n        var i, j, iter, elem, reservoir;\n\n        Sk.builtin.pyCheckArgs("sample", arguments, 2, 2);\n        Sk.builtin.pyCheckType("population", "iterable", Sk.builtin.checkIterable(population));\n        Sk.builtin.pyCheckType("k", "integer", Sk.builtin.checkInt(k));\n        k = Sk.builtin.asnum$(k);\n        \n        // "Algorithm R" in\n        // https://en.wikipedia.org/wiki/Reservoir_sampling\n        //\n        // This algorithm guarantees that each element has\n        // equal probability of being included in the\n        // resulting list. See the Wikipedia page for a proof.\n        //\n        // This requires no extra space but the runtime is\n        // proportional to len(population). CPython implements a fast\n        // path for the case when k is much smaller than\n        // len(population). A similar optimization could be\n        // implemented here.\n        reservoir = [];\n        iter = Sk.abstr.iter(population);\n        for (i = 0, elem = iter.tp$iternext();\n             elem !== undefined;\n             i++, elem = iter.tp$iternext()) {\n            j = Math.floor(myGenerator.genrand_res53() * (i + 1));\n            if (i < k) {\n                // Fill the reservoir\n                if (j < i) {\n                    // Shuffle the existing elements to ensure that\n                    // subslices are valid random samples\n                    reservoir[i] = reservoir[j];\n                }\n                reservoir[j] = elem;\n            } else {\n                // Replace elements with a probability that decreases\n                // the further we get\n                if (j < k) {\n                    reservoir[j] = elem;\n                }\n            }\n        }\n        \n        if (i < k) {\n            throw new Sk.builtin.ValueError("sample larger than population");\n        }\n\n        return Sk.builtin.list(reservoir);\n    });\n\n    return mod;\n}\n',"src/lib/plistlib.py":'raise NotImplementedError("plistlib is not yet implemented in Skulpt")\n',"src/lib/tarfile.py":'raise NotImplementedError("tarfile is not yet implemented in Skulpt")\n',"src/lib/popen2.py":'raise NotImplementedError("popen2 is not yet implemented in Skulpt")\n',"src/lib/webbrowser.py":'raise NotImplementedError("webbrowser is not yet implemented in Skulpt")\n',"src/lib/asynchat.py":'raise NotImplementedError("asynchat is not yet implemented in Skulpt")\n',"src/lib/mimetools.py":'raise NotImplementedError("mimetools is not yet implemented in Skulpt")\n',"src/lib/pythonds/trees/bst.py":"#!/bin/env python3.1\n# Bradley N. Miller, David L. Ranum\n# Introduction to Data Structures and Algorithms in Python\n# Copyright 2005, 2010\n# \n\nclass BinarySearchTree:\n    '''\n    Author:  Brad Miller\n    Date:  1/15/2005\n    Description:  Imlement a binary search tree with the following interface\n                  functions:  \n                  __contains__(y) <==> y in x\n                  __getitem__(y) <==> x[y]\n                  __init__()\n                  __len__() <==> len(x)\n                  __setitem__(k,v) <==> x[k] = v\n                  clear()\n                  get(k)\n                  items() \n                  keys() \n                  values()\n                  put(k,v)\n                  in\n                  del <==> \n    '''\n\n    def __init__(self):\n        self.root = None\n        self.size = 0\n    \n    def put(self,key,val):\n        if self.root:\n            self._put(key,val,self.root)\n        else:\n            self.root = TreeNode(key,val)\n        self.size = self.size + 1\n\n    def _put(self,key,val,currentNode):\n        if key < currentNode.key:\n            if currentNode.hasLeftChild():\n                self._put(key,val,currentNode.leftChild)\n            else:\n                currentNode.leftChild = TreeNode(key,val,parent=currentNode)\n        else:\n            if currentNode.hasRightChild():\n                self._put(key,val,currentNode.rightChild)\n            else:\n                currentNode.rightChild = TreeNode(key,val,parent=currentNode)\n            \n    def __setitem__(self,k,v):\n        self.put(k,v)\n\n    def get(self,key):\n        if self.root:\n            res = self._get(key,self.root)\n            if res:\n                return res.payload\n            else:\n                return None\n        else:\n            return None\n        \n    def _get(self,key,currentNode):\n        if not currentNode:\n            return None\n        elif currentNode.key == key:\n            return currentNode\n        elif key < currentNode.key:\n            return self._get(key,currentNode.leftChild)\n        else:\n            return self._get(key,currentNode.rightChild)\n            \n        \n    def __getitem__(self,key):\n        res = self.get(key)\n        if res:\n            return res\n        else:\n            raise KeyError('Error, key not in tree')\n            \n\n    def __contains__(self,key):\n        if self._get(key,self.root):\n            return True\n        else:\n            return False\n        \n    def length(self):\n        return self.size\n\n    def __len__(self):\n        return self.size\n\n    def __iter__(self):\n        return self.root.__iter__()\n    \n    def delete(self,key):\n        if self.size > 1:\n            nodeToRemove = self._get(key,self.root)\n            if nodeToRemove:\n                self.remove(nodeToRemove)\n                self.size = self.size-1\n            else:\n                raise KeyError('Error, key not in tree')\n        elif self.size == 1 and self.root.key == key:\n            self.root = None\n            self.size = self.size - 1\n        else:\n            raise KeyError('Error, key not in tree')\n\n    def __delitem__(self,key):\n        self.delete(key)\n    \n    def remove(self,currentNode):\n        if currentNode.isLeaf(): #leaf\n            if currentNode == currentNode.parent.leftChild:\n                currentNode.parent.leftChild = None\n            else:\n                currentNode.parent.rightChild = None\n        elif currentNode.hasBothChildren(): #interior\n            succ = currentNode.findSuccessor()\n            succ.spliceOut()\n            currentNode.key = succ.key\n            currentNode.payload = succ.payload\n        else: # this node has one child\n            if currentNode.hasLeftChild():\n                if currentNode.isLeftChild():\n                    currentNode.leftChild.parent = currentNode.parent\n                    currentNode.parent.leftChild = currentNode.leftChild\n                elif currentNode.isRightChild():\n                    currentNode.leftChild.parent = currentNode.parent\n                    currentNode.parent.rightChild = currentNode.leftChild\n                else:\n                    currentNode.replaceNodeData(currentNode.leftChild.key,\n                                       currentNode.leftChild.payload,\n                                       currentNode.leftChild.leftChild,\n                                       currentNode.leftChild.rightChild)\n            else:\n                if currentNode.isLeftChild():\n                    currentNode.rightChild.parent = currentNode.parent\n                    currentNode.parent.leftChild = currentNode.rightChild\n                elif currentNode.isRightChild():\n                    currentNode.rightChild.parent = currentNode.parent\n                    currentNode.parent.rightChild = currentNode.rightChild\n                else:\n                    currentNode.replaceNodeData(currentNode.rightChild.key,\n                                       currentNode.rightChild.payload,\n                                       currentNode.rightChild.leftChild,\n                                       currentNode.rightChild.rightChild)\n\n    def inorder(self):\n        self._inorder(self.root)\n\n    def _inorder(self,tree):\n        if tree != None:\n            self._inorder(tree.leftChild)\n            print(tree.key)\n            self._inorder(tree.rightChild)\n\n    def postorder(self):\n        self._postorder(self.root)\n\n    def _postorder(self, tree):\n        if tree:\n            self._postorder(tree.rightChild)\n            self._postorder(tree.leftChild)\n            print(tree.key)            \n\n    def preorder(self):\n        self._preorder(self,self.root)\n\n    def _preorder(self,tree):\n        if tree:\n            print(tree.key)            \n            self._preorder(tree.leftChild)\n            self._preorder(tree.rightChild)\n\n                \nclass TreeNode:\n    def __init__(self,key,val,left=None,right=None,parent=None):\n        self.key = key\n        self.payload = val\n        self.leftChild = left\n        self.rightChild = right\n        self.parent = parent\n        self.balanceFactor = 0\n        \n    def hasLeftChild(self):\n        return self.leftChild\n\n    def hasRightChild(self):\n        return self.rightChild\n    \n    def isLeftChild(self):\n        return self.parent and self.parent.leftChild == self\n\n    def isRightChild(self):\n        return self.parent and self.parent.rightChild == self\n\n    def isRoot(self):\n        return not self.parent\n\n    def isLeaf(self):\n        return not (self.rightChild or self.leftChild)\n\n    def hasAnyChildren(self):\n        return self.rightChild or self.leftChild\n\n    def hasBothChildren(self):\n        return self.rightChild and self.leftChild\n    \n    def replaceNodeData(self,key,value,lc,rc):\n        self.key = key\n        self.payload = value\n        self.leftChild = lc\n        self.rightChild = rc\n        if self.hasLeftChild():\n            self.leftChild.parent = self\n        if self.hasRightChild():\n            self.rightChild.parent = self\n        \n    def findSuccessor(self):\n        succ = None\n        if self.hasRightChild():\n            succ = self.rightChild.findMin()\n        else:\n            if self.parent:\n                if self.isLeftChild():\n                    succ = self.parent\n                else:\n                    self.parent.rightChild = None\n                    succ = self.parent.findSuccessor()\n                    self.parent.rightChild = self\n        return succ\n\n\n    def spliceOut(self):\n        if self.isLeaf():\n            if self.isLeftChild():\n                self.parent.leftChild = None\n            else:\n                self.parent.rightChild = None\n        elif self.hasAnyChildren():\n            if self.hasLeftChild():\n                if self.isLeftChild():\n                    self.parent.leftChild = self.leftChild\n                else:\n                    self.parent.rightChild = self.leftChild\n                self.leftChild.parent = self.parent\n            else:\n                if self.isLeftChild():\n                    self.parent.leftChild = self.rightChild\n                else:\n                    self.parent.rightChild = self.rightChild\n                self.rightChild.parent = self.parent\n\n    def findMin(self):\n        current = self\n        while current.hasLeftChild():\n            current = current.leftChild\n        return current\n\n    def __iter__(self):\n        \"\"\"The standard inorder traversal of a binary tree.\"\"\"\n        if self:\n            if self.hasLeftChild():\n                for elem in self.leftChild:\n                    yield elem\n            yield self.key\n            if self.hasRightChild():\n                for elem in self.rightChild:\n                    yield elem\n\n            \n","src/lib/user.py":'raise NotImplementedError("user is not yet implemented in Skulpt")\n',"src/lib/document.js":"var $builtinmodule = function (name) {\n    var elementClass;\n    var mod = {};\n\n    mod.getElementById = new Sk.builtin.func(function (id) {\n        var result = document.getElementById(id.v);\n        if (result) {\n            return Sk.misceval.callsim(mod.Element, result);\n        }\n        return Sk.builtin.none.none$;\n    });\n\n    mod.createElement = new Sk.builtin.func(function (eName) {\n        var r = document.createElement(eName.v);\n        if (r) {\n            return Sk.misceval.callsim(mod.Element, r);\n        }\n    });\n\n\n    mod.getElementsByTagName = new Sk.builtin.func(function (tag) {\n        var r = document.getElementsByTagName(tag.v)\n        var reslist = [];\n        for (var i = r.length - 1; i >= 0; i--) {\n            reslist.push(Sk.misceval.callsim(mod.Element, r[i]))\n        }\n        return new Sk.builtin.list(reslist)\n    });\n\n    mod.getElementsByClassName = new Sk.builtin.func(function (cname) {\n        var r = document.getElementsByClassName(cname.v);\n        var reslist = [];\n        for (var i = 0; i < r.length; i++) {\n            reslist.push(Sk.misceval.callsim(mod.Element, r[i]));\n        }\n        ;\n        return new Sk.builtin.list(reslist);\n    });\n\n    mod.getElementsByName = new Sk.builtin.func(function (cname) {\n        var r = document.getElementsByName(cname.v);\n        var reslist = [];\n        for (var i = 0; i < r.length; i++) {\n            reslist.push(Sk.misceval.callsim(mod.Element, r[i]));\n        }\n        ;\n        return new Sk.builtin.list(reslist);\n    });\n\n    mod.currentDiv = new Sk.builtin.func(function () {\n        if (Sk.divid !== undefined) {\n            return new Sk.builtin.str(Sk.divid)\n        }\n        else {\n            throw new Sk.builtin.AttributeError(\"There is no value set for divid\");\n        }\n    })\n\n    elementClass = function ($gbl, $loc) {\n        /*\n         Notes:  self['$d'] is the dictionary used by the GenericGetAttr mechanism for an object.\n         for various reasons  if you create a class in Javascript and have self.xxxx instance\n         variables, you cannot say instance.xxx and get the value of the instance variable unless\n         it is stored in the self['$d'] object.  This seems like a duplication of storage to me\n         but that is how it works right now  (5/2013)\n\n         Writing your own __getattr__ is also an option but this gets very tricky when an attr is\n         a method...\n         */\n        $loc.__init__ = new Sk.builtin.func(function (self, elem) {\n            self.v = elem\n            self.innerHTML = elem.innerHTML\n            self.innerText = elem.innerText\n            if (elem.value !== undefined) {\n                self.value = elem.value\n                Sk.abstr.objectSetItem(self['$d'], new Sk.builtin.str('value'), new Sk.builtin.str(self.value))\n            }\n\n            if (elem.checked !== undefined) {\n                self.checked = elem.checked\n                Sk.abstr.objectSetItem(self['$d'], new Sk.builtin.str('checked'), new Sk.builtin.str(self.checked))\n            }\n\n            Sk.abstr.objectSetItem(self['$d'], new Sk.builtin.str('innerHTML'), new Sk.builtin.str(self.innerHTML))\n            Sk.abstr.objectSetItem(self['$d'], new Sk.builtin.str('innerText'), new Sk.builtin.str(self.innerText))\n\n        })\n\n        $loc.tp$getattr = Sk.builtin.object.prototype.GenericGetAttr;\n\n        $loc.__setattr__ = new Sk.builtin.func(function (self, key, value) {\n            key = Sk.ffi.remapToJs(key);\n            if (key === 'innerHTML') {\n                self.innerHTML = value\n                self.v.innerHTML = value.v\n                Sk.abstr.objectSetItem(self['$d'], new Sk.builtin.str('innerHTML'), value)\n            }\n            if (key === 'innerText') {\n                self.innerText = value\n                self.v.innerText = value.v\n                Sk.abstr.objectSetItem(self['$d'], new Sk.builtin.str('innerText'), value)\n            }\n        });\n\n\n        $loc.appendChild = new Sk.builtin.func(function (self, ch) {\n            self.v.appendChild(ch.v);\n        });\n\n        $loc.removeChild = new Sk.builtin.func(function (self, node) {\n            self.v.removeChild(node.v)\n        })\n\n        // getCSS\n\n        $loc.getCSS = new Sk.builtin.func(function (self, key) {\n            return new Sk.builtin.str(self.v.style[key.v]);\n        });\n\n\n        $loc.setCSS = new Sk.builtin.func(function (self, attr, value) {\n            self.v.style[attr.v] = value.v\n\n        })\n\n        $loc.getAttribute = new Sk.builtin.func(function (self, key) {\n            var res = self.v.getAttribute(key.v)\n            if (res) {\n                return new Sk.builtin.str(res)\n            } else {\n                return Sk.builtin.none.none$;\n            }\n        });\n\n        $loc.setAttribute = new Sk.builtin.func(function (self, attr, value) {\n            self.v.setAttribute(attr.v, value.v)\n        });\n\n        $loc.getProperty = new Sk.builtin.func(function (self, key) {\n            var res = self.v[key.v]\n            if (res) {\n                return new Sk.builtin.str(res)\n            } else {\n                return Sk.builtin.none.none$;\n            }\n        });\n\n        $loc.__str__ = new Sk.builtin.func(function (self) {\n            console.log(self.v.tagName);\n            return new Sk.builtin.str(self.v.tagName)\n        })\n\n        $loc.__repr__ = new Sk.builtin.func(function (self) {\n            return new Sk.builtin.str('[DOM Element]')\n        })\n\n\n    };\n\n    mod.Element = Sk.misceval.buildClass(mod, elementClass, 'Element', []);\n\n    return mod;\n\n}\n","src/lib/token.py":'raise NotImplementedError("token is not yet implemented in Skulpt")\n',"src/lib/_threading_local.py":'raise NotImplementedError("_threading_local is not yet implemented in Skulpt")\n',"src/lib/profile.py":'raise NotImplementedError("profile is not yet implemented in Skulpt")\n',"src/lib/copy.py":'"""\nThis file was modified from CPython.\nCopyright (c) 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010,\n2011, 2012, 2013, 2014, 2015 Python Software Foundation; All Rights Reserved\n"""\nimport types\nclass Error(Exception):\n    pass\nerror = Error \nclass _EmptyClass:\n    pass\n\ndef copy(x):\n    cls = type(x)\n    if callable(x):\n        return x\n    copier = getattr(cls, "__copy__", None)\n    if copier:\n        return copier(x)\n    if cls in (type(None), int, float, bool, long, str, tuple, type):\n        return x\n    if (cls == list) or (cls == dict) or (cls == set) or (cls == slice):\n        return cls(x)\n    try:\n        getstate = getattr(x, "__getstate__", None)\n        setstate = getattr(x, "__setstate__", None)\n        initargs = getattr(x, "__getinitargs__", None)\n    except:\n        reductor = False\n    if getstate or setstate or initargs:\n        raise NotImplementedError("Skulpt does not yet support copying with user-defined __getstate__, __setstate__ or __getinitargs__()")\n    reductor = getattr(x, "__reduce_ex__", None)\n    if reductor:\n        rv = reductor(4)\n    else:\n        reductor = getattr(x, "__reduce__", None)\n        if reductor:\n            rv = reductor()\n        elif str(cls)[1:6] == "class":\n            copier = _copy_inst\n            return copier(x)\n        else:\n            raise Error("un(shallow)copyable object of type %s" % cls)\n    if isinstance(rv, str):\n        return x\n    return _reconstruct(x, rv, 0)\n\ndef _copy_inst(x):\n    if hasattr(x, \'__copy__\'):\n        return x.__copy__()\n    if hasattr(x, \'__getinitargs__\'):\n        args = x.__getinitargs__()\n        y = x.__class__(*args)\n    else:\n        y = _EmptyClass()\n        y.__class__ = x.__class__\n    if hasattr(x, \'__getstate__\'):\n        state = x.__getstate__()\n    else:\n        state = x.__dict__\n    if hasattr(y, \'__setstate__\'):\n        y.__setstate__(state)\n    else:\n        y.__dict__.update(state)\n    return y\n\nd = _deepcopy_dispatch = {}\n\ndef deepcopy(x, memo=None, _nil=[]):\n    """Deep copy operation on arbitrary Python objects.\n    See the module\'s __doc__ string for more info.\n    """\n    if memo is None:\n        memo = {}\n    idx = id(x)\n    y = memo.get(idx, _nil)\n    if y is not _nil:\n        return y\n    cls = type(x)\n    try:\n        getstate = getattr(x, "__getstate__", None)\n        setstate = getattr(x, "__setstate__", None)\n        initargs = getattr(x, "__getinitargs__", None)\n    except:\n        reductor = False\n    if getstate or setstate or initargs:\n        raise NotImplementedError("Skulpt does not yet support copying with user-defined __getstate__, __setstate__ or __getinitargs__()")\n    copier = _deepcopy_dispatch.get(cls)\n    if copier:\n        y = copier(x, memo)\n    elif str(cls)[1:6] == "class":\n        copier = _deepcopy_dispatch["InstanceType"]\n        y = copier(x, memo)\n    else:\n        try:\n            issc = issubclass(cls, type)\n        except TypeError: # cls is not a class (old Boost; see SF #502085)\n            issc = 0\n        if issc:\n            y = _deepcopy_atomic(x, memo)\n        else:\n            copier = getattr(x, "__deepcopy__", None)\n            if copier:\n                y = copier(memo)\n            else:\n                reductor = getattr(x, "__reduce_ex__", None)\n                if reductor:\n                    rv = reductor(2)\n                else:\n                    reductor = getattr(x, "__reduce__", None)\n                    if reductor:\n                        rv = reductor()\n                    else:\n                        raise Error(\n                            "un(deep)copyable object of type %s" % cls)\n                y = _reconstruct(x, rv, 1, memo)\n    memo[idx] = y\n    _keep_alive(x, memo) # Make sure x lives at least as long as d\n    return y\n\ndef _deepcopy_atomic(x, memo):\n    return x\nd[type(None)] = _deepcopy_atomic\n# d[type(Ellipsis)] = _deepcopy_atomic\nd[type(NotImplemented)] = _deepcopy_atomic\nd[int] = _deepcopy_atomic\nd[float] = _deepcopy_atomic\nd[bool] = _deepcopy_atomic\nd[complex] = _deepcopy_atomic\n# d[bytes] = _deepcopy_atomic\nd[str] = _deepcopy_atomic\n# try:\n# d[types.CodeType] = _deepcopy_atomic\n# except AttributeError:\n#   pass\nd[type] = _deepcopy_atomic\n# d[types.BuiltinFunctionType] = _deepcopy_atomic\nd[types.FunctionType] = _deepcopy_atomic\n# d[weakref.ref] = _deepcopy_atomic\n\ndef _deepcopy_list(x, memo):\n    y = []\n    memo[id(x)] = y\n    for a in x:\n        y.append(deepcopy(a, memo))\n    return y\nd[list] = _deepcopy_list\n\ndef _deepcopy_set(x, memo):\n    result = set([])  # make empty set\n    memo[id(x)] = result  # register this set in the memo for loop checking\n    for a in x:   # go through elements of set\n        result.add(deepcopy(a, memo))  # add the copied elements into the new set\n    return result # return the new set\nd[set] = _deepcopy_set\n\ndef _deepcopy_tuple(x, memo):\n    y = [deepcopy(a, memo) for a in x]\n    # We\'re not going to put the tuple in the memo, but it\'s still important we\n    # check for it, in case the tuple contains recursive mutable structures.\n    try:\n        return memo[id(x)]\n    except KeyError:\n        pass\n    for k, j in zip(x, y):\n        if k is not j:\n            y = tuple(y)\n            break\n    else:\n        y = x\n    return y\nd[tuple] = _deepcopy_tuple\n\ndef _deepcopy_dict(x, memo):\n    y = {}\n    memo[id(x)] = y\n    for key, value in x.items():\n        y[deepcopy(key, memo)] = deepcopy(value, memo)\n    return y\nd[dict] = _deepcopy_dict\n\ndef _deepcopy_method(x, memo): # Copy instance methods\n    y = type(x)(x.im_func, deepcopy(x.im_self, memo), x.im_class);\n    return y\nd[types.MethodType] = _deepcopy_method\n\ndef _deepcopy_inst(x, memo):\n    if hasattr(x, \'__deepcopy__\'):\n         return x.__deepcopy__(memo)\n    if hasattr(x, \'__getinitargs__\'):\n        args = x.__getinitargs__()\n        args = deepcopy(args, memo)\n        y = x.__class__(*args)\n    else:\n        y = _EmptyClass()\n        y.__class__ = x.__class__\n    memo[id(x)] = y\n    if hasattr(x, \'__getstate__\'):\n        state = x.__getstate__()\n    else:\n        state = x.__dict__\n    state = deepcopy(state, memo)\n    if hasattr(y, \'__setstate__\'):\n        y.__setstate__(state)\n    else:\n        y.__dict__.update(state)\n        return y\nd["InstanceType"] = _deepcopy_inst\n\ndef _keep_alive(x, memo):\n    """Keeps a reference to the object x in the memo.\n    Because we remember objects by their id, we have\n    to assure that possibly temporary objects are kept\n    alive by referencing them.\n    We store a reference at the id of the memo, which should\n    normally not be used unless someone tries to deepcopy\n    the memo itself...\n    """\n    try:\n        memo[id(memo)].append(x)\n    except KeyError:\n        # aha, this is the first one :-)\n        memo[id(memo)]=[x]\n\ndef _reconstruct(x, info, deep, memo=None):\n    if isinstance(info, str):\n        return x\n    assert isinstance(info, tuple)\n    if memo is None:\n        memo = {}\n    n = len(info)\n    assert n in (2, 3, 4, 5)\n    callable, args = info[:2]\n    if n > 2:\n        state = info[2]\n    else:\n        state = None\n    if n > 3:\n        listiter = info[3]\n    else:\n        listiter = None\n    if n > 4:\n        dictiter = info[4]\n    else:\n        dictiter = None\n    if deep:\n        args = deepcopy(args, memo)\n    y = callable(*args)\n    memo[id(x)] = y\n\n    if state is not None:\n        if deep:\n            state = deepcopy(state, memo)\n        if hasattr(y, \'__setstate__\'):\n            y.__setstate__(state)\n        else:\n            if isinstance(state, tuple) and len(state) == 2:\n                state, slotstate = state\n            else:\n                slotstate = None\n            if state is not None:\n                y.__dict__.update(state)\n            if slotstate is not None:\n                for key, value in slotstate.items():\n                    setattr(y, key, value)\n\n    if listiter is not None:\n        for item in listiter:\n            if deep:\n                item = deepcopy(item, memo)\n            y.append(item)\n    if dictiter is not None:\n        for key, value in dictiter:\n            if deep:\n                key = deepcopy(key, memo)\n                value = deepcopy(value, memo)\n            y[key] = value\n    return y\n\ndel d\n\ndel types\n\n# Helper for instance creation without calling __init__\nclass _EmptyClass:\n    pass',"src/lib/binhex.py":'raise NotImplementedError("binhex is not yet implemented in Skulpt")\n',"src/lib/dircache.py":'raise NotImplementedError("dircache is not yet implemented in Skulpt")\n',"src/lib/cgi.py":'raise NotImplementedError("cgi is not yet implemented in Skulpt")\n',"src/lib/posixfile.py":'raise NotImplementedError("posixfile is not yet implemented in Skulpt")\n',"src/lib/netrc.py":'raise NotImplementedError("netrc is not yet implemented in Skulpt")\n',"src/lib/commands.py":'raise NotImplementedError("commands is not yet implemented in Skulpt")\n',"src/lib/macpath.py":'raise NotImplementedError("macpath is not yet implemented in Skulpt")\n',"src/lib/sunaudio.py":'raise NotImplementedError("sunaudio is not yet implemented in Skulpt")\n',"src/lib/md5.py":'raise NotImplementedError("md5 is not yet implemented in Skulpt")\n',"src/lib/re.js":'var $builtinmodule = function (name) {\n    var mod = {};\n\n    // Constants (mostly unsupported)\n    mod.I = 2;\n    mod.IGNORECASE = 2;\n    // mod.L = 4;\n    // mod.LOCALE = 4;\n    mod.M = 8;\n    mod.MULTILINE = 8;\n    // mod.S = 16;\n    // mod.DOTALL = 16;\n    // mod.U = 32;\n    // mod.UNICODE = 32;\n    // mod.X = 64;\n    // mod.VERBOSE = 64;\n\n    var validGroups = ["(?:", "(?=", "(?!"];\n\n    var convert = function (pattern) {\n        var newpattern;\n        var match;\n        var i;\n\n        // Look for disallowed constructs\n        match = pattern.match(/\\(\\?./g);\n        if (match) {\n            for (i = 0; i < match.length; i++) {\n                if (validGroups.indexOf(match[i]) == -1) {\n                    throw new Sk.builtin.ValueError("Disallowed group in pattern: \'"\n                        + match[i] + "\'");\n                }\n                ;\n            }\n            ;\n        }\n        ;\n\n        newpattern = pattern.replace(\'/\\\\/g\', \'\\\\\\\\\');\n        newpattern = pattern.replace(/([^\\\\]){,(?![^\\[]*\\])/g, \'$1{0,\');\n\n        return newpattern;\n    };\n\n    var getFlags = function (flags) {\n        var jsflags = "g";\n        if ((flags & mod.IGNORECASE) == mod.IGNORECASE) {\n            jsflags += "i";\n        }\n        ;\n        if ((flags & mod.MULTILINE) == mod.MULTILINE) {\n            jsflags += "m";\n        }\n        ;\n        return jsflags;\n    };\n\n    mod.split = Sk.nativejs.func(function split (pattern, string, maxsplit, flags) {\n        Sk.builtin.pyCheckArgs("split", arguments, 2, 4);\n        if (!Sk.builtin.checkString(pattern)) {\n            throw new Sk.builtin.TypeError("pattern must be a string");\n        }\n        ;\n        if (!Sk.builtin.checkString(string)) {\n            throw new Sk.builtin.TypeError("string must be a string");\n        }\n        ;\n        if (maxsplit === undefined) {\n            maxsplit = 0;\n        }\n        ;\n        if (!Sk.builtin.checkNumber(maxsplit)) {\n            throw new Sk.builtin.TypeError("maxsplit must be a number");\n        }\n        ;\n        if (flags === undefined) {\n            flags = 0;\n        }\n        ;\n        if (!Sk.builtin.checkNumber(flags)) {\n            throw new Sk.builtin.TypeError("flags must be a number");\n        }\n        ;\n\n        maxsplit = Sk.builtin.asnum$(maxsplit);\n        var pat = Sk.ffi.unwrapo(pattern);\n        var str = Sk.ffi.unwrapo(string);\n\n        // Convert pat from Python to Javascript regex syntax\n        pat = convert(pat);\n        //print("Pat: " + pat);\n        //print("Str: " + str);\n\n        var captured = !(pat.match(/^\\(.*\\)$/) === null);\n        //print("Captured: ", captured);\n\n        var jsflags = getFlags(flags);\n        //print("Flags: ", jsflags);\n\n        var regex = new RegExp(pat, jsflags);\n\n        var result = [];\n        var match;\n        var index = 0;\n        var splits = 0;\n        while ((match = regex.exec(str)) != null) {\n            //print("Matched \'" + match[0] + "\' at position " + match.index + \n            //      "; next search at " + regex.lastIndex);\n            if (match.index === regex.lastIndex) {\n                // empty match\n                break;\n            }\n            ;\n            result.push(new Sk.builtin.str(str.substring(index, match.index)));\n            if (captured) {\n                // Add matching pattern, too\n                result.push(new Sk.builtin.str(match[0]));\n            }\n            ;\n            index = regex.lastIndex;\n            splits += 1;\n            if (maxsplit && (splits >= maxsplit)) {\n                break;\n            }\n            ;\n        }\n        ;\n        result.push(new Sk.builtin.str(str.substring(index)));\n\n        return new Sk.builtin.list(result);\n    });\n\n    mod.findall = Sk.nativejs.func(function findall (pattern, string, flags) {\n        Sk.builtin.pyCheckArgs("findall", arguments, 2, 3);\n        if (!Sk.builtin.checkString(pattern)) {\n            throw new Sk.builtin.TypeError("pattern must be a string");\n        }\n        ;\n        if (!Sk.builtin.checkString(string)) {\n            throw new Sk.builtin.TypeError("string must be a string");\n        }\n        ;\n        if (flags === undefined) {\n            flags = 0;\n        }\n        ;\n        if (!Sk.builtin.checkNumber(flags)) {\n            throw new Sk.builtin.TypeError("flags must be a number");\n        }\n        ;\n\n        var pat = Sk.ffi.unwrapo(pattern);\n        var str = Sk.ffi.unwrapo(string);\n\n        // Convert pat from Python to Javascript regex syntax\n        pat = convert(pat);\n        //print("Pat: " + pat);\n        //print("Str: " + str);\n\n        var jsflags = getFlags(flags);\n        //print("Flags: ", jsflags);\n\n        var regex = new RegExp(pat, jsflags);\n\n        if (pat.match(/\\$/)) {\n            var newline_at_end = new RegExp(/\\n$/);\n            if (str.match(newline_at_end)) {\n                str = str.slice(0, -1);\n            }\n        }\n\n        var result = [];\n        var match;\n        while ((match = regex.exec(str)) != null) {\n            //print("Matched \'" + match[0] + "\' at position " + match.index + \n            //      "; next search at " + regex.lastIndex);\n            // print("match: " + JSON.stringify(match));\n            if (match.length < 2) {\n                result.push(new Sk.builtin.str(match[0]));\n            } else if (match.length == 2) {\n                result.push(new Sk.builtin.str(match[1]));\n            } else {\n                var groups = [];\n                for (var i = 1; i < match.length; i++) {\n                    groups.push(new Sk.builtin.str(match[i]));\n                }\n                ;\n                result.push(new Sk.builtin.tuple(groups));\n            }\n            ;\n            if (match.index === regex.lastIndex) {\n                regex.lastIndex += 1;\n            }\n            ;\n        }\n        ;\n\n        return new Sk.builtin.list(result);\n    });\n\n\n    var matchobj = function ($gbl, $loc) {\n        $loc.__init__ = new Sk.builtin.func(function (self, thematch, pattern, string) {\n            self.thematch = thematch;\n            self.re = pattern;\n            self.string = string;\n        });\n\n        $loc.groups = new Sk.builtin.func(function (self) {\n            return new Sk.builtin.tuple(self.thematch.v.slice(1))\n        });\n\n        $loc.group = new Sk.builtin.func(function (self, grpnum) {\n            if (grpnum === undefined) {\n                grpnum = 0;\n            }\n            else {\n                grpnum = Sk.builtin.asnum$(grpnum);\n            }\n            if (grpnum >= self.thematch.v.length) {\n                throw new Sk.builtin.IndexError("Index out of range: " + grpnum);\n            }\n            return self.thematch.v[grpnum]\n        });\n\n    }\n\n    mod.MatchObject = Sk.misceval.buildClass(mod, matchobj, \'MatchObject\', []);\n\n    // Internal function to return a Python list of strings \n    // From a JS regular expression string\n    mod._findre = function (res, string) {\n        res = res.replace(/([^\\\\]){,(?![^\\[]*\\])/g, \'$1{0,\');\n        var re = eval(res);\n        var patt = new RegExp(\'\\n$\');\n        if (string.v.match(patt)) {\n            var matches = string.v.slice(0, -1).match(re);\n        }\n        else {\n            var matches = string.v.match(re);\n        }\n        retval = new Sk.builtin.list();\n        if (matches == null) {\n            return retval;\n        }\n        for (var i = 0; i < matches.length; ++i) {\n            var sitem = new Sk.builtin.str(matches[i]);\n            retval.v.push(sitem);\n        }\n        return retval;\n    }\n\n    mod.search = new Sk.builtin.func(function (pattern, string, flags) {\n        Sk.builtin.pyCheckArgs(\'search\', arguments, 2, 3);\n        if (!Sk.builtin.checkString(pattern)) {\n            throw new Sk.builtin.TypeError("pattern must be a string");\n        }\n        ;\n        if (!Sk.builtin.checkString(string)) {\n            throw new Sk.builtin.TypeError("string must be a string");\n        }\n        ;\n        if (flags === undefined) {\n            flags = 0;\n        }\n        ;\n        if (!Sk.builtin.checkNumber(flags)) {\n            throw new Sk.builtin.TypeError("flags must be a number");\n        }\n        ;\n        var res = "/" + pattern.v.replace(/\\//g, "\\\\/") + "/";\n        lst = mod._findre(res, string);\n        if (lst.v.length < 1) {\n            return Sk.builtin.none.none$;\n        }\n        var mob = Sk.misceval.callsim(mod.MatchObject, lst, pattern, string);\n        return mob;\n    });\n\n    mod.match = new Sk.builtin.func(function (pattern, string, flags) {\n        Sk.builtin.pyCheckArgs(\'match\', arguments, 2, 3);\n        if (!Sk.builtin.checkString(pattern)) {\n            throw new Sk.builtin.TypeError("pattern must be a string");\n        }\n        ;\n        if (!Sk.builtin.checkString(string)) {\n            throw new Sk.builtin.TypeError("string must be a string");\n        }\n        ;\n        if (flags === undefined) {\n            flags = 0;\n        }\n        ;\n        if (!Sk.builtin.checkNumber(flags)) {\n            throw new Sk.builtin.TypeError("flags must be a number");\n        }\n        ;\n        var res = "/^" + pattern.v.replace(/\\//g, "\\\\/") + "/";\n        lst = mod._findre(res, string);\n        if (lst.v.length < 1) {\n            return Sk.builtin.none.none$;\n        }\n        var mob = Sk.misceval.callsim(mod.MatchObject, lst, pattern, string);\n        return mob;\n    });\n\n    return mod;\n}\n',"src/lib/turtle.js":'var $builtinmodule = function (name) {\n"use strict";\n\nfunction getConfiguredTarget() {\n    var selector, target;\n\n    selector = (Sk.TurtleGraphics && Sk.TurtleGraphics.target) || "turtle",\n    target   = typeof selector === "string" ?\n        document.getElementById(selector) :\n        selector;\n    // ensure that the canvas container is empty\n    while (target.firstChild) {\n        target.removeChild(target.firstChild);\n    }\n    return target;\n}\n\nfunction generateTurtleModule(_target) {\n    var _module              = {},\n        _durationSinceRedraw = 0,\n        _focus               = true,\n        OPTIMAL_FRAME_RATE   = 1000/30,\n        SHAPES               = {},\n        TURTLE_COUNT         = 0,\n        Types                = {},\n        _frameRequest,\n        _frameRequestTimeout,\n        _screenInstance,\n        _config,\n        _anonymousTurtle,\n        _mouseHandler;\n\n    // Ensure that the turtle DOM target has a tabindex\n    // so that it can accept keyboard focus and events\n    if (!_target.hasAttribute("tabindex")) {\n        _target.setAttribute("tabindex", 0);\n    }\n\n    Types.FLOAT = function(value) {\n        return Sk.builtin.float_(value);\n    };\n    Types.COLOR = function(value) {\n        if (typeof value === "string") {\n            return new Sk.builtin.str(value);\n        }\n        else {\n            for(var i = 0; i < 3; i++) {\n                value[i] = Sk.builtin.assk$(value[i]);\n            }\n            if (value.length === 4) {\n                value[3] = Sk.builtin.float_(value[3]);\n            }\n            return new Sk.builtin.tuple(value);\n        }\n    };\n    Types.TURTLE_LIST = function(value) {\n        var skValues = [];\n        for (var i = 0; i < value.length; i++) {\n            skValues.push(value[i].skInstance);\n        }\n        return new Sk.builtin.tuple(skValues);\n    };\n\n    SHAPES.arrow    = [[-10,0],[10,0],[0,10]];\n    SHAPES.square   = [[ 10,-10],[10,10],[-10,10],[-10, -10]];\n    SHAPES.triangle = [[10,-5.77],[0,11.55],[-10,-5.77]];\n    SHAPES.classic  = [[0,0],[-5,-9],[0,-7],[5,-9]];\n    SHAPES.turtle   = [\n        [0,16],[-2,14],[-1,10],[-4,7],[-7,9],[-9,8],[-6,5],[-7,1],[-5,-3],[-8,-6],\n        [-6,-8],[-4,-5],[0,-7],[4,-5],[6,-8],[8,-6],[5,-3],[7,1],[6,5],[9,8],[7,9],\n        [4,7],[1,10],[2,14]\n    ];\n\n    SHAPES.circle = [\n        [10,0],[9.51,3.09],[8.09,5.88],[5.88,8.09],[3.09,9.51],[0,10],[-3.09,9.51],\n        [-5.88,8.09],[-8.09,5.88],[-9.51,3.09],[-10,0],[-9.51,-3.09],[-8.09,-5.88],\n        [-5.88,-8.09],[-3.09,-9.51],[-0,-10],[3.09,-9.51],[5.88,-8.09],[8.09,-5.88],\n        [9.51,-3.09]\n    ];\n\n    _config = (function() {\n        var defaultSetup = {\n                target     : "turtle", // DOM element or id of parent container\n                width      : 400, // if set to 0 it will use the target width\n                height     : 400, // if set to 0 it will use the target height\n                animate    : true, // enabled/disable all animated rendering\n                bufferSize : 0, // default turtle buffer size\n                allowUndo  : true, // enable ability to use the undo buffer\n            },\n            key;\n\n        if (!Sk.TurtleGraphics) {\n            Sk.TurtleGraphics = {};\n        }\n\n        for(key in defaultSetup) {\n            if (!Sk.TurtleGraphics.hasOwnProperty(key)) {\n                Sk.TurtleGraphics[key] = defaultSetup[key];\n            }\n        }\n\n        return Sk.TurtleGraphics;\n    })();\n\n    // InstantPromise is a workaround to allow usage of the clean promise-style\n    // then/catch syntax but to instantly call resolve the then/catch chain so we\n    // can avoid creating Suspensions in unnecessary cases.  This is desirable\n    // because Suspensions have a fairly large negative impact on overall\n    // performance.  These \'instant promises\' come into play when a tracer()\n    // call is made with a value other than 1.  When tracer is 0 or greater than 1\n    // , we can bypass the creation of a Suspension and proceed to the next line of\n    // code immediately if the current line is not going to incur involve a screen\n    // update. We determine if a real promise or InstantPromise is necessary by\n    // checking FrameManager.willRenderNext()\n    function InstantPromise() {\n        this.lastResult = undefined;\n        this.lastError  = undefined;\n    }\n\n    InstantPromise.prototype.then = function(cb) {\n        if (this.lastError) {\n            return this;\n        }\n\n        try {\n         this.lastResult = cb(this.lastResult);\n        } catch(e) {\n            this.lastResult = undefined;\n            this.lastError  = e;\n        }\n\n        return this.lastResult instanceof Promise ? this.lastResult : this;\n    };\n\n    InstantPromise.prototype.catch = function(cb) {\n        if (this.lastError) {\n            try {\n                this.lastResult = cb(this.lastError);\n                this.lastError  = undefined;\n            } catch(e) {\n                this.lastResult = undefined;\n                this.lastError = e;\n            }\n        }\n\n        return this.lastResult instanceof Promise ? this.lastResult : this;\n    };\n\n    function FrameManager() {\n        this.reset();\n    }\n\n    var _frameManager;\n    function getFrameManager() {\n        if (!_frameManager) {\n            _frameManager = new FrameManager();\n        }\n        return _frameManager;\n    }\n\n    (function(proto) {\n        var browserFrame;\n        (function(frame) {\n            if (frame) {\n                browserFrame = function(method) {\n                    return (_frameRequest = frame(method));\n                };\n            }\n        })(window.requestAnimationFrame || window.mozRequestAnimationFrame);\n\n        function animationFrame(delay) {\n            if (!_config.animate) {\n                return function(method) {\n                    method();\n                };\n            }\n\n            if (!delay && browserFrame) {\n                return browserFrame;\n            }\n\n            return function(method) {\n                _frameRequestTimeout = window.setTimeout(\n                    method,\n                    delay || OPTIMAL_FRAME_RATE\n                );\n                 return _frameRequestTimeout;\n            };\n        }\n\n        proto.willRenderNext = function() {\n            return !!(this._buffer && this._frameCount+1 === this.frameBuffer());\n        };\n\n        proto.turtles = function() {\n            return this._turtles;\n        };\n\n        proto.addTurtle = function(turtle) {\n            this._turtles.push(turtle);\n        };\n\n        proto.reset = function() {\n            if (this._turtles) {\n                for(var i = this._turtles.length; --i >= 0;) {\n                    this._turtles[i].reset();\n                }\n            }\n            this._turtles        = [];\n            this._frames         = [];\n            this._frameCount     = 0;\n            this._buffer         = 1;\n            this._rate           = 0;\n            this._animationFrame = animationFrame();\n        };\n\n        proto.addFrame = function(method, countAsFrame) {\n            var instant = false;\n\n            if (countAsFrame) {\n                this._frameCount += 1;\n            }\n\n            this.frames().push(method);\n\n            instant = (\n                !_config.animate ||\n                (this._buffer && this._frameCount === this.frameBuffer())\n            );\n\n            return instant ? this.update() : new InstantPromise();\n        };\n\n        proto.frames = function() {\n            return this._frames;\n        };\n\n        proto.frameBuffer = function(buffer) {\n            if (typeof buffer === "number") {\n                this._buffer = buffer | 0;\n                if (buffer && buffer <= this._frameCount) {\n                    return this.update();\n                }\n            }\n            return this._buffer;\n        };\n\n        proto.refreshInterval = function(rate) {\n            if (typeof rate === "number") {\n                this._rate = rate | 0;\n                this._animationFrame = animationFrame(rate);\n            }\n            return this._rate;\n        };\n\n        proto.update = function() {\n            return (this._frames && this._frames.length) ?\n                this.requestAnimationFrame() :\n                new InstantPromise();\n        };\n\n        proto.requestAnimationFrame = function() {\n            var frames         = this._frames,\n                animationFrame = this._animationFrame,\n                turtles        = this._turtles,\n                sprites        = getScreen().spriteLayer(),\n                turtle, i;\n\n            this._frames     = [];\n            this._frameCount = 0;\n\n            return new Promise(function(resolve) {\n                animationFrame(function paint() {\n                    for (i = 0; i < frames.length; i++) {\n                        if (frames[i]) {\n                            frames[i]();\n                        }\n                    }\n                    clearLayer(sprites);\n                    for (i = 0; i < turtles.length; i++) {\n                        turtle = turtles[i];\n                        if (turtle.getState().shown) {\n                            drawTurtle(turtle.getState(), sprites);\n                        }\n                    }\n                    resolve();\n                });\n            });\n        };\n    })(FrameManager.prototype);\n\n    function MouseHandler() {\n        var self = this;\n\n        this._target   = getTarget();\n        this._managers = {};\n        this._handlers = {\n            mousedown : function(e) {\n                self.onEvent("mousedown", e);\n            },\n            mouseup : function(e) {\n                self.onEvent("mouseup", e);\n            },\n            mousemove : function(e) {\n                self.onEvent("mousemove", e);\n            }\n        };\n        for (var key in this._handlers) {\n            this._target.addEventListener(key, this._handlers[key]);\n        }\n    }\n\n    (function(proto) {\n        proto.onEvent = function(type, e) {\n            var managers     = this._managers[type],\n                moveManagers = this._managers["mousemove"],\n                computed     = false,\n                x, y, localX, localY, i;\n\n            function computeCoordinates() {\n                if (computed) return;\n                var world = getScreen();\n                var rect  = world.spriteLayer().canvas.getBoundingClientRect();\n                x         = e.clientX - rect.left | 0;\n                y         = e.clientY - rect.top  | 0;\n                localX    = x * world.xScale + world.llx;\n                localY    = y * world.yScale + world.ury;\n                computed = true;\n            }\n\n            if ((type === "mousedown" || type === "mouseup") && moveManagers && moveManagers.length) {\n                computeCoordinates();\n                for (i = moveManagers.length; --i >= 0;) {\n                    if (moveManagers[i].test(x, y, localX, localY)) {\n                        moveManagers[i].canMove(type === "mousedown");\n                    }\n                }\n            }\n\n            if (managers && managers.length) {\n                computeCoordinates();\n                for (i = managers.length; --i >= 0;) {\n                    if (type === "mousemove") {\n                        if (managers[i].canMove()) {\n                            managers[i].trigger([localX, localY]);\n                        }\n                        continue;\n                    }\n\n                    if (managers[i].test(x, y, localX, localY)) {\n                        managers[i].trigger([localX, localY]);\n                    }\n                }\n            }\n        };\n\n        proto.reset = function() {\n            this._managers = {};\n        };\n\n        proto.addManager = function(type, manager) {\n            if (!this._managers[type]) {\n                this._managers[type] = [];\n            }\n\n            this._managers[type].push(manager);\n        };\n\n    })(MouseHandler.prototype);\n\n    function EventManager(type, target) {\n        this._type     = type;\n        this._target   = target;\n        this._handlers = undefined;\n        getMouseHandler().addManager(type, this);\n    }\n\n    (function(proto) {\n        proto.reset = function() {\n            this._handlers = undefined;\n        };\n\n        proto.canMove = function(value) {\n            if (!this._target || !this._target.hitTest) return false;\n\n            if (value !== undefined) {\n                this._target.hitTest.hit = value;\n            }\n\n            return this._target.hitTest.hit;\n        };\n\n        proto.test = function(x, y, localX, localY) {\n            return this._target && this._target.hitTest ?\n                this._target.hitTest(x, y, localX, localY) :\n                !!this._target;\n        };\n\n        proto.trigger = function(args) {\n            var handlers = this._handlers,\n                i;\n\n            if (handlers && handlers.length) {\n                for (i = 0; i < handlers.length; i++) {\n                    handlers[i].apply({}, args);\n                }\n            }\n        };\n\n        proto.addHandler = function(handler, add) {\n            var handlers = this._handlers;\n\n            if (!add && handlers && handlers.length) {\n                // remove all existing handlers\n                while (handlers.shift()) {/* noop */}\n            }\n\n            if (typeof handler !== "function") {\n                if (handlers && !handlers.length) {\n                    this.reset();\n                }\n                return;\n            }\n\n            if (!handlers) {\n                handlers = this._handlers = [];\n            }\n\n            handlers.push(handler);\n        };\n    })(EventManager.prototype);\n\n    function Turtle() {\n        getFrameManager().addTurtle(this);\n        this._screen = getScreen();\n        this._managers = {};\n        this.reset();\n    }\n\n    Turtle.RADIANS = 2 * Math.PI;\n\n    (function(proto) {\n        proto.hitTest = function(mouseX, mouseY, localX, localY) {\n            var context = getScreen().hitTestLayer();\n            clearLayer(context);\n            drawTurtle(this.getState(), context);\n            var pixel = context.getImageData(mouseX,mouseY,1,1).data;\n            // check alpha first since it is most likely to have a value\n            return pixel[3] ||pixel[0] || pixel[1] || pixel[2];\n        };\n\n        proto.addUpdate = function(method, countAsFrame, stateChanges) {\n            var self  = this,\n                state = this.getState(),\n                args  = Array.prototype.slice.call(arguments, stateChanges ? 2 : 3);\n\n            return getFrameManager().addFrame(function() {\n                if (method) {\n                    method.apply(state, args);\n                }\n                if (stateChanges) {\n                    for(var key in stateChanges) {\n                        state[key] = stateChanges[key];\n                    }\n                }\n            }, countAsFrame);\n        };\n\n        proto.getState = function() {\n            var self = this;\n\n            if (!this._state) {\n                this._state = {\n                    x       : this._x,\n                    y       : this._y,\n                    angle   : this._angle,\n                    radians : this._radians,\n                    shape   : this._shape,\n                    color   : this._color,\n                    fill    : this._fill,\n                    filling : this._filling,\n                    size    : this._size,\n                    speed   : this._computed_speed,\n                    down    : this._down,\n                    shown   : this._shown,\n                    context : function() {\n                        return self.getPaper();\n                    }\n                };\n            }\n            return this._state;\n        };\n\n        proto.translate = function(startX, startY, dx, dy, beginPath, isCircle) {\n            var self = this;\n            return translate(this, startX, startY, dx, dy, beginPath, isCircle)\n                .then(function(coords) {\n                    self._x = coords[0];\n                    self._y = coords[1];\n                });\n        };\n\n        proto.rotate = function(startAngle, delta, isCircle) {\n            var self = this;\n            return rotate(this, startAngle, delta, isCircle)\n                .then(function(heading) {\n                    self._angle   = heading.angle;\n                    self._radians = heading.radians;\n                });\n        };\n\n        proto.queueMoveBy = function(startX, startY, theta, distance) {\n            var dx = Math.cos(theta) * distance,\n                dy = Math.sin(theta) * distance;\n\n            return this.translate(startX, startY, dx, dy, true);\n        };\n\n        proto.queueTurnTo = function(startAngle, endAngle) {\n            endAngle = endAngle % this._fullCircle;\n            if (endAngle < 0) {\n                endAngle += this._fullCircle;\n            }\n            return this.rotate(startAngle, endAngle - startAngle);\n        };\n\n        proto.getManager = function(type) {\n            if (!this._managers[type]) {\n                this._managers[type] = new EventManager(type, this);\n            }\n            return this._managers[type];\n        };\n\n        proto.getPaper = function() {\n            return this._paper || (this._paper = createLayer(2));\n        };\n\n        proto.reset = function() {\n            this._x          = 0;\n            this._y          = 0;\n            this._radians    = 0;\n            this._angle      = 0;\n            this._shown      = true;\n            this._down       = true;\n            this._color      = "black";\n            this._fill       = "black";\n            this._shape      = "classic";\n            this._size       = 1;\n            this._filling    = false;\n            this._undoBuffer = [];\n            this._speed      = 3;\n            this._computed_speed = 5;\n            this._state      = undefined;\n\n            for(var key in this._managers) {\n                this._managers[key].reset();\n            }\n\n            this._isRadians  = false;\n            this._fullCircle = 360;\n            this._bufferSize = typeof _config.bufferSize === "number" ?\n                _config.bufferSize :\n                0;\n\n            removeLayer(this._paper);\n            this._paper = undefined;\n        };\n\n        proto.$degrees = function(fullCircle) {\n            fullCircle = (typeof fullCircle === "number") ?\n                Math.abs(fullCircle) :\n                360;\n\n            this._isRadians  = false;\n            if (!fullCircle || !this._fullCircle) {\n                this._angle = this._radians = 0;\n            }\n            else {\n                this._angle = this._angle / this._fullCircle * fullCircle;\n            }\n            this._fullCircle = fullCircle;\n            return this.addUpdate(\n                undefined,\n                false,\n                {angle:this._angle, radians: this._radians}\n            );\n        };\n        proto.$degrees.minArgs     = 0;\n        proto.$degrees.keywordArgs = ["fullcircle"];\n        proto.$degrees.returnType  = Types.FLOAT;\n\n        proto.$radians = function() {\n            if (!this._isRadians) {\n                this._isRadians     = true;\n                this._angle = this._radians;\n                this._fullCircle = Turtle.RADIANS;\n            }\n\n            return this._angle;\n        };\n        proto.$radians.returnType = Types.FLOAT;\n\n        proto.$position = proto.$pos = function() {\n            return [this.$xcor(), this.$ycor()];\n        };\n        proto.$position.returnType = function(value) {\n            return new Sk.builtin.tuple([\n                    Sk.builtin.float_(value[0]),\n                    Sk.builtin.float_(value[1])\n            ]);\n        };\n\n        proto.$towards = function(x,y) {\n            var coords  = getCoordinates(x,y),\n                radians = Math.PI + Math.atan2(this._y - coords.y, this._x - coords.x),\n                angle   = radians * (this._fullCircle / Turtle.RADIANS);\n\n            return angle;\n        };\n        proto.$towards.minArgs    = 1;\n        proto.$towards.returnType = Types.FLOAT;\n\n        proto.$distance = function(x,y) {\n            var coords = getCoordinates(x,y),\n                dx     = coords.x - this._x,\n                dy     = coords.y - this._y;\n\n            return Math.sqrt(dx * dx + dy * dy);\n        };\n        proto.$distance.minArgs    = 1;\n        proto.$distance.returnType = Types.FLOAT;\n\n        proto.$heading = function() {\n            return Math.abs(this._angle) < 1e-13 ? 0 : this._angle;\n        };\n        proto.$heading.returnType = Types.FLOAT;\n\n        proto.$xcor = function() {\n            return Math.abs(this._x) < 1e-13 ? 0 : this._x;\n        };\n        proto.$xcor.returnType = Types.FLOAT;\n\n        proto.$ycor = function() {\n            return Math.abs(this._y) < 1e-13 ? 0 : this._y;\n        };\n        proto.$ycor.returnType = Types.FLOAT;\n\n        proto.$forward = proto.$fd = function(distance) {\n            pushUndo(this);\n            return this.queueMoveBy(this._x, this._y, this._radians, distance);\n        };\n\n        proto.$undo = function() {\n            popUndo(this);\n        };\n\n        proto.$undobufferentries = function() {\n            return this._undoBuffer.length;\n        };\n\n        proto.$setundobuffer = function(size) {\n            this._bufferSize = typeof size === "number" ?\n                Math.min(Math.abs(size), 1000) :\n                0;\n        };\n\n        proto.$backward = proto.$back = proto.$bk = function(distance) {\n            pushUndo(this);\n            return this.queueMoveBy(this._x, this._y, this._radians, -distance);\n        };\n\n        proto.$goto_$rw$ = proto.$setpos = proto.$setposition = function(x,y) {\n            var coords = getCoordinates(x,y);\n\n            pushUndo(this);\n\n            return this.translate(\n                this._x, this._y,\n                coords.x - this._x, coords.y - this._y,\n                true\n            );\n        };\n        proto.$goto_$rw$.minArgs = 1;\n\n        proto.$setx = function(x) {\n            return this.translate(this._x, this._y, x - this._x, 0, true);\n        };\n\n        proto.$sety = function(y) {\n            return this.translate(this._x, this._y, 0, y - this._y, true);\n        };\n\n        proto.$home = function() {\n            var self  = this,\n                angle = this._angle;\n\n            pushUndo(this);\n            return self.translate(this._x, this._y, -this._x, -this._y, true)\n                .then(function(position) {\n                    return self.queueTurnTo(angle, 0);\n                })\n                .then(function(heading) {\n                    return undefined;\n                });\n        };\n\n        proto.$right = proto.$rt = function(angle) {\n            pushUndo(this);\n            return this.rotate(this._angle, -angle);\n        };\n\n        proto.$left = proto.$lt = function(angle) {\n            pushUndo(this);\n            return this.rotate(this._angle, angle);\n        };\n\n        proto.$setheading = proto.$seth = function(angle) {\n            pushUndo(this);\n            return this.queueTurnTo(this._angle, angle);\n        };\n\n        function circleRotate(turtle, angle, radians) {\n            return function() {\n                return turtle.addUpdate(\n                    undefined,\n                    false,{angle:angle, radians:radians}\n                );\n            };\n        }\n\n        function circleSegment(turtle, x, y, dx, dy, beginPath) {\n            return function() {\n                return turtle.translate(x, y, dx, dy, beginPath, true);\n            };\n        }\n\n        proto.$circle = function(radius, extent, steps) {\n            var self      = this,\n                x         = this._x,\n                y         = this._y,\n                angle     = this._angle,\n                heading   = {},\n                states    = [],\n                scale     = 1/getScreen().lineScale,\n                beginPath = true,\n                endAngle, frac, w, w2, l, i, dx, dy, promise;\n\n            pushUndo(this);\n\n            if (extent === undefined) {\n                extent = self._fullCircle;\n            }\n\n            if (steps === undefined) {\n                frac  = Math.abs(extent)/self._fullCircle;\n                steps = 1 + ((Math.min(11+Math.abs(radius*scale)/6, 59)*frac) | 0);\n            }\n            w  = extent / steps;\n            w2 = 0.5 * w;\n            l  = 2 * radius * Math.sin(w*Math.PI/self._fullCircle);\n\n            if (radius < 0) {\n                l = -l;\n                w = -w;\n                w2 = -w2;\n                endAngle = angle - extent;\n            }\n            else {\n                endAngle = angle + extent;\n            }\n\n            promise = getFrameManager().willRenderNext() ? Promise.resolve() : new InstantPromise();\n\n            angle += w2;\n\n            for(i = 0; i < steps; i++) {\n                calculateHeading(self, angle + w * i, heading);\n                dx = Math.cos(heading.radians) * l;\n                dy = Math.sin(heading.radians) * l;\n                promise = promise\n                    .then(circleRotate(self, heading.angle, heading.radians))\n                    .then(circleSegment(self, x, y, dx, dy, beginPath));\n                x += dx;\n                y += dy;\n                beginPath = false;\n            }\n\n            promise = promise.then(function() {\n                calculateHeading(self, endAngle, heading);\n                self._angle   = heading.angle;\n                self._radians = heading.radians;\n                return self.addUpdate(undefined, true, heading);\n            });\n\n            return promise;\n        };\n        proto.$circle.keywordArgs = ["extent", "steps"];\n        proto.$circle.minArgs     = 1;\n\n        proto.$penup = proto.$up = proto.$pu = function() {\n            this._down = false;\n            return this.addUpdate(undefined, false, {down:false});\n        };\n\n        proto.$pendown = proto.$down = proto.$pd = function() {\n            this._down = true;\n            return this.addUpdate(undefined, false, {down:true});\n        };\n\n        proto.$isdown = function() {\n            return this._down;\n        };\n\n        proto.$speed = function(speed) {\n            if (arguments.length) {\n                this._speed          = Math.max(0, Math.min(1000, speed));\n                this._computed_speed = Math.max(0, speed * 2 - 1);\n                return this.addUpdate(undefined, false, {speed:this._computed_speed});\n            }\n\n            return this._speed;\n        };\n        proto.$speed.minArgs = 0;\n        proto.$speed.keywordArgs = ["speed"];\n\n        proto.$pencolor = function(r,g,b,a) {\n            var color;\n\n            if (arguments.length) {\n                this._color = createColor(r,g,b,a);\n                return this.addUpdate(undefined, this._shown, {color : this._color});\n            }\n\n            return hexToRGB(this._color);\n        };\n        proto.$pencolor.minArgs = 0;\n        proto.$pencolor.returnType = Types.COLOR;\n\n        proto.$fillcolor = function(r,g,b,a) {\n            var color;\n\n            if (arguments.length) {\n                this._fill = createColor(r,g,b,a);\n                return this.addUpdate(undefined, this._shown, {fill : this._fill});\n            }\n\n            return hexToRGB(this._fill);\n        };\n        proto.$fillcolor.minArgs = 0;\n        proto.$fillcolor.returnType = Types.COLOR;\n\n        proto.$color = function(color, fill, b, a) {\n            if (arguments.length) {\n                if (arguments.length === 1 || arguments.length >= 3) {\n                    this._color = createColor(color, fill, b, a);\n                    this._fill  = this._color;\n                }\n                else {\n                    this._color = createColor(color);\n                    this._fill  = createColor(fill);\n                }\n                return this.addUpdate(undefined, this._shown, {\n                    color : this._color,\n                    fill  : this._fill\n                });\n            }\n            return [this.$pencolor(), this.$fillcolor()];\n        };\n        proto.$color.minArgs = 0;\n        proto.$color.returnType = function(value) {\n            return new Sk.builtin.tuple([\n                Types.COLOR(value[0]),\n                Types.COLOR(value[1])\n            ]);\n        };\n\n        proto.$fill = function(flag) {\n            var self = this;\n\n            if (flag !== undefined) {\n                flag = !!flag;\n                if (flag === this._filling) return;\n                this._filling = flag;\n                if (flag) {\n                    pushUndo(this);\n                    return this.addUpdate(undefined, false, {\n                        filling      : true,\n                        fillBuffer : [{x : this._x, y : this._y}]\n                    });\n                }\n                else {\n                    pushUndo(this);\n                    return this.addUpdate(\n                        function() {\n                            this.fillBuffer.push(this);\n                            drawFill.call(this);\n                        },\n                        true,\n                        {\n                            filling      : false,\n                            fillBuffer : undefined\n                        }\n                    );\n                }\n            }\n\n            return this._filling;\n        };\n        proto.$fill.minArgs = 0;\n\n        proto.$begin_fill = function() {\n            return this.$fill(true);\n        };\n\n        proto.$end_fill = function() {\n            return this.$fill(false);\n        };\n\n        proto.$stamp = function() {\n            pushUndo(this);\n            return this.addUpdate(function() {\n                drawTurtle(this, this.context());\n            }, true);\n        };\n\n        proto.$dot = function(size, color, g, b, a) {\n            pushUndo(this);\n            size = Sk.builtin.asnum$(size);\n            size = (typeof size === "number") ?\n                Math.max(1, Math.abs(size) | 0) :\n                Math.max(this._size + 4, this._size * 2);\n\n            color = (color !== undefined) ?\n                createColor(color, g, b, a) :\n                this._color;\n\n            return this.addUpdate(drawDot, true, undefined, size, color);\n        };\n\n        proto.$write = function(message,move,align,font) {\n            var self = this,\n                promise, face, size, type, width;\n\n            pushUndo(this);\n\n            message = String(message);\n\n            if (font && font.constructor === Array) {\n                face = typeof font[0] === "string" ? font[0] : "Arial";\n                size = String(font[1] || "12pt");\n                type = typeof font[2] === "string" ? font[2] : "normal";\n                if (/^\\d+$/.test(size)) {\n                    size += "pt";\n                }\n\n                font = [type, size, face].join(" ");\n            }\n\n            if (!align) {\n                align = "left";\n            }\n\n            promise = this.addUpdate(\n                drawText, true, undefined, message, align, font\n            );\n\n            if (move && (align === "left" || align === "center")) {\n                width = measureText(message, font);\n                if (align === "center") {\n                    width = width/2;\n                }\n                promise = promise.then(function() {\n                    var state = self.getState();\n                    return self.translate(state.x, state.y, width, 0, true);\n                });\n            }\n\n            return promise;\n        };\n        proto.$write.keywordArgs = ["move","align","font"];\n        proto.$write.minArgs     = 1;\n\n        proto.$pensize = proto.$width = function(size) {\n            if (arguments.length) {\n                this._size = size;\n                return this.addUpdate(undefined, this._shown, {size : size});\n            }\n\n            return this._size;\n        };\n        proto.$pensize.minArgs = proto.$width.minArgs = 0;\n        proto.$pensize.keywordArgs = proto.$width.keywordArgs = ["width"];\n\n        proto.$showturtle = proto.$st = function() {\n            this._shown = true;\n            return this.addUpdate(undefined, true, {shown : true});\n        };\n\n        proto.$hideturtle = proto.$ht = function() {\n            this._shown = false;\n            return this.addUpdate(undefined, true, {shown : false});\n        };\n\n        proto.$isvisible = function() {\n            return this._shown;\n        };\n\n        proto.$shape = function(shape) {\n            if (shape && SHAPES[shape]) {\n                this._shape = shape;\n                return this.addUpdate(undefined, this._shown, {shape : shape});\n            }\n\n            return this._shape;\n        };\n        proto.$shape.minArgs     = 0;\n        proto.$shape.keywordArgs = ["name"];\n\n        proto.$window_width = function() {\n            return this._screen.$window_width();\n        };\n        \n        proto.$window_height = function() {\n            return this._screen.$window_height();\n        };\n        \n        proto.$tracer = function(n, delay) {\n            return this._screen.$tracer(n, delay);\n        };\n        proto.$tracer.minArgs     = 0;\n        proto.$tracer.keywordArgs = ["n", "delay"];\n        \n        proto.$update = function() {\n            return this._screen.$update();\n        };\n        \n        proto.$delay = function(delay) {\n            return this._screen.$delay(delay);\n        };\n        proto.$delay.minArgs     = 0;\n        proto.$delay.keywordArgs = ["delay"];\n\n        proto.$reset = function() {\n            this.reset();\n            return this.$clear();\n        };\n\n        proto.$mainloop = proto.$done = function() {\n            return this._screen.$mainloop();\n        };\n\n        proto.$clear = function() {\n            return this.addUpdate(function() {\n                clearLayer(this.context());\n            }, true);\n        };\n        proto.$dot.minArgs = 0;\n\n        proto.$onclick = function(method,btn,add) {\n            this.getManager("mousedown").addHandler(method, add);\n        };\n        proto.$onclick.minArgs = 1;\n        proto.$onclick.keywordArgs = ["btn","add"];\n\n        proto.$onrelease = function(method,btn,add) {\n            this.getManager("mouseup").addHandler(method, add);\n        };\n        proto.$onrelease.minArgs = 1;\n        proto.$onrelease.keywordArgs = ["btn","add"];\n\n        proto.$ondrag = function(method,btn,add) {\n            this.getManager("mousemove").addHandler(method, add);\n        };\n        proto.$ondrag.minArgs = 1;\n        proto.$ondrag.keywordArgs = ["btn","add"];\n\n        proto.$getscreen = function() {\n            return _module.Screen();\n        };\n        proto.$getscreen.isSk = true;\n\n        proto.$clone = function() {\n\n            var newTurtleInstance = Sk.misceval.callsimOrSuspend(_module.Turtle);\n\n            // All the properties that are in getState()\n            newTurtleInstance.instance._x = this._x;\n            newTurtleInstance.instance._y = this._y;\n            newTurtleInstance.instance._angle = this._angle;\n            newTurtleInstance.instance._radians = this._radians;\n            newTurtleInstance.instance._shape = this._shape;\n            newTurtleInstance.instance._color = this._color;\n            newTurtleInstance.instance._fill = this._fill;\n            newTurtleInstance.instance._filling = this._filling;\n            newTurtleInstance.instance._size = this._size;\n            newTurtleInstance.instance._computed_speed = this._computed_speed;\n            newTurtleInstance.instance._down = this._down;\n            newTurtleInstance.instance._shown = this._shown;\n\n            // Other properties to copy\n            newTurtleInstance.instance._isRadians = this._isRadians;\n            newTurtleInstance.instance._fullCircle = this._fullCircle;\n            newTurtleInstance.instance._bufferSize = this._bufferSize;\n            newTurtleInstance.instance._undoBuffer = this._undoBuffer;\n\n\n            newTurtleInstance._clonedFrom = this;\n\n            return newTurtleInstance;\n        };\n        proto.$clone.returnType = function(value) {\n            // When I return the instance here, I\'m not sure if it ends up with the right "Turtle" python type.\n            return value\n        };\n\n        proto.$getturtle = proto.$getpen = function() {\n            return this.skInstance;\n        };\n        proto.$getturtle.isSk = true;\n    })(Turtle.prototype);\n\n    function Screen() {\n        var w,h;\n        this._frames    = 1;\n        this._delay     = undefined;\n        this._bgcolor   = "none";\n        this._mode      = "standard";\n        this._managers  = {};\n        this._keyLogger = {};\n        if (_config.height && _config.width) {\n            w = _config.width/2;\n            h = _config.height/2;\n        } else {\n            w = _config.defaultSetup.width/2;\n            h = _config.defaultSetup.height/2;\n        }\n        this.setUpWorld(-w,-h,w,h);\n    }\n\n    (function(proto) {\n        proto.spriteLayer = function() {\n            return this._sprites || (this._sprites = createLayer(3));\n        };\n\n        proto.bgLayer = function() {\n            return this._background || (this._background = createLayer(1));\n        };\n\n        proto.hitTestLayer = function() {\n            return this._hitTest || (this._hitTest = createLayer(0,true));\n        };\n\n        proto.getManager = function(type) {\n            if (!this._managers[type]) {\n                this._managers[type] = new EventManager(type, this);\n            }\n            return this._managers[type];\n        };\n\n        proto.reset = function() {\n            var key;\n\n            this._keyListeners = undefined;\n\n            for (key in this._keyLogger) {\n                window.clearInterval(this._keyLogger[key]);\n                window.clearTimeout(this._keyLogger[key]);\n                delete this._keyLogger[key];\n            }\n\n            if (this._keyDownListener) {\n                getTarget().removeEventListener("keydown", this._keyDownListener);\n                this._keyDownListener = undefined;\n            }\n\n            if (this._keyUpListener) {\n                getTarget().removeEventListener("keyup", this._keyUpListener);\n                this._keyUpListener = undefined;\n            }\n\n            if (this._timer) {\n                window.clearTimeout(this._timer);\n                this._timer = undefined;\n            }\n\n            for(key in this._managers) {\n                this._managers[key].reset();\n            }\n\n            this._mode = "standard";\n            removeLayer(this._sprites);\n            this._sprites = undefined;\n            removeLayer(this._background);\n            this._background = undefined;\n        };\n\n        proto.setUpWorld = function(llx, lly, urx, ury) {\n            var world = this;\n\n            world.llx       = llx;\n            world.lly       = lly;\n            world.urx       = urx;\n            world.ury       = ury;\n            world.xScale    = (urx - llx) / getWidth();\n            world.yScale    = -1 * (ury - lly) / getHeight();\n            world.lineScale = Math.min(Math.abs(world.xScale), Math.abs(world.yScale));\n        };\n\n        proto.$setup = function(width, height, startX, startY) {\n            if (isNaN(parseFloat(width))) {\n                width = getWidth();\n            }\n            if (isNaN(parseFloat(height))) {\n                height = getHeight();\n            }\n\n            if (width <= 1) {\n                width = getWidth() * width;\n            }\n            if (height <= 1) {\n                height = getHeight() * height;\n            }\n\n            this._width  = width;\n            this._height = height;\n\n            this._xOffset = (startX !== undefined && !isNaN(parseInt(startX))) ?\n                parseInt(startX) :\n                0;\n\n            this._yOffset = (startY !== undefined && !isNaN(parseInt(startY))) ?\n                parseInt(startY) :\n                0;\n\n            if (this._mode === "world") {\n                return this._setworldcoordinates(this.llx, this.lly, this.urx, this.ury);\n            }\n\n            return this._setworldcoordinates(-width/2, -height/2, width/2, height/2);\n        };\n        proto.$setup.minArgs     = 0;\n        proto.$setup.keywordArgs = ["width", "height", "startx", "starty"];\n\n        proto.$register_shape = proto.$addshape = function(name, points) {\n            SHAPES[name] = points;\n        };\n\n        proto.$getshapes = function() {\n            return Object.keys(SHAPES);\n        };\n\n        proto.$tracer = function(frames, delay) {\n            if (frames !== undefined || delay !== undefined) {\n                if (typeof delay === "number") {\n                    this._delay = delay;\n                    getFrameManager().refreshInterval(delay);\n                }\n                if (typeof frames === "number") {\n                    this._frames = frames;\n                    return getFrameManager().frameBuffer(frames);\n                }\n\n                return;\n            }\n\n            return this._frames;\n        };\n        proto.$tracer.minArgs = 0;\n\n        proto.$delay = function(delay) {\n            if (delay !== undefined) {\n                return this.$tracer(undefined, delay);\n            }\n\n            return this._delay === undefined ? OPTIMAL_FRAME_RATE : this._delay;\n        };\n\n        proto._setworldcoordinates = function(llx, lly, urx, ury) {\n            var world     = this,\n                turtles = getFrameManager().turtles();\n\n            this.setUpWorld(llx, lly, urx, ury);\n\n            if (this._sprites) {\n                applyWorld(this, this._sprites);\n            }\n\n            if (this._background) {\n                applyWorld(this, this._background);\n            }\n\n            return this.$clear();\n        };\n\n        proto.$setworldcoordinates = function(llx, lly, urx, ury) {\n            this._mode = "world";\n            return this._setworldcoordinates(llx, lly, urx, ury);\n        };\n\n        proto.$clear = proto.$clearscreen = function() {\n            this.reset();\n            return this.$reset();\n        };\n\n        proto.$update = function() {\n            return getFrameManager().update();\n        };\n\n        proto.$reset = proto.$resetscreen = function() {\n            var self = this,\n                turtles = getFrameManager().turtles();\n\n            return getFrameManager().addFrame(function() {\n                applyWorld(self, self._sprites);\n                applyWorld(self, self._background);\n                for(var i = 0; i < turtles.length; i++) {\n                    turtles[i].reset();\n                    applyWorld(self, turtles[i]._paper);\n                }\n            }, true);\n        };\n\n        proto.$window_width = function() {\n            return getWidth();\n        };\n\n        proto.$window_height = function() {\n            return getHeight();\n        };\n        proto.$delay.minArgs = 0;\n\n        proto.$turtles = function() {\n            return getFrameManager().turtles();\n        };\n        proto.$turtles.returnType = Types.TURTLE_LIST;\n\n        proto.$bgcolor = function(color, g, b, a) {\n            if (arguments.length) {\n                this._bgcolor = createColor(color, g, b, a);\n                clearLayer(this.bgLayer(), this._bgcolor);\n                return;\n            }\n\n            return hexToRGB(this._bgcolor);\n        };\n        proto.$bgcolor.minArgs = 0;\n        proto.$bgcolor.returnType = Types.COLOR;\n\n        // no-op - just defined for consistency with python version\n        proto.$mainloop = proto.$done = function() {\n            return undefined;\n        };\n\n        proto.$bye = function() {\n            return Sk.TurtleGraphics.reset();\n        };\n\n        proto.$exitonclick = function() {\n            this._exitOnClick = true;\n            return this.getManager("mousedown").addHandler(function() {\n                resetTurtle();\n            }, false);\n        };\n\n        proto.$onclick = function(method,btn,add) {\n            if (this._exitOnClick) return;\n            this.getManager("mousedown").addHandler(method, add);\n        };\n        proto.$onclick.minArgs = 1;\n        proto.$onclick.keywordArgs = ["btn","add"];\n\n        var KEY_MAP = {\n            "8"  : /^back(space)?$/i,\n            "9"  : /^tab$/i,\n            "13" : /^(enter|return)$/i,\n            "16" : /^shift$/i,\n            "17" : /^(ctrl|control)$/i,\n            "18" : /^alt$/i,\n            "27" : /^esc(ape)?$/i,\n            "32" : /^space$/i,\n            "33" : /^page[\\s\\-]?up$/i,\n            "34" : /^page[\\s\\-]?down$/i,\n            "35" : /^end$/i,\n            "36" : /^home$/i,\n            "37" : /^left([\\s\\-]?arrow)?$/i,\n            "38" : /^up([\\s\\-]?arrow)?$/i,\n            "39" : /^right([\\s\\-]?arrow)?$/i,\n            "40" : /^down([\\s\\-]?arrow)?$/i,\n            "45" : /^insert$/i,\n            "46" : /^del(ete)?$/i\n        };\n\n        proto._createKeyRepeater = function(key, code) {\n            var self = this;\n            // set a timeout for 333ms and if key has not yet been\n            // released, fire another event and continue firing\n            // at a rate of ~20 times per second until key is released\n            self._keyLogger[code] = window.setTimeout(function() {\n                // trigger the first repeat after the longer delay\n                self._keyListeners[key]();\n                // set up the repeat interval with the quick delay\n                self._keyLogger[code] = window.setInterval(function() {\n                    self._keyListeners[key]();\n                }, 50);\n            }, 333);\n        };\n\n        proto._createKeyDownListener = function() {\n            var self = this;\n\n            if (this._keyDownListener) return;\n\n            this._keyDownListener = function(e) {\n                if (!focusTurtle()) return;\n\n                var code    = e.charCode || e.keyCode,\n                    pressed = String.fromCharCode(code).toLowerCase(),\n                    key, inKeyMap;\n\n                if (self._keyLogger[code]) return;\n\n                for (key in self._keyListeners) {\n                    inKeyMap = (key.length > 1 && KEY_MAP[code] && KEY_MAP[code].test(key));\n                    if (key === pressed || inKeyMap) {\n                        // trigger the intial keydown handler\n                        self._keyListeners[key]();\n                        self._createKeyRepeater(key, code);\n                        e.preventDefault();\n                        break;\n                    }\n                }\n            };\n\n            getTarget().addEventListener("keydown", this._keyDownListener);\n        };\n\n        proto._createKeyUpListener = function() {\n            var self = this;\n\n            if (this._keyUpListener) return;\n\n            this._keyUpListener = function(e) {\n                var interval = self._keyLogger[e.charCode || e.keyCode];\n                if (interval !== undefined) {\n                    e.preventDefault();\n                    window.clearInterval(interval);\n                    window.clearTimeout(interval);\n                    delete(self._keyLogger[e.charCode || e.keyCode]);\n                }\n            };\n            \n            getTarget().addEventListener("keyup", this._keyUpListener);\n        };\n\n        proto.$listen = function() {\n            this._createKeyUpListener();\n            this._createKeyDownListener();\n        };\n\n        proto.$onkey = function(method, keyValue) {\n            if (typeof keyValue === "function") {\n                var temp = method;\n                method   = keyValue;\n                keyValue = temp;\n            }\n\n            keyValue = String(keyValue).toLowerCase();\n\n            if (method && typeof method === "function") {\n                if (!this._keyListeners) this._keyListeners = {};\n                this._keyListeners[keyValue] = method;\n            }\n            else {\n                delete this._keyListeners[keyValue];\n            }\n        };\n\n        proto.$onscreenclick = function(method,btn,add) {\n            this.getManager("mousedown").addHandler(method, add);\n        };\n        proto.$onscreenclick.minArgs = 1;\n        proto.$onscreenclick.keywordArgs = ["btn","add"];\n\n        proto.$ontimer = function(method, interval) {\n            if (this._timer) {\n                window.clearTimeout(this._timer);\n                this._timer = undefined;\n            }\n\n            if (method && typeof interval === "number") {\n                this._timer = window.setTimeout(method, Math.max(0, interval|0));\n            }\n        };\n        proto.$ontimer.minArgs = 0;\n\n    })(Screen.prototype);\n\n    function ensureAnonymous() {\n        if (!_anonymousTurtle) {\n            _anonymousTurtle = _module.Turtle();\n        }\n\n        return _anonymousTurtle.instance;\n    }\n\n    function getTarget() {\n        return _target;\n    }\n\n    function getScreen() {\n        if (!_screenInstance) {\n            _screenInstance = new Screen();\n        }\n        return _screenInstance;\n    }\n\n    function getMouseHandler() {\n        if (!_mouseHandler) {\n            _mouseHandler = new MouseHandler();\n        }\n        return _mouseHandler;\n    }\n\n    function getWidth() {\n        return (\n            (_screenInstance && _screenInstance._width) ||\n            _config.width ||\n            getTarget().clientWidth\n        ) | 0;\n    }\n\n    function getHeight() {\n        return (\n            (_screenInstance && _screenInstance._height) ||\n            _config.height ||\n            getTarget().clientHeight\n        ) | 0;\n    }\n\n    function createLayer(zIndex, isHidden) {\n        var canvas = document.createElement("canvas"),\n            width  = getWidth(),\n            height = getHeight(),\n            offset = getTarget().firstChild ? (-height) + "px" : "0",\n            context;\n\n        canvas.width          = width;\n        canvas.height         = height;\n        canvas.style.position = "relative";\n        canvas.style.display  = "block";\n        canvas.style.setProperty("margin-top",offset);\n        canvas.style.setProperty("z-index", zIndex);\n        if (isHidden) {\n            canvas.style.display = "none";\n        }\n\n        getTarget().appendChild(canvas);\n\n        context = canvas.getContext("2d");\n        context.lineCap = "round";\n        context.lineJoin = "round";\n\n        applyWorld(getScreen(), context);\n\n        return context;\n    }\n\n    function cancelAnimationFrame() {\n        if (_frameRequest) {\n            (window.cancelAnimationFrame || window.mozCancelAnimationFrame)(_frameRequest);\n            _frameRequest = undefined;\n        }\n        if (_frameRequestTimeout) {\n            window.clearTimeout(_frameRequestTimeout);\n            _frameRequestTimeout = undefined;\n        }\n    }\n\n    function applyWorld(world, context) {\n        var llx    = world.llx,\n            lly    = world.lly,\n            urx    = world.urx,\n            ury    = world.ury,\n            xScale = world.xScale,\n            yScale = world.yScale;\n\n        if (!context) return;\n\n        clearLayer(context);\n\n        context.restore();\n        context.save();\n        context.scale(1 / xScale, 1 / yScale);\n        if (lly === 0) {\n            context.translate(-llx, lly - (ury - lly));\n        } else if (lly > 0) {\n            context.translate(-llx, -lly * 2);\n        } else {\n            context.translate(-llx, -ury);\n        }\n    }\n\n    function pushUndo(turtle) {\n        var properties, undoState, i;\n\n        if (!_config.allowUndo || !turtle._bufferSize) {\n            return;\n        }\n\n        if (!turtle._undoBuffer) {\n            turtle._undoBuffer = [];\n        }\n\n        while(turtle._undoBuffer.length > turtle._bufferSize) {\n            turtle._undoBuffer.shift();\n        }\n\n        undoState  = {};\n        properties = "x y angle radians color fill down filling shown shape size".split(" ");\n        for(i = 0; i < properties.length; i++) {\n            undoState[properties[i]] = turtle["_" + properties[i]];\n        }\n\n        turtle._undoBuffer.push(undoState);\n\n        return turtle.addUpdate(function() {\n            undoState.fillBuffer = this.fillBuffer ? this.fillBuffer.slice() : undefined;\n            if (turtle._paper && turtle._paper.canvas) {\n                undoState.image = turtle._paper.canvas.toDataURL();\n            }\n        }, false);\n    }\n\n    var undoImage = new Image();\n    function popUndo(turtle) {\n        var undoState;\n\n        if (!turtle._bufferSize || !turtle._undoBuffer) {\n            return;\n        }\n\n        undoState = turtle._undoBuffer.pop();\n\n        if (!undoState) {\n            return;\n        }\n\n        for(var key in undoState) {\n            if (key === "image" || key === "fillBuffer") continue;\n            turtle["_" + key] = undoState[key];\n        }\n\n        return turtle.addUpdate(function() {\n            var img;\n            if (undoState.image) {\n                undoImage.src = undoState.image;\n                img = undoImage;\n            }\n\n            clearLayer(this.context(), false, undoImage);\n            delete undoState.image;\n        }, true, undoState);\n    }\n\n    function removeLayer(layer) {\n        if (layer && layer.canvas && layer.canvas.parentNode) {\n            layer.canvas.parentNode.removeChild(layer.canvas);\n        }\n    }\n\n    function clearLayer(context, color, image) {\n        if (!context) return;\n\n        context.save();\n        context.setTransform(1,0,0,1,0,0);\n        if (color) {\n            context.fillStyle = color;\n            context.fillRect(0, 0, context.canvas.width, context.canvas.height);\n        }\n        else {\n            context.clearRect(0, 0, context.canvas.width, context.canvas.height);\n        }\n\n        if (image) {\n            context.drawImage(image, 0, 0);\n        }\n\n        context.restore();\n    }\n\n    function drawTurtle(state, context) {\n        var shape  = SHAPES[state.shape],\n            world  = getScreen(),\n            width  = getWidth(),\n            height = getHeight(),\n            xScale = world.xScale,\n            yScale = world.yScale,\n            x, y, bearing;\n\n        if (!context) return;\n\n        x       = Math.cos(state.radians) / xScale;\n        y       = Math.sin(state.radians) / yScale;\n        bearing = Math.atan2(y, x) - Math.PI/2;\n\n        context.save();\n        context.translate(state.x, state.y);\n        context.scale(xScale,yScale);\n        context.rotate(bearing);\n        context.beginPath();\n        context.lineWidth   = 1;\n        context.strokeStyle = state.color;\n        context.fillStyle   = state.fill;\n        context.moveTo(shape[0][0], shape[0][1]);\n        for(var i = 1; i < shape.length; i++) {\n            context.lineTo(shape[i][0], shape[i][1]);\n        }\n        context.closePath();\n        context.fill();\n        context.stroke();\n        context.restore();\n    }\n\n    function drawDot(size, color) {\n        var context = this.context(),\n            screen  = getScreen(),\n            xScale  = screen.xScale,\n            yScale  = screen.yScale;\n\n        if (!context) return;\n        context.beginPath();\n        context.moveTo(this.x, this.y);\n        size = size * Math.min(Math.abs(xScale),Math.abs(yScale));\n        context.arc(this.x, this.y, size, 0, Turtle.RADIANS);\n        context.closePath();\n        context.fillStyle = color || this.color;\n        context.fill();\n    }\n\n    var textMeasuringContext = document.createElement("canvas").getContext("2d");\n    function measureText(message, font) {\n        if (font) {\n            textMeasuringContext.font = font;\n        }\n        return textMeasuringContext.measureText(message).width;\n    }\n\n    function drawText(message, align, font) {\n        var context = this.context();\n\n        if (!context) return;\n\n        context.save();\n        if (font) {\n            context.font = font;\n        }\n        if (align && align.match(/^(left|right|center)$/)) {\n            context.textAlign = align;\n        }\n\n        context.scale(1,-1);\n        context.fillStyle = this.fill;\n        context.fillText(message, this.x, -this.y);\n        context.restore();\n    }\n\n    function drawLine(loc, beginPath, endPath) {\n        // TODO: make steps in path use square ends of lines\n        // and open and close path at the right times.\n        // See if we can minimize calls to stroke\n        var context = this.context();\n\n        if (!context) return;\n\n        if (beginPath) {\n            context.beginPath();\n            context.moveTo(this.x, this.y);\n        }\n\n        context.lineWidth   = this.size * getScreen().lineScale;\n        context.strokeStyle = this.color;\n        context.lineTo(loc.x, loc.y);\n        context.stroke();\n    }\n\n    function drawFill() {\n        var context = this.context(),\n            path  = this.fillBuffer,\n            i;\n\n        if (!context || !path || !path.length) return;\n\n        context.save();\n        context.beginPath();\n        context.moveTo(path[0].x,path[0].y);\n        for(i = 1; i < path.length; i++) {\n            context.lineTo(path[i].x, path[i].y);\n        }\n        context.closePath();\n        context.fillStyle = this.fill;\n        context.fill();\n        for(i = 1; i < path.length; i++) {\n            if (!path[i].stroke) {\n                continue;\n            }\n\n            context.beginPath();\n            context.moveTo(path[i-1].x, path[i-1].y);\n            context.lineWidth   = path[i].size * getScreen().lineScale;\n            context.strokeStyle = path[i].color;\n            context.lineTo(path[i].x, path[i].y);\n            context.stroke();\n        }\n        context.restore();\n    }\n\n    function partialTranslate(turtle, x, y, beginPath, countAsFrame) {\n        return function() {\n            return turtle.addUpdate(\n                function(loc) {\n                    if (this.down) {\n                        drawLine.call(this, loc, beginPath);\n                    }\n                },\n                countAsFrame,\n                {x : x, y : y},\n                beginPath\n            );\n        };\n    }\n\n    function translate(turtle, startX, startY, dx, dy, beginPath, isCircle) {\n        // speed is in pixels per ms\n        var speed   = turtle._computed_speed,\n            screen  = getScreen(),\n            xScale  = Math.abs(screen.xScale),\n            yScale  = Math.abs(screen.yScale),\n            x       = startX,\n            y       = startY,\n            pixels  = Math.sqrt(dx * dx * xScale + dy * dy * yScale),\n            // TODO: allow fractional frame updates?\n            frames  = speed ? Math.round(Math.max(1, pixels / speed)) : 1,\n            xStep   = dx / frames,\n            yStep   = dy / frames,\n            promise = getFrameManager().willRenderNext() ?\n                Promise.resolve() :\n                new InstantPromise(),\n            countAsFrame = (!speed && isCircle) ? false : true,\n            i;\n\n        turtle.addUpdate(function() {\n            if (this.filling) {\n                this.fillBuffer.push({\n                    x        : this.x,\n                    y      : this.y,\n                    stroke : this.down,\n                    color  : this.color,\n                    size   : this.size\n                });\n            }\n        }, false);\n\n        for(i = 0; i < frames; i++) {\n            x = startX + xStep * (i+1);\n            y = startY + yStep * (i+1);\n            promise = promise.then(\n                partialTranslate(turtle, x, y, beginPath, countAsFrame)\n            );\n            beginPath = false;\n        }\n\n        return promise.then(function() {\n            return [startX + dx, startY + dy];\n        });\n    }\n\n    function partialRotate(turtle, angle, radians, countAsFrame) {\n        return function() {\n            return turtle.addUpdate(undefined, countAsFrame, {angle:angle, radians:radians});\n        };\n    }\n\n    function rotate(turtle, startAngle, delta, isCircle) {\n        var speed        = turtle._computed_speed,\n            degrees    = delta / turtle._fullCircle * 360,\n            frames     = speed ? Math.round(Math.max(1, Math.abs(degrees) / speed)) : 1,\n            dAngle     = delta / frames,\n            heading    = {},\n            countAsFrame = (!speed && isCircle) ? false : true,\n            promise    = getFrameManager().willRenderNext() ?\n                Promise.resolve() :\n                new InstantPromise(),\n            i;\n\n        // TODO: request how many frames are remaining and only queue up\n        // a single rotation per screen update\n\n        for(i = 0; i < frames; i++) {\n            calculateHeading(turtle, startAngle + dAngle * (i+1), heading);\n            promise = promise.then(\n                partialRotate(turtle, heading.angle, heading.radians, countAsFrame)\n            );\n        }\n\n        return promise.then(function() {\n            return calculateHeading(turtle, startAngle + delta);\n        });\n    }\n\n    function getCoordinates(x, y) {\n        if (y === undefined) {\n            y = (x && (x.y || x._y || x[1])) || 0;\n            x = (x && (x.x || x._x || x[0])) || 0;\n        }\n        return {x:x, y:y};\n    }\n\n    // Modified solution of Tim Down\'s version from stackoverflow\n    // http://stackoverflow.com/questions/5623838/rgb-to-hex-and-hex-to-rgb\n    function hexToRGB(hex) {\n        var rgbForm, hexForm, result;\n\n        if (rgbForm = /^rgba?\\((\\d+),(\\d+),(\\d+)(?:,([.\\d]+))?\\)$/.exec(hex)) {\n            result = [\n                parseInt(rgbForm[1]),\n                parseInt(rgbForm[2]),\n                parseInt(rgbForm[3])\n            ];\n            if (rgbForm[4]) {\n                result.push(parseFloat(rgbForm[4]));\n            }\n        }\n        else if (/^#?[a-f\\d]{3}|[a-f\\d]{6}$/i.exec(hex)) {\n            if (hex.length === 4) {\n                // Expand shorthand form (e.g. "03F") to full form (e.g. "0033FF")\n                hex = hex.replace(/^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i, function(m, r, g, b) {\n                        return r + r + g + g + b + b;\n                });\n            }\n\n            hexForm = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n            result = [\n                parseInt(hexForm[1], 16),\n                parseInt(hexForm[2], 16),\n                parseInt(hexForm[3], 16)\n            ];\n        }\n        else {\n            result = hex;\n        }\n\n        return result;\n    }\n\n    function createColor(color, g, b, a) {\n        var i;\n\n        if (g !== undefined) {\n            color = [color, g, b, a];\n        }\n\n        if (color.constructor === Array && color.length) {\n            for(i = 0; i < 3; i++) {\n                color[i] = (typeof color[i] === "number") ?\n                    Math.max(0, Math.min(255, parseInt(color[i]))) :\n                    0;\n            }\n            if (typeof color[i] === "number") {\n                color[3] = Math.max(0, Math.min(1, color[i]));\n                color = "rgba(" + color.join(",") + ")";\n            }\n            else {\n                color = "rgb(" + color.slice(0,3).join(",") + ")";\n            }\n        }\n        else if (typeof color === "string" && !color.match(/\\s*url\\s*\\(/i)) {\n            color = color.replace(/\\s+/g, "");\n        }\n        else {\n            return "black";\n        }\n\n        return color;\n    }\n\n    function calculateHeading(turtle, value, heading) {\n        var angle   = turtle._angle   || 0,\n            radians = turtle._radians || 0;\n\n        heading || (heading = {});\n\n        if (typeof value === "number") {\n            if (turtle._isRadians) {\n                angle = radians = value % Turtle.RADIANS;\n            }\n            else if (turtle._fullCircle) {\n                angle   = (value % turtle._fullCircle);\n                radians = angle / turtle._fullCircle * Turtle.RADIANS;\n            }\n            else {\n                angle = radians = 0;\n            }\n\n            if (angle < 0) {\n                angle   += turtle._fullCircle;\n                radians += Turtle.RADIANS;\n            }\n        }\n\n        heading.angle   = angle;\n        heading.radians = radians;\n\n        return heading;\n    }\n\n    function pythonToJavascriptFunction(pyValue, scope) {\n        return function() {\n            var argsJs = Array.prototype.slice.call(arguments),\n                argsPy = argsJs.map(\n                    function(argJs) {return Sk.ffi.remapToPy(argJs);}\n                );\n\n            if (typeof(scope) !== "undefined") {\n                argsPy.unshift(scope);\n            }\n            return Sk.misceval.applyAsync(\n                undefined, pyValue, undefined, undefined, undefined, argsPy\n            ).catch(Sk.uncaughtException);\n        };\n    }\n\n    function addModuleMethod(klass, module, method, scopeGenerator) {\n        var publicMethodName = method.replace(/^\\$/, ""),\n            displayName      = publicMethodName.replace(/_\\$[a-z]+\\$$/i, ""),\n            maxArgs          = klass.prototype[method].length,\n            minArgs          = klass.prototype[method].minArgs,\n            keywordArgs      = klass.prototype[method].keywordArgs,\n            returnType       = klass.prototype[method].returnType,\n            isSk             = klass.prototype[method].isSk,\n            wrapperFn;\n\n        if (minArgs === undefined) {\n            minArgs = maxArgs;\n        }\n\n        wrapperFn = function() {\n            var args     = Array.prototype.slice.call(arguments, 0),\n                instance = scopeGenerator ? scopeGenerator() : args.shift().instance,\n                i, result, susp, resolution, lengthError;\n\n            if (args < minArgs || args.length > maxArgs) {\n                lengthError = minArgs === maxArgs ?\n                    "exactly " + maxArgs :\n                    "between " + minArgs + " and " + maxArgs;\n\n                throw new Sk.builtin.TypeError(displayName + "() takes " + lengthError + " positional argument(s) (" + args.length + " given)");\n            }\n\n            for (i = args.length; --i >= 0;) {\n                if (args[i] !== undefined) {\n                    if (args[i] instanceof Sk.builtin.func) {\n                        args[i] = pythonToJavascriptFunction(args[i]);\n                    }\n                    else if (args[i] instanceof Sk.builtin.method) {\n                        args[i] = pythonToJavascriptFunction(args[i].im_func, args[i].im_self);\n                    }\n                    else if (args[i] && args[i].$d instanceof Sk.builtin.dict && args[i].instance) {\n                        args[i] = args[i].instance;\n                    }\n                    else {\n                        args[i] = Sk.ffi.remapToJs(args[i]);\n                    }\n                }\n            }\n\n            try {\n                result = instance[method].apply(instance, args);\n            } catch(e) {\n                if (window && window.console) {\n                    window.console.log("wrapped method failed");\n                    window.console.log(e.stack);\n                }\n                throw e;\n            }\n\n            if (result instanceof InstantPromise) {\n                result = result.lastResult;\n            }\n\n            if (result instanceof Promise) {\n                result = result.catch(function(e) {\n                    if (window && window.console) {\n                        window.console.log("promise failed");\n                        window.console.log(e.stack);\n                    }\n                    throw e;\n                });\n\n                susp = new Sk.misceval.Suspension();\n\n                susp.resume = function() {\n                    return (resolution === undefined) ?\n                        Sk.builtin.none.none$ :\n                        Sk.ffi.remapToPy(resolution);\n                };\n\n                susp.data = {\n                    type: "Sk.promise",\n                    promise: result.then(function(value) {\n                        resolution = value;\n                        return value;\n                    })\n                };\n\n                return susp;\n            }\n            else {\n                if (result === undefined) return Sk.builtin.none.none$;\n                if (isSk) return result;\n                if (typeof returnType === "function") {\n                    return returnType(result);\n                }\n\n                return Sk.ffi.remapToPy(result);\n            }\n        };\n\n        if (keywordArgs) {\n            wrapperFn.co_varnames = keywordArgs.slice();\n            // make room for required arguments\n            for(var i = 0; i < minArgs; i++) {\n                wrapperFn.co_varnames.unshift("");\n            }\n            if (!scopeGenerator) {\n                // make room for the "self" argument\n                wrapperFn.co_varnames.unshift("");\n            }\n        }\n\n        module[publicMethodName] = new Sk.builtin.func(wrapperFn);\n    }\n\n    function TurtleWrapper($gbl, $loc) {\n        $loc.__init__ = new Sk.builtin.func(function (self) {\n            self.instance = new Turtle();\n            self.instance.skInstance = self;\n        });\n\n        for(var key in Turtle.prototype) {\n            if (/^\\$[a-z_]+/.test(key)) {\n                addModuleMethod(Turtle, $loc, key);\n            }\n        }\n    }\n\n    function ScreenWrapper($gbl, $loc) {\n        $loc.__init__ = new Sk.builtin.func(function (self) {\n            self.instance = getScreen();\n        });\n\n        for(var key in Screen.prototype) {\n            if (/^\\$[a-z_]+/.test(key)) {\n                addModuleMethod(Screen, $loc, key);\n            }\n        }\n    }\n\n    for(var key in Turtle.prototype) {\n        if (/^\\$[a-z_]+/.test(key)) {\n            addModuleMethod(Turtle, _module, key, ensureAnonymous);\n        }\n    }\n\n    // add Screen method aliases to the main turtle module\n    // to allow things like:\n    //   import turtle\n    //   turtle.mainloop()\n    addModuleMethod(Screen, _module, "$mainloop", getScreen);\n    addModuleMethod(Screen, _module, "$done", getScreen);\n    addModuleMethod(Screen, _module, "$bye", getScreen);\n    addModuleMethod(Screen, _module, "$tracer", getScreen);\n    addModuleMethod(Screen, _module, "$update", getScreen);\n    addModuleMethod(Screen, _module, "$delay", getScreen);\n    addModuleMethod(Screen, _module, "$window_width", getScreen);\n    addModuleMethod(Screen, _module, "$window_height", getScreen);\n\n    _module.Turtle = Sk.misceval.buildClass(_module, TurtleWrapper, "Turtle", []);\n    _module.Screen = Sk.misceval.buildClass(_module, ScreenWrapper, "Screen", []);\n\n    // Calling focus(false) will block turtle key/mouse events\n    // until focus(true) is called again or until the turtle DOM target\n    // is clicked/tabbed into.\n    function focusTurtle(value) {\n        if (value !== undefined) {\n            _focus = !!value;\n            if (_focus) {\n                getTarget().focus();\n            }\n            else {\n                getTarget().blur();\n            }\n        }\n\n        return _focus;\n    }\n\n    function resetTurtle() {\n        cancelAnimationFrame();\n        getScreen().reset();\n        getFrameManager().reset();\n\n        while (_target.firstChild) {\n            _target.removeChild(_target.firstChild);\n        }\n\n        if (_mouseHandler) {\n            _mouseHandler.reset();\n        }\n\n        _durationSinceRedraw = 0;\n        _screenInstance      = undefined;\n        _anonymousTurtle     = undefined;\n        _mouseHandler        = undefined;\n        TURTLE_COUNT         = 0;\n    }\n\n    function stopTurtle() {\n        cancelAnimationFrame();\n\n        if (_mouseHandler) {\n            _mouseHandler.reset();\n        }\n\n        _durationSinceRedraw = 0;\n        _screenInstance      = undefined;\n        _anonymousTurtle     = undefined;\n        _mouseHandler        = undefined;\n        TURTLE_COUNT         = 0;\n    }\n\n    return {\n        skModule : _module,\n        reset    : resetTurtle,\n        stop     : stopTurtle,\n        focus    : focusTurtle,\n        Turtle   : Turtle,\n        Screen   : Screen\n    };\n}\n\n// See if the TurtleGraphics module has already been loaded\n// for the currently configured DOM target element.\nvar currentTarget = getConfiguredTarget();\n\nif (!currentTarget.turtleInstance) {\n    currentTarget.turtleInstance = generateTurtleModule(currentTarget);\n}\nelse {\n    currentTarget.turtleInstance.reset();\n}\n\nSk.TurtleGraphics.module = currentTarget.turtleInstance.skModule;\nSk.TurtleGraphics.reset  = currentTarget.turtleInstance.reset;\nSk.TurtleGraphics.stop   = currentTarget.turtleInstance.stop;\nSk.TurtleGraphics.focus  = currentTarget.turtleInstance.focus;\nSk.TurtleGraphics.raw = {\n    Turtle : currentTarget.turtleInstance.Turtle,\n    Screen : currentTarget.turtleInstance.Screen\n};\n\nreturn currentTarget.turtleInstance.skModule;\n\n};\n',"src/lib/rexec.py":'raise NotImplementedError("rexec is not yet implemented in Skulpt")\n',"src/lib/glob.py":'raise NotImplementedError("glob is not yet implemented in Skulpt")\n',"src/lib/pipes.py":'raise NotImplementedError("pipes is not yet implemented in Skulpt")\n',"src/lib/smtpd.py":'raise NotImplementedError("smtpd is not yet implemented in Skulpt")\n',"src/lib/htmllib.py":'raise NotImplementedError("htmllib is not yet implemented in Skulpt")\n',"src/lib/os2emxpath.py":'raise NotImplementedError("os2emxpath is not yet implemented in Skulpt")\n',"src/lib/collections.js":'var $builtinmodule = function (name) {\n\n    var mod = {};\n\n    // defaultdict object\n\n    mod.defaultdict = function defaultdict(default_, args) {\n        if (!(this instanceof mod.defaultdict)) {\n            return new mod.defaultdict(default_, args);\n        }\n\n        Sk.abstr.superConstructor(mod.defaultdict, this, args);\n\n        if (default_ === undefined) {\n            this.default_factory = Sk.builtin.none.none$;\n        }\n        else {\n            if (!Sk.builtin.checkCallable(default_) && !(default_ instanceof Sk.builtin.none)) {\n                throw new Sk.builtin.TypeError("first argument must be callable");\n            }\n            this.default_factory = default_;\n        }\n\n        if (this[\'$d\']) {\n            this[\'$d\'][\'default_factory\'] = this.default_factory;\n        }\n        else {\n            this[\'$d\'] = {\'default_factory\': this.default_factory};\n        }\n\n        return this;\n    };\n\n    Sk.abstr.setUpInheritance("defaultdict", mod.defaultdict, Sk.builtin.dict);\n\n    mod.defaultdict.prototype[\'$r\'] = function () {\n        var def_str = Sk.misceval.objectRepr(this.default_factory).v;\n        var dict_str = Sk.builtin.dict.prototype[\'$r\'].call(this).v;\n        return new Sk.builtin.str("defaultdict(" + def_str + ", " + dict_str + ")");\n    };\n\n    mod.defaultdict.prototype[\'__missing__\'] = function (key) {\n        Sk.builtin.pyCheckArgs(\'__missing__\', arguments, 0, 1);\n        if (key) {\n            throw new Sk.builtin.KeyError(Sk.misceval.objectRepr(key));\n        }\n        else {\n            return Sk.misceval.callsim(this.default_factory);\n        }\n    };\n\n    mod.defaultdict.prototype.mp$subscript = function (key) {\n        try {\n            return Sk.builtin.dict.prototype.mp$subscript.call(this, key);\n        }\n        catch (e) {\n            if (this.default_factory instanceof Sk.builtin.none) {\n                return this.__missing__(key);\n            }\n            else {\n                ret = this.__missing__();\n                this.mp$ass_subscript(key, ret);\n                return ret;\n            }\n        }\n    };\n\n    // Counter object\n\n    mod.Counter = function Counter(iter_or_map) {\n        if (!(this instanceof mod.Counter)) {\n            return new mod.Counter(iter_or_map);\n        }\n\n\n        if (iter_or_map instanceof Sk.builtin.dict || iter_or_map === undefined) {\n            Sk.abstr.superConstructor(mod.Counter, this, iter_or_map);\n\n        }\n        else {\n            if (!(Sk.builtin.checkIterable(iter_or_map))) {\n                throw new Sk.builtin.TypeError("\'" + Sk.abstr.typeName(iter_or_map) + "\' object is not iterable");\n            }\n\n            Sk.abstr.superConstructor(mod.Counter, this);\n            var one = new Sk.builtin.int_(1);\n\n            for (var iter = iter_or_map.tp$iter(), k = iter.tp$iternext();\n                 k !== undefined;\n                 k = iter.tp$iternext()) {\n                var count = this.mp$subscript(k);\n                count = count.nb$add(one);\n                this.mp$ass_subscript(k, count);\n            }\n        }\n\n        return this;\n    };\n\n    Sk.abstr.setUpInheritance("Counter", mod.Counter, Sk.builtin.dict);\n\n    mod.Counter.prototype[\'$r\'] = function () {\n        var dict_str = this.size > 0 ? Sk.builtin.dict.prototype[\'$r\'].call(this).v : \'\';\n        return new Sk.builtin.str(\'Counter(\' + dict_str + \')\');\n    };\n\n    mod.Counter.prototype.mp$subscript = function (key) {\n        try {\n            return Sk.builtin.dict.prototype.mp$subscript.call(this, key);\n        }\n        catch (e) {\n            return new Sk.builtin.int_(0);\n        }\n    };\n\n    mod.Counter.prototype[\'elements\'] = new Sk.builtin.func(function (self) {\n        Sk.builtin.pyCheckArgs(\'elements\', arguments, 1, 1);\n        var all_elements = [];\n        for (var iter = self.tp$iter(), k = iter.tp$iternext();\n             k !== undefined;\n             k = iter.tp$iternext()) {\n            for (var i = 0; i < self.mp$subscript(k).v; i++) {\n                all_elements.push(k);\n            }\n        }\n\n        var ret =\n        {\n            tp$iter: function () {\n                return ret;\n            },\n            $obj: this,\n            $index: 0,\n            $elem: all_elements,\n            tp$iternext: function () {\n                if (ret.$index >= ret.$elem.length) {\n                    return undefined;\n                }\n                return ret.$elem[ret.$index++];\n            }\n        };\n\n        return ret;\n\n    });\n\n    mod.Counter.prototype[\'most_common\'] = new Sk.builtin.func(function (self, n) {\n        Sk.builtin.pyCheckArgs(\'most_common\', arguments, 1, 2);\n        var length = self.mp$length();\n\n        if (n === undefined) {\n            n = length;\n        }\n        else {\n            if (!Sk.builtin.checkInt(n)) {\n                if (n instanceof Sk.builtin.float_) {\n                    throw new Sk.builtin.TypeError("integer argument expected, got float");\n                }\n                else {\n                    throw new Sk.builtin.TypeError("an integer is required");\n                }\n            }\n\n            n = Sk.builtin.asnum$(n);\n            n = n <= length ? n : length;\n            n = n >= 0 ? n : 0;\n        }\n\n        var most_common_elem = [];\n        for (var iter = self.tp$iter(), k = iter.tp$iternext();\n             k !== undefined;\n             k = iter.tp$iternext()) {\n            most_common_elem.push([k, self.mp$subscript(k)]);\n        }\n\n        var sort_func = function (a, b) {\n            if (a[1].v < b[1].v) {\n                return 1;\n            } else if (a[1].v > b[1].v) {\n                return -1;\n            } else {\n                return 0;\n            }\n        };\n        most_common_elem = most_common_elem.sort(sort_func);\n\n        var ret = [];\n        for (var i = 0; i < n; i++) {\n            ret.push(new Sk.builtin.tuple(most_common_elem.shift()));\n        }\n\n        return new Sk.builtin.list(ret);\n    });\n\n    mod.Counter.prototype[\'update\'] = new Sk.builtin.func(function (self, other) {\n        Sk.builtin.pyCheckArgs(\'update\', arguments, 1, 2);\n\n        if (other instanceof Sk.builtin.dict) {\n            for (var iter = other.tp$iter(), k = iter.tp$iternext();\n                 k !== undefined;\n                 k = iter.tp$iternext()) {\n                var count = self.mp$subscript(k);\n                self.mp$ass_subscript(k, count.nb$add(other.mp$subscript(k)));\n            }\n        }\n        else if (other !== undefined) {\n            if (!Sk.builtin.checkIterable(other)) {\n                throw new Sk.builtin.TypeError("\'" + Sk.abstr.typeName(other) + "\' object is not iterable");\n            }\n\n            var one = new Sk.builtin.int_(1);\n            for (var iter = other.tp$iter(), k = iter.tp$iternext();\n                 k !== undefined;\n                 k = iter.tp$iternext()) {\n                var count = self.mp$subscript(k);\n                self.mp$ass_subscript(k, count.nb$add(one));\n            }\n        }\n    });\n\n    mod.Counter.prototype[\'subtract\'] = new Sk.builtin.func(function (self, other) {\n        Sk.builtin.pyCheckArgs(\'subtract\', arguments, 1, 2);\n\n        if (other instanceof Sk.builtin.dict) {\n            for (var iter = other.tp$iter(), k = iter.tp$iternext();\n                 k !== undefined;\n                 k = iter.tp$iternext()) {\n                var count = self.mp$subscript(k);\n                self.mp$ass_subscript(k, count.nb$subtract(other.mp$subscript(k)));\n            }\n        }\n        else if (other !== undefined) {\n            if (!Sk.builtin.checkIterable(other)) {\n                throw new Sk.builtin.TypeError("\'" + Sk.abstr.typeName(other) + "\' object is not iterable");\n            }\n\n            var one = new Sk.builtin.int_(1);\n            for (var iter = other.tp$iter(), k = iter.tp$iternext();\n                 k !== undefined;\n                 k = iter.tp$iternext()) {\n                var count = self.mp$subscript(k);\n                self.mp$ass_subscript(k, count.nb$subtract(one));\n            }\n        }\n    });\n\n\n    // OrderedDict\n    mod.OrderedDict = function OrderedDict(items)\n    {\n        if (!(this instanceof mod.OrderedDict))\n        {\n            return new mod.OrderedDict(items);\n        }\n\n        this.orderedkeys = [];\n\n        Sk.abstr.superConstructor(mod.OrderedDict, this, items);\n\n        return this;\n    }\n\n    Sk.abstr.setUpInheritance("OrderedDict", mod.OrderedDict, Sk.builtin.dict);\n\n    mod.OrderedDict.prototype[\'$r\'] = function()\n    {\n        var v;\n        var iter, k;\n        var ret = [];\n        var pairstr;\n        for (iter = this.tp$iter(), k = iter.tp$iternext();\n             k !== undefined;\n             k = iter.tp$iternext()) {\n            v = this.mp$subscript(k);\n            if (v === undefined) {\n                //print(k, "had undefined v");\n                v = null;\n            }\n            ret.push("(" + Sk.misceval.objectRepr(k).v + ", " + Sk.misceval.objectRepr(v).v + ")");\n        }\n        pairstr = ret.join(", ");\n        if (ret.length > 0)\n        {\n            pairstr = "[" + pairstr + "]";\n        }\n        return new Sk.builtin.str("OrderedDict(" + pairstr + ")");\n    }\n\n    mod.OrderedDict.prototype.mp$ass_subscript = function(key, w)\n    {\n        var idx = this.orderedkeys.indexOf(key);\n        if (idx == -1)\n        {\n            this.orderedkeys.push(key);\n        }\n\n        return Sk.builtin.dict.prototype.mp$ass_subscript.call(this, key, w);\n    }\n\n    mod.OrderedDict.prototype.mp$del_subscript = function(key)\n    {\n        var idx = this.orderedkeys.indexOf(key);\n        if (idx != -1)\n        {\n            this.orderedkeys.splice(idx, 1);\n        }\n\n        return Sk.builtin.dict.prototype.mp$del_subscript.call(this, key);\n    }\n\n    mod.OrderedDict.prototype.__iter__ = new Sk.builtin.func(function (self) {\n        Sk.builtin.pyCheckArgs("__iter__", arguments, 0, 0, false, true);\n\n        return mod.OrderedDict.prototype.tp$iter.call(self);\n    });\n\n    mod.OrderedDict.prototype.tp$iter = function()\n    {\n        var ret;\n        ret =\n        {\n            tp$iter    : function () {\n                return ret;\n            },\n            $obj       : this,\n            $index     : 0,\n            $keys      : this.orderedkeys.slice(0),\n            tp$iternext: function () {\n                // todo; StopIteration\n                if (ret.$index >= ret.$keys.length) {\n                    return undefined;\n                }\n                return ret.$keys[ret.$index++];\n            }\n        };\n        return ret;\n    }\n\n    mod.OrderedDict.prototype.ob$eq = function (other) {\n        var l;\n        var otherl;\n        var iter;\n        var k;\n        var v;\n\n        if (!(other instanceof mod.OrderedDict))\n        {\n            return Sk.builtin.dict.prototype.ob$eq.call(this, other);\n        }\n\n        l = this.mp$length();\n        otherl = other.mp$length();\n\n        if (l !== otherl) {\n            return Sk.builtin.bool.false$;\n        }\n\n        for (iter = this.tp$iter(), otheriter = other.tp$iter(),\n             k = iter.tp$iternext(), otherk = otheriter.tp$iternext();\n             k !== undefined;\n             k = iter.tp$iternext(), otherk = otheriter.tp$iternext()) \n        {\n            if (!Sk.misceval.isTrue(Sk.misceval.richCompareBool(k, otherk, "Eq")))\n            {\n                return Sk.builtin.bool.false$;\n            }\n            v = this.mp$subscript(k);\n            otherv = other.mp$subscript(otherk);\n\n            if (!Sk.misceval.isTrue(Sk.misceval.richCompareBool(v, otherv, "Eq"))) {\n                return Sk.builtin.bool.false$;\n            }\n        }\n\n        return Sk.builtin.bool.true$;\n    };\n\n    mod.OrderedDict.prototype.ob$ne = function (other) {\n        var l;\n        var otherl;\n        var iter;\n        var k;\n        var v;\n\n        if (!(other instanceof mod.OrderedDict))\n        {\n            return Sk.builtin.dict.prototype.ob$ne.call(this, other);\n        }\n\n        l = this.size;\n        otherl = other.size;\n\n        if (l !== otherl) {\n            return Sk.builtin.bool.true$;\n        }\n\n        for (iter = this.tp$iter(), otheriter = other.tp$iter(),\n             k = iter.tp$iternext(), otherk = otheriter.tp$iternext();\n             k !== undefined;\n             k = iter.tp$iternext(), otherk = otheriter.tp$iternext()) \n        {\n            if (!Sk.misceval.isTrue(Sk.misceval.richCompareBool(k, otherk, "Eq")))\n            {\n                return Sk.builtin.bool.true$;\n            }\n            v = this.mp$subscript(k);\n            otherv = other.mp$subscript(otherk);\n\n            if (!Sk.misceval.isTrue(Sk.misceval.richCompareBool(v, otherv, "Eq"))) {\n                return Sk.builtin.bool.true$;\n            }\n        }\n\n        return Sk.builtin.bool.false$;\n    };\n\n    mod.OrderedDict.prototype["pop"] = new Sk.builtin.func(function (self, key, d) {\n        var s;\n        var idx;\n\n        Sk.builtin.pyCheckArgs(\'pop\', arguments, 2, 3);\n\n        idx = self.orderedkeys.indexOf(key);\n        if (idx != -1)\n        {\n            self.orderedkeys.splice(idx, 1);\n        }\n\n        return Sk.misceval.callsim(Sk.builtin.dict.prototype["pop"], self, key, d);\n    });\n\n    mod.OrderedDict.prototype["popitem"] = new Sk.builtin.func(function (self, last) {\n        var key, val;\n        var s;\n\n        Sk.builtin.pyCheckArgs(\'popitem\', arguments, 1, 2);\n\n        // Empty dictionary\n        if (self.orderedkeys.length == 0)\n        {\n            s = new Sk.builtin.str(\'dictionary is empty\');\n            throw new Sk.builtin.KeyError(s.v);\n        }\n\n        key = self.orderedkeys[0];\n        if (last === undefined || Sk.misceval.isTrue(last))\n        {\n            key = self.orderedkeys[self.orderedkeys.length - 1];\n        }\n\n        val = Sk.misceval.callsim(self["pop"], self, key);\n        return Sk.builtin.tuple([key, val]);\n    });\n\n    // deque\n    mod.deque = function deque(iterable, maxlen) {\n        throw new Sk.builtin.NotImplementedError("deque is not implemented")\n    };\n\n    // namedtuple\n    mod.namedtuples = {};\n    var keywds = Sk.importModule("keyword", false, false);\n    // should cover most things.  Does not:\n    // * keyword args\n    // _make\n    // _replace\n    // _asdict\n    // _fields\n\n\n    var hasDupes = function(a) {\n        var counts = [];\n        for(var i = 0; i <= a.length; i++) {\n            if(counts[a[i]] === undefined) {\n                counts[a[i]] = 1;\n            } else {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    var Skinherits = function(childCtor, parentCtor) {\n      /** @constructor */\n      function tempCtor() {};\n      tempCtor.prototype = parentCtor.prototype;\n      childCtor.superClass_ = parentCtor.prototype;\n      childCtor.prototype = new tempCtor();\n      /** @override */\n      childCtor.prototype.constructor = childCtor;\n    };\n\n    mod.namedtuple = function (name, fields) {\n        if (Sk.ffi.remapToJs(Sk.misceval.callsim(keywds.$d[\'iskeyword\'],name ))) {\n            throw new Sk.builtin.ValueError("Type names and field names cannot be a keyword: " + name.v);\n        }\n        var nm = Sk.ffi.remapToJs(name);\n        startsw = new RegExp(/^[0-9].*/);\n        startsw2 = new RegExp(/^[0-9_].*/);\n        alnum = new RegExp(/^\\w*$/);\n        if (startsw.test(nm) || (! alnum.test(nm))) {\n            throw new Sk.builtin.ValueError(" Bad type name " + nm);\n        }\n        // fields could be a string or a tuple or list of strings\n        var flds = Sk.ffi.remapToJs(fields);\n\n        if (typeof(flds) === \'string\') {\n            flds = flds.split(/\\s+/);\n        }\n        // import the keyword module here and use iskeyword\n        for (i = 0; i < flds.length; i++) {\n            if (Sk.ffi.remapToJs(Sk.misceval.callsim(keywds.$d[\'iskeyword\'],Sk.ffi.remapToPy(flds[i]))) ||\n                  startsw2.test(flds[i]) || (! alnum.test(flds[i]))\n            ) {\n                throw new Sk.builtin.ValueError("Type names and field names cannot be a keyword: " + flds[i]);\n            }\n        }\n        if (hasDupes(flds)) {\n            throw new Sk.builtin.ValueError("Field names must be unique.");\n        }\n\n        var cons = function nametuple_constructor() {\n            var o;\n            if (arguments.length !== flds.length ) {\n                throw new Sk.builtin.TypeError("Number of arguments must match");\n            }\n            if (!(this instanceof mod.namedtuples[nm])) {\n                o = Object.create(mod.namedtuples[nm].prototype);\n                o.constructor.apply(o, arguments);\n                return o;\n            }\n            this.__class__ = mod.namedtuples[nm];\n            this.v = Array.prototype.slice.call(arguments);\n        };\n        mod.namedtuples[nm] = cons;\n\n        Skinherits(cons, Sk.builtin.tuple);\n        cons.prototype.tp$name = nm;\n        cons.prototype.ob$type = Sk.builtin.type.makeIntoTypeObj(nm, mod.namedtuples[nm]);\n        cons.prototype["$r"] = function () {\n            var ret;\n            var i;\n            var bits;\n            if (this.v.length === 0) {\n                return new Sk.builtin.str(nm + "()");\n            }\n            bits = [];\n            for (i = 0; i < this.v.length; ++i) {\n                bits[i] = flds[i] + "=" + Sk.misceval.objectRepr(this.v[i]).v;\n            }\n            ret = bits.join(", ");\n            if (this.v.length === 1) {\n                ret += ",";\n            }\n            return new Sk.builtin.str(nm + "(" + ret + ")");\n        };\n\n        cons.prototype.tp$getattr = function (name) {\n            var i = flds.indexOf(name);\n            if (i >= 0) {\n                return this.v[i];\n            }\n            return undefined;\n        };\n\n        cons.prototype.tp$setattr = function (name, value) {\n            throw new Sk.builtin.AttributeError("can\'t set attribute");\n        };\n\n        return cons;\n    };\n\n    return mod;\n};\n',"src/lib/lib-tk/__init__.py":'raise NotImplementedError("lib-tk is not yet implemented in Skulpt")\n',"src/lib/json/__init__.py":'raise NotImplementedError("json is not yet implemented in Skulpt")\n',"src/lib/difflib.py":'raise NotImplementedError("difflib is not yet implemented in Skulpt")\n',"src/lib/dis.py":'raise NotImplementedError("dis is not yet implemented in Skulpt")\n',"src/lib/sched.py":'raise NotImplementedError("sched is not yet implemented in Skulpt")\n',"src/lib/rfc822.py":'raise NotImplementedError("rfc822 is not yet implemented in Skulpt")\n',"src/lib/distutils/command/__init__.py":'raise NotImplementedError("command is not yet implemented in Skulpt")\n',"src/lib/stat.py":'raise NotImplementedError("stat is not yet implemented in Skulpt")\n',"src/lib/StringIO.py":'r"""File-like objects that read from or write to a string buffer.\n\nThis implements (nearly) all stdio methods.\n\nf = StringIO()      # ready for writing\nf = StringIO(buf)   # ready for reading\nf.close()           # explicitly release resources held\nflag = f.isatty()   # always false\npos = f.tell()      # get current position\nf.seek(pos)         # set current position\nf.seek(pos, mode)   # mode 0: absolute; 1: relative; 2: relative to EOF\nbuf = f.read()      # read until EOF\nbuf = f.read(n)     # read up to n bytes\nbuf = f.readline()  # read until end of line (\'\\n\') or EOF\nlist = f.readlines()# list of f.readline() results until EOF\nf.truncate([size])  # truncate file at to at most size (default: current pos)\nf.write(buf)        # write at current position\nf.writelines(list)  # for line in list: f.write(line)\nf.getvalue()        # return whole file\'s contents as a string\n\nNotes:\n- Using a real file is often faster (but less convenient).\n- There\'s also a much faster implementation in C, called cStringIO, but\n  it\'s not subclassable.\n- fileno() is left unimplemented so that code which uses it triggers\n  an exception early.\n- Seeking far beyond EOF and then writing will insert real null\n  bytes that occupy space in the buffer.\n- There\'s a simple test set (see end of this file).\n"""\n\n__all__ = ["StringIO"]\n\ndef _complain_ifclosed(closed):\n    if closed:\n        raise ValueError, "I/O operation on closed file"\n\nclass StringIO:\n    """class StringIO([buffer])\n\n    When a StringIO object is created, it can be initialized to an existing\n    string by passing the string to the constructor. If no string is given,\n    the StringIO will start empty.\n\n    The StringIO object can accept either Unicode or 8-bit strings, but\n    mixing the two may take some care. If both are used, 8-bit strings that\n    cannot be interpreted as 7-bit ASCII (that use the 8th bit) will cause\n    a UnicodeError to be raised when getvalue() is called.\n    """\n    def __init__(self, buf = \'\'):\n        # Force self.buf to be a string or unicode\n        if not isinstance(buf, str):\n            buf = str(buf)\n        self.buf = buf\n        self.len = len(buf)\n        self.buflist = []\n        self.pos = 0\n        self.closed = False\n        self.softspace = 0\n\n    def __iter__(self):\n        return self\n\n    def next(self):\n        """A file object is its own iterator, for example iter(f) returns f\n        (unless f is closed). When a file is used as an iterator, typically\n        in a for loop (for example, for line in f: print line), the next()\n        method is called repeatedly. This method returns the next input line,\n        or raises StopIteration when EOF is hit.\n        """\n        _complain_ifclosed(self.closed)\n        r = self.readline()\n        if not r:\n            raise StopIteration\n        return r\n\n    def close(self):\n        """Free the memory buffer.\n        """\n        if not self.closed:\n            self.closed = True\n            self.buf = None\n            self.pos = None\n\n    def isatty(self):\n        """Returns False because StringIO objects are not connected to a\n        tty-like device.\n        """\n        _complain_ifclosed(self.closed)\n        return False\n\n    def seek(self, pos, mode = 0):\n        """Set the file\'s current position.\n\n        The mode argument is optional and defaults to 0 (absolute file\n        positioning); other values are 1 (seek relative to the current\n        position) and 2 (seek relative to the file\'s end).\n\n        There is no return value.\n        """\n        _complain_ifclosed(self.closed)\n        if self.buflist:\n            self.buf += \'\'.join(self.buflist)\n            self.buflist = []\n        if mode == 1:\n            pos += self.pos\n        elif mode == 2:\n            pos += self.len\n        self.pos = max(0, pos)\n\n    def tell(self):\n        """Return the file\'s current position."""\n        _complain_ifclosed(self.closed)\n        return self.pos\n\n    def read(self, n = -1):\n        """Read at most size bytes from the file\n        (less if the read hits EOF before obtaining size bytes).\n\n        If the size argument is negative or omitted, read all data until EOF\n        is reached. The bytes are returned as a string object. An empty\n        string is returned when EOF is encountered immediately.\n        """\n        _complain_ifclosed(self.closed)\n        if self.buflist:\n            self.buf += \'\'.join(self.buflist)\n            self.buflist = []\n        if n is None or n < 0:\n            newpos = self.len\n        else:\n            newpos = min(self.pos+n, self.len)\n        r = self.buf[self.pos:newpos]\n        self.pos = newpos\n        return r\n\n    def readline(self, length=None):\n        r"""Read one entire line from the file.\n\n        A trailing newline character is kept in the string (but may be absent\n        when a file ends with an incomplete line). If the size argument is\n        present and non-negative, it is a maximum byte count (including the\n        trailing newline) and an incomplete line may be returned.\n\n        An empty string is returned only when EOF is encountered immediately.\n\n        Note: Unlike stdio\'s fgets(), the returned string contains null\n        characters (\'\\0\') if they occurred in the input.\n        """\n        _complain_ifclosed(self.closed)\n        if self.buflist:\n            self.buf += \'\'.join(self.buflist)\n            self.buflist = []\n        i = self.buf.find(\'\\n\', self.pos)\n        if i < 0:\n            newpos = self.len\n        else:\n            newpos = i+1\n        if length is not None and length >= 0:\n            if self.pos + length < newpos:\n                newpos = self.pos + length\n        r = self.buf[self.pos:newpos]\n        self.pos = newpos\n        return r\n\n    def readlines(self, sizehint = 0):\n        """Read until EOF using readline() and return a list containing the\n        lines thus read.\n\n        If the optional sizehint argument is present, instead of reading up\n        to EOF, whole lines totalling approximately sizehint bytes (or more\n        to accommodate a final whole line).\n        """\n        total = 0\n        lines = []\n        line = self.readline()\n        while line:\n            lines.append(line)\n            total += len(line)\n            if 0 < sizehint <= total:\n                break\n            line = self.readline()\n        return lines\n\n    def truncate(self, size=None):\n        """Truncate the file\'s size.\n\n        If the optional size argument is present, the file is truncated to\n        (at most) that size. The size defaults to the current position.\n        The current file position is not changed unless the position\n        is beyond the new file size.\n\n        If the specified size exceeds the file\'s current size, the\n        file remains unchanged.\n        """\n        _complain_ifclosed(self.closed)\n        if size is None:\n            size = self.pos\n        elif size < 0:\n            raise IOError(22, "Negative size not allowed")\n        elif size < self.pos:\n            self.pos = size\n        self.buf = self.getvalue()[:size]\n        self.len = size\n\n    def write(self, s):\n        """Write a string to the file.\n\n        There is no return value.\n        """\n        _complain_ifclosed(self.closed)\n        if not s: return\n        # Force s to be a string or unicode\n        if not isinstance(s, str):\n            s = str(s)\n        spos = self.pos\n        slen = self.len\n        if spos == slen:\n            self.buflist.append(s)\n            self.len = self.pos = spos + len(s)\n            return\n        if spos > slen:\n            self.buflist.append(\'\\0\'*(spos - slen))\n            slen = spos\n        newpos = spos + len(s)\n        if spos < slen:\n            if self.buflist:\n                self.buf += \'\'.join(self.buflist)\n            self.buflist = [self.buf[:spos], s, self.buf[newpos:]]\n            self.buf = \'\'\n            if newpos > slen:\n                slen = newpos\n        else:\n            self.buflist.append(s)\n            slen = newpos\n        self.len = slen\n        self.pos = newpos\n\n    def writelines(self, iterable):\n        """Write a sequence of strings to the file. The sequence can be any\n        iterable object producing strings, typically a list of strings. There\n        is no return value.\n\n        (The name is intended to match readlines(); writelines() does not add\n        line separators.)\n        """\n        write = self.write\n        for line in iterable:\n            write(line)\n\n    def flush(self):\n        """Flush the internal buffer\n        """\n        _complain_ifclosed(self.closed)\n\n    def getvalue(self):\n        """\n        Retrieve the entire contents of the "file" at any time before\n        the StringIO object\'s close() method is called.\n\n        The StringIO object can accept either Unicode or 8-bit strings,\n        but mixing the two may take some care. If both are used, 8-bit\n        strings that cannot be interpreted as 7-bit ASCII (that use the\n        8th bit) will cause a UnicodeError to be raised when getvalue()\n        is called.\n        """\n        _complain_ifclosed(self.closed)\n        if self.buflist:\n            self.buf += \'\'.join(self.buflist)\n            self.buflist = []\n        return self.buf\n',"src/lib/xdrlib.py":'raise NotImplementedError("xdrlib is not yet implemented in Skulpt")\n',"src/lib/keyword.py":"\n__all__ = [\"iskeyword\", \"kwlist\"]\n\nkwlist = [\n#--start keywords--\n        'and',\n        'as',\n        'assert',\n        'break',\n        'class',\n        'continue',\n        'def',\n        'del',\n        'elif',\n        'else',\n        'except',\n        'exec',\n        'finally',\n        'for',\n        'from',\n        'global',\n        'if',\n        'import',\n        'in',\n        'is',\n        'lambda',\n        'not',\n        'or',\n        'pass',\n        'print',\n        'raise',\n        'return',\n        'try',\n        'while',\n        'with',\n        'yield',\n#--end keywords--\n        ]\n\ndef iskeyword(wd):\n    return wd in kwlist\n\n","src/lib/__phello__.foo.py":'raise NotImplementedError("__phello__.foo is not yet implemented in Skulpt")\n',"src/lib/hashlib.py":'raise NotImplementedError("hashlib is not yet implemented in Skulpt")\n',"src/lib/imaplib.py":'raise NotImplementedError("imaplib is not yet implemented in Skulpt")\n',"src/lib/smtplib.py":'raise NotImplementedError("smtplib is not yet implemented in Skulpt")\n',"src/lib/string.py":'raise NotImplementedError("string is not yet implemented in Skulpt")\n',"src/lib/mailcap.py":'raise NotImplementedError("mailcap is not yet implemented in Skulpt")\n',"src/lib/traceback.py":'raise NotImplementedError("traceback is not yet implemented in Skulpt")\n',"src/lib/curses/__init__.py":'raise NotImplementedError("curses is not yet implemented in Skulpt")\n',"src/lib/bisect.py":'raise NotImplementedError("bisect is not yet implemented in Skulpt")\n',"src/lib/lib2to3/pgen2/__init__.py":'raise NotImplementedError("pgen2 is not yet implemented in Skulpt")\n',"src/lib/pythonds/trees/__init__.py":"\n# from .binaryTree import BinaryTree\n# from .balance import AVLTree\n# from .bst import BinarySearchTree\n# from .binheap import BinHeap\n\n\n","src/lib/pythonds/graphs/adjGraph.py":'#\n#  adjGraph\n#\n#  Created by Brad Miller on 2005-02-24.\n#  Copyright (c) 2005 Brad Miller, David Ranum, Luther College. All rights reserved.\n#\n\nimport sys\nimport os\nimport unittest\n\nclass Graph:\n    def __init__(self):\n        self.vertices = {}\n        self.numVertices = 0\n        \n    def addVertex(self,key):\n        self.numVertices = self.numVertices + 1\n        newVertex = Vertex(key)\n        self.vertices[key] = newVertex\n        return newVertex\n    \n    def getVertex(self,n):\n        if n in self.vertices:\n            return self.vertices[n]\n        else:\n            return None\n\n    def __contains__(self,n):\n        return n in self.vertices\n    \n    def addEdge(self,f,t,cost=0):\n            if f not in self.vertices:\n                nv = self.addVertex(f)\n            if t not in self.vertices:\n                nv = self.addVertex(t)\n            self.vertices[f].addNeighbor(self.vertices[t],cost)\n    \n    def getVertices(self):\n        return list(self.vertices.keys())\n        \n    def __iter__(self):\n        return iter(self.vertices.values())\n                \nclass Vertex:\n    def __init__(self,num):\n        self.id = num\n        self.connectedTo = {}\n        self.color = \'white\'\n        self.dist = sys.maxsize\n        self.pred = None\n        self.disc = 0\n        self.fin = 0\n\n    # def __lt__(self,o):\n    #     return self.id < o.id\n    \n    def addNeighbor(self,nbr,weight=0):\n        self.connectedTo[nbr] = weight\n        \n    def setColor(self,color):\n        self.color = color\n        \n    def setDistance(self,d):\n        self.dist = d\n\n    def setPred(self,p):\n        self.pred = p\n\n    def setDiscovery(self,dtime):\n        self.disc = dtime\n        \n    def setFinish(self,ftime):\n        self.fin = ftime\n        \n    def getFinish(self):\n        return self.fin\n        \n    def getDiscovery(self):\n        return self.disc\n        \n    def getPred(self):\n        return self.pred\n        \n    def getDistance(self):\n        return self.dist\n        \n    def getColor(self):\n        return self.color\n    \n    def getConnections(self):\n        return self.connectedTo.keys()\n        \n    def getWeight(self,nbr):\n        return self.connectedTo[nbr]\n                \n    def __str__(self):\n        return str(self.id) + ":color " + self.color + ":disc " + str(self.disc) + ":fin " + str(self.fin) + ":dist " + str(self.dist) + ":pred \\n\\t[" + str(self.pred)+ "]\\n"\n    \n    def getId(self):\n        return self.id\n\nclass adjGraphTests(unittest.TestCase):\n    def setUp(self):\n        self.tGraph = Graph()\n        \n    def testMakeGraph(self):\n        gFile = open("test.dat")\n        for line in gFile:\n            fVertex, tVertex = line.split(\'|\')\n            fVertex = int(fVertex)\n            tVertex = int(tVertex)\n            self.tGraph.addEdge(fVertex,tVertex)\n        for i in self.tGraph:\n            adj = i.getAdj()\n            for k in adj:\n                print(i, k)\n\n        \nif __name__ == \'__main__\':\n    unittest.main()\n              \n',"src/lib/webgl/primitives.js":"// most of this file is from 'tdl'\n\nvar $builtinmodule = function(name)\n{\n    var mod = {};\n\n\n\n    /**\n     * AttribBuffer manages a TypedArray as an array of vectors.\n     *\n     * @param {number} numComponents Number of components per\n     *     vector.\n     * @param {number|!Array.<number>} numElements Number of vectors or the data.\n     * @param {string} opt_type The type of the TypedArray to\n     *     create. Default = 'Float32Array'.\n     * @param {!Array.<number>} opt_data The data for the array.\n     */\n    var AttribBuffer = function(\n            numComponents, numElements, opt_type) {\n        opt_type = opt_type || 'Float32Array';\n        var type = window[opt_type];\n        if (numElements.length) {\n            this.buffer = new type(numElements);\n            numElements = this.buffer.length / numComponents;\n            this.cursor = numElements;\n        } else {\n            this.buffer = new type(numComponents * numElements);\n            this.cursor = 0;\n        }\n        this.numComponents = numComponents;\n        this.numElements = numElements;\n        this.type = opt_type;\n    };\n\n    AttribBuffer.prototype.stride = function() {\n        return 0;\n    };\n\n    AttribBuffer.prototype.offset = function() {\n        return 0;\n    };\n\n    AttribBuffer.prototype.getElement = function(index) {\n        var offset = index * this.numComponents;\n        var value = [];\n        for (var ii = 0; ii < this.numComponents; ++ii) {\n            value.push(this.buffer[offset + ii]);\n        }\n        return value;\n    };\n\n    AttribBuffer.prototype.setElement = function(index, value) {\n        var offset = index * this.numComponents;\n        for (var ii = 0; ii < this.numComponents; ++ii) {\n            this.buffer[offset + ii] = value[ii];\n        }\n    };\n\n    AttribBuffer.prototype.clone = function() {\n        var copy = new AttribBuffer(\n                this.numComponents, this.numElements, this.type);\n        copy.pushArray(this);\n        return copy;\n    }\n\n    AttribBuffer.prototype.push = function(value) {\n        this.setElement(this.cursor++, value);\n    };\n\n    AttribBuffer.prototype.pushArray = function(array) {\n        //  this.buffer.set(array, this.cursor * this.numComponents);\n        //  this.cursor += array.numElements;\n        for (var ii = 0; ii < array.numElements; ++ii) {\n            this.push(array.getElement(ii));\n        }\n    };\n\n    AttribBuffer.prototype.pushArrayWithOffset =\n    function(array, offset) {\n        for (var ii = 0; ii < array.numElements; ++ii) {\n            var elem = array.getElement(ii);\n            for (var jj = 0; jj < offset.length; ++jj) {\n                elem[jj] += offset[jj];\n            }\n            this.push(elem);\n        }\n    };\n\n    /**\n    * Computes the extents\n    * @param {!AttribBuffer} positions The positions\n    * @return {!{min: !tdl.math.Vector3, max:!tdl.math.Vector3}}\n    *     The min and max extents.\n    */\n    AttribBuffer.prototype.computeExtents = function() {\n        var numElements = this.numElements;\n        var numComponents = this.numComponents;\n        var minExtent = this.getElement(0);\n        var maxExtent = this.getElement(0);\n        for (var ii = 1; ii < numElements; ++ii) {\n            var element = this.getElement(ii);\n            for (var jj = 0; jj < numComponents; ++jj) {\n                minExtent[jj] = Math.min(minExtent[jj], element[jj]);\n                maxExtent[jj] = Math.max(maxExtent[jj], element[jj]);\n            }\n        }\n        return {min: minExtent, max: maxExtent};\n    };\n\n\n    /**\n     * Creates the vertices and indices for a cube. The\n     * cube will be created around the origin. (-size / 2, size / 2)\n     *\n     * @param {number} size Width, height and depth of the cube.\n     * @return {!Object.<string, !tdl.primitives.AttribBuffer>} The\n     *         created plane vertices.\n     */\n    mod.createCube = new Sk.builtin.func(function(size)\n            {\n                var CUBE_FACE_INDICES_ = [\n                    [3, 7, 5, 1],\n                    [0, 4, 6, 2],\n                    [6, 7, 3, 2],\n                    [0, 1, 5, 4],\n                    [5, 7, 6, 4],\n                    [2, 3, 1, 0]\n                ];\n\n                var k = size / 2;\n\n                var cornerVertices = [\n                        [-k, -k, -k],\n                        [+k, -k, -k],\n                        [-k, +k, -k],\n                        [+k, +k, -k],\n                        [-k, -k, +k],\n                        [+k, -k, +k],\n                        [-k, +k, +k],\n                        [+k, +k, +k]\n                    ];\n\n                var faceNormals = [\n                        [+1, +0, +0],\n                        [-1, +0, +0],\n                        [+0, +1, +0],\n                        [+0, -1, +0],\n                        [+0, +0, +1],\n                        [+0, +0, -1]\n                    ];\n\n                var uvCoords = [\n                        [0, 0],\n                        [1, 0],\n                        [1, 1],\n                        [0, 1]\n                    ];\n\n                var numVertices = 6 * 4;\n                var positions = new AttribBuffer(3, numVertices);\n                var normals = new AttribBuffer(3, numVertices);\n                var texCoords = new AttribBuffer(2, numVertices);\n                var indices = new AttribBuffer(3, 6 * 2, 'Uint16Array');\n\n                for (var f = 0; f < 6; ++f) {\n                    var faceIndices = CUBE_FACE_INDICES_[f];\n                    for (var v = 0; v < 4; ++v) {\n                        var position = cornerVertices[faceIndices[v]];\n                        var normal = faceNormals[f];\n                        var uv = uvCoords[v];\n\n                        // Each face needs all four vertices because the normals and texture\n                        // coordinates are not all the same.\n                        positions.push(position);\n                        normals.push(normal);\n                        texCoords.push(uv);\n\n                    }\n                    // Two triangles make a square face.\n                    var offset = 4 * f;\n                    indices.push([offset + 0, offset + 1, offset + 2]);\n                    indices.push([offset + 0, offset + 2, offset + 3]);\n                }\n\n                return {\n                        position: positions,\n                        normal: normals,\n                        texCoord: texCoords,\n                        indices: indices\n                };\n            });\n\n    return mod;\n};\n","src/lib/weakref.py":'raise NotImplementedError("weakref is not yet implemented in Skulpt")\n',"src/lib/wave.py":'raise NotImplementedError("wave is not yet implemented in Skulpt")\n',"src/lib/pickletools.py":'raise NotImplementedError("pickletools is not yet implemented in Skulpt")\n',"src/lib/mhlib.py":'raise NotImplementedError("mhlib is not yet implemented in Skulpt")\n',"src/lib/textwrap.py":'raise NotImplementedError("textwrap is not yet implemented in Skulpt")\n',"src/lib/SocketServer.py":'raise NotImplementedError("SocketServer is not yet implemented in Skulpt")\n',"src/lib/types.py":'"""\nThis file was modified from CPython.\nCopyright (c) 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010,\n2011, 2012, 2013, 2014, 2015 Python Software Foundation; All Rights Reserved\n"""\n"""Define names for all type symbols known in the standard interpreter.\nTypes that are part of optional modules (e.g. array) are not listed.\n"""\nimport sys\n\n# Iterators in Python aren\'t a matter of type but of protocol.  A large\n# and changing number of builtin types implement *some* flavor of\n# iterator.  Don\'t check the type!  Use hasattr to check for both\n# "__iter__" and "next" attributes instead.\n\nNoneType = type(None)\nTypeType = type\nObjectType = object\nIntType = int\nLongType = long\nFloatType = float\nBooleanType = bool\ntry:\n    ComplexType = complex\nexcept NameError:\n    pass\nStringType = str\n\n# StringTypes is already outdated.  Instead of writing "type(x) in\n# types.StringTypes", you should use "isinstance(x, basestring)".  But\n# we keep around for compatibility with Python 2.2.\ntry:\n    UnicodeType = unicode\n    StringTypes = (StringType, UnicodeType)\nexcept NameError:\n    StringTypes = (StringType,)\n\nBufferType = buffer\n\nTupleType = tuple\nListType = list\nDictType = DictionaryType = dict\n\ndef _f(): pass\nFunctionType = type(_f)\nLambdaType = type(lambda: None)         # Same as FunctionType\nCodeType = type(_f.func_code)\n\ndef _g():\n    yield 1\nGeneratorType = type(_g())\n\nclass _C:\n    def _m(self): pass\nClassType = type(_C)\nUnboundMethodType = type(_C._m)         # Same as MethodType\n_x = _C()\nInstanceType = type(_x)\nMethodType = type(_x._m)\nBuiltinFunctionType = type(len)\nBuiltinMethodType = type([].append)     # Same as BuiltinFunctionType\n\nModuleType = type(sys)\nFileType = file\nXRangeType = xrange\n\n# try:\n#     raise TypeError\n# except TypeError:\n#     tb = sys.exc_info()[2]\n#     TracebackType = type(tb)\n#     FrameType = type(tb.tb_frame)\n#     del tb\n\nSliceType = slice\n# EllipsisType = type(Ellipsis)\n\n# DictProxyType = type(TypeType.__dict__)\nNotImplementedType = type(NotImplemented)\n\n# For Jython, the following two types are identical\n# GetSetDescriptorType = type(FunctionType.func_code)\n# MemberDescriptorType = type(FunctionType.func_globals)\n\ndel sys, _f, _g, _C, _x                           # Not for export\n__all__ = list(n for n in globals() if n[:1] != \'_\')\n',"src/lib/DocXMLRPCServer.py":'raise NotImplementedError("DocXMLRPCServer is not yet implemented in Skulpt")\n',"src/lib/heapq.py":'raise NotImplementedError("heapq is not yet implemented in Skulpt")\n',"src/lib/encodings/__init__.py":'raise NotImplementedError("encodings is not yet implemented in Skulpt")\n',"src/lib/mimify.py":'raise NotImplementedError("mimify is not yet implemented in Skulpt")\n',"src/lib/tokenize.py":'raise NotImplementedError("tokenize is not yet implemented in Skulpt")\n'}}},function(e,t){!function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);throw Error("Cannot find module '"+s+"'")}l=n[s]={exports:{}},t[s][0].call(l.exports,function(e){var n=t[s][1][e];return r(n||e)},l,l.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,t,n){t={isDomPresent:!0,navigator:navigator,window:window,document:document,ajax:function(e){var t=new XMLHttpRequest;if(t.open("GET",e,!1),t.overrideMimeType&&t.overrideMimeType("text/plain"),t.setRequestHeader("If-Modified-Since","Fri, 01 Jan 1960 00:00:00 GMT"),t.send(null),200!==t.status&&0!==t.status)throw"XMLHttpRequest failed, status code "+t.status;return t.responseText}},window.Processing=e("./src/")(t)},{"./src/":27}],2:[function(e,t,n){t.exports={name:"Processing.js",version:"1.4.8",dependencies:{argv:"~0.0.2",browserify:"~2.18.1",express:"~3.3.3","node-minify":"~0.7.3",nunjucks:"~0.1.9",open:"0.0.3"},devDependencies:{grunt:"~0.4.1","grunt-cli":"~0.1.8","grunt-contrib-jshint":"~0.4.3"}}},{}],3:[function(e,t,n){t.exports=function(e){if(!(e instanceof Array)){if(e.iterator instanceof Function)return e.iterator();throw"Unable to iterate: "+e}var t=-1;this.hasNext=function(){return++t<e.length},this.next=function(){return e[t]}}},{}],4:[function(e,t,n){t.exports={X:0,Y:1,Z:2,R:3,G:4,B:5,A:6,U:7,V:8,NX:9,NY:10,NZ:11,EDGE:12,SR:13,SG:14,SB:15,SA:16,SW:17,TX:18,TY:19,TZ:20,VX:21,VY:22,VZ:23,VW:24,AR:25,AG:26,AB:27,DR:3,DG:4,DB:5,DA:6,SPR:28,SPG:29,SPB:30,SHINE:31,ER:32,EG:33,EB:34,BEEN_LIT:35,VERTEX_FIELD_COUNT:36,P2D:1,JAVA2D:1,WEBGL:2,P3D:2,OPENGL:2,PDF:0,DXF:0,OTHER:0,WINDOWS:1,MAXOSX:2,LINUX:3,EPSILON:1e-4,MAX_FLOAT:3.4028235e38,MIN_FLOAT:-3.4028235e38,MAX_INT:2147483647,MIN_INT:-2147483648,PI:Math.PI,TWO_PI:2*Math.PI,TAU:2*Math.PI,HALF_PI:Math.PI/2,THIRD_PI:Math.PI/3,QUARTER_PI:Math.PI/4,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,WHITESPACE:" \t\n\r\f ",RGB:1,ARGB:2,HSB:3,ALPHA:4,CMYK:5,TIFF:0,TARGA:1,JPEG:2,GIF:3,BLUR:11,GRAY:12,INVERT:13,OPAQUE:14,POSTERIZE:15,THRESHOLD:16,ERODE:17,DILATE:18,REPLACE:0,BLEND:1,ADD:2,SUBTRACT:4,LIGHTEST:8,DARKEST:16,DIFFERENCE:32,EXCLUSION:64,MULTIPLY:128,SCREEN:256,OVERLAY:512,HARD_LIGHT:1024,SOFT_LIGHT:2048,DODGE:4096,BURN:8192,ALPHA_MASK:4278190080,RED_MASK:16711680,GREEN_MASK:65280,BLUE_MASK:255,CUSTOM:0,ORTHOGRAPHIC:2,PERSPECTIVE:3,POINT:2,POINTS:2,LINE:4,LINES:4,TRIANGLE:8,TRIANGLES:9,TRIANGLE_STRIP:10,TRIANGLE_FAN:11,QUAD:16,QUADS:16,QUAD_STRIP:17,POLYGON:20,PATH:21,RECT:30,ELLIPSE:31,ARC:32,SPHERE:40,BOX:41,GROUP:0,PRIMITIVE:1,GEOMETRY:3,VERTEX:0,BEZIER_VERTEX:1,CURVE_VERTEX:2,BREAK:3,CLOSESHAPE:4,OPEN:1,CLOSE:2,CORNER:0,CORNERS:1,RADIUS:2,CENTER_RADIUS:2,CENTER:3,DIAMETER:3,CENTER_DIAMETER:3,BASELINE:0,TOP:101,BOTTOM:102,NORMAL:1,NORMALIZED:1,IMAGE:2,MODEL:4,SHAPE:5,SQUARE:"butt",ROUND:"round",PROJECT:"square",MITER:"miter",BEVEL:"bevel",AMBIENT:0,DIRECTIONAL:1,SPOT:3,BACKSPACE:8,TAB:9,ENTER:10,RETURN:13,ESC:27,DELETE:127,CODED:65535,SHIFT:16,CONTROL:17,ALT:18,CAPSLK:20,PGUP:33,PGDN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLK:144,META:157,INSERT:155,ARROW:"default",CROSS:"crosshair",HAND:"pointer",MOVE:"move",TEXT:"text",WAIT:"wait",NOCURSOR:"url('data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=='), auto",DISABLE_OPENGL_2X_SMOOTH:1,ENABLE_OPENGL_2X_SMOOTH:-1,ENABLE_OPENGL_4X_SMOOTH:2,ENABLE_NATIVE_FONTS:3,DISABLE_DEPTH_TEST:4,ENABLE_DEPTH_TEST:-4,ENABLE_DEPTH_SORT:5,DISABLE_DEPTH_SORT:-5,DISABLE_OPENGL_ERROR_REPORT:6,ENABLE_OPENGL_ERROR_REPORT:-6,ENABLE_ACCURATE_TEXTURES:7,DISABLE_ACCURATE_TEXTURES:-7,HINT_COUNT:10,SINCOS_LENGTH:720,PRECISIONB:15,PRECISIONF:32768,PREC_MAXVAL:32767,PREC_ALPHA_SHIFT:9,PREC_RED_SHIFT:1,NORMAL_MODE_AUTO:0,NORMAL_MODE_SHAPE:1,NORMAL_MODE_VERTEX:2,MAX_LIGHTS:8}},{}],5:[function(e,t,n){t.exports=function(e){function t(){}function n(e,t,n){if(e.hasOwnProperty(t)&&"function"==typeof e[t]){var i=e[t];if("$overloads"in i)i.$defaultOverload=n;else if("$overloads"in n||i.length!==n.length){var r;"$overloads"in n?((r=n.$overloads.slice(0))[i.length]=i,i=n.$defaultOverload):((r=[])[n.length]=n,r[i.length]=i);var o=function(){return(o.$overloads[arguments.length]||("$methodArgsIndex"in o&&arguments.length>o.$methodArgsIndex?o.$overloads[o.$methodArgsIndex]:null)||o.$defaultOverload).apply(this,arguments)};o.$overloads=r,"$methodArgsIndex"in n&&(o.$methodArgsIndex=n.$methodArgsIndex),o.$defaultOverload=i,o.name=t,e[t]=o}}else e[t]=n}function i(e,t){function i(n){r.defineProperty(e,n,{get:function(){return t[n]},set:function(e){t[n]=e},enumerable:!0})}var o,s=[];for(o in t)"function"==typeof t[o]?n(e,o,t[o]):"$"===o.charAt(0)||o in e||s.push(o);for(;0<s.length;)i(s.shift());e.$super=t}t.prototype=e.PConstants;var r=new t;return Object.keys(e).forEach(function(t){r[t]=e[t]}),r.defineProperty=function(e,t,n){"defineProperty"in Object?Object.defineProperty(e,t,n):(n.hasOwnProperty("get")&&e.__defineGetter__(t,n.get),n.hasOwnProperty("set")&&e.__defineSetter__(t,n.set))},r.extendClassChain=function(e){for(var t=[e],n=e.$upcast;n;n=n.$upcast)i(n,e),t.push(n),e=n;for(;0<t.length;)t.pop().$self=e},r.extendStaticMembers=function(e,t){i(e,t)},r.extendInterfaceMembers=function(e,t){i(e,t)},r.addMethod=function(e,t,n,i){var r=e[t];if(r||i){var o=n.length;if("$overloads"in r)r.$overloads[o]=n;else{var s=function(){return(s.$overloads[arguments.length]||("$methodArgsIndex"in s&&arguments.length>s.$methodArgsIndex?s.$overloads[s.$methodArgsIndex]:null)||s.$defaultOverload).apply(this,arguments)},a=[];r&&(a[r.length]=r),a[o]=n,s.$overloads=a,s.$defaultOverload=r||n,i&&(s.$methodArgsIndex=o),s.name=t,e[t]=s}}else e[t]=n},r.createJavaArray=function(e,t){var n=null,i=null;if("string"==typeof e)if("boolean"===e)i=!1;else{var o;(o="string"==typeof e&&-1!=="byte int char color float long double".split(" ").indexOf(e))&&(i=0)}if("number"==typeof t[0])if(o=0|t[0],1>=t.length){(n=[]).length=o;for(var s=0;s<o;++s)n[s]=i}else for(n=[],i=t.slice(1),s=0;s<o;++s)n.push(r.createJavaArray(e,i));return n},r.defineProperty(r,"screenWidth",{get:function(){return window.innerWidth}}),r.defineProperty(r,"screenHeight",{get:function(){return window.innerHeight}}),r}},{}],6:[function(e,t,n){t.exports=function(e,t){var n=t.window,i=t.document,r=n.XMLHttpRequest,o=t.noop,s=t.isDOMPresent,a=t.version;e.version=a||"@DEV-VERSION@",e.lib={},e.registerLibrary=function(t,n){e.lib[t]=n,n.hasOwnProperty("init")&&n.init(defaultScope)},e.Sketch=function(e){this.attachFunction=e,this.options={pauseOnBlur:!1,globalKeyEvents:!1},this.onExit=this.onFrameEnd=this.onFrameStart=this.onLoop=this.onPause=this.onSetup=this.onLoad=o,this.params={},this.imageCache={pending:0,images:{},operaCache:{},add:function(e,t){if(!this.images[e]&&(s||(this.images[e]=null),t||((t=new Image).onload=function(e){return function(){e.pending--}}(this),this.pending++,t.src=e),this.images[e]=t,n.opera)){var r=i.createElement("div");r.appendChild(t),r.style.position="absolute",r.style.opacity=0,r.style.width="1px",r.style.height="1px",this.operaCache[e]||(i.body.appendChild(r),this.operaCache[e]=r)}}},this.sourceCode=void 0,this.attach=function(e){if("function"==typeof this.attachFunction)this.attachFunction(e);else{if(!this.sourceCode)throw"Unable to attach sketch to the processing instance";var t=new Function("return ("+this.sourceCode+");")();t(e),this.attachFunction=t}},this.toString=function(){var e,t;for(e in t="((function(Sketch) {\nvar sketch = new Sketch(\n"+this.sourceCode+");\n",this.options)if(this.options.hasOwnProperty(e)){var n=this.options[e];t+="sketch.options."+e+" = "+("string"==typeof n?'"'+n+'"':""+n)+";\n"}for(e in this.imageCache)this.options.hasOwnProperty(e)&&(t+='sketch.imageCache.add("'+e+'");\n');return t+"return sketch;\n})(Processing.Sketch))"}};var l=e.loadSketchFromSources=function(t,o){function s(e,t){var i=new r;i.onreadystatechange=function(){var e;4===i.readyState&&(200!==i.status&&0!==i.status?e="Invalid XHR status "+i.status:""===i.responseText&&(e="withCredentials"in new r&&!1===(new r).withCredentials&&"file:"===n.location.protocol?"XMLHttpRequest failure, possibly due to a same-origin policy violation. You can try loading this page in another browser, or load it from http://localhost using a local webserver. See the Processing.js README for a more detailed explanation of this problem and solutions.":"File is empty."),t(i.responseText,e))},i.open("GET",e,!0),i.overrideMimeType&&i.overrideMimeType("application/json"),i.setRequestHeader("If-Modified-Since","Fri, 01 Jan 1960 00:00:00 GMT"),i.send(null)}function a(n,r){function o(i,o){if(l[n]=i,++p,o&&u.push(r+" ==> "+o),p===c){if(0!==u.length)throw"Processing.js: Unable to load pjs sketch files: "+u.join("\n");try{return new e(t,l.join("\n"))}catch(e){throw console.log("Processing.js: Unable to execute pjs sketch."),e}}}if("#"===r.charAt(0)){var a=i.getElementById(r.substring(1));a?o(a.text||a.textContent):o("","Unable to load pjs sketch: element with id '"+r.substring(1)+"' was not found")}else s(r,o)}for(var l=[],u=[],c=o.length,p=0,f=0;f<c;++f)a(f,o[f])},u=function(){i.removeEventListener("DOMContentLoaded",u,!1),processingInstances=[],e.instances=processingInstances;for(var t,n=0,r=(a=i.getElementsByTagName("canvas")).length;n<r;n++){var o=a[n].getAttribute("data-processing-sources");if(null===o&&(null===(o=a[n].getAttribute("data-src"))&&(o=a[n].getAttribute("datasrc"))),o){for(t=o.split(/\s+/g),o=0;o<t.length;)t[o]?o++:t.splice(o,1);l(a[n],t)}}for(r=[],n=(a=i.getElementsByTagName("script")).length-1;0<=n;n--)r.push(a[n]);for(n=0,o=r.length;n<o;n++)if((t=r[n]).getAttribute&&(a=t.getAttribute("type"))&&("text/processing"===a.toLowerCase()||"application/processing"===a.toLowerCase())){var s=t.getAttribute("data-processing-target"),a=void 0;if(s)a=i.getElementById(s);else{for(s=t.nextSibling;s&&1!==s.nodeType;)s=s.nextSibling;s&&"canvas"===s.nodeName.toLowerCase()&&(a=s)}a&&(t.getAttribute("src")?(t=t.getAttribute("src").split(/\s+/),l(a,t)):(t=t.textContent||t.text,new e(a,t)))}};return i.addEventListener("DOMContentLoaded",u,!1),e.reload=function(){if(0<processingInstances.length)for(var e=processingInstances.length-1;0<=e;e--)processingInstances[e]&&processingInstances[e].exit();u()},e.disableInit=function(){i.removeEventListener("DOMContentLoaded",u,!1)},e}},{}],7:[function(e,t,n){t.exports=function(e,t){return null===e||null===t?null===e&&null===t:"string"==typeof e||"object"!=typeof e?e===t:e.equals instanceof Function?e.equals(t):e===t}},{}],8:[function(e,t,n){t.exports=function(e,t){if("string"==typeof e){for(var n=0,i=0;i<e.length;++i)n=31*n+e.charCodeAt(i)&4294967295;return n}return"object"!=typeof e?4294967295&e:e.hashCode instanceof Function?e.hashCode():(e.$id===t&&(e.$id=Math.floor(65536*Math.random())-32768<<16|Math.floor(65536*Math.random())),e.$id)}},{}],9:[function(e,t,n){t.exports=function(e){function t(e){var t=-1;this.hasNext=function(){return t+1<e.length},this.next=function(){return e[++t]},this.remove=function(){e.splice(t--,1)}}var n=e.virtEquals;return function e(i){var r=[];i&&i.toArray&&(r=i.toArray()),this.get=function(e){return r[e]},this.contains=function(e){return-1<this.indexOf(e)},this.indexOf=function(e){for(var t=0,i=r.length;t<i;++t)if(n(e,r[t]))return t;return-1},this.lastIndexOf=function(e){for(var t=r.length-1;0<=t;--t)if(n(e,r[t]))return t;return-1},this.add=function(){if(1===arguments.length)r.push(arguments[0]);else{if(2!==arguments.length)throw"Please use the proper number of parameters.";var e=arguments[0];if("number"!=typeof e)throw typeof e+" is not a number";if(!(0<=e&&e<=r.length))throw e+" is not a valid index";r.splice(e,0,arguments[1])}},this.addAll=function(e,t){var n;if("number"==typeof e){if(0>e||e>r.length)throw"Index out of bounds for addAll: "+e+" greater or equal than "+r.length;for(n=new ObjectIterator(t);n.hasNext();)r.splice(e++,0,n.next())}else for(n=new ObjectIterator(e);n.hasNext();)r.push(n.next())},this.set=function(){if(2!==arguments.length)throw"Please use the proper number of parameters.";var e=arguments[0];if("number"!=typeof e)throw typeof e+" is not a number";if(!(0<=e&&e<r.length))throw e+" is not a valid index.";r.splice(e,1,arguments[1])},this.size=function(){return r.length},this.clear=function(){r.length=0},this.remove=function(e){return"number"==typeof e?r.splice(e,1)[0]:-1<(e=this.indexOf(e))&&(r.splice(e,1),!0)},this.removeAll=function(t){var n,i,r,o=new e;for(o.addAll(this),this.clear(),i=n=0;n<o.size();n++)r=o.get(n),t.contains(r)||this.add(i++,r);return this.size()<o.size()},this.isEmpty=function(){return!r.length},this.clone=function(){return new e(this)},this.toArray=function(){return r.slice(0)},this.iterator=function(){return new t(r)}}}},{}],10:[function(e,t,n){var i,r;t.exports=(i={},(r=function(e){return this.code="string"==typeof e&&1===e.length?e.charCodeAt(0):"number"==typeof e?e:e instanceof r?e:NaN,void 0===i[this.code]?i[this.code]=this:i[this.code]}).prototype.toString=function(){return String.fromCharCode(this.code)},r.prototype.valueOf=function(){return this.code},r)},{}],11:[function(e,t,n){t.exports=function(e){var t=e.virtHashCode,n=e.virtEquals;return function e(){function i(e){return 0>(e=t(e)%c.length)?c.length+e:e}function r(){if(!(p<=u*c.length)){for(var e=[],t=0;t<c.length;++t)void 0!==c[t]&&(e=e.concat(c[t]));for(t=2*c.length,(c=[]).length=t,t=0;t<e.length;++t){var n=i(e[t].key),r=c[n];void 0===r&&(c[n]=r=[]),r.push(e[t])}}}function o(e,t){function n(){for(;!s;)if(++o,r>=c.length)s=!0;else{if(!(void 0===c[r]||o>=c[r].length))break;o=-1,++r}}var i,r=0,o=-1,s=!1;this.hasNext=function(){return!s},this.next=function(){return i=e(c[r][o]),n(),i},this.remove=function(){void 0!==i&&(t(i),--o,n())},n()}function s(e,t,n){this.clear=function(){f.clear()},this.contains=function(e){return t(e)},this.containsAll=function(e){for(e=e.iterator();e.hasNext();)if(!this.contains(e.next()))return!1;return!0},this.isEmpty=function(){return f.isEmpty()},this.iterator=function(){return new o(e,n)},this.remove=function(e){return!!this.contains(e)&&(n(e),!0)},this.removeAll=function(e){for(e=e.iterator();e.hasNext();){var t=e.next();this.contains(t)&&n(t)}return!0},this.retainAll=function(e){for(var t=this.iterator(),i=[];t.hasNext();){var r=t.next();e.contains(r)||i.push(r)}for(e=0;e<i.length;++e)n(i[e]);return 0<i.length},this.size=function(){return f.size()},this.toArray=function(){for(var e=[],t=this.iterator();t.hasNext();)e.push(t.next());return e}}function a(e){this._isIn=function(t){return t===f&&void 0===e.removed},this.equals=function(t){return n(e.key,t.getKey())},this.getKey=function(){return e.key},this.getValue=function(){return e.value},this.hashCode=function(n){return t(e.key)},this.setValue=function(t){var n=e.value;return e.value=t,n}}if(1===arguments.length&&arguments[0]instanceof e)return arguments[0].clone();var l=0<arguments.length?arguments[0]:16,u=1<arguments.length?arguments[1]:.75,c=[];c.length=l;var p=0,f=this;this.clear=function(){p=0,(c=[]).length=l},this.clone=function(){var t=new e;return t.putAll(this),t},this.containsKey=function(e){var t=i(e);if(void 0===(t=c[t]))return!1;for(var r=0;r<t.length;++r)if(n(t[r].key,e))return!0;return!1},this.containsValue=function(e){for(var t=0;t<c.length;++t){var i=c[t];if(void 0!==i)for(var r=0;r<i.length;++r)if(n(i[r].value,e))return!0}return!1},this.entrySet=function(){return new s(function(e){return new a(e)},function(e){return e instanceof a&&e._isIn(f)},function(e){return f.remove(e.getKey())})},this.get=function(e){var t=i(e);if(void 0===(t=c[t]))return null;for(var r=0;r<t.length;++r)if(n(t[r].key,e))return t[r].value;return null},this.isEmpty=function(){return 0===p},this.keySet=function(){return new s(function(e){return e.key},function(e){return f.containsKey(e)},function(e){return f.remove(e)})},this.values=function(){return new s(function(e){return e.value},function(e){return f.containsValue(e)},function(e){return f.removeByValue(e)})},this.put=function(e,t){var o=i(e),s=c[o];if(void 0===s)return++p,c[o]=[{key:e,value:t}],r(),null;for(o=0;o<s.length;++o)if(n(s[o].key,e)){var a=s[o].value;return s[o].value=t,a}return++p,s.push({key:e,value:t}),r(),null},this.putAll=function(e){for(e=e.entrySet().iterator();e.hasNext();){var t=e.next();this.put(t.getKey(),t.getValue())}},this.remove=function(e){var t=i(e),r=c[t];if(void 0===r)return null;for(var o=0;o<r.length;++o)if(n(r[o].key,e))return--p,e=r[o].value,r[o].removed=!0,1<r.length?r.splice(o,1):c[t]=void 0,e;return null},this.removeByValue=function(e){var t,n,i;for(t in c)if(c.hasOwnProperty(t))for(n=0,i=c[t].length;n<i;n++)if(c[t][n].value===e)return c[t].splice(n,1),!0;return!1},this.size=function(){return p}}}},{}],12:[function(e,t,n){t.exports=function(e,t){function n(e,n){if(e===t&&(e=""),this.name=e,n===t&&(n=0),this.size=n,this.glyph=!1,this.descent=this.ascent=0,this.leading=1.2*n,-1!==(o=e.indexOf(" Italic Bold"))&&(e=e.substring(0,o)),this.style="normal",-1!==(o=e.indexOf(" Italic"))&&(e=e.substring(0,o),this.style="italic"),this.weight="normal",-1!==(o=e.indexOf(" Bold"))&&(e=e.substring(0,o),this.weight="bold"),this.family="sans-serif",e!==t)switch(e){case"sans-serif":case"serif":case"monospace":case"fantasy":case"cursive":this.family=e;break;default:this.family='"'+e+'", sans-serif'}var o=this.size/250;(u=i.createElement("canvas")).width=500,u.height=500,u.style.opacity=0;var s=this.getCSSDefinition("250px","normal"),a=u.getContext("2d");a.font=s,u.width=a.measureText("dbflkhyjqpg").width,a.font=s,(s=i.createElement("div")).style.position="absolute",s.style.opacity=0,s.style.fontFamily='"'+this.name+'"',s.style.fontSize="250px",s.innerHTML="dbflkhyjqpg<br/>dbflkhyjqpg",i.body.appendChild(s);var l=u.width,u=(c=u.height)/2;a.fillStyle="white",a.fillRect(0,0,l,c),a.fillStyle="black",a.fillText("dbflkhyjqpg",0,u);for(var c,p=0,f=4*l,d=(c=a.getImageData(0,0,l,c).data).length;++p<d&&255===c[p];)r();for(l=Math.round(p/f),p=d-1;0<--p&&255===c[p];)r();c=Math.round(p/f),this.ascent=o*(u-l),this.descent=o*(c-u),i.defaultView.getComputedStyle&&((u=o*(u=i.defaultView.getComputedStyle(s,null).getPropertyValue("height")).replace("px",""))>=2*this.size&&(this.leading=Math.round(u/2))),i.body.removeChild(s),o=this.caching?a:void 0,this.context2d=o,this.css=this.getCSSDefinition(),this.context2d&&(this.context2d.font=this.css)}var i=e.Browser.document,r=e.noop;return n.prototype.caching=!0,n.prototype.getCSSDefinition=function(e,n){return e===t&&(e=this.size+"px"),n===t&&(n=this.leading+"px"),[this.style,"normal",this.weight,e+"/"+n,this.family].join(" ")},n.prototype.measureTextWidth=function(e){return this.context2d.measureText(e).width},n.prototype.measureTextWidthFallback=function(e){var t=i.createElement("canvas").getContext("2d");return t.font=this.css,t.measureText(e).width},n.PFontCache={length:0},n.get=function(e,t){t=(10*t+.5|0)/10;var i=n.PFontCache,r=e+"/"+t;if(!i[r]){if(i[r]=new n(e,t),i.length++,50===i.length){for(var o in n.prototype.measureTextWidth=n.prototype.measureTextWidthFallback,n.prototype.caching=!1,i)"length"!==o&&(i[o].context2d=null);return new n(e,t)}if(400===i.length)return n.PFontCache={},n.get=n.getFallback,new n(e,t)}return i[r]},n.getFallback=function(e,t){return new n(e,t)},n.list=function(){return["sans-serif","serif","monospace","fantasy","cursive"]},n.preloading={template:{},initialized:!1,initialize:function(){var e=i.createElement("style");e.setAttribute("type","text/css"),e.innerHTML='@font-face {\n  font-family: "PjsEmptyFont";\n  src: url(\'data:application/x-font-ttf;base64,'+"#E3KAI2wAgT1MvMg7Eo3VmNtYX7ABi3CxnbHlm7Abw3kaGVhZ7ACs3OGhoZWE7A53CRobXR47AY3AGbG9jYQ7G03Bm1heH7ABC3CBuYW1l7Ae3AgcG9zd7AI3AE#B3AQ2kgTY18PPPUACwAg3ALSRoo3#yld0xg32QAB77#E777773B#E3C#I#Q77773E#Q7777777772CMAIw7AB77732B#M#Q3wAB#g3B#E#E2BB//82BB////w#B7#gAEg3E77x2B32B#E#Q#MTcBAQ32gAe#M#QQJ#E32M#QQJ#I#g32Q77#".replace(/[#237]/g,function(e){return"AAAAAAAA".substr(~~e?7-e:6)})+"')\n       format('truetype');\n}",i.head.appendChild(e),(e=i.createElement("span")).style.cssText='position: absolute; top: 0; left: 0; opacity: 0; font-family: "PjsEmptyFont", fantasy;',e.innerHTML="AAAAAAAA",i.body.appendChild(e),this.template=e,this.initialized=!0},getElementWidth:function(e){return i.defaultView.getComputedStyle(e,"").getPropertyValue("width")},timeAttempted:0,pending:function(e){this.initialized||this.initialize();for(var t,n,r=this.getElementWidth(this.template),o=0;o<this.fontList.length;o++){if(t=this.fontList[o],n=this.getElementWidth(t),4e3>this.timeAttempted&&n===r)return this.timeAttempted+=e,!0;i.body.removeChild(t),this.fontList.splice(o--,1),this.timeAttempted=0}return 0!==this.fontList.length},fontList:[],addedList:{},add:function(e){this.initialized||this.initialize();var t="object"==typeof e?e.fontFace:e;if(e="object"==typeof e?e.url:e,!this.addedList[t]){var n=i.createElement("style");n.setAttribute("type","text/css"),n.innerHTML="@font-face{\n  font-family: '"+t+"';\n  src:  url('"+e+"');\n}\n",i.head.appendChild(n),this.addedList[t]=!0,(e=i.createElement("span")).style.cssText="position: absolute; top: 0; left: 0; opacity: 0;",e.style.fontFamily='"'+t+'", "PjsEmptyFont", fantasy',e.innerHTML="AAAAAAAA",i.body.appendChild(e),this.fontList.push(e)}}},n}},{}],13:[function(e,t,n){t.exports=function(e,t){var n=e.p,i=function(){0===arguments.length?this.reset():1===arguments.length&&arguments[0]instanceof i?this.set(arguments[0].array()):6===arguments.length&&this.set(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])};return i.prototype={set:function(){if(6===arguments.length){var e=arguments;this.set([e[0],e[1],e[2],e[3],e[4],e[5]])}else 1===arguments.length&&arguments[0]instanceof i?this.elements=arguments[0].array():1===arguments.length&&arguments[0]instanceof Array&&(this.elements=arguments[0].slice())},get:function(){var e=new i;return e.set(this.elements),e},reset:function(){this.set([1,0,0,0,1,0])},array:function(){return this.elements.slice()},translate:function(e,t){this.elements[2]=e*this.elements[0]+t*this.elements[1]+this.elements[2],this.elements[5]=e*this.elements[3]+t*this.elements[4]+this.elements[5]},invTranslate:function(e,t){this.translate(-e,-t)},transpose:function(){},mult:function(e,t){var n,i;return e instanceof PVector?(n=e.x,i=e.y,t||(t=new PVector)):e instanceof Array&&(n=e[0],i=e[1],t||(t=[])),t instanceof Array?(t[0]=this.elements[0]*n+this.elements[1]*i+this.elements[2],t[1]=this.elements[3]*n+this.elements[4]*i+this.elements[5]):t instanceof PVector&&(t.x=this.elements[0]*n+this.elements[1]*i+this.elements[2],t.y=this.elements[3]*n+this.elements[4]*i+this.elements[5],t.z=0),t},multX:function(e,t){return e*this.elements[0]+t*this.elements[1]+this.elements[2]},multY:function(e,t){return e*this.elements[3]+t*this.elements[4]+this.elements[5]},skewX:function(e){this.apply(1,0,1,e,0,0)},skewY:function(e){this.apply(1,0,1,0,e,0)},shearX:function(e){this.apply(1,0,1,Math.tan(e),0,0)},shearY:function(e){this.apply(1,0,1,0,Math.tan(e),0)},determinant:function(){return this.elements[0]*this.elements[4]-this.elements[1]*this.elements[3]},invert:function(){var e=this.determinant();if(Math.abs(e)>PConstants.MIN_INT){var t=this.elements[0],n=this.elements[1],i=this.elements[2],r=this.elements[3],o=this.elements[4],s=this.elements[5];return this.elements[0]=o/e,this.elements[3]=-r/e,this.elements[1]=-n/e,this.elements[4]=t/e,this.elements[2]=(n*s-o*i)/e,this.elements[5]=(r*i-t*s)/e,!0}return!1},scale:function(e,t){e&&!t&&(t=e),e&&t&&(this.elements[0]*=e,this.elements[1]*=t,this.elements[3]*=e,this.elements[4]*=t)},invScale:function(e,t){e&&!t&&(t=e),this.scale(1/e,1/t)},apply:function(){var e;1===arguments.length&&arguments[0]instanceof i?e=arguments[0].array():6===arguments.length?e=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(e=arguments[0]);for(var t=[0,0,this.elements[2],0,0,this.elements[5]],n=0,r=0;2>r;r++)for(var o=0;3>o;o++,n++)t[n]+=this.elements[3*r+0]*e[o+0]+this.elements[3*r+1]*e[o+3];this.elements=t.slice()},preApply:function(){var e;1===arguments.length&&arguments[0]instanceof i?e=arguments[0].array():6===arguments.length?e=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(e=arguments[0]);var t=[0,0,e[2],0,0,e[5]];t[2]=e[2]+this.elements[2]*e[0]+this.elements[5]*e[1],t[5]=e[5]+this.elements[2]*e[3]+this.elements[5]*e[4],t[0]=this.elements[0]*e[0]+this.elements[3]*e[1],t[3]=this.elements[0]*e[3]+this.elements[3]*e[4],t[1]=this.elements[1]*e[0]+this.elements[4]*e[1],t[4]=this.elements[1]*e[3]+this.elements[4]*e[4],this.elements=t.slice()},rotate:function(e){var t=Math.cos(e);e=Math.sin(e);var n=this.elements[0],i=this.elements[1];this.elements[0]=t*n+e*i,this.elements[1]=-e*n+t*i,n=this.elements[3],i=this.elements[4],this.elements[3]=t*n+e*i,this.elements[4]=-e*n+t*i},rotateZ:function(e){this.rotate(e)},invRotateZ:function(e){this.rotateZ(e-Math.PI)},print:function(){var e=printMatrixHelper(this.elements);e=n.nfs(this.elements[0],e,4)+" "+n.nfs(this.elements[1],e,4)+" "+n.nfs(this.elements[2],e,4)+"\n"+n.nfs(this.elements[3],e,4)+" "+n.nfs(this.elements[4],e,4)+" "+n.nfs(this.elements[5],e,4)+"\n\n";n.println(e)}},i}},{}],14:[function(e,t,n){t.exports=function(e,t){var n=e.p,i=function(){this.reset()};return i.prototype={set:function(){16===arguments.length?this.elements=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof i?this.elements=arguments[0].array():1===arguments.length&&arguments[0]instanceof Array&&(this.elements=arguments[0].slice())},get:function(){var e=new i;return e.set(this.elements),e},reset:function(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},array:function(){return this.elements.slice()},translate:function(e,n,i){i===t&&(i=0),this.elements[3]+=e*this.elements[0]+n*this.elements[1]+i*this.elements[2],this.elements[7]+=e*this.elements[4]+n*this.elements[5]+i*this.elements[6],this.elements[11]+=e*this.elements[8]+n*this.elements[9]+i*this.elements[10],this.elements[15]+=e*this.elements[12]+n*this.elements[13]+i*this.elements[14]},transpose:function(){var e=this.elements[4];this.elements[4]=this.elements[1],this.elements[1]=e,e=this.elements[8],this.elements[8]=this.elements[2],this.elements[2]=e,e=this.elements[6],this.elements[6]=this.elements[9],this.elements[9]=e,e=this.elements[3],this.elements[3]=this.elements[12],this.elements[12]=e,e=this.elements[7],this.elements[7]=this.elements[13],this.elements[13]=e,e=this.elements[11],this.elements[11]=this.elements[14],this.elements[14]=e},mult:function(e,t){var n,i,r,o;return e instanceof PVector?(n=e.x,i=e.y,r=e.z,o=1,t||(t=new PVector)):e instanceof Array&&(n=e[0],i=e[1],r=e[2],o=e[3]||1,!t||3!==t.length&&4!==t.length)&&(t=[0,0,0]),t instanceof Array&&(3===t.length?(t[0]=this.elements[0]*n+this.elements[1]*i+this.elements[2]*r+this.elements[3],t[1]=this.elements[4]*n+this.elements[5]*i+this.elements[6]*r+this.elements[7],t[2]=this.elements[8]*n+this.elements[9]*i+this.elements[10]*r+this.elements[11]):4===t.length&&(t[0]=this.elements[0]*n+this.elements[1]*i+this.elements[2]*r+this.elements[3]*o,t[1]=this.elements[4]*n+this.elements[5]*i+this.elements[6]*r+this.elements[7]*o,t[2]=this.elements[8]*n+this.elements[9]*i+this.elements[10]*r+this.elements[11]*o,t[3]=this.elements[12]*n+this.elements[13]*i+this.elements[14]*r+this.elements[15]*o)),t instanceof PVector&&(t.x=this.elements[0]*n+this.elements[1]*i+this.elements[2]*r+this.elements[3],t.y=this.elements[4]*n+this.elements[5]*i+this.elements[6]*r+this.elements[7],t.z=this.elements[8]*n+this.elements[9]*i+this.elements[10]*r+this.elements[11]),t},preApply:function(){var e;1===arguments.length&&arguments[0]instanceof i?e=arguments[0].array():16===arguments.length?e=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(e=arguments[0]);for(var t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0,r=0;4>r;r++)for(var o=0;4>o;o++,n++)t[n]+=this.elements[o+0]*e[4*r+0]+this.elements[o+4]*e[4*r+1]+this.elements[o+8]*e[4*r+2]+this.elements[o+12]*e[4*r+3];this.elements=t.slice()},apply:function(){var e;1===arguments.length&&arguments[0]instanceof i?e=arguments[0].array():16===arguments.length?e=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(e=arguments[0]);for(var t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0,r=0;4>r;r++)for(var o=0;4>o;o++,n++)t[n]+=this.elements[4*r+0]*e[o+0]+this.elements[4*r+1]*e[o+4]+this.elements[4*r+2]*e[o+8]+this.elements[4*r+3]*e[o+12];this.elements=t.slice()},rotate:function(e,t,n,i){if(n){var r=Math.cos(e);e=Math.sin(e);var o=1-r;this.apply(o*t*t+r,o*t*n-e*i,o*t*i+e*n,0,o*t*n+e*i,o*n*n+r,o*n*i-e*t,0,o*t*i-e*n,o*n*i+e*t,o*i*i+r,0,0,0,0,1)}else this.rotateZ(e)},invApply:function(){inverseCopy===t&&(inverseCopy=new i);var e=arguments;return inverseCopy.set(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]),!!inverseCopy.invert()&&(this.preApply(inverseCopy),!0)},rotateX:function(e){var t=Math.cos(e);e=Math.sin(e),this.apply([1,0,0,0,0,t,-e,0,0,e,t,0,0,0,0,1])},rotateY:function(e){var t=Math.cos(e);e=Math.sin(e),this.apply([t,0,e,0,0,1,0,0,-e,0,t,0,0,0,0,1])},rotateZ:function(e){var t=Math.cos(e);e=Math.sin(e),this.apply([t,-e,0,0,e,t,0,0,0,0,1,0,0,0,0,1])},scale:function(e,t,n){!e||t||n?e&&t&&!n&&(n=1):t=n=e,e&&t&&n&&(this.elements[0]*=e,this.elements[1]*=t,this.elements[2]*=n,this.elements[4]*=e,this.elements[5]*=t,this.elements[6]*=n,this.elements[8]*=e,this.elements[9]*=t,this.elements[10]*=n,this.elements[12]*=e,this.elements[13]*=t,this.elements[14]*=n)},skewX:function(e){e=Math.tan(e),this.apply(1,e,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},skewY:function(e){e=Math.tan(e),this.apply(1,0,0,0,e,1,0,0,0,0,1,0,0,0,0,1)},shearX:function(e){e=Math.tan(e),this.apply(1,e,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},shearY:function(e){e=Math.tan(e),this.apply(1,0,0,0,e,1,0,0,0,0,1,0,0,0,0,1)},multX:function(e,t,n,i){return n?i?this.elements[0]*e+this.elements[1]*t+this.elements[2]*n+this.elements[3]*i:this.elements[0]*e+this.elements[1]*t+this.elements[2]*n+this.elements[3]:this.elements[0]*e+this.elements[1]*t+this.elements[3]},multY:function(e,t,n,i){return n?i?this.elements[4]*e+this.elements[5]*t+this.elements[6]*n+this.elements[7]*i:this.elements[4]*e+this.elements[5]*t+this.elements[6]*n+this.elements[7]:this.elements[4]*e+this.elements[5]*t+this.elements[7]},multZ:function(e,t,n,i){return i?this.elements[8]*e+this.elements[9]*t+this.elements[10]*n+this.elements[11]*i:this.elements[8]*e+this.elements[9]*t+this.elements[10]*n+this.elements[11]},multW:function(e,t,n,i){return i?this.elements[12]*e+this.elements[13]*t+this.elements[14]*n+this.elements[15]*i:this.elements[12]*e+this.elements[13]*t+this.elements[14]*n+this.elements[15]},invert:function(){var e=this.elements[0]*this.elements[5]-this.elements[1]*this.elements[4],t=this.elements[0]*this.elements[6]-this.elements[2]*this.elements[4],n=this.elements[0]*this.elements[7]-this.elements[3]*this.elements[4],i=this.elements[1]*this.elements[6]-this.elements[2]*this.elements[5],r=this.elements[1]*this.elements[7]-this.elements[3]*this.elements[5],o=this.elements[2]*this.elements[7]-this.elements[3]*this.elements[6],s=this.elements[8]*this.elements[13]-this.elements[9]*this.elements[12],a=this.elements[8]*this.elements[14]-this.elements[10]*this.elements[12],l=this.elements[8]*this.elements[15]-this.elements[11]*this.elements[12],u=this.elements[9]*this.elements[14]-this.elements[10]*this.elements[13],c=this.elements[9]*this.elements[15]-this.elements[11]*this.elements[13],p=this.elements[10]*this.elements[15]-this.elements[11]*this.elements[14],f=e*p-t*c+n*u+i*l-r*a+o*s;if(1e-9>=Math.abs(f))return!1;var d=[];return d[0]=+this.elements[5]*p-this.elements[6]*c+this.elements[7]*u,d[4]=-this.elements[4]*p+this.elements[6]*l-this.elements[7]*a,d[8]=+this.elements[4]*c-this.elements[5]*l+this.elements[7]*s,d[12]=-this.elements[4]*u+this.elements[5]*a-this.elements[6]*s,d[1]=-this.elements[1]*p+this.elements[2]*c-this.elements[3]*u,d[5]=+this.elements[0]*p-this.elements[2]*l+this.elements[3]*a,d[9]=-this.elements[0]*c+this.elements[1]*l-this.elements[3]*s,d[13]=+this.elements[0]*u-this.elements[1]*a+this.elements[2]*s,d[2]=+this.elements[13]*o-this.elements[14]*r+this.elements[15]*i,d[6]=-this.elements[12]*o+this.elements[14]*n-this.elements[15]*t,d[10]=+this.elements[12]*r-this.elements[13]*n+this.elements[15]*e,d[14]=-this.elements[12]*i+this.elements[13]*t-this.elements[14]*e,d[3]=-this.elements[9]*o+this.elements[10]*r-this.elements[11]*i,d[7]=+this.elements[8]*o-this.elements[10]*n+this.elements[11]*t,d[11]=-this.elements[8]*r+this.elements[9]*n-this.elements[11]*e,d[15]=+this.elements[8]*i-this.elements[9]*t+this.elements[10]*e,e=1/f,d[0]*=e,d[1]*=e,d[2]*=e,d[3]*=e,d[4]*=e,d[5]*=e,d[6]*=e,d[7]*=e,d[8]*=e,d[9]*=e,d[10]*=e,d[11]*=e,d[12]*=e,d[13]*=e,d[14]*=e,d[15]*=e,this.elements=d.slice(),!0},toString:function(){for(var e="",t=0;15>t;t++)e+=this.elements[t]+", ";return e+this.elements[15]},print:function(){var e=printMatrixHelper(this.elements);e=n.nfs(this.elements[0],e,4)+" "+n.nfs(this.elements[1],e,4)+" "+n.nfs(this.elements[2],e,4)+" "+n.nfs(this.elements[3],e,4)+"\n"+n.nfs(this.elements[4],e,4)+" "+n.nfs(this.elements[5],e,4)+" "+n.nfs(this.elements[6],e,4)+" "+n.nfs(this.elements[7],e,4)+"\n"+n.nfs(this.elements[8],e,4)+" "+n.nfs(this.elements[9],e,4)+" "+n.nfs(this.elements[10],e,4)+" "+n.nfs(this.elements[11],e,4)+"\n"+n.nfs(this.elements[12],e,4)+" "+n.nfs(this.elements[13],e,4)+" "+n.nfs(this.elements[14],e,4)+" "+n.nfs(this.elements[15],e,4)+"\n\n";n.println(e)},invTranslate:function(e,t,n){this.preApply(1,0,0,-e,0,1,0,-t,0,0,1,-n,0,0,0,1)},invRotateX:function(e){var t=Math.cos(-e);e=Math.sin(-e),this.preApply([1,0,0,0,0,t,-e,0,0,e,t,0,0,0,0,1])},invRotateY:function(e){var t=Math.cos(-e);e=Math.sin(-e),this.preApply([t,0,e,0,0,1,0,0,-e,0,t,0,0,0,0,1])},invRotateZ:function(e){var t=Math.cos(-e);e=Math.sin(-e),this.preApply([t,-e,0,0,e,t,0,0,0,0,1,0,0,0,0,1])},invScale:function(e,t,n){this.preApply([1/e,0,0,0,0,1/t,0,0,0,0,1/n,0,0,0,0,1])}},i}},{}],15:[function(e,t,n){t.exports=function(e){var t=e.PConstants,n=e.PMatrix2D,i=e.PMatrix3D;return(e=function(e){this.family=e||t.GROUP,this.style=this.visible=!0,this.children=[],this.nameTable=[],this.params=[],this.name="",this.parent=this.height=this.width=this.close=this.kind=this.matrix=this.image=null}).prototype={isVisible:function(){return this.visible},setVisible:function(e){this.visible=e},disableStyle:function(){this.style=!1;for(var e=0,t=this.children.length;e<t;e++)this.children[e].disableStyle()},enableStyle:function(){this.style=!0;for(var e=0,t=this.children.length;e<t;e++)this.children[e].enableStyle()},getFamily:function(){return this.family},getWidth:function(){return this.width},getHeight:function(){return this.height},setName:function(e){this.name=e},getName:function(){return this.name},draw:function(e){if(!e)throw"render context missing for draw() in PShape";this.visible&&(this.pre(e),this.drawImpl(e),this.post(e))},drawImpl:function(e){this.family===t.GROUP?this.drawGroup(e):this.family===t.PRIMITIVE?this.drawPrimitive(e):this.family===t.GEOMETRY?this.drawGeometry(e):this.family===t.PATH&&this.drawPath(e)},drawPath:function(e){var n,i;if(0!==this.vertices.length){if(e.beginShape(),0===this.vertexCodes.length)if(2===this.vertices[0].length)for(n=0,i=this.vertices.length;n<i;n++)e.vertex(this.vertices[n][0],this.vertices[n][1]);else for(n=0,i=this.vertices.length;n<i;n++)e.vertex(this.vertices[n][0],this.vertices[n][1],this.vertices[n][2]);else{var r=0;if(2===this.vertices[0].length)for(n=0,i=this.vertexCodes.length;n<i;n++)this.vertexCodes[n]===t.VERTEX?(e.vertex(this.vertices[r][0],this.vertices[r][1],this.vertices[r].moveTo),e.breakShape=!1,r++):this.vertexCodes[n]===t.BEZIER_VERTEX?(e.bezierVertex(this.vertices[r+0][0],this.vertices[r+0][1],this.vertices[r+1][0],this.vertices[r+1][1],this.vertices[r+2][0],this.vertices[r+2][1]),r+=3):this.vertexCodes[n]===t.CURVE_VERTEX?(e.curveVertex(this.vertices[r][0],this.vertices[r][1]),r++):this.vertexCodes[n]===t.BREAK&&(e.breakShape=!0);else for(n=0,i=this.vertexCodes.length;n<i;n++)this.vertexCodes[n]===t.VERTEX?(e.vertex(this.vertices[r][0],this.vertices[r][1],this.vertices[r][2]),!0===this.vertices[r].moveTo?vertArray[vertArray.length-1].moveTo=!0:!1===this.vertices[r].moveTo&&(vertArray[vertArray.length-1].moveTo=!1),e.breakShape=!1):this.vertexCodes[n]===t.BEZIER_VERTEX?(e.bezierVertex(this.vertices[r+0][0],this.vertices[r+0][1],this.vertices[r+0][2],this.vertices[r+1][0],this.vertices[r+1][1],this.vertices[r+1][2],this.vertices[r+2][0],this.vertices[r+2][1],this.vertices[r+2][2]),r+=3):this.vertexCodes[n]===t.CURVE_VERTEX?(e.curveVertex(this.vertices[r][0],this.vertices[r][1],this.vertices[r][2]),r++):this.vertexCodes[n]===t.BREAK&&(e.breakShape=!0)}e.endShape(this.close?t.CLOSE:t.OPEN)}},drawGeometry:function(e){var t,n;if(e.beginShape(this.kind),this.style)for(t=0,n=this.vertices.length;t<n;t++)e.vertex(this.vertices[t]);else for(t=0,n=this.vertices.length;t<n;t++){var i=this.vertices[t];0===i[2]?e.vertex(i[0],i[1]):e.vertex(i[0],i[1],i[2])}e.endShape()},drawGroup:function(e){for(var t=0,n=this.children.length;t<n;t++)this.children[t].draw(e)},drawPrimitive:function(e){if(this.kind===t.POINT)e.point(this.params[0],this.params[1]);else if(this.kind===t.LINE)4===this.params.length?e.line(this.params[0],this.params[1],this.params[2],this.params[3]):e.line(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5]);else if(this.kind===t.TRIANGLE)e.triangle(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5]);else if(this.kind===t.QUAD)e.quad(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5],this.params[6],this.params[7]);else if(this.kind===t.RECT)if(null!==this.image){var n=imageModeConvert;e.imageMode(t.CORNER),e.image(this.image,this.params[0],this.params[1],this.params[2],this.params[3]),imageModeConvert=n}else n=e.curRectMode,e.rectMode(t.CORNER),e.rect(this.params[0],this.params[1],this.params[2],this.params[3]),e.curRectMode=n;else this.kind===t.ELLIPSE?(n=e.curEllipseMode,e.ellipseMode(t.CORNER),e.ellipse(this.params[0],this.params[1],this.params[2],this.params[3]),e.curEllipseMode=n):this.kind===t.ARC?(n=curEllipseMode,e.ellipseMode(t.CORNER),e.arc(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5]),curEllipseMode=n):this.kind===t.BOX?1===this.params.length?e.box(this.params[0]):e.box(this.params[0],this.params[1],this.params[2]):this.kind===t.SPHERE&&e.sphere(this.params[0])},pre:function(e){this.matrix&&(e.pushMatrix(),e.transform(this.matrix)),this.style&&(e.pushStyle(),this.styles(e))},post:function(e){this.matrix&&e.popMatrix(),this.style&&e.popStyle()},styles:function(e){this.stroke?(e.stroke(this.strokeColor),e.strokeWeight(this.strokeWeight),e.strokeCap(this.strokeCap),e.strokeJoin(this.strokeJoin)):e.noStroke(),this.fill?e.fill(this.fillColor):e.noFill()},getChild:function(e){var t,n,i;if("number"==typeof e)return this.children[e];if(""===e||this.name===e)return this;if(0<this.nameTable.length){for(t=0,n=this.nameTable.length;t<n||i;t++)if(this.nameTable[t].getName===e){i=this.nameTable[t];break}if(i)return i}for(t=0,n=this.children.length;t<n;t++)if(i=this.children[t].getChild(e))return i;return null},getChildCount:function(){return this.children.length},addChild:function(e){this.children.push(e),e.parent=this,null!==e.getName()&&this.addName(e.getName(),e)},addName:function(e,t){null!==this.parent?this.parent.addName(e,t):this.nameTable.push([e,t])},translate:function(){2===arguments.length?(this.checkMatrix(2),this.matrix.translate(arguments[0],arguments[1])):(this.checkMatrix(3),this.matrix.translate(arguments[0],arguments[1],0))},checkMatrix:function(e){null===this.matrix?this.matrix=2===e?new n:new i:3===e&&this.matrix instanceof n&&(this.matrix=new i)},rotateX:function(e){this.rotate(e,1,0,0)},rotateY:function(e){this.rotate(e,0,1,0)},rotateZ:function(e){this.rotate(e,0,0,1)},rotate:function(){1===arguments.length?(this.checkMatrix(2),this.matrix.rotate(arguments[0])):(this.checkMatrix(3),this.matrix.rotate(arguments[0],arguments[1],arguments[2],arguments[3]))},scale:function(){2===arguments.length?(this.checkMatrix(2),this.matrix.scale(arguments[0],arguments[1])):3===arguments.length?(this.checkMatrix(2),this.matrix.scale(arguments[0],arguments[1],arguments[2])):(this.checkMatrix(2),this.matrix.scale(arguments[0]))},resetMatrix:function(){this.checkMatrix(2),this.matrix.reset()},applyMatrix:function(e){1===arguments.length?this.applyMatrix(e.elements[0],e.elements[1],0,e.elements[2],e.elements[3],e.elements[4],0,e.elements[5],0,0,1,0,0,0,0,1):6===arguments.length?(this.checkMatrix(2),this.matrix.apply(arguments[0],arguments[1],arguments[2],0,arguments[3],arguments[4],arguments[5],0,0,0,1,0,0,0,0,1)):16===arguments.length&&(this.checkMatrix(3),this.matrix.apply(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]))}},e}},{}],16:[function(e,t,n){t.exports=function(e){var t=e.CommonFunctions,n=e.PConstants,i=e.PShape,r=e.XMLElement,o=e.colors,s=function(){if(i.call(this),1===arguments.length){if(this.element=arguments[0],this.vertexCodes=[],this.vertices=[],this.opacity=1,this.stroke=!1,this.strokeColor=n.ALPHA_MASK,this.strokeWeight=1,this.strokeCap=n.SQUARE,this.strokeJoin=n.MITER,this.strokeName=this.strokeGradientPaint=this.strokeGradient=null,this.strokeOpacity=1,this.fill=!0,this.fillColor=n.ALPHA_MASK,this.fillName=this.fillGradientPaint=this.fillGradient=null,this.fillOpacity=1,"svg"!==this.element.getName())throw"root is not <svg>, it's <"+this.element.getName()+">"}else 2===arguments.length&&("string"==typeof arguments[1]?-1<arguments[1].indexOf(".svg")&&(this.element=new r(!0,arguments[1]),this.vertexCodes=[],this.vertices=[],this.opacity=1,this.stroke=!1,this.strokeColor=n.ALPHA_MASK,this.strokeWeight=1,this.strokeCap=n.SQUARE,this.strokeJoin=n.MITER,this.strokeName=this.strokeGradientPaint=this.strokeGradient="",this.strokeOpacity=1,this.fill=!0,this.fillColor=n.ALPHA_MASK,this.fillGradientPaint=this.fillGradient=null,this.fillOpacity=1):arguments[0]&&(this.element=arguments[1],this.vertexCodes=arguments[0].vertexCodes.slice(),this.vertices=arguments[0].vertices.slice(),this.stroke=arguments[0].stroke,this.strokeColor=arguments[0].strokeColor,this.strokeWeight=arguments[0].strokeWeight,this.strokeCap=arguments[0].strokeCap,this.strokeJoin=arguments[0].strokeJoin,this.strokeGradient=arguments[0].strokeGradient,this.strokeGradientPaint=arguments[0].strokeGradientPaint,this.strokeName=arguments[0].strokeName,this.fill=arguments[0].fill,this.fillColor=arguments[0].fillColor,this.fillGradient=arguments[0].fillGradient,this.fillGradientPaint=arguments[0].fillGradientPaint,this.fillName=arguments[0].fillName,this.strokeOpacity=arguments[0].strokeOpacity,this.fillOpacity=arguments[0].fillOpacity,this.opacity=arguments[0].opacity));this.name=this.element.getStringAttribute("id"),this.visible="none"!==this.element.getStringAttribute("display","inline"),(e=this.element.getAttribute("transform"))&&(this.matrix=this.parseMatrix(e)),null!==(e=this.element.getStringAttribute("viewBox"))&&(e=e.split(" "),this.width=e[2],this.height=e[3]);var e=this.element.getStringAttribute("width"),t=this.element.getStringAttribute("height");if(null!==e)this.width=this.parseUnitSize(e),this.height=this.parseUnitSize(t);else if(0===this.width||0===this.height)throw this.height=this.width=1,"The width and/or height is not readable in the <svg> tag of this file.";this.parseColors(this.element),this.parseChildren(this.element)};return(s.prototype=new i).parseMatrix=function(){function e(e){var t=[];return e.replace(/\((.*?)\)/,function(e,n){t=n.replace(/,+/g," ").split(/\s+/)}),t}return function(n){this.checkMatrix(2);var i=[];if(n.replace(/\s*(\w+)\((.*?)\)/g,function(e){i.push(t.trim(e))}),0===i.length)return null;n=0;for(var r=i.length;n<r;n++){var o=e(i[n]);if(-1!==i[n].indexOf("matrix"))this.matrix.set(o[0],o[2],o[4],o[1],o[3],o[5]);else if(-1!==i[n].indexOf("translate"))this.matrix.translate(o[0],2===o.length?o[1]:0);else if(-1!==i[n].indexOf("scale"))this.matrix.scale(o[0],2===o.length?o[1]:o[0]);else if(-1!==i[n].indexOf("rotate")){var s=o[0];1===o.length?this.matrix.rotate(t.radians(s)):3===o.length&&(this.matrix.translate(o[1],o[2]),this.matrix.rotate(t.radians(o[0])),this.matrix.translate(-o[1],-o[2]))}else-1!==i[n].indexOf("skewX")?this.matrix.skewX(parseFloat(o[0])):-1!==i[n].indexOf("skewY")?this.matrix.skewY(o[0]):-1!==i[n].indexOf("shearX")?this.matrix.shearX(o[0]):-1!==i[n].indexOf("shearY")&&this.matrix.shearY(o[0])}return this.matrix}}(),s.prototype.parseChildren=function(e){e=e.getChildren();var t,n,r=new i;for(t=0,n=e.length;t<n;t++){var o=this.parseChild(e[t]);o&&r.addChild(o)}for(t=0,n=r.children.length;t<n;t++)this.children.push(r.children[t])},s.prototype.getName=function(){return this.name},s.prototype.parseChild=function(e){var t,n=e.getName();return"g"===n?t=new s(this,e):"defs"===n?t=new s(this,e):"line"===n?(t=new s(this,e)).parseLine():"circle"===n?(t=new s(this,e)).parseEllipse(!0):"ellipse"===n?(t=new s(this,e)).parseEllipse(!1):"rect"===n?(t=new s(this,e)).parseRect():"polygon"===n?(t=new s(this,e)).parsePoly(!0):"polyline"===n?(t=new s(this,e)).parsePoly(!1):"path"===n?(t=new s(this,e)).parsePath():"radialGradient"===n?unimplemented("PShapeSVG.prototype.parseChild, name = radialGradient"):"linearGradient"===n?unimplemented("PShapeSVG.prototype.parseChild, name = linearGradient"):"text"===n?unimplemented("PShapeSVG.prototype.parseChild, name = text"):"filter"===n?unimplemented("PShapeSVG.prototype.parseChild, name = filter"):"mask"===n&&unimplemented("PShapeSVG.prototype.parseChild, name = mask"),t},s.prototype.parsePath=function(){if(this.family=n.PATH,this.kind=0,null!==(o=t.trim(this.element.getStringAttribute("d").replace(/[\s,]+/g," "))))for(var e,i,r,o=o.split(""),s=0,a=0,l=0,u=0,c=u=l=0,p=0,f=0,d=0,h=d=u=f=l=0,m=0,g="",b=[],y=!1;h<o.length;)if(65<=(m=o[h].charCodeAt(0))&&90>=m||97<=m&&122>=m){if(r=h,++h<o.length)for(b=[],m=o[h].charCodeAt(0);!(65<=m&&90>=m||97<=m&&100>=m||102<=m&&122>=m)&&!1===y;)32===m?""!==g&&(b.push(parseFloat(g)),g=""):45===m?101===o[h-1].charCodeAt(0)?g+=o[h].toString():(""!==g&&b.push(parseFloat(g)),g=o[h].toString()):g+=o[h].toString(),++h===o.length?y=!0:m=o[h].charCodeAt(0);if(""!==g&&(b.push(parseFloat(g)),g=""),77===(m=(i=o[r]).charCodeAt(0))){if(2<=b.length&&0==b.length%2&&(s=b[0],a=b[1],this.parsePathMoveto(s,a),2<b.length))for(r=2,m=b.length;r<m;r+=2)s=b[r],a=b[r+1],this.parsePathLineto(s,a)}else if(109===m){if(2<=b.length&&0==b.length%2&&(s+=b[0],a+=b[1],this.parsePathMoveto(s,a),2<b.length))for(r=2,m=b.length;r<m;r+=2)s+=b[r],a+=b[r+1],this.parsePathLineto(s,a)}else if(76===m){if(2<=b.length&&0==b.length%2)for(r=0,m=b.length;r<m;r+=2)s=b[r],a=b[r+1],this.parsePathLineto(s,a)}else if(108===m){if(2<=b.length&&0==b.length%2)for(r=0,m=b.length;r<m;r+=2)s+=b[r],a+=b[r+1],this.parsePathLineto(s,a)}else if(72===m)for(r=0,m=b.length;r<m;r++)s=b[r],this.parsePathLineto(s,a);else if(104===m)for(r=0,m=b.length;r<m;r++)s+=b[r],this.parsePathLineto(s,a);else if(86===m)for(r=0,m=b.length;r<m;r++)a=b[r],this.parsePathLineto(s,a);else if(118===m)for(r=0,m=b.length;r<m;r++)a+=b[r],this.parsePathLineto(s,a);else if(67===m){if(6<=b.length&&0==b.length%6)for(r=0,m=b.length;r<m;r+=6)l=b[r],c=b[r+1],u=b[r+2],p=b[r+3],f=b[r+4],d=b[r+5],this.parsePathCurveto(l,c,u,p,f,d),s=f,a=d}else if(99===m){if(6<=b.length&&0==b.length%6)for(r=0,m=b.length;r<m;r+=6)l=s+b[r],c=a+b[r+1],u=s+b[r+2],p=a+b[r+3],f=s+b[r+4],d=a+b[r+5],this.parsePathCurveto(l,c,u,p,f,d),s=f,a=d}else if(83===m){if(4<=b.length&&0==b.length%4)for(r=0,m=b.length;r<m;r+=4)"c"===e.toLowerCase()||"s"===e.toLowerCase()?(l=this.vertices[this.vertices.length-2][0],f=this.vertices[this.vertices.length-2][1],l=(u=this.vertices[this.vertices.length-1][0])+(u-l),c=(d=this.vertices[this.vertices.length-1][1])+(d-f)):(l=this.vertices[this.vertices.length-1][0],c=this.vertices[this.vertices.length-1][1]),u=b[r],p=b[r+1],f=b[r+2],d=b[r+3],this.parsePathCurveto(l,c,u,p,f,d),s=f,a=d}else if(115===m){if(4<=b.length&&0==b.length%4)for(r=0,m=b.length;r<m;r+=4)"c"===e.toLowerCase()||"s"===e.toLowerCase()?(l=this.vertices[this.vertices.length-2][0],f=this.vertices[this.vertices.length-2][1],l=(u=this.vertices[this.vertices.length-1][0])+(u-l),c=(d=this.vertices[this.vertices.length-1][1])+(d-f)):(l=this.vertices[this.vertices.length-1][0],c=this.vertices[this.vertices.length-1][1]),u=s+b[r],p=a+b[r+1],f=s+b[r+2],d=a+b[r+3],this.parsePathCurveto(l,c,u,p,f,d),s=f,a=d}else if(81===m){if(4<=b.length&&0==b.length%4)for(r=0,m=b.length;r<m;r+=4)l=b[r],u=b[r+1],f=b[r+2],d=b[r+3],this.parsePathQuadto(s,a,l,u,f,d),s=f,a=d}else if(113===m){if(4<=b.length&&0==b.length%4)for(r=0,m=b.length;r<m;r+=4)l=s+b[r],u=a+b[r+1],f=s+b[r+2],d=a+b[r+3],this.parsePathQuadto(s,a,l,u,f,d),s=f,a=d}else if(84===m){if(2<=b.length&&0==b.length%2)for(r=0,m=b.length;r<m;r+=2)"q"===e.toLowerCase()||"t"===e.toLowerCase()?(l=this.vertices[this.vertices.length-2][0],f=this.vertices[this.vertices.length-2][1],l=(u=this.vertices[this.vertices.length-1][0])+(u-l),u=(d=this.vertices[this.vertices.length-1][1])+(d-f)):(l=s,u=a),f=b[r],d=b[r+1],this.parsePathQuadto(s,a,l,u,f,d),s=f,a=d}else if(116===m){if(2<=b.length&&0==b.length%2)for(r=0,m=b.length;r<m;r+=2)"q"===e.toLowerCase()||"t"===e.toLowerCase()?(l=this.vertices[this.vertices.length-2][0],f=this.vertices[this.vertices.length-2][1],l=(u=this.vertices[this.vertices.length-1][0])+(u-l),u=(d=this.vertices[this.vertices.length-1][1])+(d-f)):(l=s,u=a),f=s+b[r],d=a+b[r+1],this.parsePathQuadto(s,a,l,u,f,d),s=f,a=d}else 90!==m&&122!==m||(this.close=!0);e=i.toString()}else h++},s.prototype.parsePathQuadto=function(e,t,i,r,o,s){if(!(0<this.vertices.length))throw"Path must start with M/m";this.parsePathCode(n.BEZIER_VERTEX),this.parsePathVertex(e+2*(i-e)/3,t+2*(r-t)/3),this.parsePathVertex(o+2*(i-o)/3,s+2*(r-s)/3),this.parsePathVertex(o,s)},s.prototype.parsePathCurveto=function(e,t,i,r,o,s){if(!(0<this.vertices.length))throw"Path must start with M/m";this.parsePathCode(n.BEZIER_VERTEX),this.parsePathVertex(e,t),this.parsePathVertex(i,r),this.parsePathVertex(o,s)},s.prototype.parsePathLineto=function(e,t){if(!(0<this.vertices.length))throw"Path must start with M/m";this.parsePathCode(n.VERTEX),this.parsePathVertex(e,t),this.vertices[this.vertices.length-1].moveTo=!1},s.prototype.parsePathMoveto=function(e,t){0<this.vertices.length&&this.parsePathCode(n.BREAK),this.parsePathCode(n.VERTEX),this.parsePathVertex(e,t),this.vertices[this.vertices.length-1].moveTo=!0},s.prototype.parsePathVertex=function(e,t){var n=[];n[0]=e,n[1]=t,this.vertices.push(n)},s.prototype.parsePathCode=function(e){this.vertexCodes.push(e)},s.prototype.parsePoly=function(e){if(this.family=n.PATH,this.close=e,null!==(e=t.trim(this.element.getStringAttribute("points").replace(/[,\s]+/g," ")))){if(0!=(e=e.split(" ")).length%2)throw"Error parsing polygon points: odd number of coordinates provided";for(var i=0,r=e.length;i<r;i++){var o=[];o[0]=e[i],o[1]=e[++i],this.vertices.push(o)}}},s.prototype.parseRect=function(){if(this.kind=n.RECT,this.family=n.PRIMITIVE,this.params=[],this.params[0]=this.element.getFloatAttribute("x"),this.params[1]=this.element.getFloatAttribute("y"),this.params[2]=this.element.getFloatAttribute("width"),this.params[3]=this.element.getFloatAttribute("height"),0>this.params[2]||0>this.params[3])throw"svg error: negative width or height found while parsing <rect>"},s.prototype.parseEllipse=function(e){var t;if(this.kind=n.ELLIPSE,this.family=n.PRIMITIVE,this.params=[],this.params[0]=0|this.element.getFloatAttribute("cx"),this.params[1]=0|this.element.getFloatAttribute("cy"),e){if(0>(e=t=this.element.getFloatAttribute("r")))throw"svg error: negative radius found while parsing <circle>"}else if(e=this.element.getFloatAttribute("rx"),t=this.element.getFloatAttribute("ry"),0>e||0>t)throw"svg error: negative x-axis radius or y-axis radius found while parsing <ellipse>";this.params[0]-=e,this.params[1]-=t,this.params[2]=2*e,this.params[3]=2*t},s.prototype.parseLine=function(){this.kind=n.LINE,this.family=n.PRIMITIVE,this.params=[],this.params[0]=this.element.getFloatAttribute("x1"),this.params[1]=this.element.getFloatAttribute("y1"),this.params[2]=this.element.getFloatAttribute("x2"),this.params[3]=this.element.getFloatAttribute("y2")},s.prototype.parseColors=function(e){if(e.hasAttribute("opacity")&&this.setOpacity(e.getAttribute("opacity")),e.hasAttribute("stroke")&&this.setStroke(e.getAttribute("stroke")),e.hasAttribute("stroke-width")&&this.setStrokeWeight(e.getAttribute("stroke-width")),e.hasAttribute("stroke-linejoin")&&this.setStrokeJoin(e.getAttribute("stroke-linejoin")),e.hasAttribute("stroke-linecap")&&this.setStrokeCap(e.getStringAttribute("stroke-linecap")),e.hasAttribute("fill")&&this.setFill(e.getStringAttribute("fill")),e.hasAttribute("style"))for(var n=0,i=(e=e.getStringAttribute("style").toString().split(";")).length;n<i;n++){var r=t.trim(e[n].split(":"));"fill"===r[0]?this.setFill(r[1]):"fill-opacity"===r[0]?this.setFillOpacity(r[1]):"stroke"===r[0]?this.setStroke(r[1]):"stroke-width"===r[0]?this.setStrokeWeight(r[1]):"stroke-linecap"===r[0]?this.setStrokeCap(r[1]):"stroke-linejoin"===r[0]?this.setStrokeJoin(r[1]):"stroke-opacity"===r[0]?this.setStrokeOpacity(r[1]):"opacity"===r[0]&&this.setOpacity(r[1])}},s.prototype.setFillOpacity=function(e){this.fillOpacity=parseFloat(e),this.fillColor=255*this.fillOpacity<<24|16777215&this.fillColor},s.prototype.setFill=function(e){var t=4278190080&this.fillColor;"none"===e?this.fill=!1:0===e.indexOf("#")?(this.fill=!0,4===e.length&&(e=e.replace(/#(.)(.)(.)/,"#$1$1$2$2$3$3")),this.fillColor=t|16777215&parseInt(e.substring(1),16)):0===e.indexOf("rgb")?(this.fill=!0,this.fillColor=t|this.parseRGB(e)):0===e.indexOf("url(#")?this.fillName=e.substring(5,e.length-1):o[e]&&(this.fill=!0,this.fillColor=t|16777215&parseInt(o[e].substring(1),16))},s.prototype.setOpacity=function(e){this.strokeColor=255*parseFloat(e)<<24|16777215&this.strokeColor,this.fillColor=255*parseFloat(e)<<24|16777215&this.fillColor},s.prototype.setStroke=function(e){var t=4278190080&this.strokeColor;"none"===e?this.stroke=!1:"#"===e.charAt(0)?(this.stroke=!0,4===e.length&&(e=e.replace(/#(.)(.)(.)/,"#$1$1$2$2$3$3")),this.strokeColor=t|16777215&parseInt(e.substring(1),16)):0===e.indexOf("rgb")?(this.stroke=!0,this.strokeColor=t|this.parseRGB(e)):0===e.indexOf("url(#")?this.strokeName=e.substring(5,e.length-1):o[e]&&(this.stroke=!0,this.strokeColor=t|16777215&parseInt(o[e].substring(1),16))},s.prototype.setStrokeWeight=function(e){this.strokeWeight=this.parseUnitSize(e)},s.prototype.setStrokeJoin=function(e){"miter"===e?this.strokeJoin=n.MITER:"round"===e?this.strokeJoin=n.ROUND:"bevel"===e&&(this.strokeJoin=n.BEVEL)},s.prototype.setStrokeCap=function(e){"butt"===e?this.strokeCap=n.SQUARE:"round"===e?this.strokeCap=n.ROUND:"square"===e&&(this.strokeCap=n.PROJECT)},s.prototype.setStrokeOpacity=function(e){this.strokeOpacity=parseFloat(e),this.strokeColor=255*this.strokeOpacity<<24|16777215&this.strokeColor},s.prototype.parseRGB=function(e){return(e=e.substring(e.indexOf("(")+1,e.indexOf(")")).split(", "))[0]<<16|e[1]<<8|e[2]},s.prototype.parseUnitSize=function(e){var t=e.length-2;return 0>t?e:e.indexOf("pt")===t?1.25*parseFloat(e.substring(0,t)):e.indexOf("pc")===t?15*parseFloat(e.substring(0,t)):e.indexOf("mm")===t?3.543307*parseFloat(e.substring(0,t)):e.indexOf("cm")===t?35.43307*parseFloat(e.substring(0,t)):e.indexOf("in")===t?90*parseFloat(e.substring(0,t)):e.indexOf("px")===t?parseFloat(e.substring(0,t)):parseFloat(e)},s}},{}],17:[function(e,t,n){t.exports=function(e,t){function n(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0}function i(e){return function(t,n){var i=t.get();return i[e](n),i}}var r=e.PConstants;for(var o in n.fromAngle=function(e,i){return i!==t&&null!==i||(i=new n),i.x=Math.cos(e),i.y=Math.sin(e),i},n.random2D=function(e){return n.fromAngle(Math.random()*r.TWO_PI,e)},n.random3D=function(e){var i=Math.random()*r.TWO_PI,o=2*Math.random()-1,s=Math.sqrt(1-o*o),a=s*Math.cos(i);i=s*Math.sin(i);return e===t||null===e?e=new n(a,i,o):e.set(a,i,o),e},n.dist=function(e,t){return e.dist(t)},n.dot=function(e,t){return e.dot(t)},n.cross=function(e,t){return e.cross(t)},n.sub=function(e,t){return new n(e.x-t.x,e.y-t.y,e.z-t.z)},n.angleBetween=function(e,t){return Math.acos(e.dot(t)/(e.mag()*t.mag()))},n.lerp=function(e,t,i){return(e=new n(e.x,e.y,e.z)).lerp(t,i),e},n.prototype={set:function(e,t,n){1===arguments.length?this.set(e.x||e[0]||0,e.y||e[1]||0,e.z||e[2]||0):(this.x=e,this.y=t,this.z=n)},get:function(){return new n(this.x,this.y,this.z)},mag:function(){var e=this.x,t=this.y,n=this.z;return Math.sqrt(e*e+t*t+n*n)},magSq:function(){var e=this.x,t=this.y,n=this.z;return e*e+t*t+n*n},setMag:function(e,n){if(n!==t)return e.normalize(),e.mult(n),e;n=e,this.normalize(),this.mult(n)},add:function(e,t,n){1===arguments.length?(this.x+=e.x,this.y+=e.y,this.z+=e.z):(this.x+=e,this.y+=t,this.z+=n)},sub:function(e,t,n){1===arguments.length?(this.x-=e.x,this.y-=e.y,this.z-=e.z):(this.x-=e,this.y-=t,this.z-=n)},mult:function(e){"number"==typeof e?(this.x*=e,this.y*=e,this.z*=e):(this.x*=e.x,this.y*=e.y,this.z*=e.z)},div:function(e){"number"==typeof e?(this.x/=e,this.y/=e,this.z/=e):(this.x/=e.x,this.y/=e.y,this.z/=e.z)},rotate:function(e){var t=this.x,n=Math.cos(e);e=Math.sin(e),this.x=n*this.x-e*this.y,this.y=e*t+n*this.y},dist:function(e){var t=this.x-e.x,n=this.y-e.y;return e=this.z-e.z,Math.sqrt(t*t+n*n+e*e)},dot:function(e,t,n){return 1===arguments.length?this.x*e.x+this.y*e.y+this.z*e.z:this.x*e+this.y*t+this.z*n},cross:function(e){var t=this.x,i=this.y,r=this.z;return new n(i*e.z-e.y*r,r*e.x-e.z*t,t*e.y-e.x*i)},lerp:function(e,t,n,i){var r,o;2===arguments.length?(i=t,r=e.x,o=e.y,n=e.z):(r=e,o=t),this.x+=(r-this.x)*i,this.y+=(o-this.y)*i,this.z+=(n-this.z)*i},normalize:function(){var e=this.mag();0<e&&this.div(e)},limit:function(e){this.mag()>e&&(this.normalize(),this.mult(e))},heading:function(){return-Math.atan2(-this.y,this.x)},heading2D:function(){return this.heading()},toString:function(){return"["+this.x+", "+this.y+", "+this.z+"]"},array:function(){return[this.x,this.y,this.z]}},n.prototype)n.prototype.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=i(o));return n}},{}],18:[function(e,t,n){t.exports=function(){var e=function(e,t,n,i,r){this.fullName=e||"",this.name=t||"",this.namespace=n||"",this.value=i,this.type=r};return e.prototype={getName:function(){return this.name},getFullName:function(){return this.fullName},getNamespace:function(){return this.namespace},getValue:function(){return this.value},getType:function(){return this.type},setValue:function(e){this.value=e}},e}},{}],19:[function(e,t,n){t.exports=function(e,t){var n=e.Browser,i=n.ajax,r=n.window.DOMParser,o=e.XMLAttribute,s=function(e,n,i,r){this.attributes=[],this.children=[],this.name=this.fullName=null,this.namespace="",this.parent=this.content=null,this.systemID=this.lineNr="",this.type="ELEMENT",e&&("string"==typeof e?n===t&&-1<e.indexOf("<")?this.parse(e):(this.fullName=e,this.namespace=n,this.systemId=i,this.lineNr=r):this.parse(n))};return s.prototype={parse:function(e){try{var t=e.substring(e.length-4);".xml"!==t&&".svg"!==t||(e=i(e));var n=(new r).parseFromString(e,"text/xml").documentElement;if(!n)throw"Error loading document";return this.parseChildrenRecursive(null,n),this}catch(e){throw e}},parseChildrenRecursive:function(e,t){var n,i,r,a;if(e?(n=new s(t.nodeName)).parent=e:(this.fullName=t.localName,this.name=t.nodeName,n=this),3===t.nodeType&&""!==t.textContent)return this.createPCDataElement(t.textContent);if(4===t.nodeType)return this.createCDataElement(t.textContent);if(t.attributes)for(r=0,a=t.attributes.length;r<a;r++)i=t.attributes[r],i=new o(i.getname,i.nodeName,i.namespaceURI,i.nodeValue,i.nodeType),n.attributes.push(i);if(t.childNodes)for(r=0,a=t.childNodes.length;r<a;r++)null!==(i=n.parseChildrenRecursive(n,t.childNodes[r]))&&n.children.push(i);return n},createElement:function(e,n,i,r){return i===t?new s(e,n):new s(e,n,i,r)},createPCDataElement:function(e,t){if(""===e.replace(/^\s+$/g,""))return null;var n=new s;return n.type="TEXT",n.content=e,n},createCDataElement:function(e){var t=this.createPCDataElement(e);if(null===t)return null;t.type="CDATA";var n,i={"<":"&lt;",">":"&gt;","'":"&apos;",'"':"&quot;"};for(n in i)Object.hasOwnProperty(i,n)||(e=e.replace(RegExp(n,"g"),i[n]));return t.cdata=e,t},hasAttribute:function(){return 1===arguments.length?null!==this.getAttribute(arguments[0]):2===arguments.length?null!==this.getAttribute(arguments[0],arguments[1]):void 0},equals:function(e){if(!(e instanceof s))return!1;var t,n,i,r;if(this.fullName!==e.fullName||this.attributes.length!==e.getAttributeCount()||this.attributes.length!==e.attributes.length)return!1;for(t=0,n=this.attributes.length;t<n;t++)if(i=this.attributes[t].getName(),r=this.attributes[t].getNamespace(),null===(i=e.findAttribute(i,r))||this.attributes[t].getValue()!==i.getValue()||this.attributes[t].getType()!==i.getType())return!1;if(this.children.length!==e.getChildCount())return!1;if(0<this.children.length){for(t=0,n=this.children.length;t<n;t++)if(i=this.getChild(t),r=e.getChild(t),!i.equals(r))return!1;return!0}return this.content===e.content},getContent:function(){if("TEXT"===this.type||"CDATA"===this.type)return this.content;var e=this.children;return 1!==e.length||"TEXT"!==e[0].type&&"CDATA"!==e[0].type?null:e[0].content},getAttribute:function(){var e;return 2===arguments.length?(e=this.findAttribute(arguments[0]))?e.getValue():arguments[1]:1===arguments.length?(e=this.findAttribute(arguments[0]))?e.getValue():null:3===arguments.length?(e=this.findAttribute(arguments[0],arguments[1]))?e.getValue():arguments[2]:void 0},getStringAttribute:function(){return 1===arguments.length?this.getAttribute(arguments[0]):2===arguments.length?this.getAttribute(arguments[0],arguments[1]):this.getAttribute(arguments[0],arguments[1],arguments[2])},getString:function(e){return this.getStringAttribute(e)},getFloatAttribute:function(){return 1===arguments.length?parseFloat(this.getAttribute(arguments[0],0)):2===arguments.length?this.getAttribute(arguments[0],arguments[1]):this.getAttribute(arguments[0],arguments[1],arguments[2])},getFloat:function(e){return this.getFloatAttribute(e)},getIntAttribute:function(){return 1===arguments.length?this.getAttribute(arguments[0],0):2===arguments.length?this.getAttribute(arguments[0],arguments[1]):this.getAttribute(arguments[0],arguments[1],arguments[2])},getInt:function(e){return this.getIntAttribute(e)},hasChildren:function(){return 0<this.children.length},addChild:function(e){null!==e&&(e.parent=this,this.children.push(e))},insertChild:function(e,t){if(e){if(null===e.getLocalName()&&!this.hasChildren()){var n=this.children[this.children.length-1];if(null===n.getLocalName())return void n.setContent(n.getContent()+e.getContent())}e.parent=this,this.children.splice(t,0,e)}},getChild:function(e){if("number"==typeof e)return this.children[e];if(-1!==e.indexOf("/"))return this.getChildRecursive(e.split("/"),0);for(var t,n,i=0,r=this.getChildCount();i<r;i++)if(null!==(n=(t=this.getChild(i)).getName())&&n===e)return t;return null},getChildren:function(){if(1===arguments.length){if("number"==typeof arguments[0])return this.getChild(arguments[0]);if(-1!==arguments[0].indexOf("/"))return this.getChildrenRecursive(arguments[0].split("/"),0);for(var e,t,n=[],i=0,r=this.getChildCount();i<r;i++)null!==(t=(e=this.getChild(i)).getName())&&t===arguments[0]&&n.push(e);return n}return this.children},getChildCount:function(){return this.children.length},getChildRecursive:function(e,t){if(t===e.length)return this;for(var n,i,r=e[t],o=0,s=this.getChildCount();o<s;o++)if(null!==(i=(n=this.getChild(o)).getName())&&i===r)return n.getChildRecursive(e,t+1);return null},getChildrenRecursive:function(e,t){if(t===e.length-1)return this.getChildren(e[t]);for(var n=this.getChildren(e[t]),i=[],r=0;r<n.length;r++)i=i.concat(n[r].getChildrenRecursive(e,t+1));return i},isLeaf:function(){return!this.hasChildren()},listChildren:function(){for(var e=[],t=0,n=this.children.length;t<n;t++)e.push(this.getChild(t).getName());return e},removeAttribute:function(e,t){this.namespace=t||"";for(var n=0,i=this.attributes.length;n<i;n++)if(this.attributes[n].getName()===e&&this.attributes[n].getNamespace()===this.namespace){this.attributes.splice(n,1);break}},removeChild:function(e){if(e)for(var t=0,n=this.children.length;t<n;t++)if(this.children[t].equals(e)){this.children.splice(t,1);break}},removeChildAtIndex:function(e){this.children.length>e&&this.children.splice(e,1)},findAttribute:function(e,t){this.namespace=t||"";for(var n=0,i=this.attributes.length;n<i;n++)if(this.attributes[n].getName()===e&&this.attributes[n].getNamespace()===this.namespace)return this.attributes[n];return null},setAttribute:function(){var e;if(3===arguments.length){e=arguments[0].indexOf(":");var t=arguments[0].substring(e+1);(e=this.findAttribute(t,arguments[1]))?e.setValue(arguments[2]):(e=new o(arguments[0],t,arguments[1],arguments[2],"CDATA"),this.attributes.push(e))}else(e=this.findAttribute(arguments[0]))?e.setValue(arguments[1]):(e=new o(arguments[0],arguments[0],null,arguments[1],"CDATA"),this.attributes.push(e))},setString:function(e,t){this.setAttribute(e,t)},setInt:function(e,t){this.setAttribute(e,t)},setFloat:function(e,t){this.setAttribute(e,t)},setContent:function(e){0<this.children.length&&Processing.debug("Tried to set content for XMLElement with children"),this.content=e},setName:function(){if(1===arguments.length)this.name=arguments[0],this.fullName=arguments[0],this.namespace=null;else{var e=arguments[0].indexOf(":");this.name=null===arguments[1]||0>e?arguments[0]:arguments[0].substring(e+1),this.fullName=arguments[0],this.namespace=arguments[1]}},getName:function(){return this.fullName},getLocalName:function(){return this.name},getAttributeCount:function(){return this.attributes.length},toString:function(){if("TEXT"===this.type)return this.content;if("CDATA"===this.type)return this.cdata;var e,t=this.fullName,n="<"+t;for(e=0;e<this.attributes.length;e++){var i=this.attributes[e];n=n+" "+i.getName()+'="'+i.getValue()+'"'}if(0===this.children.length)n=""===this.content?n+"/>":n+">"+this.content+"</"+t+">";else{for(n+=">",e=0;e<this.children.length;e++)n+=this.children[e].toString();n+="</"+t+">"}return n}},s.parse=function(e){var t=new s;return t.parse(e),t},s}},{}],20:[function(e,t,n){t.exports={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}},{}],21:[function(e,t,n){t.exports=function(e,t,n){return function(i,r){i.__contains=function(e,t){return"string"!=typeof e?e.contains.apply(e,r(arguments)):null!==e&&null!==t&&"string"==typeof t&&-1<e.indexOf(t)},i.__replaceAll=function(e,t,n){return"string"!=typeof e?e.replaceAll.apply(e,r(arguments)):e.replace(RegExp(t,"g"),n)},i.__replaceFirst=function(e,t,n){return"string"!=typeof e?e.replaceFirst.apply(e,r(arguments)):e.replace(RegExp(t,""),n)},i.__replace=function(e,t,n){if("string"!=typeof e)return e.replace.apply(e,r(arguments));if(t instanceof RegExp)return e.replace(t,n);if("string"!=typeof t&&(t=t.toString()),""===t)return e;var i=e.indexOf(t);if(0>i)return e;var o=0,s="";do{s+=e.substring(o,i)+n,o=i+t.length}while(0<=(i=e.indexOf(t,o)));return s+e.substring(o)},i.__equals=function(e,n){return e.equals instanceof Function?e.equals.apply(e,r(arguments)):t(e,n)},i.__equalsIgnoreCase=function(e,t){return"string"!=typeof e?e.equalsIgnoreCase.apply(e,r(arguments)):e.toLowerCase()===t.toLowerCase()},i.__toCharArray=function(e){if("string"!=typeof e)return e.toCharArray.apply(e,r(arguments));for(var t=[],n=0,i=e.length;n<i;++n)t[n]=new Char(e.charAt(n));return t},i.__split=function(e,t,i){if("string"!=typeof e)return e.split.apply(e,r(arguments));var o=RegExp(t);if(i===n||1>i)return e.split(o);for(var s,a=[],l=e;-1!==(s=l.search(o))&&a.length<i-1;){var u=o.exec(l).toString();a.push(l.substring(0,s)),l=l.substring(s+u.length)}return-1===s&&""===l||a.push(l),a},i.__codePointAt=function(e,t){var n=e.charCodeAt(t);return 55296<=n&&56319>=n?1024*(n-55296)+(e.charCodeAt(t+1)-56320)+65536:n},i.__matches=function(e,t){return RegExp(t).test(e)},i.__startsWith=function(e,t,n){return"string"!=typeof e?e.startsWith.apply(e,r(arguments)):!(0>(n=n||0)||n>e.length)&&(""===t||t===e||e.indexOf(t)===n)},i.__endsWith=function(e,t){if("string"!=typeof e)return e.endsWith.apply(e,r(arguments));var n=t?t.length:0;return""===t||t===e||e.indexOf(t)===e.length-n},i.__hashCode=function(t){return t.hashCode instanceof Function?t.hashCode.apply(t,r(arguments)):e(t)},i.__printStackTrace=function(e){i.println("Exception: "+e.toString())}}}},{}],22:[function(e,t,n){t.exports=function(e,t){function n(e,t){var n=e||362436069,i=t||521288629,r=function(){return 4294967295&((65535&(n=36969*(65535&n)+(n>>>16)&4294967295))<<16|65535&(i=18e3*(65535&i)+(i>>>16)&4294967295))};this.doubleGenerator=function(){var e=r()/4294967296;return 0>e?1+e:e},this.intGenerator=r}function i(e){function i(e,t,n,i){var r=8>(e&=15)?t:n;return t=4>e?n:12===e||14===e?t:i,(0==(1&e)?r:-r)+(0==(2&e)?t:-t)}function r(e,t,n){return t=0==(1&e)?t:n,0==(2&e)?-t:t}function o(e,t,n){return t+e*(n-t)}e=e!==t?new n(e):n.createRandomized();var s,a,l=new Uint8Array(512);for(s=0;256>s;++s)l[s]=s;for(s=0;256>s;++s){var u=l[a=255&e.intGenerator()];l[a]=l[s],l[s]=u}for(s=0;256>s;++s)l[s+256]=l[s];this.noise3d=function(e,t,n){var r=255&Math.floor(e),s=255&Math.floor(t),a=255&Math.floor(n);e-=Math.floor(e),t-=Math.floor(t),n-=Math.floor(n);var u=(3-2*e)*e*e,c=(3-2*t)*t*t,p=l[r]+s,f=l[p]+a;p=l[p+1]+a,s=l[r+1]+s,r=l[s]+a,a=l[s+1]+a;return o((3-2*n)*n*n,o(c,o(u,i(l[f],e,t,n),i(l[r],e-1,t,n)),o(u,i(l[p],e,t-1,n),i(l[a],e-1,t-1,n))),o(c,o(u,i(l[f+1],e,t,n-1),i(l[r+1],e-1,t,n-1)),o(u,i(l[p+1],e,t-1,n-1),i(l[a+1],e-1,t-1,n-1))))},this.noise2d=function(e,t){var n=255&Math.floor(e),i=255&Math.floor(t);e-=Math.floor(e),t-=Math.floor(t);var s=(3-2*e)*e*e,a=l[n]+i;n=l[n+1]+i;return o((3-2*t)*t*t,o(s,r(l[a],e,t),r(l[n],e-1,t)),o(s,r(l[a+1],e,t-1),r(l[n+1],e-1,t-1)))},this.noise1d=function(e){var t=255&Math.floor(e);return o((3-2*(e-=Math.floor(e)))*e*e,0==(1&l[t])?-e:e,0==(1&l[t+1])?-(e-1):e-1)}}var r=function(){return Math.random()};e.abs=Math.abs,e.ceil=Math.ceil,e.exp=Math.exp,e.floor=Math.floor,e.log=Math.log,e.pow=Math.pow,e.round=Math.round,e.sqrt=Math.sqrt,e.acos=Math.acos,e.asin=Math.asin,e.atan=Math.atan,e.atan2=Math.atan2,e.cos=Math.cos,e.sin=Math.sin,e.tan=Math.tan,e.constrain=function(e,t,n){return e>n?n:e<t?t:e},e.dist=function(){var e,t,n;return 4===arguments.length?(e=arguments[0]-arguments[2],t=arguments[1]-arguments[3],Math.sqrt(e*e+t*t)):6===arguments.length?(e=arguments[0]-arguments[3],t=arguments[1]-arguments[4],n=arguments[2]-arguments[5],Math.sqrt(e*e+t*t+n*n)):void 0},e.lerp=function(e,t,n){return(t-e)*n+e},e.mag=function(e,t,n){return n?Math.sqrt(e*e+t*t+n*n):Math.sqrt(e*e+t*t)},e.map=function(e,t,n,i,r){return i+(e-t)/(n-t)*(r-i)},e.max=function(){if(2===arguments.length)return arguments[0]<arguments[1]?arguments[1]:arguments[0];var e=1===arguments.length?arguments[0]:arguments;if(!("length"in e&&0<e.length))throw"Non-empty array is expected";for(var t=e[0],n=e.length,i=1;i<n;++i)t<e[i]&&(t=e[i]);return t},e.min=function(){if(2===arguments.length)return arguments[0]<arguments[1]?arguments[0]:arguments[1];var e=1===arguments.length?arguments[0]:arguments;if(!("length"in e&&0<e.length))throw"Non-empty array is expected";for(var t=e[0],n=e.length,i=1;i<n;++i)t>e[i]&&(t=e[i]);return t},e.norm=function(e,t,n){return(e-t)/(n-t)},e.sq=function(e){return e*e},e.degrees=function(e){return 180*e/Math.PI},e.random=function(){if(0===arguments.length)return r();if(1===arguments.length)return r()*arguments[0];var e=arguments[0],t=arguments[1];return r()*(t-e)+e},n.createRandomized=function(){var e=new Date;return new n(e/6e4&4294967295,4294967295&e)},e.randomSeed=function(e){r=new n(e).doubleGenerator,this.haveNextNextGaussian=!1},e.randomGaussian=function(){if(this.haveNextNextGaussian)return this.haveNextNextGaussian=!1,this.nextNextGaussian;var e,t,n;do{n=(e=2*r()-1)*e+(t=2*r()-1)*t}while(1<=n||0===n);return n=Math.sqrt(-2*Math.log(n)/n),this.nextNextGaussian=t*n,this.haveNextNextGaussian=!0,e*n};var o=t,s=4,a=.5,l=t;e.noise=function(e,n,r){o===t&&(o=new i(l));for(var u=o,c=1,p=1,f=0,d=0;d<s;++d){switch(c*=a,arguments.length){case 1:f+=c*(1+u.noise1d(p*e))/2;break;case 2:f+=c*(1+u.noise2d(p*e,p*n))/2;break;case 3:f+=c*(1+u.noise3d(p*e,p*n,p*r))/2}p*=2}return f},e.noiseDetail=function(e,n){s=e,n!==t&&(a=n)},e.noiseSeed=function(e){l=e,o=t}}},{}],23:[function(e,t,n){var i,r;t.exports=r={trim:function(e){if(e instanceof Array){for(var t=[],n=0;n<e.length;n++)t.push(e[n].replace(/^\s*/,"").replace(/\s*$/,"").replace(/\r*$/,""));return t}return e.replace(/^\s*/,"").replace(/\s*$/,"").replace(/\r*$/,"")},radians:function(e){return e/180*Math.PI},nfCoreScalar:function(e,t,n,r,o,s){if(t=0>e?n:t,n=0===o,o=o===i||0>o?0:o,e=Math.abs(e),n)for(o=1,e*=10;1e-6<Math.abs(Math.round(e)-e)&&7>o;)++o,e*=10;else 0!==o&&(e*=Math.pow(10,o));for(n=2*e,Math.floor(e)===e?n=e:Math.floor(n)===n?n=(e=Math.floor(e))+e%2:n=Math.round(e),e="",r+=o;0<r||0<n;)r--,e=""+n%10+e,n=Math.floor(n/10);if(s!==i)for(r=e.length-3-o;0<r;)e=e.substring(0,r)+s+e.substring(r),r-=3;return 0<o?t+e.substring(0,e.length-o)+"."+e.substring(e.length-o,e.length):t+e},nfCore:function(e,t,n,i,o,s){if(e instanceof Array){for(var a=[],l=0,u=e.length;l<u;l++)a.push(r.nfCoreScalar(e[l],t,n,i,o,s));return a}return r.nfCoreScalar(e,t,n,i,o,s)},nf:function(e,t,n){return r.nfCore(e,"","-",t,n)},nfs:function(e,t,n){return r.nfCore(e," ","-",t,n)},nfp:function(e,t,n){return r.nfCore(e,"+","-",t,n)},nfc:function(e,t){return r.nfCore(e,"","-",0,t,",")},withCommonFunctions:function(e){"trim radians nf nfs nfp nfc".split(" ").forEach(function(t){e[t]=r[t]})}}},{}],24:[function(e,t,n){t.exports=function(e,t,n,i,r,o){function s(t,n){var r,o,s,a,l=t,u=0,c=0;if(e.pmouseX=e.mouseX,e.pmouseY=e.mouseY,l.offsetParent)do{u+=l.offsetLeft,c+=l.offsetTop}while(l=l.offsetParent);l=t;do{u-=l.scrollLeft||0,c-=l.scrollTop||0}while(l=l.parentNode);return i.defaultView&&i.defaultView.getComputedStyle&&(r=parseInt(i.defaultView.getComputedStyle(t,null).paddingLeft,10)||0,o=parseInt(i.defaultView.getComputedStyle(t,null).paddingTop,10)||0,s=parseInt(i.defaultView.getComputedStyle(t,null).borderLeftWidth,10)||0,a=parseInt(i.defaultView.getComputedStyle(t,null).borderTopWidth,10)||0),u=u+r+s,c=c+o+a,{X:u+=window.pageXOffset,Y:c+=window.pageYOffset}}function a(t,n){var i=s(t);e.mouseX=n.pageX-i.X,e.mouseY=n.pageY-i.Y}function l(e){var t,n=s(e.changedTouches[0].target,e.changedTouches[0]);for(t=0;t<e.touches.length;t++){var i=e.touches[t];i.offsetX=i.pageX-n.X,i.offsetY=i.pageY-n.Y}for(t=0;t<e.targetTouches.length;t++)(i=e.targetTouches[t]).offsetX=i.pageX-n.X,i.offsetY=i.pageY-n.Y;for(t=0;t<e.changedTouches.length;t++)(i=e.changedTouches[t]).offsetX=i.pageX-n.X,i.offsetY=i.pageY-n.Y;return e}n(t,"touchstart",function(i){t.setAttribute("style","-webkit-user-select: none"),t.setAttribute("onclick","void(0)"),t.setAttribute("style","-webkit-tap-highlight-color:rgba(0,0,0,0)");for(var s=0,u=eventHandlers.length;s<u;s++){var c=eventHandlers[s].type;"mouseout"!==c&&"mousemove"!==c&&"mousedown"!==c&&"mouseup"!==c&&"DOMMouseScroll"!==c&&"mousewheel"!==c&&"touchstart"!==c||detachEventHandler(eventHandlers[s])}e.touchStart!==o||e.touchMove!==o||e.touchEnd!==o||e.touchCancel!==o?(n(t,"touchstart",function(t){e.touchStart!==o&&(t=l(t),e.touchStart(t))}),n(t,"touchmove",function(t){e.touchMove!==o&&(t.preventDefault(),t=l(t),e.touchMove(t))}),n(t,"touchend",function(t){e.touchEnd!==o&&(t=l(t),e.touchEnd(t))}),n(t,"touchcancel",function(t){e.touchCancel!==o&&(t=l(t),e.touchCancel(t))})):(n(t,"touchstart",function(n){a(t,n.touches[0]),e.__mousePressed=!0,e.mouseDragging=!1,e.mouseButton=r.LEFT,"function"==typeof e.mousePressed&&e.mousePressed()}),n(t,"touchmove",function(n){n.preventDefault(),a(t,n.touches[0]),"function"!=typeof e.mouseMoved||e.__mousePressed||e.mouseMoved(),"function"==typeof e.mouseDragged&&e.__mousePressed&&(e.mouseDragged(),e.mouseDragging=!0)}),n(t,"touchend",function(t){e.__mousePressed=!1,"function"!=typeof e.mouseClicked||e.mouseDragging||e.mouseClicked(),"function"==typeof e.mouseReleased&&e.mouseReleased()})),t.dispatchEvent(i)}),function(){var i=!0,r=function(e){e.preventDefault(),e.stopPropagation()};e.disableContextMenu=function(){i&&(n(t,"contextmenu",r),i=!1)},e.enableContextMenu=function(){i||(detachEventHandler({elem:t,type:"contextmenu",fn:r}),i=!0)}}(),n(t,"mousemove",function(n){a(t,n),"function"!=typeof e.mouseMoved||e.__mousePressed||e.mouseMoved(),"function"==typeof e.mouseDragged&&e.__mousePressed&&(e.mouseDragged(),e.mouseDragging=!0)}),n(t,"mouseout",function(t){"function"==typeof e.mouseOut&&e.mouseOut()}),n(t,"mouseover",function(n){a(t,n),"function"==typeof e.mouseOver&&e.mouseOver()}),t.onmousedown=function(){return t.focus(),!1},n(t,"mousedown",function(t){switch(e.__mousePressed=!0,e.mouseDragging=!1,t.which){case 1:e.mouseButton=r.LEFT;break;case 2:e.mouseButton=r.CENTER;break;case 3:e.mouseButton=r.RIGHT}"function"==typeof e.mousePressed&&e.mousePressed()}),n(t,"mouseup",function(t){e.__mousePressed=!1,"function"!=typeof e.mouseClicked||e.mouseDragging||e.mouseClicked(),"function"==typeof e.mouseReleased&&e.mouseReleased()});var u=function(t){var n=0;t.wheelDelta?(n=t.wheelDelta/120,window.opera&&(n=-n)):t.detail&&(n=-t.detail/3),(e.mouseScroll=n)&&"function"==typeof e.mouseScrolled&&e.mouseScrolled()};n(i,"DOMMouseScroll",u),n(i,"mousewheel",u)}},{}],25:[function(e,t,n){t.exports=function(e,t){function n(){var t="abs acos alpha ambient ambientLight append applyMatrix arc arrayCopy asin atan atan2 background beginCamera beginDraw beginShape bezier bezierDetail bezierPoint bezierTangent bezierVertex binary blend blendColor blit_resize blue box breakShape brightness camera ceil Character color colorMode concat constrain copy cos createFont createGraphics createImage cursor curve curveDetail curvePoint curveTangent curveTightness curveVertex day degrees directionalLight disableContextMenu dist draw ellipse ellipseMode emissive enableContextMenu endCamera endDraw endShape exit exp expand externals fill filter floor focused frameCount frameRate frustum get glyphLook glyphTable green height hex hint hour hue image imageMode intersect join key keyCode keyPressed keyReleased keyTyped lerp lerpColor lightFalloff lights lightSpecular line link loadBytes loadFont loadGlyphs loadImage loadPixels loadShape loadXML loadStrings log loop mag map match matchAll max millis min minute mix modelX modelY modelZ modes month mouseButton mouseClicked mouseDragged mouseMoved mouseOut mouseOver mousePressed mouseReleased mouseScroll mouseScrolled mouseX mouseY name nf nfc nfp nfs noCursor noFill noise noiseDetail noiseSeed noLights noLoop norm normal noSmooth noStroke noTint ortho param parseBoolean parseByte parseChar parseFloat parseInt peg perspective PImage pixels PMatrix2D PMatrix3D PMatrixStack pmouseX pmouseY point pointLight popMatrix popStyle pow print printCamera println printMatrix printProjection PShape PShapeSVG pushMatrix pushStyle quad radians random randomGaussian randomSeed rect rectMode red redraw requestImage resetMatrix reverse rotate rotateX rotateY rotateZ round saturation save saveFrame saveStrings scale screenX screenY screenZ second set setup shape shapeMode shared shearX shearY shininess shorten sin size smooth sort specular sphere sphereDetail splice split splitTokens spotLight sq sqrt status str stroke strokeCap strokeJoin strokeWeight subset tan text textAlign textAscent textDescent textFont textLeading textMode textSize texture textureMode textWidth tint toImageData touchCancel touchEnd touchMove touchStart translate transform triangle trim unbinary unhex updatePixels use3DContext vertex width XMLElement XML year __contains __equals __equalsIgnoreCase __frameRate __hashCode __int_cast __instanceof __keyPressed __mousePressed __printStackTrace __replace __replaceAll __replaceFirst __toCharArray __split __codePointAt __startsWith __endsWith __matches".split(" ");a&&Object.keys(a).forEach(function(e){t.push(e)});var n,i,r={};for(n=0,i=t.length;n<i;++n)r[t[n]]=null;for(var o in e.lib)if(e.lib.hasOwnProperty(o)&&e.lib[o].exports){var s=e.lib[o].exports;for(n=0,i=s.length;n<i;++n)r[s[n]]=null}return r}function i(e){function t(e){var t=/^\s*/.exec(e);if(t[0].length===e.length)e={left:t[0],middle:"",right:""};else{var n=/\s*$/.exec(e);e={left:t[0],middle:e.substring(t[0].length,n.index),right:n[0]}}return e.untrim=function(e){return this.left+e+this.right},e}function i(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}function a(e,t){for(var n=0,i=t.length;n<i;++n)e[t[n]]=null;return e}function l(e){return e.substring(2,e.length-1)}function u(e,t){var n=de.length;return de.push(e),'"'+t+n+'"'}function c(e){return(e=(e=e.replace(ge,function(e){return u(e,"E")})).replace(be,function(e){return u(e,"D")})).replace(xe,function(e){return u(e,"H")})}function p(e,t){return e.replace(ve,function(e,n,i,r,o,s){return i!==t?e:u(e,"G")})}function f(e){this.name=e}function d(e,t){this.params=e,this.methodArgsParam=t}function h(e){var t=i(e.substring(1,e.length-1));e=[];var n=null;if(""!==t){t=t.split(",");for(var r=0;r<t.length;++r){var o=/\b([A-Za-z_$][\w$]*\b)(\s*"[ABC][\d]*")*\s*$/.exec(t[r]);if(r===t.length-1&&0<=t[r].indexOf("...")){n=new f(o[1]);break}e.push(new f(o[1]))}}return new d(e,n)}function m(e,t){this.baseInterfaceName=e,this.body=t,t.owner=this}function g(e,t,n){this.name=e,this.params=t,this.body=n}function b(e){return new g("function"!==(e=RegExp(/\b([A-Za-z_$][\w$]*)\s*"B(\d+)"\s*"A(\d+)"/).exec(e))[1]?e[1]:null,h(de[e[2]]),ce(de[e[3]]))}function y(e){this.members=e}function v(e){if("("===e.charAt(0)||"["===e.charAt(0))return e.charAt(0)+v(e.substring(1,e.length-1))+e.charAt(e.length-1);if("{"===e.charAt(0))return/^\{\s*(?:[A-Za-z_$][\w$]*|'\d+')\s*:/.test(e)?"{"+u(e.substring(1,e.length-1),"I")+"}":"["+v(e.substring(1,e.length-1))+"]";var n=(n=function(e){function n(e,n,i,o){return e=de[o],r=!0,"__"+i+(""===(e=t(e.substring(1,e.length-1))).middle?u("("+n.replace(/\.\s*$/,"")+")","B"):u("("+n.replace(/\.\s*$/,"")+","+e.middle+")","B"))}function i(e,t,n){return r=!0,"__instanceof"+u("("+t+", "+n+")","B")}var r;e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\s*"C\d+")+\s*("A\d+")/g,function(e,t,n){return n})).replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\s*"B\d+")\s*("A\d+")/g,function(e,t,n){return u(e,"F")})).replace(xe,function(e){return u(e,"H")})).replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)\s*("C\d+"(?:\s*"C\d+")*)/g,function(e,t,n){return t="('"+t+"', "+u(e="{"+(e=n.replace(/"C(\d+)"/g,function(e,t){return de[t]}).replace(/\[\s*\]/g,"[null]").replace(/\s*\]\s*\[\s*/g,", ")).substring(1,e.length-1)+"}","A")+")","$p.createJavaArray"+u(t,"B")})).replace(/(\.\s*length)\s*"B\d+"/g,"$1")).replace(/#([0-9A-Fa-f]{6})\b/g,function(e,t){return"0xFF"+t})).replace(/"B(\d+)"(\s*(?:[\w$']|"B))/g,function(e,t,n){return t=de[t],/^\(\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\s*(?:"C\d+"\s*)*\)$/.test(t)?/^\(\s*int\s*\)$/.test(t)?"(int)"+n:1<(t=t.split(/"C(\d+)"/g)).length&&!/^\[\s*\]$/.test(de[t[1]])?e:""+n:e})).replace(/\(int\)([^,\]\)\}\?\:\*\+\-\/\^\|\%\&\~<\>\=]+)/g,function(e,n){var i=t(n);return i.untrim("__int_cast("+i.middle+")")})).replace(/\bsuper(\s*"B\d+")/g,"$$superCstr$1").replace(/\bsuper(\s*\.)/g,"$$super$1")).replace(/\b0+((\d*)(?:\.[\d*])?(?:[eE][\-\+]?\d+)?[fF]?)\b/,function(e,t,n){return t===n?e:""===n?"0"+t:t})).replace(/\b(\.?\d+\.?)[fF]\b/g,"$1")).replace(/([^\s])%([^=\s])/g,"$1 % $2")).replace(/\b(frameRate|keyPressed|mousePressed)\b(?!\s*"B)/g,"__$1")).replace(/\b(boolean|byte|char|float|int)\s*"B/g,function(e,t){return"parse"+t.substring(0,1).toUpperCase()+t.substring(1)+'"B'})).replace(/\bpixels\b\s*(("C(\d+)")|\.length)?(\s*=(?!=)([^,\]\)\}]+))?/g,function(e,t,n,i,r,o){return n?(e=de[i],r?"pixels.setPixel"+u("("+e.substring(1,e.length-1)+","+o+")","B"):"pixels.getPixel"+u("("+e.substring(1,e.length-1)+")","B")):t?"pixels.getLength"+u("()","B"):r?"pixels.set"+u("("+o+")","B"):"pixels.toArray"+u("()","B")});do{r=!1,e=e.replace(/((?:'\d+'|\b[A-Za-z_$][\w$]*\s*(?:"[BC]\d+")*)\s*\.\s*(?:[A-Za-z_$][\w$]*\s*(?:"[BC]\d+"\s*)*\.\s*)*)(replace|replaceAll|replaceFirst|contains|equals|equalsIgnoreCase|hashCode|toCharArray|printStackTrace|split|startsWith|endsWith|codePointAt|matches)\s*"B(\d+)"/g,n)}while(r);do{r=!1,e=e.replace(/((?:'\d+'|\b[A-Za-z_$][\w$]*\s*(?:"[BC]\d+")*)\s*(?:\.\s*[A-Za-z_$][\w$]*\s*(?:"[BC]\d+"\s*)*)*)instanceof\s+([A-Za-z_$][\w$]*\s*(?:\.\s*[A-Za-z_$][\w$]*)*)/g,i)}while(r);return e.replace(/\bthis(\s*"B\d+")/g,"$$constr$1")}((e=t(e)).middle)).replace(/"[ABC](\d+)"/g,function(e,t){return v(de[t])});return e.untrim(n)}function _(e,t){this.expr=e,this.transforms=t}function x(e,t,n){this.name=e,this.value=t,this.isDefault=n}function w(e,t){var n,r,o=e.indexOf("=");return 0>o?(n=e,o=t,r=!0):(n=e.substring(0,o),o=fe(e.substring(o+1)),r=!1),new x(i(n.replace(/(\s*"C\d+")+/g,"")),o,r)}function k(e){return"int"===e||"float"===e?"0":"boolean"===e?"false":"color"===e?"0x00000000":"null"}function S(e,t){this.definitions=e,this.varType=t}function C(e){this.expression=e}function E(e){if(ye.test(e)){var t=_e.exec(e);e=e.substring(t[0].length).split(",");for(var n=k(t[2]),i=0;i<e.length;++i)e[i]=w(e[i],n);return new S(e,t[2])}return new C(fe(e))}function T(e,t,n){this.initStatement=e,this.condition=t,this.step=n}function A(e,t){this.initStatement=e,this.container=t}function N(e,t){this.initStatement=e,this.container=t}function M(e){return/\bin\b/.test(e)?new A(E(i((e=e.substring(1,e.length-1).split(/\bin\b/g))[0])),fe(e[1])):0<=e.indexOf(":")&&0>e.indexOf(";")?new N(E(i((e=e.substring(1,e.length-1).split(":"))[0])),fe(e[1])):new T(E(i((e=e.substring(1,e.length-1).split(";"))[0])),fe(e[1]),fe(e[2]))}function R(e){e.sort(function(e,t){return t.weight-e.weight})}function O(e,t,n){this.name=e,this.body=t,this.isStatic=n,t.owner=this}function L(e,t,n){this.name=e,this.body=t,this.isStatic=n,t.owner=this}function P(e){var t=ge.exec(e);ge.lastIndex=0;var n=0<=t[1].indexOf("static"),i=de[l(t[6])];e=ae;var r="class"+ ++me;return ae=r,(t="interface"===t[2]?new O(t[3],ue(i,t[3],t[4]),n):new L(t[3],le(i,t[3],t[4],t[5]),n)).classId=r,t.scopeId=e,he[r]=t,ae=e,t}function D(e,t,n,i){this.name=e,this.params=t,this.body=n,this.isStatic=i}function I(e){e=be.exec(e),be.lastIndex=0;var t=0<=e[1].indexOf("static"),n=";"!==e[6]?de[l(e[6])]:"{}";return new D(e[3],h(de[l(e[4])]),ce(n),t)}function F(e,t,n){this.definitions=e,this.fieldType=t,this.isStatic=n}function $(e){var t=_e.exec(e),n=0<=t[1].indexOf("static");e=e.substring(t[0].length).split(/,\s*/g);for(var i=k(t[2]),r=0;r<e.length;++r)e[r]=w(e[r],i);return new F(e,t[2],n)}function j(e,t){this.params=e,this.body=t}function B(e){return e=RegExp(/"B(\d+)"\s*"A(\d+)"/).exec(e),new j(h(de[e[1]]),ce(de[e[2]]))}function z(e,t,n,i,r,o){for(this.name=e,this.interfacesNames=t,this.methodsNames=n,this.fields=i,this.innerClasses=r,this.misc=o,e=0,t=i.length;e<t;++e)i[e].owner=this}function q(e,t,n,i,r,o,s,a,l){for(this.name=e,this.baseClassName=t,this.interfacesNames=n,this.functions=i,this.methods=r,this.fields=o,this.cstrs=s,this.innerClasses=a,this.misc=l,e=0,t=o.length;e<t;++e)o[e].owner=this}function H(e,t){this.name=e,this.body=t,t.owner=this}function U(e,t){this.name=e,this.body=t,t.owner=this}function W(e){var t=ge.exec(e);ge.lastIndex=0;var n=de[l(t[6])];e=ae;var i="class"+ ++me;return ae=i,(t="interface"===t[2]?new H(t[3],ue(n,t[3],t[4])):new U(t[3],le(n,t[3],t[4],t[5]))).classId=i,t.scopeId=e,he[i]=t,ae=e,t}function V(e,t,n){this.name=e,this.params=t,this.body=n}function G(e){return e=be.exec(e),be.lastIndex=0,new V(e[3],h(de[l(e[4])]),ce(de[l(e[6])]))}function K(e,t){this.argument=e,this.misc=t}function Y(e,t){this.argument=e,this.misc=t}function X(e,t,n){this.name=e,this.argument=t,this.misc=n}function Q(e){this.expr=e}function Z(e){this.label=e}function J(e){for(var t=[],n=0,i=e.length;n<i;++n){var r=e[n];r instanceof S?t=t.concat(r.getNames()):r instanceof K&&r.argument.initStatement instanceof S?t=t.concat(r.argument.initStatement.getNames()):(r instanceof O||r instanceof L||r instanceof H||r instanceof U||r instanceof V||r instanceof g)&&t.push(r.name)}return a({},t)}function ee(e){this.statements=e}function te(e){this.statements=e}var ne=n(),ie=[];e=(e=(e=(e=e.replace(/\r\n?|\n\r/g,"\n").replace(/("(?:[^"\\\n]|\\.)*")|('(?:[^'\\\n]|\\.)*')|(([\[\(=|&!\^:?]\s*)(\/(?![*\/])(?:[^\/\\\n]|\\.)*\/[gim]*)\b)|(\/\/[^\n]*\n)|(\/\*(?:(?!\*\/)(?:.|\n))*\*\/)/g,function(e,t,n,i,r,o,s,a){return t||n?(t=ie.length,ie.push(e),"'"+t+"'"):i?(t=ie.length,ie.push(o),r+"'"+t+"'"):""!==a?" ":"\n"})).replace(/__x([0-9A-F]{4})/g,function(e,t){return"__x005F_x"+t})).replace(/\$/g,"__x0024")).replace(/return\s*[\n\r]+/g,"return ");var re,oe=function(e,t,n,i){return t||i?e:(re=!0,"")};do{re=!1,e=e.replace(/([<]?)<\s*((?:\?|[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\[\])*(?:\s+(?:extends|super)\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)?(?:\s*,\s*(?:\?|[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\[\])*(?:\s+(?:extends|super)\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)?)*)\s*>([=]?)/g,oe)}while(re);var se,ae,le,ue,ce,pe,fe,de=function(e){for(var t=[],n=(e=e.split(/([\{\[\(\)\]\}])/))[0],i=[],r=1;r<e.length;r+=2){var o=e[r];if("["===o||"{"===o||"("===o)i.push(n),n=o;else if("]"===o||"}"===o||")"===o){var s="}"===o?"A":")"===o?"B":"C",a=t.length;t.push(n+o),n=i.pop()+'"'+s+(a+1)+'"'}n+=e[r+1]}return t.unshift(n),t}(e),he={},me=0,ge=/\b((?:(?:public|private|final|protected|static|abstract)\s+)*)(class|interface)\s+([A-Za-z_$][\w$]*\b)(\s+extends\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\b)*)?(\s+implements\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\b)*)?\s*("A\d+")/g,be=/\b((?:(?:public|private|final|protected|static|abstract|synchronized)\s+)*)((?!(?:else|new|return|throw|function|public|private|protected)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*([A-Za-z_$][\w$]*\b)\s*("B\d+")(\s*throws\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)*)?\s*("A\d+"|;)/g,ye=/^((?:(?:public|private|final|protected|static)\s+)*)((?!(?:else|new|return|throw)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*([A-Za-z_$][\w$]*\b)\s*(?:"C\d+"\s*)*([=,]|$)/,ve=/\b((?:(?:public|private|final|protected|static|abstract)\s+)*)((?!(?:new|return|throw)\b)[A-Za-z_$][\w$]*\b)\s*("B\d+")(\s*throws\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)*)?\s*("A\d+")/g,_e=/^((?:(?:public|private|final|protected|static)\s+)*)((?!(?:new|return|throw)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*/,xe=/\bfunction(?:\s+([A-Za-z_$][\w$]*))?\s*("B\d+")\s*("A\d+")/g;return f.prototype.toString=function(){return this.name},d.prototype.getNames=function(){for(var e=[],t=0,n=this.params.length;t<n;++t)e.push(this.params[t].name);return e},d.prototype.prependMethodArgs=function(e){return this.methodArgsParam?"{\nvar "+this.methodArgsParam.name+" = Array.prototype.slice.call(arguments, "+this.params.length+");\n"+e.substring(1):e},d.prototype.toString=function(){if(0===this.params.length)return"()";for(var e="(",t=0,n=this.params.length;t<n;++t)e+=this.params[t]+", ";return e.substring(0,e.length-2)+")"},m.prototype.toString=function(){return"new ("+this.body+")"},g.prototype.toString=function(){var e=se,t=a({this:null},this.params.getNames());se=function(n){return t.hasOwnProperty(n.name)?n.name:e(n)};var n="function";this.name&&(n+=" "+this.name);var i=this.params.prependMethodArgs(this.body.toString());n=n+(this.params+" ")+i;return se=e,n},y.prototype.toString=function(){var e=se;se=function(t){return"this"===t.name?"this":e(t)};for(var t="",n=0,i=this.members.length;n<i;++n)this.members[n].label&&(t+=this.members[n].label+": "),t+=this.members[n].value.toString()+", ";return se=e,t.substring(0,t.length-2)},_.prototype.toString=function(){var e=this.transforms;return function(e){return e.replace(/(\.\s*)?((?:\b[A-Za-z_]|\$)[\w$]*)(\s*\.\s*([A-Za-z_$][\w$]*)(\s*\()?)?/g,function(e,t,n,i,o,s){return t?e:se({name:n,member:o,callSign:!!s})+(i===r?"":i)})}(this.expr).replace(/"!(\d+)"/g,function(t,n){return e[n].toString()})},fe=function(e){var t=[];return new _(e=(e=(e=(e=v(e)).replace(/"H(\d+)"/g,function(e,n){return t.push(b(de[n])),'"!'+(t.length-1)+'"'})).replace(/"F(\d+)"/g,function(e,n){return t.push(function(e){var t=RegExp(/\bnew\s*([A-Za-z_$][\w$]*\s*(?:\.\s*[A-Za-z_$][\w$]*)*)\s*"B\d+"\s*"A(\d+)"/).exec(e);e=ae;var n="class"+ ++me;ae=n;var i=t[1]+"$"+n;return(t=new m(i,le(de[t[2]],i,"","implements "+t[1]))).classId=n,t.scopeId=e,he[n]=t,ae=e,t}(de[n])),'"!'+(t.length-1)+'"'})).replace(/"I(\d+)"/g,function(e,n){return t.push(function(e){e=e.split(",");for(var t=0;t<e.length;++t){var n=e[t].indexOf(":");e[t]=0>n?{value:fe(e[t])}:{label:i(e[t].substring(0,n)),value:fe(i(e[t].substring(n+1)))}}return new y(e)}(de[n])),'"!'+(t.length-1)+'"'}),t)},x.prototype.toString=function(){return this.name+" = "+this.value},S.prototype.getNames=function(){for(var e=[],t=0,n=this.definitions.length;t<n;++t)e.push(this.definitions[t].name);return e},S.prototype.toString=function(){return"var "+this.definitions.join(",")},C.prototype.toString=function(){return this.expression.toString()},T.prototype.toString=function(){return"("+this.initStatement+"; "+this.condition+"; "+this.step+")"},A.prototype.toString=function(){var e=this.initStatement.toString();return 0<=e.indexOf("=")&&(e=e.substring(0,e.indexOf("="))),"("+e+" in "+this.container+")"},N.iteratorId=0,N.prototype.toString=function(){var e=this.initStatement.toString(),t="$it"+N.iteratorId++;e=e.replace(/^\s*var\s*/,"").split("=")[0];return"(var "+t+" = new $p.ObjectIterator("+this.container+"), "+e+" = void(0); "+t+".hasNext() && (("+e+" = "+t+".next()) || true);)"},O.prototype.toString=function(){return""+this.body},L.prototype.toString=function(){return""+this.body},D.prototype.toString=function(){var e=a({},this.params.getNames()),t=se;se=function(n){return e.hasOwnProperty(n.name)?n.name:t(n)};var n=this.params.prependMethodArgs(this.body.toString());n="function "+this.methodId+this.params+" "+n+"\n";return se=t,n},F.prototype.getNames=function(){for(var e=[],t=0,n=this.definitions.length;t<n;++t)e.push(this.definitions[t].name);return e},F.prototype.toString=function(){var e=se({name:"[this]"});if(this.isStatic){for(var t=this.owner.name,n=[],i=0,r=this.definitions.length;i<r;++i){var o=this.definitions[i],s=o.name,a=t+"."+s;n.push("if("+a+" === void(0)) {\n "+a+" = "+o.value+"; }\n$p.defineProperty("+e+", '"+s+"', { get: function(){return "+a+";}, set: function(val){"+a+" = val;} });\n")}return n.join("")}return e+"."+this.definitions.join("; "+e+".")},j.prototype.toString=function(){var e=a({},this.params.getNames()),t=se;se=function(n){return e.hasOwnProperty(n.name)?n.name:t(n)};var n="function $constr_"+this.params.params.length+this.params.toString(),i=this.params.prependMethodArgs(this.body.toString());return/\$(superCstr|constr)\b/.test(i)||(i="{\n$superCstr();\n"+i.substring(1)),se=t,n+i+"\n"},z.prototype.getMembers=function(e,t,n){var i,r,o,s;for(this.owner.base&&this.owner.base.body.getMembers(e,t,n),i=0,o=this.fields.length;i<o;++i){var a=this.fields[i].getNames();for(r=0,s=a.length;r<s;++r)e[a[r]]=this.fields[i]}for(i=0,o=this.methodsNames.length;i<o;++i)t[this.methodsNames[i]]=!0;for(i=0,o=this.innerClasses.length;i<o;++i)n[(e=this.innerClasses[i]).name]=e},z.prototype.toString=function(){for(var e=this.owner,t=0;e;)++t,e=e.scope;e=this.name;var n,i,r=t="";if(this.getMembers({},{},{}),this.owner.interfaces){var o,s=[];for(n=0,i=this.interfacesNames.length;n<i;++n)this.owner.interfaces[n]&&(o=se({name:this.interfacesNames[n]}),s.push(o),t+="$p.extendInterfaceMembers("+e+", "+o+");\n");r+=e+".$interfaces = ["+s.join(", ")+"];\n"}for(r=r+(e+".$isInterface = true;\n")+e+".$methods = ['"+this.methodsNames.join("', '")+"'];\n",R(this.innerClasses),n=0,i=this.innerClasses.length;n<i;++n)(s=this.innerClasses[n]).isStatic&&(t+=e+"."+s.name+" = "+s+";\n");for(n=0,i=this.fields.length;n<i;++n)(s=this.fields[n]).isStatic&&(t+=e+"."+s.definitions.join(";\n"+e+".")+";\n");return"(function() {\nfunction "+e+"() { throw 'Unable to create the interface'; }\n"+t+r+"return "+e+";\n})()"},ue=function(e,n,i){e=p(e=c(e=e.substring(1,e.length-1)),n);var o,s,a=[],l=[];for(e=(e=e.replace(/"([DE])(\d+)"/g,function(e,t,n){return"D"===t?a.push(n):"E"===t&&l.push(n),""})).split(/;(?:\s*;)*/g),i!==r&&(o=i.replace(/^\s*extends\s+(.+?)\s*$/g,"$1").split(/\s*,\s*/g)),i=0,s=a.length;i<s;++i){var u=I(de[a[i]]);a[i]=u.name}for(i=0,s=e.length-1;i<s;++i)u=t(e[i]),e[i]=$(u.middle);for(u=e.pop(),i=0,s=l.length;i<s;++i)l[i]=P(de[l[i]]);return new z(n,o,a,e,l,{tail:u})},q.prototype.getMembers=function(e,t,n){var i,r,o,s;for(this.owner.base&&this.owner.base.body.getMembers(e,t,n),i=0,o=this.fields.length;i<o;++i){var a=this.fields[i].getNames();for(r=0,s=a.length;r<s;++r)e[a[r]]=this.fields[i]}for(i=0,o=this.methods.length;i<o;++i)t[(e=this.methods[i]).name]=e;for(i=0,o=this.innerClasses.length;i<o;++i)n[(t=this.innerClasses[i]).name]=t},q.prototype.toString=function(){var e="$this_"+function(e){for(var t=0;e;)++t,e=e.scope;return t}(this.owner),t=this.name,n="var "+e+" = this;\n",r="",o="",s={},a={},l={};this.getMembers(s,a,l);var u,c,p,f,d=se;if(se=function(n){var i=n.name;return"this"===i?n.callSign||!n.member?e+".$self":e:s.hasOwnProperty(i)?s[i].isStatic?t+"."+i:e+"."+i:l.hasOwnProperty(i)?e+"."+i:a.hasOwnProperty(i)?a[i].isStatic?t+"."+i:e+".$self."+i:d(n)},this.baseClassName?(u=d({name:this.baseClassName}),n=n+"var $super = { $upcast: "+e+" };\nfunction $superCstr(){"+u+".apply($super,arguments);if(!('$self' in $super)) $p.extendClassChain($super)}\n",o+=t+".$base = "+u+";\n"):n+="function $superCstr(){$p.extendClassChain("+e+")}\n",this.owner.base&&(r+="$p.extendStaticMembers("+t+", "+u+");\n"),this.owner.interfaces){for(p=[],u=0,c=this.interfacesNames.length;u<c;++u)this.owner.interfaces[u]&&(f=d({name:this.interfacesNames[u]}),p.push(f),r+="$p.extendInterfaceMembers("+t+", "+f+");\n");o+=t+".$interfaces = ["+p.join(", ")+"];\n"}for(0<this.functions.length&&(n+=this.functions.join("\n")+"\n"),R(this.innerClasses),u=0,c=this.innerClasses.length;u<c;++u)(p=this.innerClasses[u]).isStatic?(r+=t+"."+p.name+" = "+p+";\n",n+=e+"."+p.name+" = "+t+"."+p.name+";\n"):n+=e+"."+p.name+" = "+p+";\n";for(u=0,c=this.fields.length;u<c;++u){var h=this.fields[u];if(h.isStatic)for(r+=t+"."+h.definitions.join(";\n"+t+".")+";\n",p=0,f=h.definitions.length;p<f;++p){var m=h.definitions[p].name,g=t+"."+m;n=n+"$p.defineProperty("+e+", '"+m+"', {get: function(){return "+g+"}, set: function(val){"+g+" = val}});\n"}else n+=e+"."+h.definitions.join(";\n"+e+".")+";\n"}for(p={},u=0,c=this.methods.length;u<c;++u)h=p[(f=this.methods[u]).name],m=f.name+"$"+f.params.params.length,g=!!f.params.methodArgsParam,h?m+="_"+ ++h:h=1,f.methodId=m,p[f.name]=h,f.isStatic?(r+=f,r+="$p.addMethod("+t+", '"+f.name+"', "+m+", "+g+");\n"):n+=f,n+="$p.addMethod("+e+", '"+f.name+"', "+m+", "+g+");\n";for(n+=i(this.misc.tail),0<this.cstrs.length&&(n+=this.cstrs.join("\n")+"\n"),n+="function $constr() {\n",p=[],u=0,c=this.cstrs.length;u<c;++u)f=this.cstrs[u].params.params.length,p.push("if(arguments.length "+(this.cstrs[u].params.methodArgsParam?">=":"===")+" "+f+") { $constr_"+f+".apply("+e+", arguments); }");return 0<p.length&&(n+=p.join(" else ")+" else "),n+="$superCstr();\n}\n",se=d,"(function() {\nfunction "+t+"() {\n"+(n+="$constr.apply(null, arguments);\n")+"}\n"+r+o+"return "+t+";\n})()"},le=function(e,n,i,o){e=p(e=c(e=e.substring(1,e.length-1)),n);var s,a,l=[],u=[],f=[],d=[];for(e=(e=e.replace(/"([DEGH])(\d+)"/g,function(e,t,n){return"D"===t?l.push(n):"E"===t?u.push(n):"H"===t?d.push(n):f.push(n),""})).replace(/^(?:\s*;)+/,"").split(/;(?:\s*;)*/g),i!==r&&(s=i.replace(/^\s*extends\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)\s*$/g,"$1")),o!==r&&(a=o.replace(/^\s*implements\s+(.+?)\s*$/g,"$1").split(/\s*,\s*/g)),i=0;i<d.length;++i)d[i]=b(de[d[i]]);for(i=0;i<l.length;++i)l[i]=I(de[l[i]]);for(i=0;i<e.length-1;++i)o=t(e[i]),e[i]=$(o.middle);for(o=e.pop(),i=0;i<f.length;++i)f[i]=B(de[f[i]]);for(i=0;i<u.length;++i)u[i]=P(de[u[i]]);return new q(n,s,a,d,l,e,f,u,{tail:o})},H.prototype.toString=function(){return"var "+this.name+" = "+this.body+";\n$p."+this.name+" = "+this.name+";\n"},U.prototype.toString=function(){return"var "+this.name+" = "+this.body+";\n$p."+this.name+" = "+this.name+";\n"},V.prototype.toString=function(){var e=a({},this.params.getNames()),t=se;se=function(n){return e.hasOwnProperty(n.name)?n.name:t(n)};var n=this.params.prependMethodArgs(this.body.toString());n="function "+this.name+this.params+" "+n+"\n$p."+this.name+" = "+this.name+";\n"+this.name+" = "+this.name+".bind($p);";return se=t,n},K.prototype.toString=function(){return this.misc.prefix+this.argument.toString()},Y.prototype.toString=function(){return this.misc.prefix+this.argument.toString()},X.prototype.toString=function(){var e=this.misc.prefix;return this.argument!==r&&(e+=this.argument.toString()),e},Q.prototype.toString=function(){return"case "+this.expr+":"},Z.prototype.toString=function(){return this.label},pe=function(e,n,o){var s=RegExp(/\b(catch|for|if|switch|while|with)\s*"B(\d+)"|\b(do|else|finally|return|throw|try|break|continue)\b|("[ADEH](\d+)")|\b(case)\s+([^:]+):|\b([A-Za-z_$][\w$]*\s*:)|(;)/g),a=[];e=e.replace(/\b(catch\s*"B\d+"\s*"A\d+")(\s*catch\s*"B\d+"\s*"A\d+")+/g,"$1");for(var l,u,c=0;null!==(l=s.exec(e));){if(l[1]!==r)u=e.lastIndexOf('"B',s.lastIndex),c=e.substring(c,u),"for"===l[1]?a.push(new K(M(de[l[2]]),{prefix:c})):"catch"===l[1]?a.push(new Y(h(de[l[2]]),{prefix:c})):a.push(new X(l[1],fe(de[l[2]]),{prefix:c}));else if(l[3]!==r)a.push(new X(l[3],r,{prefix:e.substring(c,s.lastIndex)}));else if(l[4]!==r){if(0!==i(u=e.substring(c,s.lastIndex-l[4].length)).length)continue;a.push(u),c=l[4].charAt(1),l=l[5],"D"===c?a.push(n(de[l])):"E"===c?a.push(o(de[l])):"H"===c?a.push(b(de[l])):a.push(ce(de[l]))}else if(l[6]!==r)a.push(new Q(fe(i(l[7]))));else if(l[8]!==r){if(0!==i(u=e.substring(c,s.lastIndex-l[8].length)).length)continue;a.push(new Z(e.substring(c,s.lastIndex)))}else l=t(e.substring(c,s.lastIndex-1)),a.push(l.left),a.push(E(l.middle)),a.push(l.right+";");c=s.lastIndex}return n=t(e.substring(c)),a.push(n.left),""!==n.middle&&(a.push(E(n.middle)),a.push(";"+n.right)),a},ee.prototype.toString=function(){var e=J(this.statements),t=se;(function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0})(e)||(se=function(n){return e.hasOwnProperty(n.name)?n.name:t(n)});var n="{\n"+this.statements.join("")+"\n}";return se=t,n},ce=function(e){return e=t(e.substring(1,e.length-1)),new ee(pe(e.middle))},te.prototype.toString=function(){for(var e,t=[],n=[],i=0,r=this.statements.length;i<r;++i)(e=this.statements[i])instanceof U||e instanceof H?t.push(e):n.push(e);R(t);var a=J(this.statements);return se=function(e){return e=e.name,a.hasOwnProperty(e)?e:ne.hasOwnProperty(e)||s.hasOwnProperty(e)||o.hasOwnProperty(e)?"$p."+e:e},t="// this code was autogenerated from PJS\n(function($p) {\n"+t.join("")+"\n"+n.join("")+"\n})",se=null,t},function(e){function t(e,t){for(var n,o=t.split("."),s=e.scope;s;){if(s.hasOwnProperty(o[0])){n=s[o[0]];break}s=s.scope}n===r&&(n=i[o[0]]);s=1;for(var a=o.length;s<a&&n;++s)n=n.inScope[o[s]];return n}var n,i={};for(n in he)if(he.hasOwnProperty(n)){var o=(e=he[n]).scopeId,s=e.name;o?(o=he[o],e.scope=o,o.inScope===r&&(o.inScope={}),o.inScope[s]=e):i[s]=e}for(n in he)if(he.hasOwnProperty(n)){(s=(e=he[n]).body.baseClassName)&&(s=t(e,s))&&(e.base=s,s.derived||(s.derived=[]),s.derived.push(e));var a,l;o=[];if((s=e.body.interfacesNames)&&0<s.length){for(a=0,l=s.length;a<l;++a){var u=t(e,s[a]);o.push(u),u&&(u.derived||(u.derived=[]),u.derived.push(e))}0<o.length&&(e.interfaces=o)}}}(e=function(){var e=(e=c(de[0])).replace(/\bimport\s+[^;]+;/g,"");return new te(pe(e,G,W))}()),function(e){function t(e,t){var n=o[e];if(!n)return!1;var i=n.indexOf(t);return!(0>i)&&(n.splice(i,1),!(0<n.length)&&(delete o[e],!0))}e=[];var n,i,r,o={};for(n in he)if(he.hasOwnProperty(n))if((r=he[n]).inScope||r.derived){var s=[];if(r.inScope)for(i in r.inScope)r.inScope.hasOwnProperty(i)&&s.push(r.inScope[i]);r.derived&&(s=s.concat(r.derived)),o[n]=s}else e.push(n),r.weight=0;for(;0<e.length;)if(n=e.shift(),(r=he[n]).scopeId&&t(r.scopeId,r)&&(e.push(r.scopeId),he[r.scopeId].weight=r.weight+1),r.base&&t(r.base.classId,r)&&(e.push(r.base.classId),r.base.weight=r.weight+1),r.interfaces)for(n=0,i=r.interfaces.length;n<i;++n)r.interfaces[n]&&t(r.interfaces[n].classId,r)&&(e.push(r.interfaces[n].classId),r.interfaces[n].weight=r.weight+1)}(e),function(e,t){return e.replace(/'(\d+)'/g,function(e,n){var i=t[n];return"/"===i.charAt(0)?i:/^'((?:[^'\\\n])|(?:\\.[0-9A-Fa-f]*))'$/.test(i)?"(new $p.Character("+i+"))":i})}(e=(e=(e=e.toString()).replace(/\s*\n(?:[\t ]*\n)+/g,"\n\n")).replace(/__x([0-9A-F]{4})/g,function(e,t){return String.fromCharCode(parseInt(t,16))}),ie)}var r,o=t.defaultScope,s=o.PConstants,a=t.aFunctions,l=t.Browser.document;return e.compile=function(t){var n=new e.Sketch;return t=function(e,t){if((n=RegExp(/\/\*\s*@pjs\s+((?:[^\*]|\*+[^\*\/])*)\*\//g).exec(e))&&2===n.length)for(var n,i=[],r=function(e){return e.replace(/^\s*["']?/,"").replace(/["']?\s*$/,"")},o=0,s=(n=n.splice(1,2)[0].replace(/\{([\s\S]*?)\}/g,function(e,t){return i.push(t),"{"+(i.length-1)+"}"}).replace("\n","").replace("\r","").split(";")).length;o<s;o++)if((u=n[o].split("="))&&2===u.length){var a=r(u[0]),l=r(u[1]),u=[];if("preload"===a)for(u=l.split(","),a=0,l=u.length;a<l;a++){var c=r(u[a]);t.imageCache.add(c)}else if("font"===a)for(u=l.split(","),a=0,l=u.length;a<l;a++){c=r(u[a]);var p=/^\{(\d*?)\}$/.exec(c);PFont.preloading.add(p?JSON.parse("{"+i[p[1]]+"}"):c)}else"pauseOnBlur"===a?t.options.pauseOnBlur="true"===l:"globalKeyEvents"===a?t.options.globalKeyEvents="true"===l:"param-"===a.substring(0,6)?t.params[a.substring(6)]=l:t.options[a]=l}return e}(t,n),t=i(t),n.sourceCode=t,n},e.logger=new function(e){var t={BufferMax:200};return t.wrapper=e.createElement("div"),t.wrapper.setAttribute("style","opacity:.75;display:block;position:fixed;bottom:0px;left:0px;right:0px;height:50px;background-color:#aaa"),t.dragger=e.createElement("div"),t.dragger.setAttribute("style","display:block;border:3px black raised;cursor:n-resize;position:absolute;top:0px;left:0px;right:0px;height:5px;background-color:#333"),t.closer=e.createElement("div"),t.closer.onmouseover=function(){t.closer.style.setProperty("background-color","#ccc")},t.closer.onmouseout=function(){t.closer.style.setProperty("background-color","#ddd")},t.closer.innerHTML="&#10006;",t.closer.setAttribute("style","opacity:.5;display:block;border:3px black raised;position:absolute;top:10px;right:30px;height:20px;width:20px;background-color:#ddd;color:#000;line-height:20px;text-align:center;cursor:pointer;"),t.javaconsole=e.createElement("div"),t.javaconsole.setAttribute("style","overflow-x: auto;display:block;position:absolute;left:10px;right:0px;bottom:5px;top:10px;overflow-y:scroll;height:40px;"),t.wrapper.appendChild(t.dragger),t.wrapper.appendChild(t.javaconsole),t.wrapper.appendChild(t.closer),t.dragger.onmousedown=function(n){t.divheight=t.wrapper.style.height,e.selection?e.selection.empty():window.getSelection().removeAllRanges();var i=n.screenY;window.onmousemove=function(e){t.wrapper.style.height=parseFloat(t.divheight)+(i-e.screenY)+"px",t.javaconsole.style.height=parseFloat(t.divheight)+(i-e.screenY)-10+"px"},window.onmouseup=function(n){e.selection?e.selection.empty():window.getSelection().removeAllRanges(),t.wrapper.style.height=parseFloat(t.divheight)+(i-n.screenY)+"px",t.javaconsole.style.height=parseFloat(t.divheight)+(i-n.screenY)-10+"px",window.onmousemove=null,window.onmouseup=null}},t.BufferArray=[],t.print=t.log=function(e){t.BufferArray[t.BufferArray.length-1]?t.BufferArray[t.BufferArray.length-1]+=e+"":t.BufferArray.push(e),t.javaconsole.innerHTML=t.BufferArray.join(""),"hidden"===t.wrapper.style.visibility&&(t.wrapper.style.visibility="visible"),"hidden"===t.wrapper.style.visibility&&(t.wrapper.style.visibility="visible")},t.println=function(n){e.body.appendChild(t.wrapper),t.print(n),t.BufferArray.push("<br/>"),t.javaconsole.innerHTML=t.BufferArray.join(""),"hidden"===t.wrapper.style.visibility&&(t.wrapper.style.visibility="visible"),t.BufferArray.length>t.BufferMax?t.BufferArray.splice(0,1):t.javaconsole.scrollTop=t.javaconsole.scrollHeight,"hidden"===t.wrapper.style.visibility&&(t.wrapper.style.visibility="visible")},t.showconsole=function(){t.wrapper.style.visibility="visible"},t.hideconsole=function(){t.wrapper.style.visibility="hidden"},t.closer.onclick=function(){t.hideconsole()},t.hideconsole(),t}(l),e}},{}],26:[function(e,t,n){t.exports=function(e,t){function n(e,t){return e in l?l[e]:"function"==typeof l[t]?l[t]:function(e){if(e instanceof Array)return e;if("number"==typeof e){var t=[];return t.length=e,t}}}var i=e.defaultScope,r=e.extend,o=e.Browser,s=o.ajax,a=o.navigator,l=o.window,u=o.document,c=e.noop,p=i.PConstants;PFont=i.PFont,PShapeSVG=i.PShapeSVG,PVector=i.PVector,Char=Character=i.Char,ObjectIterator=i.ObjectIterator,XMLElement=i.XMLElement,XML=i.XML;var f=l.HTMLCanvasElement,d=l.HTMLImageElement,h=l.localStorage;u.head||(u.head=u.getElementsByTagName("head")[0]);var m=n("Float32Array","WebGLFloatArray"),g=n("Int32Array","WebGLIntArray"),b=n("Uint16Array","WebGLUnsignedShortArray"),y=n("Uint8Array","WebGLUnsignedByteArray");if(9<=u.documentMode&&!u.doctype)throw"The doctype directive is missing. The recommended doctype in Internet Explorer is the HTML5 doctype: <!DOCTYPE html>";var v=[],_={},x=this.Processing=function(e,n,o){function w(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n),te.push({elem:e,type:t,fn:n})}function k(e,n,i,r){var o=Mt.locations[e];o===t&&(o=ie.getUniformLocation(n,i),Mt.locations[e]=o),null!==o&&(4===r.length?ie.uniform4fv(o,r):3===r.length?ie.uniform3fv(o,r):2===r.length?ie.uniform2fv(o,r):ie.uniform1f(o,r))}function S(e,n,i,r){var o=Mt.locations[e];o===t&&(o=ie.getUniformLocation(n,i),Mt.locations[e]=o),null!==o&&(4===r.length?ie.uniform4iv(o,r):3===r.length?ie.uniform3iv(o,r):2===r.length?ie.uniform2iv(o,r):ie.uniform1i(o,r))}function C(e,n,i,r,o){var s=Mt.locations[e];s===t&&(s=ie.getUniformLocation(n,i),Mt.locations[e]=s),-1!==s&&(16===o.length?ie.uniformMatrix4fv(s,r,o):9===o.length?ie.uniformMatrix3fv(s,r,o):ie.uniformMatrix2fv(s,r,o))}function E(e,n,i,r,o){var s=Mt.attributes[e];s===t&&(s=ie.getAttribLocation(n,i),Mt.attributes[e]=s),-1!==s&&(ie.bindBuffer(ie.ARRAY_BUFFER,o),ie.vertexAttribPointer(s,r,ie.FLOAT,!1,0,0),ie.enableVertexAttribArray(s))}function T(e,n,i){var r=Mt.attributes[e];r===t&&(r=ie.getAttribLocation(n,i),Mt.attributes[e]=r),-1!==r&&ie.disableVertexAttribArray(r)}function A(e,t,n,i){return St===p.HSB?(e=(n=ne.color.toRGB(e,t,n))[0],t=n[1],n=n[2]):(e=Math.round(e/vt*255),t=Math.round(t/_t*255),n=Math.round(n/xt*255)),e=0>e?0:e,t=0>t?0:t,n=0>n?0:n,(255<(i=0>(i=Math.round(i/yt*255))?0:i)?255:i)<<24&p.ALPHA_MASK|(255<e?255:e)<<16&p.RED_MASK|(255<t?255:t)<<8&p.GREEN_MASK|(255<n?255:n)&p.BLUE_MASK}function N(e){var t,n,i;t=((e&p.RED_MASK)>>>16)/255,n=((e&p.GREEN_MASK)>>>8)/255,i=(e&p.BLUE_MASK)/255,e=ne.max(ne.max(t,n),i);var r=ne.min(ne.min(t,n),i);return r===e?[0,0,e*xt]:(0>(t=(t===e?(n-i)/(e-r):n===e?2+(i-t)/(e-r):4+(t-n)/(e-r))/6)?t+=1:1<t&&(t-=1),[t*vt,(e-r)/e*_t,e*xt])}function M(){ie.restore(),Ge=Qe=!0}function R(){var e=(Date.now()-At)/1e3,t=++Nt/e;.5<e&&(At=Date.now(),Nt=0,ne.__frameRate=t),ne.frameCount++}function O(e){return 2147483647<(e=parseInt("0x"+e,16))&&(e-=4294967296),e}function L(e){return"number"==typeof e?0!==e:"boolean"==typeof e?e:"string"==typeof e?"true"===e.toLowerCase():e instanceof Char?49===e.code||84===e.code||116===e.code:void 0}function P(e){return"number"==typeof e?e:"boolean"==typeof e?e?1:0:"string"==typeof e?parseFloat(e):e instanceof Char?e.code:void 0}function D(e,t){return"number"==typeof e?4294967295&e:"boolean"==typeof e?e?1:0:"string"==typeof e?4294967295&parseInt(e,t||10):e instanceof Char?e.code:void 0}function I(){Ue&&(Ge&&(ie.fillStyle=ne.color.toString(Ve),Ge=!1),ie.fill())}function F(){Ke&&(Qe&&(ie.strokeStyle=ne.color.toString(Xe),Qe=!1),ie.stroke())}function $(){I(),F(),ie.closePath()}function j(e,n,i){var r=Gn.shift();r===t&&((r={}).canvas=u.createElement("canvas"),r.context=r.canvas.getContext("2d")),Gn.push(r);var o=r.canvas,s=r.context;return n=n||e.width,i=i||e.height,o.width=n,o.height=i,e?"data"in e?s.putImageData(e,0,0):(s.clearRect(0,0,n,i),s.drawImage(e,0,0,n,i)):s.clearRect(0,0,n,i),r}function B(e,t,n,i){var r=new Kn(n,i,p.ARGB);return r.fromImageData(ne.toImageData(e,t,n,i)),r}function z(e,t,n,i,r){if(r.isRemote)throw"Image is loaded remotely. Cannot get x,y,w,h.";var o=new Kn(n,i,p.ARGB),s=o.imageData.data,a=r.width,l=r.height;r=r.imageData.data;var u=Math.max(0,-t),c=Math.max(0,-e);for(i=Math.min(i,l-t),l=Math.min(n,a-e);u<i;++u)for(var f=4*((t+u)*a+(e+c)),d=4*(u*n+c),h=c;h<l;++h)s[d++]=r[f++],s[d++]=r[f++],s[d++]=r[f++],s[d++]=r[f++];return o.__isDirty=!0,o}function q(){Wt&&(ie=Le,Wt=!1,ne.updatePixels())}function H(){function e(e,t){e[t]=function(){q(),ie[t].apply(ie,arguments)}}function t(e,t){ne.defineProperty(e,t,{get:function(){return q(),ie[t]},set:function(e){q(),ie[t]=e}})}for(var n in ie)"function"==typeof ie[n]?e(this,n):t(this,n)}function U(e){return e instanceof String?e:"number"==typeof e?e===(0|e)?e.toString():ne.nf(e,0,3):null===e||e===t?"":e.toString()}function W(e,t,n,i){var r;0>e.indexOf("\n")?(e=[e],r=1):r=(e=e.split(/\r?\n/g)).length;var o=0;It===p.TOP?o=Bt+zt:It===p.CENTER?o=Bt/2-(r-1)*qt/2:It===p.BOTTOM&&(o=-(zt+(r-1)*qt));for(var s=0;s<r;++s)oe.text$line(e[s],t,n+o,i,Dt),o+=qt}function V(e,t,n,i,r,o){if(0!==e.length&&0!==i&&0!==r&&!(jt>r)){for(var s=-1,a=0,l=0,u=[],c=0,f=e.length;c<f;c++){var d=e[c],h=" "===d,m=Ht.measureTextWidth(d);if("\n"!==d&&l+m<=i)h&&(s=c),l+=m;else{if(s+1===a){if(!(0<c))return;s=c}"\n"===d?(u.push({text:e.substring(a,c),width:l}),a=c+1):(u.push({text:e.substring(a,s+1),width:l}),a=s+1),l=0,c=a-1}}for(a<f&&u.push({text:e.substring(a),width:l}),e=1,s=Bt,Dt===p.CENTER?e=i/2:Dt===p.RIGHT&&(e=i),i=u.length,a=Math.min(i,Math.floor(r/qt)),It===p.TOP?s=Bt+zt:It===p.CENTER?s=r/2-qt*(a/2-1):It===p.BOTTOM&&(s=zt+qt),a=0;a<i&&!(s+(c=a*qt)>r-zt);a++)l=u[a],oe.text$line(l.text,t+e,n+s+c,o,Dt)}}function G(e){for(var t in oe="3D"===e?new Pn:"2D"===e?new Ln:new Dn,Dn.prototype)Dn.prototype.hasOwnProperty(t)&&0>t.indexOf("$")&&(ne[t]=oe[t]);oe.$init()}function K(e){return function(){return G("2D"),oe[e].apply(this,arguments)}}function Y(e){switch(e=e.which||e.keyCode){case 13:return 10;case 91:case 93:case 224:return 157;case 57392:return 17;case 46:return 127;case 45:return 155}return e}function X(e){return"function"==typeof e.preventDefault?e.preventDefault():"function"==typeof e.stopPropagation&&e.stopPropagation(),!1}function Q(){for(var e in Gt)if(Gt.hasOwnProperty(e))return void(ne.__keyPressed=!0);ne.__keyPressed=!1}function Z(e,t){Gt[e]=t,Kt=null,ne.key=t,ne.keyCode=e,ne.keyPressed(),ne.keyCode=0,ne.keyTyped(),Q()}if(!(this instanceof x))throw"called Processing constructor as if it were a function: missing 'new'.";var J={},ee=e===t&&n===t;if(!("getContext"in(J=ee?u.createElement("canvas"):"string"==typeof e?u.getElementById(e):e)))throw"called Processing constructor without passing canvas element reference or id.";var te=[],ne=this;ne.Char=ne.Character=Char,r.withCommonFunctions(ne),r.withMath(ne),r.withProxyFunctions(ne,function(e){return Array.prototype.slice.call(e,1)}),r.withTouch(ne,J,w,u,p),o&&Object.keys(o).forEach(function(e){ne[e]=o[e]}),ne.externals={canvas:J,context:t,sketch:t,window:l},ne.name="Processing.js Instance",ne.use3DContext=!1,ne.focused=!1,ne.breakShape=!1,ne.glyphTable={},ne.pmouseX=0,ne.pmouseY=0,ne.mouseX=0,ne.mouseY=0,ne.mouseButton=0,ne.mouseScroll=0,ne.mouseClicked=t,ne.mouseDragged=t,ne.mouseMoved=t,ne.mousePressed=t,ne.mouseReleased=t,ne.mouseScrolled=t,ne.mouseOver=t,ne.mouseOut=t,ne.touchStart=t,ne.touchEnd=t,ne.touchMove=t,ne.touchCancel=t,ne.key=t,ne.keyCode=t,ne.keyPressed=c,ne.keyReleased=c,ne.keyTyped=c,ne.draw=t,ne.setup=t,ne.__mousePressed=!1,ne.__keyPressed=!1,ne.__frameRate=60,ne.frameCount=0,ne.width=100,ne.height=100;var ie,re,oe,se,ae,le,ue,ce,pe,fe,de,he,me,ge,be,ye,ve,_e,xe,we,ke,Se,Ce,Ee,Te,Ae,Ne,Me,Re,Oe,Le,Pe,De,Ie,Fe,$e,je,Be,ze,qe,He,Ue=!0,We=[1,1,1,1],Ve=4294967295,Ge=!0,Ke=!0,Ye=[0,0,0,1],Xe=4278190080,Qe=!0,Ze=1,Je=!1,et=!1,tt=!0,nt=0,it=p.CORNER,rt=p.CENTER,ot=0,st=0,at=0,lt=p.NORMAL_MODE_AUTO,ut=60,ct=1e3/ut,pt=J.style.cursor,ft=p.POLYGON,dt=0,ht=20,mt=!1,gt=-3355444,bt=20,yt=255,vt=255,_t=255,xt=255,wt=0,kt=0,St=p.RGB,Ct=null,Et=null,Tt=Date.now(),At=Tt,Nt=0,Mt={attributes:{},locations:{}},Rt=0,Ot=0,Lt=p.IMAGE,Pt=!1,Dt=p.LEFT,It=p.BASELINE,Ft=p.MODEL,$t="Arial",jt=12,Bt=9,zt=2,qt=14,Ht=PFont.get($t,jt),Ut=null,Wt=!1,Vt=1e3,Gt=[],Kt=null,Yt=[p.SHIFT,p.CONTROL,p.ALT,p.CAPSLK,p.PGUP,p.PGDN,p.END,p.HOME,p.LEFT,p.UP,p.RIGHT,p.DOWN,p.NUMLK,p.INSERT,p.F1,p.F2,p.F3,p.F4,p.F5,p.F6,p.F7,p.F8,p.F9,p.F10,p.F11,p.F12,p.META],Xt=0,Qt=0,Zt=0,Jt=[],en=[],tn=[],nn=new m(p.SINCOS_LENGTH),rn=new m(p.SINCOS_LENGTH),on=!1,sn=Math.PI/180*60,an=ne.width/2,ln=ne.height/2,un=ln/Math.tan(sn/2),cn=un/10,pn=10*un,fn=ne.width/ne.height,dn=[],hn=[],mn=0,gn=!1,bn=!1,yn=!0,vn=p.CORNER,_n=[],xn=new m([.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,.5,-.5,.5,.5,.5,.5,-.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,-.5,-.5,.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,-.5,-.5,-.5,-.5,.5,.5,.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,.5,.5,.5]),wn=new m([.5,.5,.5,.5,-.5,.5,.5,.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,.5,-.5,-.5,.5,.5,.5,.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5]),kn=new m([0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0]),Sn=new m([0,0,0,0,1,0,1,1,0,1,0,0]),Cn=new m([0,0,1,0,0,1,0,0,1,0,0,1]),En="varying vec4 vFrontColor;attribute vec3 aVertex;attribute vec3 aNormal;attribute vec4 aColor;attribute vec2 aTexture;varying   vec2 vTexture;uniform vec4 uColor;uniform bool uUsingMat;uniform vec3 uSpecular;uniform vec3 uMaterialEmissive;uniform vec3 uMaterialAmbient;uniform vec3 uMaterialSpecular;uniform float uShininess;uniform mat4 uModel;uniform mat4 uView;uniform mat4 uProjection;uniform mat4 uNormalTransform;uniform int uLightCount;uniform vec3 uFalloff;struct Light {  int type;  vec3 color;  vec3 position;  vec3 direction;  float angle;  vec3 halfVector;  float concentration;};uniform Light uLights0;uniform Light uLights1;uniform Light uLights2;uniform Light uLights3;uniform Light uLights4;uniform Light uLights5;uniform Light uLights6;uniform Light uLights7;Light getLight(int index){  if(index == 0) return uLights0;  if(index == 1) return uLights1;  if(index == 2) return uLights2;  if(index == 3) return uLights3;  if(index == 4) return uLights4;  if(index == 5) return uLights5;  if(index == 6) return uLights6;  return uLights7;}void AmbientLight( inout vec3 totalAmbient, in vec3 ecPos, in Light light ) {  float d = length( light.position - ecPos );  float attenuation = 1.0 / ( uFalloff[0] + ( uFalloff[1] * d ) + ( uFalloff[2] * d * d ));  totalAmbient += light.color * attenuation;}void DirectionalLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float powerFactor = 0.0;  float nDotVP = max(0.0, dot( vertNormal, normalize(-light.position) ));  float nDotVH = max(0.0, dot( vertNormal, normalize(-light.position-normalize(ecPos) )));  if( nDotVP != 0.0 ){    powerFactor = pow( nDotVH, uShininess );  }  col += light.color * nDotVP;  spec += uSpecular * powerFactor;}void PointLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float powerFactor;   vec3 VP = light.position - ecPos;  float d = length( VP );   VP = normalize( VP );  float attenuation = 1.0 / ( uFalloff[0] + ( uFalloff[1] * d ) + ( uFalloff[2] * d * d ));  float nDotVP = max( 0.0, dot( vertNormal, VP ));  vec3 halfVector = normalize( VP - normalize(ecPos) );  float nDotHV = max( 0.0, dot( vertNormal, halfVector ));  if( nDotVP == 0.0 ) {    powerFactor = 0.0;  }  else {    powerFactor = pow( nDotHV, uShininess );  }  spec += uSpecular * powerFactor * attenuation;  col += light.color * nDotVP * attenuation;}void SpotLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float spotAttenuation;  float powerFactor = 0.0;  vec3 VP = light.position - ecPos;  vec3 ldir = normalize( -light.direction );  float d = length( VP );  VP = normalize( VP );  float attenuation = 1.0 / ( uFalloff[0] + ( uFalloff[1] * d ) + ( uFalloff[2] * d * d ) );  float spotDot = dot( VP, ldir );"+(/Windows/.test(a.userAgent)?"  spotAttenuation = 1.0; ":"  if( spotDot > cos( light.angle ) ) {    spotAttenuation = pow( spotDot, light.concentration );  }  else{    spotAttenuation = 0.0;  }  attenuation *= spotAttenuation;")+"  float nDotVP = max( 0.0, dot( vertNormal, VP ) );  vec3 halfVector = normalize( VP - normalize(ecPos) );  float nDotHV = max( 0.0, dot( vertNormal, halfVector ) );  if( nDotVP != 0.0 ) {    powerFactor = pow( nDotHV, uShininess );  }  spec += uSpecular * powerFactor * attenuation;  col += light.color * nDotVP * attenuation;}void main(void) {  vec3 finalAmbient = vec3( 0.0 );  vec3 finalDiffuse = vec3( 0.0 );  vec3 finalSpecular = vec3( 0.0 );  vec4 col = uColor;  if ( uColor[0] == -1.0 ){    col = aColor;  }  vec3 norm = normalize(vec3( uNormalTransform * vec4( aNormal, 0.0 ) ));  vec4 ecPos4 = uView * uModel * vec4(aVertex, 1.0);  vec3 ecPos = (vec3(ecPos4))/ecPos4.w;  if( uLightCount == 0 ) {    vFrontColor = col + vec4(uMaterialSpecular, 1.0);  }  else {    for( int i = 0; i < 8; i++ ) {      Light l = getLight(i);      if( i >= uLightCount ){        break;      }      if( l.type == 0 ) {        AmbientLight( finalAmbient, ecPos, l );      }      else if( l.type == 1 ) {        DirectionalLight( finalDiffuse, finalSpecular, norm, ecPos, l );      }      else if( l.type == 2 ) {        PointLight( finalDiffuse, finalSpecular, norm, ecPos, l );      }      else {        SpotLight( finalDiffuse, finalSpecular, norm, ecPos, l );      }    }   if( uUsingMat == false ) {     vFrontColor = vec4(       vec3( col ) * finalAmbient +       vec3( col ) * finalDiffuse +       vec3( col ) * finalSpecular,       col[3] );   }   else{     vFrontColor = vec4(        uMaterialEmissive +        (vec3(col) * uMaterialAmbient * finalAmbient ) +        (vec3(col) * finalDiffuse) +        (uMaterialSpecular * finalSpecular),        col[3] );    }  }  vTexture.xy = aTexture.xy;  gl_Position = uProjection * uView * uModel * vec4( aVertex, 1.0 );}",Tn=function(e,t,n){var i=e.createShader(e.VERTEX_SHADER);if(e.shaderSource(i,t),e.compileShader(i),!e.getShaderParameter(i,e.COMPILE_STATUS))throw e.getShaderInfoLog(i);if(t=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(t,n),e.compileShader(t),!e.getShaderParameter(t,e.COMPILE_STATUS))throw e.getShaderInfoLog(t);if(n=e.createProgram(),e.attachShader(n,i),e.attachShader(n,t),e.linkProgram(n),!e.getProgramParameter(n,e.LINK_STATUS))throw"Error linking shaders.";return n},An=function(e,t,n,i,r){return{x:e,y:t,w:n,h:i}},Nn=An,Mn=function(e,t,n,i,r){return{x:e,y:t,w:r?n:n-e,h:r?i:i-t}},Rn=function(e,t,n,i,r){return{x:e-n/2,y:t-i/2,w:n,h:i}},On=function(){},Ln=function(){},Pn=function(){},Dn=function(){};Ln.prototype=new On,Ln.prototype.constructor=Ln,Pn.prototype=new On,Pn.prototype.constructor=Pn,Dn.prototype=new On,Dn.prototype.constructor=Dn,On.prototype.a3DOnlyFunction=c,ne.shape=function(e,t,n,i,r){1<=arguments.length&&null!==arguments[0]&&e.isVisible()&&(ne.pushMatrix(),vn===p.CENTER?5===arguments.length?(ne.translate(t-i/2,n-r/2),ne.scale(i/e.getWidth(),r/e.getHeight())):3===arguments.length?ne.translate(t-e.getWidth()/2,-e.getHeight()/2):ne.translate(-e.getWidth()/2,-e.getHeight()/2):vn===p.CORNER?5===arguments.length?(ne.translate(t,n),ne.scale(i/e.getWidth(),r/e.getHeight())):3===arguments.length&&ne.translate(t,n):vn===p.CORNERS&&(5===arguments.length?(i-=t,r-=n,ne.translate(t,n),ne.scale(i/e.getWidth(),r/e.getHeight())):3===arguments.length&&ne.translate(t,n)),e.draw(ne),(1===arguments.length&&vn===p.CENTER||1<arguments.length)&&ne.popMatrix())},ne.shapeMode=function(e){vn=e},ne.loadShape=function(e){return 1===arguments.length&&-1<e.indexOf(".svg")?new PShapeSVG(null,e):null},ne.loadXML=function(e){return new XML(ne,e)};var In=function(e){for(var t=0,n=0;n<e.length;n++)t=0!==n?Math.max(t,Math.abs(e[n])):Math.abs(e[n]);return 0===(e=(t+"").indexOf("."))?e=1:-1===e&&(e=(t+"").length),e},Fn=ne.PMatrix2D=function(){0===arguments.length?this.reset():1===arguments.length&&arguments[0]instanceof Fn?this.set(arguments[0].array()):6===arguments.length&&this.set(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])};Fn.prototype={set:function(){if(6===arguments.length){var e=arguments;this.set([e[0],e[1],e[2],e[3],e[4],e[5]])}else 1===arguments.length&&arguments[0]instanceof Fn?this.elements=arguments[0].array():1===arguments.length&&arguments[0]instanceof Array&&(this.elements=arguments[0].slice())},get:function(){var e=new Fn;return e.set(this.elements),e},reset:function(){this.set([1,0,0,0,1,0])},array:function(){return this.elements.slice()},translate:function(e,t){this.elements[2]=e*this.elements[0]+t*this.elements[1]+this.elements[2],this.elements[5]=e*this.elements[3]+t*this.elements[4]+this.elements[5]},invTranslate:function(e,t){this.translate(-e,-t)},transpose:function(){},mult:function(e,t){var n,i;return e instanceof PVector?(n=e.x,i=e.y,t||(t=new PVector)):e instanceof Array&&(n=e[0],i=e[1],t||(t=[])),t instanceof Array?(t[0]=this.elements[0]*n+this.elements[1]*i+this.elements[2],t[1]=this.elements[3]*n+this.elements[4]*i+this.elements[5]):t instanceof PVector&&(t.x=this.elements[0]*n+this.elements[1]*i+this.elements[2],t.y=this.elements[3]*n+this.elements[4]*i+this.elements[5],t.z=0),t},multX:function(e,t){return e*this.elements[0]+t*this.elements[1]+this.elements[2]},multY:function(e,t){return e*this.elements[3]+t*this.elements[4]+this.elements[5]},skewX:function(e){this.apply(1,0,1,e,0,0)},skewY:function(e){this.apply(1,0,1,0,e,0)},shearX:function(e){this.apply(1,0,1,Math.tan(e),0,0)},shearY:function(e){this.apply(1,0,1,0,Math.tan(e),0)},determinant:function(){return this.elements[0]*this.elements[4]-this.elements[1]*this.elements[3]},invert:function(){var e=this.determinant();if(Math.abs(e)>p.MIN_INT){var t=this.elements[0],n=this.elements[1],i=this.elements[2],r=this.elements[3],o=this.elements[4],s=this.elements[5];return this.elements[0]=o/e,this.elements[3]=-r/e,this.elements[1]=-n/e,this.elements[4]=t/e,this.elements[2]=(n*s-o*i)/e,this.elements[5]=(r*i-t*s)/e,!0}return!1},scale:function(e,t){e&&!t&&(t=e),e&&t&&(this.elements[0]*=e,this.elements[1]*=t,this.elements[3]*=e,this.elements[4]*=t)},invScale:function(e,t){e&&!t&&(t=e),this.scale(1/e,1/t)},apply:function(){var e;1===arguments.length&&arguments[0]instanceof Fn?e=arguments[0].array():6===arguments.length?e=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(e=arguments[0]);for(var t=[0,0,this.elements[2],0,0,this.elements[5]],n=0,i=0;2>i;i++)for(var r=0;3>r;r++,n++)t[n]+=this.elements[3*i+0]*e[r+0]+this.elements[3*i+1]*e[r+3];this.elements=t.slice()},preApply:function(){var e;1===arguments.length&&arguments[0]instanceof Fn?e=arguments[0].array():6===arguments.length?e=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(e=arguments[0]);var t=[0,0,e[2],0,0,e[5]];t[2]=e[2]+this.elements[2]*e[0]+this.elements[5]*e[1],t[5]=e[5]+this.elements[2]*e[3]+this.elements[5]*e[4],t[0]=this.elements[0]*e[0]+this.elements[3]*e[1],t[3]=this.elements[0]*e[3]+this.elements[3]*e[4],t[1]=this.elements[1]*e[0]+this.elements[4]*e[1],t[4]=this.elements[1]*e[3]+this.elements[4]*e[4],this.elements=t.slice()},rotate:function(e){var t=Math.cos(e);e=Math.sin(e);var n=this.elements[0],i=this.elements[1];this.elements[0]=t*n+e*i,this.elements[1]=-e*n+t*i,n=this.elements[3],i=this.elements[4],this.elements[3]=t*n+e*i,this.elements[4]=-e*n+t*i},rotateZ:function(e){this.rotate(e)},invRotateZ:function(e){this.rotateZ(e-Math.PI)},print:function(){var e=In(this.elements);e=ne.nfs(this.elements[0],e,4)+" "+ne.nfs(this.elements[1],e,4)+" "+ne.nfs(this.elements[2],e,4)+"\n"+ne.nfs(this.elements[3],e,4)+" "+ne.nfs(this.elements[4],e,4)+" "+ne.nfs(this.elements[5],e,4)+"\n\n";ne.println(e)}};var $n=ne.PMatrix3D=function(){this.reset()};$n.prototype={set:function(){16===arguments.length?this.elements=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof $n?this.elements=arguments[0].array():1===arguments.length&&arguments[0]instanceof Array&&(this.elements=arguments[0].slice())},get:function(){var e=new $n;return e.set(this.elements),e},reset:function(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},array:function(){return this.elements.slice()},translate:function(e,n,i){i===t&&(i=0),this.elements[3]+=e*this.elements[0]+n*this.elements[1]+i*this.elements[2],this.elements[7]+=e*this.elements[4]+n*this.elements[5]+i*this.elements[6],this.elements[11]+=e*this.elements[8]+n*this.elements[9]+i*this.elements[10],this.elements[15]+=e*this.elements[12]+n*this.elements[13]+i*this.elements[14]},transpose:function(){var e=this.elements[4];this.elements[4]=this.elements[1],this.elements[1]=e,e=this.elements[8],this.elements[8]=this.elements[2],this.elements[2]=e,e=this.elements[6],this.elements[6]=this.elements[9],this.elements[9]=e,e=this.elements[3],this.elements[3]=this.elements[12],this.elements[12]=e,e=this.elements[7],this.elements[7]=this.elements[13],this.elements[13]=e,e=this.elements[11],this.elements[11]=this.elements[14],this.elements[14]=e},mult:function(e,t){var n,i,r,o;return e instanceof PVector?(n=e.x,i=e.y,r=e.z,o=1,t||(t=new PVector)):e instanceof Array&&(n=e[0],i=e[1],r=e[2],o=e[3]||1,!t||3!==t.length&&4!==t.length)&&(t=[0,0,0]),t instanceof Array&&(3===t.length?(t[0]=this.elements[0]*n+this.elements[1]*i+this.elements[2]*r+this.elements[3],t[1]=this.elements[4]*n+this.elements[5]*i+this.elements[6]*r+this.elements[7],t[2]=this.elements[8]*n+this.elements[9]*i+this.elements[10]*r+this.elements[11]):4===t.length&&(t[0]=this.elements[0]*n+this.elements[1]*i+this.elements[2]*r+this.elements[3]*o,t[1]=this.elements[4]*n+this.elements[5]*i+this.elements[6]*r+this.elements[7]*o,t[2]=this.elements[8]*n+this.elements[9]*i+this.elements[10]*r+this.elements[11]*o,t[3]=this.elements[12]*n+this.elements[13]*i+this.elements[14]*r+this.elements[15]*o)),t instanceof PVector&&(t.x=this.elements[0]*n+this.elements[1]*i+this.elements[2]*r+this.elements[3],t.y=this.elements[4]*n+this.elements[5]*i+this.elements[6]*r+this.elements[7],t.z=this.elements[8]*n+this.elements[9]*i+this.elements[10]*r+this.elements[11]),t},preApply:function(){var e;1===arguments.length&&arguments[0]instanceof $n?e=arguments[0].array():16===arguments.length?e=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(e=arguments[0]);for(var t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0,i=0;4>i;i++)for(var r=0;4>r;r++,n++)t[n]+=this.elements[r+0]*e[4*i+0]+this.elements[r+4]*e[4*i+1]+this.elements[r+8]*e[4*i+2]+this.elements[r+12]*e[4*i+3];this.elements=t.slice()},apply:function(){var e;1===arguments.length&&arguments[0]instanceof $n?e=arguments[0].array():16===arguments.length?e=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(e=arguments[0]);for(var t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0,i=0;4>i;i++)for(var r=0;4>r;r++,n++)t[n]+=this.elements[4*i+0]*e[r+0]+this.elements[4*i+1]*e[r+4]+this.elements[4*i+2]*e[r+8]+this.elements[4*i+3]*e[r+12];this.elements=t.slice()},rotate:function(e,t,n,i){if(4>arguments.length)this.rotateZ(e);else if(0!==(o=(r=new PVector(t,n,i)).mag())){1!=o&&(r.normalize(),t=r.x,n=r.y,i=r.z);var r=ne.cos(e),o=ne.sin(e),s=1-r;this.apply(s*t*t+r,s*t*n-o*i,s*t*i+o*n,0,s*t*n+o*i,s*n*n+r,s*n*i-o*t,0,s*t*i-o*n,s*n*i+o*t,s*i*i+r,0,0,0,0,1)}},invApply:function(){qe===t&&(qe=new $n);var e=arguments;return qe.set(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]),!!qe.invert()&&(this.preApply(qe),!0)},rotateX:function(e){var t=ne.cos(e);e=ne.sin(e),this.apply([1,0,0,0,0,t,-e,0,0,e,t,0,0,0,0,1])},rotateY:function(e){var t=ne.cos(e);e=ne.sin(e),this.apply([t,0,e,0,0,1,0,0,-e,0,t,0,0,0,0,1])},rotateZ:function(e){var t=Math.cos(e);e=Math.sin(e),this.apply([t,-e,0,0,e,t,0,0,0,0,1,0,0,0,0,1])},scale:function(e,t,n){!e||t||n?e&&t&&!n&&(n=1):t=n=e,e&&t&&n&&(this.elements[0]*=e,this.elements[1]*=t,this.elements[2]*=n,this.elements[4]*=e,this.elements[5]*=t,this.elements[6]*=n,this.elements[8]*=e,this.elements[9]*=t,this.elements[10]*=n,this.elements[12]*=e,this.elements[13]*=t,this.elements[14]*=n)},skewX:function(e){e=Math.tan(e),this.apply(1,e,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},skewY:function(e){e=Math.tan(e),this.apply(1,0,0,0,e,1,0,0,0,0,1,0,0,0,0,1)},shearX:function(e){e=Math.tan(e),this.apply(1,e,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},shearY:function(e){e=Math.tan(e),this.apply(1,0,0,0,e,1,0,0,0,0,1,0,0,0,0,1)},multX:function(e,t,n,i){return n?i?this.elements[0]*e+this.elements[1]*t+this.elements[2]*n+this.elements[3]*i:this.elements[0]*e+this.elements[1]*t+this.elements[2]*n+this.elements[3]:this.elements[0]*e+this.elements[1]*t+this.elements[3]},multY:function(e,t,n,i){return n?i?this.elements[4]*e+this.elements[5]*t+this.elements[6]*n+this.elements[7]*i:this.elements[4]*e+this.elements[5]*t+this.elements[6]*n+this.elements[7]:this.elements[4]*e+this.elements[5]*t+this.elements[7]},multZ:function(e,t,n,i){return i?this.elements[8]*e+this.elements[9]*t+this.elements[10]*n+this.elements[11]*i:this.elements[8]*e+this.elements[9]*t+this.elements[10]*n+this.elements[11]},multW:function(e,t,n,i){return i?this.elements[12]*e+this.elements[13]*t+this.elements[14]*n+this.elements[15]*i:this.elements[12]*e+this.elements[13]*t+this.elements[14]*n+this.elements[15]},invert:function(){var e=this.elements[0]*this.elements[5]-this.elements[1]*this.elements[4],t=this.elements[0]*this.elements[6]-this.elements[2]*this.elements[4],n=this.elements[0]*this.elements[7]-this.elements[3]*this.elements[4],i=this.elements[1]*this.elements[6]-this.elements[2]*this.elements[5],r=this.elements[1]*this.elements[7]-this.elements[3]*this.elements[5],o=this.elements[2]*this.elements[7]-this.elements[3]*this.elements[6],s=this.elements[8]*this.elements[13]-this.elements[9]*this.elements[12],a=this.elements[8]*this.elements[14]-this.elements[10]*this.elements[12],l=this.elements[8]*this.elements[15]-this.elements[11]*this.elements[12],u=this.elements[9]*this.elements[14]-this.elements[10]*this.elements[13],c=this.elements[9]*this.elements[15]-this.elements[11]*this.elements[13],p=this.elements[10]*this.elements[15]-this.elements[11]*this.elements[14],f=e*p-t*c+n*u+i*l-r*a+o*s;if(1e-9>=Math.abs(f))return!1;var d=[];return d[0]=+this.elements[5]*p-this.elements[6]*c+this.elements[7]*u,d[4]=-this.elements[4]*p+this.elements[6]*l-this.elements[7]*a,d[8]=+this.elements[4]*c-this.elements[5]*l+this.elements[7]*s,d[12]=-this.elements[4]*u+this.elements[5]*a-this.elements[6]*s,d[1]=-this.elements[1]*p+this.elements[2]*c-this.elements[3]*u,d[5]=+this.elements[0]*p-this.elements[2]*l+this.elements[3]*a,d[9]=-this.elements[0]*c+this.elements[1]*l-this.elements[3]*s,d[13]=+this.elements[0]*u-this.elements[1]*a+this.elements[2]*s,d[2]=+this.elements[13]*o-this.elements[14]*r+this.elements[15]*i,d[6]=-this.elements[12]*o+this.elements[14]*n-this.elements[15]*t,d[10]=+this.elements[12]*r-this.elements[13]*n+this.elements[15]*e,d[14]=-this.elements[12]*i+this.elements[13]*t-this.elements[14]*e,d[3]=-this.elements[9]*o+this.elements[10]*r-this.elements[11]*i,d[7]=+this.elements[8]*o-this.elements[10]*n+this.elements[11]*t,d[11]=-this.elements[8]*r+this.elements[9]*n-this.elements[11]*e,d[15]=+this.elements[8]*i-this.elements[9]*t+this.elements[10]*e,e=1/f,d[0]*=e,d[1]*=e,d[2]*=e,d[3]*=e,d[4]*=e,d[5]*=e,d[6]*=e,d[7]*=e,d[8]*=e,d[9]*=e,d[10]*=e,d[11]*=e,d[12]*=e,d[13]*=e,d[14]*=e,d[15]*=e,this.elements=d.slice(),!0},toString:function(){for(var e="",t=0;15>t;t++)e+=this.elements[t]+", ";return e+this.elements[15]},print:function(){var e=In(this.elements);e=ne.nfs(this.elements[0],e,4)+" "+ne.nfs(this.elements[1],e,4)+" "+ne.nfs(this.elements[2],e,4)+" "+ne.nfs(this.elements[3],e,4)+"\n"+ne.nfs(this.elements[4],e,4)+" "+ne.nfs(this.elements[5],e,4)+" "+ne.nfs(this.elements[6],e,4)+" "+ne.nfs(this.elements[7],e,4)+"\n"+ne.nfs(this.elements[8],e,4)+" "+ne.nfs(this.elements[9],e,4)+" "+ne.nfs(this.elements[10],e,4)+" "+ne.nfs(this.elements[11],e,4)+"\n"+ne.nfs(this.elements[12],e,4)+" "+ne.nfs(this.elements[13],e,4)+" "+ne.nfs(this.elements[14],e,4)+" "+ne.nfs(this.elements[15],e,4)+"\n\n";ne.println(e)},invTranslate:function(e,t,n){this.preApply(1,0,0,-e,0,1,0,-t,0,0,1,-n,0,0,0,1)},invRotateX:function(e){var t=Math.cos(-e);e=Math.sin(-e),this.preApply([1,0,0,0,0,t,-e,0,0,e,t,0,0,0,0,1])},invRotateY:function(e){var t=Math.cos(-e);e=Math.sin(-e),this.preApply([t,0,e,0,0,1,0,0,-e,0,t,0,0,0,0,1])},invRotateZ:function(e){var t=Math.cos(-e);e=Math.sin(-e),this.preApply([t,-e,0,0,e,t,0,0,0,0,1,0,0,0,0,1])},invScale:function(e,t,n){this.preApply([1/e,0,0,0,0,1/t,0,0,0,0,1/n,0,0,0,0,1])}};var jn=ne.PMatrixStack=function(){this.matrixStack=[]};jn.prototype.load=function(){var e=oe.$newPMatrix();1===arguments.length?e.set(arguments[0]):e.set(arguments),this.matrixStack.push(e)},Ln.prototype.$newPMatrix=function(){return new Fn},Pn.prototype.$newPMatrix=function(){return new $n},jn.prototype.push=function(){this.matrixStack.push(this.peek())},jn.prototype.pop=function(){return this.matrixStack.pop()},jn.prototype.peek=function(){var e=oe.$newPMatrix();return e.set(this.matrixStack[this.matrixStack.length-1]),e},jn.prototype.mult=function(e){this.matrixStack[this.matrixStack.length-1].apply(e)},ne.split=function(e,t){return e.split(t)},ne.splitTokens=function(e,n){if(n===t)return e.split(/\s+/g);var i,r,o=n.split(/()/g),s="",a=e.length,l=[];for(i=0;i<a;i++)r=e[i],-1<o.indexOf(r)?(""!==s&&l.push(s),s=""):s+=r;return""!==s&&l.push(s),l},ne.append=function(e,t){return e[e.length]=t,e},ne.concat=function(e,t){return e.concat(t)},ne.sort=function(e,t){var n=[];if(0<e.length){for(var i=0<t?t:e.length,r=0;r<i;r++)n.push(e[r]);if("string"==typeof e[0]?n.sort():n.sort(function(e,t){return e-t}),0<t)for(i=n.length;i<e.length;i++)n.push(e[i])}return n},ne.splice=function(e,t,n){if(0===t.length)return e;if(t instanceof Array)for(var i=0;i<t.length;n++,i++)e.splice(n,0,t[i]);else e.splice(n,0,t);return e},ne.subset=function(e,n,i){return e.slice(n,i!==t?n+i:e.length)},ne.join=function(e,t){return e.join(t)},ne.shorten=function(e){for(var t=[],n=e.length,i=0;i<n;i++)t[i]=e[i];return t.pop(),t},ne.expand=function(e,t){var n=e.slice(0);return n.length=t||2*e.length,n},ne.arrayCopy=function(){var e,n,i,r=0,o=0;2===arguments.length?(e=arguments[0],n=arguments[1],i=e.length):3===arguments.length?(e=arguments[0],n=arguments[1],i=arguments[2]):5===arguments.length&&(e=arguments[0],r=arguments[1],n=arguments[2],o=arguments[3],i=arguments[4]);for(var s=r;s<i+r;s++,o++){if(n[o]===t)throw"array index out of bounds exception";n[o]=e[s]}},ne.reverse=function(e){return e.reverse()},ne.mix=function(e,t,n){return e+((t-e)*n>>8)},ne.peg=function(e){return 0>e?0:255<e?255:e},ne.modes=function(){function e(e,t,n,i,r,s,a,l,u,c,p){return(e=o(((4278190080&e)>>>24)+t,255)<<24)|(0>(n+=(u-n)*t>>8)?0:255<n?255:n)<<16|(0>(i+=(c-i)*t>>8)?0:255<i?255:i)<<8|(0>(t=r+((p-r)*t>>8))?0:255<t?255:t)}var t=p.ALPHA_MASK,n=p.RED_MASK,i=p.GREEN_MASK,r=p.BLUE_MASK,o=Math.min,s=Math.max;return{replace:function(e,t){return t},blend:function(e,s){var a=(s&t)>>>24,l=e&n,u=e&i,c=e&r,p=s&n,f=s&i,d=s&r;return o(((e&t)>>>24)+a,255)<<24|l+((p-l)*a>>8)&n|u+((f-u)*a>>8)&i|c+((d-c)*a>>8)&r},add:function(e,s){var a=(s&t)>>>24;return o(((e&t)>>>24)+a,255)<<24|o((e&n)+((s&n)>>8)*a,n)&n|o((e&i)+((s&i)>>8)*a,i)&i|o((e&r)+((s&r)*a>>8),r)},subtract:function(e,a){var l=(a&t)>>>24;return o(((e&t)>>>24)+l,255)<<24|s((e&n)-((a&n)>>8)*l,i)&n|s((e&i)-((a&i)>>8)*l,r)&i|s((e&r)-((a&r)*l>>8),0)},lightest:function(e,a){var l=(a&t)>>>24;return o(((e&t)>>>24)+l,255)<<24|s(e&n,((a&n)>>8)*l)&n|s(e&i,((a&i)>>8)*l)&i|s(e&r,(a&r)*l>>8)},darkest:function(e,s){var a=(s&t)>>>24,l=e&n,u=e&i,c=e&r,p=o(e&n,((s&n)>>8)*a),f=o(e&i,((s&i)>>8)*a),d=o(e&r,(s&r)*a>>8);return o(((e&t)>>>24)+a,255)<<24|l+((p-l)*a>>8)&n|u+((f-u)*a>>8)&i|c+((d-c)*a>>8)&r},difference:function(o,s){var a=(o&n)>>16,l=(o&i)>>8,u=o&r,c=(s&n)>>16,p=(s&i)>>8,f=s&r;return e(o,(s&t)>>>24,a,l,u,0,0,0,a>c?a-c:c-a,l>p?l-p:p-l,u>f?u-f:f-u)},exclusion:function(o,s){var a=(o&n)>>16,l=(o&i)>>8,u=o&r,c=(s&n)>>16,p=(s&i)>>8,f=s&r;return e(o,(s&t)>>>24,a,l,u,0,0,0,a+c-(a*c>>7),l+p-(l*p>>7),u+f-(u*f>>7))},multiply:function(o,s){var a=(o&n)>>16,l=(o&i)>>8,u=o&r,c=(s&n)>>16,p=(s&i)>>8,f=s&r;return e(o,(s&t)>>>24,a,l,u,0,0,0,a*c>>8,l*p>>8,u*f>>8)},screen:function(o,s){var a=(o&n)>>16,l=(o&i)>>8,u=o&r,c=(s&n)>>16,p=(s&i)>>8,f=s&r;return e(o,(s&t)>>>24,a,l,u,0,0,0,255-((255-a)*(255-c)>>8),255-((255-l)*(255-p)>>8),255-((255-u)*(255-f)>>8))},hard_light:function(o,s){var a=(o&n)>>16,l=(o&i)>>8,u=o&r,c=(s&n)>>16,p=(s&i)>>8,f=s&r;return e(o,(s&t)>>>24,a,l,u,0,0,0,128>c?a*c>>7:255-((255-a)*(255-c)>>7),128>p?l*p>>7:255-((255-l)*(255-p)>>7),128>f?u*f>>7:255-((255-u)*(255-f)>>7))},soft_light:function(o,s){var a=(o&n)>>16,l=(o&i)>>8,u=o&r,c=(s&n)>>16,p=(s&i)>>8,f=s&r;return e(o,(s&t)>>>24,a,l,u,0,0,0,(a*c>>7)+(a*a>>8)-(a*a*c>>15),(l*p>>7)+(l*l>>8)-(l*l*p>>15),(u*f>>7)+(u*u>>8)-(u*u*f>>15))},overlay:function(o,s){var a=(o&n)>>16,l=(o&i)>>8,u=o&r,c=(s&n)>>16,p=(s&i)>>8,f=s&r;return e(o,(s&t)>>>24,a,l,u,0,0,0,128>a?a*c>>7:255-((255-a)*(255-c)>>7),128>l?l*p>>7:255-((255-l)*(255-p)>>7),128>u?u*f>>7:255-((255-u)*(255-f)>>7))},dodge:function(o,s){var a=(o&n)>>16,l=(o&i)>>8,u=o&r,c=(s&n)>>16,p=(s&i)>>8,f=s&r,d=255;255!==c&&(d=0>(d=(a<<8)/(255-c))?0:255<d?255:d);var h=255;255!==p&&(h=0>(h=(l<<8)/(255-p))?0:255<h?255:h);var m=255;return 255!==f&&(m=0>(m=(u<<8)/(255-f))?0:255<m?255:m),e(o,(s&t)>>>24,a,l,u,0,0,0,d,h,m)},burn:function(o,s){var a=(o&n)>>16,l=(o&i)>>8,u=o&r,c=(s&n)>>16,p=(s&i)>>8,f=s&r,d=0;0!==c&&(d=255-(0>(d=(255-a<<8)/c)?0:255<d?255:d));var h=0;0!==p&&(h=255-(0>(h=(255-l<<8)/p)?0:255<h?255:h));var m=0;return 0!==f&&(m=255-(0>(m=(255-u<<8)/f)?0:255<m?255:m)),e(o,(s&t)>>>24,a,l,u,0,0,0,d,h,m)}}}(),ne.color=function(e,n,i,r){return e!==t&&n!==t&&i!==t&&r!==t?A(e,n,i,r):e!==t&&n!==t&&i!==t?A(e,n,i,yt):e!==t&&n!==t?(e&p.ALPHA_MASK?(n=255<(n=Math.round(n/yt*255))?255:n,e=e-(e&p.ALPHA_MASK)+((0>n?0:n)<<24&p.ALPHA_MASK)):e=St===p.RGB?A(e,e,e,n):St===p.HSB?A(0,0,e/vt*xt,n):void 0,e):"number"==typeof e?function(e){if(e<=vt&&0<=e){if(St===p.RGB)return A(e,e,e,yt);if(St===p.HSB)return A(0,0,e/vt*xt,yt)}if(e)return 2147483647<e&&(e-=4294967296),e}(e):A(vt,_t,xt,yt)},ne.color.toString=function(e){return"rgba("+((e&p.RED_MASK)>>>16)+","+((e&p.GREEN_MASK)>>>8)+","+(e&p.BLUE_MASK)+","+((e&p.ALPHA_MASK)>>>24)/255+")"},ne.color.toInt=function(e,t,n,i){return i<<24&p.ALPHA_MASK|e<<16&p.RED_MASK|t<<8&p.GREEN_MASK|n&p.BLUE_MASK},ne.color.toArray=function(e){return[(e&p.RED_MASK)>>>16,(e&p.GREEN_MASK)>>>8,e&p.BLUE_MASK,(e&p.ALPHA_MASK)>>>24]},ne.color.toGLArray=function(e){return[((e&p.RED_MASK)>>>16)/255,((e&p.GREEN_MASK)>>>8)/255,(e&p.BLUE_MASK)/255,((e&p.ALPHA_MASK)>>>24)/255]},ne.color.toRGB=function(e,t,n){e=(e=e>vt?vt:e)/vt*360,t=(t=t>_t?_t:t)/_t*100,n=(n=n>xt?xt:n)/xt*100;var i=Math.round(n/100*255);if(0===t)return[i,i,i];var r=(e%=360)%60,o=Math.round(n*(100-t)/1e4*255),s=Math.round(n*(6e3-t*r)/6e5*255);switch(t=Math.round(n*(6e3-t*(60-r))/6e5*255),Math.floor(e/60)){case 0:return[i,t,o];case 1:return[s,i,o];case 2:return[o,i,t];case 3:return[o,s,i];case 4:return[t,o,i];case 5:return[i,o,s]}},ne.brightness=function(e){return N(e)[2]},ne.saturation=function(e){return N(e)[1]},ne.hue=function(e){return N(e)[0]},ne.red=function(e){return((e&p.RED_MASK)>>>16)/255*vt},ne.green=function(e){return((e&p.GREEN_MASK)>>>8)/255*_t},ne.blue=function(e){return(e&p.BLUE_MASK)/255*xt},ne.alpha=function(e){return((e&p.ALPHA_MASK)>>>24)/255*yt},ne.lerpColor=function(e,t,n){var i,r,o,s,a,l;return e=ne.color(e),t=ne.color(t),St===p.HSB?(o=N(e),e=((e&p.ALPHA_MASK)>>>24)/yt,r=N(t),t=((t&p.ALPHA_MASK)>>>24)/yt,l=ne.lerp(o[0],r[0],n),i=ne.lerp(o[1],r[1],n),o=ne.lerp(o[2],r[2],n),o=ne.color.toRGB(l,i,o),(n=ne.lerp(e,t,n)*yt)<<24&p.ALPHA_MASK|o[0]<<16&p.RED_MASK|o[1]<<8&p.GREEN_MASK|o[2]&p.BLUE_MASK):(i=(e&p.RED_MASK)>>>16,r=(e&p.GREEN_MASK)>>>8,o=e&p.BLUE_MASK,e=((e&p.ALPHA_MASK)>>>24)/yt,s=(t&p.RED_MASK)>>>16,a=(t&p.GREEN_MASK)>>>8,l=t&p.BLUE_MASK,t=((t&p.ALPHA_MASK)>>>24)/yt,i=0|ne.lerp(i,s,n),r=0|ne.lerp(r,a,n),o=0|ne.lerp(o,l,n),(n=ne.lerp(e,t,n)*yt)<<24&p.ALPHA_MASK|i<<16&p.RED_MASK|r<<8&p.GREEN_MASK|o&p.BLUE_MASK)},ne.colorMode=function(){St=arguments[0],1<arguments.length&&(vt=arguments[1],_t=arguments[2]||arguments[1],xt=arguments[3]||arguments[1],yt=arguments[4]||arguments[1])},ne.blendColor=function(e,t,n){return n===p.REPLACE?ne.modes.replace(e,t):n===p.BLEND?ne.modes.blend(e,t):n===p.ADD?ne.modes.add(e,t):n===p.SUBTRACT?ne.modes.subtract(e,t):n===p.LIGHTEST?ne.modes.lightest(e,t):n===p.DARKEST?ne.modes.darkest(e,t):n===p.DIFFERENCE?ne.modes.difference(e,t):n===p.EXCLUSION?ne.modes.exclusion(e,t):n===p.MULTIPLY?ne.modes.multiply(e,t):n===p.SCREEN?ne.modes.screen(e,t):n===p.HARD_LIGHT?ne.modes.hard_light(e,t):n===p.SOFT_LIGHT?ne.modes.soft_light(e,t):n===p.OVERLAY?ne.modes.overlay(e,t):n===p.DODGE?ne.modes.dodge(e,t):n===p.BURN?ne.modes.burn(e,t):void 0},ne.printMatrix=function(){$e.print()},Ln.prototype.translate=function(e,t){$e.translate(e,t),je.invTranslate(e,t),ie.translate(e,t)},Pn.prototype.translate=function(e,t,n){$e.translate(e,t,n),je.invTranslate(e,t,n)},Ln.prototype.scale=function(e,t){$e.scale(e,t),je.invScale(e,t),ie.scale(e,t||e)},Pn.prototype.scale=function(e,t,n){$e.scale(e,t,n),je.invScale(e,t,n)},Ln.prototype.transform=function(e){e=e.array(),ie.transform(e[0],e[3],e[1],e[4],e[2],e[5])},Pn.prototype.transformm=function(e){throw"p.transform is currently not supported in 3D mode"},Ln.prototype.pushMatrix=function(){Be.load($e),ze.load(je),ie.save()},Pn.prototype.pushMatrix=function(){Be.load($e),ze.load(je)},Ln.prototype.popMatrix=function(){$e.set(Be.pop()),je.set(ze.pop()),M()},Pn.prototype.popMatrix=function(){$e.set(Be.pop()),je.set(ze.pop())},Ln.prototype.resetMatrix=function(){$e.reset(),je.reset(),ie.setTransform(1,0,0,1,0,0)},Pn.prototype.resetMatrix=function(){$e.reset(),je.reset()},On.prototype.applyMatrix=function(){var e=arguments;$e.apply(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]),je.invApply(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])},Ln.prototype.applyMatrix=function(){for(var e=arguments,t=e.length;16>t;t++)e[t]=0;e[10]=e[15]=1,On.prototype.applyMatrix.apply(this,e)},ne.rotateX=function(e){$e.rotateX(e),je.invRotateX(e)},Ln.prototype.rotateZ=function(){throw"rotateZ() is not supported in 2D mode. Use rotate(float) instead."},Pn.prototype.rotateZ=function(e){$e.rotateZ(e),je.invRotateZ(e)},ne.rotateY=function(e){$e.rotateY(e),je.invRotateY(e)},Ln.prototype.rotate=function(e){$e.rotateZ(e),je.invRotateZ(e),ie.rotate(e)},Pn.prototype.rotate=function(e){4>arguments.length?ne.rotateZ(e):($e.rotate(e,arguments[1],arguments[2],arguments[3]),je.rotate(-e,arguments[1],arguments[2],arguments[3]))},Ln.prototype.shearX=function(e){$e.shearX(e),ie.transform(1,0,e,1,0,0)},Pn.prototype.shearX=function(e){$e.shearX(e)},Ln.prototype.shearY=function(e){$e.shearY(e),ie.transform(1,e,0,1,0,0)},Pn.prototype.shearY=function(e){$e.shearY(e)},ne.pushStyle=function(){ie.save(),ne.pushMatrix(),_n.push({doFill:Ue,currentFillColor:Ve,doStroke:Ke,currentStrokeColor:Xe,curTint:Ct,curRectMode:it,curColorMode:St,colorModeX:vt,colorModeZ:xt,colorModeY:_t,colorModeA:yt,curTextFont:Ht,horizontalTextAlignment:Dt,verticalTextAlignment:It,textMode:Ft,curFontName:$t,curTextSize:jt,curTextAscent:Bt,curTextDescent:zt,curTextLeading:qt})},ne.popStyle=function(){var e=_n.pop();if(!e)throw"Too many popStyle() without enough pushStyle()";M(),ne.popMatrix(),Ue=e.doFill,Ve=e.currentFillColor,Ke=e.doStroke,Xe=e.currentStrokeColor,Ct=e.curTint,it=e.curRectMode,St=e.curColorMode,vt=e.colorModeX,xt=e.colorModeZ,_t=e.colorModeY,yt=e.colorModeA,Ht=e.curTextFont,$t=e.curFontName,jt=e.curTextSize,Dt=e.horizontalTextAlignment,It=e.verticalTextAlignment,Ft=e.textMode,Bt=e.curTextAscent,zt=e.curTextDescent,qt=e.curTextLeading},ne.year=function(){return(new Date).getFullYear()},ne.month=function(){return(new Date).getMonth()+1},ne.day=function(){return(new Date).getDate()},ne.hour=function(){return(new Date).getHours()},ne.minute=function(){return(new Date).getMinutes()},ne.second=function(){return(new Date).getSeconds()},ne.millis=function(){return Date.now()-Tt},Ln.prototype.redraw=function(){R(),ie.lineWidth=Ze;var e=ne.pmouseX,t=ne.pmouseY;ne.pmouseX=wt,ne.pmouseY=kt,ie.save(),ne.draw(),M(),wt=ne.mouseX,kt=ne.mouseY,ne.pmouseX=e,ne.pmouseY=t},Pn.prototype.redraw=function(){R();var e=ne.pmouseX,t=ne.pmouseY;ne.pmouseX=wt,ne.pmouseY=kt,ie.clear(ie.DEPTH_BUFFER_BIT),Mt={attributes:{},locations:{}},ne.noLights(),ne.lightFalloff(1,0,0),ne.shininess(1),ne.ambient(255,255,255),ne.specular(0,0,0),ne.emissive(0,0,0),ne.camera(),ne.draw(),wt=ne.mouseX,kt=ne.mouseY,ne.pmouseX=e,ne.pmouseY=t},ne.noLoop=function(){Je=tt=!1,clearInterval(nt),re.onPause()},ne.loop=function(){Je||(At=Date.now(),Nt=0,nt=l.setInterval(function(){try{re.onFrameStart(),ne.redraw(),re.onFrameEnd()}catch(e){throw l.clearInterval(nt),e}},ct),Je=tt=!0,re.onLoop())},ne.frameRate=function(e){ct=1e3/(ut=e),tt&&(ne.noLoop(),ne.loop())},ne.exit=function(){l.clearInterval(nt);var e=ne.externals.canvas.id;for(var t in v.splice(_[e],1),delete _[e],delete J.onmousedown,x.lib)x.lib.hasOwnProperty(t)&&x.lib[t].hasOwnProperty("detach")&&x.lib[t].detach(ne);for(e=te.length;e--;){t=(i=te[e]).elem;var n=i.type,i=i.fn;t.removeEventListener?t.removeEventListener(n,i,!1):t.detachEvent&&t.detachEvent("on"+n,i)}re.onExit()},ne.cursor=function(){if(1<arguments.length||1===arguments.length&&arguments[0]instanceof ne.PImage){var e,t,n=arguments[0];if(3<=arguments.length){if(e=arguments[1],t=arguments[2],0>e||0>t||t>=n.height||e>=n.width)throw"x and y must be non-negative and less than the dimensions of the image"}else e=n.width>>>1,t=n.height>>>1;n='url("'+n.toDataURL()+'") '+e+" "+t+", default",J.style.cursor=n}else J.style.cursor=1===arguments.length?arguments[0]:pt},ne.noCursor=function(){J.style.cursor=p.NOCURSOR},ne.link=function(e,n){n!==t?l.open(e,n):l.location=e},ne.beginDraw=c,ne.endDraw=c,Ln.prototype.toImageData=function(e,n,i,r){return e=e!==t?e:0,n=n!==t?n:0,i=i!==t?i:ne.width,r=r!==t?r:ne.height,ie.getImageData(e,n,i,r)},Pn.prototype.toImageData=function(e,n,i,r){e=e!==t?e:0,n=n!==t?n:0,i=i!==t?i:ne.width,r=r!==t?r:ne.height;var o=u.createElement("canvas").getContext("2d").createImageData(i,r),s=new y(4*i*r);ie.readPixels(e,n,i,r,ie.RGBA,ie.UNSIGNED_BYTE,s),e=0,n=s.length;for(var a=o.data;e<n;e++)a[e]=s[4*(r-1-Math.floor(e/4/i))*i+e%(4*i)];return o},ne.status=function(e){l.status=e},ne.binary=function(e,t){var n;if(0<t)n=t;else if(e instanceof Char)n=16,e|=0;else for(n=32;1<n&&!(e>>>n-1&1);)n--;for(var i="";0<n;)i+=e>>>--n&1?"1":"0";return i},ne.unbinary=function(e){for(var t=e.length-1,n=1,i=0;0<=t;){var r=e[t--];if("0"!==r&&"1"!==r)throw"the value passed into unbinary was not an 8 bit binary number";"1"===r&&(i+=n),n<<=1}return i},ne.hex=function(e,n){1===arguments.length&&(n=e instanceof Char?4:8);var i=e,r=(r=n)===t||null===r?r=8:r;for(0>i&&(i=4294967295+i+1),i=Number(i).toString(16).toUpperCase();i.length<r;)i="0"+i;return i.length>=r&&(i=i.substring(i.length-r,i.length)),i},ne.unhex=function(e){if(e instanceof Array){for(var t=[],n=0;n<e.length;n++)t.push(O(e[n]));return t}return O(e)},ne.loadStrings=function(e){return h[e]?h[e].split("\n"):"string"!=typeof(e=s(e))||""===e?[]:(e=e.replace(/(\r\n?)/g,"\n").replace(/\n$/,"")).split("\n")},ne.saveStrings=function(e,t){h[e]=t.join("\n")},ne.loadBytes=function(e){e=s(e);for(var t=[],n=0;n<e.length;n++)t.push(e.charCodeAt(n));return t},ne.matchAll=function(e,t){for(var n,i=[],r=RegExp(t,"g");null!==(n=r.exec(e));)i.push(n),0===n[0].length&&++r.lastIndex;return 0<i.length?i:null},ne.match=function(e,t){return e.match(t)},ne.println=function(e){x.logger.println(e)},ne.print=function(e){x.logger.print(e)},ne.str=function(e){if(e instanceof Array){for(var t=[],n=0;n<e.length;n++)t.push(e[n].toString()+"");return t}return e.toString()+""},ne.parseBoolean=function(e){if(e instanceof Array){for(var t=[],n=0;n<e.length;n++)t.push(L(e[n]));return t}return L(e)},ne.parseByte=function(e){if(e instanceof Array){for(var t=[],n=0;n<e.length;n++)t.push(0-(128&e[n])|127&e[n]);return t}return 0-(128&e)|127&e},ne.parseChar=function(e){if("number"==typeof e)return new Char(String.fromCharCode(65535&e));if(e instanceof Array){for(var t=[],n=0;n<e.length;n++)t.push(new Char(String.fromCharCode(65535&e[n])));return t}throw"char() may receive only one argument of type int, byte, int[], or byte[]."},ne.parseFloat=function(e){if(e instanceof Array){for(var t=[],n=0;n<e.length;n++)t.push(P(e[n]));return t}return P(e)},ne.parseInt=function(e,t){if(e instanceof Array){for(var n=[],i=0;i<e.length;i++)"string"!=typeof e[i]||/^\s*[+\-]?\d+\s*$/.test(e[i])?n.push(D(e[i],t)):n.push(0);return n}return D(e,t)},ne.__int_cast=function(e){return 0|e},ne.__instanceof=function(e,t){if("function"!=typeof t)throw"Function is expected as type argument for instanceof operator";if("string"==typeof e)return t===Object||t===String;if(e instanceof t)return!0;if("object"!=typeof e||null===e)return!1;var n=e.constructor;if(t.$isInterface){for(var i=[];n;)n.$interfaces&&(i=i.concat(n.$interfaces)),n=n.$base;for(;0<i.length;){if((n=i.shift())===t)return!0;n.$interfaces&&(i=i.concat(n.$interfaces))}return!1}for(;n.hasOwnProperty("$base");)if((n=n.$base)===t)return!0;return!1},On.prototype.size=function(e,t,n){for(var i in Ke&&ne.stroke(0),Ue&&ne.fill(255),n={fillStyle:ie.fillStyle,strokeStyle:ie.strokeStyle,lineCap:ie.lineCap,lineJoin:ie.lineJoin},0<J.style.length&&(J.style.removeProperty("width"),J.style.removeProperty("height")),J.width=ne.width=e||100,J.height=ne.height=t||100,n)n.hasOwnProperty(i)&&(ie[i]=n[i]);for(ne.textFont(Ht),ne.background(),Vt=Math.max(1e3,.05*e*t),ne.externals.context=ie,e=0;e<p.SINCOS_LENGTH;e++)nn[e]=ne.sin(.5*e*(p.PI/180)),rn[e]=ne.cos(.5*e*(p.PI/180))},Ln.prototype.size=function(e,n,i){ie===t&&(ie=J.getContext("2d"),Be=new jn,ze=new jn,$e=new Fn,je=new Fn),On.prototype.size.apply(this,arguments)},Pn.prototype.size=function(){var e=!1;return function(t,n,i){if(e)throw"Multiple calls to size() for 3D renders are not allowed.";e=!0;try{J.width=ne.width=t||100,J.height=ne.height=n||100;for(var r,o=J,s=["experimental-webgl","webgl","webkit-3d"],a=0,l=s.length;a<l&&!(r=o.getContext(s[a],{antialias:!1,preserveDrawingBuffer:!0}));a++);Ae=(ie=r).createTexture(),Ne=ie.createTexture()}catch(e){x.debug(e)}if(!ie)throw"WebGL context is not supported on this browser.";ie.viewport(0,0,J.width,J.height),ie.enable(ie.DEPTH_TEST),ie.enable(ie.BLEND),ie.blendFunc(ie.SRC_ALPHA,ie.ONE_MINUS_SRC_ALPHA),he=Tn(ie,"varying vec4 vFrontColor;attribute vec3 aVertex;attribute vec2 aTextureCoord;uniform vec4 uColor;uniform mat4 uModel;uniform mat4 uView;uniform mat4 uProjection;uniform float uPointSize;varying vec2 vTextureCoord;void main(void) {  gl_PointSize = uPointSize;  vFrontColor = uColor;  gl_Position = uProjection * uView * uModel * vec4(aVertex, 1.0);  vTextureCoord = aTextureCoord;}","#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 vFrontColor;varying vec2 vTextureCoord;uniform sampler2D uSampler;uniform int uIsDrawingText;uniform bool uSmooth;void main(void){  if(uSmooth == true){    float dist = distance(gl_PointCoord, vec2(0.5));    if(dist > 0.5){      discard;    }  }  if(uIsDrawingText == 1){    float alpha = texture2D(uSampler, vTextureCoord).a;    gl_FragColor = vec4(vFrontColor.rgb * alpha, alpha);  }  else{    gl_FragColor = vFrontColor;  }}"),me=Tn(ie,"varying vec4 vFrontColor;attribute vec3 aVertex;attribute vec4 aColor;uniform mat4 uView;uniform mat4 uProjection;uniform float uPointSize;void main(void) {  vFrontColor = aColor;  gl_PointSize = uPointSize;  gl_Position = uProjection * uView * vec4(aVertex, 1.0);}","#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 vFrontColor;uniform bool uSmooth;void main(void){  if(uSmooth == true){    float dist = distance(gl_PointCoord, vec2(0.5));    if(dist > 0.5){      discard;    }  }  gl_FragColor = vFrontColor;}"),ne.strokeWeight(1),de=Tn(ie,En,"#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 vFrontColor;uniform sampler2D uSampler;uniform bool uUsingTexture;varying vec2 vTexture;void main(void){  if( uUsingTexture ){    gl_FragColor = vec4(texture2D(uSampler, vTexture.xy)) * vFrontColor;  }  else{    gl_FragColor = vFrontColor;  }}"),ie.useProgram(de),S("usingTexture3d",de,"usingTexture",Pt),ne.lightFalloff(1,0,0),ne.shininess(1),ne.ambient(255,255,255),ne.specular(0,0,0),ne.emissive(0,0,0),ge=ie.createBuffer(),ie.bindBuffer(ie.ARRAY_BUFFER,ge),ie.bufferData(ie.ARRAY_BUFFER,xn,ie.STATIC_DRAW),be=ie.createBuffer(),ie.bindBuffer(ie.ARRAY_BUFFER,be),ie.bufferData(ie.ARRAY_BUFFER,kn,ie.STATIC_DRAW),ye=ie.createBuffer(),ie.bindBuffer(ie.ARRAY_BUFFER,ye),ie.bufferData(ie.ARRAY_BUFFER,wn,ie.STATIC_DRAW),ve=ie.createBuffer(),ie.bindBuffer(ie.ARRAY_BUFFER,ve),ie.bufferData(ie.ARRAY_BUFFER,Sn,ie.STATIC_DRAW),_e=ie.createBuffer(),ie.bindBuffer(ie.ARRAY_BUFFER,_e),ie.bufferData(ie.ARRAY_BUFFER,Cn,ie.STATIC_DRAW),xe=ie.createBuffer(),we=ie.createBuffer(),ke=ie.createBuffer(),Se=ie.createBuffer(),Ce=ie.createBuffer(),Te=ie.createBuffer(),Ee=ie.createBuffer(),ie.bindBuffer(ie.ARRAY_BUFFER,Ee),ie.bufferData(ie.ARRAY_BUFFER,new m([0,0,0]),ie.STATIC_DRAW),Me=ie.createBuffer(),ie.bindBuffer(ie.ARRAY_BUFFER,Me),ie.bufferData(ie.ARRAY_BUFFER,new m([1,1,0,-1,1,0,-1,-1,0,1,-1,0]),ie.STATIC_DRAW),Re=ie.createBuffer(),ie.bindBuffer(ie.ARRAY_BUFFER,Re),ie.bufferData(ie.ARRAY_BUFFER,new m([0,0,1,0,1,1,0,1]),ie.STATIC_DRAW),Oe=ie.createBuffer(),ie.bindBuffer(ie.ELEMENT_ARRAY_BUFFER,Oe),ie.bufferData(ie.ELEMENT_ARRAY_BUFFER,new b([0,1,2,2,3,0]),ie.STATIC_DRAW),Ie=new $n,Fe=new $n,$e=new $n,je=new $n,He=new $n,ne.camera(),ne.perspective(),Be=new jn,ze=new jn,ae=new $n,le=new $n,ue=new $n,ce=new $n,pe=new $n,(fe=new $n).set(-1,3,-3,1,3,-6,3,0,-3,3,0,0,1,0,0,0),On.prototype.size.apply(this,arguments)}}(),Ln.prototype.ambientLight=On.prototype.a3DOnlyFunction,Pn.prototype.ambientLight=function(e,t,n,i,r,o){if(Xt===p.MAX_LIGHTS)throw"can only create "+p.MAX_LIGHTS+" lights";i=new PVector(i,r,o),(r=new $n).scale(1,-1,1),r.apply($e.array()),r.mult(i,i),e=[(((e=A(e,t,n,0))&p.RED_MASK)>>>16)/255,((e&p.GREEN_MASK)>>>8)/255,(e&p.BLUE_MASK)/255],ie.useProgram(de),k("uLights.color.3d."+Xt,de,"uLights"+Xt+".color",e),k("uLights.position.3d."+Xt,de,"uLights"+Xt+".position",i.array()),S("uLights.type.3d."+Xt,de,"uLights"+Xt+".type",0),S("uLightCount3d",de,"uLightCount",++Xt)},Ln.prototype.directionalLight=On.prototype.a3DOnlyFunction,Pn.prototype.directionalLight=function(e,t,n,i,r,o){if(Xt===p.MAX_LIGHTS)throw"can only create "+p.MAX_LIGHTS+" lights";ie.useProgram(de);var s=new $n;s.scale(1,-1,1),s.apply($e.array()),i=[(s=s.array())[0]*i+s[4]*r+s[8]*o,s[1]*i+s[5]*r+s[9]*o,s[2]*i+s[6]*r+s[10]*o],e=A(e,t,n,0),k("uLights.color.3d."+Xt,de,"uLights"+Xt+".color",[((e&p.RED_MASK)>>>16)/255,((e&p.GREEN_MASK)>>>8)/255,(e&p.BLUE_MASK)/255]),k("uLights.position.3d."+Xt,de,"uLights"+Xt+".position",i),S("uLights.type.3d."+Xt,de,"uLights"+Xt+".type",1),S("uLightCount3d",de,"uLightCount",++Xt)},Ln.prototype.lightFalloff=On.prototype.a3DOnlyFunction,Pn.prototype.lightFalloff=function(e,t,n){ie.useProgram(de),k("uFalloff3d",de,"uFalloff",[e,t,n])},Ln.prototype.lightSpecular=On.prototype.a3DOnlyFunction,Pn.prototype.lightSpecular=function(e,t,n){e=[(((e=A(e,t,n,0))&p.RED_MASK)>>>16)/255,((e&p.GREEN_MASK)>>>8)/255,(e&p.BLUE_MASK)/255],ie.useProgram(de),k("uSpecular3d",de,"uSpecular",e)},ne.lights=function(){ne.ambientLight(128,128,128),ne.directionalLight(128,128,128,0,0,-1),ne.lightFalloff(1,0,0),ne.lightSpecular(0,0,0)},Ln.prototype.pointLight=On.prototype.a3DOnlyFunction,Pn.prototype.pointLight=function(e,t,n,i,r,o){if(Xt===p.MAX_LIGHTS)throw"can only create "+p.MAX_LIGHTS+" lights";i=new PVector(i,r,o),(r=new $n).scale(1,-1,1),r.apply($e.array()),r.mult(i,i),e=[(((e=A(e,t,n,0))&p.RED_MASK)>>>16)/255,((e&p.GREEN_MASK)>>>8)/255,(e&p.BLUE_MASK)/255],ie.useProgram(de),k("uLights.color.3d."+Xt,de,"uLights"+Xt+".color",e),k("uLights.position.3d."+Xt,de,"uLights"+Xt+".position",i.array()),S("uLights.type.3d."+Xt,de,"uLights"+Xt+".type",2),S("uLightCount3d",de,"uLightCount",++Xt)},Ln.prototype.noLights=On.prototype.a3DOnlyFunction,Pn.prototype.noLights=function(){Xt=0,ie.useProgram(de),S("uLightCount3d",de,"uLightCount",Xt)},Ln.prototype.spotLight=On.prototype.a3DOnlyFunction,Pn.prototype.spotLight=function(e,t,n,i,r,o,s,a,l,u,c){if(Xt===p.MAX_LIGHTS)throw"can only create "+p.MAX_LIGHTS+" lights";ie.useProgram(de),i=new PVector(i,r,o),(r=new $n).scale(1,-1,1),r.apply($e.array()),r.mult(i,i),s=[(r=r.array())[0]*s+r[4]*a+r[8]*l,r[1]*s+r[5]*a+r[9]*l,r[2]*s+r[6]*a+r[10]*l],e=A(e,t,n,0),k("uLights.color.3d."+Xt,de,"uLights"+Xt+".color",[((e&p.RED_MASK)>>>16)/255,((e&p.GREEN_MASK)>>>8)/255,(e&p.BLUE_MASK)/255]),k("uLights.position.3d."+Xt,de,"uLights"+Xt+".position",i.array()),k("uLights.direction.3d."+Xt,de,"uLights"+Xt+".direction",s),k("uLights.concentration.3d."+Xt,de,"uLights"+Xt+".concentration",c),k("uLights.angle.3d."+Xt,de,"uLights"+Xt+".angle",u),S("uLights.type.3d."+Xt,de,"uLights"+Xt+".type",3),S("uLightCount3d",de,"uLightCount",++Xt)},Ln.prototype.beginCamera=function(){throw"beginCamera() is not available in 2D mode"},Pn.prototype.beginCamera=function(){if(on)throw"You cannot call beginCamera() again before calling endCamera()";on=!0,$e=Fe,je=Ie},Ln.prototype.endCamera=function(){throw"endCamera() is not available in 2D mode"},Pn.prototype.endCamera=function(){if(!on)throw"You cannot call endCamera() before calling beginCamera()";$e.set(Ie),je.set(Fe),on=!1},ne.camera=function(e,n,i,r,o,s,a,l,u){e===t&&(an=ne.width/2,ln=ne.height/2,un=ln/Math.tan(sn/2),e=an,n=ln,i=un,r=an,o=ln,a=s=0,l=1,u=0),r=new PVector(e-r,n-o,i-s);var c=new PVector(a,l,u);r.normalize(),u=PVector.cross(c,r),c=PVector.cross(r,u),u.normalize(),c.normalize(),a=u.x,l=u.y,u=u.z,o=c.x,s=c.y;c=c.z;var p=r.x,f=r.y;r=r.z,Ie.set(a,l,u,0,o,s,c,0,p,f,r,0,0,0,0,1),Ie.translate(-e,-n,-i),Fe.reset(),Fe.invApply(a,l,u,0,o,s,c,0,p,f,r,0,0,0,0,1),Fe.translate(e,n,i),$e.set(Ie),je.set(Fe)},ne.perspective=function(e,t,n,i){var r,o;0===arguments.length&&(ln=J.height/2,un=ln/Math.tan(sn/2),cn=un/10,pn=10*un,fn=ne.width/ne.height,e=sn,t=fn,n=cn,i=pn),o=-(r=n*Math.tan(e/2)),ne.frustum(o*t,r*t,o,r,n,i)},Ln.prototype.frustum=function(){throw"Processing.js: frustum() is not supported in 2D mode"},Pn.prototype.frustum=function(e,t,n,i,r,o){(He=new $n).set(2*r/(t-e),0,(t+e)/(t-e),0,0,2*r/(i-n),(i+n)/(i-n),0,0,0,-(o+r)/(o-r),-2*o*r/(o-r),0,0,-1,0),(e=new $n).set(He),e.transpose(),ie.useProgram(he),C("projection2d",he,"uProjection",!1,e.array()),ie.useProgram(de),C("projection3d",de,"uProjection",!1,e.array()),ie.useProgram(me),C("uProjectionUS",me,"uProjection",!1,e.array())},ne.ortho=function(e,t,n,i,r,o){0===arguments.length&&(e=0,t=ne.width,n=0,i=ne.height,r=-10,o=10);var s=2/(t-e),a=2/(i-n),l=-2/(o-r),u=-(t+e)/(t-e),c=-(i+n)/(i-n),p=-(o+r)/(o-r);(He=new $n).set(s,0,0,u,0,a,0,c,0,0,l,p,0,0,0,1),(s=new $n).set(He),s.transpose(),ie.useProgram(he),C("projection2d",he,"uProjection",!1,s.array()),ie.useProgram(de),C("projection3d",de,"uProjection",!1,s.array()),ie.useProgram(me),C("uProjectionUS",me,"uProjection",!1,s.array())},ne.printProjection=function(){He.print()},ne.printCamera=function(){Ie.print()},Ln.prototype.box=On.prototype.a3DOnlyFunction,Pn.prototype.box=function(e,t,n){t&&n||(t=n=e);var i=new $n;i.scale(e,t,n),(e=new $n).scale(1,-1,1),e.apply($e.array()),e.transpose(),Ue&&(ie.useProgram(de),C("model3d",de,"uModel",!1,i.array()),C("view3d",de,"uView",!1,e.array()),ie.enable(ie.POLYGON_OFFSET_FILL),ie.polygonOffset(1,1),k("color3d",de,"uColor",We),0<Xt?((t=new $n).set(e),(n=new $n).set(i),t.mult(n),(n=new $n).set(t),n.invert(),n.transpose(),C("uNormalTransform3d",de,"uNormalTransform",!1,n.array()),E("aNormal3d",de,"aNormal",3,be)):T("aNormal3d",de,"aNormal"),E("aVertex3d",de,"aVertex",3,ge),T("aColor3d",de,"aColor"),T("aTexture3d",de,"aTexture"),ie.drawArrays(ie.TRIANGLES,0,xn.length/3),ie.disable(ie.POLYGON_OFFSET_FILL)),0<Ze&&Ke&&(ie.useProgram(he),C("uModel2d",he,"uModel",!1,i.array()),C("uView2d",he,"uView",!1,e.array()),k("uColor2d",he,"uColor",Ye),S("uIsDrawingText2d",he,"uIsDrawingText",!1),E("vertex2d",he,"aVertex",3,ye),T("aTextureCoord2d",he,"aTextureCoord"),ie.drawArrays(ie.LINES,0,wn.length/3))},ne.sphereDetail=function(e,t){var n;if(1===arguments.length&&(e=t=arguments[0]),3>e&&(e=3),2>t&&(t=2),e!==Zt||t!==Qt){var i=p.SINCOS_LENGTH/e,r=new m(e),o=new m(e);for(n=0;n<e;n++)r[n]=rn[n*i%p.SINCOS_LENGTH|0],o[n]=nn[n*i%p.SINCOS_LENGTH|0];i=0,Jt=new m(n=e*(t-1)+2),en=new m(n),tn=new m(n);var s=.5*p.SINCOS_LENGTH/t,a=s;for(n=1;n<t;n++){for(var l=nn[a%p.SINCOS_LENGTH|0],u=-rn[a%p.SINCOS_LENGTH|0],c=0;c<e;c++)Jt[i]=r[c]*l,en[i]=u,tn[i++]=o[c]*l;a+=s}for(Zt=e,Qt=t,De=[],r=0;r<Zt;r++)De.push(0),De.push(-1),De.push(0),De.push(Jt[r]),De.push(en[r]),De.push(tn[r]);for(De.push(0),De.push(-1),De.push(0),De.push(Jt[0]),De.push(en[0]),De.push(tn[0]),s=0,r=2;r<Qt;r++){for(o=n=s,i=s+=Zt,a=0;a<Zt;a++)De.push(Jt[o]),De.push(en[o]),De.push(tn[o++]),De.push(Jt[i]),De.push(en[i]),De.push(tn[i++]);o=n,i=s,De.push(Jt[o]),De.push(en[o]),De.push(tn[o]),De.push(Jt[i]),De.push(en[i]),De.push(tn[i])}for(r=0;r<Zt;r++)i=s+r,De.push(Jt[i]),De.push(en[i]),De.push(tn[i]),De.push(0),De.push(1),De.push(0);De.push(Jt[s]),De.push(en[s]),De.push(tn[s]),De.push(0),De.push(1),De.push(0),ie.bindBuffer(ie.ARRAY_BUFFER,xe),ie.bufferData(ie.ARRAY_BUFFER,new m(De),ie.STATIC_DRAW)}},Ln.prototype.sphere=On.prototype.a3DOnlyFunction,Pn.prototype.sphere=function(e){(3>Zt||2>Qt)&&ne.sphereDetail(30);var t=new $n;if(t.scale(e,e,e),(e=new $n).scale(1,-1,1),e.apply($e.array()),e.transpose(),Ue){if(0<Xt){var n=new $n;n.set(e);var i=new $n;i.set(t),n.mult(i),(i=new $n).set(n),i.invert(),i.transpose(),C("uNormalTransform3d",de,"uNormalTransform",!1,i.array()),E("aNormal3d",de,"aNormal",3,xe)}else T("aNormal3d",de,"aNormal");ie.useProgram(de),T("aTexture3d",de,"aTexture"),C("uModel3d",de,"uModel",!1,t.array()),C("uView3d",de,"uView",!1,e.array()),E("aVertex3d",de,"aVertex",3,xe),T("aColor3d",de,"aColor"),ie.enable(ie.POLYGON_OFFSET_FILL),ie.polygonOffset(1,1),k("uColor3d",de,"uColor",We),ie.drawArrays(ie.TRIANGLE_STRIP,0,De.length/3),ie.disable(ie.POLYGON_OFFSET_FILL)}0<Ze&&Ke&&(ie.useProgram(he),C("uModel2d",he,"uModel",!1,t.array()),C("uView2d",he,"uView",!1,e.array()),E("aVertex2d",he,"aVertex",3,xe),T("aTextureCoord2d",he,"aTextureCoord"),k("uColor2d",he,"uColor",Ye),S("uIsDrawingText",he,"uIsDrawingText",!1),ie.drawArrays(ie.LINE_STRIP,0,De.length/3))},ne.modelX=function(e,t,n){var i=$e.array(),r=Fe.array(),o=i[0]*e+i[1]*t+i[2]*n+i[3],s=i[4]*e+i[5]*t+i[6]*n+i[7],a=i[8]*e+i[9]*t+i[10]*n+i[11];return t=i[12]*e+i[13]*t+i[14]*n+i[15],e=r[0]*o+r[1]*s+r[2]*a+r[3]*t,0!==(r=r[12]*o+r[13]*s+r[14]*a+r[15]*t)?e/r:e},ne.modelY=function(e,t,n){var i=$e.array(),r=Fe.array(),o=i[0]*e+i[1]*t+i[2]*n+i[3],s=i[4]*e+i[5]*t+i[6]*n+i[7],a=i[8]*e+i[9]*t+i[10]*n+i[11];return t=i[12]*e+i[13]*t+i[14]*n+i[15],e=r[4]*o+r[5]*s+r[6]*a+r[7]*t,0!==(r=r[12]*o+r[13]*s+r[14]*a+r[15]*t)?e/r:e},ne.modelZ=function(e,t,n){var i=$e.array(),r=Fe.array(),o=i[0]*e+i[1]*t+i[2]*n+i[3],s=i[4]*e+i[5]*t+i[6]*n+i[7],a=i[8]*e+i[9]*t+i[10]*n+i[11];return t=i[12]*e+i[13]*t+i[14]*n+i[15],e=r[8]*o+r[9]*s+r[10]*a+r[11]*t,0!==(r=r[12]*o+r[13]*s+r[14]*a+r[15]*t)?e/r:e},Ln.prototype.ambient=On.prototype.a3DOnlyFunction,Pn.prototype.ambient=function(e,t,n){ie.useProgram(de),S("uUsingMat3d",de,"uUsingMat",!0),e=ne.color(e,t,n),k("uMaterialAmbient3d",de,"uMaterialAmbient",ne.color.toGLArray(e).slice(0,3))},Ln.prototype.emissive=On.prototype.a3DOnlyFunction,Pn.prototype.emissive=function(e,t,n){ie.useProgram(de),S("uUsingMat3d",de,"uUsingMat",!0),e=ne.color(e,t,n),k("uMaterialEmissive3d",de,"uMaterialEmissive",ne.color.toGLArray(e).slice(0,3))},Ln.prototype.shininess=On.prototype.a3DOnlyFunction,Pn.prototype.shininess=function(e){ie.useProgram(de),S("uUsingMat3d",de,"uUsingMat",!0),k("uShininess3d",de,"uShininess",e)},Ln.prototype.specular=On.prototype.a3DOnlyFunction,Pn.prototype.specular=function(e,t,n){ie.useProgram(de),S("uUsingMat3d",de,"uUsingMat",!0),e=ne.color(e,t,n),k("uMaterialSpecular3d",de,"uMaterialSpecular",ne.color.toGLArray(e).slice(0,3))},ne.screenX=function(e,t,n){var i=$e.array();if(16===i.length){var r=i[0]*e+i[1]*t+i[2]*n+i[3],o=i[4]*e+i[5]*t+i[6]*n+i[7],s=i[8]*e+i[9]*t+i[10]*n+i[11];return t=i[12]*e+i[13]*t+i[14]*n+i[15],e=(n=He.array())[0]*r+n[1]*o+n[2]*s+n[3]*t,0!==(r=n[12]*r+n[13]*o+n[14]*s+n[15]*t)&&(e/=r),ne.width*(1+e)/2}return $e.multX(e,t)},ne.screenY=function(e,t,n){var i=$e.array();if(16===i.length){var r=i[0]*e+i[1]*t+i[2]*n+i[3],o=i[4]*e+i[5]*t+i[6]*n+i[7],s=i[8]*e+i[9]*t+i[10]*n+i[11];return t=i[12]*e+i[13]*t+i[14]*n+i[15],e=(n=He.array())[4]*r+n[5]*o+n[6]*s+n[7]*t,0!==(r=n[12]*r+n[13]*o+n[14]*s+n[15]*t)&&(e/=r),ne.height*(1+e)/2}return $e.multY(e,t)},ne.screenZ=function(e,t,n){var i=$e.array();if(16!==i.length)return 0;var r=He.array(),o=i[0]*e+i[1]*t+i[2]*n+i[3],s=i[4]*e+i[5]*t+i[6]*n+i[7],a=i[8]*e+i[9]*t+i[10]*n+i[11];return t=i[12]*e+i[13]*t+i[14]*n+i[15],e=r[8]*o+r[9]*s+r[10]*a+r[11]*t,0!==(r=r[12]*o+r[13]*s+r[14]*a+r[15]*t)&&(e/=r),(e+1)/2},On.prototype.fill=function(){var e=ne.color.apply(this,arguments);e===Ve&&Ue||(Ue=!0,Ve=e)},Ln.prototype.fill=function(){On.prototype.fill.apply(this,arguments),Ge=!0},Pn.prototype.fill=function(){On.prototype.fill.apply(this,arguments),We=ne.color.toGLArray(Ve)},ne.noFill=function(){Ue=!1},On.prototype.stroke=function(){var e=ne.color.apply(this,arguments);e===Xe&&Ke||(Ke=!0,Xe=e)},Ln.prototype.stroke=function(){On.prototype.stroke.apply(this,arguments),Qe=!0},Pn.prototype.stroke=function(){On.prototype.stroke.apply(this,arguments),Ye=ne.color.toGLArray(Xe)},ne.noStroke=function(){Ke=!1},On.prototype.strokeWeight=function(e){Ze=e},Ln.prototype.strokeWeight=function(e){On.prototype.strokeWeight.apply(this,arguments),ie.lineWidth=e},Pn.prototype.strokeWeight=function(e){On.prototype.strokeWeight.apply(this,arguments),ie.useProgram(he),k("pointSize2d",he,"uPointSize",e),ie.useProgram(me),k("pointSizeUnlitShape",me,"uPointSize",e),ie.lineWidth(e)},ne.strokeCap=function(e){oe.$ensureContext().lineCap=e},ne.strokeJoin=function(e){oe.$ensureContext().lineJoin=e},Ln.prototype.smooth=function(){et=!0;var e=J.style;e.setProperty("image-rendering","optimizeQuality","important"),e.setProperty("-ms-interpolation-mode","bicubic","important"),ie.hasOwnProperty("mozImageSmoothingEnabled")&&(ie.mozImageSmoothingEnabled=!0)},Pn.prototype.smooth=function(){et=!0},Ln.prototype.noSmooth=function(){et=!1;var e=J.style;e.setProperty("image-rendering","optimizeSpeed","important"),e.setProperty("image-rendering","-moz-crisp-edges","important"),e.setProperty("image-rendering","-webkit-optimize-contrast","important"),e.setProperty("image-rendering","optimize-contrast","important"),e.setProperty("-ms-interpolation-mode","nearest-neighbor","important"),ie.hasOwnProperty("mozImageSmoothingEnabled")&&(ie.mozImageSmoothingEnabled=!1)},Pn.prototype.noSmooth=function(){et=!1},Ln.prototype.point=function(e,t){Ke&&(e=Math.round(e),t=Math.round(t),ie.fillStyle=ne.color.toString(Xe),Ge=!0,1<Ze?(ie.beginPath(),ie.arc(e,t,Ze/2,0,p.TWO_PI,!1),ie.fill()):ie.fillRect(e,t,1,1))},Pn.prototype.point=function(e,t,n){var i=new $n;i.translate(e,t,n||0),i.transpose(),(e=new $n).scale(1,-1,1),e.apply($e.array()),e.transpose(),ie.useProgram(he),C("uModel2d",he,"uModel",!1,i.array()),C("uView2d",he,"uView",!1,e.array()),0<Ze&&Ke&&(k("uColor2d",he,"uColor",Ye),S("uIsDrawingText2d",he,"uIsDrawingText",!1),S("uSmooth2d",he,"uSmooth",et),E("aVertex2d",he,"aVertex",3,Ee),T("aTextureCoord2d",he,"aTextureCoord"),ie.drawArrays(ie.POINTS,0,1))},ne.beginShape=function(e){ft=e,dn=[]},Ln.prototype.vertex=function(e,t,n){var i=[];yn&&(yn=!1),i.isVert=!0,i[0]=e,i[1]=t,i[2]=0,i[3]=0,i[4]=0,i[5]=Ve,i[6]=Xe,dn.push(i),n&&(dn[dn.length-1].moveTo=n)},Pn.prototype.vertex=function(e,n,i,r,o){var s=[];yn&&(yn=!1),s.isVert=!0,o===t&&Pt&&(o=r,r=i,i=0),r!==t&&o!==t&&(Lt===p.IMAGE&&(r/=Rt,o/=Ot),r=0>(r=1<r?1:r)?0:r,o=0>(o=1<o?1:o)?0:o),s[0]=e,s[1]=n,s[2]=i||0,s[3]=r||0,s[4]=o||0,s[5]=We[0],s[6]=We[1],s[7]=We[2],s[8]=We[3],s[9]=Ye[0],s[10]=Ye[1],s[11]=Ye[2],s[12]=Ye[3],s[13]=ot,s[14]=st,s[15]=at,dn.push(s)};var Bn=function(e,t){var n=new $n;n.scale(1,-1,1),n.apply($e.array()),n.transpose(),ie.useProgram(me),C("uViewUS",me,"uView",!1,n.array()),S("uSmoothUS",me,"uSmooth",et),E("aVertexUS",me,"aVertex",3,Ee),ie.bufferData(ie.ARRAY_BUFFER,new m(e),ie.STREAM_DRAW),E("aColorUS",me,"aColor",4,Se),ie.bufferData(ie.ARRAY_BUFFER,new m(t),ie.STREAM_DRAW),ie.drawArrays(ie.POINTS,0,e.length/3)},zn=function(e,t,n){t="LINES"===t?ie.LINES:"LINE_LOOP"===t?ie.LINE_LOOP:ie.LINE_STRIP;var i=new $n;i.scale(1,-1,1),i.apply($e.array()),i.transpose(),ie.useProgram(me),C("uViewUS",me,"uView",!1,i.array()),E("aVertexUS",me,"aVertex",3,we),ie.bufferData(ie.ARRAY_BUFFER,new m(e),ie.STREAM_DRAW),E("aColorUS",me,"aColor",4,Ce),ie.bufferData(ie.ARRAY_BUFFER,new m(n),ie.STREAM_DRAW),ie.drawArrays(t,0,e.length/3)},qn=function(e,t,n,i){t="TRIANGLES"===t?ie.TRIANGLES:"TRIANGLE_FAN"===t?ie.TRIANGLE_FAN:ie.TRIANGLE_STRIP;var r=new $n;r.scale(1,-1,1),r.apply($e.array()),r.transpose(),ie.useProgram(de),C("model3d",de,"uModel",!1,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),C("view3d",de,"uView",!1,r.array()),ie.enable(ie.POLYGON_OFFSET_FILL),ie.polygonOffset(1,1),k("color3d",de,"uColor",[-1,0,0,0]),E("vertex3d",de,"aVertex",3,ke),ie.bufferData(ie.ARRAY_BUFFER,new m(e),ie.STREAM_DRAW),Pt&&null!==Ct&&Et(n),E("aColor3d",de,"aColor",4,Se),ie.bufferData(ie.ARRAY_BUFFER,new m(n),ie.STREAM_DRAW),T("aNormal3d",de,"aNormal"),Pt&&(S("uUsingTexture3d",de,"uUsingTexture",Pt),E("aTexture3d",de,"aTexture",2,Te),ie.bufferData(ie.ARRAY_BUFFER,new m(i),ie.STREAM_DRAW)),ie.drawArrays(t,0,e.length/3),ie.disable(ie.POLYGON_OFFSET_FILL)};Ln.prototype.endShape=function(e){if(0!==dn.length){(e=e===p.CLOSE)&&dn.push(dn[0]);var n,i=[],r=[],o=[],s=[];yn=!0;var a,l,u=dn.length;for(a=0;a<u;a++)for(n=dn[a],l=0;3>l;l++)i.push(n[l]);for(a=0;a<u;a++)for(n=dn[a],l=5;9>l;l++)r.push(n[l]);for(a=0;a<u;a++)for(n=dn[a],l=9;13>l;l++)o.push(n[l]);for(a=0;a<u;a++)n=dn[a],s.push(n[3]),s.push(n[4]);if(!gn||ft!==p.POLYGON&&ft!==t)if(!bn||ft!==p.POLYGON&&ft!==t)if(ft===p.POINTS)for(a=0;a<u;a++)n=dn[a],Ke&&ne.stroke(n[6]),ne.point(n[0],n[1]);else if(ft===p.LINES)for(a=0;a+1<u;a+=2)n=dn[a],Ke&&ne.stroke(dn[a+1][6]),ne.line(n[0],n[1],dn[a+1][0],dn[a+1][1]);else if(ft===p.TRIANGLES)for(a=0;a+2<u;a+=3)n=dn[a],ie.beginPath(),ie.moveTo(n[0],n[1]),ie.lineTo(dn[a+1][0],dn[a+1][1]),ie.lineTo(dn[a+2][0],dn[a+2][1]),ie.lineTo(n[0],n[1]),Ue&&(ne.fill(dn[a+2][5]),I()),Ke&&(ne.stroke(dn[a+2][6]),F()),ie.closePath();else if(ft===p.TRIANGLE_STRIP)for(a=0;a+1<u;a++)n=dn[a],ie.beginPath(),ie.moveTo(dn[a+1][0],dn[a+1][1]),ie.lineTo(n[0],n[1]),Ke&&ne.stroke(dn[a+1][6]),Ue&&ne.fill(dn[a+1][5]),a+2<u&&(ie.lineTo(dn[a+2][0],dn[a+2][1]),Ke&&ne.stroke(dn[a+2][6]),Ue&&ne.fill(dn[a+2][5])),$();else if(ft===p.TRIANGLE_FAN){if(2<u)for(ie.beginPath(),ie.moveTo(dn[0][0],dn[0][1]),ie.lineTo(dn[1][0],dn[1][1]),ie.lineTo(dn[2][0],dn[2][1]),Ue&&(ne.fill(dn[2][5]),I()),Ke&&(ne.stroke(dn[2][6]),F()),ie.closePath(),a=3;a<u;a++)n=dn[a],ie.beginPath(),ie.moveTo(dn[0][0],dn[0][1]),ie.lineTo(dn[a-1][0],dn[a-1][1]),ie.lineTo(n[0],n[1]),Ue&&(ne.fill(n[5]),I()),Ke&&(ne.stroke(n[6]),F()),ie.closePath()}else if(ft===p.QUADS)for(a=0;a+3<u;a+=4){for(n=dn[a],ie.beginPath(),ie.moveTo(n[0],n[1]),l=1;4>l;l++)ie.lineTo(dn[a+l][0],dn[a+l][1]);ie.lineTo(n[0],n[1]),Ue&&(ne.fill(dn[a+3][5]),I()),Ke&&(ne.stroke(dn[a+3][6]),F()),ie.closePath()}else if(ft===p.QUAD_STRIP){if(3<u)for(a=0;a+1<u;a+=2)n=dn[a],ie.beginPath(),a+3<u?(ie.moveTo(dn[a+2][0],dn[a+2][1]),ie.lineTo(n[0],n[1]),ie.lineTo(dn[a+1][0],dn[a+1][1]),ie.lineTo(dn[a+3][0],dn[a+3][1]),Ue&&ne.fill(dn[a+3][5]),Ke&&ne.stroke(dn[a+3][6])):(ie.moveTo(n[0],n[1]),ie.lineTo(dn[a+1][0],dn[a+1][1])),$()}else{for(ie.beginPath(),ie.moveTo(dn[0][0],dn[0][1]),a=1;a<u;a++)(n=dn[a]).isVert&&(n.moveTo?ie.moveTo(n[0],n[1]):ie.lineTo(n[0],n[1]));$()}else{for(ie.beginPath(),a=0;a<u;a++)n=dn[a],dn[a].isVert?dn[a].moveTo?ie.moveTo(n[0],n[1]):ie.lineTo(n[0],n[1]):ie.bezierCurveTo(dn[a][0],dn[a][1],dn[a][2],dn[a][3],dn[a][4],dn[a][5]);$()}else if(3<u){for(i=[],r=1-dt,ie.beginPath(),ie.moveTo(dn[1][0],dn[1][1]),a=1;a+2<u;a++)n=dn[a],i[0]=[n[0],n[1]],i[1]=[n[0]+(r*dn[a+1][0]-r*dn[a-1][0])/6,n[1]+(r*dn[a+1][1]-r*dn[a-1][1])/6],i[2]=[dn[a+1][0]+(r*dn[a][0]-r*dn[a+2][0])/6,dn[a+1][1]+(r*dn[a][1]-r*dn[a+2][1])/6],i[3]=[dn[a+1][0],dn[a+1][1]],ie.bezierCurveTo(i[1][0],i[1][1],i[2][0],i[2][1],i[3][0],i[3][1]);$()}bn=gn=!1,hn=[],mn=0,e&&dn.pop()}},Pn.prototype.endShape=function(e){if(0!==dn.length){var n=e===p.CLOSE;e=[];var i,r=[],o=[],s=[],a=[];yn=!0;var l,u,c=dn.length;for(l=0;l<c;l++)for(i=dn[l],u=0;3>u;u++)r.push(i[u]);for(l=0;l<c;l++)for(i=dn[l],u=5;9>u;u++)o.push(i[u]);for(l=0;l<c;l++)for(i=dn[l],u=9;13>u;u++)s.push(i[u]);for(l=0;l<c;l++)i=dn[l],a.push(i[3]),a.push(i[4]);if(n){for(r.push(dn[0][0]),r.push(dn[0][1]),r.push(dn[0][2]),l=5;9>l;l++)o.push(dn[0][l]);for(l=9;13>l;l++)s.push(dn[0][l]);a.push(dn[0][3]),a.push(dn[0][4])}if(!gn||ft!==p.POLYGON&&ft!==t)if(!bn||ft!==p.POLYGON&&ft!==t){if(ft===p.POINTS){for(l=0;l<c;l++)for(i=dn[l],u=0;3>u;u++)e.push(i[u]);Bn(e,s)}else if(ft===p.LINES){for(l=0;l<c;l++)for(i=dn[l],u=0;3>u;u++)e.push(i[u]);for(l=0;l<c;l++)for(i=dn[l],u=5;9>u;u++)o.push(i[u]);zn(e,"LINES",s)}else if(ft===p.TRIANGLES){if(2<c)for(l=0;l+2<c;l+=3){for(r=[],a=[],e=[],o=[],s=[],u=0;3>u;u++)for(n=0;3>n;n++)e.push(dn[l+u][n]),r.push(dn[l+u][n]);for(u=0;3>u;u++)for(n=3;5>n;n++)a.push(dn[l+u][n]);for(u=0;3>u;u++)for(n=5;9>n;n++)o.push(dn[l+u][n]),s.push(dn[l+u][n+4]);Ke&&zn(e,"LINE_LOOP",s),(Ue||Pt)&&qn(r,"TRIANGLES",o,a)}}else if(ft===p.TRIANGLE_STRIP){if(2<c)for(l=0;l+2<c;l++){for(e=[],r=[],s=[],o=[],a=[],u=0;3>u;u++)for(n=0;3>n;n++)e.push(dn[l+u][n]),r.push(dn[l+u][n]);for(u=0;3>u;u++)for(n=3;5>n;n++)a.push(dn[l+u][n]);for(u=0;3>u;u++)for(n=5;9>n;n++)s.push(dn[l+u][n+4]),o.push(dn[l+u][n]);(Ue||Pt)&&qn(r,"TRIANGLE_STRIP",o,a),Ke&&zn(e,"LINE_LOOP",s)}}else if(ft===p.TRIANGLE_FAN){if(2<c){for(l=0;3>l;l++)for(i=dn[l],u=0;3>u;u++)e.push(i[u]);for(l=0;3>l;l++)for(i=dn[l],u=9;13>u;u++)s.push(i[u]);for(Ke&&zn(e,"LINE_LOOP",s),l=2;l+1<c;l++){for(s=[],(e=[]).push(dn[0][0]),e.push(dn[0][1]),e.push(dn[0][2]),s.push(dn[0][9]),s.push(dn[0][10]),s.push(dn[0][11]),s.push(dn[0][12]),u=0;2>u;u++)for(n=0;3>n;n++)e.push(dn[l+u][n]);for(u=0;2>u;u++)for(n=9;13>n;n++)s.push(dn[l+u][n]);Ke&&zn(e,"LINE_STRIP",s)}(Ue||Pt)&&qn(r,"TRIANGLE_FAN",o,a)}}else if(ft===p.QUADS)for(l=0;l+3<c;l+=4){for(e=[],u=0;4>u;u++)for(i=dn[l+u],n=0;3>n;n++)e.push(i[n]);if(Ke&&zn(e,"LINE_LOOP",s),Ue){for(r=[],o=[],a=[],u=0;3>u;u++)r.push(dn[l][u]);for(u=5;9>u;u++)o.push(dn[l][u]);for(u=0;3>u;u++)r.push(dn[l+1][u]);for(u=5;9>u;u++)o.push(dn[l+1][u]);for(u=0;3>u;u++)r.push(dn[l+3][u]);for(u=5;9>u;u++)o.push(dn[l+3][u]);for(u=0;3>u;u++)r.push(dn[l+2][u]);for(u=5;9>u;u++)o.push(dn[l+2][u]);Pt&&(a.push(dn[l+0][3]),a.push(dn[l+0][4]),a.push(dn[l+1][3]),a.push(dn[l+1][4]),a.push(dn[l+3][3]),a.push(dn[l+3][4]),a.push(dn[l+2][3]),a.push(dn[l+2][4])),qn(r,"TRIANGLE_STRIP",o,a)}}else if(ft===p.QUAD_STRIP){if(3<c){for(l=0;2>l;l++)for(i=dn[l],u=0;3>u;u++)e.push(i[u]);for(l=0;2>l;l++)for(i=dn[l],u=9;13>u;u++)s.push(i[u]);for(zn(e,"LINE_STRIP",s),4<c&&0<c%2&&(r.splice(r.length-3),dn.pop()),l=0;l+3<c;l+=2){for(e=[],s=[],u=0;3>u;u++)e.push(dn[l+1][u]);for(u=0;3>u;u++)e.push(dn[l+3][u]);for(u=0;3>u;u++)e.push(dn[l+2][u]);for(u=0;3>u;u++)e.push(dn[l+0][u]);for(u=9;13>u;u++)s.push(dn[l+1][u]);for(u=9;13>u;u++)s.push(dn[l+3][u]);for(u=9;13>u;u++)s.push(dn[l+2][u]);for(u=9;13>u;u++)s.push(dn[l+0][u]);Ke&&zn(e,"LINE_STRIP",s)}(Ue||Pt)&&qn(r,"TRIANGLE_LIST",o,a)}}else if(1===c){for(u=0;3>u;u++)e.push(dn[0][u]);for(u=9;13>u;u++)s.push(dn[0][u]);Bn(e,s)}else{for(l=0;l<c;l++){for(i=dn[l],u=0;3>u;u++)e.push(i[u]);for(u=5;9>u;u++)s.push(i[u])}Ke&&n?zn(e,"LINE_LOOP",s):Ke&&!n&&zn(e,"LINE_STRIP",s),(Ue||Pt)&&qn(r,"TRIANGLE_FAN",o,a)}Pt=!1,ie.useProgram(de),S("usingTexture3d",de,"uUsingTexture",Pt)}else(e=r).splice(e.length-3),s.splice(s.length-4),Ke&&zn(e,null,s),Ue&&qn(r,"TRIANGLES",o);else Ke&&zn(r,null,s),Ue&&qn(r,null,o);bn=gn=!1,hn=[],mn=0}};var Hn=function(e,t){var n=1/e,i=n*n,r=i*n;t.set(0,0,0,1,r,i,n,0,6*r,2*i,0,0,6*r,0,0,0)},Un=function(){ue||(ae=new $n,ue=new $n,mt=!0);var e=dt;ae.set((e-1)/2,(e+3)/2,(-3-e)/2,(1-e)/2,1-e,(-5-e)/2,e+2,(e-1)/2,(e-1)/2,0,(1-e)/2,0,0,1,0,0),Hn(ht,ue),pe||(le=new $n),le.set(ae),le.preApply(pe),ue.apply(ae)};Ln.prototype.bezierVertex=function(){bn=!0;var e=[];if(yn)throw"vertex() must be used at least once before calling bezierVertex()";for(var t=0;t<arguments.length;t++)e[t]=arguments[t];dn.push(e),dn[dn.length-1].isVert=!1},Pn.prototype.bezierVertex=function(){if(bn=!0,yn)throw"vertex() must be used at least once before calling bezierVertex()";if(9===arguments.length){ce===t&&(ce=new $n);var e=dn.length-1;Hn(bt,ce),ce.apply(fe);for(var n=ce.array(),i=dn[e][0],r=dn[e][1],o=(e=dn[e][2],n[4]*i+n[5]*arguments[0]+n[6]*arguments[3]+n[7]*arguments[6]),s=n[8]*i+n[9]*arguments[0]+n[10]*arguments[3]+n[11]*arguments[6],a=n[12]*i+n[13]*arguments[0]+n[14]*arguments[3]+n[15]*arguments[6],l=n[4]*r+n[5]*arguments[1]+n[6]*arguments[4]+n[7]*arguments[7],u=n[8]*r+n[9]*arguments[1]+n[10]*arguments[4]+n[11]*arguments[7],c=n[12]*r+n[13]*arguments[1]+n[14]*arguments[4]+n[15]*arguments[7],p=n[4]*e+n[5]*arguments[2]+n[6]*arguments[5]+n[7]*arguments[8],f=n[8]*e+n[9]*arguments[2]+n[10]*arguments[5]+n[11]*arguments[8],d=(n=n[12]*e+n[13]*arguments[2]+n[14]*arguments[5]+n[15]*arguments[8],0);d<bt;d++)i+=o,o+=s,s+=a,r+=l,l+=u,u+=c,e+=p,p+=f,f+=n,ne.vertex(i,r,e);ne.vertex(arguments[6],arguments[7],arguments[8])}},ne.texture=function(e){var t=oe.$ensureContext();if(e.__texture)t.bindTexture(t.TEXTURE_2D,e.__texture);else{if("canvas"===e.localName)t.bindTexture(t.TEXTURE_2D,Ae),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.generateMipmap(t.TEXTURE_2D);else{var n,i=t.createTexture(),r=u.createElement("canvas"),o=r.getContext("2d");if(e.width&0==e.width-1)r.width=e.width;else{for(n=1;n<e.width;)n*=2;r.width=n}if(e.height&0==e.height-1)r.height=e.height;else{for(n=1;n<e.height;)n*=2;r.height=n}o.drawImage(e.sourceImg,0,0,e.width,e.height,0,0,r.width,r.height),t.bindTexture(t.TEXTURE_2D,i),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,r),t.generateMipmap(t.TEXTURE_2D),e.__texture=i}Rt=e.width,Ot=e.height}Pt=!0,t.useProgram(de),S("usingTexture3d",de,"uUsingTexture",Pt)},ne.textureMode=function(e){Lt=e},Ln.prototype.curveVertex=function(e,t){gn=!0,ne.vertex(e,t)},Pn.prototype.curveVertex=function(e,t,n){if(gn=!0,mt||Un(),(g=[])[0]=e,g[1]=t,g[2]=n,hn.push(g),3<++mn){var i=hn[mn-4][0],r=hn[mn-4][1],o=hn[mn-4][2],s=hn[mn-3][0],a=hn[mn-3][1],l=hn[mn-3][2],u=hn[mn-2][0],c=hn[mn-2][1],p=hn[mn-2][2],f=hn[mn-1][0],d=hn[mn-1][1],h=hn[mn-1][2];e=s,t=a,n=l;var m=ue.array(),g=m[4]*i+m[5]*s+m[6]*u+m[7]*f,b=m[8]*i+m[9]*s+m[10]*u+m[11]*f;i=m[12]*i+m[13]*s+m[14]*u+m[15]*f,s=m[4]*r+m[5]*a+m[6]*c+m[7]*d,u=m[8]*r+m[9]*a+m[10]*c+m[11]*d,r=m[12]*r+m[13]*a+m[14]*c+m[15]*d,a=m[4]*o+m[5]*l+m[6]*p+m[7]*h,c=m[8]*o+m[9]*l+m[10]*p+m[11]*h,o=m[12]*o+m[13]*l+m[14]*p+m[15]*h;for(ne.vertex(e,t,n),l=0;l<ht;l++)e+=g,g+=b,b+=i,t+=s,s+=u,u+=r,n+=a,a+=c,c+=o,ne.vertex(e,t,n)}},Ln.prototype.curve=function(e,t,n,i,r,o,s,a){ne.beginShape(),ne.curveVertex(e,t),ne.curveVertex(n,i),ne.curveVertex(r,o),ne.curveVertex(s,a),ne.endShape()},Pn.prototype.curve=function(e,n,i,r,o,s,a,l,u,c,p,f){f!==t?(ne.beginShape(),ne.curveVertex(e,n,i),ne.curveVertex(r,o,s),ne.curveVertex(a,l,u),ne.curveVertex(c,p,f)):(ne.beginShape(),ne.curveVertex(e,n),ne.curveVertex(i,r),ne.curveVertex(o,s),ne.curveVertex(a,l)),ne.endShape()},ne.curveTightness=function(e){dt=e},ne.curveDetail=function(e){ht=e,Un()},ne.rectMode=function(e){it=e},ne.imageMode=function(e){switch(e){case p.CORNER:Nn=An;break;case p.CORNERS:Nn=Mn;break;case p.CENTER:Nn=Rn;break;default:throw"Invalid imageMode"}},ne.ellipseMode=function(e){rt=e},ne.arc=function(e,t,n,i,r,o){if(!(0>=n||o<r)){for(rt===p.CORNERS?(n-=e,i-=t):rt===p.RADIUS?(e-=n,t-=i,n*=2,i*=2):rt===p.CENTER&&(e-=n/2,t-=i/2);0>r;)r+=p.TWO_PI,o+=p.TWO_PI;var s,a;if(o-r>p.TWO_PI&&(r=0,o=p.TWO_PI),e+=n/=2,t+=i/=2,r=0|.5+2*r*ne.RAD_TO_DEG,o=0|.5+2*o*ne.RAD_TO_DEG,Ue){var l=Ke;for(Ke=!1,ne.beginShape(),ne.vertex(e,t),s=r;s<=o;s++)a=s%p.SINCOS_LENGTH,ne.vertex(e+rn[a]*n,t+nn[a]*i);ne.endShape(p.CLOSE),Ke=l}if(Ke){for(l=Ue,Ue=!1,ne.beginShape(),s=r;s<=o;s++)a=s%p.SINCOS_LENGTH,ne.vertex(e+rn[a]*n,t+nn[a]*i);ne.endShape(),Ue=l}}},Ln.prototype.line=function(e,n,i,r){if(Ke)if(e=Math.round(e),i=Math.round(i),n=Math.round(n),r=Math.round(r),e===i&&n===r)ne.point(e,n);else{for(var o=t,s=t,a=!0,l=(o=$e.array(),[1,0,0,0,1,0]),u=0;6>u&&a;u++)a=o[u]===l[u];a&&(e===i?(n>r&&(o=n,n=r,r=o),r++,1==Ze%2&&ie.translate(.5,0)):n===r&&(e>i&&(o=e,e=i,i=o),i++,1==Ze%2&&ie.translate(0,.5)),1===Ze&&(s=ie.lineCap,ie.lineCap="butt")),ie.beginPath(),ie.moveTo(e||0,n||0),ie.lineTo(i||0,r||0),F(),a&&(e===i&&1==Ze%2?ie.translate(-.5,0):n===r&&1==Ze%2&&ie.translate(0,-.5),1===Ze&&(ie.lineCap=s))}},Pn.prototype.line=function(e,n,i,r,o,s){o!==t&&s!==t||(s=0,o=r,r=i,i=0),e===r&&n===o&&i===s?ne.point(e,n,i):(e=[e,n,i,r,o,s],(n=new $n).scale(1,-1,1),n.apply($e.array()),n.transpose(),0<Ze&&Ke&&(ie.useProgram(he),C("uModel2d",he,"uModel",!1,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),C("uView2d",he,"uView",!1,n.array()),k("uColor2d",he,"uColor",Ye),S("uIsDrawingText",he,"uIsDrawingText",!1),E("aVertex2d",he,"aVertex",3,we),T("aTextureCoord2d",he,"aTextureCoord"),ie.bufferData(ie.ARRAY_BUFFER,new m(e),ie.STREAM_DRAW),ie.drawArrays(ie.LINES,0,2)))},Ln.prototype.bezier=function(){if(8!==arguments.length)throw"You must use 8 parameters for bezier() in 2D mode";ne.beginShape(),ne.vertex(arguments[0],arguments[1]),ne.bezierVertex(arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]),ne.endShape()},Pn.prototype.bezier=function(){if(12!==arguments.length)throw"You must use 12 parameters for bezier() in 3D mode";ne.beginShape(),ne.vertex(arguments[0],arguments[1],arguments[2]),ne.bezierVertex(arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]),ne.endShape()},ne.bezierDetail=function(e){bt=e},ne.bezierPoint=function(e,t,n,i,r){return(1-r)*(1-r)*(1-r)*e+3*(1-r)*(1-r)*r*t+3*(1-r)*r*r*n+r*r*r*i},ne.bezierTangent=function(e,t,n,i,r){return 3*r*r*(3*t-e-3*n+i)+6*r*(e-2*t+n)+3*(-e+t)},ne.curvePoint=function(e,t,n,i,r){return.5*(2*t+(-e+n)*r+(2*e-5*t+4*n-i)*r*r+(3*t-e-3*n+i)*r*r*r)},ne.curveTangent=function(e,t,n,i,r){return.5*(-e+n+2*(2*e-5*t+4*n-i)*r+3*(3*t-e-3*n+i)*r*r)},ne.triangle=function(e,t,n,i,r,o){ne.beginShape(p.TRIANGLES),ne.vertex(e,t,0),ne.vertex(n,i,0),ne.vertex(r,o,0),ne.endShape()},ne.quad=function(e,t,n,i,r,o,s,a){ne.beginShape(p.QUADS),ne.vertex(e,t,0),ne.vertex(n,i,0),ne.vertex(r,o,0),ne.vertex(s,a,0),ne.endShape()},Ln.prototype.rect=function(e,n,i,r,o,s,a,l){if(i||r)if(it===p.CORNERS?(i-=e,r-=n):it===p.RADIUS?(e-=(i*=2)/2,n-=(r*=2)/2):it===p.CENTER&&(e-=i/2,n-=r/2),e=Math.round(e),n=Math.round(n),i=Math.round(i),r=Math.round(r),o!==t){l===t&&(l=a=s=o);var u=i/2,c=r/2;(o>u||o>c)&&(o=Math.min(u,c)),(s>u||s>c)&&(s=Math.min(u,c)),(a>u||a>c)&&(a=Math.min(u,c)),(l>u||l>c)&&(l=Math.min(u,c)),Ue&&!Ke||ie.translate(.5,.5),ie.beginPath(),ie.moveTo(e+o,n),ie.lineTo(e+i-s,n),ie.quadraticCurveTo(e+i,n,e+i,n+s),ie.lineTo(e+i,n+r-a),ie.quadraticCurveTo(e+i,n+r,e+i-a,n+r),ie.lineTo(e+l,n+r),ie.quadraticCurveTo(e,n+r,e,n+r-l),ie.lineTo(e,n+o),ie.quadraticCurveTo(e,n,e+o,n),Ue&&!Ke||ie.translate(-.5,-.5),I(),F()}else Ke&&1==Ze%2&&ie.translate(.5,.5),ie.beginPath(),ie.rect(e,n,i,r),I(),F(),Ke&&1==Ze%2&&ie.translate(-.5,-.5)},Pn.prototype.rect=function(e,n,i,r,o,s,a,l){if(o!==t)throw"rect() with rounded corners is not supported in 3D mode";it===p.CORNERS?(i-=e,r-=n):it===p.RADIUS?(e-=(i*=2)/2,n-=(r*=2)/2):it===p.CENTER&&(e-=i/2,n-=r/2),(o=new $n).translate(e,n,0),o.scale(i,r,1),o.transpose(),(n=new $n).scale(1,-1,1),n.apply($e.array()),n.transpose(),0<Ze&&Ke&&(ie.useProgram(he),C("uModel2d",he,"uModel",!1,o.array()),C("uView2d",he,"uView",!1,n.array()),k("uColor2d",he,"uColor",Ye),S("uIsDrawingText2d",he,"uIsDrawingText",!1),E("aVertex2d",he,"aVertex",3,ve),T("aTextureCoord2d",he,"aTextureCoord"),ie.drawArrays(ie.LINE_LOOP,0,Sn.length/3)),Ue&&(ie.useProgram(de),C("uModel3d",de,"uModel",!1,o.array()),C("uView3d",de,"uView",!1,n.array()),ie.enable(ie.POLYGON_OFFSET_FILL),ie.polygonOffset(1,1),k("color3d",de,"uColor",We),0<Xt?((e=new $n).set(n),(n=new $n).set(o),e.mult(n),(n=new $n).set(e),n.invert(),n.transpose(),C("uNormalTransform3d",de,"uNormalTransform",!1,n.array()),E("aNormal3d",de,"aNormal",3,_e)):T("normal3d",de,"aNormal"),E("vertex3d",de,"aVertex",3,ve),ie.drawArrays(ie.TRIANGLE_FAN,0,Sn.length/3),ie.disable(ie.POLYGON_OFFSET_FILL))},Ln.prototype.ellipse=function(e,t,n,i){if(e=e||0,t=t||0,!(0>=n&&0>=i))if(rt===p.RADIUS?(n*=2,i*=2):rt===p.CORNERS?(e+=(n-=e)/2,t+=(i-=t)/2):rt===p.CORNER&&(e+=n/2,t+=i/2),n===i)ie.beginPath(),ie.arc(e,t,n/2,0,p.TWO_PI,!1),I(),F();else{var r=.5522847498307933*(n/=2),o=.5522847498307933*(i/=2);ne.beginShape(),ne.vertex(e+n,t),ne.bezierVertex(e+n,t-o,e+r,t-i,e,t-i),ne.bezierVertex(e-r,t-i,e-n,t-o,e-n,t),ne.bezierVertex(e-n,t+o,e-r,t+i,e,t+i),ne.bezierVertex(e+r,t+i,e+n,t+o,e+n,t),ne.endShape()}},Pn.prototype.ellipse=function(e,t,n,i){if(e=e||0,t=t||0,!(0>=n&&0>=i)){rt===p.RADIUS?(n*=2,i*=2):rt===p.CORNERS?(e+=(n-=e)/2,t+=(i-=t)/2):rt===p.CORNER&&(e+=n/2,t+=i/2);var r=.5522847498307933*(n/=2),o=.5522847498307933*(i/=2);if(ne.beginShape(),ne.vertex(e+n,t),ne.bezierVertex(e+n,t-o,0,e+r,t-i,0,e,t-i,0),ne.bezierVertex(e-r,t-i,0,e-n,t-o,0,e-n,t,0),ne.bezierVertex(e-n,t+o,0,e-r,t+i,0,e,t+i,0),ne.bezierVertex(e+r,t+i,0,e+n,t+o,0,e+n,t,0),ne.endShape(),Ue){for(r=i=n=0;r<dn.length;r++)n+=dn[r][0],i+=dn[r][1];for(n/=dn.length,i/=dn.length,e=[],t=[],(r=[])[0]=n,r[1]=i,r[2]=0,r[3]=0,r[4]=0,r[5]=We[0],r[6]=We[1],r[7]=We[2],r[8]=We[3],r[9]=Ye[0],r[10]=Ye[1],r[11]=Ye[2],r[12]=Ye[3],r[13]=ot,r[14]=st,r[15]=at,dn.unshift(r),r=0;r<dn.length;r++){for(n=0;3>n;n++)e.push(dn[r][n]);for(n=5;9>n;n++)t.push(dn[r][n])}qn(e,"TRIANGLE_FAN",t)}}},ne.normal=function(e,t,n){if(3!==arguments.length||"number"!=typeof e||"number"!=typeof t||"number"!=typeof n)throw"normal() requires three numeric arguments.";ot=e,st=t,at=n,0!==ft&&(lt===p.NORMAL_MODE_AUTO?lt=p.NORMAL_MODE_SHAPE:lt===p.NORMAL_MODE_SHAPE&&(lt=p.NORMAL_MODE_VERTEX))},ne.save=function(e,n){return n!==t?l.open(n.toDataURL(),"_blank"):l.open(ne.externals.canvas.toDataURL(),"_blank")};var Wn=0;ne.saveFrame=function(e){e===t&&(e="screen-####.png"),e=e.replace(/#+/,function(e){for(var t=""+Wn++;t.length<e.length;)t="0"+t;return t}),ne.save(e)};var Vn=u.createElement("canvas").getContext("2d"),Gn=[t,t,t],Kn=function(e,t,n){if(this.__isDirty=!1,e instanceof d)this.fromHTMLImageData(e);else if(t||n){if(this.width=e||1,this.height=t||1,(e=this.sourceImg=u.createElement("canvas")).width=this.width,e.height=this.height,this.imageData=e.getContext("2d").createImageData(this.width,this.height),this.format=n===p.ARGB||n===p.ALPHA?n:p.RGB,this.format===p.RGB)for(n=3,t=(e=this.imageData.data).length;n<t;n+=4)e[n]=255;this.__isDirty=!0,this.updatePixels()}else this.height=this.width=0,this.imageData=Vn.createImageData(1,1),this.format=p.ARGB;this.pixels=function(e){return{getLength:function(e){return function(){if(e.isRemote)throw"Image is loaded remotely. Cannot get length.";return e.imageData.data.length?e.imageData.data.length/4:0}}(e),getPixel:function(e){return function(t){t*=4;var n=e.imageData.data;if(e.isRemote)throw"Image is loaded remotely. Cannot get pixels.";return n[t+3]<<24&p.ALPHA_MASK|n[t]<<16&p.RED_MASK|n[t+1]<<8&p.GREEN_MASK|n[t+2]&p.BLUE_MASK}}(e),setPixel:function(e){return function(t,n){var i=4*t,r=e.imageData.data;if(e.isRemote)throw"Image is loaded remotely. Cannot set pixel.";r[i+0]=(n&p.RED_MASK)>>>16,r[i+1]=(n&p.GREEN_MASK)>>>8,r[i+2]=n&p.BLUE_MASK,r[i+3]=(n&p.ALPHA_MASK)>>>24,e.__isDirty=!0}}(e),toArray:function(e){return function(){var t=[],n=e.imageData.data,i=e.width*e.height;if(e.isRemote)throw"Image is loaded remotely. Cannot get pixels.";for(var r=0,o=0;r<i;r++,o+=4)t.push(n[o+3]<<24&p.ALPHA_MASK|n[o]<<16&p.RED_MASK|n[o+1]<<8&p.GREEN_MASK|n[o+2]&p.BLUE_MASK);return t}}(e),set:function(e){return function(t){var n,i,r;if(this.isRemote)throw"Image is loaded remotely. Cannot set pixels.";i=e.imageData.data;for(var o=0,s=t.length;o<s;o++)r=t[o],i[0+(n=4*o)]=(r&p.RED_MASK)>>>16,i[n+1]=(r&p.GREEN_MASK)>>>8,i[n+2]=r&p.BLUE_MASK,i[n+3]=(r&p.ALPHA_MASK)>>>24;e.__isDirty=!0}}(e)}}(this)};Kn.prototype={__isPImage:!0,updatePixels:function(){var e=this.sourceImg;e&&e instanceof f&&this.__isDirty&&e.getContext("2d").putImageData(this.imageData,0,0),this.__isDirty=!1},fromHTMLImageData:function(e){var t=j(e);try{var n=t.context.getImageData(0,0,e.width,e.height);this.fromImageData(n)}catch(t){e.width&&e.height&&(this.isRemote=!0,this.width=e.width,this.height=e.height)}this.sourceImg=e},get:function(e,t,n,i){return arguments.length?2===arguments.length?ne.get(e,t,this):4===arguments.length?ne.get(e,t,n,i,this):void 0:ne.get(this)},set:function(e,t,n){ne.set(e,t,n,this),this.__isDirty=!0},blend:function(e,t,n,i,r,o,s,a,l,u){9===arguments.length?ne.blend(this,e,t,n,i,r,o,s,a,l,this):10===arguments.length&&ne.blend(e,t,n,i,r,o,s,a,l,u,this),delete this.sourceImg},copy:function(e,t,n,i,r,o,s,a,l){8===arguments.length?ne.blend(this,e,t,n,i,r,o,s,a,p.REPLACE,this):9===arguments.length&&ne.blend(e,t,n,i,r,o,s,a,l,p.REPLACE,this),delete this.sourceImg},filter:function(e,t){2===arguments.length?ne.filter(e,t,this):1===arguments.length&&ne.filter(e,null,this),delete this.sourceImg},save:function(e){ne.save(e,this)},resize:function(e,t){if(this.isRemote)throw"Image is loaded remotely. Cannot resize.";if(0!==this.width||0!==this.height){0===e&&0!==t?e=Math.floor(this.width/this.height*t):0===t&&0!==e&&(t=Math.floor(this.height/this.width*e));var n=j(this.imageData).canvas;n=j(n,e,t).context.getImageData(0,0,e,t);this.fromImageData(n)}},mask:function(e){var t,n,i=this.toImageData();if(e instanceof Kn||e.__isPImage){if(e.width!==this.width||e.height!==this.height)throw"mask must have the same dimensions as PImage.";for(e=e.toImageData(),t=2,n=4*this.width*this.height;t<n;t+=4)i.data[t+1]=e.data[t]}else if(e instanceof Array){if(this.width*this.height!==e.length)throw"mask array must be the same length as PImage pixels array.";for(t=0,n=e.length;t<n;++t)i.data[4*t+3]=e[t]}this.fromImageData(i)},loadPixels:c,toImageData:function(){return this.isRemote?this.sourceImg:this.__isDirty?j(this.sourceImg).context.getImageData(0,0,this.width,this.height):this.imageData},toDataURL:function(){if(this.isRemote)throw"Image is loaded remotely. Cannot create dataURI.";return j(this.imageData).canvas.toDataURL()},fromImageData:function(e){var t=e.width,n=e.height,i=u.createElement("canvas"),r=i.getContext("2d");this.width=i.width=t,this.height=i.height=n,r.putImageData(e,0,0),this.format=p.ARGB,this.imageData=e,this.sourceImg=i}},ne.PImage=Kn,ne.createImage=function(e,t,n){return new Kn(e,t,n)},ne.loadImage=function(e,t,n){if(re.imageCache.images[e])return(t=new Kn(re.imageCache.images[e])).loaded=!0,t;t=new Kn;var i=u.createElement("img");return t.sourceImg=i,i.onload=function(e,t,n){return function(){t.fromHTMLImageData(e),t.loaded=!0,n&&n()}}(i,t,n),i.src=e,t},ne.requestImage=ne.loadImage,ne.get=function(e,t,n,i,r){if(void 0!==r)return z(e,t,n,i,r);if(void 0!==i)return B(e,t,n,i);if(void 0!==n){if(n.isRemote)throw"Image is loaded remotely. Cannot get x,y.";return e=4*t*n.width+4*e,(n=n.imageData.data)[e+3]<<24&p.ALPHA_MASK|n[e]<<16&p.RED_MASK|n[e+1]<<8&p.GREEN_MASK|n[e+2]&p.BLUE_MASK}return void 0!==t?(e>=ne.width||0>e||0>t||t>=ne.height?n=0:Wt?(e=4*((0|e)+ne.width*(0|t)),n=(n=ne.imageData.data)[e+3]<<24&p.ALPHA_MASK|n[e]<<16&p.RED_MASK|n[e+1]<<8&p.GREEN_MASK|n[e+2]&p.BLUE_MASK):n=(n=ne.toImageData(0|e,0|t,1,1).data)[3]<<24&p.ALPHA_MASK|n[0]<<16&p.RED_MASK|n[1]<<8&p.GREEN_MASK|n[2]&p.BLUE_MASK,n):void 0!==e?z(0,0,e.width,e.height,e):B(0,0,ne.width,ne.height)},ne.createGraphics=function(e,t,n){var i=new x;return i.size(e,t,n),i.background(0,0),i},ne.set=function(e,t,n,i){if(3===arguments.length)"number"==typeof n?e<ne.width&&0<=e&&0<=t&&t<ne.height&&(Wt||(ne.loadPixels(),null===Ut&&(Le=ie,Ut=new H),Wt=!0,ie=Ut,Pe=0),ne.pixels.setPixel((0|e)+ne.width*(0|t),n),++Pe>Vt&&q()):(n instanceof Kn||n.__isPImage)&&ne.image(n,e,t);else if(4===arguments.length){if(i.isRemote)throw"Image is loaded remotely. Cannot set x,y.";var r=ne.color.toArray(n),o=4*t*i.width+4*e,s=i.imageData.data;s[o]=r[0],s[o+1]=r[1],s[o+2]=r[2],s[o+3]=r[3]}},ne.imageData={},ne.pixels={getLength:function(){return ne.imageData.data.length?ne.imageData.data.length/4:0},getPixel:function(e){e*=4;var t=ne.imageData.data;return t[e+3]<<24&4278190080|t[e+0]<<16&16711680|t[e+1]<<8&65280|255&t[e+2]},setPixel:function(e,t){var n=4*e,i=ne.imageData.data;i[n+0]=(16711680&t)>>>16,i[n+1]=(65280&t)>>>8,i[n+2]=255&t,i[n+3]=(4278190080&t)>>>24},toArray:function(){for(var e=[],t=ne.imageData.width*ne.imageData.height,n=ne.imageData.data,i=0,r=0;i<t;i++,r+=4)e.push(n[r+3]<<24&4278190080|n[r+0]<<16&16711680|n[r+1]<<8&65280|255&n[r+2]);return e},set:function(e){for(var t=0,n=e.length;t<n;t++)this.setPixel(t,e[t])}},ne.loadPixels=function(){ne.imageData=oe.$ensureContext().getImageData(0,0,ne.width,ne.height)},ne.updatePixels=function(){ne.imageData&&oe.$ensureContext().putImageData(ne.imageData,0,0)},ne.hint=function(e){var t=oe.$ensureContext();e===p.DISABLE_DEPTH_TEST?(t.disable(t.DEPTH_TEST),t.depthMask(!1),t.clear(t.DEPTH_BUFFER_BIT)):e===p.ENABLE_DEPTH_TEST?(t.enable(t.DEPTH_TEST),t.depthMask(!0)):e===p.ENABLE_OPENGL_2X_SMOOTH||e===p.ENABLE_OPENGL_4X_SMOOTH?et=!0:e===p.DISABLE_OPENGL_2X_SMOOTH&&(et=!1)};var Yn=function(e,t,n,i){if(e instanceof Kn||e.__isPImage){if(!e.loaded)throw"Error using image in background(): PImage not loaded.";if(e.width!==ne.width||e.height!==ne.height)throw"Background image must be the same dimensions as the canvas."}else e=ne.color(e,t,n,i);gt=e};Ln.prototype.background=function(e,n,i,r){e!==t&&Yn(e,n,i,r),gt instanceof Kn||gt.__isPImage?(ie.save(),ie.setTransform(1,0,0,1,0,0),ne.image(gt,0,0)):(ie.save(),ie.setTransform(1,0,0,1,0,0),ne.alpha(gt)!==yt&&ie.clearRect(0,0,ne.width,ne.height),ie.fillStyle=ne.color.toString(gt),ie.fillRect(0,0,ne.width,ne.height),Ge=!0),M()},Pn.prototype.background=function(e,t,n,i){0<arguments.length&&Yn(e,t,n,i);var r=ne.color.toGLArray(gt);ie.clearColor(r[0],r[1],r[2],r[3]),ie.clear(ie.COLOR_BUFFER_BIT|ie.DEPTH_BUFFER_BIT)},Ln.prototype.image=function(e,t,n,i,r){if(t=Math.round(t),n=Math.round(n),0<e.width){var o=Nn(t||0,n||0,i||e.width,r||e.height,4>arguments.length);if(e.sourceImg&&null===Ct){var s=e.sourceImg;e.__isDirty&&e.updatePixels(),ie.drawImage(s,0,0,s.width,s.height,o.x,o.y,o.w,o.h)}else s=e.toImageData(),null!==Ct&&(Ct(s),e.__isDirty=!0),ie.drawImage(j(s).canvas,0,0,e.width,e.height,o.x,o.y,o.w,o.h)}},Pn.prototype.image=function(e,t,n,i,r){0<e.width&&(t=Math.round(t),n=Math.round(n),i=i||e.width,r=r||e.height,ne.beginShape(ne.QUADS),ne.texture(e),ne.vertex(t,n,0,0,0),ne.vertex(t,n+r,0,0,r),ne.vertex(t+i,n+r,0,i,r),ne.vertex(t+i,n,0,i,0),ne.endShape())},ne.tint=function(e,t,n,i){e=ne.color(e,t,n,i);var r=ne.red(e)/vt,o=ne.green(e)/_t,s=ne.blue(e)/xt,a=ne.alpha(e)/yt;Ct=function(e){var t=e.data;e=4*e.width*e.height;for(var n=0;n<e;)t[n++]*=r,t[n++]*=o,t[n++]*=s,t[n++]*=a},Et=function(e){for(var t=0;t<e.length;)e[t++]=r,e[t++]=o,e[t++]=s,e[t++]=a}},ne.noTint=function(){Et=Ct=null},ne.copy=function(e,n,i,r,o,s,a,l,u){u===t&&(u=l,l=a,a=s,s=o,o=r,r=i,i=n,n=e,e=ne),ne.blend(e,n,i,r,o,s,a,l,u,p.REPLACE)},ne.blend=function(e,n,i,r,o,s,a,l,u,c,p){if(e.isRemote)throw"Image is loaded remotely. Cannot blend image.";c===t&&(c=u,u=l,l=a,a=s,s=o,o=r,r=i,i=n,n=e,e=ne),r=n+r,o=i+o,l=s+l,u=a+u;var f=p||ne;p!==t&&c!==t||ne.loadPixels(),e.loadPixels(),e===ne&&ne.intersect(n,i,r,o,s,a,l,u)?ne.blit_resize(ne.get(n,i,r-n,o-i),0,0,r-n-1,o-i-1,f.imageData.data,f.width,f.height,s,a,l,u,c):ne.blit_resize(e,n,i,r,o,f.imageData.data,f.width,f.height,s,a,l,u,c),p===t&&ne.updatePixels()};var Xn=function(e,t){var n,i,r,o,s,a,l,u,c,p,f,d=0,h=t.pixels.getLength(),m=new g(h);if(e)for(;d<h;)for(n=d,i=d+t.width;d<i;)r=o=t.pixels.getPixel(d),(a=d-1)<n&&(a=d),(s=d+1)>=i&&(s=d),0>(l=d-t.width)&&(l=0),(u=d+t.width)>=h&&(u=d),l=t.pixels.getPixel(l),a=t.pixels.getPixel(a),u=t.pixels.getPixel(u),(p=77*(a>>16&255)+151*(a>>8&255)+28*(255&a))<(r=77*(r>>16&255)+151*(r>>8&255)+28*(255&r))&&(o=a,r=p),(c=77*((s=t.pixels.getPixel(s))>>16&255)+151*(s>>8&255)+28*(255&s))<r&&(o=s,r=c),(f=77*(l>>16&255)+151*(l>>8&255)+28*(255&l))<r&&(o=l,r=f),77*(u>>16&255)+151*(u>>8&255)+28*(255&u)<r&&(o=u),m[d++]=o;else for(;d<h;)for(n=d,i=d+t.width;d<i;)r=o=t.pixels.getPixel(d),(a=d-1)<n&&(a=d),(s=d+1)>=i&&(s=d),0>(l=d-t.width)&&(l=0),(u=d+t.width)>=h&&(u=d),l=t.pixels.getPixel(l),a=t.pixels.getPixel(a),u=t.pixels.getPixel(u),(p=77*(a>>16&255)+151*(a>>8&255)+28*(255&a))>(r=77*(r>>16&255)+151*(r>>8&255)+28*(255&r))&&(o=a,r=p),(c=77*((s=t.pixels.getPixel(s))>>16&255)+151*(s>>8&255)+28*(255&s))>r&&(o=s,r=c),(f=77*(l>>16&255)+151*(l>>8&255)+28*(255&l))>r&&(o=l,r=f),77*(u>>16&255)+151*(u>>8&255)+28*(255&u)>r&&(o=u),m[d++]=o;t.pixels.set(m)};ne.filter=function(e,n,i){var r,o,s,a;if(3===arguments.length?(i.loadPixels(),r=i):(ne.loadPixels(),r=ne),n===t&&(n=null),r.isRemote)throw"Image is loaded remotely. Cannot filter image.";var l=r.pixels.getLength();switch(e){case p.BLUR:var u,c,f,d,h,g,b,y,v,_=n||1,x=r;s=x.pixels.getLength(),a=new m(s),l=new m(s),o=new m(s),s=new m(s);var w,k,S,C,E=0;_=1>(_=ne.floor(3.5*_))?1:248>_?_:248;if(ne.shared.blurRadius!==_){ne.shared.blurRadius=_,ne.shared.blurKernelSize=1+(ne.shared.blurRadius<<1),ne.shared.blurKernel=new m(ne.shared.blurKernelSize);var T=ne.shared.blurKernel,A=ne.shared.blurKernelSize;for(C=0;C<A;C++)T[C]=0;for(A=(_-1)*(_-1),C=1;C<_;C++)T[_+C]=T[void 0]=A;T[_]=_*_}_=x.height,C=x.width,T=ne.shared.blurKernelSize,y=ne.shared.blurRadius;A=ne.shared.blurKernel;var N=x.imageData.data;for(k=0;k<_;k++){for(w=0;w<C;w++){if(f=c=u=d=x=0,0>(g=w-y))h=-g,g=0;else{if(g>=C)break;h=0}for(S=h;S<T&&!(g>=C);S++)b=4*(g+E),d+=(h=A[S])*N[b+3],u+=h*N[b],c+=h*N[b+1],f+=h*N[b+2],x+=h,g++;s[b=E+w]=d/x,a[b]=u/x,l[b]=c/x,o[b]=f/x}E+=C}for(E=0,v=(y=-y)*C,k=0;k<_;k++){for(w=0;w<C;w++){if(f=c=u=d=x=0,0>y)h=b=-y,g=w;else{if(y>=_)break;h=0,b=y,g=w+v}for(S=h;S<T&&!(b>=_);S++)d+=(h=A[S])*s[g],u+=h*a[g],c+=h*l[g],f+=h*o[g],x+=h,b++,g+=C;N[b=4*(w+E)]=u/x,N[b+1]=c/x,N[b+2]=f/x,N[b+3]=d/x}E+=C,v+=C,y++}break;case p.GRAY:if(r.format===p.ALPHA){for(a=0;a<l;a++)o=255-r.pixels.getPixel(a),r.pixels.setPixel(a,4278190080|o<<16|o<<8|o);r.format=p.RGB}else for(a=0;a<l;a++)s=77*((o=r.pixels.getPixel(a))>>16&255)+151*(o>>8&255)+28*(255&o)>>8,r.pixels.setPixel(a,o&p.ALPHA_MASK|s<<16|s<<8|s);break;case p.INVERT:for(a=0;a<l;a++)r.pixels.setPixel(a,16777215^r.pixels.getPixel(a));break;case p.POSTERIZE:if(null===n)throw"Use filter(POSTERIZE, int levels) instead of filter(POSTERIZE)";if(2>(o=ne.floor(n))||255<o)throw"Levels must be between 2 and 255 for filter(POSTERIZE, levels)";for(s=o-1,a=0;a<l;a++)E=255*((E=r.pixels.getPixel(a)>>16&255)*o>>8)/s,_=255*((_=r.pixels.getPixel(a)>>8&255)*o>>8)/s,C=255*((C=255&r.pixels.getPixel(a))*o>>8)/s,r.pixels.setPixel(a,4278190080&r.pixels.getPixel(a)|E<<16|_<<8|C);break;case p.OPAQUE:for(a=0;a<l;a++)r.pixels.setPixel(a,4278190080|r.pixels.getPixel(a));r.format=p.RGB;break;case p.THRESHOLD:if(null===n&&(n=.5),0>n||1<n)throw"Level must be between 0 and 1 for filter(THRESHOLD, level)";for(o=ne.floor(255*n),a=0;a<l;a++)s=ne.max((r.pixels.getPixel(a)&p.RED_MASK)>>16,ne.max((r.pixels.getPixel(a)&p.GREEN_MASK)>>8,r.pixels.getPixel(a)&p.BLUE_MASK)),r.pixels.setPixel(a,r.pixels.getPixel(a)&p.ALPHA_MASK|(s<o?0:16777215));break;case p.ERODE:Xn(!0,r);break;case p.DILATE:Xn(!1,r)}r.updatePixels()},ne.shared={fracU:0,ifU:0,fracV:0,ifV:0,u1:0,u2:0,v1:0,v2:0,sX:0,sY:0,iw:0,iw1:0,ih1:0,ul:0,ll:0,ur:0,lr:0,cUL:0,cLL:0,cUR:0,cLR:0,srcXOffset:0,srcYOffset:0,r:0,g:0,b:0,a:0,srcBuffer:null,blurRadius:0,blurKernelSize:0,blurKernel:null},ne.intersect=function(e,t,n,i,r,o,s,a){return n=n-e+1,i=i-t+1,s=s-r+1,a=a-o+1,r<e?(s+=r-e)>n&&(s=n):s>(e=n+e-r)&&(s=e),o<t?(a+=o-t)>i&&(a=i):a>(t=i+t-o)&&(a=t),!(0>=s||0>=a)};var Qn={};if(Qn[p.BLEND]=ne.modes.blend,Qn[p.ADD]=ne.modes.add,Qn[p.SUBTRACT]=ne.modes.subtract,Qn[p.LIGHTEST]=ne.modes.lightest,Qn[p.DARKEST]=ne.modes.darkest,Qn[p.REPLACE]=ne.modes.replace,Qn[p.DIFFERENCE]=ne.modes.difference,Qn[p.EXCLUSION]=ne.modes.exclusion,Qn[p.MULTIPLY]=ne.modes.multiply,Qn[p.SCREEN]=ne.modes.screen,Qn[p.OVERLAY]=ne.modes.overlay,Qn[p.HARD_LIGHT]=ne.modes.hard_light,Qn[p.SOFT_LIGHT]=ne.modes.soft_light,Qn[p.DODGE]=ne.modes.dodge,Qn[p.BURN]=ne.modes.burn,ne.blit_resize=function(e,t,n,i,r,o,s,a,l,u,c,f,d){if(0>t&&(t=0),0>n&&(n=0),i>=e.width&&(i=e.width-1),r>=e.height&&(r=e.height-1),i-=t,r-=n,f-=u,!(0>=(c-=l)||0>=f||0>=i||0>=r||l>=s||u>=a||t>=e.width||n>=e.height)){i=Math.floor(i/c*p.PRECISIONF),r=Math.floor(r/f*p.PRECISIONF);var h,m,g,b,y,v=ne.shared;v.srcXOffset=Math.floor(0>l?-l*i:t*p.PRECISIONF),v.srcYOffset=Math.floor(0>u?-u*r:n*p.PRECISIONF),0>l&&(c+=l,l=0),0>u&&(f+=u,u=0),c=Math.min(c,s-l),f=Math.min(f,a-u),t=u*s+l,v.srcBuffer=e.imageData.data,v.iw=e.width,v.iw1=e.width-1,v.ih1=e.height-1,n=Qn[d],l=p.ALPHA_MASK,u=p.RED_MASK;var _=p.GREEN_MASK,x=p.BLUE_MASK,w=p.PREC_MAXVAL,k=p.PRECISIONB,S=p.PREC_RED_SHIFT,C=p.PREC_ALPHA_SHIFT,E=v.srcBuffer,T=Math.min;for(d=0;d<f;d++){for(v.sX=v.srcXOffset,v.fracV=v.srcYOffset&w,v.ifV=w-v.fracV,v.v1=(v.srcYOffset>>k)*v.iw,v.v2=T(1+(v.srcYOffset>>k),v.ih1)*v.iw,e=0;e<c;e++)h=o[(a=4*(t+e))+3]<<24&l|o[a]<<16&u|o[a+1]<<8&_|o[a+2]&x,v.fracU=v.sX&w,v.ifU=w-v.fracU,v.ul=v.ifU*v.ifV>>k,v.ll=v.ifU*v.fracV>>k,v.ur=v.fracU*v.ifV>>k,v.lr=v.fracU*v.fracV>>k,v.u1=v.sX>>k,v.u2=T(v.u1+1,v.iw1),m=4*(v.v1+v.u1),g=4*(v.v1+v.u2),b=4*(v.v2+v.u1),y=4*(v.v2+v.u2),v.cUL=E[m+3]<<24&l|E[m]<<16&u|E[m+1]<<8&_|E[m+2]&x,v.cUR=E[g+3]<<24&l|E[g]<<16&u|E[g+1]<<8&_|E[g+2]&x,v.cLL=E[b+3]<<24&l|E[b]<<16&u|E[b+1]<<8&_|E[b+2]&x,v.cLR=E[y+3]<<24&l|E[y]<<16&u|E[y+1]<<8&_|E[y+2]&x,v.r=v.ul*((v.cUL&u)>>16)+v.ll*((v.cLL&u)>>16)+v.ur*((v.cUR&u)>>16)+v.lr*((v.cLR&u)>>16)<<S&u,v.g=v.ul*(v.cUL&_)+v.ll*(v.cLL&_)+v.ur*(v.cUR&_)+v.lr*(v.cLR&_)>>>k&_,v.b=v.ul*(v.cUL&x)+v.ll*(v.cLL&x)+v.ur*(v.cUR&x)+v.lr*(v.cLR&x)>>>k,v.a=v.ul*((v.cUL&l)>>>24)+v.ll*((v.cLL&l)>>>24)+v.ur*((v.cUR&l)>>>24)+v.lr*((v.cLR&l)>>>24)<<C&l,h=n(h,v.a|v.r|v.g|v.b),o[a]=(h&u)>>>16,o[a+1]=(h&_)>>>8,o[a+2]=h&x,o[a+3]=(h&l)>>>24,v.sX+=i;t+=s,v.srcYOffset+=r}}},ne.loadFont=function(e,n){if(e===t)throw"font name required in loadFont.";if(-1===e.indexOf(".svg"))return n===t&&(n=Ht.size),PFont.get(e,n);var i=ne.loadGlyphs(e);return{name:e,css:"12px sans-serif",glyph:!0,units_per_em:i.units_per_em,horiz_adv_x:1/i.units_per_em*i.horiz_adv_x,ascent:i.ascent,descent:i.descent,width:function(t){for(var n=0,i=t.length,r=0;r<i;r++)try{n+=parseFloat(ne.glyphLook(ne.glyphTable[e],t[r]).horiz_adv_x)}catch(e){x.debug(e)}return n/ne.glyphTable[e].units_per_em}}},ne.createFont=function(e,t){return ne.loadFont(e,t)},ne.textFont=function(e,n){n!==t&&(e.glyph||(e=PFont.get(e.name,n)),jt=n),$t=(Ht=e).name,Bt=Ht.ascent,zt=Ht.descent,qt=Ht.leading,oe.$ensureContext().font=Ht.css},ne.textSize=function(e){Ht=PFont.get($t,e),jt=e,Bt=Ht.ascent,zt=Ht.descent,qt=Ht.leading,oe.$ensureContext().font=Ht.css},ne.textAscent=function(){return Bt},ne.textDescent=function(){return zt},ne.textLeading=function(e){qt=e},ne.textAlign=function(e,t){Dt=e,It=t||p.BASELINE},Ln.prototype.textWidth=function(e){var t,n=0,i=(e=U(e).split(/\r?\n/g)).length;for(ie.font=Ht.css,t=0;t<i;++t)n=Math.max(n,Ht.measureTextWidth(e[t]));return 0|n},Pn.prototype.textWidth=function(e){var n,i=0,r=(e=U(e).split(/\r?\n/g)).length;se===t&&(se=u.createElement("canvas"));var o=se.getContext("2d");for(o.font=Ht.css,n=0;n<r;++n)i=Math.max(i,o.measureText(e[n]).width);return 0|i},ne.glyphLook=function(e,t){try{switch(t){case"1":return e.one;case"2":return e.two;case"3":return e.three;case"4":return e.four;case"5":return e.five;case"6":return e.six;case"7":return e.seven;case"8":return e.eight;case"9":return e.nine;case"0":return e.zero;case" ":return e.space;case"$":return e.dollar;case"!":return e.exclam;case'"':return e.quotedbl;case"#":return e.numbersign;case"%":return e.percent;case"&":return e.ampersand;case"'":return e.quotesingle;case"(":return e.parenleft;case")":return e.parenright;case"*":return e.asterisk;case"+":return e.plus;case",":return e.comma;case"-":return e.hyphen;case".":return e.period;case"/":return e.slash;case"_":return e.underscore;case":":return e.colon;case";":return e.semicolon;case"<":return e.less;case"=":return e.equal;case">":return e.greater;case"?":return e.question;case"@":return e.at;case"[":return e.bracketleft;case"\\":return e.backslash;case"]":return e.bracketright;case"^":return e.asciicircum;case"`":return e.grave;case"{":return e.braceleft;case"|":return e.bar;case"}":return e.braceright;case"~":return e.asciitilde;default:return e[t]}}catch(e){x.debug(e)}},Ln.prototype.text$line=function(e,t,n,i,r){if(i=i=0,Ht.glyph){for(i=ne.glyphTable[$t],ie.save(),ie.translate(t,n+jt),r!==p.RIGHT&&r!==p.CENTER||i.width(e),t=1/i.units_per_em*jt,ie.scale(t,t),t=0,n=e.length;t<n;t++)try{ne.glyphLook(i,e[t]).draw()}catch(e){x.debug(e)}M()}else e&&"fillText"in ie&&(Ge&&(ie.fillStyle=ne.color.toString(Ve),Ge=!1),r!==p.RIGHT&&r!==p.CENTER||(i=Ht.measureTextWidth(e),i=r===p.RIGHT?-i:-i/2),ie.fillText(e,t+i,n))},Pn.prototype.text$line=function(e,n,i,r,o){se===t&&(se=u.createElement("canvas"));var s=ie;(ie=se.getContext("2d")).font=Ht.css;var a=Ht.measureTextWidth(e);se.width=a,se.height=jt,(ie=se.getContext("2d")).font=Ht.css,ie.textBaseline="top",Ln.prototype.text$line(e,0,0,0,p.LEFT),e=se.width/se.height,(ie=s).bindTexture(ie.TEXTURE_2D,Ne),ie.texImage2D(ie.TEXTURE_2D,0,ie.RGBA,ie.RGBA,ie.UNSIGNED_BYTE,se),ie.texParameteri(ie.TEXTURE_2D,ie.TEXTURE_MAG_FILTER,ie.LINEAR),ie.texParameteri(ie.TEXTURE_2D,ie.TEXTURE_MIN_FILTER,ie.LINEAR),ie.texParameteri(ie.TEXTURE_2D,ie.TEXTURE_WRAP_T,ie.CLAMP_TO_EDGE),ie.texParameteri(ie.TEXTURE_2D,ie.TEXTURE_WRAP_S,ie.CLAMP_TO_EDGE),s=0,o===p.RIGHT?s=-a:o===p.CENTER&&(s=-a/2),o=new $n,a=.5*jt,o.translate(n+s-a/2,i-a,r),o.scale(-e*a,-a,a),o.translate(-1,-1,-1),o.transpose(),(n=new $n).scale(1,-1,1),n.apply($e.array()),n.transpose(),ie.useProgram(he),E("aVertex2d",he,"aVertex",3,Me),E("aTextureCoord2d",he,"aTextureCoord",2,Re),S("uSampler2d",he,"uSampler",[0]),S("uIsDrawingText2d",he,"uIsDrawingText",!0),C("uModel2d",he,"uModel",!1,o.array()),C("uView2d",he,"uView",!1,n.array()),k("uColor2d",he,"uColor",We),ie.bindBuffer(ie.ELEMENT_ARRAY_BUFFER,Oe),ie.drawElements(ie.TRIANGLES,6,ie.UNSIGNED_SHORT,0)},ne.text=function(){Ft!==p.SHAPE&&(3===arguments.length?W(U(arguments[0]),arguments[1],arguments[2],0):4===arguments.length?W(U(arguments[0]),arguments[1],arguments[2],arguments[3]):5===arguments.length?V(U(arguments[0]),arguments[1],arguments[2],arguments[3],arguments[4],0):6===arguments.length&&V(U(arguments[0]),arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]))},ne.textMode=function(e){Ft=e},ne.loadGlyphs=function(e){var n,i,r,o,s,a,c,p,f,d,h,m,g=function(e,t){var n,i=0,r=[],o=RegExp(e,"g");for(n=r[i]=o.exec(t);n;)n=r[++i]=o.exec(t);return r},b=function(e){var t=g("[A-Za-z][0-9\\- ]+|Z",e);m="return {draw:function(){var curContext=beforePathDraw();curContext.beginPath();",p=e=a=s=o=r=i=n=0,f="",d=t.length-1;for(var l=0;l<d;l++){var u=t[l][0];switch(e=g("[0-9\\-]+",u),u[0]){case"M":n=parseFloat(e[0][0]),i=parseFloat(e[1][0]),m+="curContext.moveTo("+n+","+-i+");";break;case"L":n=parseFloat(e[0][0]),i=parseFloat(e[1][0]),m+="curContext.lineTo("+n+","+-i+");";break;case"H":n=parseFloat(e[0][0]),m+="curContext.lineTo("+n+","+-i+");";break;case"V":i=parseFloat(e[0][0]),m+="curContext.lineTo("+n+","+-i+");";break;case"T":s=parseFloat(e[0][0]),a=parseFloat(e[1][0]),"Q"===f||"T"===f?(e=Math.sqrt(Math.pow(n-r,2)+Math.pow(o-i,2)),p=Math.PI+Math.atan2(r-n,o-i),r=n+Math.sin(p)*e,o=i+Math.cos(p)*e):(r=n,o=i),m+="curContext.quadraticCurveTo("+r+","+-o+","+s+","+-a+");",n=s,i=a;break;case"Q":r=parseFloat(e[0][0]),o=parseFloat(e[1][0]),s=parseFloat(e[2][0]),a=parseFloat(e[3][0]),m+="curContext.quadraticCurveTo("+r+","+-o+","+s+","+-a+");",n=s,i=a;break;case"Z":m+="curContext.closePath();"}f=u[0]}return m+="afterPathDraw();",m+="curContext.translate("+h+",0);",m+="}}",new Function("beforePathDraw","afterPathDraw",m)(function(){return ie.save(),oe.$ensureContext()},function(){I(),F(),M()})},y=function(n){var i=n.getElementsByTagName("font");ne.glyphTable[e].horiz_adv_x=i[0].getAttribute("horiz-adv-x"),i=n.getElementsByTagName("font-face")[0],ne.glyphTable[e].units_per_em=parseFloat(i.getAttribute("units-per-em")),ne.glyphTable[e].ascent=parseFloat(i.getAttribute("ascent")),ne.glyphTable[e].descent=parseFloat(i.getAttribute("descent"));i=(n=n.getElementsByTagName("glyph")).length;for(var r=0;r<i;r++){var o=n[r].getAttribute("unicode"),s=n[r].getAttribute("glyph-name");null===(h=n[r].getAttribute("horiz-adv-x"))&&(h=ne.glyphTable[e].horiz_adv_x),(c=n[r].getAttribute("d"))!==t&&(m=b(c),ne.glyphTable[e][s]={name:s,unicode:o,horiz_adv_x:h,draw:m.draw})}};return ne.glyphTable[e]={},function(){var t;try{t=u.implementation.createDocument("","",null)}catch(e){return void x.debug(e.message)}try{t.async=!1,t.load(e),y(t.getElementsByTagName("svg")[0])}catch(t){x.debug(t);try{var n=new l.XMLHttpRequest;n.open("GET",e,!1),n.send(null),y(n.responseXML.documentElement)}catch(e){x.debug(t)}}}(),ne.glyphTable[e]},ne.param=function(e){var t="data-processing-"+e;if(J.hasAttribute(t))return J.getAttribute(t);t=0;for(var n=J.childNodes.length;t<n;++t){var i=J.childNodes.item(t);if(1===i.nodeType&&"param"===i.tagName.toLowerCase()&&i.getAttribute("name")===e)return i.getAttribute("value")}return re.params.hasOwnProperty(e)?re.params[e]:null},Dn.prototype.translate=K("translate"),Dn.prototype.transform=K("transform"),Dn.prototype.scale=K("scale"),Dn.prototype.pushMatrix=K("pushMatrix"),Dn.prototype.popMatrix=K("popMatrix"),Dn.prototype.resetMatrix=K("resetMatrix"),Dn.prototype.applyMatrix=K("applyMatrix"),Dn.prototype.rotate=K("rotate"),Dn.prototype.rotateZ=K("rotateZ"),Dn.prototype.shearX=K("shearX"),Dn.prototype.shearY=K("shearY"),Dn.prototype.redraw=K("redraw"),Dn.prototype.toImageData=K("toImageData"),Dn.prototype.ambientLight=K("ambientLight"),Dn.prototype.directionalLight=K("directionalLight"),Dn.prototype.lightFalloff=K("lightFalloff"),Dn.prototype.lightSpecular=K("lightSpecular"),Dn.prototype.pointLight=K("pointLight"),Dn.prototype.noLights=K("noLights"),Dn.prototype.spotLight=K("spotLight"),Dn.prototype.beginCamera=K("beginCamera"),Dn.prototype.endCamera=K("endCamera"),Dn.prototype.frustum=K("frustum"),Dn.prototype.box=K("box"),Dn.prototype.sphere=K("sphere"),Dn.prototype.ambient=K("ambient"),Dn.prototype.emissive=K("emissive"),Dn.prototype.shininess=K("shininess"),Dn.prototype.specular=K("specular"),Dn.prototype.fill=K("fill"),Dn.prototype.stroke=K("stroke"),Dn.prototype.strokeWeight=K("strokeWeight"),Dn.prototype.smooth=K("smooth"),Dn.prototype.noSmooth=K("noSmooth"),Dn.prototype.point=K("point"),Dn.prototype.vertex=K("vertex"),Dn.prototype.endShape=K("endShape"),Dn.prototype.bezierVertex=K("bezierVertex"),Dn.prototype.curveVertex=K("curveVertex"),Dn.prototype.curve=K("curve"),Dn.prototype.line=K("line"),Dn.prototype.bezier=K("bezier"),Dn.prototype.rect=K("rect"),Dn.prototype.ellipse=K("ellipse"),Dn.prototype.background=K("background"),Dn.prototype.image=K("image"),Dn.prototype.textWidth=K("textWidth"),Dn.prototype.text$line=K("text$line"),Dn.prototype.$ensureContext=K("$ensureContext"),Dn.prototype.$newPMatrix=K("$newPMatrix"),Dn.prototype.size=function(e,t,n){G(n===p.WEBGL?"3D":"2D"),ne.size(e,t,n)},Dn.prototype.$init=c,Ln.prototype.$init=function(){ne.size(ne.width,ne.height),ie.lineCap="round",ne.noSmooth(),ne.disableContextMenu()},Pn.prototype.$init=function(){ne.use3DContext=!0,ne.disableContextMenu()},On.prototype.$ensureContext=function(){return ie},J.getAttribute("tabindex")||J.setAttribute("tabindex",0),ee)re=new x.Sketch,G(),ne.size=function(e,t,n){n&&n===p.WEBGL?G("3D"):G("2D"),ne.size(e,t,n)};else{re=n instanceof x.Sketch?n:"function"==typeof n?new x.Sketch(n):n?x.compile(n):new x.Sketch(function(){}),ne.externals.sketch=re,G(),J.onfocus=function(){ne.focused=!0},J.onblur=function(){ne.focused=!1,re.options.globalKeyEvents||(ne.__keyPressed=!1,Gt=[],Kt=null)},re.options.pauseOnBlur&&(w(l,"focus",function(){tt&&ne.loop()}),w(l,"blur",function(){tt&&Je&&(ne.noLoop(),tt=!0),ne.__keyPressed=!1,Gt=[],Kt=null}));var Zn=re.options.globalKeyEvents?l:J;for(var Jn in w(Zn,"keydown",function(e){var t=Y(e);if(t===p.DELETE)Z(t,new Char(127));else{if(!(0>Yt.indexOf(t))){var n=new Char(p.CODED);return ne.key=n,ne.keyCode=t,Gt[t]=n,ne.keyPressed(),Kt=null,Q(),X(e)}Kt=t}}),w(Zn,"keypress",function(e){if(null!==Kt){var t,n=Kt;t=e.which||e.keyCode;var i=e.shiftKey||e.ctrlKey||e.altKey||e.metaKey;switch(t){case 13:t=i?13:10;break;case 8:t=i?127:8}return Z(n,t=new Char(t)),X(e)}}),w(Zn,"keyup",function(e){e=Y(e);var n=Gt[e];n!==t&&(ne.key=n,ne.keyCode=e,ne.keyReleased(),delete Gt[e],Q())}),x.lib)x.lib.hasOwnProperty(Jn)&&(x.lib[Jn].hasOwnProperty("attach")?x.lib[Jn].attach(ne):x.lib[Jn]instanceof Function&&x.lib[Jn].call(this));var ei=function(e){if(re.imageCache.pending||PFont.preloading.pending(100))l.setTimeout(function(){ei(e)},100);else{if(l.opera){var t,n,r=re.imageCache.operaCache;for(t in r)r.hasOwnProperty(t)&&(null!==(n=r[t])&&u.body.removeChild(n),delete r[t])}re.attach(e,i),re.onLoad(e),e.setup&&(e.setup(),e.resetMatrix(),re.onSetup()),q(),e.draw&&(tt?e.loop():e.redraw())}};this.externals.canvas.id!==t&&this.externals.canvas.id.length||(this.externals.canvas.id="__processing"+v.length),_[this.externals.canvas.id]=v.length,v.push(this),ei(ne)}};return x.debug="console"in l?function(e){l.console.log("Processing.js: "+e)}:c,x.prototype=i,x.instances=v,x.getInstanceById=function(e){return v[_[e]]},function(e){function t(e){return function(){throw"Processing.js does not support "+e+"."}}for(var n,i="open() createOutput() createInput() BufferedReader selectFolder() dataPath() createWriter() selectOutput() beginRecord() saveStream() endRecord() selectInput() saveBytes() createReader() beginRaw() endRaw() PrintWriter delay()".split(" "),r=i.length;r--;)e[(n=i[r]).replace("()","")]=t(n)}(i),x}},{}],27:[function(e,t,n){var i={virtEquals:e("./Helpers/virtEquals"),virtHashCode:e("./Helpers/virtHashCode"),ObjectIterator:e("./Helpers/ObjectIterator"),PConstants:e("./Helpers/PConstants"),ArrayList:e("./Objects/ArrayList"),HashMap:e("./Objects/HashMap"),PVector:e("./Objects/PVector"),PFont:e("./Objects/PFont"),Char:e("./Objects/Char"),XMLAttribute:e("./Objects/XMLAttribute"),XMLElement:e("./Objects/XMLElement"),PMatrix2D:e("./Objects/PMatrix2D"),PMatrix3D:e("./Objects/PMatrix3D"),PShape:e("./Objects/PShape"),colors:e("./Objects/webcolors"),PShapeSVG:e("./Objects/PShapeSVG"),CommonFunctions:e("./P5Functions/commonFunctions"),defaultScope:e("./Helpers/defaultScope"),Processing:e("./Processing"),setupParser:e("./Parser/Parser"),finalize:e("./Helpers/finalizeProcessing")};i.extend={withMath:e("./P5Functions/Math.js"),withProxyFunctions:e("./P5Functions/JavaProxyFunctions")(i.virtHashCode,i.virtEquals),withTouch:e("./P5Functions/touchmouse"),withCommonFunctions:i.CommonFunctions.withCommonFunctions},t.exports=function(t,n){var r=function(){},o=i.virtEquals,s=i.virtHashCode,a=i.PConstants,l=i.CommonFunctions,u=i.ObjectIterator,c=i.Char,p=i.XMLAttribute(),f=i.ArrayList({virtHashCode:s,virtEquals:o}),d=(o=i.HashMap({virtHashCode:s,virtEquals:o}),s=i.PVector({PConstants:a}),i.PFont({Browser:t,noop:r})),h=(p=i.XMLElement({Browser:t,XMLAttribute:p}),i.PMatrix2D({p:l})),m=i.PMatrix3D({p:l});h=i.PShape({PConstants:a,PMatrix2D:h,PMatrix3D:m}),l=i.PShapeSVG({CommonFunctions:l,PConstants:a,PShape:h,XMLElement:p,colors:i.colors}),a=i.defaultScope({ArrayList:f,HashMap:o,PVector:s,PFont:d,PShapeSVG:l,ObjectIterator:u,PConstants:a,Char:c,XMLElement:p,XML:p}),u=i.Processing({defaultScope:a,Browser:t,extend:i.extend,noop:r}),u=i.setupParser(u,{Browser:t,aFunctions:n,defaultScope:a});return i.finalize(u,{version:e("../package.json").version,isDomPresent:t.isDomPresent,window:t.window,document:t.document,noop:r})}},{"../package.json":2,"./Helpers/ObjectIterator":3,"./Helpers/PConstants":4,"./Helpers/defaultScope":5,"./Helpers/finalizeProcessing":6,"./Helpers/virtEquals":7,"./Helpers/virtHashCode":8,"./Objects/ArrayList":9,"./Objects/Char":10,"./Objects/HashMap":11,"./Objects/PFont":12,"./Objects/PMatrix2D":13,"./Objects/PMatrix3D":14,"./Objects/PShape":15,"./Objects/PShapeSVG":16,"./Objects/PVector":17,"./Objects/XMLAttribute":18,"./Objects/XMLElement":19,"./Objects/webcolors":20,"./P5Functions/JavaProxyFunctions":21,"./P5Functions/Math.js":22,"./P5Functions/commonFunctions":23,"./P5Functions/touchmouse":24,"./Parser/Parser":25,"./Processing":26}]},{},[1])},function(e,t,n){n(761),e.exports=n(16).Math.sign},function(e,t,n){var i=n(22);i(i.S,"Math",{sign:n(762)})},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t,n){n(212),n(106),n(191),n(764),n(771),n(772),e.exports=n(16).Promise},function(e,t,n){"use strict";var i,r,o,s,a=n(69),l=n(24),u=n(66),c=n(215),p=n(22),f=n(35),d=n(138),h=n(765),m=n(766),g=n(538),b=n(539).set,y=n(768)(),v=n(361),_=n(540),x=n(541),w=l.TypeError,k=l.process,S=l.Promise,C="process"==c(k),E=function(){},T=r=v.f,A=!!function(){try{var e=S.resolve(1),t=(e.constructor={})[n(19)("species")]=function(e){e(E,E)};return(C||"function"==typeof PromiseRejectionEvent)&&e.then(E)instanceof t}catch(e){}}(),N=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},M=function(e,t){if(!e._n){e._n=!0;var n=e._c;y(function(){for(var i=e._v,r=1==e._s,o=0,s=function(t){var n,o,s=r?t.ok:t.fail,a=t.resolve,l=t.reject,u=t.domain;try{s?(r||(2==e._h&&L(e),e._h=1),!0===s?n=i:(u&&u.enter(),n=s(i),u&&u.exit()),n===t.promise?l(w("Promise-chain cycle")):(o=N(n))?o.call(n,a,l):a(n)):l(i)}catch(e){l(e)}};n.length>o;)s(n[o++]);e._c=[],e._n=!1,t&&!e._h&&R(e)})}},R=function(e){b.call(l,function(){var t,n,i,r=e._v,o=O(e);if(o&&(t=_(function(){C?k.emit("unhandledRejection",r,e):(n=l.onunhandledrejection)?n({promise:e,reason:r}):(i=l.console)&&i.error&&i.error("Unhandled promise rejection",r)}),e._h=C||O(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},O=function(e){return 1!==e._h&&0===(e._a||e._c).length},L=function(e){b.call(l,function(){var t;C?k.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})})},P=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),M(t,!0))},D=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw w("Promise can't be resolved itself");(t=N(e))?y(function(){var i={_w:n,_d:!1};try{t.call(e,u(D,i,1),u(P,i,1))}catch(e){P.call(i,e)}}):(n._v=e,n._s=1,M(n,!1))}catch(e){P.call({_w:n,_d:!1},e)}}};A||(S=function(e){h(this,S,"Promise","_h"),d(e),i.call(this);try{e(u(D,this,1),u(P,this,1))}catch(e){P.call(this,e)}},(i=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(769)(S.prototype,{then:function(e,t){var n=T(g(this,S));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=C?k.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&M(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new i;this.promise=e,this.resolve=u(D,e,1),this.reject=u(P,e,1)},v.f=T=function(e){return e===S||e===s?new o(e):r(e)}),p(p.G+p.W+p.F*!A,{Promise:S}),n(70)(S,"Promise"),n(770)("Promise"),s=n(16).Promise,p(p.S+p.F*!A,"Promise",{reject:function(e){var t=T(this);return(0,t.reject)(e),t.promise}}),p(p.S+p.F*(a||!A),"Promise",{resolve:function(e){return x(a&&this===s?S:this,e)}}),p(p.S+p.F*!(A&&n(216)(function(e){S.all(e).catch(E)})),"Promise",{all:function(e){var t=this,n=T(t),i=n.resolve,r=n.reject,o=_(function(){var n=[],o=0,s=1;m(e,!1,function(e){var a=o++,l=!1;n.push(void 0),s++,t.resolve(e).then(function(e){l||(l=!0,n[a]=e,--s||i(n))},r)}),--s||i(n)});return o.e&&r(o.v),n.promise},race:function(e){var t=this,n=T(t),i=n.reject,r=_(function(){m(e,!1,function(e){t.resolve(e).then(n.resolve,i)})});return r.e&&i(r.v),n.promise}})},function(e,t){e.exports=function(e,t,n,i){if(!(e instanceof t)||void 0!==i&&i in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var i=n(66),r=n(213),o=n(214),s=n(31),a=n(109),l=n(192),u={},c={};(t=e.exports=function(e,t,n,p,f){var d,h,m,g,b=f?function(){return e}:l(e),y=i(n,p,t?2:1),v=0;if("function"!=typeof b)throw TypeError(e+" is not iterable!");if(o(b)){for(d=a(e.length);d>v;v++)if((g=t?y(s(h=e[v])[0],h[1]):y(e[v]))===u||g===c)return g}else for(m=b.call(e);!(h=m.next()).done;)if((g=r(m,y,h.value,t))===u||g===c)return g}).BREAK=u,t.RETURN=c},function(e,t){e.exports=function(e,t,n){var i=void 0===n;switch(t.length){case 0:return i?e():e.call(n);case 1:return i?e(t[0]):e.call(n,t[0]);case 2:return i?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return i?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return i?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var i=n(24),r=n(539).set,o=i.MutationObserver||i.WebKitMutationObserver,s=i.process,a=i.Promise,l="process"==n(67)(s);e.exports=function(){var e,t,n,u=function(){var i,r;for(l&&(i=s.domain)&&i.exit();e;){r=e.fn,e=e.next;try{r()}catch(i){throw e?n():t=void 0,i}}t=void 0,i&&i.enter()};if(l)n=function(){s.nextTick(u)};else if(!o||i.navigator&&i.navigator.standalone)if(a&&a.resolve){var c=a.resolve();n=function(){c.then(u)}}else n=function(){r.call(i,u)};else{var p=!0,f=document.createTextNode("");new o(u).observe(f,{characterData:!0}),n=function(){f.data=p=!p}}return function(i){var r={fn:i,next:void 0};t&&(t.next=r),e||(e=r,n()),t=r}}},function(e,t,n){var i=n(37);e.exports=function(e,t,n){for(var r in t)n&&e[r]?e[r]=t[r]:i(e,r,t[r]);return e}},function(e,t,n){"use strict";var i=n(24),r=n(16),o=n(29),s=n(36),a=n(19)("species");e.exports=function(e){var t="function"==typeof r[e]?r[e]:i[e];s&&t&&!t[a]&&o.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){"use strict";var i=n(22),r=n(16),o=n(24),s=n(538),a=n(541);i(i.P+i.R,"Promise",{finally:function(e){var t=s(this,r.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return a(t,e()).then(function(){return n})}:e,n?function(n){return a(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){"use strict";var i=n(22),r=n(361),o=n(540);i(i.S,"Promise",{try:function(e){var t=r.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){var i=function(){return this}()||Function("return this")(),r=i.regeneratorRuntime&&Object.getOwnPropertyNames(i).indexOf("regeneratorRuntime")>=0,o=r&&i.regeneratorRuntime;if(i.regeneratorRuntime=void 0,e.exports=n(774),r)i.regeneratorRuntime=o;else try{delete i.regeneratorRuntime}catch(e){i.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";var n,i=Object.prototype,r=i.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag",u="object"==typeof e,c=t.regeneratorRuntime;if(c)u&&(e.exports=c);else{(c=t.regeneratorRuntime=u?e.exports:{}).wrap=_;var p="suspendedStart",f="suspendedYield",d="executing",h="completed",m={},g={};g[s]=function(){return this};var b=Object.getPrototypeOf,y=b&&b(b(R([])));y&&y!==i&&r.call(y,s)&&(g=y);var v=S.prototype=w.prototype=Object.create(g);k.prototype=v.constructor=S,S.constructor=k,S[l]=k.displayName="GeneratorFunction",c.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===k||"GeneratorFunction"===(t.displayName||t.name))},c.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,S):(e.__proto__=S,l in e||(e[l]="GeneratorFunction")),e.prototype=Object.create(v),e},c.awrap=function(e){return{__await:e}},C(E.prototype),E.prototype[a]=function(){return this},c.AsyncIterator=E,c.async=function(e,t,n,i){var r=new E(_(e,t,n,i));return c.isGeneratorFunction(t)?r:r.next().then(function(e){return e.done?e.value:r.next()})},C(v),v[l]="Generator",v[s]=function(){return this},v.toString=function(){return"[object Generator]"},c.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},c.values=R,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(i,r){return a.type="throw",a.arg=e,t.next=i,r&&(t.method="next",t.arg=n),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var l=r.call(s,"catchLoc"),u=r.call(s,"finallyLoc");if(l&&u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;N(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,i){return this.delegate={iterator:R(e),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=n),m}}}function _(e,t,n,i){var r=t&&t.prototype instanceof w?t:w,o=Object.create(r.prototype),s=new M(i||[]);return o._invoke=function(e,t,n){var i=p;return function(r,o){if(i===d)throw new Error("Generator is already running");if(i===h){if("throw"===r)throw o;return O()}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var a=T(s,n);if(a){if(a===m)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=d;var l=x(e,t,n);if("normal"===l.type){if(i=n.done?h:f,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=h,n.method="throw",n.arg=l.arg)}}}(e,n,s),o}function x(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function w(){}function k(){}function S(){}function C(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function E(e){var t;this._invoke=function(n,i){function o(){return new Promise(function(t,o){!function t(n,i,o,s){var a=x(e[n],e,i);if("throw"!==a.type){var l=a.arg,u=l.value;return u&&"object"==typeof u&&r.call(u,"__await")?Promise.resolve(u.__await).then(function(e){t("next",e,o,s)},function(e){t("throw",e,o,s)}):Promise.resolve(u).then(function(e){l.value=e,o(l)},s)}s(a.arg)}(n,i,t,o)})}return t=t?t.then(o,o):o()}}function T(e,t){var i=e.iterator[t.method];if(i===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,T(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var r=x(i,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,m;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function R(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function t(){for(;++i<e.length;)if(r.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=n,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},function(e,t,n){n(191),n(106),e.exports=n(776)},function(e,t,n){var i=n(31),r=n(192);e.exports=n(16).getIterator=function(e){var t=r(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return i(t.call(e))}},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h,m,g,b,y,v;n(320).default,i=n(8),n(135),o=n(43),a=n(15),r=n(100),h=n(332),p=n(331),d=n(362),({ReflexContainer:l,ReflexSplitter:c,ReflexElement:u}=n(372)),s=React.createFactory(Bootstrap.Modal),({button:m,div:g,i:b,span:y,textarea:v}=ReactDOMFactories),f=reactCreateClass({displayName:"SQLResults",mixins:[mixins.AjaxMixin,mixins.FormMixin,mixins.TooltipMixin,r,layerMixins,h,Reflux.connect(o,"container"),Reflux.connectFilter(a,"active_file",function(e){return e.active_file}),Reflux.connectFilter(a,"database",function(e){return e.sql_database}),Reflux.connectFilter(a,"database_type",function(e){return e.sql_database_type}),Reflux.connectFilter(a,"btns_enabled",function(e){return e.btns_enabled}),Reflux.connectFilter(a,"theme",function(e){return e.color_scheme}),Reflux.connectFilter(a,"shortcut_pane",function(e){return e.shortcut_pane})],propTypes:{hidden:PropTypes.bool.isRequired},getInitialState:function(){return{edit_query:null,editing_query:!1,error:null,headers:[],history:[],history_visible:!1,id:Math.random().toString().substr(2),loaded:!1,query_index:null,results:[]}},componentDidMount:function(){return window.addEventListener("keydown",this.checkAction),this.initializeTooltips(`#sql-results-viewer-${this.state.id}`),this.setState({loaded:!this.props.hidden})},componentDidUpdate:function(){if(this.initializeTooltips(`#sql-results-viewer-${this.state.id}`),!this.state.loaded&&!this.props.hidden)return this.setState({loaded:!0})},componentWillUnmount:function(){return window.removeEventListener("keydown",this.checkAction)},runQueryFromFile:function(){var e;if(this.state.container.token&&this.state.active_file&&(e=this.state.active_file.contents.trim()))return this.runQuery(e,!0,0)},runQuery:function(e,t,n){var i;return this.closeQueryModal(),i="mysql"===this.state.database_type?["mysql","-D",this.state.database,"-e",e]:["psql","-d",this.state.database,"-AF","\t","--no-align","-c",e],this.exec(this.state.container.root_hostname,this.state.container.token,i,{cb:i=>this.processResponse(i,e,t,n)})},processResponse:function(e,t,n,i){var r,o,s,a,l;if(501,n&&t!==this.state.history[0]&&((o=this.state.history).unshift(t),this.setState({history:o})),this.setState({query_index:i}),0===e.status){if(e.stdout.length)return l=(a=e.stdout.split(/\n/)).length,a=a.slice(0,501),a=_.reject(a,function(e){return!e.trim().length}),a=_.map(a,function(e){return e.split(/\t/)}),l>501&&$.alert(`${l-1} rows have been limited to 500 rows.`),r=a.shift()||[],s=_.filter(a,function(e){return e.length===r.length}),this.setState({error:null,blank:!1,headers:r,results:s});this.setState({error:null,blank:!0,headers:[],results:[]})}else this.setState({error:e.stderr,blank:!1,headers:[],results:[]})},hasData:function(){return this.state.headers.length||this.state.results.length},editPrevQuery:function(e){return this.setState({editing_query:!0,edit_query:e})},initEditQueryModal:function(){return i.fromTextArea(document.getElementById("query-editor"),{lineNumbers:!0,lineWrapping:!0,mode:"text/x-sql",theme:this.state.theme}).on("change",e=>this.setState({edit_query:e.getValue()}))},closeQueryModal:function(){return this.setState({editing_query:!1,edit_query:null})},render:function(){var e,t,n;return this.state.loaded?g({id:`sql-results-viewer-${this.state.id}`,className:"sql-results-viewer"},g({className:"sql-results-viewer__inner"},React.createElement(l,{orientation:"horizontal"},React.createElement(u,{id:`sql-results-viewer-area-${this.state.id}`,flex:1,minSize:100},g({className:"query-body"},this.state.blank?g({className:"blank-query"},"Query completed"):this.state.error&&this.state.error.length?g({className:"error"},this.state.error):this.hasData()?React.createElement(d,{headers:this.state.headers,data:this.state.results}):g({className:"no-data"},"Run a SQL query to generate results"))),React.createElement(c,{className:` ${this.state.history_visible?"":"hide"}`}),React.createElement(u,{id:`sql-results-viewer-history-area-${this.state.id}`,flex:this.state.history_visible?.5:0,minSize:this.state.history_visible?100:0,className:` ${this.state.history_visible?"":"hide"}`},g({className:"query-history"},function(){var n,i,r,o;if(this.state.history.length){for(r=this.state.history,o=[],e=n=0,i=r.length;n<i;e=++n)t=r[e],o.push(g({key:e,className:"query"},y(null,g({className:"query-inner",onClick:this.runQuery.bind(null,t,!1,e)},t),y({className:"rerun-query query-option-btn",onClick:this.runQuery.bind(null,t,!0,e),"data-toggle":"tooltip","data-original-title":"Re-Run Query","data-placement":"auto right"},b({className:"fas fa-play-circle"})),y({className:"edit-query query-option-btn",onClick:this.editPrevQuery.bind(null,t),"data-toggle":"tooltip","data-original-title":"Edit Query","data-placement":"auto right"},b({className:"fas fa-pencil"})))));return o}return g({className:"no-query-history"},"No queries run yet")}.call(this))))),g({className:"pane-bottom-nav"},n=this.state.container.dead||!this.state.active_file,m({className:"btn btn-text btn-gray",onClick:()=>this.setState({history_visible:!this.state.history_visible}),"data-toggle":"tooltip","data-original-title":this.state.history_visible?"Hide history":"Show history","data-placement":"auto left"},b({className:"fas fa-history"})),React.createElement(p,{btn_class:"sql-results-action-btn",disabled:n,is_shortcut_btn:this.shortcutBtn(),onClick:this.runQueryFromFile,tooltip:"Run Query"}))):null},renderLayer:function(){return s({id:`edit-query-modal-${this.state.id}`,className:`edit-query-modal ${this.state.theme}`,show:this.state.editing_query,onHide:this.closeQueryModal,onShow:this.initEditQueryModal},g({className:"modal-header"},"Edit Query",m({className:"btn btn-text btn-white btn-circle modal-header__close",onClick:this.closeQueryModal},b({className:"fal fa-times"}))),g({className:"modal-body"},v({id:"query-editor",defaultValue:this.state.edit_query})),g({className:"modal-footer"},m({className:"btn btn-action btn-blue bold pull-right",onClick:this.runQuery.bind(null,this.state.edit_query,!0,0)},"Run  ")))}}),e.exports=f},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h,m,g,b,y,v,_;y=n(320),s=y.default,u=n(99),i=n(43),o=n(15),a=n(331),l=n(332),p=n(363),({a:f,button:d,div:h,i:m,input:g,li:b,span:v,ul:_}=ReactDOMFactories),r=React.createFactory(Bootstrap.Modal),c=reactCreateClass({displayName:"Terminal",mixins:[layerMixins,mixins.FormMixin,mixins.AjaxMixin,mixins.ItemMixin,mixins.TooltipMixin,mixins.ViewMixin,l,p,Reflux.connect(i,"container"),Reflux.connect(o,"project"),Reflux.connectFilter(o,"lite_mode",function(e){return e.lite_mode_terminal}),Reflux.connectFilter(o,"theme",function(e){return e.color_scheme}),Reflux.connectFilter(o,"active_file",function(e){return e.active_file}),Reflux.connectFilter(o,"tabs_enabled",function(e){return e.tabs_enabled}),Reflux.connectFilter(o,"shortcut_pane",function(e){return e.shortcut_pane})],propTypes:{access_token:PropTypes.string.isRequired,disabled:PropTypes.bool.isRequired,editing:PropTypes.bool.isRequired,hidden:PropTypes.bool.isRequired,in_content_editor:PropTypes.bool.isRequired,lite_mode:PropTypes.bool.isRequired,performAction:PropTypes.func.isRequired,reset:PropTypes.bool.isRequired,tab:PropTypes.object.isRequired,checkAction:PropTypes.func},getDefaultProps:function(){return{disabled:!0,lite_mode:!1,reset:!1,tab:{}}},getInitialState:function(){return{close_msg:"",did_connect:!1,disconnect_count:0,exiting:!1,id:Math.random().toString().substr(2),start_cmd:null,output:"",settings_shown:!1,socket:null,started:!1,term:null,written_text:!1}},componentDidMount:function(){return this.mounted=!0,window.addEventListener("keydown",this.checkActionSafely),this.startSafely(),this.char_count=0,this.initializeTooltips(`#terminal-${this.state.id}`),$(window).on("beforeunload",()=>this.setState({exiting:!0},()=>{if(this.state.socket)return this.state.socket.close()}))},componentDidUpdate:function(e,t){if(!t.container.token&&this.state.container.token?this.startSafely():e.hidden&&!this.props.hidden&&(this.startSafely(),this.focus_timer=setTimeout(()=>(this.focus_timer=null,this.focusTerm()),100)),!e.tab.clicked&&this.props.tab.clicked&&(u.setProperty(this.props.tab,"clicked",!1),this.focus_timer||this.focusTerm()),this.state.term&&this.state.theme!==t.theme&&this.setTheme(this.state.term),this.initializeTooltips(`#terminal-${this.state.id}`),!t.did_connect&&this.state.did_connect){if(!this.state.term)return;return this.state.term.fit(),this.state.term.scrollToBottom()}},componentWillUnmount:function(){if(this.mounted=!1,window.removeEventListener("keydown",this.checkActionSafely),this.state.socket)return this.state.socket.close()},shouldComponentUpdate:function(e,t){return!this.state.started||e.editing!==this.props.editing||e.hidden!==this.props.hidden||e.in_content_editor!==this.props.in_content_editor||e.tab!==this.props.tab||t.start_cmd!==this.state.start_cmd||t.container.token!==this.state.container.token||t.active_file!==this.state.active_file||t.did_connect!==this.state.did_connect||t.project.build_script!==this.state.project.build_script||t.project.run_command!==this.state.project.run_command||t.settings_shown!==this.state.settings_shown||t.shortcut_pane!==this.state.shortcut_pane||t.lite_mode!==this.state.lite_mode||t.started!==this.state.started||t.term!==this.state.term||t.theme!==this.state.theme},startSafely:function(){if(!this.state.started&&this.state.container.token&&!this.liteMode()&&!this.props.hidden)return this.setState({started:!0},()=>{if(!this.state.term)return this.connectTerminalWrapper(this.props.tab.detail,this.state.id);this.state.term.focus()})},focusTerm:function(){if(this.state.term)return window.focus(),this.state.term.focus()},checkActionSafely:function(e){if(!this.props.checkAction||!this.props.checkAction(e))return this.checkAction(e)},runActiveFile:function(){if(this.state.active_file)return this.connected()?this.sendCmd(this.state.active_file.contents):void 0},sendCmd:function(e){if(e.length>0&&this.connected())return this.state.project.clear_terminal&&(this.setState({output:""}),this.state.term.clear()),this.state.term.emit("data",`${this.state.project.reset_terminal||this.props.reset?" ":""}${e.trim()}\r`)},buildAndRun:function(){if(!this.props.disabled)return this.props.performAction({route:routes.projects.build({access_token:this.props.access_token}),data:{},success:e=>(this.liteMode()?this.reset(this.connectTerminalWrapper.bind(null,e.terminal_command,this.state.id)):this.state.project.run_file?this.runActiveFile():this.sendCmd(e.terminal_command),this.focusTerm())})},reset:function(e){if(console.info("Terminal reset"),this.char_count=0,this.state.term&&this.state.term.dispose(),this.state.socket&&this.state.socket.close(),e)return e()},connectTerminalWrapper:function(e,t){return this.connectTerminal({endpoint:this.liteMode()?this.state.container.snippet_term_ws_url:this.state.container.term_ws_url,cmd:e,idx:t,connected:this.connected,onConnect:()=>this.setState({did_connect:!0,written_text:!1}),onClose:this.onSocketClose,onData:this.onSocketData,lite_mode:this.liteMode(),onKeyDown:this.checkActionSafely})},connected:function(){var e;return!!(e=this.state.socket)&&(e&&e.readyState===e.OPEN)},liteMode:function(){return this.state.lite_mode&&!this.props.editing},onSocketData:function(e){if(this.liteMode())return this.setState({output:(this.state.output+e).split(/\r/).slice(0,5e3).join("\r")}),this.char_count=this.char_count+e.length,this.char_count>1e5&&(console.info("Terminal output length exceeded"),this.connected())?this.state.socket.close():void 0},onSocketClose:function(e){if(this.liteMode()){if(this.state.socket&&this.state.socket.close(),u.focusEditorTab(),this.ajaxPost(routes.projects.save_terminal_output({access_token:this.props.access_token}),{data:{output:this.state.output},success:()=>this.setState({output:""})}),this.char_count>1e5)return e.write(this.coloredText("red","\r\n\nProgram output exceeds 100,000 characters!")),e.write(this.coloredText("red","\r\n\nProgram stopped\n\n"))}else if(this.mounted)return this.setState({disconnect_count:this.state.disconnect_count+1},()=>{if(this.state.did_connect&&!this.state.written_text&&this.setState({written_text:!0},()=>{if(!this.state.exiting)return e.write(this.coloredText("yellow","\r\n\nConnection lost, reconnecting...\n\n\r"))}),10===this.state.disconnect_count)return e.write(this.coloredText("red","\r\n\nTerminal could not connect\n\n\r"))})},coloredText:function(e,t){return`${{red:"[31m",yellow:"[33m"}[e]}${t}[39m`},handleResize:function(e,t){if(this.state.term&&e>125&&this.connected())return this.state.term.fit(),this.state.term.scrollToBottom()},updateStartCmd:function(e){var t;if(e&&e.preventDefault(),this.toggleEdit(),u.setProperty(this.props.tab,"detail",this.state.start_cmd),!this.props.tab.temporary||this.props.tab.persisted_id)return t=this.props.tab.persisted_id||this.props.tab.id,this.ajaxPatch(routes.projects.panes.tabs.update({access_token:this.props.access_token,id:t}),{data:{tab:{detail:this.state.start_cmd}}},{})},toggleEdit:function(){return this.state.settings_shown||this.setState({start_cmd:this.props.tab.detail}),this.setState({settings_shown:!this.state.settings_shown},()=>{var e;return(e=$("#cmd-form")).focus(),e.val(this.state.start_cmd)})},checkEntered:function(e){if(13===e.keyCode)return e.preventDefault(),this.updateStartCmd()},render:function(){var e,t,n,i,r;return r=this.connected(),i=this.liteMode(),n=r||i?"Please create or open a file to run.":this.state.tabs_enabled.indexOf("terminal")>-1?"This terminal has disconnected. Please open a new one.":"This terminal has disconnected. Please reload the page.",t=this.state.container.dead||!i&&!r||this.state.project.run_command&&-1!==this.state.project.run_command.indexOf("{{entry}}")&&!(this.state.project.entry||this.state.active_file)||!1,e=this.state.project.build_script||this.state.project.run_command||this.props.editing,h({id:`terminal-${this.state.id}`,className:`terminal-wrapper ${r?"running":""} ${i?"lite-mode":""} ${this.state.theme}`,style:{backgroundColor:this.colors()[this.state.theme]}},React.createElement(s,{handleWidth:!0,handleHeight:!0,onResize:this.handleResize}),h({className:`terminal-tab-content ${i?"lite":""} ${e?"":"terminal-tab-content--full-height"}`},h({id:`term-${this.state.id}`,className:"tab-pane active"},h({className:"terminal-output",id:`term-inner-${this.state.id}`}))),h({className:`pane-bottom-nav ${e?"":"pane-bottom-nav--hidden-bar"}`},this.state.project.build_script||this.state.project.run_command?React.createElement(a,{btn_class:"terminal-action-btn",disabled:t,disabled_tooltip:n,is_shortcut_btn:this.shortcutBtn(),onClick:this.buildAndRun}):void 0,this.props.editing?d({className:"btn btn-text btn-blue",onClick:this.toggleEdit},m({className:"fas fa-sliders-h"})):void 0))},renderLayer:function(){return r({onHide:this.toggleEdit,show:this.state.settings_shown},d({className:"btn btn-text btn-white btn-circle modal-header__close",onClick:this.toggleEdit},m({className:"fal fa-times"})),h({className:"modal-header"},m({className:"modal-header__icon fal fa-wrench"}),"Update Terminal Start Command"),h({className:"modal-body"},g({autoComplete:"off",id:"cmd-form",className:"form-control",name:"start_cmd",onChange:this.handleChange,onKeyDown:this.checkEntered,placeholder:"e.g., /bin/bash",type:"text",value:this.state.start_cmd})),h({className:"modal-footer"},d({className:"btn btn-action btn-green bold",onClick:this.updateStartCmd,type:"button"},"Save")))}}),e.exports=c},function(e,t,n){var i,r;i=n(345).default,(r=function(){}).prototype._generateEndpoint=function(e){var t;return t=e.endpoint,""!==e.command&&(t+="&run="+encodeURIComponent(e.command)),t},r.prototype.connect=function(e){var t,n;t=this._generateEndpoint(e),n={connectionTimeout:Math.floor(1001*Math.random()+2e3),maxRetries:0,minReconnectionDelay:0},this._connection=new i(t,[],n),this._connection.onopen=function(){e.onConnect()},this._connection.onmessage=function(t){var n;void 0!==(n=JSON.parse(t.data.toString())).error?e.onError(n.error):e.onData(n.data)},this._connection.onclose=function(t){e.onClose()}},r.prototype.send=function(e){this._connection.send(JSON.stringify({data:e}))},e.exports=r},function(e,t,n){"use strict";function i(e){if(!e.element.parentElement)return null;var t=window.getComputedStyle(e.element.parentElement),n=parseInt(t.getPropertyValue("height")),i=Math.max(0,parseInt(t.getPropertyValue("width"))),r=window.getComputedStyle(e.element),o=n-(parseInt(r.getPropertyValue("padding-top"))+parseInt(r.getPropertyValue("padding-bottom"))),s=i-(parseInt(r.getPropertyValue("padding-right"))+parseInt(r.getPropertyValue("padding-left")))-e._core.viewport.scrollBarWidth;return{cols:Math.floor(s/e._core.renderer.dimensions.actualCellWidth),rows:Math.floor(o/e._core.renderer.dimensions.actualCellHeight)}}function r(e){var t=i(e);t&&(e.rows===t.rows&&e.cols===t.cols||(e._core.renderer.clear(),e.resize(t.cols,t.rows)))}Object.defineProperty(t,"__esModule",{value:!0}),t.proposeGeometry=i,t.fit=r,t.apply=function(e){e.prototype.proposeGeometry=function(){return i(this)},e.prototype.fit=function(){r(this)}}},function(e,t,n){"use strict";function i(e,t,n,i){var o=e;n=void 0===n||n,o.__socket=t,o.__flushBuffer=function(){o.write(o.__attachSocketBuffer),o.__attachSocketBuffer=null},o.__pushToBuffer=function(e){o.__attachSocketBuffer?o.__attachSocketBuffer+=e:(o.__attachSocketBuffer=e,setTimeout(o.__flushBuffer,10))},o.__getMessage=function(e){var t=JSON.parse(e.data);"stdout"===t[0]&&(i?o.__pushToBuffer(t[1]):o.write(t[1]))},o.__sendData=function(e){t.send(JSON.stringify(["stdin",e]))},o.__setSize=function(e){t.send(JSON.stringify(["set_size",e.rows,e.cols]))},t.addEventListener("message",o.__getMessage),n&&o.on("data",o.__sendData),o.on("resize",o.__setSize),t.addEventListener("close",function(){return r(o,t)}),t.addEventListener("error",function(){return r(o,t)})}function r(e,t){var n=e;n.off("data",n.__sendData),(t=void 0===t?n.__socket:t)&&t.removeEventListener("message",n.__getMessage),delete n.__socket}Object.defineProperty(t,"__esModule",{value:!0}),t.terminadoAttach=i,t.terminadoDetach=r,t.apply=function(e){e.prototype.terminadoAttach=function(e,t,n){return i(this,e,t,n)},e.prototype.terminadoDetach=function(e){return r(this,e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=new RegExp("(?:^|[^\\da-z\\.-]+)((https?:\\/\\/)((([\\da-z\\.-]+)\\.([a-z\\.]{2,6}))|((\\d{1,3}\\.){3}\\d{1,3})|(localhost))(:\\d{1,5})?(\\/[\\/\\w\\.\\-%~:]*)*([^:\"'\\s])(\\?[0-9\\w\\[\\]\\(\\)\\/\\?\\!#@$%&'*+,:;~\\=\\.\\-]*)?(#[0-9\\w\\[\\]\\(\\)\\/\\?\\!#@$%&'*+,:;~\\=\\.\\-]*)?)($|[^\\/\\w\\.\\-%]+)");function r(e,t){window.open(t,"_blank")}function o(e,t,n){void 0===t&&(t=r),void 0===n&&(n={}),n.matchIndex=1,e.registerLinkMatcher(i,t,n)}t.webLinksInit=o,t.apply=function(e){e.prototype.webLinksInit=function(e,t){o(this,e,t)}}},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h,m,g,b,y,v,_,x,w;_=n(107),l=n(99),i=n(43),o=n(15),a=n(332),c=n(330),s=n(331),({localToRemoteURL:y,processTemplate:x,displayURL:d}=n(314)),({a:p,button:f,div:h,i:m,iframe:g,input:b,p:v,span:w}=ReactDOMFactories),r=React.createFactory(Bootstrap.Modal),u=reactCreateClass({displayName:"WebBrowser",mixins:[layerMixins,mixins.AjaxMixin,mixins.FormMixin,mixins.TooltipMixin,a,c,Reflux.connect(i,"container"),Reflux.connectFilter(o,"active_file",function(e){return e.active_file}),Reflux.connectFilter(o,"btns_enabled",function(e){return e.btns_enabled}),Reflux.connectFilter(o,"default_port",function(e){return e.default_port}),Reflux.connectFilter(o,"entry",function(e){return e.entry}),Reflux.connectFilter(o,"global_starting_url",function(e){return e.website_url}),Reflux.connectFilter(o,"lite_mode",function(e){return e.lite_mode_web_browser}),Reflux.connectFilter(o,"pwd",function(e){return e.pwd}),Reflux.connectFilter(o,"shortcut_pane",function(e){return e.shortcut_pane})],propTypes:{access_token:PropTypes.string.isRequired,editing:PropTypes.bool.isRequired,in_content_editor:PropTypes.bool.isRequired,tab:PropTypes.object.isRequired},getInitialState:function(){return{display_url:"",id:Math.random().toString().substr(2),last_filepath:null,loaded:!1,settings_modal_displayed:!1,starting_url:null,timeout:null,ui_hidden:!1,url:null}},componentDidMount:function(){return window.addEventListener("keydown",this.checkAction),this.setClearTimeout(`web-browser-iframe-${this.state.id}`),this.initializeTooltips(`#web-browser-${this.state.id}`)},componentDidUpdate:function(e,t){return!this.state.loaded&&this.state.container.id&&this.setState({loaded:!0},()=>{var e;return e=this.props.tab.detail||this.state.global_starting_url||"{{localhost}}",e=(e=(e=x(e,this.state.default_port)).replace(/\{\{\s*entry\s*\}\}/,this.state.entry||"")).replace(/\/$/,""),this.setState({url:e,display_url:d(e,this.state.lite_mode)},()=>{if(!this.state.lite_mode)return this.loadBrowserURL()})}),this.checkIfHTMLFileOpened(),this.initializeTooltips(`#web-browser-${this.state.id}`)},componentWillUnmount:function(){return window.removeEventListener("keydown",this.checkAction)},checkIfHTMLFileOpened:function(){var e;if(!this.state.entry&&this.state.lite_mode&&this.state.active_file&&this.state.active_file.name.match(/\.html$/)&&this.state.active_file.path!==this.state.last_filepath)return e=this.localProxyFile(this.state.active_file.path.replace(this.state.pwd,"")),this.setState({display_url:d(e,this.state.lite_mode),last_filepath:this.state.active_file.path,url:e},()=>this.loadBrowserURL())},convertURLWrapper:function(){var e;return e=this.state.url,this.state.lite_mode&&(e=this.localProxyFile(d(e,!0))),y({local_url:e,token:this.state.container.token,root_hostname:this.state.container.root_hostname})},localProxyFile:function(e){return _.join(`localhost:${this.state.container.local_file_proxy_port}`,e||"")},checkEntered:function(e){if(13===e.keyCode&&!e.metaKey&&!e.ctrlKey)return this.setState({last_filepath:null,url:this.state.display_url,display_url:d(this.state.display_url,this.state.lite_mode)},()=>this.loadBrowserURL())},loadBrowserURL:function(){var e;if(e=this.convertURLWrapper(),this.urlValid(e))return this.setState({loaded:!0},()=>this.loadUrl(`web-browser-iframe-${this.state.id}`,e))},updateStartingURL:function(e){var t;if(e&&e.preventDefault(),this.toggleEdit(),l.setProperty(this.props.tab,"detail",this.state.starting_url),!this.props.tab.temporary||this.props.tab.persisted_id)return t=this.props.tab.persisted_id||this.props.tab.id,this.ajaxPatch(routes.projects.panes.tabs.update({access_token:this.props.access_token,id:t}),{data:{tab:{detail:this.state.starting_url}}},{})},toggleEdit:function(){return this.state.settings_modal_displayed||this.setState({starting_url:this.props.tab.detail}),this.setState({settings_modal_displayed:!this.state.settings_modal_displayed},()=>{var e;return(e=$("#url-form")).focus(),e.val(this.state.starting_url)})},render:function(){var e,t,n,i,r;return r=this.convertURLWrapper(),t=this.state.container.dead||!this.state.container.token,n=this.shortcutBtn()&&!t,e=this.state.btns_enabled||this.props.editing,i=t?"":n?"Refresh (Ctrl+Enter)":"Refresh",h({id:`web-browser-${this.state.id}`,className:"web-browser"},h({id:`web-browser-url-${this.state.id}`,className:"web-browser-url"},this.state.btns_enabled?void 0:w({onClick:this.loadBrowserURL,"data-toggle":"tooltip","data-original-title":i,"data-placement":"auto top"},m({className:"far fa-redo wb-icon"})),b({autoComplete:"off",className:"form-control custom-height web-browser-address-input",disabled:this.state.entry,id:`web-browser-address-input-${this.state.id}`,name:"display_url",onChange:this.handleChange,onKeyDown:this.checkEntered,value:this.state.display_url||"",placeholder:`${this.state.lite_mode?"Open an HTML file to view":"Enter a URL"}`}),p({className:`${r?"":"disabled"}`,href:r,target:"_blank","data-toggle":"tooltip","data-original-title":"Open in Browser Tab","data-placement":"auto left"},m({className:"far fa-external-link wb-icon"}))),g({id:`web-browser-iframe-${this.state.id}`,className:"web-browser-iframe",frameBorder:0,marginHeight:0,marginWidth:0,height:"100%",width:"100%"}),h({className:`pane-bottom-nav ${e?"":"pane-bottom-nav--hidden-bar"}`},this.state.btns_enabled?React.createElement(s,{btn_class:"web-browser-action-btn",disabled:this.state.container.dead,icon:"fa-redo",is_shortcut_btn:this.shortcutBtn(),onClick:this.loadBrowserURL,tooltip:"Refresh"}):void 0,this.props.editing?f({className:"btn btn-text btn-blue",onClick:this.toggleEdit},m({className:"fas fa-sliders-h"})):void 0))},renderLayer:function(){return r({onHide:this.toggleEdit,show:this.state.settings_modal_displayed},f({className:"btn btn-text btn-white btn-circle modal-header__close",onClick:this.toggleEdit},m({className:"fal fa-times"})),h({className:"modal-header"},m({className:"modal-header__icon fal fa-wrench"}),"Update Web Browser Starting URL"),h({className:"modal-body"},b({autoComplete:"off",id:"url-form",name:"starting_url",onChange:this.handleChange,onKeyDown:this.checkEntered,placeholder:"e.g., {{localhost}}",type:"text",value:this.state.starting_url}),v({style:{marginTop:10}},"See our ",p({href:"https://docs.next.tech/xyz/creator/interface/configuring-the-web-browser#starting-browser-url",target:"_blank"},"docs")," for more information on customizing the starting URL.")),h({className:"modal-footer"},f({className:"btn btn-action btn-green bold",onClick:this.updateStartingURL,type:"button"},"Save")))}}),e.exports=u},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h,m,g,b,y,v,x,w;i=n(43),o=n(15),c=n(785),f=n(333),n(23),p=n(542),s=n(800),a=n(801),u=n(545),({button:d,div:h,i:m,input:g,li:b,ol:y,p:v,span:x,ul:w}=ReactDOMFactories),r=React.createFactory(Bootstrap.Modal),l=reactCreateClass({displayName:"StepsSidebar",mixins:[layerMixins,u,mixins.AjaxMixin,mixins.FormMixin,mixins.TooltipMixin,mixins.ViewMixin,Reflux.connect(i,"container"),Reflux.connect(o,"project"),Reflux.connect(f,"task_results"),Reflux.connectFilter(c,"step_states",function(e){return e.step_states})],propTypes:{access_token:PropTypes.string.isRequired,checkTask:PropTypes.func.isRequired,disabled:PropTypes.bool.isRequired,editing:PropTypes.bool.isRequired,internal:PropTypes.bool.isRequired,loading:PropTypes.bool.isRequired,performAction:PropTypes.func.isRequired,reviewing:PropTypes.bool.isRequired},getInitialState:function(){return{list_shown:!1,modal_shown:!1,offet:20,open:!0,step:null,uid:null}},componentDidMount:function(){return this.setStep(),this.initializeTooltips("#left-sidebar")},componentDidUpdate:function(e,t){return e.loading&&!this.props.loading&&this.setStep(),this.initializeTooltips("#left-sidebar")},setStep:function(){return this.state.project.current_step_id?this.setState({step:_.find(this.state.project.step_data,e=>e.id===this.state.project.current_step_id)}):this.state.project.step_data?this.setState({step:_.first(_.sortBy(this.state.project.step_data,"position"))}):void 0},checkNextAction:function(){var e,t,n,i,r,o,s;for(e=0,t=(o=_.filter(_.sortBy(this.state.step.blocks,"position"),function(e){return"task"===e.type})).length;e<t;e++)if(r=o[e],(i=this.taskResult(r.contents.trim()))&&!i.complete)return this.props.checkTask(i.uid),void((s=$(`#task-result-${i.id}`)[0])&&((n=s.getBoundingClientRect()).bottom+60>window.innerHeight&&s.scrollIntoView(!1),n.top<0&&s.scrollIntoView()));return this.loadNextStep()},blockForTask:function(e,t){return _.find(e,function(e){return e.contents===t.uid})},githubMarkdown:function(e){return _.find(this.state.project.github_markdowns,function(t){return t.path.trim()===e})},quiz:function(e){return _.find(this.state.project.quizzes,function(t){return t.uid===e})},snippet:function(e){return _.find(this.state.project.snippets,function(t){return t.uid===e})},taskResult:function(e){return _.find(this.state.task_results,function(t){return t.uid===e})},steps:function(){return this.state.project.step_data},render:function(){return h({id:"left-sidebar",className:this.state.project.color_scheme},h({className:"left-sidebar__header"},this.state.list_shown?h({className:"left-sidebar__header-title"},"Project Steps"):this.markdownElm({contents:(this.state.step||{}).title||"Untitled Step",klass:"left-sidebar__header-title steps-sidebar__step-title"}),this.state.step?this.stepsLink():void 0),h({className:"js-reset-scroll left-sidebar__contents"},h({id:"steps-sidebar"},this.state.list_shown?this.stepsList():!this.state.step||this.props.editing&&this.props.loading?this.loading():this.state.step?this.renderStep():void 0)),(this.state.project.step_count>1||this.props.internal)&&!this.state.list_shown?this.stepsNavigation():void 0)},renderStep:function(){var e,t,n,i,r,o,l,u,c,f,d,m,g,b;if(m=this.state.step,g=_.sortBy(m.blocks,"position"),o=!0,u=-1,m)return h({className:"steps-sidebar__blocks"},function(){var y,v,_;for(_=[],r=y=0,v=g.length;y<v;r=++y)"markdown"===(t=g[r]).type&&t.contents.trim()?_.push(this.markdownElm({contents:t.contents,key:`${t.uid}-${m.position}-${r}`,klass:"steps-contents"})):"github_md"===t.type?(i=this.githubMarkdown(t.contents.trim()))?_.push(this.markdownElm({contents:i.contents,key:`${i.uid}-${m.position}-${r}`,klass:"steps-contents"})):_.push(void 0):"task"===t.type?(b=this.taskResult(t.contents.trim()))?(c=g[r-1],l=g[r+1],e=c&&"task"===c.type,n=l&&"task"===l.type,o&&!b.complete&&(o=!1,u=r),_.push(h({key:`${b.uid}-${m.position}-${r}`,className:`step-block-outer ${n?"step-block--not-last":""}`},e?void 0:h({className:"step-block-header"},`Task${n?"s":""}`),React.createElement(p,{access_token:this.props.access_token,appended:e,check:this.props.checkTask,disabled:this.props.disabled,is_next_task:r===u,task_result:b,task_result_snapshot:b.snapshot})))):_.push(void 0):"quiz"===t.type?(f=this.quiz(t.contents.trim()))?_.push(h({key:`${f.uid}-${m.position}-${r}`,className:"step-block-outer"},h({className:"step-block-header"},"Quiz"),React.createElement(s,{access_token:this.props.access_token,performAction:this.props.performAction,quiz:f,reviewing:this.props.reviewing}))):_.push(void 0):"snippet"===t.type&&(d=this.snippet(t.contents.trim()))?_.push(h({key:`${d.uid}-${m.position}-${r}`,className:"step-block-outer"},React.createElement(a,{access_token:this.props.access_token,dead:this.state.project.dead,reviewing:this.props.reviewing,snippet:d}))):_.push(void 0);return _}.call(this))},stepsLink:function(){if(this.state.project.step_count>1)return d({onClick:()=>this.setState({list_shown:!this.state.list_shown}),className:"btn btn-text btn-gray btn-circle left-sidebar__header-icon","data-toggle":"tooltip","data-placement":"auto bottom","data-original-title":`${this.state.list_shown?"Return to Instuctions":"Show Step List"}`},m({className:`fal ${this.state.list_shown?"fa-arrow-left":"fa-bars"}`}))},stepsList:function(){var e,t;if(this.state.step)return h({id:"steps-selector",className:"steps"},w({className:"steps-list"},function(){var n,i,r,o;for(r=_.sortBy(this.state.project.step_data,"position"),o=[],e=n=0,i=r.length;n<i;e=++n)t=r[e],o.push(b({key:e,onClick:this.setCurrentStep.bind(null,t),className:`step-list-item ${t.id===this.state.step.id?"active":""}`},h({className:"step-list-item-icon"},t.has_tasks?this.stepComplete(t)?m({className:"fas fa-check-square text-green"}):m({className:"far fa-square"}):m({className:"far fa-info-circle text-blue"})),this.markdownElm({contents:t.title||"Untitled Step",klass:"step-list-title"}),this.markdownElm({contents:t.summary,klass:"step-list-summary"})));return o}.call(this)))},loading:function(){return h({className:"steps-loading-outer"},h({className:"steps-loading"},m({className:"fal fa-spinner-third fa-spin"})))},renderLayer:function(){var e;return e=this.state.project.next_lesson||{},r({onHide:this.toggle.bind(null,"modal_shown"),show:this.state.modal_shown},h({className:`${this.state.project.color_scheme}`},d({className:"btn btn-text btn-white btn-circle modal-header__close",onClick:this.toggle.bind(null,"modal_shown"),type:"button"},m({className:"fal fa-times"})),h({className:"modal-header text-gray"},"Continue to Next Lesson"),h({className:"modal-body"},v({className:"text-center"},`The next lesson is "${e.name}".`)),h({className:"modal-footer"},h({className:"text-center"},d({className:"btn btn-action btn-green",onClick:function(){return window.location.href=e.url},type:"button"},"Continue ")))))}}),e.exports=l},function(e,t,n){var i,r,o,s;i=n(786),r=n(325),s={},o=Reflux.createStore({listenables:i,mixins:[mixins.AjaxMixin],init:function(){return r.listen(this.onPubNubChange)},onPubNubChange:function(e,t,n,i){if("projects-steps-states"===t)return this.ajaxGet(routes.realtime.projects.steps.index({access_token:e}),{success:e=>(s=e,this.trigger(s))})},getInitialState:function(){return s}}),e.exports=o},function(e,t){var n;n=Reflux.createActions(["connectToPubNub"]),e.exports=n},function(e,t,n){var i,r,o,s;n(219),({div:r,i:o,span:s}=ReactDOMFactories),i=reactCreateClass({displayName:"TaskResultCheckbox",propTypes:{access_token:PropTypes.string.isRequired,check:PropTypes.func,disabled:PropTypes.bool.isRequired,is_next_task:PropTypes.bool.isRequired,task_result:PropTypes.object.isRequired,task_result_snapshot:PropTypes.object.isRequired},getDefaultProps:function(){return{is_next_task:!1}},handleCheckbox:function(e){if(e.preventDefault(),e.stopPropagation(),!this.props.disabled&&!this.props.task_result.checking)return this.props.check(this.props.task_result.project_task_uid)},checkboxState:function(){return this.props.disabled?"mock-checkbox--is-disabled":this.props.task_result.checking?"mock-checkbox--is-checking":this.props.task_result_snapshot.completed?"mock-checkbox--is-completed":""},render:function(){var e;if(e=this.checkboxState(),this.props.task_result_snapshot)return r({onClick:this.handleCheckbox,className:`mock-checkbox ${e}  ${this.props.is_next_task?"next-task":""}`},r({className:"mock-checkbox__inner"},o({className:`fas fa-cog ${"mock-checkbox--is-checking"===e?"fa-spin":""}`}),o({className:"fas fa-check"})))}}),e.exports=i},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h,m,g,b,y,v;i=n(789),o=n(790),s=n(791),a=n(792),l=n(793),u=n(794),p=n(795),c=n(796),f=n(797),d=n(798),h=n(799),({div:m,i:g,p:b,span:y,strong:v}=ReactDOMFactories),r=reactCreateClass({displayName:"Check",mixins:[mixins.StringMixin,mixins.ViewMixin],propTypes:{check:PropTypes.object.isRequired,result:PropTypes.object},getInitialState:function(){return{open:!1}},namify:function(){switch(this.props.check.test_type){case"full_gui_test":return"GUI Test";case"python_gui_test":return"Python GUI Test";case"html_parser":return"HTML Parser";case"sql_test":return"SQL Database Test";default:return _.map(this.props.check.test_type.split("_"),e=>this.capitalize(e)).join(" ")}},component:function(){switch(this.props.check.test_type){case"browser_simulation":return i;case"code_pattern":return o;case"command_test":return s;case"custom_test":return a;case"full_gui_test":return l;case"html_parser":return u;case"image_test":return c;case"issue_test":return p;case"python_gui_test":return c;case"sql_test":return f;case"test_case":return d;case"unit_test":return h;case"webpage_test":return c}},render:function(){return m({className:`task-check ${this.state.open?"":"collapsed"}`},m({className:"task-check-header"},m({className:"task-check-inner"},y({className:"task-check-type"},this.namify()),this.props.test_result&&this.props.test_result.passed?y({className:"task-check-status passed"},"Complete"):y({className:"task-check-status failed"},"Incomplete"),this.markdownElm({contents:this.props.check.test_description,klass:"task-check-summary"})),m({className:`task-check-arrow ${this.state.open?"open":""}`,onClick:()=>this.setState({open:!this.state.open})},g({className:"fal fa-chevron-right"}))),this.state.open?m({className:"task-check-body"},this.props.test_result?m({className:"task-check-result"},React.createElement(this.component(),{key:this.props.test_result.id,result:this.props.test_result})):m({className:"no-result"},"Attempt this task to view the check results.")):void 0)}}),e.exports=r},function(e,t,n){var i,r,o,s,a,l,u,c,p;({HelpCircle:r}=n(13)),({a:o,code:s,div:a,h4:l,label:u,pre:c,span:p}=ReactDOMFactories),i=reactCreateClass({displayName:"BrowserSimulationResult",mixins:[mixins.ViewMixin],propTypes:{result:PropTypes.object.isRequired},render:function(){return a(null,u(null,"Simulation Output",React.createElement(r,{text:"Output from the test runner when running this browser simulation."})),c({className:"no-highlight"},s(null,this.props.result.output)),u(null,"Test Contents",React.createElement(r,{text:"Test logic for this browser simulation."})),c({className:"no-highlight"},s(null,this.props.result.contents)))}}),e.exports=i},function(e,t,n){var i,r,o,s,a,l,u;({HelpCircle:r}=n(13)),({a:o,div:s,label:a,p:l,span:u}=ReactDOMFactories),i=reactCreateClass({displayName:"CodePatternResult",mixins:[mixins.ViewMixin],propTypes:{result:PropTypes.object.isRequired},render:function(){return s(null,a(null,"Description"),this.markdownElm({contents:`Searched your code for a specific pattern:\n\n\`${this.props.result.pattern}\`\n\n You can learn more about regular expressions [here](https://ruby-doc.org/core-2.1.1/Regexp.html).`}))}}),e.exports=i},function(e,t,n){var i,r,o,s,a,l,u;({HelpCircle:r}=n(13)),({a:o,div:s,label:a,p:l,span:u}=ReactDOMFactories),i=reactCreateClass({displayName:"CommandTestResult",mixins:[mixins.ViewMixin],propTypes:{result:PropTypes.object.isRequired},render:function(){return s(null,a(null,"Description"),l(null,`Searched for a specific command in the last ${this.props.result.last} last commands run in the terminal.`))}}),e.exports=i},function(e,t,n){var i,r,o,s,a,l,u,c,p;({HelpCircle:r}=n(13)),({a:o,code:s,div:a,h4:l,label:u,pre:c,span:p}=ReactDOMFactories),i=reactCreateClass({displayName:"CustomTestResult",mixins:[mixins.ViewMixin],propTypes:{result:PropTypes.object.isRequired},render:function(){return a(null,u(null,"Test Output",React.createElement(r,{text:"Output from the test runner."})),c({className:"no-highlight"},s(null,this.props.result.output)),u(null,"Test Contents",React.createElement(r,{text:"Test logic."})),c({className:"no-highlight"},s(null,this.props.result.contents)))}}),e.exports=i},function(e,t,n){var i,r,o,s,a,l,u,c,p,f;({HelpCircle:r}=n(13)),({code:o,div:s,label:a,p:l,pre:u,span:p,source:c,video:f}=ReactDOMFactories),i=reactCreateClass({displayName:"FullGUITestResult",mixins:[mixins.ViewMixin],propTypes:{result:PropTypes.object.isRequired},render:function(){return s(null,this.props.result.video_url_mp4&&this.props.result.video_url_webm?s({className:"bottom-margin-20"},a(null,"Video"),s(null,f({className:"test-video-player",controls:!0,autoPlay:!0},c({src:this.props.result.video_url_webm,type:"video/webm"}),c({src:this.props.result.video_url_mp4,type:"video/mp4"}),l(null,"To view this video please enable JavaScript.")))):void 0,s(null,a(null,"Output"),u({className:"no-highlight"},o(null,this.props.result.stdout))),s(null,a(null,"Errors"),u({className:"no-highlight"},o(null,this.props.result.stderr))),s(null,a(null,"Test Contents"),u({className:"no-highlight"},o(null,this.props.result.contents))))}}),e.exports=i},function(e,t,n){var i,r,o,s,a,l,u,c,p;({HelpCircle:i}=n(13)),({a:o,code:s,div:a,h4:l,label:u,pre:c,span:p}=ReactDOMFactories),r=reactCreateClass({displayName:"HtmlParserResult",mixins:[mixins.ViewMixin],propTypes:{result:PropTypes.object.isRequired},render:function(){return a(null,u(null,"Simulation Output",React.createElement(i,{text:"Output from the test runner when running this HTML parser."})),c({className:"no-highlight"},s(null,this.props.result.output)),u(null,"Test Contents",React.createElement(i,{text:"Test logic for this HTML parser."})),c({className:"no-highlight"},s(null,this.props.result.contents)))}}),e.exports=r},function(e,t,n){var i,r,o,s,a,l,u;({HelpCircle:i}=n(13)),({a:o,div:s,label:a,p:l,span:u}=ReactDOMFactories),r=reactCreateClass({displayName:"IssueTestResult",mixins:[mixins.ViewMixin],propTypes:{result:PropTypes.object.isRequired},render:function(){return s(null,s({className:"panel-body"},a(null,"Description"),l(null,`Your program should ${this.props.result.present?"":"not"} have thrown this error.`),a(null,"Error Pattern"),l(null,this.markdownElm({contents:`\`${this.props.result.pattern}\``}))))}}),e.exports=r},function(e,t,n){var i,r,o,s,a,l,u,c;({HelpCircle:i}=n(13)),({a:o,div:s,img:a,label:l,p:u,span:c}=ReactDOMFactories),r=reactCreateClass({displayName:"ImageTestResult",mixins:[mixins.ViewMixin],propTypes:{result:PropTypes.object.isRequired},render:function(){var e;return e=this.props.result,s(null,!e.passed&&e.diff_url?s({className:"bottom-margin-20"},l(null,"Result"),s(null,o({href:e.diff_url,target:"_blank"},a({className:"image-test-img",src:e.diff_url,style:{background:e.color}})))):void 0,s({className:"bottom-margin-20"},l(null,"Current"),e.result_url?o({href:e.result_url,target:"_blank"},a({className:"image-test-img",src:e.result_url,style:{background:e.color}})):u(null,"Image not found.")),s({className:"bottom-margin-20"},l(null,"Solution"),o({href:e.solution_url,target:"_blank"},a({className:"image-test-img",src:e.solution_url,style:{background:e.color}}))),s(null,s({className:`label label-${e.passed?"primary":"danger"}`},c({className:"test-label-inner"},`${e.difference}% difference`))))}}),e.exports=r},function(e,t,n){var i,r,o,s,a,l,u,c,p,f;r=n(362),({HelpCircle:i}=n(13)),({a:s,code:a,div:l,h4:u,label:c,pre:p,span:f}=ReactDOMFactories),o=reactCreateClass({displayName:"SqlTestResult",mixins:[mixins.ViewMixin],propTypes:{result:PropTypes.object.isRequired},rowHighlights:function(){var e,t,n,i,r,o;for(t={},i=n=0,r=(e=this.props.result.expected_results||[]).length;n<r;i=++n)o=e[i],t[i]=this.rowPassed(o,i)?"success":"danger";return t},rowPassed:function(e,t){var n;return n=this.props.result.results||[],this.props.result.ordered?_.isEqual(n[t],e):_.find(n,function(t){return _.isEqual(t,e)})},render:function(){return l(null,this.props.result.feedback?l({className:"bottom-margin-20"},c(null,"Feedback",React.createElement(i,{text:"Feedback on your test results."})),this.markdownElm({contents:this.props.result.feedback})):void 0,this.props.result.query?l({className:"bottom-margin-20"},c(null,`${this.props.result.use_statement?"Test":"Solution"} Query`,this.props.result.use_statement?React.createElement(i,{text:"The query used to test your database."}):React.createElement(i,{text:"A correct version of this query."})),p({className:"no-highlight"},a(null,this.props.result.query))):void 0,l({className:"bottom-margin-20"},c(null,"Expected Results",React.createElement(i,{text:"The database results expected."})),React.createElement(r,{headers:this.props.result.expected_headers||[],data:this.props.result.expected_results||[],highlights:this.rowHighlights()})),l(null,c(null,"Actual Results",React.createElement(i,{text:"The results returned from your database."})),React.createElement(r,{headers:this.props.result.headers||[],data:this.props.result.results||[]})))}}),e.exports=o},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d;n(15),({HelpCircle:i}=n(13)),({a:o,button:s,code:a,div:l,h4:u,label:c,p:p,pre:f,span:d}=ReactDOMFactories),r=reactCreateClass({displayName:"TestCaseResult",mixins:[mixins.ViewMixin],propTypes:{result:PropTypes.object.isRequired},getInitialState:function(){return{details_shown:!1}},showDetails:function(){return this.setState({details_shown:!0})},results:function(){var e,t,n,i,r,o,s,a;for(a=(this.props.result.results||[]).slice(0),e=[],t=i=0,r=(s=this.props.result.outputs||[]).length;i<r;t=++i)o=s[t],-1!==(n=a.indexOf(o))?(a.splice(n,1),e.push({text:o,key:t,level:"success"})):e.push({text:o,key:t,level:"danger"});return e},unexpectedResults:function(){var e,t,n,i,r,o;for(o=[],e=t=0,n=(r=(this.props.result.unexpected_results||[]).slice(0)).length;t<n;e=++t)i=r[e],o.push({text:i,key:e});return o},render:function(){var e,t;return t=this.props.result,l(null,c(null,"Input"),f({className:"no-highlight"},a(null,t.input)),l(null,c(null,"Output"),f({className:"no-highlight"},a(null,t.output))),(t.outputs||[]).length?l(null,c(null,"Results",React.createElement(i,{placement:"right",text:"Green keywords were present in your program output. Red keywords were missing or out-of-order."})),l({className:"keywords"},function(){var t,n,i,r;for(r=[],t=0,n=(i=this.results()).length;t<n;t++)e=i[t],r.push(l({className:`label label-${e.level} test-label`,key:e.key},d({className:"test-label-inner"},e.text)));return r}.call(this))):void 0,this.state.details_shown?void 0:d({className:"btn btn-link",onClick:this.showDetails},"Show Details"),this.state.details_shown?l(null,(t.outputs||[]).length?l(null,c(null,"Expected Output",React.createElement(i,{text:"Keywords searched for in your program's output."})),l({className:"keywords"},function(){var n,i,r,o;for(o=[],n=0,i=(r=_.map(t.outputs||[],function(e,t){return{text:e,key:t}})).length;n<i;n++)e=r[n],o.push(l({className:"label label-primary test-label",key:e.key},d({className:"test-label-inner"},e.text)));return o}())):void 0,this.unexpectedResults().length?l(null,c(null,"Unexpected Output",React.createElement(i,{text:"Keywords found in your program's output that were not expected and caused this test case to fail."})),l({className:"keywords"},function(){var t,n,i,r;for(r=[],t=0,n=(i=this.unexpectedResults()).length;t<n;t++)e=i[t],r.push(l({className:"label label-danger test-label",key:e.key},d({className:"test-label-inner"},e.text)));return r}.call(this))):void 0):void 0)}}),e.exports=r},function(e,t,n){var i,r,o,s,a,l,u,c,p;({HelpCircle:i}=n(13)),({a:o,code:s,div:a,h4:l,label:u,pre:c,span:p}=ReactDOMFactories),r=reactCreateClass({displayName:"UnitTestResult",mixins:[mixins.ViewMixin],propTypes:{result:PropTypes.object.isRequired},buildResult:function(){var e;return{klass:(e=this.props.result.build_success)?"success":"danger",text:`Build ${e?"Succeeded":"Failed"}`}},render:function(){var e,t;return t=this.props.result,a(null,t.build_required?(e=this.buildResult(),a(null,u(null,"Build Status"),a({className:"keywords"},a({className:`label label-${e.klass}`},e.text)))):void 0,t.build_success?void 0:a(null,u(null,"Build Output"),c({className:"no-highlight"},s(null,t.build_output))),t.build_success?a(null,u(null,"Test Output",React.createElement(i,{text:"Output from the test runner when running this unit test."})),c({className:"no-highlight"},s(null,t.output))):void 0,u(null,"Test Contents",React.createElement(i,{text:"Program code / logic for this unit test."})),c({className:"no-highlight"},s(null,t.test_contents)))}}),e.exports=r},function(e,t,n){var i,r,o,s,a,l,u,c;i=n(23),o=n(365),s=n(334),({a:a,div:l,i:u,span:c}=ReactDOMFactories),r=reactCreateClass({displayName:"Quiz",mixins:[mixins.AjaxMixin,mixins.ItemMixin,mixins.ViewMixin,Reflux.connect(s,"quiz_attempts")],propTypes:function(){return{access_token:PropTypes.string.isRequired,performAction:PropTypes.func.isRequired,quiz:PropTypes.object.isRequired,reviewing:PropTypes.bool}},getInitialState:function(){return{answers:[],active_answers:[],checked:!1,checking:!1,result:null}},componentWillMount:function(){return this.loadResults()},componentDidMount:function(){return this.unsubscribe_quiz_attempts=s.listen(this.onQuizAttemptsChange)},componentWillUnmount:function(){return this.unsubscribe_quiz_attempts()},onQuizAttemptsChange:function(){return this.loadResults()},loadResults:function(){var e,t,n;return this.props.quiz.shuffle?this.setState({answers:_.shuffle(this.props.quiz.answers||[])}):this.setState({answers:this.props.quiz.answers||[]}),t=_.sortBy(this.state.quiz_attempts.slice(),"t_created_at").reverse(),e=(n=_.find(t,e=>e.project_quiz_id===this.props.quiz.id))&&n.results.length>0,this.setState({result:n,checked:e})},toggleAnswer:function(e){var t;if(!(this.state.checked&&!this.props.quiz.retake||this.props.reviewing)){if(this.props.quiz.multiple)return this.state.active_answers.indexOf(e)<0?((t=this.state.active_answers).push(e),this.setState({active_answers:t})):this.setState({active_answers:_.filter(this.state.active_answers,function(t){return t!==e})});this.setState({active_answers:[e]})}},checkQuiz:function(){return i.setProperty("current_score",null),this.setState({checking:!0,active_answers:[],checked:!0}),this.props.performAction({route:routes.projects.check_quiz({access_token:this.props.access_token}),data:{quiz_uid:this.props.quiz.uid,answers:this.state.active_answers},success:e=>(this.setState({checking:!1,result:e}),o.createQuizAttempt(e)),error:()=>this.setState({checking:!1})})},attempted:function(){return this.state.result&&this.state.result.attempted},render:function(){var e,t,n,i;return l({className:`quiz ${this.state.checked?"checked":""} ${this.props.reviewing?"reviewing":""}`},l({className:"quiz-inner"},l({className:"row"},l({className:"col-xs-12"},l({className:"subheader"},"Question"),this.markdownElm({contents:this.props.quiz.question,klass:"question"}))),l({className:"row answers"},l({className:"col-xs-12"},l({className:"subheader"},"Answers"),l({className:"subsubheader"},this.props.reviewing?void 0:this.props.quiz.multiple?"Select all correct answers.":"Select one correct answer."),function(){var r,o,s,a;if(this.state.reviewing&&!this.state.result)return l({className:"quiz-not-taken"},"Quiz has not been taken yet.");for(s=this.state.answers,a=[],t=r=0,o=s.length;r<o;t=++r)e=s[t],this.attempted()&&(i=_.find(this.state.result.results,function(t){return t.answer_id===e.id})),n=i?i.correct?"correct":"incorrect":this.state.active_answers.indexOf(e.id)>-1?"active":"",a.push(l({key:t,className:`answer no-select ${n}`,onClick:this.toggleAnswer.bind(null,e.id)},this.markdownElm({contents:e.contents,klass:"answer-text"})));return a}.call(this))),this.attempted()?l({className:"row"},l({className:"col-xs-12"},l({className:"quiz-message"},this.state.result.score<1?l({className:"subheader incorrect"},"Incorrect"):l({className:"subheader correct"},"Correct"),this.markdownElm({contents:this.state.result.message||"",klass:"message"})))):void 0,l({className:"row quiz-footer top-margin-20"},l({className:"col-xs-12"},this.attempted()?c({className:"quiz-score"},`Score: ${100*this.state.result.score}%`):void 0,this.props.reviewing?void 0:this.state.checked&&this.props.quiz.retake?a({className:"btn btn-action btn-blue quiz-submit-btn bold",onClick:()=>this.setState({result:null,checked:!1})},"Retry"):this.state.checked?void 0:a({className:"btn btn-action btn-blue quiz-submit-btn bold",onClick:this.checkQuiz,disabled:this.state.checked},this.state.checking?u({className:"fas fa-spin fa-cog"}):"Check")))))}}),e.exports=r},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h,m,g,b,y;n(107),r=n(43),s=n(136),a=n(15),n(543),i=n(802),o=n(803),u=n(804),c=n(805),({displayURL:f,processTemplate:b}=n(314)),({button:p,div:d,h4:h,i:m,p:g,span:y}=ReactDOMFactories),l=reactCreateClass({displayName:"Snippet",mixins:[mixins.AjaxMixin,mixins.ViewMixin,Reflux.connect(r,"container"),Reflux.connectFilter(s,"filenames",function(e){return _.pluck(e.files,"name")}),Reflux.connectFilter(a,"default_port",function(e){return e.default_port}),Reflux.connectFilter(a,"pwd",function(e){return e.default_pwd}),Reflux.connectFilter(a,"lite_mode_web_browser",function(e){return e.lite_mode_web_browser})],propTypes:{access_token:PropTypes.string.isRequired,dead:PropTypes.bool,reviewing:PropTypes.bool.isRequired,snippet:PropTypes.object.isRequired},getInitialState:function(){return{connected:!1,connection_attempts:0,loading:!1,loaded:!1,running:!1,snippet_uid:Math.random().toString().substr(2),uid:null}},componentDidMount:function(){return this.unsubscribe_container=r.listen(this.onContainerChange),this.load()},componentWillUnmount:function(){return this.unsubscribe_container()},shouldComponentUpdate:function(e,t){return this.state.container.token||e.reviewing!==this.state.reviewing||t.running!==this.state.running||t.loaded!==this.state.loaded||!_.isEqual(e.snippet,this.props.snippet)},onContainerChange:function(e){if(!this.state.connected&&e)return this.setState({container:e},()=>this.load())},disabled:function(){return this.props.dead||!this.state.loaded||!this.state.container.token||this.props.reviewing},runDisabled:function(){return this.props.dead||this.state.running||!this.state.loaded||!this.state.container.token||this.props.reviewing},runSnippet:function(){var e;if(!this.runDisabled())return this.refs["executable-code"].resetTerminal(),this.setState({running:!0}),e=(()=>this.ajaxPost(routes.projects.build({access_token:this.props.access_token}),{data:{current_file:this.props.snippet.detail.replace(`${this.state.pwd}/`,""),filenames:this.state.filenames},success:e=>(this.setState({running:!1}),this.refs["executable-code"].runCommand(e.terminal_command)),error:()=>this.setState({running:!1})})),this.save(e)},save:function(e){var t;return"code-editor"===(t=this.props.snippet.type)||"executable-code"===t?this.refs[t].saveFile(e):e()},load:function(){if(this.state.container.token&&!this.state.loaded)return this.setState({loading:!0},()=>{var e;if((e=this.refs[this.props.snippet.type])&&e.load)return e.load()})},setLoaded:function(){return this.setState({loaded:!0,loading:!1})},cleanDetail:function(){var e;switch(this.props.snippet.type){case"code-editor":case"executable-code":return this.props.snippet.detail.replace(`${this.state.pwd}/`,"");case"terminal":return this.props.snippet.detail;case"web-browser":return e=b(this.props.snippet.detail,this.state.default_port),f(e,this.state.lite_mode_web_browser)}},showFooter:function(){return!this.props.reviewing},render:function(){var e;return e=this.props.snippet,this.props.reviewing&&-1!==["terminal","web-browser"].indexOf(e.type)?d({className:"callout info"},h(null,"Not Supported"),g(null,"This snippet type is not supported in Review Mode.")):d({className:`snippet snippet--${e.type} ${this.state.loading?"loading":""}`,id:`snippet-${this.state.snippet_uid}`},d({className:"snippet-wrapper"},this.state.container.token?d({className:"snippet-inner"},d({className:"snippet-interface"},function(){switch(e.type){case"code-editor":return React.createElement(i,{ref:"code-editor",setLoaded:this.setLoaded,snippet:e,reviewing:this.props.reviewing,uid:this.state.snippet_uid});case"executable-code":return React.createElement(o,{access_token:this.props.access_token,loaded:this.state.loaded,ref:"executable-code",reviewing:this.props.reviewing,runDisabled:this.runDisabled,runSnippet:this.runSnippet,setLoaded:this.setLoaded,snippet:e,uid:this.state.snippet_uid});case"terminal":return React.createElement(u,{ref:"terminal",setLoaded:this.setLoaded,snippet:e,uid:this.state.snippet_uid});case"web-browser":return React.createElement(c,{ref:"web-browser",setLoaded:this.setLoaded,snippet:e,uid:this.state.snippet_uid})}}.call(this))):void 0,this.state.loaded?void 0:this.loadingScreen(),this.state.loaded&&this.showFooter()?d({className:"snippet-footer"},d({className:"snippet-path"},this.cleanDetail())):void 0))},loadingScreen:function(){return d({className:"snippet-loading",onClick:this.load},d({className:"snippet-loading-inner"},m({className:"fal fa-spinner-third fa-spin"})))}}),e.exports=l},function(e,t,n){var i,r,o,s,a,l,u;n(107),r=n(43),a=n(136),l=n(15),o=n(357),s=n(544),({div:u}=ReactDOMFactories),i=reactCreateClass({displayName:"CodeEditorSnippet",mixins:[s,Reflux.connect(r,"container"),Reflux.connect(l,"project"),Reflux.connectFilter(a,"files",function(e){return e.files}),Reflux.connectFilter(l,"theme",function(e){return e.color_scheme})],propTypes:{container:PropTypes.object,setLoaded:PropTypes.func.isRequired,snippet:PropTypes.object.isRequired,uid:PropTypes.string.isRequired},getInitialState:function(){return{file:null,height:null,pwd:"/root/sandbox"}},componentWillUnmount:function(){return this.unsubscribe_project()},render:function(){return u({className:`${this.props.snippet.autosize?"no-scroll":""}`,style:{height:this.props.snippet.autosize?"initial":this.state.height}},React.createElement(o,{color_scheme:this.state.theme,curDetail:this.curDetail,focusable:!1,onSave:this.updateFile,position:this.position,ref:"editor",reviewing:this.props.reviewing,snippet:this.props.snippet,setLoaded:this.props.setLoaded}))}}),e.exports=i},function(e,t,n){var i,r,o,s,a,l,u,c,p,f;n(107),n(23),i=n(43),a=n(136),l=n(15),r=n(357),o=n(544),u=n(363),({div:p,i:f,button:c}=ReactDOMFactories),s=reactCreateClass({displayName:"ExecutableCodeSnippet",mixins:[mixins.AjaxMixin,o,u,Reflux.connect(i,"container"),Reflux.connect(l,"project"),Reflux.connectFilter(a,"files",function(e){return e.files}),Reflux.connectFilter(l,"theme",function(e){return e.color_scheme})],propTypes:{access_token:PropTypes.string.isRequired,loaded:PropTypes.bool.isRequired,reviewing:PropTypes.bool.isRequired,runDisabled:PropTypes.func.isRequired,runSnippet:PropTypes.func.isRequired,setLoaded:PropTypes.func.isRequired,snippet:PropTypes.object.isRequired,uid:PropTypes.string.isRequired},getInitialState:function(){return{file:null,height:null,line_count:1,output:"",pwd:"/root/sandbox",socket:null,term:null}},componentDidMount:function(){return this.mounted=!0},componentWillUpdate:function(e,t){if(this.state.term&&t.line_count!==this.state.line_count)return this.state.term.resize(this.state.term.cols,t.line_count+2)},componentDidUpdate:function(e,t){if(this.state.term&&this.state.term&&this.state.theme!==t.theme)return this.setTheme(this.state.term)},componentWillUnmount:function(){if(this.unsubscribe_project(),this.mounted=!1,this.state.socket&&this.state.socket.readyState===this.state.socket.OPEN)return this.state.socket.close()},load:function(){if(this.props.snippet.terminal_command&&!this.props.reviewing)return this.connectTerminal({endpoint:this.state.container.snippet_term_ws_url,cmd:this.props.snippet.terminal_command,idx:this.props.uid,connected:this.terminalConnected,onClose:this.onTerminalClose,onData:this.onTerminalData,onKeyDown:this.checkKeyUp,snippet:!0})},terminalConnected:function(){var e;return!!(e=this.state.socket)&&(e&&(e.readyState===e.OPEN||e.readyState===e.CONNECTING))},resetTerminal:function(){if(!this.props.snippet.terminal_command)return this.terminalConnected()&&this.state.socket.close(),this.state.term?this.state.term.dispose():void 0},runCommand:function(e){var t,n;return this.props.snippet.terminal_command?this.state.term?(n=this.refs.editor.hasFocus(),(this.props.snippet.autoclear||this.state.line_count>1e3)&&(this.setState({line_count:0,output:""}),this.state.term.clear()),t=_.find(this.state.files,e=>e.path===this.props.snippet.detail),this.state.term.focus(),this.state.term.emit("data",`${t.contents}\r`),n?this.refs.editor.focus():void 0):void 0:(this.setState({line_count:0,output:""}),this.connectTerminal({endpoint:this.state.container.snippet_term_ws_url,cmd:e,idx:this.props.uid,connected:this.terminalConnected,onClose:this.onTerminalClose,onData:this.onTerminalData,onKeyDown:this.checkKeyUp,snippet:!0}),this.state.term.textarea.focus())},onTerminalData:function(e){var t,n,i;if(n=RegExp(".{1,"+this.state.term.cols+"}","g"),t=(t=this.state.output+e).split(/\r/),i=(t=(t=_.map(t,function(e){return e.match(n)||[]})).concat.apply([],t)).slice(0,t.length),this.setState({output:i.join("\r"),line_count:i.length}),i.length>999)return this.setState({line_count:0,output:""}),this.state.term.clear(),console.info("Terminal output length exceeded"),this.terminalConnected()&&!this.props.snippet.terminal_command&&this.state.socket.close(),this.state.term.write("\nTERMINAL OUTPUT EXCEEDS 1,000 LINES\n")},onTerminalClose:function(){if(this.refs.editor)return this.refs.editor.focus()},checkKeyDown:function(e,t){if((t.metaKey||t.ctrlKey)&&13===t.which)return t.preventDefault(),t.stopPropagation(),this.props.runSnippet()},focusTerminal:function(){if(this.state.term)return this.state.term.focus()},render:function(){return p({className:`half-snippet-outer ${this.props.snippet.autosize?"no-scroll":""}`},p({className:"half-snippet",style:{height:this.props.snippet.autosize?"initial":this.state.height}},React.createElement(r,{color_scheme:this.state.theme,curDetail:this.curDetail,focusable:!1,onKeyDown:this.checkKeyDown,onSave:this.updateFile,position:this.position,ref:"editor",reviewing:this.props.reviewing,snippet:this.props.snippet,setLoaded:this.props.setLoaded}),this.props.loaded?c({className:"btn btn-action btn-blue btn-sm snippet-btn",onClick:this.props.runSnippet,disabled:this.props.runDisabled()},this.state.running?f({className:"fas fa-cog fa-spin"}):"Run"):void 0),this.props.reviewing?void 0:p({onClick:this.focusTerminal,className:"half-snippet terminal"},p({id:"terminal",className:`${this.terminalConnected()?"running":""} ${this.state.theme}`,style:{height:`${16*(this.state.line_count+2)}px`,overflow:"hidden"}},p({className:`terminal-wrapper ${this.terminalConnected()?"running":""} ${this.state.theme}`,style:{backgroundColor:this.colors()[this.state.theme]}},p({className:"terminal-tab-content terminal-tab-content--full-height"},p({id:`term-${this.props.uid}`,className:"tab-pane"},p({className:"terminal-output",id:`term-inner-${this.props.uid}`})))))))}}),e.exports=s},function(e,t,n){var i,r,o,s,a;i=n(43),r=n(15),o=n(363),({div:a}=ReactDOMFactories),s=reactCreateClass({displayName:"TerminalSnippet",mixins:[o,Reflux.connect(i,"container"),Reflux.connect(r,"project"),Reflux.connectFilter(r,"theme",function(e){return e.color_scheme})],propTypes:{setLoaded:PropTypes.func.isRequired,snippet:PropTypes.object.isRequired,uid:PropTypes.string.isRequired},getInitialState:function(){return{mounted:!1,socket:null,terminal:null}},componentWillMount:function(){return this.setState({mounted:!0})},componentDidUpdate:function(e,t){if(this.state.terminal&&this.state.term&&this.state.theme!==t.theme)return this.setTheme(this.state.term)},componentWillUnmount:function(){return this.setState({mounted:!1},()=>{if(this.state.socket&&this.state.socket.readyState===this.state.socket.OPEN)return this.state.socket.close()})},load:function(){return this.connectTerminal({endpoint:this.state.container.snippet_term_ws_url,cmd:this.props.snippet.detail,idx:this.props.uid,connected:this.terminalConnected,onConnect:this.props.setLoaded,snippet:!0})},terminalConnected:function(){var e;return!!(e=this.state.socket)&&(e&&(e.readyState===e.OPEN||e.readyState===e.CONNECTING))},render:function(){return a({id:"terminal",className:`${this.terminalConnected()?"running":""} ${this.state.theme}`,style:{height:this.props.snippet.height,overflow:"hidden"}},a({className:`terminal-wrapper ${this.terminalConnected()?"running":""} ${this.state.theme}`,style:{backgroundColor:this.colors()[this.state.theme]}},a({className:"terminal-tab-content terminal-tab-content--full-height"},a({id:`term-${this.props.uid}`,className:"tab-pane"},a({className:"terminal-output",id:`term-inner-${this.props.uid}`})))))}}),e.exports=s},function(e,t,n){var i,r,o,s,a,l,u,c,p,f;i=n(43),r=n(15),({div:a,i:l,iframe:u,span:f}=ReactDOMFactories),o=n(330),({localToRemoteURL:c,processTemplate:p}=n(314)),s=reactCreateClass({displayName:"WebBrowserSnippet",mixins:[o,Reflux.connect(i,"container"),Reflux.connectFilter(r,"default_port",function(e){return e.default_port})],propTypes:{setLoaded:PropTypes.func.isRequired,snippet:PropTypes.object.isRequired,uid:PropTypes.string.isRequired},getInitialState:function(){return{timeout:null}},componentDidMount:function(){return this.setClearTimeout(`web-browser-iframe-${this.props.uid}`)},load:function(){var e;if(this.state.container.local_file_proxy_url&&(e=this.props.snippet.detail,(e=c({local_url:p(e,this.state.default_port),token:this.state.container.token,root_hostname:this.state.container.root_hostname})).length))return this.urlValid(e)&&this.loadUrl(`web-browser-iframe-${this.props.uid}`,e),this.props.setLoaded()},render:function(){return a({className:"web-browser-outer",style:{height:this.props.snippet.height}},f({className:"text-blue reload-icon",onClick:this.load},l({className:"fas fa-redo"})),u({id:`web-browser-iframe-${this.props.uid}`,frameBorder:0,marginHeight:0,marginWidth:0,height:"100%",width:"100%"}))}}),e.exports=s},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h,m,g,b,y,v,x,w,k,S,C,E;i=n(546),u=n(807),n(71),s=n(43),l=n(15),r=n(322),p=n(547),o=n(100),({code:d,button:f,div:h,h4:m,i:g,p:b,pre:y,span:v}=ReactDOMFactories),({table:x,tbody:w,th:S,thead:C,tr:E,td:k}=ReactDOMFactories),({HelpCircle:a}=n(13)),c=reactCreateClass({displayName:"Submissions",mixins:[mixins.AjaxMixin,mixins.TooltipMixin,mixins.ViewMixin,o,Reflux.connect(s,"container"),Reflux.connectFilter(l,"default_pwd",function(e){return e.default_pwd}),Reflux.connectFilter(l,"grading_enabled",function(e){return e.grading_enabled}),Reflux.connectFilter(l,"task_runs",function(e){return e.task_runs}),Reflux.connectFilter(l,"time_spent",function(e){return e.time_spent})],propTypes:{access_token:PropTypes.string.isRequired,disabled:PropTypes.bool.isRequired,enterReview:PropTypes.func.isRequired,exitReview:PropTypes.func.isRequired,in_content_editor:PropTypes.bool.isRequired,lite_mode:PropTypes.bool,saveTimeSpent:PropTypes.func.isRequired,setDirectory:PropTypes.func.isRequired},getInitialState:function(){return{loaded:!1,loading_submission:null,submission:null,submissions:[]}},componentDidMount:function(){return this.unsubscribe=u.listen(this.onChange),this.ajaxGet(routes.projects.snapshots.index({access_token:this.props.access_token}),{success:e=>(i.setSubmissions(e),this.setState({loaded:!0}))}),this.props.saveTimeSpent(!0),this.time_spent_interval=setInterval(()=>{if(document.hasFocus())return this.props.saveTimeSpent(!0)},6e4),this.initializeTooltips("#left-sidebar")},componentDidUpdate:function(e,t){return this.initializeTooltips("#left-sidebar")},componentWillUnmount:function(){return this.unsubscribe(),clearInterval(this.time_spent_interval)},onChange:function(e){return this.setState({submissions:e})},setSubmission:function(e){var t,n;if(!this.state.loading_submission)return this.props.enterReview(),this.setState({loading_submission:e}),this.props.disabled?(this.setState({loading_submission:null}),this.props.setDirectory(this.state.default_pwd)):(n=(()=>(this.setState({loading_submission:null}),this.clearSubmission(!0))),t=(()=>this.ajaxGet(routes.projects.snapshots.load_assets({access_token:this.props.access_token,id:e.id}),{success:e=>(this.setState({loading_submission:null}),this.props.setDirectory(e.path)),error:function(){return $.alert("Could not load submission, please wait a moment and try again.","danger"),n()}})),this.ajaxGet(routes.projects.snapshots.show({access_token:this.props.access_token,id:e.id}),{success:e=>(this.setState({submission:e}),t()),error:function(){return n()}}))},clearSubmission:function(e){return this.setState({submission:null}),this.props.exitReview(e)},grade:function(e){return`${(100*e.grade).toFixed(2)}%`},calculateTimeSpent:function(){var e,t,n;return this.state.time_spent?(t="",1===(e=parseInt(this.state.time_spent.split(":")[0]))?t="1 hour and ":e>1&&(t=`${e} hours and `),0===(n=parseInt(this.state.time_spent.split(":")[1]))&&(t+="0 minutes"),1===n?t+="1 minute":n>1&&(t+=`${n} minutes`),t):"0 minutes"},localCreatedAt:function(e){return new Date(1e3*e).toLocaleString()},render:function(){var e,t,n,i;return"Review the code and tasks at the time of this submission.",n=this.props.in_content_editor?"Reviewing is disabled in the content editor.":"Loading submission for review...",h({id:"left-sidebar",className:"review-mode-outer"},h({className:"left-sidebar__header"},this.state.submission&&!this.state.loading_submission?h({className:"left-sidebar__header-title"},"Review Submission"):h({className:"left-sidebar__header-title"},"Submissions"),this.state.submission&&!this.state.loading_submission?h({className:"btn btn-text btn-gray btn-circle left-sidebar__header-icon","data-toggle":"tooltip","data-placement":"auto bottom","data-original-title":"Return to Submissions",onClick:this.clearSubmission},g({className:"fal fa-arrow-left"})):void 0),h({className:"left-sidebar__contents"},this.state.submission&&!this.state.loading_submission?h({id:"submissions"},h({className:"detail-container"},this.state.grading_enabled?h({className:"grade"},this.grade(this.state.submission)):void 0,h({className:"created-at text-center"},this.localCreatedAt(this.state.submission.t_created_at)),this.state.submission.build_success?void 0:h(null,m({className:"top-margin-20 review-subheader"},"Build Output"),h({className:"text-red top-margin-20 bottom-margin-20 right-margin-20 left-margin-20"},v({className:"bold"},"BUILD FAILED: "),"Your program could not build. See the output below for more details."),this.state.submission.output.trim()?y({className:"no-highlight"},d(null,this.state.submission.output.trim())):void 0),this.state.submission.feedback?h(null,m({className:"top-margin-20 review-subheader"},"Feedback"),this.markdownElm({contents:this.state.submission.feedback,klass:"left-margin-20 right-margin-20"})):void 0,this.state.submission.task_result_snapshots.length?h(null,m({className:"top-margin-20 review-subheader"},"Task Results"),React.createElement(p,{access_token:this.props.access_token,project_snapshot:this.state.submission,disabled:!0,reviewing:!0})):void 0)):h({id:"submissions"},h({className:"review-subheader"},"Insights"),x({className:"table"},w(null,E(null,k(null,"Time spent"),k({className:"text-right"},this.calculateTimeSpent())),E(null,k(null,"Check runs"),k({className:"text-right"},this.state.task_runs)))),h({className:"review-subheader"},"Submissions"),this.state.submissions.length?x({className:"table table-striped"},C(null,E(null,S(null,"Date"),this.state.grading_enabled?S(null,"Score"):void 0,S(null))),w(null,function(){var o,s,a,l;for(a=_.sortBy(this.state.submissions,"t_created_at"),l=[],e=o=0,s=a.length;o<s;e=++o)i=a[e],t=this.state.loading_submission&&this.state.loading_submission.id===i.id||this.props.in_content_editor||!1,l.push(E({key:e},k(null,this.localCreatedAt(i.t_created_at)),this.state.grading_enabled?k(null,this.grade(i)):void 0,k(null,React.createElement(r,{span_class:"pull-right",btn_class:"btn-action btn-blue bold",disabled:t,disabled_tooltip:n,icon:t&&!this.props.in_content_editor?"fa-cog fa-spin":void 0,onClick:this.setSubmission.bind(null,i),text:!t||this.props.in_content_editor?"Review":void 0,tooltip:"Review the code and tasks at the time of this submission."}))));return l}.call(this))):this.state.loaded?h({className:"no-data"},"Your project does not have any submissions. You can create one from the Task list."):h({className:"loading-container"},g({className:"fal fa-spinner-third fa-spin"})))))}}),e.exports=c},function(e,t,n){var i,r,o;i=n(546),o=[],r=Reflux.createStore({listenables:i,setSubmissions:function(e){return o=e,this.trigger(o)}}),e.exports=r},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h,m,g,b,y,v,x,w,k,S;k=n(366),o=n(23),c=n(219),s=n(15),a=n(334),f=n(333),i=n(322),l=n(809),u=n(547),p=n(548),({button:h,div:m,i:g,span:b}=ReactDOMFactories),({table:y,tbody:v,th:w,tr:S,td:x}=ReactDOMFactories),({HelpCircle:r}=n(13)),d=reactCreateClass({displayName:"TasksSidebar",mixins:[mixins.AjaxMixin,p,mixins.TooltipMixin,mixins.ViewMixin,Reflux.connect(a,"quiz_attempts"),Reflux.connect(f,"task_results"),Reflux.connect(s,"project")],propTypes:{access_token:PropTypes.string.isRequired,disabled:PropTypes.bool.isRequired,performAction:PropTypes.func,project_snapshot:PropTypes.object,reviewing:PropTypes.bool.isRequired,checkTask:PropTypes.func},getDefaultProps:function(){return{disabled:!1,reviewing:!1}},getInitialState:function(){return{submitting:!1}},componentDidMount:function(){return this.initializeTooltips("#left-sidebar")},componentDidUpdate:function(e,t){return this.initializeTooltips("#left-sidebar")},checkNextAction:function(){var e,t,n,i,r,o;for(e=0,t=(i=this.sortedTaskResults()).length;e<t;e++)if(!(r=i[e]).complete)return this.props.checkTask(r.uid),void((o=$(`#task-result-${r.id}`)[0])&&((n=o.getBoundingClientRect()).bottom+60>window.innerHeight&&o.scrollIntoView(!1),n.top<0&&o.scrollIntoView()))},submitGrade:function(){return this.setState({submitting:!0},()=>this.props.performAction({route:routes.projects.submit({access_token:this.props.access_token}),data:{},success:e=>{if(this.setState({submitting:!1,reviewing:!1}),$.alert("Submission saved! View your past submissions anytime in Review.","default"),this.state.project.remaining_attempts)return o.setProperty("remaining_attempts",this.state.project.remaining_attempts-1)},error:()=>(this.setState({submitting:!1}),$.alert("Could not submit your grade.","danger"))}))},runChecks:function(){return o.setProperty("current_score",null),c.setAllChecking(!0,this.props.access_token),this.props.performAction({route:routes.projects.test({access_token:this.props.access_token}),data:{},success:function(e){return o.setProperty("task_runs",e.task_runs)}})},quizResults:function(){var e;return e=_.sortBy(this.state.quiz_attempts,"quiz_created_at").reverse(),_.uniq(e,function(e){return e.project_quiz_id}).reverse()},render:function(){var e,t,n,r,o,s;return e=void 0!==_.find(this.state.task_results,"checking"),o=null===this.state.project.current_score_at||this.props.disabled||e||null!==this.state.project.remaining_attempts&&this.state.project.remaining_attempts<1,n=this.state.project.run_checks_enabled&&this.state.task_results.length,r=this.state.project.submissions_enabled,m({id:"left-sidebar"},m({className:"left-sidebar__header"},this.state.reviewing?m({className:"left-sidebar__header-title"}," New Submission"):m({className:"left-sidebar__header-title"},"Tasks"),this.state.reviewing?m({className:"btn btn-text btn-gray btn-circle left-sidebar__header-icon","data-toggle":"tooltip","data-placement":"auto bottom","data-original-title":"Return to Tasks",onClick:()=>this.setState({reviewing:!1})},g({className:"fal fa-arrow-left"})):void 0),m({className:"left-sidebar__contents"},this.state.reviewing?m({id:"tasks-sidebar"},this.reviewDetails(),this.state.task_results.length?m(null,m({className:"top-margin-20 review-subheader"},"Task Results"),this.tasks(!0,!1)):void 0,this.state.quiz_attempts.length?m(null,m({className:"top-margin-20 review-subheader"},"Quiz Results"),React.createElement(l)):void 0):m({id:"tasks-sidebar"},this.tasks(!1,!0))),this.state.reviewing?m({className:"left-sidebar__footer left-sidebar__footer--task-results"},React.createElement(i,{btn_class:"btn-action btn-green bold confirm-btn",disabled:this.state.submitting,disabled_tooltip:"Submitting grade...",icon:this.state.submitting?"fa-cog fa-spin":void 0,onClick:this.submitGrade,span_class:"confirm-btn",text:this.state.submitting?void 0:"Confirm",tooltip:"Confirm submission"})):n||r?m({className:"left-sidebar__footer left-sidebar__footer--task-results"},n?React.createElement(i,{btn_class:"btn-action btn-blue bold check-btn",disabled:this.props.disabled||e,disabled_tooltip:"Please wait for tasks to complete before checking.",onClick:this.runChecks,span_class:"check-btn",text:"Run Checks",tooltip:"Check all tasks."}):void 0,r?(t=Math.floor(100*(this.state.project.current_score||0)),s=this.state.project.grading_enabled?e?"Submit --%":`Submit ${t||0}%`:"Submit",React.createElement(i,{btn_class:`bold submit-btn ${100===t?"completed":""}`,disabled:o,disabled_tooltip:"Attempt the task(s) to enable submission.",onClick:()=>this.setState({reviewing:!0}),span_class:"submit-btn",text:s,tooltip:"Submit your project after viewing a confirmation screen."})):void 0):void 0)},reviewDetails:function(){return m(null,void 0!==this.state.project.current_score?m({className:"grade text-center"},`${(100*this.state.project.current_score).toFixed(2)}%`):void 0,m({className:"created-at text-center"},`Last snapshot: ${k().format(new Date(1e3*this.state.project.current_score_at))}`,React.createElement(r,{text:"When a snapshot of your project files for this submission was taken. Click Run Checks to snapshot again."})),m({className:"submissions-remaining"},`Remaining Attempts: ${null===this.state.project.remaining_attempts?"Unlimited":this.state.project.remaining_attempts}`,React.createElement(r,{text:"How many times you can still submit your project."})))},tasks:function(e,t){return React.createElement(u,{access_token:this.props.access_token,appended:t,checkTask:this.props.checkTask,disabled:this.props.disabled,project_snapshot:this.props.project_snapshot,reviewing:e})}}),e.exports=d},function(e,t,n){var i,r,o,s,a,l,u;n(366),n(23),n(219),n(15),i=n(334),n(333),({table:o,tbody:s,th:l,tr:u,td:a}=ReactDOMFactories),r=reactCreateClass({displayName:"QuizResults",mixins:[mixins.ViewMixin,Reflux.connect(i,"quiz_attempts")],render:function(){var e,t,n;return n=_.sortBy(this.state.quiz_attempts,"quiz_created_at").reverse(),n=_.uniq(n,function(e){return e.project_quiz_id}).reverse(),o({className:"table remove-top-border"},s(null,function(){var i,r,o;for(o=[],e=i=0,r=n.length;i<r;e=++i)t=n[e],o.push(u({key:e},this.markdownElm({contents:t.summary,elm:"td"}),a({className:"text-right"},`${t.score.toFixed(2)} / ${(t.weight||0).toFixed(2)}`)));return o}.call(this)))}}),e.exports=r},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h,m,g,b,y,v,_,x;r=n(71),a=n(23),c=n(99),i=n(43),l=n(15),({HelpCircle:o}=n(13)),({a:p,button:f,code:d,div:h,h4:m,i:g,option:b,p:y,pre:v,select:_,span:x}=ReactDOMFactories),s=React.createFactory(Bootstrap.Modal),u=reactCreateClass({displayName:"SettingsSidebar",mixins:[layerMixins,mixins.AjaxMixin,mixins.TooltipMixin,mixins.ViewMixin,Reflux.connect(i,"container"),Reflux.connect(l,"project")],propTypes:{access_token:PropTypes.string.isRequired,listDirectory:PropTypes.func.isRequired,setSidebar:PropTypes.func.isRequired},getInitialState:function(){return{download_link:null,download_shown:!1,downloading:!1,files_resetting:!1,resetting:!1,sharing:!1}},componentDidMount:function(){return this.initializeTooltips("#left-sidebar")},setColor:function(e){var t;if(t=e.target.value,-1!==["light","dark","dev"].indexOf(t))return this.ajaxPatch(routes.projects.update({access_token:this.props.access_token}),{data:{project:{color_scheme:t}},success:function(e){return a.setProperty("color_scheme",e.color_scheme),window.project_theme=e.color_scheme,$.alert("Color scheme updated!","success")}})},setKeymap:function(e){var t;if(t=e.target.value,-1!==["default","sublime","emacs","vim"].indexOf(t))return this.ajaxPatch(routes.projects.update({access_token:this.props.access_token}),{data:{project:{keymap:t}},success:function(e){return a.setProperty("keymap",e.keymap),$.alert("Keymap updated!","success")}})},toggleReset:function(){return this.setState({resetting:!this.state.resetting})},closeDownloadModal:function(){return this.setState({download_shown:!1}),!0},toggleSharing:function(){return this.setState({sharing:!this.state.sharing})},resetProject:function(){return r.disconnectSocket(),r.setFiles([]),c.setTabs([]),this.setState({files_resetting:!0}),this.ajaxDelete(routes.projects.reset({access_token:this.props.access_token}),{success:({tabs:e,panes:t,layout:n})=>(a.setPropertiesSafely({panes:t,layout:n}),this.setState({files_resetting:!1}),this.toggleReset(),this.props.listDirectory(this.state.project.default_pwd),c.setTabs(e),$.alert("Project successfully reset!","success")),error:()=>(this.setState({files_resetting:!1}),this.toggleReset(),$.alert("Could not reset project.","danger"))})},downloadProject:function(){return this.setState({downloading:!0}),this.ajaxGet(routes.projects.download({access_token:this.props.access_token}),{success:e=>this.setState({downloading:!1,download_shown:!0,download_link:e.link}),error:()=>this.setState({downloading:!1})})},render:function(){return h({id:"left-sidebar"},h({className:"left-sidebar__header"},h({className:"left-sidebar__header-title"},"Settings"),f({className:"btn btn-text btn-gray btn-circle left-sidebar__header-icon","data-toggle":"tooltip","data-placement":"auto bottom","data-original-title":"Close Settings",onClick:this.props.setSidebar.bind(null,"workspace")},g({className:"fal fa-times"}))),h({className:"left-sidebar__contents"},h({id:"settings-sidebar"},this.colorSchemeDropdown(),this.editorKeymapDropdown(),this.sidebarBtns())),h({className:"left-sidebar__footer"},p({target:"_blank",href:"https://changelog.next.tech",className:"btn btn-gray btn-text"},"v4.3.3")))},sidebarBtns:function(){return h(null,h({className:"form-group settings-section"},f({className:"btn btn-text btn-blue btn-block settings-sidebar__btn bottom-margin-10",onClick:this.downloadProject,disabled:this.state.downloading||!this.state.container.id,"data-toggle":"tooltip","data-placement":"top","data-title":"Download your project's files to your computer."},this.state.downloading?g({className:"far fa-spinner-third fa-spin"}):x(null,"Download",g({className:"far fa-cloud-download settings-sidebar__icon"}))),f({className:"btn btn-text btn-blue btn-block settings-sidebar__btn bottom-margin-10",onClick:this.toggleSharing,"data-toggle":"tooltip","data-placement":"top",title:"Get a URL that can be used to share your project with others."},"Share",g({className:"far fa-share-alt settings-sidebar__icon"})),f({className:"btn btn-text btn-red btn-block settings-sidebar__btn bottom-margin-10",onClick:this.toggleReset,disabled:!this.state.container.id,"data-toggle":"tooltip","data-placement":"top",title:"Reset the project's files and tabs to their initial state."},"Reset",g({className:"far fa-undo settings-sidebar__icon"}))))},colorSchemeDropdown:function(){return h({className:"form-group settings-section"},m({className:"settings-sidebar-header top-margin-20"},g({className:"far fa-palette settings-icon"}),"Theme",React.createElement(o,{text:"Customize your IDE by selecting the light, dark, or dev theme."})),_({className:"form-control",onChange:this.setColor,value:this.state.project.color_scheme},b({value:"light"},"Light Mode"),b({value:"dark"},"Dark Mode"),b({value:"dev"},"Dev Mode")))},editorKeymapDropdown:function(){return h({className:"form-group settings-section"},m({className:"settings-sidebar-header top-margin-20"},g({className:"far fa-keyboard settings-icon"}),"Keymap",React.createElement(o,{text:"Keymaps allow you to have greater control over the file editor using your keyboard. Select the keymap of your favorite editor, or stick with the default keymap."})),_({className:"form-control",onChange:this.setKeymap,value:this.state.project.keymap},b({value:"default"},"Default"),b({value:"emacs"},"Emacs"),b({value:"sublime"},"Sublime"),b({value:"vim"},"Vim")))},renderLayer:function(){return this.state.resetting?s({onHide:this.toggleReset,show:!0},f({className:"btn btn-text btn-white btn-circle modal-header__close",onClick:this.toggleReset,disabled:this.state.files_resetting},g({className:"fal fa-times"})),h({className:"modal-header text-red"},g({className:"modal-header__icon fal fa-exclamation-triangle"}),"Reset Project"),h({className:"modal-body text-center bold"},"Are you sure you would like to delete ALL your files and tabs and reload the files and tabs you started with?"),h({className:"modal-footer"},h({className:"text-center"},f({className:"btn btn-gray btn-text bold top-margin-20",onClick:this.toggleReset,disabled:this.state.files_resetting},"Go Back"),f({className:"btn btn-action btn-red bold top-margin-20",onClick:this.resetProject,disabled:this.state.files_resetting},this.state.files_resetting?h({className:"fas fa-cog fa-spin"}):"Reset Project"),this.state.files_resetting?y({className:"text-red bold top-margin-20"},"Please wait. This may take several seconds."):void 0))):this.state.download_shown?s({onHide:this.closeDownloadModal,show:!0},f({className:"btn btn-text btn-white btn-circle modal-header__close",onClick:this.closeDownloadModal},g({className:"fal fa-times"})),h({className:"modal-header"},g({className:"modal-header__icon fal fa-cloud-download"}),"Download Project Files"),h({className:"modal-body text-center"},p({className:"btn btn-large btn-action btn-blue bold",onClick:this.closeDownloadModal,href:this.state.download_link,target:"_blank"},"Click Here to Download")),h({className:"modal-footer"})):this.state.sharing?s({onHide:this.toggleSharing,show:!0},f({className:"btn btn-text btn-white btn-circle modal-header__close",onClick:this.toggleSharing},g({className:"fal fa-times"})),h({className:"modal-header"},g({className:"modal-header__icon fal fa-share-alt"}),"Share URL"),h({className:"modal-body text-center"},this.state.project.is_content?h({className:"callout info"},y(null,"You cannot share this project because it is a lesson. Instead, click the arrow at the top right of the page to open a copy of the content which you can share.")):v({className:"embed-code"},d(null,`${window.root_url}/projects/${this.state.project.share_token}/share`))),this.state.project.is_content?void 0:h({className:"modal-footer"},h({className:"text-center text-red bold"},y(null,"Whoever has this URL will have full access to your project and can make changes.")))):h(null)}}),e.exports=u},function(e,t,n){var i,r,o,s,a,l;r=n(335),o=n(336),({input:s,td:a,tr:l}=ReactDOMFactories),i=reactCreateClass({displayName:"GradingItem",mixins:[mixins.AjaxMixin,mixins.ItemMixin,mixins.StringMixin],propTypes:{access_token:PropTypes.string.isRequired,item:PropTypes.object.isRequired,type:PropTypes.string.isRequired},getInitialState:function(){return{edit_grade:this.props.item.grade,edit_weight:this.props.item.weight}},updateGradingItem:function(){if(this.valid())return"quiz"===this.props.type?this.ajaxPatch(routes.projects.quizzes.update({id:this.props.item.id,access_token:this.props.access_token}),{data:{quiz:{grade:this.state.edit_grade,weight:this.state.edit_weight}},success:e=>r.updateQuiz(this.props.item,e)}):this.ajaxPatch(routes.projects.tasks.update({id:this.props.item.id,access_token:this.props.access_token}),{data:{task:{grade:this.state.edit_grade,weight:this.state.edit_weight}},success:e=>o.updateTask(this.props.item,e)})},toggleGrade:function(){return this.setState({edit_grade:!this.state.edit_grade,edit_weight:this.state.edit_weight||1},()=>this.updateGradingItem())},updateWeight:function(e){return this.setState({edit_weight:e.target.value},()=>this.updateGradingItem())},valid:function(){return!this.state.edit_grade||parseInt(this.state.edit_weight)>=0},render:function(){return l({className:`${this.valid()?"":"danger"}`},a({width:"15%"},React.createElement(Toggle,{checked:this.state.edit_grade,onChange:this.toggleGrade})),a(null,"quiz"===this.props.type?this.props.item.summary:this.props.item.description),a({width:"15%"},this.state.edit_grade?s({className:"form-control",min:0,name:"edit_weight",onChange:this.updateWeight,onKeyDown:this.checkSaved,type:"number",value:this.state.edit_weight}):"N/A"))}}),e.exports=i},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h,m,g,b,y,v,x,w,k,S,C,E,T,A,N,M,R,O,L,P,D,I,F,j,B,z,q,H,U,W,V,G,K,Y,X,Q,Z,J,ee,te,ne,ie,re,oe,se,ae,le,ue,ce=[].indexOf;i=n(23),a=n(209),u=n(337),d=n(71),m=n(338),g=n(369),D=n(335),z=n(370),W=n(99),K=n(336),V=n(219),Q=n(371),r=n(813),f=n(814),s=n(815),l=n(816),h=n(819),b=n(822),y=n(549),v=n(823),w=n(824),k=n(825),S=n(826),C=n(827),E=n(828),T=n(829),A=n(830),N=n(831),M=n(832),R=n(833),O=n(834),L=n(835),P=n(836),I=n(839),B=n(840),F=n(842),q=n(843),H=n(845),U=n(846),G=n(848),Y=n(850),X=n(851),Z=n(865),J=n(866),({HelpCircle:x}=n(13)),({a:ee,button:te,div:ne,h2:ie,i:re,input:oe,label:se,li:ae,span:le,ul:ue}=ReactDOMFactories),j=n(57).default,o={small:262144,medium:524288,large:1048576},c=[{option:"instructions",icon:"book-open",title:"Instructions",description:"Write instructions and add snippets, quizzes, and tasks.",remote_editor:!0},{option:"tasks",icon:"tasks",title:"Tasks",description:"Create tasks for your users to complete."},{option:"checks",icon:"cog",title:"Checks",description:"Add automated checks to ensure a task is completed."},{option:"submissions",icon:"chart-bar",title:"Submissions",description:"Configure submissions and grading weights for tasks and quizzes.",remote_editor:!0},{option:"interface",icon:"desktop",title:"Interface",description:"Configure the layout and behaviour of the interface."},{option:"settings",icon:"sliders-h",title:"Settings",description:"Configure all content settings and scripts."},{option:"snippets",icon:"cut",title:"Snippets",description:"Create interactive code, terminal, and web browser snippets to embed into instructions."},{option:"quizzes",icon:"check-circle",title:"Quizzes",description:"Create short quizzes that can be embedded into instructions."},{option:"stack",icon:"cube",title:"Stack",description:"Select the content programming environment."},{option:"publish",icon:"cloud-upload",title:"Publish",description:"Publish your content into a website or LMS."},{option:"help",icon:"question-circle",title:"Help",description:"Get help with the Creator."}],p={toggleEditing:function(){return _.each(this.state.split_instances,function(e){return e.destroy()}),this.setState({editing:!this.state.editing,reviewing:!1,loading:!0,split_instances:[]},()=>{if(i.setProperty("editing",this.state.editing),$('[data-toggle="tooltip"]').tooltip("hide"),this.ajaxGet(routes.projects.show({access_token:this.props.access_token}),{data:{reload:!0},success:e=>(this.loadEditor(e,!1),this.stopLoading())}),!this.state.editing)return this.setState({saving:!1})})},loadEditor:function(e,t){var n,r,o,s;for(t||i.setPropertiesSafely(e),u.setDirectories(e.directories||[]),g.setGitHubMarkdowns(e.github_markdowns||[]),m.setGitHubFileLinks(e.github_file_links||[]),D.setQuizzes(e.quizzes||[]),K.setTasks(e.tasks||[]),z.setSnippets(e.snippets||[]),Q.resetTests(),V.syncTaskResults(this.props.access_token),n=0,r=(o=e.test_types).length;n<r;n++)s=o[n],Q.setTests(s,e[s+"s"]||[]);if(t&&(this.initLock(this.props.lock_id),this.initResourceMonitor(),e.stack||this.props.remote_editor?this.setState({left_sidebar:"instructions"}):this.setState({left_sidebar:"stack"}),e.content.published&&$.alert("Be careful! This content is published.","danger",!1),"undefined"!=typeof Intercom&&(Intercom("onHide",function(){return $("#intercom-container").css("display","none")}),Intercom("onShow",function(){return $("#intercom-container").css("display","block")}))),this.state.editing)return this.ajaxGet(iRoutes.contents.show({id:e.content.id}),{internal:!0,success:a.setContent})},saveName:function(e){return i.setProperty("name",e.target.value),this.ajaxPatch(iRoutes.contents.update({id:this.state.content.id}),{internal:!0,data:{project:{name:e.target.value}}})},saveLessonType:function(e){return this.ajaxPatch(iRoutes.contents.update({id:this.state.content.id}),{internal:!0,data:{content:{lesson_type:e.value}},success:function(e){return i.setProperty("lesson_type",e.lesson_type)}})},saveFiles:function(){return this.setState({loading_files:!0},()=>this.ajaxPatch(routes.projects.save_container({access_token:this.props.access_token}),{timeout:15e3,success:()=>this.setState({loading_files:!1}),error:()=>this.setState({loading_files:!1})}))},saveTabs:function(){var e;return e=(e=>(this.deleteTabsFromDB(e),this.updateChangedTabsInDB(e),this.addNewTabsToDB())),this.loadTabs(e)},savedTabs:function(){return _.reject(this.state.tabs,function(e){return e.temporary&&!e.persisted_id})},idOfSavedTab:function(e){return e.persisted_id||e.id},deleteTabsFromDB:function(e){var t,n,i,r;for(i=[],t=0,n=e.length;t<n;t++)r=e[t],_.find(this.savedTabs(),e=>this.idOfSavedTab(e)===r.id)?i.push(void 0):i.push(this.ajaxDelete(routes.projects.panes.tabs.destroy({access_token:this.props.access_token,id:r.id}),{}));return i},addNewTabsToDB:function(){var e,t,n,i,r,o;for(r=[],e=0,t=(i=_.filter(this.state.tabs,function(e){return e.temporary&&!e.persisted_id})).length;e<t;e++)o=i[e],n=_.find(this.state.project.panes,function(e){return e.position===o.pane_position}).id,r.push(this.ajaxPost(routes.projects.panes.tabs.create({access_token:this.props.access_token,pane_id:n}),{data:{tab:o},success:function(e){return W.setProperty(o,"persisted_id",e.id)}}));return r},updateChangedTabsInDB:function(e){var t,n,i,r,o,s;for(r=[],t=0,n=(i=this.savedTabs()).length;t<n;t++)o=i[t],_.find(e,e=>e.id===this.idOfSavedTab(o)&&!_.isEqual(e,o))?(_.find(this.state.project.panes,function(e){return e.position===o.pane_position}).id,s=this.idOfSavedTab(o),r.push(this.ajaxPatch(routes.projects.panes.tabs.update({access_token:this.props.access_token,id:s}),{data:{tab:o}}))):r.push(void 0);return r},save:function(){if(confirm("Are you sure you would like to save the current files and open tabs as the project's starting point?"))return this.saveFiles(),this.saveTabs()},restoreContent:function(){if(confirm("Are you sure you want to reset your content to the starting state? This includes the files!"))return this.setState({editing:!0,loading_files:!0}),this.ajaxPatch(iRoutes.contents.restore({id:this.state.content.id}),{internal:!0,success:()=>($.alert("Content state restored to starting point.","success"),this.loadFiles(!1),this.loadTabs(W.setTabs)),error:()=>($.alert("Could not restore content.","danger"),this.setState({loading_files:!1}))})},loadFiles:function(e){var t,n;return d.setFiles([]),e?(t=this.ajaxPatch,n=routes.projects.load_solution({access_token:this.props.access_token})):(t=this.ajaxDelete,n=routes.projects.reset({access_token:this.props.access_token})),this.setState({loading_files:!0},()=>t(n,{success:()=>(this.safeEditorSetDirectory(this.state.project.default_pwd),this.setState({loading_files:!1})),error:()=>this.setState({loading_files:!1})}))},loadTabs:function(e){return this.setState({loading_tabs:!0},()=>this.ajaxGet(routes.projects.panes.tabs.index({access_token:this.props.access_token}),{success:t=>{if(this.setState({loading_tabs:!1}),"function"==typeof e)return e(t)},error:()=>this.setState({loading_tabs:!1})}))},syncGitHubFiles:function(){if(this.state.content.github_base_repo){if(confirm("Are you sure you want to reset content file contents to GitHub?"))return this.setState({loading_files:!0},()=>($.alert("Syncing files from GitHub..."),this.ajaxPatch(iRoutes.contents.sync_github_files({id:this.state.content.id}),{internal:!0,success:()=>(this.setState({loading_files:!1}),$.alert("Files successfully synced to GitHub. Please save content files to finalize.","success",!0,!0)),error:()=>(this.setState({loading_files:!1}),$.alert("Could not sync files with GitHub.","danger",!0,!0))})))}else $.alert("Please enter a repository in Settings > GitHub Sync Settings > Base Repository","danger")},handlePageTitleChange:function(e){return this.handleChange(e),document.title=`${e.target.value||"Untitled Content"} | Next Tech`},setup:function(){return this.state.project.id&&this.state.project.stack},initResourceMonitor:function(){return this.state.container.token&&this.exec(this.state.container.root_hostname,this.state.container.token,["free"],{cb:e=>this.setState({m_used:parseInt(e.stdout.split(/\n+/)[1].split(/\s+/)[2])})}),setTimeout(this.initResourceMonitor,3e3)},closeSettingsScreen:function(e){return e&&e.preventDefault(),this.state.reload?window.location.reload():this.setup()?this.setState({left_sidebar:null}):void 0},checkSkipHide:function(e){if(this.state.project.navigation_disabled||this.state.reload)return e&&e.preventDefault(),!1;this.closeSettingsScreen()},toggleNavEnabled:function(){return this.setState({navigation_disabled:!this.state.project.navigation_disabled})},showIntercom:function(){if("undefined"!=typeof Intercom)return Intercom("show")},firstPublishState:function(){return this.state.editor?"lms":"website"},setSettingsScreen:function(e){if(!this.state.project.navigation_disabled&&this.state.project.stack)return this.state.project.navigation_disabled?void 0:this.setState({left_sidebar:e})},renderEditNavigation:function(){var e,t;return t=o[this.state.project.profile],e=!this.state.container.token||this.state.loading_files||this.state.loading_tabs,ne({id:"editor-navbar",className:"navbar-outer"},ne({className:"navbar-inner"},ne({className:"back-link-outer"},this.props.remote_editor?ee({className:"btn btn-text btn-gray back-link",href:"/remote_editor"},re({className:"far fa-arrow-left"}),"Content List"):ee({className:"btn btn-text btn-gray back-link",href:`/creator/${this.state.content.course_slug}`},re({className:"far fa-arrow-left"}),"Back to Course")),ne({className:"project-name text-center hidden-sm hidden-xs"},this.state.editing?oe({className:"form-control",defaultValue:this.state.project.name||"",name:"name",onBlur:this.saveName,onChange:this.handlePageTitleChange,placeholder:"Untitled Content"}):this.state.project.name||"Untitled Content"),this.props.remote_editor?ne({className:"right-items"},te({className:"btn btn-outline btn-blue bold",type:"button",disabled:e,onClick:this.saveFiles},"Save Files")):ne({className:"right-items"},ee({className:"btn btn-text btn-blue preview-url",title:"Open External Preview",target:"_blank",href:`${window.root_url}/api/v1/publishable_key/${this.state.publishable_key}`+`?content_id=${this.state.content.identifier}&preview=true`},re({className:"far fa-external-link"})),te({className:"btn btn-text btn-red",onClick:this.restoreContent,title:"Restore Content"},re({className:"far fa-undo"})),React.createElement(j,{value:this.state.project.lesson_type,options:[{label:"Activity",value:"activity"},{label:"Challenge",value:"challenge"},{label:"Lesson",value:"lesson"},{label:"Project",value:"project"},{label:"Quiz",value:"quiz"},{label:"Reading",value:"reading"}],onChange:this.saveLessonType,clearable:!1}),te({className:"btn btn-outline btn-blue dropdown-toggle bold margin-right",disabled:e,id:"save-files",onClick:this.save,type:"button"},"Save"),ne({className:"btn-group dropdown"},te({className:"btn btn-outline btn-blue dropdown-toggle bold",type:"button",id:"files-dropdown",disabled:e,"data-toggle":"dropdown"},"Files",re({className:"caret"})),ue({className:"dropdown-menu dropdown-menu-right","aria-labelledby":"files-dropdown"},ae(null,ee({onClick:this.loadFiles.bind(null,!1)},re({className:"fal fa-flag files-dropdown__icon"}),"Load Starter")),ae(null,ee({onClick:this.loadFiles.bind(null,!0)},re({className:"fal fa-flag-checkered files-dropdown__icon"}),"Load Solution")),this.state.github_authed?ae(null,ee({onClick:this.syncGitHubFiles},re({className:"fab fa-github files-dropdown__icon"}),"Sync GitHub")):void 0)),te({className:"btn btn-outline btn-green bold",disabled:e,id:"preview-btn",onClick:this.toggleEditing,type:"button"},this.state.editing?"Preview":"Edit"),this.state.m_used?ne({className:"resource-usage-info"},ne({className:`mem ${this.state.m_used>.9*t?"text-red":"text-blue"}`,"data-toggle":"popover","data-title":"Memory Usage","data-content":`Students will have access to ${this.kbFormatter(t)} of memory (up to ${this.kbFormatter(2*t)} if available). Your sandbox is currently using ${this.kbFormatter(this.state.m_used)}.`},`${(this.state.m_used/t*100).toFixed(2)}% RAM`)):void 0)))},stepsSidebarEditor:function(){return React.createElement(U,{access_token:this.props.access_token,internal:this.props.internal,remote_editor:this.props.remote_editor})},editorSidebarNav:function(){var e,t,n;return n=this.props.remote_editor?c.filter(function(e){return e.remote_editor}):c,ne({id:"left-sidebar-nav-inner"},function(){var i,r,o;for(o=[],e=i=0,r=n.length;i<r;e=++i)t=n[e],o.push(te({key:e,className:`left-sidebar-nav-item ${this.state.left_sidebar===t.option?"active":""}`,onClick:this.setSettingsScreen.bind(null,t.option),disabled:this.state.project.navigation_disabled||!this.state.project.stack,"data-toggle":"popover","data-title":t.title,"data-content":t.description},re({className:`fal fa-${t.icon}`})));return o}.call(this))},editorSidebarScreens:function(){var e,t,n;return({project:e,tabs:t}=this.state),({tabs_enabled:n}=e),"instructions"===this.state.left_sidebar?this.stepsSidebarEditor():ne({id:"left-sidebar",className:"left-sidebar--editor"},ne({className:"left-sidebar__header"},ne({className:"left-sidebar__header-title"},this.capitalize(this.state.left_sidebar))),function(){switch(this.state.left_sidebar){case"stack":return ne({className:"left-sidebar__contents"},React.createElement(q,{access_token:this.props.access_token}),React.createElement(s,{access_token:this.props.access_token}));case"interface":return ne({className:"left-sidebar__contents"},React.createElement(w),React.createElement(T,{access_token:this.props.access_token}),React.createElement(Z),React.createElement(C,{access_token:this.props.access_token}),React.createElement(S,{access_token:this.props.access_token}),ce.call(n,"terminal")>=0||_.find(t,function(e){return"terminal"===e.tab_type})?React.createElement(Y,{access_token:this.props.access_token}):void 0,ce.call(n,"web-browser")>=0||_.find(t,function(e){return"web-browser"===e.tab_type})?React.createElement(J,{access_token:this.props.access_token}):void 0,ce.call(n,"sql-results")>=0||_.find(t,function(e){return"sql-results"===e.tab_type})?React.createElement(F,{access_token:this.props.access_token}):void 0,ce.call(n,"python-gui")>=0||_.find(t,function(e){return"python-gui"===e.tab_type})?React.createElement(L,{access_token:this.props.access_token}):void 0,React.createElement(E,{access_token:this.props.access_token}),React.createElement(k,{access_token:this.props.access_token}),React.createElement(f,{access_token:this.props.access_token}));case"tasks":return ne({className:"left-sidebar__contents"},React.createElement(G,{access_token:this.props.access_token,toggleNavEnabled:this.toggleNavEnabled}));case"checks":return ne({className:"left-sidebar__contents"},React.createElement(X,{access_token:this.props.access_token,toggleNavEnabled:this.toggleNavEnabled}));case"submissions":return ne({className:"left-sidebar__contents"},React.createElement(y,{access_token:this.props.access_token,remote_editor:this.props.remote_editor}),this.props.remote_editor?void 0:React.createElement(v,{access_token:this.props.access_token}));case"settings":return ne({className:"left-sidebar__contents"},React.createElement(A,{access_token:this.props.access_token}),React.createElement(H,{access_token:this.props.access_token}),React.createElement(N,{access_token:this.props.access_token}),React.createElement(r,{access_token:this.props.access_token}),React.createElement(I,{access_token:this.props.access_token}),this.state.github_authed?ne(null,React.createElement(b,{access_token:this.props.access_token}),React.createElement(h,{access_token:this.props.access_token})):void 0,React.createElement(l,{access_token:this.props.access_token}));case"quizzes":return ne({className:"left-sidebar__contents"},React.createElement(P,{access_token:this.props.access_token}));case"snippets":return ne({className:"left-sidebar__contents"},React.createElement(B,{access_token:this.props.access_token}));case"publish":return ne({className:"left-sidebar__contents"},React.createElement(O),React.createElement(M),React.createElement(R,{access_token:this.props.access_token}));case"help":return ne({className:"left-sidebar__contents"},this.editorHelpScreen())}}.call(this))},editorHelpScreen:function(){return ne(null,ne({className:"settings-screen-section"},ne({className:"header-container"},ie({className:"header"},"Documentation")),ne({className:"contents"},ne({className:"row"},ne({className:"col-xs-12"},"Check out our content creation documentation ",ee({target:"_blank",href:"https://docs.next.tech/xyz/creator"},"here"),".")))),ne({className:"settings-screen-section"},ne({className:"header-container"},ie({className:"header"},"Contact Us")),ne({className:"contents"},ne({className:"row"},ne({className:"col-xs-12"},"Didn't find what you were looking for? Click ",ee({onClick:this.showIntercom},"here")," to send us a message.")))))}},e.exports=p},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h,m,g,b;i=n(23),o=n(15),({a:s,button:a,div:l,h2:u,hr:c,input:p,label:f,li:d,p:h,span:m,textarea:g,ul:b}=ReactDOMFactories),r=reactCreateClass({displayName:"SetupBuildScript",mixins:[mixins.AjaxMixin,mixins.FormMixin,Reflux.connect(o,"project")],propTypes:{access_token:PropTypes.string.isRequired},componentDidUpdate:function(){return autosize($("textarea.custom-height"))},reset:function(){return this.setState({build_script:this.state.project.default_build_script},()=>this.saveScript("build_script"))},render:function(){return l({className:"settings-screen-section"},l({className:"header-container"},u({className:"header"},"Build Script"),l({className:"description"},"Executable script to run before tests (compilation commands, etc.). Must complete in under 15 seconds. Begin with hashbang.")),l({className:"contents"},l({className:"row option"},l({className:"col-xs-12"},l(null,g({className:"form-control custom-height",placeholder:'#!/bin/bash\necho "Hello, world" > /root/sandbox/test.txt',name:"build_script",defaultValue:this.state.project.build_script,onChange:this.handleAutosavedChange.bind(null,this.saveScript.bind(null,"build_script",e=>i.setProperty("build_script",e.project.build_script)))})),l({className:"btn btn-link",onClick:this.reset},"Reset")))))}}),e.exports=r},function(e,t,n){var i,r,o,s,a,l,u,c;i=n(23),s=n(15),({div:a,h2:l,input:u,textarea:c}=ReactDOMFactories),({HelpCircle:o}=n(13)),r=reactCreateClass({displayName:"ComponentsFiles",mixins:[mixins.AjaxMixin,mixins.FormMixin,Reflux.connect(s,"project")],propTypes:{access_token:PropTypes.string.isRequired},render:function(){return a({id:"file-settings",className:"settings-screen-section"},a({className:"header-container"},l({className:"header"},"File Settings"),a({className:"description"},"Configure the file options to fit your use case.")),a({className:"contents"},a({className:"row"},a({className:"col-xs-12"},a({className:"option-container"},a({className:"option"},a({className:"option-header"},"File Actions Enabled",React.createElement(o,{text:"Allow users to create, upload, rename, and delete files."}))),a({className:"option-field pull-right"},a(null,React.createElement(Toggle,{checked:this.state.project.files_enabled,onChange:this.toggleSetting.bind(null,"files_enabled")})))))),a({className:"option-container option-wide"},a({className:"row top-margin-20"},a({className:"col-xs-12"},a({className:"option"},a({className:"option-header"},"Hidden Files Globs",React.createElement(o,{text:"Files that should be hidden from file navigation. Absolute filepath is matched. Add one glob per line."}))),a({className:"option-field pull-right"},c({className:"form-control",name:"hidden_files",defaultValue:this.state.project.hidden_files,onChange:this.handleAutosavedChange.bind(null,this.saveScript.bind(null,"hidden_files",function(e){return i.setProperty("hidden_files",e.project.hidden_files)}))})))))))}}),e.exports=r},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h,m,g,b,y;i=n(23),s=n(15),({div:a,h2:l,option:u,select:f,p:c,pre:p}=ReactDOMFactories),({table:d,tbody:h,td:m,th:g,thead:b,tr:y}=ReactDOMFactories),({HelpCircle:o}=n(13)),r=reactCreateClass({displayName:"ContainerSettings",mixins:[mixins.AjaxMixin,mixins.FormMixin,Reflux.connect(s,"project")],propTypes:{access_token:PropTypes.string.isRequired},updateProfile:function(e){return this.ajaxPatch(iRoutes.contents.update({id:this.state.project.content.id}),{internal:!0,data:{project:{profile:e.target.value}},success:function(e){return i.setProperty("profile",e.project.profile),confirm("Would you like to reload the page to load your resized disk? All unsaved file changes and tab configurations will be lost!")?location.reload():$.alert("Reload the page for your sandbox disk to be resized.")}})},render:function(){return a({className:"settings-screen-section"},a({className:"header-container"},l({className:"header"},"Sandbox Resources"),a({className:"description"},"Sandbox profile to use (see table for extra costs).")),a({className:"contents"},a({className:"row option"},a({className:"col-xs-12"},f({className:"form-control",name:"profile",onChange:this.updateProfile,value:this.state.project.profile||"small"},u({value:"small"},"Tier 1 (256MB)"),u({value:"medium"},"Tier 2 (512MB)"),u({value:"large"},"Tier 3 (1024MB)")))),a({className:"row"},a({className:"col-xs-12"},d({className:"table"},b(null,y(null,g(null,"Tier"),g(null,"RAM (Min)"),g(null,"RAM (Max)"),g(null,"CPU"),g(null,"Disk"),g(null,"Minute Multiple"))),h(null,y({className:`${"small"===this.state.project.profile?"success":""}`},m(null,"Tier 1"),m(null,"256 MB"),m(null,"512 MB"),m(null,"10% Priority 3"),m(null,"256 MB"),m(null,"None")),y({className:`${"medium"===this.state.project.profile?"success":""}`},m(null,"Tier 2"),m(null,"512 MB"),m(null,"1 GB"),m(null,"25% Priority 2"),m(null,"512 MB"),m(null,"2x")),y({className:`${"large"===this.state.project.profile?"success":""}`},m(null,"Tier 3"),m(null,"1 GB"),m(null,"2 GB"),m(null,"25% Priority 1"),m(null,"1 GB"),m(null,"4x")))))),a({className:"row"},a({className:"col-xs-12"},p(null,"CPU percentages are distributed across 16x shared 2.6 GHz Intel Xeon E5 VCPUs."))),a({className:"row"},a({className:"col-xs-12"},a({className:"callout info"},c(null,"In the editor your sandbox will use Tier 3 RAM/CPU. You can view memory usage in the navigation bar."))))))}}),e.exports=r},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h,m,g,b,y,v,x,w,k;i=n(337),l=n(817),r=n(110),s=n(818),({HelpCircle:a}=n(13)),({a:u,div:c,h2:p,h4:f,i:d,input:h,label:m,p:g,span:b}=ReactDOMFactories),({table:y,tbody:v,th:x,thead:w,tr:k}=ReactDOMFactories),o=reactCreateClass({displayName:"Directories",mixins:[mixins.AjaxMixin,mixins.ContentEditorFormMixin,mixins.FormMixin,mixins.StringMixin,Reflux.connect(l,"directories"),Reflux.connect(r,"content")],propTypes:{access_token:PropTypes.string.isRequired},getInitialState:function(){return{active_item:null,chmod:null,directory:"",form_shown:!1}},formFields:function(){return["chmod","directory"]},onCreate:function(){return this.closeForm(),this.ajaxPost(routes.projects.directories.create({access_token:this.props.access_token}),{data:{directory:{chmod:this.state.chmod,directory:this.state.directory}},success:i.createDirectory})},onUpdate:function(){var e;return e=this.state.active_item,this.closeForm(),this.ajaxPatch(routes.projects.directories.update({access_token:this.props.access_token,id:e.id}),{data:{directory:{chmod:this.state.chmod,directory:this.state.directory}},success:function(t){return i.updateDirectory(e,t)}})},onDelete:function(){var e;return e=this.state.active_item,this.closeForm(),this.ajaxDelete(routes.projects.directories.destroy({access_token:this.props.access_token,id:e.id}),{success:function(){return i.deleteDirectory(e)}})},valid:function(){return this.state.directory.trim()},render:function(){return c({className:"settings-screen-section"},this.state.form_shown?this.form():void 0,this.state.form_shown?void 0:this.view())},view:function(){var e,t;return c(null,c({className:"header-container"},p({className:"header"},"Directories"),c({className:"pull-right"},u({className:"btn btn-action btn-green bold",onClick:this.toggleCreateForm.bind(null,"New Directories","directories")},d({className:"far fa-plus"})," Track Directory")),c({className:"description"},"Directories can be watched to persist state through each session. The first directory is the starting directory for the file editor.")),c({className:"contents"},this.state.content.parent_id?c({className:"callout info"},f(null,"Not Required"),g(null,"Directories from the linked content will be used.")):this.state.directories.length>0?y({className:"table"},w(null,k(null,x(null,"Directory"),x(null,"Chmod"),x({className:"text-right"},"Actions"))),v(null,function(){var n,i,r,o;for(r=_.sortBy(this.state.directories,"t_created_at"),o=[],t=n=0,i=r.length;n<i;t=++n)e=r[t],o.push(React.createElement(s,{access_token:this.props.access_token,directory:e,idx:t,key:t,toggleForm:this.toggleItemForm}));return o}.call(this))):c({className:"callout info"},g(null,"No directories have been created yet."))))},fields:function(){return c(null,c({className:"row form-group"},c({className:"col-xs-10"},m(null,b({className:"required-asterisk"},"*"),b(null,"Directory Path"),React.createElement(a,{text:"Directory path to watch, e.g. /root/sandbox"})),h({className:"form-control",value:this.state.directory||"",name:"directory",onChange:this.handleChange})),c({className:"col-xs-2"},m(null,b(null,"Chmod"),React.createElement(a,{text:"(optional) Chmod to apply to files created to directory. Only used if this is the starting directory."})),h({className:"form-control",value:this.state.chmod||"",name:"chmod",onChange:this.handleChange}))))}}),e.exports=o},function(e,t,n){var i,r;i=n(337),r=[],e.exports=Reflux.createStore({listenables:i,mixins:[mixins.ItemMixin],setDirectories:function(e){return r=e,this.trigger(r)},createDirectory:function(e){return r.push(e),this.trigger(r)},updateDirectory:function(e,t){return r=this.updateItem(r,e,t),this.trigger(r)},deleteDirectory:function(e){return r=this.deleteItem(r,e),this.trigger(r)},getInitialState:function(){return r}})},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h;n(337),({a:r,button:o,code:s,div:a,h4:l,i:u,label:c,p:p,pre:f}=ReactDOMFactories),({td:d,tr:h}=ReactDOMFactories),i=reactCreateClass({displayName:"Directory",mixins:[mixins.AjaxMixin,mixins.ViewMixin],propTypes:{access_token:PropTypes.string.isRequired,directory:PropTypes.object.isRequired,idx:PropTypes.number.isRequired,toggleForm:PropTypes.func.isRequired},render:function(){return h(null,this.markdownElm({contents:`\`${this.props.directory.directory}\``,klass:"no-margin",elm:"td"}),d(null,this.props.directory.chmod||"None"),d({className:"text-right"},a({className:"pull-right"},a({className:"btn-group"},o({className:"btn btn-text btn-blue",onClick:this.props.toggleForm.bind(null,"update",this.props.directory,"Update Directory","directories")},u({className:"fas fa-pencil"})),o({className:"btn btn-text btn-red",disabled:0===this.props.idx,onClick:this.props.toggleForm.bind(null,"delete",this.props.directory,"Delete Directory","directories")},u({className:"fas fa-trash"}))))))}}),e.exports=i},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h,m,g,b,y,v,x,w;i=n(338),a=n(820),r=n(821),({HelpCircle:s}=n(13)),({a:l,div:u,h2:c,h4:p,i:f,input:d,label:h,p:m,span:g}=ReactDOMFactories),({table:b,tbody:y,th:v,thead:x,tr:w}=ReactDOMFactories),o=reactCreateClass({displayName:"GitHubFileLinks",mixins:[mixins.AjaxMixin,mixins.ContentEditorFormMixin,mixins.FormMixin,mixins.StringMixin,Reflux.connect(a,"github_file_links")],propTypes:{access_token:PropTypes.string.isRequired},getInitialState:function(){return{active_item:null,local_path:"/root/sandbox",remote_path:"",form_shown:!1}},formFields:function(){return["local_path","remote_path"]},onCreate:function(){return this.closeForm(),this.ajaxPost(routes.projects.github_file_links.create({access_token:this.props.access_token}),{data:{github_file_link:{local_path:this.state.local_path,remote_path:this.state.remote_path}},success:i.createGitHubFileLink})},onUpdate:function(){var e;return e=this.state.active_item,this.closeForm(),this.ajaxPatch(routes.projects.github_file_links.update({access_token:this.props.access_token,id:e.id}),{data:{github_file_link:{local_path:this.state.local_path,remote_path:this.state.remote_path}},success:function(t){return i.updateGitHubFileLink(e,t)}})},onDelete:function(){var e;return e=this.state.active_item,this.closeForm(),this.ajaxDelete(routes.projects.github_file_links.destroy({access_token:this.props.access_token,id:e.id}),{success:function(){return i.deleteGitHubFileLink(e)}})},valid:function(){return this.state.local_path.trim()&&this.state.remote_path.trim()},render:function(){return u({className:"settings-screen-section"},this.state.form_shown?this.form():void 0,this.state.form_shown?void 0:this.view())},view:function(){var e,t;return u(null,u({className:"header-container"},c({className:"header"},"GitHub File Links"),u({className:"pull-right"},l({className:"btn btn-action btn-green bold",onClick:this.toggleCreateForm.bind(null,"New github_file_links","github_file_links")},f({className:"far fa-plus"})," New Link")),u({className:"description"},"GitHub file links allow you to pull files or directories from a GitHub repository into your content.")),u({className:"contents"},this.state.github_file_links.length>0?b({className:"table"},x(null,w(null,v(null,"Remote Path"),v(null,"Local Path"),v({className:"text-right"},"Actions"))),y(null,function(){var n,i,o,s;for(o=_.sortBy(this.state.github_file_links,"t_created_at"),s=[],t=n=0,i=o.length;n<i;t=++n)e=o[t],s.push(React.createElement(r,{access_token:this.props.access_token,github_file_link:e,key:t,toggleForm:this.toggleItemForm}));return s}.call(this))):u({className:"callout info"},m(null,"No links have been created yet."))))},fields:function(){return u(null,u({className:"row form-group"},u({className:"col-xs-8"},h(null,g({className:"required-asterisk"},"*"),"Remote Path",React.createElement(s,{text:"The remote path in your GitHub repository."})),d({className:"form-control",value:this.state.remote_path,name:"remote_path",onChange:this.handleChange})),u({className:"col-xs-4"},h(null,g({className:"required-asterisk"},"*"),"Local Path",React.createElement(s,{text:"The local path on your content's filesystem."})),d({className:"form-control",value:this.state.local_path,name:"local_path",onChange:this.handleChange}))))}}),e.exports=o},function(e,t,n){var i,r;i=n(338),r=[],e.exports=Reflux.createStore({listenables:i,mixins:[mixins.ItemMixin],setGitHubFileLinks:function(e){return r=e,this.trigger(r)},createGitHubFileLink:function(e){return r.push(e),this.trigger(r)},updateGitHubFileLink:function(e,t){return r=this.updateItem(r,e,t),this.trigger(r)},deleteGitHubFileLink:function(e){return r=this.deleteItem(r,e),this.trigger(r)},getInitialState:function(){return r}})},function(e,t,n){var i,r,o,s,a,l,u;n(338),({a:r,button:o,div:s,i:a}=ReactDOMFactories),({td:l,tr:u}=ReactDOMFactories),i=reactCreateClass({displayName:"GitHubFileLink",mixins:[mixins.AjaxMixin,mixins.ViewMixin],propTypes:{access_token:PropTypes.string.isRequired,github_file_link:PropTypes.object.isRequired,toggleForm:PropTypes.func.isRequired},render:function(){return u(null,this.markdownElm({contents:`\`${this.props.github_file_link.remote_path}\``,klass:"no-margin",elm:"td"}),this.markdownElm({contents:`\`${this.props.github_file_link.local_path}\``,klass:"no-margin",elm:"td"}),l({className:"text-right"},s({className:"pull-right"},s({className:"btn-group"},o({className:"btn btn-text btn-blue",onClick:this.props.toggleForm.bind(null,"update",this.props.github_file_link,"Update Link","github_file_links")},a({className:"fas fa-pencil"})),o({className:"btn btn-text btn-red",onClick:this.props.toggleForm.bind(null,"delete",this.props.github_file_link,"Delete Link","github_file_links")},a({className:"fas fa-trash"}))))))}}),e.exports=i},function(e,t,n){var i,r,o,s,a,l,u;i=n(209),s=n(110),({div:a,h2:l,input:u}=ReactDOMFactories),({HelpCircle:o}=n(13)),r=reactCreateClass({displayName:"GitHubSyncSettings",mixins:[mixins.AjaxMixin,mixins.FormMixin,Reflux.connect(s,"content")],propTypes:{access_token:PropTypes.string.isRequired},saveBaseRepo:function(e){return i.setProperty("github_base_repo",e.target.value),this.ajaxPatch(iRoutes.contents.update({id:this.state.content.id}),{internal:!0,data:{content:{github_base_repo:e.target.value}}})},saveMdRepo:function(e){return i.setProperty("github_md_repo",e.target.value),this.ajaxPatch(iRoutes.contents.update({id:this.state.content.id}),{internal:!0,data:{content:{github_md_repo:e.target.value}}})},render:function(){return a({className:"settings-screen-section"},a({className:"header-container"},l({className:"header"},"GitHub Sync Settings"),a({className:"description"},"Repository for syncing instructions to GitHub.")),a({className:"contents"},a({className:"option-container"},a({className:"row"},a({className:"col-xs-12"},a({className:"option"},a({className:"option-header"},"Base Repository",React.createElement(o,{text:"The base content repository."}))))),a({className:"row"},a({className:"col-xs-12"},u({className:"form-control",value:this.state.content.github_base_repo||"",name:"github_base_repo",onChange:this.saveBaseRepo,placeholder:"username/reponame"})))),a({className:"option-container"},a({className:"row"},a({className:"col-xs-12"},a({className:"option"},a({className:"option-header"},"Markdown Repository",React.createElement(o,{text:"The repository for markdown instructions."}))))),a({className:"row"},a({className:"col-xs-12"},u({className:"form-control",value:this.state.content.github_md_repo||"",name:"github_md_repo",onChange:this.saveMdRepo,placeholder:"Leave blank to use Base Repository"}))))))}}),e.exports=r},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h,m,g,b,y,v,_,x,w,k;i=n(209),s=n(110),({a:a,button:l,div:u,h2:c,hr:p,input:f,li:d,p:h,span:m,textarea:v,ul:k}=ReactDOMFactories),({table:g,tbody:b,td:y,th:_,thead:x,tr:w}=ReactDOMFactories),({HelpCircle:o}=n(13)),r=reactCreateClass({displayName:"GradingSettings",mixins:[mixins.AjaxMixin,mixins.FormMixin,mixins.StringMixin,Reflux.connect(s,"content")],propTypes:{access_token:PropTypes.string.isRequired},getInitialState:function(){return{min_grade:100}},componentDidUpdate:function(){return autosize($("textarea.custom-height"))},saveFeedback:function(e){return this.ajaxPatch(iRoutes.contents.update({id:this.state.content.id}),{internal:!0,data:{content:{successful_feedback:this.state.successful_feedback,unsuccessful_feedback:this.state.unsuccessful_feedback}},success:function(e){return i.setProperty("successful_feedback",e.successful_feedback),i.setProperty("unsuccessful_feedback",e.unsuccessful_feedback)}})},updateAttempts:function(e){var t;if(t=e.target.value,!(parseInt(t)&&t<1))return this.setState({attempts:t}),this.ajaxPatch(iRoutes.contents.update({id:this.state.content.id}),{internal:!0,data:{content:{attempts:t}},success:function(e){return i.setProperty("attempts",e.attempts)}})},toggleRequireNoErrors:function(){var e;return e=this.state.content.require_no_errors,this.ajaxPatch(iRoutes.contents.update({id:this.state.content.id}),{internal:!0,data:{project:{require_no_errors:!e}},success:function(){return i.setProperty("require_no_errors",!e)}})},toggleSubmissionsEnabled:function(){var e;return e=this.state.content.submissions_enabled,this.ajaxPatch(iRoutes.contents.update({id:this.state.content.id}),{internal:!0,data:{content:{submissions_enabled:!e}},success:function(){return i.setProperty("submissions_enabled",!e)}})},render:function(){return u({className:"settings-screen-section"},u({className:"header-container"},c({className:"header"},"Grading Settings"),u({className:"description"},"Configure submissions and grading to change how users can submit their project.")),u({className:"contents"},u({className:"option-container"},u({className:"row top-margin-20"},u({className:"col-xs-12"},u({className:"option-header"},"Enable Submissions",React.createElement(o,{text:"Enable project submissions."})),u({className:"option-field pull-right"},u(null,React.createElement(Toggle,{checked:this.state.content.submissions_enabled,onChange:this.toggleSubmissionsEnabled})))))),u({className:"option-container"},u({className:"row top-margin-20"},u({className:"col-xs-12"},u({className:"option-header"},"Graded Attempts",React.createElement(o,{text:"Maximum number of submission attempts. Leave empty for Unlimited."})),u({className:"option-field pull-right"},f({className:"form-control",type:"number",min:1,name:"attempts",value:this.state.content.attempts||"",onChange:this.updateAttempts}))))),u({className:"option-container"},u({className:"row top-margin-20"},u({className:"col-xs-12"},u({className:"option-header"},"Require No Errors",React.createElement(o,{text:"Code containing an error (compilation or runtime) automatically receives a score of 0."})),u({className:"option-field pull-right"},u(null,React.createElement(Toggle,{checked:this.state.content.require_no_errors,onChange:this.toggleRequireNoErrors})))))),u({className:"option-container"},u({className:"row top-margin-20"},u({className:"col-xs-12"},u({className:"option-header"},"Unsuccessful Feedback",React.createElement(o,{text:`Provide feedback to display if submission grade percentage falls below ${this.state.min_grade}.`})),this.unsuccessfulFeedback()))),u({className:"option-container"},u({className:"row top-margin-20"},u({className:"col-xs-12"},u({className:"option-header"},"Successful Feedback",React.createElement(o,{text:`Provide feedback to display if submission grade percentage is ${this.state.min_grade}.`})),this.successfulFeedback())))))},unsuccessfulFeedback:function(){return u(null,v({className:"form-control custom-height",name:"unsuccessful_feedback",defaultValue:this.state.content.unsuccessful_feedback,onChange:this.handleAutosavedChange.bind(null,this.saveFeedback)}))},successfulFeedback:function(){return u(null,v({className:"form-control custom-height",name:"successful_feedback",defaultValue:this.state.content.successful_feedback,onChange:this.handleAutosavedChange.bind(null,this.saveFeedback)}))}}),e.exports=r},function(e,t,n){var i,r,o,s,a,l;i=n(23),s=n(15),n(209),({div:a,h2:l}=ReactDOMFactories),o=n(57).default,r=reactCreateClass({displayName:"InterfaceInstructions",mixins:[mixins.AjaxMixin,mixins.ImageMixin,Reflux.connect(s,"project")],updateInstructionsSize:function(e){return this.ajaxPatch(iRoutes.contents.update({id:this.state.project.content.id}),{internal:!0,data:{content:{instructions_width:e.value}},success:function(e){return i.setProperty("instructions_width",e.project.instructions_width)}})},render:function(){return a({id:"instructions",className:"settings-screen-section"},a({className:"header-container"},l({className:"header"},"Instructions Size"),a({className:"description"},"Choose the starting width of the instructions your content.")),a({className:"contents"},React.createElement(o,{value:this.state.project.instructions_width,options:[{label:"Thin (30%)",value:30},{label:"Wide (45%)",value:45},{label:"Entire (100%, disables workspace)",value:100}],onChange:this.updateInstructionsSize,clearable:!1})))}}),e.exports=r},function(e,t,n){var i,r,o,s,a,l,u,c,p,f;i=n(209),r=n(110),({div:l,h2:u,input:c,option:p,select:f}=ReactDOMFactories),({HelpCircle:o}=n(13)),a=n(57).default,s=reactCreateClass({displayName:"InterfaceBot",mixins:[mixins.AjaxMixin,mixins.FormMixin,Reflux.connect(r,"content")],propTypes:{access_token:PropTypes.string.isRequired},toggleCodeyEnabled:function(){return this.ajaxPatch(iRoutes.contents.update({id:this.state.content.id}),{internal:!0,data:{content:{codey_enabled:!this.state.content.codey_enabled}},success:function(e){return i.setProperty("codey_enabled",e.codey_enabled)}})},saveCodeyPersona:function(e){return this.ajaxPatch(iRoutes.contents.update({id:this.state.content.id}),{internal:!0,data:{content:{codey_persona:e.value}},success:function(e){return i.setProperty("codey_persona",e.codey_persona)}})},render:function(){return l({id:"interface-settings",className:"settings-screen-section"},l({className:"header-container"},u({className:"header"},"Bot Settings"),l({className:"description"},"Bot configuration.")),l({className:"contents"},l({className:"option-container"},l({className:"row top-margin-20"},l({className:"col-xs-12"},l({className:"option"},l({className:"option-header"},"Display Codey",React.createElement(o,{text:"Display feedback from Codey."}))),l({className:"option-field pull-right"},l(null,React.createElement(Toggle,{checked:this.state.content.codey_enabled,onChange:this.toggleCodeyEnabled})))))),l({className:"option-container"},l({className:"row top-margin-20 bottom-margin-20"},l({className:"col-xs-12"},l({className:"option"},l({className:"option-header"},"Codey Persona",React.createElement(o,{text:"The Codey persona to use."}))),l({className:"option-field pull-right"},l(null,React.createElement(a,{value:this.state.content.codey_persona,options:[{label:"Default",value:"default"},{label:"Construction",value:"construction"},{label:"Blackjack",value:"blackjack"}],onChange:this.saveCodeyPersona,disabled:!this.state.content.codey_enabled,clearable:!1}))))))))}}),e.exports=s},function(e,t,n){var i,r,o,s,a,l,u,c,p;n(23),s=n(15),n(209),i=n(110),({div:a,h2:l,input:u,option:c,select:p}=ReactDOMFactories),({HelpCircle:r}=n(13)),o=reactCreateClass({displayName:"InterfaceSettings",mixins:[mixins.AjaxMixin,mixins.FormMixin,Reflux.connect(i,"content"),Reflux.connect(s,"project")],propTypes:{access_token:PropTypes.string.isRequired},render:function(){return a({id:"interface-settings",className:"settings-screen-section"},a({className:"header-container"},l({className:"header"},"Interface Settings"),a({className:"description"},"Additional interface configuration options.")),a({className:"contents"},a({className:"option-container"},a({className:"row top-margin-20"},a({className:"col-xs-12"},a({className:"option"},a({className:"option-header"},"Enable Friendly Buttons",React.createElement(r,{text:"Display the circular blue action button on interface components."}))),a({className:"option-field pull-right"},a(null,React.createElement(Toggle,{checked:this.state.project.btns_enabled,onChange:this.toggleSetting.bind(null,"btns_enabled")})))))),a({className:"option-container"},a({className:"row top-margin-20"},a({className:"col-xs-12"},a({className:"option"},a({className:"option-header"},"Enable Directory Sidebar",React.createElement(r,{text:"Allow subdirectory access. If disabled, files will auto-open and not be closeable."}))),a({className:"option-field pull-right"},a(null,React.createElement(Toggle,{checked:!this.state.project.lite_mode_code_editor,onChange:this.toggleSetting.bind(null,"lite_mode_code_editor")})))))),a({className:"option-container"},a({className:"row top-margin-20"},a({className:"col-xs-12"},a({className:"option"},a({className:"option-header"},"Allow Command Line Access",React.createElement(r,{text:"Enable command line access via the terminal."}))),a({className:"option-field pull-right"},a(null,React.createElement(Toggle,{checked:!this.state.project.lite_mode_terminal,onChange:this.toggleSetting.bind(null,"lite_mode_terminal")})))))),a({className:"option-container"},a({className:"row top-margin-20"},a({className:"col-xs-12"},a({className:"option"},a({className:"option-header"},"Simple Web Browser",React.createElement(r,{text:"Only display / support HTML files using built-in file proxy."}))),a({className:"option-field pull-right"},a(null,React.createElement(Toggle,{checked:this.state.project.lite_mode_web_browser,onChange:this.toggleSetting.bind(null,"lite_mode_web_browser")}))))))))}}),e.exports=o},function(e,t,n){var i,r,o,s,a,l,u=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};i=n(23),s=n(15),r=n(110),a=ReactDOMFactories.div,l=ReactDOMFactories.h2,o=reactCreateClass({displayName:"InterfaceTabs",mixins:[mixins.AjaxMixin,mixins.FormMixin,Reflux.connect(r,"content"),Reflux.connect(s,"project")],propTypes:{access_token:PropTypes.string.isRequired},componentWillMount:function(){var e,t;return this.tab_types=["full-gui","jupyter-notebook","python-gui","sql-results","terminal","web-browser"],e={},_.each(this.tab_types,(t=this,function(n){return e[n]=u.call(t.state.project.tabs_enabled,n)>=0})),this.setState(e)},updateTabTypesEnabled:function(e){var t,n;return(t={})[e]=!this.state[e],this.setState(t,(n=this,function(){var e;return e=[],_.each(n.tab_types,function(t){if(n.state[t])return e.push(t)}),e.length||(e=[""]),n.ajaxPatch(iRoutes.contents.update({id:n.state.content.id}),{internal:!0,data:{content:{tabs_enabled:e}},success:function(e){return i.setProperty("tabs_enabled",e.tabs_enabled)}})}))},render:function(){var e,t,n;return n=[["full-gui","GUI Viewer"],["jupyter-notebook","Jupyter Notebook"],["python-gui","Python GUI"],["sql-results","SQL Results Viewer"],["terminal","Terminal"],["web-browser","Web Browser"]],a({id:"interface-settings",className:"settings-screen-section"},a({className:"header-container"},l({className:"header"},"Tabs Enabled"),a({className:"description"},"Select the tab types the user can create during the content.")),a({className:"contents"},function(){var i,r,o,s;for(s=[],i=0,r=n.length;i<r;i++)t=(o=n[i])[0],e=o[1],s.push(a({className:"option-container top-margin-20",key:t},a({className:"row"},a({className:"col-xs-12"},a({className:"option"},a({className:"option-header"},"Enable "+e)),a({className:"option-field pull-right"},a(null,React.createElement(Toggle,{checked:this.state[t],onChange:this.updateTabTypesEnabled.bind(null,t)})))))));return s}.call(this)))}}),e.exports=o},function(e,t,n){var i,r,o,s,a,l,u,c,p;i=n(209),r=n(110),({div:a,h2:l,input:u,option:c,select:p}=ReactDOMFactories),({HelpCircle:o}=n(13)),s=reactCreateClass({displayName:"InterfaceTasks",mixins:[mixins.AjaxMixin,mixins.FormMixin,Reflux.connect(r,"content")],propTypes:{access_token:PropTypes.string.isRequired},toggleRunChecksEnabled:function(){return this.ajaxPatch(iRoutes.contents.update({id:this.state.content.id}),{internal:!0,data:{content:{run_checks_enabled:!this.state.content.run_checks_enabled}},success:function(e){return i.setProperty("run_checks_enabled",e.run_checks_enabled)}})},render:function(){return a({id:"interface-settings",className:"settings-screen-section"},a({className:"header-container"},l({className:"header"},"Task Settings"),a({className:"description"},"Task configuration.")),a({className:"contents"},a({className:"option-container"},a({className:"row top-margin-20"},a({className:"col-xs-12"},a({className:"option"},a({className:"option-header"},"Enable Run Checks",React.createElement(o,{text:"Show the Run Checks button."}))),a({className:"option-field pull-right"},a(null,React.createElement(Toggle,{checked:this.state.content.run_checks_enabled,onChange:this.toggleRunChecksEnabled}))))))))}}),e.exports=s},function(e,t,n){var i,r,o,s,a,l,u,c,p,f;i=n(23),s=n(15),a=n(99),l=n(205),({div:u,h2:c,img:p,p:f}=ReactDOMFactories),o=n(57).default,r=reactCreateClass({displayName:"InterfaceLayout",mixins:[mixins.AjaxMixin,mixins.ImageMixin,mixins.StringMixin,Reflux.connect(s,"project"),Reflux.connect(l,"tabs")],pane_count:function(e){return{"zero-pane":0,"one-pane":1,"two-pane-tall":2,"two-pane-wide":2,"three-pane":3}[e]},updateLayout:function(e){var t,n,r,o;if(r=e.value,n=this.state.project.layout,t=!0,(o=this.pane_count(r)<this.pane_count(n))&&_.find(this.state.tabs,e=>e.pane_position>this.pane_count(r))&&(t=confirm("The tabs in the deleted pane(s) will also be removed.")),t)return this.ajaxPatch(iRoutes.contents.update({id:this.state.project.content.id}),{internal:!0,data:{project:{layout:r}},success:e=>{if(i.setProperty("layout",e.project.layout),i.setProperty("panes",e.project.panes),o)return a.removeTabsFromDeletedPanes(e.project.panes)}})},render:function(){return u({id:"layout",className:"settings-screen-section"},u({className:"header-container"},c({className:"header"},"Interface Layout"),u({className:"description"},"Customize the layout of your content.")),u({className:"contents"},100===this.state.project.instructions_width?u({className:"callout info"},"Only instructions will be shown in this content."):React.createElement(o,{value:this.state.project.layout,options:[{label:"One Pane",value:"one-pane"},{label:"Two Pane (Vertical)",value:"two-pane-tall"},{label:"Two Pane (Horizontal)",value:"two-pane-wide"},{label:"Three Pane",value:"three-pane"}],onChange:this.updateLayout,clearable:!1})))}}),e.exports=r},function(e,t,n){var i,r,o,s,a,l,u;i=n(23),s=n(15),({div:a,h2:l,input:u}=ReactDOMFactories),({HelpCircle:r}=n(13)),o=reactCreateClass({displayName:"Option",mixins:[mixins.AjaxMixin,mixins.FormMixin,Reflux.connect(s,"project")],propTypes:{access_token:PropTypes.string.isRequired},render:function(){return a({className:"settings-screen-section"},a({className:"header-container"},l({className:"header"},"Program Entry Point"),a({className:"description"},"Lock file used when running and submitting project. If left empty, currently open file is used.")),a({className:"contents"},a({className:"row option"},a({className:"col-xs-12"},u({className:"form-control",name:"option",defaultValue:this.state.project.option||"",onChange:this.handleAutosavedChange.bind(null,this.saveScript.bind(null,"option",e=>i.setProperty("option",e.project.option)))})))))}}),e.exports=o},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h,m,g;i=n(23),o=n(15),({a:s,button:a,div:l,h2:u,hr:c,input:p,li:f,p:d,span:h,textarea:m,ul:g}=ReactDOMFactories),r=reactCreateClass({displayName:"SetupPresaveScript",mixins:[mixins.AjaxMixin,mixins.FormMixin,Reflux.connect(o,"project")],propTypes:{access_token:PropTypes.string.isRequired},componentDidUpdate:function(){return autosize($("textarea.custom-height"))},reset:function(){return this.setState({presave_script:this.state.project.default_presave_script},()=>this.saveScript("presave_script"))},render:function(){return l({className:"settings-screen-section"},l({className:"header-container"},u({className:"header"},"Presave Script"),l({className:"description"},"Executable script to run before project directories are saved (database dumps, etc.). Must complete in under 15 seconds. Begin with hashbang. Script runs from /tmp directory.")),l({className:"contents"},l({className:"row option"},l({className:"col-xs-12"},m({className:"form-control custom-height",placeholder:'#!/bin/bash\necho "Hello, world" > /root/sandbox/test.txt',name:"presave_script",defaultValue:this.state.project.presave_script,onChange:this.handleAutosavedChange.bind(null,this.saveScript.bind(null,"presave_script",e=>i.setProperty("presave_script",e.project.presave_script)))}),l({className:"btn btn-link",onClick:this.reset},"Reset")))))}}),e.exports=r},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h;o=n(110),({a:s,button:a,code:l,div:u,h2:c,input:p,p:f,pre:d,span:h}=ReactDOMFactories),({HelpCircle:i}=n(13)),r=reactCreateClass({displayName:"PublishLMS",mixins:[Reflux.connect(o,"content")],getInitialState:function(){return{show_keys:!1}},render:function(){return u({className:"settings-screen-section"},u({className:"header-container"},c({className:"header"},"Learning Platform"),u({className:"description"},"Embed this content in any LTI v1.1 or v1.2 compatible learning management system.")),u({className:"contents"},u({className:"row"},u({className:"col-xs-12"},u({className:"option-container"},u({className:"option"},u({className:"option-header"},"Learning Tool Interoperability (LTI) URL",React.createElement(i,{text:"This content's LTI launch URL."})),u({className:"top-margin-20"},d({className:"generated-link"},l(null,`${window.api_url}/api/v1/lti/load?content_id=${this.state.content.identifier}`))))))),u({className:"row"},u({className:"col-xs-12"},u({className:"option-container top-margin-20"},u({className:"option"},u({className:"option-header"},"Publishable Key",React.createElement(i,{text:'Your publishable (or "consumer") key.'})),p({disabled:!0,className:"key-input",type:this.state.show_keys?"text":"password",value:this.state.content.publishable_key}))))),u({className:"row"},u({className:"col-xs-12"},u({className:"option-container top-margin-20"},u({className:"option"},u({className:"option-header"},"Secret Key",React.createElement(i,{text:"Your secret key (don't share this!)."})),p({disabled:!0,className:"key-input",type:this.state.show_keys?"text":"password",value:this.state.content.secret_key}))))),u({className:"row"},u({className:"col-xs-12"},a({className:"btn btn-link",onClick:()=>this.setState({show_keys:!this.state.show_keys})},`${this.state.show_keys?"Hide":"Show"} Keys`)))))}}),e.exports=r},function(e,t,n){var i,r,o,s,a,l;i=n(209),s=n(110),({div:a,h2:l}=ReactDOMFactories),({HelpCircle:r}=n(13)),o=reactCreateClass({displayName:"PublishMaintenance",mixins:[mixins.AjaxMixin,mixins.FormMixin,Reflux.connect(s,"content")],propTypes:{access_token:PropTypes.string.isRequired},toggleMaintenance:function(){var e;return e=this.state.content.maintenance,i.setProperty("maintenance",!e),this.ajaxPatch(iRoutes.contents.update({id:this.state.content.id}),{internal:!0,data:{content:{maintenance:!e}}})},render:function(){return a({className:"settings-screen-section"},a({className:"header-container"},l({className:"header"},"Settings"),a({className:"description"},"Limit access to content during edits.")),a({className:"contents"},a({className:"row"},a({className:"col-xs-6"},a({className:"option-container option-wide"},a({className:"option"},a({className:"option-header"},"Enter Maintenance Mode",React.createElement(r,{text:"Put content into maintenance mode (users will not be able to access new or existing projects created from this content)."}))))),a({className:"option-field pull-right"},a(null,React.createElement(Toggle,{checked:this.state.content.maintenance,onChange:this.toggleMaintenance}))))))}}),e.exports=o},function(e,t,n){var i,r,o,s,a,l,u,c,p,f;s=n(110),({HelpCircle:i}=n(13)),({a:a,code:l,div:u,h2:c,pre:p,span:f}=ReactDOMFactories),o=n(57).default,r=reactCreateClass({displayName:"PublishWebsite",mixins:[Reflux.connect(s,"content")],getInitialState:function(){return{embed:"publishable_key"}},types:function(){var e;return(e={}).publishable_key="Using a Publishable Key",e.access_token="Using an Access Token",e.custom="Using a Publishable Key + Custom User Data",e.thinkific_mm="Into a Thinkific Course (Multimedia Content)",e.thinkific="Into a Thinkific Course (Text Content)",e.teachable="Into a Teachable Course (Text Content)",e},embedTypes:function(){return _.map(this.types(),function(e,t){return{value:t,label:e}})},setType:function(e){return this.setState({embed:e.value})},getCode:function(){var e,t,n,i,r;switch(this.state.embed){case"thinkific_mm":return`${window.api_url}/api/v1/publishable_key/${this.state.content.publishable_key}?content_id=${this.state.content.identifier}&first_name={{first_name}}&last_name={{last_name}}&email={{email}}&user_id={{email}}&security_check={{date_created}}&provider=thinkific_mm`;default:switch(n={thinkific:'style="height: calc(100vh - 120px);"',teachable:'style="height: calc(100vh - 150px);"'},t=`${window.api_url}/api/v1/publishable_key/${this.state.content.publishable_key}`+`?content_id=${this.state.content.identifier}`,e=" onload=\"(function(){codevolveScript = this.document.createElement('script');codevolveScript.type = 'text/javascript';codevolveScript.src = '"+`${root_url}/assets/provider.js';`+'this.document.body.appendChild(codevolveScript);})(this);"',i="",this.state.embed){case"access_token":r=`${window.api_url}/api/v1/access_token/ACCESS_TOKEN`;break;case"publishable_key":r=t;break;default:r=`${t}&provider=${this.state.embed}`,i=e}return`<iframe id="codevolve-project-frame" src="${r}" `+'frameBorder="0" marginHeight="0" marginWidth="0" '+`${n[this.state.embed]||'height="768px"'} width="100%" allowfullscreen webkitallowfullscreen mozallowfullscreen ${i}></iframe>`}},render:function(){return u({className:"settings-screen-section"},u({className:"header-container"},c({className:"header"},"Website"),u({className:"description"},"Embed this content in your website or learning platform with one of the options below.")),u({className:"contents"},u({className:"row"},u({className:"col-xs-12"},u({className:"option-container option-wide"},u({className:"option"},u({className:"option-header"},"Embed Code"),React.createElement(o,{value:this.state.embed,options:this.embedTypes(),onChange:this.setType,placeholder:"Select an embed type",clearable:!1}),p({className:"embed-code"},l(null,this.getCode()))))))))}}),e.exports=r},function(e,t,n){var i,r,o,s,a,l,u;i=n(23),s=n(15),({div:a,h2:l,input:u}=ReactDOMFactories),({HelpCircle:o}=n(13)),r=reactCreateClass({displayName:"ComponentsPythonGUI",mixins:[mixins.AjaxMixin,mixins.FormMixin,Reflux.connect(s,"project")],propTypes:{access_token:PropTypes.string.isRequired},render:function(){return a({id:"python-gui-settings",className:"settings-screen-section"},a({className:"header-container"},l({className:"header"},"Python GUI Settings"),a({className:"description"},"Configure the Python GUI to fit your use case.")),a({className:"contents"},a({className:"option-container"},a({className:"row"},a({className:"col-xs-12"},a({className:"option-header"},"Background Color",React.createElement(o,{text:"The default background color CSS for the canvas."})),u({className:"form-control",name:"python_gui_color",defaultValue:this.state.project.python_gui_color,onChange:this.handleAutosavedChange.bind(null,this.saveScript.bind(null,"python_gui_color",function(e){return i.setProperty("python_gui_color",e.project.python_gui_color)}))}))))))}}),e.exports=r},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h,m,g,b,y,v,x,w,k,S,C;i=n(335),u=n(367),s=n(837),a=n(838),({a:c,button:p,div:f,h2:d,h3:h,i:m,input:g,span:v,label:b,p:y}=ReactDOMFactories),({table:x,tbody:w,th:k,thead:S,tr:C}=ReactDOMFactories),({HelpCircle:r}=n(13)),o=n(218),l=reactCreateClass({displayName:"Quizzes",mixins:[mixins.AjaxMixin,mixins.ContentEditorFormMixin,mixins.FormMixin,mixins.ItemMixin,mixins.StringMixin,Reflux.connect(u,"quizzes")],propTypes:{access_token:PropTypes.string.isRequired},getInitialState:function(){return{active_item:null,answers:[],correct_message:"",form_shown:!1,form_state:"",incorrect_message:"",multiple:!1,question:"",retake:!0,shuffle:!1,summary:""}},componentWillUpdate:function(e,t){var n,i,r,o,s;if(!t.multiple&&t.multiple!==this.state.multiple){for(s=[],r=0,o=(i=this.state.answers).length;r<o;r++)(n=i[r]).correct=!1,s.push(this.setState({answers:this.updateItem(this.state.answers,n,n)}));return s}},formFields:function(){return["answers","correct_message","incorrect_message","multiple","question","retake","summary"]},onCreate:function(){return this.state.active_item,this.closeForm(),this.ajaxPost(routes.projects.quizzes.create({access_token:this.props.access_token}),{data:{quiz:{answers_attributes:this.safeAnswers(),correct_message:this.state.correct_message,incorrect_message:this.state.incorrect_message,multiple:this.state.multiple,question:this.state.question,retake:this.state.retake,shuffle:this.state.shuffle,summary:this.state.summary}},success:function(e){return i.createQuiz(e)}})},onUpdate:function(){var e;return e=this.state.active_item,this.closeForm(),this.ajaxPatch(routes.projects.quizzes.update({access_token:this.props.access_token,id:e.id}),{data:{quiz:{answers_attributes:this.safeAnswers(),correct_message:this.state.correct_message,incorrect_message:this.state.incorrect_message,multiple:this.state.multiple,question:this.state.question,retake:this.state.retake,shuffle:this.state.shuffle,summary:this.state.summary}},success:function(t){return i.updateQuiz(e,t)}})},onDelete:function(){var e;return e=this.state.active_item,this.closeForm(),this.ajaxDelete(routes.projects.quizzes.destroy({access_token:this.props.access_token,id:this.state.active_item.id}),{success:function(t){return i.deleteQuiz(e)}})},createAnswer:function(){var e;return e={id:Math.random().toString().substr(2),contents:"",correct:!1},this.setState({answers:this.createItem(this.state.answers,e)})},updateAnswer:function(e){return this.setState({answers:this.updateItem(this.state.answers,e,e)})},removeAnswer:function(e){return e._destroy="1",this.setState({answers:this.updateItem(this.state.answers,e,e)})},safeAnswers:function(){return _.map(this.state.answers,function(e){return e.created_at?e:{contents:e.contents,correct:e.correct}})},valid:function(){return this.state.summary&&this.state.question&&this.state.answers.length>0&&_.find(this.state.answers,function(e){return e.correct})&&!_.reject(this.state.answers,"contents").length},render:function(){return f({id:"quizzes",className:"settings-screen-section"},this.state.form_shown?this.form():void 0,this.state.form_shown?void 0:this.view())},view:function(){var e;return f(null,f({className:"header-container"},d({className:"header"},"Quizzes"),f({className:"pull-right"},c({className:"btn btn-action btn-green bold",onClick:this.toggleCreateForm.bind(null,"New Quiz","quizzes")},v({className:"far fa-plus"})," New Quiz")),f({className:"description"},"Add short quizzes to embed in instructions.")),f({className:"contents"},this.state.quizzes.length?x({className:"table"},S(null,C(null,k(null,"Summary"),k({className:"text-right"},"Actions"))),w(null,function(){var t,n,i,r;for(r=[],t=0,n=(i=_.sortBy(this.state.quizzes,"t_created_at")).length;t<n;t++)e=i[t],r.push(React.createElement(s,{access_token:this.props.access_token,key:e.id,quiz:e,toggleForm:this.toggleItemForm}));return r}.call(this))):f({className:"callout info"},y(null,"No quizzes have been created yet."))))},fields:function(){return f(null,h({className:"top-margin-20"},"Question"),this.quizFields(),h({className:"top-margin-20"},"Answers"),this.answerFields())},quizFields:function(){return f(null,f({className:"header-container"},d({className:"header"},"Quizzes")),f({className:"form-group row"},f({className:"col-xs-12"},b(null,v({className:"required-asterisk"},"*"),"Summary"),g({type:"text",className:"form-control",name:"summary",value:this.state.summary,onChange:this.handleChange}))),f({className:"form-group row"},f({className:"col-xs-12"},b(null,v({className:"required-asterisk"},"*"),"Question"),f({className:"markdown-editor-outer"},React.createElement(o,{autoFocus:!1,inital_value:this.state.question,status:!1,onChange:e=>this.setState({question:e})})))),f({className:"form-group row"},f({className:"col-xs-12"},b(null,"Incorrect Message",React.createElement(r,{text:"Optional message to display on incorrect quiz submission."})),f({className:"markdown-editor-outer"},React.createElement(o,{autoFocus:!1,inital_value:this.state.incorrect_message,onChange:e=>this.setState({incorrect_message:e}),status:!1,toolbar:!1})))),f({className:"form-group row"},f({className:"col-xs-12"},b(null,"Correct Message",React.createElement(r,{text:"Optional message to display on correct quiz submission."})),f({className:"markdown-editor-outer"},React.createElement(o,{autoFocus:!1,inital_value:this.state.correct_message,onChange:e=>this.setState({correct_message:e}),status:!1,toolbar:!1})))),f({className:"row form-group"},f({className:"col-xs-3"},b(null,"Multiple",React.createElement(r,{text:"Allow for multiple correct answers."})),f(null,React.createElement(Toggle,{checked:this.state.multiple,onChange:()=>this.setState({multiple:!this.state.multiple})}))),f({className:"col-xs-4"},b(null,"Shuffle Answers",React.createElement(r,{text:"Randomly order the answers when the quiz loads."})),f(null,React.createElement(Toggle,{checked:this.state.shuffle,onChange:()=>this.setState({shuffle:!this.state.shuffle})}))),f({className:"col-xs-4"},b(null,"Enable Retakes",React.createElement(r,{text:"Allow user to retake quiz an unlimited number of times."})),f(null,React.createElement(Toggle,{checked:this.state.retake,onChange:()=>this.setState({retake:!this.state.retake})})))))},answerFields:function(){var e;return f(null,f({className:"form-group row"},f({className:"col-xs-12"},function(){var t,n,i,r;for(r=[],t=0,n=(i=_.reject(this.state.answers,function(e){return e._destroy})).length;t<n;t++)e=i[t],r.push(React.createElement(a,{key:e.id,answer:e,enabled:this.state.multiple||e.correct||!_.find(this.state.answers,"correct"),onUpdate:this.updateAnswer,onDelete:this.removeAnswer}));return r}.call(this),this.state.answers.length?void 0:f({className:"callout danger"},"No answers created yet."))),f({className:"row bottom-margin-20"},f({className:"col-xs-12 text-center"},c({className:"btn btn-action btn-blue bold",onClick:this.createAnswer},"New Answer"))))}}),e.exports=l},function(e,t){var n,i,r,o,s,a,l,u,c,p,f;({a:i,button:r,code:o,div:s,h4:a,i:l,label:u,p:c}=ReactDOMFactories),({td:p,tr:f}=ReactDOMFactories),n=reactCreateClass({displayName:"Quiz",mixins:[mixins.AjaxMixin,mixins.StringMixin,mixins.ViewMixin],propTypes:{quiz:PropTypes.object.isRequired},render:function(){return f(null,this.markdownElm({contents:this.props.quiz.summary,klass:"no-margin",elm:"td"}),p({className:"text-right"},s({className:"btn-group"},r({className:"btn btn-text btn-blue",onClick:this.props.toggleForm.bind(null,"update",this.props.quiz,"Update Quiz","quizzes")},l({className:"fas fa-pencil"})),r({className:"btn btn-text btn-red",onClick:this.props.toggleForm.bind(null,"delete",this.props.quiz,"Delete Quiz","quizzes")},l({className:"fas fa-trash"})))))}}),e.exports=n},function(e,t,n){var i,r,o,s,a,l,u,c;({a:s,div:a,i:l,label:u,span:c}=ReactDOMFactories),r=n(218),({HelpCircle:i}=n(13)),o=reactCreateClass({displayName:"QuizAnswer",propTypes:{answer:PropTypes.object,enabled:PropTypes.bool,onUpdate:PropTypes.func.isRequired,onDelete:PropTypes.func.isRequired},setContents:function(e){var t;return(t=this.props.answer).contents=e,this.props.onUpdate(t)},toggleCorrect:function(){var e;return(e=this.props.answer).correct=!this.props.answer.correct,this.props.onUpdate(e)},render:function(){return a({className:"quiz-answer"},a({className:"form-group row"},a({className:"col-xs-12"},u(null,c({className:"required-asterisk"},"*"),c(null,"Answer")),a({className:"markdown-editor-outer"},React.createElement(r,{autoFocus:!1,inital_value:this.props.answer.contents,status:!1,toolbar:!1,onChange:this.setContents})))),a({className:"row form-group"},a({className:"col-xs-3"},u(null,c(null,"Correct"),React.createElement(i,{text:"This answer is correct."})),a(null,React.createElement(Toggle,{disabled:!this.props.enabled,checked:this.props.answer.correct,onChange:this.toggleCorrect}))),a({className:"col-xs-2 col-xs-offset-7 text-right"},s({className:"btn btn-text btn-red",onClick:()=>this.props.onDelete(this.props.answer)},l({className:"fas fa-trash"})))))}}),e.exports=o},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h,m,g,b;i=n(23),o=n(15),({a:s,button:a,div:l,h2:u,hr:c,input:p,label:f,li:d,p:h,span:m,textarea:g,ul:b}=ReactDOMFactories),r=reactCreateClass({displayName:"SetupRunCommand",mixins:[mixins.AjaxMixin,mixins.FormMixin,Reflux.connect(o,"project")],propTypes:{access_token:PropTypes.string.isRequired},reset:function(){return this.setState({run_command:this.state.project.default_run_command},()=>this.saveScript("run_command"))},render:function(){return l({className:"settings-screen-section"},l({className:"header-container"},u({className:"header"},"Run Command"),l({className:"description"},"Command to use when running project.")),l({className:"contents"},l({className:"row option"},l({className:"col-xs-12"},l(null,p({className:"form-control",name:"run_command",defaultValue:this.state.project.run_command,onChange:this.handleAutosavedChange.bind(null,this.saveScript.bind(null,"run_command",e=>i.setProperty("run_command",e.project.run_command)))})),l({className:"btn btn-link",onClick:this.reset},"Reset")))))}}),e.exports=r},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h,m,g,b,y,v,x,w,k,S,C,E;i=n(370),u=n(550),o=n(15),a=n(841),s=n(57).default,({a:c,button:p,div:f,h2:d,h4:h,hr:m,i:g,input:b,span:x,label:y,p:v}=ReactDOMFactories),({table:w,tbody:k,th:S,thead:C,tr:E}=ReactDOMFactories),({HelpCircle:r}=n(13)),l=reactCreateClass({displayName:"Snippets",mixins:[mixins.AjaxMixin,mixins.ContentEditorFormMixin,mixins.FormMixin,mixins.StringMixin,Reflux.connect(o,"project"),Reflux.connect(u,"snippets")],propTypes:{access_token:PropTypes.string.isRequired},getInitialState:function(){return{active_item:null,autoclear:!0,autosize:!0,detail:"/root/sandbox/",form_shown:!1,form_state:"",height:"",line:1,regex:"",snippet_type:"executable-code",summary:null,terminal_command:""}},componentWillUpdate:function(e,t){if(t.autosize&&!this.state.autosize)return this.setState({height:null})},formFields:function(){return["autoclear","autosize","detail","height","line","regex","snippet_type","summary","terminal_command"]},snippetTypes:function(){return[{value:"executable-code",label:"Executable Code"},{value:"code-editor",label:"Code Editor"},{value:"terminal",label:"Terminal"},{value:"web-browser",label:"Web Browser"}]},setSnippetType:function(e){switch(this.setState({snippet_type:e.value}),e.value){case"code-editor":case"executable-code":return this.setState({detail:`${this.state.project.default_pwd}/`,height:""});case"terminal":return this.setState({detail:"/bin/bash",height:"100px",autosize:!1});case"web-browser":return this.setState({detail:"{{localhost}}",height:"300px",autosize:!1})}},onCreate:function(){return this.state.active_item,this.closeForm(),this.ajaxPost(routes.projects.snippets.create({access_token:this.props.access_token}),{data:{snippet:{autoclear:this.state.autoclear,autosize:this.state.autosize,detail:this.state.detail,height:this.state.height,line:this.state.line,regex:this.state.regex,snippet_type:this.state.snippet_type,summary:this.state.summary,terminal_command:this.state.terminal_command}},success:function(e){return i.createSnippet(e)}})},onUpdate:function(){var e;return e=this.state.active_item,this.closeForm(),this.ajaxPatch(routes.projects.snippets.update({access_token:this.props.access_token,id:e.id}),{data:{snippet:{autoclear:this.state.autoclear,autosize:this.state.autosize,detail:this.state.detail,height:this.state.height,line:this.state.line,regex:this.state.regex,snippet_type:this.state.snippet_type,summary:this.state.summary,terminal_command:this.state.terminal_command}},success:function(t){return i.updateSnippet(e,t)}})},onDelete:function(){var e;return e=this.state.active_item,this.closeForm(),this.ajaxDelete(routes.projects.snippets.destroy({access_token:this.props.access_token,id:this.state.active_item.id}),{success:function(t){return i.deleteSnippet(e)}})},valid:function(){return this.state.summary&&this.state.detail&&this.state.snippet_type&&(this.state.height||["code-editor","executable-code"].indexOf(this.state.snippet_type)>-1&&this.state.autosize)},note:function(){switch(this.state.snippet_type){case"code-editor":case"executable-code":return"file path";case"terminal":return"starting command";case"web-browser":return"starting URL"}},render:function(){return f({id:"snippets",className:"settings-screen-section"},this.state.form_shown?this.form():void 0,this.state.form_shown?void 0:this.view())},view:function(){var e;return f(null,f({className:"header-container"},d({className:"header"},"Snippets"),f({className:"actions pull-right"},c({className:"btn btn-action btn-green bold",onClick:this.toggleCreateForm.bind(null,"New Snippet","snippets")},x({className:"far fa-plus"})," New Snippet")),f({className:"description"},"Add interactive snippets to embed in instructions.")),f({className:"contents"},this.state.snippets.length?w({className:"table"},C(null,E(null,S(null,"Type"),S(null,"Summary"),S({className:"text-right"},"Actions"))),k(null,function(){var t,n,i,r;for(r=[],t=0,n=(i=_.sortBy(this.state.snippets,"t_created_at")).length;t<n;t++)e=i[t],r.push(React.createElement(a,{access_token:this.props.access_token,key:e.id,snippet:e,toggleForm:this.toggleItemForm}));return r}.call(this))):f({className:"callout info"},v(null,"No snippets have been created yet."))))},fields:function(){return f(null,f({className:"header-container"},d({className:"header"},"Snippets")),f({className:"row form-group"},f({className:"col-xs-12"},y(null,x({className:"required-asterisk"},"*"),x(null,"Snippet Type")),React.createElement(s,{value:this.state.snippet_type,options:this.snippetTypes(),onChange:this.setSnippetType,placeholder:"Select a snippet type",clearable:!1}))),f({className:"row form-group"},f({className:"col-xs-12"},y(null,x({className:"required-asterisk"},"*"),x(null,"Summary")),b({type:"text",className:"form-control",name:"summary",value:this.state.summary||"",onChange:this.handleChange}))),f({className:"row form-group"},f({className:"col-xs-12"},y(null,x({className:"required-asterisk"},"*"),x(null,_.map(this.note().split(" "),this.capitalize).join(" ")),React.createElement(r,{text:`${this.capitalize(this.note())} to load. Use absolute path for files.`})),b({type:"text",className:"form-control",name:"detail",value:this.state.detail||"",onChange:this.handleChange}))),f({className:"row form-group"},"code-editor"===this.state.snippet_type||"executable-code"===this.state.snippet_type?f({className:"col-xs-4"},y(null,x(null,"Auto Size"),React.createElement(r,{text:"Auto size the snippet to the code height."})),f(null,React.createElement(Toggle,{checked:this.state.autosize,onChange:()=>this.setState({autosize:!this.state.autosize})}))):void 0,f({className:"col-xs-4"},y(null,x(null,"Height CSS"),React.createElement(r,{text:"Height of snippet."})),b({type:"text",className:`form-control ${this.state.auto||this.state.height?"":"has-danger"}`,name:"height",placeholder:this.state.autosize?void 0:"300px",value:this.state.autosize?"":this.state.height,onChange:this.handleChange,disabled:this.state.autosize}))),"executable-code"===this.state.snippet_type?f(null,m({className:"top-margin-20"}),f({className:"row"},f({className:"col-xs-12"},h({className:"bold"},"Terminal Settings"))),f({className:"row form-group"},f({className:"col-xs-4"},y(null,x(null,"Auto Clear"),React.createElement(r,{text:"If piping the command, clear the terminal first."})),f(null,React.createElement(Toggle,{checked:this.state.autoclear,onChange:()=>this.setState({autoclear:!this.state.autoclear})}))),f({className:"col-xs-8"},y(null,x(null,"Starting Command"),React.createElement(r,{text:"Provide a terminal command to pipe the file contents to the terminal. Leave blank to run file using project runtime environment."})),b({type:"text",className:"form-control",name:"terminal_command",value:this.state.terminal_command||"",onChange:this.handleChange})))):void 0,"code-editor"===this.state.snippet_type||"executable-code"===this.state.snippet_type?f(null,m({className:"top-margin-20"}),f({className:"row"},f({className:"col-xs-12"},h({className:"bold"},"Editor Settings"))),f({className:"row form-group"},f({className:"col-xs-7"},y(null,x(null,"Code Pattern"),React.createElement(r,{text:"Code pattern to anchor to (single line only)."})),b({type:"text",className:"form-control",name:"regex",value:this.state.regex||"",onChange:this.handleChange})),f({className:"col-xs-4"},y(null,x(null,"Line Number"),React.createElement(r,{text:"Line number to anchor to."})),b({type:"number",className:"form-control",min:0,name:"line",value:this.state.line,onChange:this.handleChange})),f({className:"col-xs-12"},f({className:"callout info"},v(null,"Code will start at the code pattern OR the line number OR the first line of code."))))):void 0)}}),e.exports=l},function(e,t){var n,i,r,o,s,a,l,u,c,p,f,d;({a:i,button:r,code:o,div:s,h4:a,i:l,label:u,p:c,pre:p}=ReactDOMFactories),({td:f,tr:d}=ReactDOMFactories),n=reactCreateClass({displayName:"Snippet",mixins:[mixins.AjaxMixin,mixins.StringMixin,mixins.ViewMixin],propTypes:{snippet:PropTypes.object.isRequired},snippetType:function(){return _.map(this.props.snippet.snippet_type.split("-"),e=>this.capitalize(e)).join(" ")},render:function(){return d(null,f(null,this.snippetType()),this.markdownElm({contents:this.props.snippet.summary,klass:"no-margin",elm:"td"}),f({className:"text-right"},s({className:"btn-group"},r({className:"btn btn-text btn-blue",onClick:this.props.toggleForm.bind(null,"update",this.props.snippet,"Update Snippet","snippets")},l({className:"fas fa-pencil"})),r({className:"btn btn-text btn-red",onClick:this.props.toggleForm.bind(null,"delete",this.props.snippet,"Delete Snippet","snippets")},l({className:"fas fa-trash"})))))}}),e.exports=n},function(e,t,n){var i,r,o,s,a,l,u,c;i=n(23),a=n(15),({div:l,h2:u,input:c}=ReactDOMFactories),({HelpCircle:o}=n(13)),s=n(57).default,r=reactCreateClass({displayName:"ComponentsSqlResults",mixins:[mixins.AjaxMixin,mixins.FormMixin,Reflux.connect(a,"project")],propTypes:{access_token:PropTypes.string.isRequired},saveSqlDatabaseType:function(e){return this.ajaxPatch(iRoutes.contents.update({id:this.state.project.content.id}),{internal:!0,data:{project:{sql_database_type:e.value}},success:function(e){return i.setProperty("sql_database_type",e.project.sql_database_type)}})},render:function(){return l({className:"settings-screen-section"},l({className:"header-container"},u({className:"header"},"SQL Results Display Settings"),l({className:"description"},"Configure the SQL results display to fit your use case.")),l({className:"contents"},l({className:"option-container option-wide"},l({className:"row top-margin-20"},l({className:"col-xs-12"},l({className:"option"},l({className:"option-header"},"Database",React.createElement(o,{text:"The database name in use in this content."}))),l({className:"option-field pull-right"},c({className:"form-control",name:"sql_database",defaultValue:this.state.project.sql_database||"",onChange:this.handleAutosavedChange.bind(null,this.saveScript.bind(null,"sql_database",e=>i.setProperty("sql_database",e.project.sql_database)))}))))),l({className:"option-container option-wide"},l({className:"row top-margin-20"},l({className:"col-xs-12"},l({className:"option"},l({className:"option-header"},"Database Type",React.createElement(o,{text:"The database type to use in this content."})),l({className:"option-field pull-right"},React.createElement(s,{value:this.state.project.sql_database_type,options:[{label:"MySQL",value:"mysql"},{label:"PostgreSQL",value:"postgresql"}],clearable:!1,onChange:this.saveSqlDatabaseType}))))))))}}),e.exports=r},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h;i=n(551),l=n(552),r=n(324),o=n(23),s=n(844),({button:u,div:c,h2:p,h4:f,i:d,p:h}=ReactDOMFactories),a=reactCreateClass({displayName:"Stacks",mixins:[mixins.AjaxMixin,mixins.ViewMixin,Reflux.connect(l,"store")],propTypes:{access_token:PropTypes.string.isRequired},getInitialState:function(){return{loaded:!1}},componentDidMount:function(){return this.ajaxGet(routes.projects.show({access_token:this.props.access_token}),{success:function(e){return i.setStack(e.stack)}}),this.ajaxGet(iRoutes.stacks.index(),{success:i.setStacks})},onClick:function(e){var t;return t=this.state.store.stack,this.ajaxPatch(routes.projects.update({access_token:this.props.access_token}),{data:{project:{stack_id:e.id,type:e.type}},success:e=>(i.setStack(e.stack),o.setPropertiesSafely({build_script:e.build_script,run_command:e.run_command,stack:e.stack,test_types:e.test_types}),t?confirm("Would you like to reload the page to load your new environment? All unsaved file changes and tab configurations will be lost!")?location.reload():$.alert("Reload the page for your new environment to take effect."):($.alert("Your coding environment is loading."),r.requestSandbox(this.props.access_token)))})},render:function(){var e,t,n;return t=this.state.store.stack||{},c({id:"stacks",className:"list-group settings-screen-section"},c({className:"header-container"},p({className:"header"},"Environment"),c({className:"description"},"Select the programming environment to use.")),c({className:"contents"},c({className:"row"},this.state.store.stacks.length?c({className:"col-xs-4 stacks"},c({className:"row"},function(){var t,i,r,o;for(r=_.sortBy(this.state.store.stacks,"name"),o=[],e=t=0,i=r.length;t<i;e=++t)n=r[e],o.push(React.createElement(s,{active:!!this.state.store.stack&&n.id===this.state.store.stack.id,key:e,onClick:this.onClick,stack:n}));return o}.call(this))):c({className:"col-xs-12"},c({className:"loading-container"},d({className:"loading-spinner fal fa-spinner-third fa-spin"}))),c({className:"col-xs-8 info"},this.state.store.stacks.length?c(null,f({className:"stack-name"},t.name||"No Stack Selected"),c({className:"stack-description bottom-margin-20"},t.description||"Pick a stack to get started."),this.markdownElm({contents:t.details,klass:"stack-details"})):void 0))))}}),e.exports=a},function(e,t){var n,i,r;({div:i,img:r}=ReactDOMFactories),n=reactCreateClass({displayName:"StacksStack",mixins:[mixins.AjaxMixin,mixins.ImageMixin,mixins.TooltipMixin],propTypes:{active:PropTypes.bool.isRequired,stack:PropTypes.shape({name:PropTypes.string,id:PropTypes.number}).isRequired,onClick:PropTypes.func.isRequired},componentDidUpdate:function(){return this.initializeTooltips(`#stack-${this.props.stack.identifier}`)},render:function(){return i({id:`stack-${this.props.stack.identifier}`,className:"col-xs-12"},i({className:`option row ${this.props.active?"active":""}`,onClick:this.props.onClick.bind(null,this.props.stack),"data-toggle":"tooltip","data-placement":"top","data-title":this.props.stack.description},i({className:"option-badge col-xs-4"},r({src:this.imgSource(`language-logos/svgs/${this.props.stack.identifier}.svg`)})),i({className:"option-title col-xs-8"},this.props.stack.name)))}}),e.exports=n},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h,m,g;i=n(23),o=n(15),({a:s,button:a,div:l,h2:u,hr:c,input:p,li:f,p:d,span:h,textarea:m,ul:g}=ReactDOMFactories),r=reactCreateClass({displayName:"SetupStartupScript",mixins:[mixins.AjaxMixin,mixins.FormMixin,Reflux.connect(o,"project")],propTypes:{access_token:PropTypes.string.isRequired},componentDidUpdate:function(){return autosize($("textarea.custom-height"))},reset:function(){return this.setState({startup_script:this.state.project.default_startup_script},()=>this.saveScript("startup_script"))},render:function(){return l({className:"settings-screen-section"},l({className:"header-container"},u({className:"header"},"Startup Script"),l({className:"description"},"Executable script to run when project is first loaded. Must complete in under 60 seconds. Begin with hashbang. Script runs from /tmp directory. Course-wide startup script will be run first.")),l({className:"contents"},l({className:"row option"},l({className:"col-xs-12"},m({className:"form-control custom-height",placeholder:'#!/bin/bash\necho "Hello, world" > /root/sandbox/test.txt',name:"startup_script",defaultValue:this.state.project.startup_script,onChange:this.handleAutosavedChange.bind(null,this.saveScript.bind(null,"startup_script",e=>i.setProperty("startup_script",e.project.startup_script)))}),l({className:"btn btn-link",onClick:this.reset},"Reset")))))}}),e.exports=r},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h,m,g,b,y,v,x,w,k,S,C,E,T,A,N;i=n(505),h=n(504),o=n(369),r=n(110),s=n(847),l=n(15),u=n(367),p=n(550),m=n(368),d=n(545),a=n(218),({a:g,button:b,code:y,div:v,i:x,input:w,li:k,ol:S,p:C,pre:E,span:T,textarea:A,ul:N}=ReactDOMFactories),c=n(57).default,f=reactCreateClass({displayName:"StepsSidebarEditor",mixins:[mixins.AjaxMixin,mixins.FormMixin,mixins.StringMixin,mixins.TooltipMixin,mixins.ViewMixin,d,Reflux.connect(h,"steps"),Reflux.connect(r,"content"),Reflux.connect(s,"github_markdowns"),Reflux.connect(l,"project"),Reflux.connect(u,"quizzes"),Reflux.connect(p,"snippets"),Reflux.connect(m,"tasks")],propTypes:{access_token:PropTypes.string.isRequired,internal:PropTypes.bool.isRequired,remote_editor:PropTypes.bool.isRequired},getInitialState:function(){return{block:null,contents:"",editor_shown:!1,github_md_path:null,github_syncing:!1,list_shown:!1,loaded:!1,quiz_shown:!1,snippet_shown:!1,step:{},title:""}},componentWillMount:function(){return this.ajaxGet(routes.projects.steps.index({access_token:this.props.access_token}),{success:e=>{var t;return i.setSteps(e),(t=_.find(e,e=>e.id===this.state.project.current_step_id))||(t=_.first(_.sortBy(e,"position"))),t||(t={}),this.setState({loaded:!0,step:t,title:t.title||""})}}),this.initializeTooltips("#left-sidebar")},componentDidUpdate:function(){return autosize($("textarea.custom-height")),this.initializeTooltips("#left-sidebar")},githubMarkdown:function(e){return _.find(this.state.github_markdowns,function(t){return t.path.trim()===e.contents.trim()})},processName:function(){return this.setState({title:this.state.title||""},()=>this.state.step.id?this.ajaxPatch(routes.projects.steps.update({access_token:this.props.access_token,id:this.state.step.id}),{data:{step:{title:this.state.title}},success:e=>(i.updateStep(this.state.step,e),this.setState({step:e||{}}))}):this.postStep(this.state.title,e=>this.setState({step:e})))},createStep:function(){return this.postStep(null,e=>this.setState({step:e,list_shown:!this.state.list_shown,title:""}))},postStep:function(e,t){return this.ajaxPost(routes.projects.steps.create({access_token:this.props.access_token}),{data:{step:{title:e}},success:function(e){if(i.createStep(e),t)return t(e)}})},setCurrentEditorStep:function(e){return this.setState({title:e.title},()=>this.setCurrentStep(e))},deleteStep:function(e){var t;if(confirm("Are you sure?"))return t=e===this.state.step,this.ajaxDelete(routes.projects.steps.destroy({access_token:this.props.access_token,id:e.id}),{success:e=>{if(i.setSteps(e),t)return this.setState({step:{},title:"",contents:""})}})},closeEditor:function(){if(confirm("Are you sure you want to discard your changes?"))return this.setState({editor_shown:!1})},saveEditor:function(){return this.ajaxPatch(routes.projects.steps.blocks.update({access_token:this.props.access_token,step_id:this.state.step.id,id:this.state.block.id}),{data:{block:{contents:this.state.contents}},success:e=>(i.updateStep(this.state.step,e),this.setState({editor_shown:!1,step:e})),error:()=>{if($.alert("Could not save contents.","danger"),confirm("Would you like to exit?"))return this.setState({editor_shown:!1})}})},saveGitHubMarkdown:function(){return this.ajaxPatch(routes.projects.steps.blocks.update({access_token:this.props.access_token,step_id:this.state.step.id,id:this.state.block.id}),{data:{block:{contents:this.state.contents.trim()}},success:e=>(i.updateStep(this.state.step,e),this.setState({github_md_shown:!1,block:null,contents:"",step:e}))})},createBlock:function(e,t,n){return this.ajaxPost(routes.projects.steps.blocks.create({access_token:this.props.access_token,step_id:this.state.step.id}),{data:{block:{block_type:t,contents:e}},success:e=>{var t;if(i.updateStep(this.state.step,e),this.setState({step:e}),t=_.last(_.sortBy(e.blocks,"position")),n)return this.openBlock(t)}})},selectBlockItem:function(e,t){return this.ajaxPatch(routes.projects.steps.blocks.update({access_token:this.props.access_token,step_id:this.state.step.id,id:e.id}),{data:{block:{contents:t?t.value:null}},success:e=>(i.updateStep(this.state.step,e),this.setState({step:e})),error:()=>{if($.alert(`Could not select ${type}.`,"danger"),confirm("Would you like to exit?"))return this.setState(state)}})},deleteBlock:function(e){if(confirm("Are you sure?"))return this.ajaxDelete(routes.projects.steps.blocks.destroy({access_token:this.props.access_token,step_id:this.state.step.id,id:e.id}),{success:e=>(i.updateStep(this.state.step,e),this.setState({step:e}))})},openBlock:function(e){switch(e.type){case"markdown":return this.setState({contents:e.contents||"",editor_shown:!0,block:e});case"github_md":return this.setState({contents:e.contents||"",github_md_shown:!0,block:e})}},selectOptions:function(e){return _.sortBy(_.map(this.state[e],function(e){return{label:e.description,value:e.uid}}),"t_created_at")},moveStep:function(e,t){var n;if(this.stepMoveEnabled(e,t))return n=_.find(this.state.steps,function(n){return n.position===e.position+t}),this.updateStepPosition(n,n.position-t),this.updateStepPosition(e,e.position+t)},updateStepPosition:function(e,t){return this.ajaxPatch(routes.projects.steps.update({access_token:this.props.access_token,id:e.id}),{data:{step:{position:t}},success:function(t){return i.updateStep(e,t,!0)}})},stepMoveEnabled:function(e,t){var n;return n=_.sortBy(this.state.steps,"position"),(1!==t||e!==_.last(n))&&(-1!==t||e!==_.first(n))},moveBlock:function(e,t){var n;if(this.blockMoveEnabled(e,t))return n=_.find(this.state.step.blocks,function(n){return n.position===e.position+t}),this.updateBlockPosition(n,n.position-t),this.updateBlockPosition(e,e.position+t)},updateBlockPosition:function(e,t){return this.ajaxPatch(routes.projects.steps.blocks.update({access_token:this.props.access_token,step_id:this.state.step.id,id:e.id}),{data:{block:{position:t}},success:e=>(i.updateStep(this.state.step,e),this.setState({step:e}))})},blockMoveEnabled:function(e,t){var n;return n=_.sortBy(this.state.step.blocks,"position"),(1!==t||e!==_.last(n))&&(-1!==t||e!==_.first(n))},syncGitHub:function(){if(confirm("Are you sure you want to sync all GitHub Markdown blocks to GitHub?"))return this.setState({github_syncing:!0},()=>this.ajaxPatch(iRoutes.contents.sync_github_markdown({id:this.state.content.id}),{internal:!0,success:e=>(o.setGitHubMarkdowns(e.github_markdowns||[]),this.setState({github_syncing:!1}),$.alert("GitHub sync completed!","success")),error:e=>(o.setGitHubMarkdowns(e.github_markdowns||[]),this.setState({github_syncing:!1}),$.alert("Could not sync with GitHub. Some paths may be incorrect.","danger"))}))},githubMdRepo:function(){return this.state.content.github_md_repo||this.state.content.github_base_repo},steps:function(){return this.state.steps},render:function(){return v({id:"left-sidebar"},v({className:"left-sidebar__header"},this.state.list_shown?v({className:"left-sidebar__header-title"},"Project Steps"):w({id:"title-input",type:"text",className:"form-control step-title-input",name:"title",placeholder:"Add step title (supports markdown)",onChange:this.handleAutosavedChange.bind(null,this.processName),onKeyDown:function(e){if(13===e.keyCode)return e.target.blur()},value:this.state.title}),this.stepsLink()),v({className:"js-reset-scroll left-sidebar__contents"},v({id:"steps-sidebar",className:"editing"},this.state.list_shown?this.stepsList():v({className:"sidebar-inner"},this.state.loaded?this.renderStep():void 0,this.state.content.github_authed&&this.githubMdRepo()?v({className:"github-sync-link",onClick:this.syncGitHub},x({className:"fab fa-github-square"})):void 0))),this.stepsNavigation())},renderStep:function(){var e,t,n,i,r,o;return t=_.sortBy(this.state.step.blocks||[],"position"),this.props.remote_editor&&(t=_.reject(t,function(e){return"markdown"!==e.type})),v({className:"steps-sidebar__blocks"},function(){var s,a,l;for(l=[],r=s=0,a=t.length;s<a;r=++s)e=t[r],l.push(v({key:`${e.id}-${this.state.step.position}-${r}`},v({className:`steps-contents ${e.type}`},this.state.editor_shown&&this.state.block&&this.state.block.id===e.id?void 0:this.blockActions(e),"markdown"===e.type?this.state.editor_shown&&this.state.block&&this.state.block.id===e.id?this.editorForm():this.markdownElm({contents:e.contents||"Edit to add GitHub-flavored markdown"}):"github_md"===e.type?v(null,this.state.github_md_shown&&this.state.block&&this.state.block.id===e.id?this.githubMdForm():e.contents?(o=`**GitHub Markdown:** *[${e.contents}](https://www.github.com/${this.githubMdRepo()}/tree/master/${e.contents})*`,(i=this.githubMarkdown(e))?(n=`${o}\n\n ${i.contents||"No file contents, please check filepath."}`,this.markdownElm({contents:n})):this.markdownElm({contents:`${o}\n\n(sync to view contents)`})):v({className:"custom-markdown"},"Edit to enter a GitHub filepath.")):"quiz"===e.type?React.createElement(c,{value:e.contents,options:this.selectOptions("quizzes"),onChange:this.selectBlockItem.bind(null,e),clearable:!0,placeholder:"Select a quiz"}):"snippet"===e.type?React.createElement(c,{value:e.contents,options:this.selectOptions("snippets"),onChange:this.selectBlockItem.bind(null,e),clearable:!0,placeholder:"Select a snippet"}):"task"===e.type?React.createElement(c,{value:e.contents,options:this.selectOptions("tasks"),onChange:this.selectBlockItem.bind(null,e),clearable:!0,placeholder:"Select a task"}):void 0)));return l}.call(this),v({className:"dropdown block-dropdown-outer text-center top-margin-20"},this.props.remote_editor?void 0:v({className:`btn-group ${this.state.step.blocks&&this.state.step.blocks.length>1?"dropup":""}`},b({className:"btn btn-action btn-blue dropdown-toggle",type:"button",id:"block-dropdown",disabled:!this.state.step.id,"data-toggle":"dropdown"},x({className:"far fa-plus"}),T({className:"bold"}," New Block")),N({className:"dropdown-menu dropdown-menu-right block-dropdown-dropdown","aria-labelledby":"block-dropdown"},k(null,g({onClick:this.createBlock.bind(null,null,"markdown",!0)},x({className:"fab fa-markdown fa-sm block-dropdown-icon"}),"Markdown")),k({className:"divider"}),this.state.content.github_authed&&this.githubMdRepo()?k(null,g({onClick:this.createBlock.bind(null,null,"github_md",!0)},x({className:"fab fa-github block-dropdown-icon"}),"Markdown")):void 0,k(null,g({onClick:this.createBlock.bind(null,null,"task",!0)},x({className:"fas fa-check-square block-dropdown-icon"}),"Task")),k(null,g({onClick:this.createBlock.bind(null,null,"quiz",!0)},x({className:"fas fa-question-square block-dropdown-icon"}),"Quiz")),k(null,g({onClick:this.createBlock.bind(null,null,"snippet",!0)},x({className:"far fa-code block-dropdown-icon"}),"Snippet"))))))},blockActions:function(e){return this.props.remote_editor?v({className:"block-actions"},b({className:"btn btn-text btn-blue",title:"Edit Block",onClick:this.openBlock.bind(null,e)},x({className:"fas fa-pencil"}))):v({className:"btn-group actions-group"},-1===["quiz","snippet","task"].indexOf(e.type)?b({className:"btn btn-text btn-blue",title:"Edit Block",onClick:this.openBlock.bind(null,e)},x({className:"fas fa-pencil"})):void 0,b({className:"btn btn-text btn-green",title:"Duplicate Block",onClick:this.createBlock.bind(null,e.contents,e.type,!1)},x({className:"fas fa-clone fa-rotate-180"})),b({className:"btn btn-text btn-red",title:"Delete Block",onClick:this.deleteBlock.bind(null,e)},x({className:"fas fa-trash"})),b({className:"btn btn-text btn-gray move-up",title:"Move Up",onClick:this.moveBlock.bind(null,e,-1),disabled:!this.blockMoveEnabled(e,-1)},x({className:"fas fa-chevron-up"})),b({className:"btn btn-text btn-gray move-down",title:"Move Down",onClick:this.moveBlock.bind(null,e,1),disabled:!this.blockMoveEnabled(e,1)},x({className:"fas fa-chevron-down"})))},stepsLink:function(){return b({className:"btn btn-text btn-gray btn-circle left-sidebar__header-icon","data-toggle":"tooltip","data-placement":"auto bottom","data-original-title":`${this.state.list_shown?"Return to Instuctions":"Show Step List"}`,onClick:()=>this.setState({list_shown:!this.state.list_shown})},x({className:`fal ${this.state.list_shown?"fa-arrow-left":"fa-bars"}`}))},stepsList:function(){var e,t;return v({id:"steps-selector",className:"steps"},N({className:"steps-list"},function(){var n,i,r,o;for(r=_.sortBy(this.state.steps,"position"),o=[],e=n=0,i=r.length;n<i;e=++n)t=r[e],o.push(k({key:e,className:`step-list-item ${this.state.step.id===t.id?"active":""}`},this.props.remote_editor?void 0:v({className:"sort-btns"},b({className:"btn btn-text btn-gray",disabled:!this.stepMoveEnabled(t,-1),title:"Move Step Up",onClick:this.moveStep.bind(null,t,-1)},x({className:"fas fa-chevron-up"})),b({className:"btn btn-text btn-gray",disabled:!this.stepMoveEnabled(t,1),title:"Move Step Down",onClick:this.moveStep.bind(null,t,1)},x({className:"fas fa-chevron-down"}))),this.markdownElm({contents:t.title||"Untitled Step",klass:`step-list-title ${t.title?"":"no-text"}`,onClick:this.setCurrentEditorStep.bind(null,t)}),this.props.remote_editor?void 0:v({className:"delete-step"},b({className:"btn btn-text btn-red text-red",title:"Delete Step",onClick:this.deleteStep.bind(null,t)},x({className:"fas fa-trash"})))));return o}.call(this)),this.props.remote_editor?void 0:v({className:""},v({className:"col-xs-12 text-center"},b({className:"btn btn-action btn-green bold bottom-margin-20 top-margin-20",onClick:this.createStep},x({className:"far fa-plus"})," New Step"))))},editorForm:function(){return v(null,v({id:"markdown-editor",className:"markdown-editor-outer"},React.createElement(a,{inital_value:this.state.contents,onChange:e=>this.setState({contents:e})})),v({className:"steps-contents__return-buttons"},b({className:"btn btn-text btn-red bold",onClick:this.closeEditor},"Close"),b({className:"btn btn-action btn-green bold",onClick:this.saveEditor},"Save")))},githubMdForm:function(){return v(null,this.githubMdRepo()?v({className:"row"},v({className:"col-xs-12"},E({className:"no-highlight"},y(null,this.githubMdRepo()))),v({className:"col-xs-12"},w({type:"text",className:"form-control github-md-input",value:this.state.contents,name:"contents",placeholder:"Enter path to Markdown file in repository (spaces okay)",onChange:this.handleChange}))):v({className:"row"},v({className:"col-xs-12 text-center top-margin-20 bottom-margin-20"},"Set ",T({className:"bold"},"Settings > GitHub Tasks Repository")," to enable")),v({className:"row"},b({className:"btn btn-action btn-green bold pull-right",onClick:this.saveGitHubMarkdown},`${this.githubMdRepo()?"Save":"Close"}`)))}}),e.exports=f},function(e,t,n){var i,r;i=n(369),r=[],e.exports=Reflux.createStore({listenables:i,mixins:[mixins.ItemMixin],setGitHubMarkdowns:function(e){return r=e,this.trigger(r)},getInitialState:function(){return r}})},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h,m,g,b,y,v,x,w,k,S,C,E,T;i=n(336),l=n(849),s=n(15),a=n(368),c=n(553),o=n(218),({HelpCircle:r}=n(13)),({a:p,div:f,h2:d,h4:h,input:m,label:g,li:b,span:v,ul:T,label:g,p:y}=ReactDOMFactories),({table:x,tbody:w,td:k,th:S,thead:C,tr:E}=ReactDOMFactories),u=reactCreateClass({displayName:"Tasks",mixins:[mixins.AjaxMixin,mixins.ContentEditorFormMixin,mixins.FormMixin,mixins.ItemMixin,mixins.StringMixin,mixins.ViewMixin,Reflux.connect(a,"tasks"),Reflux.connect(s,"project"),Reflux.connect(c,"tests")],propTypes:{access_token:PropTypes.string.isRequired,toggleNavEnabled:PropTypes.func},getInitialState:function(){return{active_item:null,checks:[],contents:"",description:"",form_shown:!1,form_state:"",live:!0,negative_feedback:"",positive_feedback:"",same_directory:!0,share_checks:!0}},componentDidMount:function(){return this.ajaxGet(routes.projects.tasks.index({access_token:this.props.access_token}),{success:i.setTasks})},componentWillUpdate:function(e,t){if(this.props.toggleNavEnabled&&t.form_shown!==this.state.form_shown)return this.props.toggleNavEnabled()},formFields:function(){return["checks","contents","description","live","negative_feedback","positive_feedback","same_directory","share_checks"]},onCreate:function(){return this.closeForm(),this.ajaxPost(routes.projects.tasks.create({access_token:this.props.access_token}),{data:{task:{checks_attributes:this.state.checks,contents:this.state.contents,description:this.state.description,live:this.state.live,negative_feedback:this.state.negative_feedback,positive_feedback:this.state.positive_feedback,same_directory:this.state.same_directory,share_checks:this.state.share_checks}},success:i.createTask})},onUpdate:function(){var e;return e=this.state.active_item,this.closeForm(),this.ajaxPatch(routes.projects.tasks.update({access_token:this.props.access_token,id:e.id}),{data:{task:{checks_attributes:this.state.checks,contents:this.state.contents,description:this.state.description,live:this.state.live,negative_feedback:this.state.negative_feedback,positive_feedback:this.state.positive_feedback,same_directory:this.state.same_directory,share_checks:this.state.share_checks}},success:function(t){return i.updateTask(e,t)}})},onDelete:function(){var e;return e=this.state.active_item,this.closeForm(),this.ajaxDelete(routes.projects.tasks.destroy({access_token:this.props.access_token,id:e.id}),{success:function(){return i.deleteTask(e)}})},addTest:function(e){var t;return t={grade:!0,pretty_type:this.formatType(e.type),record_id:e.id,test_description:e.description,test_type:e.type,type:_.map(e.type.split("_"),e=>this.capitalize(e)).join("")},this.setState({checks:this.createItem(this.state.checks,t)})},toggleCheckGrade:function(e){return e.grade=!e.grade,this.setState({checks:this.updateItem(this.state.checks,e,e)})},removeCheck:function(e){return e._destroy="1",this.setState({checks:this.updateItem(this.state.checks,e,e)})},allChecks:function(){return _.reject(this.state.checks,e=>e._destroy||-1===this.state.project.test_types.indexOf(e.test_type))},remainingChecks:function(){var e,t;return t=_.flatten(_.map(this.state.project.test_types,e=>this.state.tests[e+"s"])),e=this.allChecks(),_.reject(t,function(t){return _.find(e,function(e){return e.test_type===t.type&&e.record_id===t.id})})},formatType:function(e){return _.map(e.split("_"),e=>this.capitalize(e)).join(" ")},valid:function(){return this.state.description.trim()&&this.state.contents.trim()},render:function(){return f({id:"tasks",className:"settings-screen-section"},this.state.form_shown?this.form():void 0,this.state.form_shown?void 0:this.view())},view:function(){var e;return f(null,f({className:"header-container"},d({className:"header"},"Tasks"),f({className:"actions pull-right"},p({className:"btn btn-action btn-green bold",onClick:this.toggleCreateForm.bind(null,"New Task","tasks")},v({className:"far fa-plus"})," New Task")),f({className:"description"},"Add tasks for the user to complete.")),f({className:"contents"},this.state.tasks.length?x({className:"table"},C(null,E(null,S(null,"Live"),S(null,"Checks"),S(null,"Description"),S({className:"text-center"},"Actions"))),w(null,function(){var t,n,i,r;for(r=[],t=0,n=(i=_.sortBy(this.state.tasks,"t_created_at")).length;t<n;t++)e=i[t],r.push(React.createElement(l,{access_token:this.props.access_token,key:e.id,task:e,test_types:this.state.project.test_types,toggleForm:this.toggleItemForm}));return r}.call(this))):f({className:"callout info"},y(null,"No tasks have been created yet."))))},fields:function(){return f(null,f({className:"header-container"},d({className:"header"},"Tasks")),f({className:"row form-group"},f({className:"col-xs-12"},g(null,v({className:"required-asterisk"},"*"),v(null,"Description"),React.createElement(r,{text:"A short description of the task (shown to users)."})),m({className:"form-control",value:this.state.description,name:"description",onChange:this.handleChange}))),f({className:"row form-group"},f({className:"col-xs-12"},g(null,v({className:"required-asterisk"},"*"),v(null,"Instructions"),React.createElement(r,{text:"Summary of how what is required to complete the task (shown to users)."})),f({className:"markdown-editor-outer"},React.createElement(o,{toolbar:!1,autoFocus:!1,inital_value:this.state.contents,status:!1,onChange:e=>this.setState({contents:e})})))),this.checksTable(),f({className:"row form-group"},f({className:"col-xs-12"},g(null,v(null,"Failed Feedback"),React.createElement(r,{text:"Message shown to user when they fail to complete the task."})),f({className:"markdown-editor-outer"},React.createElement(o,{toolbar:!1,autoFocus:!1,inital_value:this.state.negative_feedback,status:!1,onChange:e=>this.setState({negative_feedback:e})})))),f({className:"row form-group"},f({className:"col-xs-12"},g(null,v(null,"Passed Feedback"),React.createElement(r,{text:"Message shown to user when they complete the task."})),f({className:"markdown-editor-outer"},React.createElement(o,{toolbar:!1,autoFocus:!1,inital_value:this.state.positive_feedback,status:!1,onChange:e=>this.setState({positive_feedback:e})})))),f({className:"row form-group"},f({className:"col-xs-4"},g(null,v(null,"Live"),React.createElement(r,{text:"If this task is in use in the content."})),f(null,React.createElement(Toggle,{checked:this.state.live,onChange:()=>this.setState({live:!this.state.live})}))),f({className:"col-xs-4"},g(null,v(null,"Share Checks"),React.createElement(r,{text:"Share the check results with users."})),f(null,React.createElement(Toggle,{checked:this.state.share_checks,onChange:()=>this.setState({share_checks:!this.state.share_checks})}))),f({className:"col-xs-4"},g(null,v(null,"Same Directory"),React.createElement(r,{text:"Run task checks in the same directory."})),f(null,React.createElement(Toggle,{checked:this.state.same_directory,onChange:()=>this.setState({same_directory:!this.state.same_directory})})))))},checksTable:function(){var e,t,n;return f({className:"row form-group bottom-margin-20"},f({className:"col-xs-12"},g(null,v(null,"Linked Checks"),React.createElement(r,{text:"Link checks to verify that the user has completed the task. Checks are run in the order enabled"})),x({className:"table"},C(null,E(null,S({width:"5%"},"#"),S({width:"15%"},"Type"),S({width:"60%"},"Check"),S({width:"10%"},"Grade"),S({width:"10%"},"Linked"))),w(null,function(){var n,i,r,o;for(r=_.sortBy(this.allChecks(),"t_created_at"),o=[],t=n=0,i=r.length;n<i;t=++n)e=r[t],o.push(E({key:t,className:"success"},k(null,t+1),k(null,e.pretty_type),this.markdownElm({contents:e.test_description,klass:"no-margin",elm:"td"}),k(null,React.createElement(Toggle,{checked:e.grade,onChange:this.toggleCheckGrade.bind(null,e)})),k(null,React.createElement(Toggle,{checked:!0,onChange:this.removeCheck.bind(null,e)}))));return o}.call(this),function(){var e,i,r,o;for(r=_.sortBy(this.remainingChecks(),function(e){return`${e.type}-${e.t_created_at}`}),o=[],t=e=0,i=r.length;e<i;t=++e)n=r[t],o.push(E({key:t},k(null),k(null,this.formatType(n.type)),this.markdownElm({contents:n.description,klass:"no-margin",elm:"td"}),k(null,"N/A"),k(null,React.createElement(Toggle,{checked:!1,onChange:this.addTest.bind(null,n)}))));return o}.call(this))),this.allChecks().length||this.remainingChecks().length?void 0:f({className:"callout info"},y(null,"No checks created yet."))))}}),e.exports=u},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h;({a:o,button:s,div:a,h4:l,i:u,span:f,label:c,p:p}=ReactDOMFactories),({td:d,tr:h}=ReactDOMFactories),({HelpCircle:i}=n(13)),r=reactCreateClass({displayName:"Task",mixins:[mixins.ViewMixin],propTypes:{access_token:PropTypes.string.isRequired,task:PropTypes.object.isRequired,test_types:PropTypes.array.isRequired,toggleForm:PropTypes.func.isRequired},visibleChecks:function(){return _.filter(this.props.task.checks,e=>-1!==this.props.test_types.indexOf(e.test_type))},render:function(){return h(null,d(null,this.props.task.live?u({className:"far fa-check text-green"}):u({className:"far fa-times text-red"})),d(null,this.props.task.checks.length),this.markdownElm({contents:this.props.task.description,klass:"no-margin",elm:"td"}),d({className:"text-right"},a({className:"btn-group actions-group"},s({className:"btn btn-text btn-blue",title:"Edit Task",onClick:this.props.toggleForm.bind(null,"update",this.props.task,"Update Task","tasks")},f({className:"fas fa-pencil"})),s({className:"btn btn-text btn-red",title:"Delete Task",onClick:this.props.toggleForm.bind(null,"delete",this.props.task,"Delete Task","tasks")},f({className:"fas fa-trash"})))))},testsTable:function(){var e,t;return a({className:"form-group"},this.visibleChecks().length?table({className:"table"},thead(null,h(null,th({width:"25%"},"Type"),th({width:"75%"},"Description"))),tbody(null,function(){var n,i,r,o;for(r=_.sortBy(this.visibleChecks(),"t_created_at"),o=[],t=n=0,i=r.length;n<i;t=++n)e=r[t],o.push(h({key:t},d(null,e.pretty_type),this.markdownElm({contents:e.test_description,klass:"no-margin",elm:"td"})));return o}.call(this))):void 0)}}),e.exports=r},function(e,t,n){var i,r,o,s,a,l,u,c;n(23),o=n(15),({div:s,h2:a,input:l,span:u,textarea:c}=ReactDOMFactories),({HelpCircle:r}=n(13)),i=reactCreateClass({displayName:"ComponentsTerminal",mixins:[mixins.AjaxMixin,mixins.FormMixin,Reflux.connect(o,"project")],propTypes:{access_token:PropTypes.string.isRequired},componentDidUpdate:function(){return autosize($("textarea.custom-height"))},render:function(){return s({id:"terminal-settings",className:"settings-screen-section"},s({className:"header-container"},a({className:"header"},"Terminal Settings"),s({className:"description"},"Configure the live terminal to fit your use case.")),s({className:"contents"},s({className:"option-container"},s({className:"row top-margin-20"},s({className:"col-xs-12"},s({className:"option"},s({className:"option-header"},"Send Ctrl+C",React.createElement(r,{text:"Send Ctrl+C to terminal before run."}))),s({className:"option-field pull-right"},s(null,React.createElement(Toggle,{checked:this.state.project.reset_terminal,onChange:this.toggleSetting.bind(null,"reset_terminal")})))))),this.state.project.lite_mode_terminal?void 0:s(null,s({className:"option-container"},s({className:"row top-margin-20"},s({className:"col-xs-12"},s({className:"option"},s({className:"option-header"},"Clear Terminal",React.createElement(r,{text:"Clear terminal before each run."}))),s({className:"option-field pull-right"},s(null,React.createElement(Toggle,{checked:this.state.project.clear_terminal,onChange:this.toggleSetting.bind(null,"clear_terminal")})))))),s({className:"option-container"},s({className:"row top-margin-20"},s({className:"col-xs-12"},s({className:"option"},s({className:"option-header"},u({className:"beta"},"Run Current File"),React.createElement(r,{text:"Inject the current file's contents into the terminal on run."}))),s({className:"option-field pull-right"},s(null,React.createElement(Toggle,{checked:this.state.project.run_file,onChange:this.toggleSetting.bind(null,"run_file")})))))))))}}),e.exports=i},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h,m,g,b,y,v,x,w,k,S,C,E,T,A,N,M,R,O,L,P,D,I,F,j;y=n(553),f=n(15),i=n(852),r=n(853),o=n(854),s=n(855),a=n(856),u=n(857),c=n(858),p=n(859),d=n(860),h=n(861),m=n(862),v=n(863),x=n(864),({HelpCircle:l}=n(13)),({a:w,button:k,div:S,h2:C,i:E,label:T,li:A,p:N,span:M,ul:j}=ReactDOMFactories),({table:R,tbody:O,td:L,th:D,thead:I,tr:F}=ReactDOMFactories),b=n(101),P={browser_simulation:i,code_pattern:r,command_test:o,custom_test:s,full_gui_test:a,html_parser:u,image_test:c,issue_test:p,python_gui_test:d,sql_test:h,test_case:m,unit_test:v,webpage_test:x},g=reactCreateClass({displayName:"Tests",mixins:[mixins.AjaxMixin,mixins.StringMixin,mixins.ViewMixin,b,Reflux.connect(f,"project"),Reflux.connect(y,"tests")],propTypes:{access_token:PropTypes.string.isRequired,toggleNavEnabled:PropTypes.func},getInitialState:function(){return{test_type:null}},toggleCreateForm:function(e){return this.setState({test_type:e},()=>{if(this.refs[e].toggleCreateForm(null),this.props.toggleNavEnabled)return this.props.toggleNavEnabled()})},toggleTestForm:function(e,t){switch(t.type){case"test_case":t=this.formattedTestCase(t);break;case"unit_test":t=this.formattedUnitTest(t)}return this.setState({test_type:t.type},()=>{if(this.refs[t.type].toggleItemForm(e,t),this.props.toggleNavEnabled)return this.props.toggleNavEnabled()})},formattedTestCase:function(e){var t;return e=$.extend(!0,{},e),t=this.splitString(e.test_input),e.inputs=_.map(t,function(e,t){return{text:e,key:t}}),e.expected_results=_.map(e.expected_results,function(e,t){return{text:e,key:t}}),e.not_expected_results=_.map(e.not_expected_results,function(e,t){return{text:e,key:t}}),e.outputKey=e.expected_results.length,e},formattedUnitTest:function(e){return(e=$.extend(!0,{},e)).class_params=_.map(e.class_params,function(e,t){return{text:e,key:t}}),e.imports=e.imports.join("\n"),e.params=_.map(e.params,function(e,t){return{text:e,key:t}}),e.test_contents=e.test_contents||"",e},copyTest:function(e){var t;return(t={})[e.type]=e,this.ajaxPost(routes.projects[e.type+"s"].create({access_token:this.props.access_token}),{data:t,success:t=>this.createTest(e.type,t)})},testName:function(e){switch(e){case"full_gui_test":return"Full GUI Test";case"html_parser":return"HTML Parser";case"python_gui_test":return"Python GUI Test";case"sql_test":return"SQL Test";default:return _.map(e.split("_"),this.capitalize).join(" ")}},render:function(){var e,t,n,i,r,o;return e=!1,o=_.reject(_.keys(P),e=>-1===this.state.project.test_types.indexOf(e)),S({className:"settings-screen-section"},S({className:"header-container"},C({className:"header"},this.state.test_type?this.testName(this.state.test_type):"Checks"),S({className:"actions pull-right bold"},this.state.test_type?void 0:S({className:"btn-group"},k({className:"btn btn-action btn-green dropdown-toggle",type:"button",id:"tests-dropdown","data-toggle":"dropdown"},"New Check ",E({className:"fas fa-caret-down"})),j({className:"dropdown-menu dropdown-menu-right","aria-labelledby":"tests-dropdown"},function(){var e,n,i;for(i=[],t=e=0,n=o.length;e<n;t=++e)r=o[t],i.push(A({key:t},w({onClick:this.toggleCreateForm.bind(null,r)},this.testName(r))));return i}.call(this)))),S({className:"description"},function(){switch(this.state.test_type){case"browser_simulation":return"Browser simulations use Selenium to enable end-to-end webpage tests.";case"code_pattern":return"Code patterns search for specific snippets within program source code or other files.";case"command_test":return"Command tests search for specific snippets within commands run by users in the terminal.";case"custom_test":return"Custom tests can use any installed framework.";case"full_gui_test":return"Full GUI tests allow you to simulate a GUI program and record a screencapture.";case"html_parser":return"HTML parsers use Python's BeautifulSoup4 library to check webpage structure.";case"image_test":return"Image tests allow you to compare images and generate the visual difference between them.";case"issue_test":return"Issue tests allow you to search for patterns in program issue output. Must be used with a test case.";case"python_gui_test":return"Python GUI tests allow you to provide image-generating Python code to test generated image output.";case"sql_test":return"SQL tests allow you to query a database to ensure that the correct data is present or SELECTed. Limited to first 100 rows returned.";case"test_case":return"Test cases simulate program input and check for specific keywords in output.";case"unit_test":return"Unit tests test program functions and / or classes directly.";case"webpage_test":return"Test webpage screenshots allow you to test a website visually.";default:return"Add tests to ensure work has been completed by the user."}}.call(this))),S({className:"contents"},S({className:"row"},S({className:"col-xs-12"},this.state.test_type?React.createElement(P[this.state.test_type],{ref:this.state.test_type,access_token:this.props.access_token,onFormClose:()=>{if(this.setState({test_type:null}),this.props.toggleNavEnabled)return this.props.toggleNavEnabled()}}):S(null,S({className:"row"},S({className:"col-xs-12"},R({className:"table"},I(null,F(null,D(null,"Type"),D(null,"Description"),D({className:"text-center"},"Actions"))),O(null,function(){var s,a,l;for(l=[],t=s=0,a=o.length;s<a;t=++s)r=o[t],(i=this.state.tests[r+"s"]).length?(e=!0,l.push(function(){var e,t,o,s;for(s=[],e=0,t=(o=_.sortBy(i,"t_created_at")).length;e<t;e++)n=o[e],s.push(this.test(`${r}-${n.id}`,this.testName(r),n));return s}.call(this))):l.push(void 0);return l}.call(this))))),e?void 0:S({className:"callout info"},N(null,"No checks have been created yet.")))))))},test:function(e,t,n){return F({key:e},L(null,t),this.markdownElm({contents:n.description,elm:"td",klass:"no-margin"}),L({className:"text-right"},S({className:"btn-group actions-group"},k({className:"btn btn-text btn-blue",title:"Edit Check",onClick:this.toggleTestForm.bind(null,"update",n)},E({className:"fas fa-pencil"})),k({className:"btn btn-text btn-green",title:"Duplicate Check",onClick:this.copyTest.bind(null,n)},E({className:"fas fa-clone fa-rotate-180"})),k({className:"btn btn-text btn-red",title:"Delete Check",onClick:this.toggleTestForm.bind(null,"delete",n)},E({className:"fas fa-trash"})))))}}),e.exports=g},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h,m;({HelpCircle:r}=n(13)),({a:s,code:a,div:l,h2:u,input:c,label:p,p:f,pre:d,span:h,textarea:m}=ReactDOMFactories),o=n(101),i=reactCreateClass({displayName:"BrowserSimulations",mixins:[mixins.AjaxMixin,mixins.ContentEditorFormMixin,mixins.FormMixin,mixins.StringMixin,o],propTypes:{access_token:PropTypes.string.isRequired,onFormClose:PropTypes.func.isRequired},getInitialState:function(){return{active_item:null,contents:"",description:"",form_state:""}},componentWillUpdate:function(e,t){if(!t.form_shown)return this.props.onFormClose()},componentDidUpdate:function(){return autosize($("textarea.custom-height"))},formFields:function(){return["contents","description"]},onCreate:function(){return this.closeForm(),this.ajaxPost(routes.projects.browser_simulations.create({access_token:this.props.access_token}),{data:{browser_simulation:{contents:this.state.contents,description:this.state.description}},success:e=>this.createTest("browser_simulation",e)})},onUpdate:function(){var e;return e=this.state.active_item,this.closeForm(),this.ajaxPatch(routes.projects.browser_simulations.update({access_token:this.props.access_token,id:e.id}),{data:{browser_simulation:{contents:this.state.contents,description:this.state.description}},success:t=>this.updateTest("browser_simulation",e,t)})},onDelete:function(){var e;return e=this.state.active_item,this.closeForm(),this.ajaxDelete(routes.projects.browser_simulations.destroy({access_token:this.props.access_token,id:e.id}),{success:()=>this.deleteTest("browser_simulation",e)})},valid:function(){return this.state.contents.length&&this.state.description.length},render:function(){return this.form()},fields:function(){return l(null,l({className:"form-group row"},l({className:"col-xs-12"},p(null,h({className:"required-asterisk"},"*"),h(null,"Description"),React.createElement(r,{text:"Browser simulation description (shown to users)."})),c({className:"form-control",value:this.state.description,name:"description",onChange:this.handleChange}))),l({className:"form-group row"},l({className:"col-xs-12"},p(null,h({className:"required-asterisk"},"*"),h(null,"Test Contents"),React.createElement(r,{text:"Complete test file contents (see below for example)."})),m({className:"form-control custom-height",value:this.state.contents,name:"contents",onChange:this.handleChange}))),l({className:"form-group row"},l({className:"col-xs-12"},p(null,"Test Example"),d({className:"calculated-pre"},a(null,this.codeExample())),f(null,h(null,"Tests will be given 15 seconds to run. For the full documentation, click ",s({href:"http://selenium-python.readthedocs.io",target:"_blank"},"here."))))))},codeExample:function(){return["from selenium import webdriver","","driver = webdriver.PhantomJS()","driver.get('{{localhost}}/index.html')","driver.implicitly_wait(1)","","driver.find_element_by_id('button[name=clickMe]').click()","elm = driver.find_element_by_css_selector('ul#list li:first-child')","assert(elm.text == 'Clicked button')","driver.close()"].join("\n")}}),e.exports=i},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h,m;({HelpCircle:r}=n(13)),({a:s,code:a,div:l,h2:u,input:c,label:p,p:f,pre:d,span:h,textarea:m}=ReactDOMFactories),o=n(101),i=reactCreateClass({displayName:"CodePatterns",mixins:[mixins.AjaxMixin,mixins.ContentEditorFormMixin,mixins.FormMixin,mixins.StringMixin,o],propTypes:{access_token:PropTypes.string.isRequired,onFormClose:PropTypes.func.isRequired},getInitialState:function(){return{active_item:null,description:"",filename:"*",form_state:"",matches:[],pattern:"",present:!0,test_code:"",case_sensitive:!0,valid:!0}},componentWillUpdate:function(e,t){if(!t.form_shown)return this.props.onFormClose()},handleChangeRemote:function(e){var t,n;if(this.handleChange(e),(t="pattern"===e.target.name?e.target.value:this.state.pattern).length>0)return n="test_code"===e.target.name?e.target.value:this.state.test_code,this.testPattern(t,n);this.setState({matches:[]})},testPattern:function(e,t){return this.ajaxGet(routes.projects.code_patterns.test_pattern({access_token:this.props.access_token}),{data:{case_sensitive:this.state.case_sensitive,pattern:e,test_code:t},success:e=>this.setState({valid:e.valid,matches:e.matches,message:e.message})})},formFields:function(){return["case_sensitive","description","filename","matches","pattern","present","test_code"]},onCreate:function(){return this.closeForm(),this.ajaxPost(routes.projects.code_patterns.create({access_token:this.props.access_token}),{data:{code_pattern:{case_sensitive:this.state.case_sensitive,description:this.state.description,filename:this.state.filename,matches:_.map(this.state.matches,"text"),pattern:this.state.pattern,present:this.state.present,test_code:this.state.test_code}},success:e=>this.createTest("code_pattern",e)})},onUpdate:function(){var e;return e=this.state.active_item,this.closeForm(),this.ajaxPatch(routes.projects.code_patterns.update({access_token:this.props.access_token,id:e.id}),{data:{code_pattern:{case_sensitive:this.state.case_sensitive,description:this.state.description,filename:this.state.filename,matches:_.map(this.state.matches,"text"),pattern:this.state.pattern,present:this.state.present,test_code:this.state.test_code}},success:t=>this.updateTest("code_pattern",e,t)})},onDelete:function(){var e;return e=this.state.active_item,this.closeForm(),this.ajaxDelete(routes.projects.code_patterns.destroy({access_token:this.props.access_token,id:e.id}),{success:()=>this.deleteTest("code_pattern",e)})},toggleCaseSensitive:function(){return this.setState({case_sensitive:!this.state.case_sensitive},()=>this.testPattern(this.state.pattern,this.state.test_code))},valid:function(){return this.state.description.trim()&&this.state.pattern.trim()&&this.state.valid&&this.state.filename.trim()},render:function(){return this.form()},fields:function(){var e;return l(null,l({className:"form-group"},p(null,h({className:"required-asterisk"},"*"),h(null,"Description"),React.createElement(r,{text:"Code pattern description (shown to users)."})),c({className:"form-control",value:this.state.description,name:"description",onChange:this.handleChange})),l({className:"form-group row"},l({className:"col-xs-12"},p(null,h({className:"required-asterisk"},"*"),h(null,"Code Pattern"),React.createElement(r,{text:"Regular expression used to detect patterns in code."})),c({className:"form-control",value:this.state.pattern,name:"pattern",onChange:this.handleChangeRemote}))),l({className:"form-group row"},l({className:"col-xs-12"},p(null,h({className:"required-asterisk"},"*"),h(null,"Filename"),React.createElement(r,{text:"File to search (use local paths, globs supported). Use * for all files."})),c({className:"form-control",value:this.state.filename,name:"filename",onChange:this.handleChangeRemote}))),l({className:"form-group"},p(null,"Test Code",React.createElement(r,{text:"(optional) Code test your regular expression."})),m({className:"form-control",value:this.state.test_code,name:"test_code",onChange:this.handleChangeRemote,rows:5})),l({className:"form-group"},p(null,"Matches"),function(){var t,n,i,r;if(this.state.valid&&this.state.matches.length>0){for(r=[],t=0,n=(i=this.state.matches).length;t<n;t++)e=i[t],r.push(l({key:e.key},d({className:"calculated-pre",key:e.key},a(null,e.text))));return r}return this.state.valid?f(null,"No matches"):l({className:"callout danger"},h({className:"bold"},"Invalid Regex: "),this.state.message)}.call(this)),l({className:"row form-group"},l({className:"col-xs-5"},p(null,h(null,"Case Sensitive"),React.createElement(r,{text:"Enforce case sensitivity in code match."})),l(null,React.createElement(Toggle,{checked:this.state.case_sensitive,onChange:this.toggleCaseSensitive}))),l({className:"col-xs-3"},p(null,h(null,"Present"),React.createElement(r,{text:"Disable to pass if the pattern is NOT present."})),l(null,React.createElement(Toggle,{checked:this.state.present,onChange:this.toggle.bind(null,"present")})))))}}),e.exports=i},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h,m,g;({HelpCircle:r}=n(13)),({a:a,code:l,div:u,h2:c,input:p,label:f,p:d,pre:h,span:m,textarea:g}=ReactDOMFactories),o=n(57).default,s=n(101),i=reactCreateClass({displayName:"CommandTests",mixins:[mixins.AjaxMixin,mixins.ContentEditorFormMixin,mixins.FormMixin,mixins.StringMixin,s],propTypes:{access_token:PropTypes.string.isRequired,onFormClose:PropTypes.func.isRequired},getInitialState:function(){return{active_item:null,description:"",form_state:"",history_type:"bash",last:1,pattern:"",case_sensitive:!0}},componentWillUpdate:function(e,t){if(!t.form_shown)return this.props.onFormClose()},formFields:function(){return["case_sensitive","description","history_type","last","pattern"]},onCreate:function(){return this.closeForm(),this.ajaxPost(routes.projects.command_tests.create({access_token:this.props.access_token}),{data:{command_test:{case_sensitive:this.state.case_sensitive,description:this.state.description,history_type:this.state.history_type,last:this.state.last,pattern:this.state.pattern}},success:e=>this.createTest("command_test",e)})},onUpdate:function(){var e;return e=this.state.active_item,this.closeForm(),this.ajaxPatch(routes.projects.command_tests.update({access_token:this.props.access_token,id:e.id}),{data:{command_test:{case_sensitive:this.state.case_sensitive,description:this.state.description,history_type:this.state.history_type,last:this.state.last,pattern:this.state.pattern}},success:t=>this.updateTest("command_test",e,t)})},onDelete:function(){var e;return e=this.state.active_item,this.closeForm(),this.ajaxDelete(routes.projects.command_tests.destroy({access_token:this.props.access_token,id:e.id}),{success:()=>this.deleteTest("command_test",e)})},valid:function(){return this.state.description.trim()&&this.state.pattern.trim()},render:function(){return this.form()},fields:function(){return u(null,u({className:"form-group"},f(null,m({className:"required-asterisk"},"*"),m(null,"Description"),React.createElement(r,{text:"Command test description (shown to users)."})),p({className:"form-control",value:this.state.description,name:"description",onChange:this.handleChange})),u({className:"form-group row"},u({className:"col-xs-12"},f(null,m({className:"required-asterisk"},"*"),m(null,"Command Pattern"),React.createElement(r,{text:"Regular expression used to detect pattern in commands."})),p({className:"form-control",value:this.state.pattern,name:"pattern",onChange:this.handleChange}))),u({className:"row form-group"},u({className:"col-xs-3"},f(null,m({className:"required-asterisk"},"*"),m(null,"History Type"),React.createElement(r,{text:'What type of history to search. "All" searches through all text entered in terminal.'})),React.createElement(o,{value:this.state.history_type,clearable:!1,options:[{value:"bash",label:"Bash"},{value:"all",label:"All"}],onChange:e=>this.setState({history_type:e.value}),placeholder:"Select a history type."})),u({className:"col-xs-3"},f(null,m(null,"History Length"),React.createElement(r,{text:"How many previous commands to search for (max 2000)"})),p({className:"form-control",min:1,max:2e3,name:"last",onChange:this.handleChange,type:"number",value:this.state.last})),u({className:"col-xs-3"},f(null,m(null,"Case Sensitive"),React.createElement(r,{text:"Enforce case sensitivity in command match."})),u(null,React.createElement(Toggle,{checked:this.state.case_sensitive,onChange:this.toggle.bind(null,"case_sensitive")})))))}}),e.exports=i},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h,m,g,b,y;r=n(15),({HelpCircle:i}=n(13)),({a:l,code:u,div:c,h2:p,hr:f,input:d,label:h,p:m,pre:g,span:b,textarea:y}=ReactDOMFactories),o=n(57).default,a=n(101),s=reactCreateClass({displayName:"Tests",mixins:[mixins.AjaxMixin,mixins.ContentEditorFormMixin,mixins.FormMixin,mixins.StringMixin,mixins.ViewMixin,a,Reflux.connectFilter(r,"templates",function(e){return e.test_templates})],propTypes:{access_token:PropTypes.string.isRequired,onFormClose:PropTypes.func.isRequired},getInitialState:function(){return{active_item:null,build_first:!1,command:"",contents:"",description:"",failed_pattern:"",filename:"",form_state:"",notes:null,require_success:!1}},componentWillUpdate:function(e,t){if(!t.form_shown)return this.props.onFormClose()},componentDidUpdate:function(){return autosize($("textarea.custom-height"))},formFields:function(){return["build_first","command","contents","description","failed_pattern","filename","require_success"]},onCreate:function(){return this.closeForm(),this.ajaxPost(routes.projects.custom_tests.create({access_token:this.props.access_token}),{data:{custom_test:{build_first:this.state.build_first,command:this.state.command,contents:this.state.contents,description:this.state.description,failed_pattern:this.state.failed_pattern,filename:this.state.filename,require_success:this.state.require_success}},success:e=>this.createTest("custom_test",e)})},onUpdate:function(){var e;return e=this.state.active_item,this.closeForm(),this.ajaxPatch(routes.projects.custom_tests.update({access_token:this.props.access_token,id:e.id}),{data:{custom_test:{build_first:this.state.build_first,command:this.state.command,contents:this.state.contents,description:this.state.description,failed_pattern:this.state.failed_pattern,filename:this.state.filename,require_success:this.state.require_success}},success:t=>this.updateTest("custom_test",e,t)})},onDelete:function(){var e;return e=this.state.active_item,this.closeForm(),this.ajaxDelete(routes.projects.custom_tests.destroy({access_token:this.props.access_token,id:e.id}),{success:()=>this.deleteTest("custom_test",e)})},templates:function(){return _.sortBy(_.map(this.state.templates,function(e,t){return{value:t,label:e.description}}),function(e){return e.label})},setTemplate:function(e){var t;return t=this.state.templates[e.value],this.setState({build_first:t.build_first,command:t.command,contents:t.contents,failed_pattern:t.failed_pattern,notes:t.notes,require_success:t.require_success,filename:t.filename_override||"",template:t.description},function(){return autosize.update($("textarea.custom-height"))})},toggleBuildFirst:function(){return this.setState({build_first:!this.state.build_first})},toggleRequireSuccess:function(){return this.setState({require_success:!this.state.require_success})},valid:function(){return this.state.command.length&&this.state.contents.length&&this.state.description.length&&this.state.failed_pattern.length},render:function(){return this.form()},fields:function(){return c(null,c({className:"form-group row"},c({className:"col-xs-12"},h(null,"Select Template"),React.createElement(o,{value:this.state.template,options:this.templates(),onChange:this.setTemplate,placeholder:"(optional) Select a template"}))),this.state.notes?c({className:"form-group row"},c({className:"col-xs-12"},h(null,"Template Notes"),this.markdownElm({contents:this.state.notes}))):void 0,f(null),c({className:"form-group row"},c({className:"col-xs-12"},h(null,b({className:"required-asterisk"},"*"),b(null,"Description"),React.createElement(i,{text:"Custom description (shown to users)."})),d({className:"form-control",value:this.state.description,name:"description",onChange:this.handleChange}))),c({className:"form-group row"},c({className:"col-xs-12"},h(null,b({className:"required-asterisk"},"*"),b(null,"Command"),React.createElement(i,{text:"Command to run custom test with. Supports templates."})),d({className:"form-control",value:this.state.command,name:"command",onChange:this.handleChange}))),c({className:"form-group row"},c({className:"col-xs-12"},h(null,b({className:"required-asterisk"},"*"),b(null,"Test Contents"),React.createElement(i,{text:"Complete custom test file contents."})),y({className:"form-control custom-height",value:this.state.contents,name:"contents",onChange:this.handleChange}))),c({className:"form-group row"},c({className:"col-xs-12"},h(null,b({className:"required-asterisk"},"*"),b(null,"Failed Pattern"),React.createElement(i,{text:"Ruby regular expression that will match if test fails."})),d({className:"form-control",value:this.state.failed_pattern,name:"failed_pattern",onChange:this.handleChange}))),c({className:"form-group row"},c({className:"col-xs-12"},h(null,"Filename Override"),React.createElement(i,{text:'Specific filename to save test file as. If not specified, a random filename will be generated. For best user experience, start with "nt-test-".'}),d({className:"form-control",value:this.state.filename,name:"filename",onChange:this.handleChange}))),c({className:"row form-group"},c({className:"col-xs-3"},h(null,b(null,"Build First"),React.createElement(i,{text:"Build project before running test."})),c(null,React.createElement(Toggle,{checked:this.state.build_first,onChange:this.toggleBuildFirst}))),c({className:"col-xs-3"},h(null,b(null,"Require Success"),React.createElement(i,{text:"Require a 0 exit status."})),c(null,React.createElement(Toggle,{checked:this.state.require_success,onChange:this.toggleRequireSuccess})))))}}),e.exports=s},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h,m,g;n(15),({HelpCircle:r}=n(13)),({a:s,button:a,canvas:l,code:u,div:c,h2:p,input:f,label:d,pre:h,span:m,textarea:g}=ReactDOMFactories),o=n(101),i=reactCreateClass({displayName:"FullGuiTests",mixins:[mixins.AjaxMixin,mixins.ContentEditorFormMixin,mixins.FormMixin,mixins.StringMixin,o],propTypes:{access_token:PropTypes.string.isRequired,onFormClose:PropTypes.func.isRequired},getInitialState:function(){return{active_item:null,command:"",contents:"",description:"",filename:"",form_state:""}},componentWillUpdate:function(e,t){if(!t.form_shown)return this.props.onFormClose()},componentDidUpdate:function(){return autosize($("textarea.custom-height"))},formFields:function(){return["command","contents","description","filename"]},onCreate:function(){return this.closeForm(),this.ajaxPost(routes.projects.full_gui_tests.create({access_token:this.props.access_token}),{data:{full_gui_test:{command:this.state.command,contents:this.state.contents,description:this.state.description,filename:this.state.filename}},success:e=>this.createTest("full_gui_test",e)})},onUpdate:function(){var e;return e=this.state.active_item,this.closeForm(),this.ajaxPatch(routes.projects.full_gui_tests.update({access_token:this.props.access_token,id:e.id}),{data:{full_gui_test:{command:this.state.command,contents:this.state.contents,description:this.state.description,filename:this.state.filename}},success:t=>this.updateTest("full_gui_test",e,t)})},onDelete:function(){var e;return e=this.state.active_item,this.closeForm(),this.ajaxDelete(routes.projects.full_gui_tests.destroy({access_token:this.props.access_token,id:e.id}),{success:()=>this.deleteTest("full_gui_test",e)})},valid:function(){return this.state.contents.length&&this.state.description.length},render:function(){return this.form()},fields:function(){return c({id:"full-gui-tests"},c({className:"form-group"},d(null,m({className:"required-asterisk"},"*"),m(null,"Description"),React.createElement(r,{text:"GUI test description (shown to users)."})),f({className:"form-control",value:this.state.description,name:"description",onChange:this.handleChange})),c({className:"form-group row"},c({className:"col-xs-12"},d(null,m({className:"required-asterisk"},"*"),m(null,"Command"),React.createElement(r,{text:"Command to run GUI test with. Supports templates."})),f({className:"form-control",name:"command",value:this.state.command,onChange:this.handleChange,placeholder:'e.g. "python3 {{test}}"'}))),c({className:"form-group row"},c({className:"col-xs-12"},d(null,m({className:"required-asterisk"},"*"),m(null,"Test Contents"),React.createElement(r,{text:"Write code to run the GUI program with. Supports templates."})),g({className:"form-control custom-height",name:"contents",value:this.state.contents,onChange:this.handleChange}))),c({className:"row form-group"},c({className:"col-xs-9"},d(null,m(null,"Filename Override"),React.createElement(r,{text:"Optional static test filename."})),c(null,f({className:"form-control",name:"filename",value:this.state.filename,onChange:this.handleChange})))))}}),e.exports=i},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h,m;({HelpCircle:i}=n(13)),({a:s,code:a,div:l,h2:u,input:c,label:p,p:f,pre:d,span:h,textarea:m}=ReactDOMFactories),o=n(101),r=reactCreateClass({displayName:"HtmlParsers",mixins:[mixins.AjaxMixin,mixins.ContentEditorFormMixin,mixins.FormMixin,mixins.StringMixin,o],propTypes:{access_token:PropTypes.string.isRequired,onFormClose:PropTypes.func.isRequired},getInitialState:function(){return{active_item:null,contents:"",description:"",form_state:""}},componentWillUpdate:function(e,t){if(!t.form_shown)return this.props.onFormClose()},componentDidUpdate:function(){return autosize($("textarea.custom-height"))},formFields:function(){return["contents","description"]},onCreate:function(){return this.closeForm(),this.ajaxPost(routes.projects.html_parsers.create({access_token:this.props.access_token}),{data:{html_parser:{contents:this.state.contents,description:this.state.description}},success:e=>this.createTest("html_parser",e)})},onUpdate:function(){var e;return e=this.state.active_item,this.closeForm(),this.ajaxPatch(routes.projects.html_parsers.update({access_token:this.props.access_token,id:e.id}),{data:{html_parser:{contents:this.state.contents,description:this.state.description}},success:t=>this.updateTest("html_parser",e,t)})},onDelete:function(){var e;return e=this.state.active_item,this.closeForm(),this.ajaxDelete(routes.projects.html_parsers.destroy({access_token:this.props.access_token,id:e.id}),{success:()=>this.deleteTest("html_parser",e)})},valid:function(){return this.state.contents.length&&this.state.description.length},render:function(){return this.form()},fields:function(){return l(null,l({className:"form-group row"},l({className:"col-xs-12"},p(null,h({className:"required-asterisk"},"*"),h(null,"Description"),React.createElement(i,{text:"HTML parser description (shown to users)."})),c({className:"form-control",value:this.state.description,name:"description",onChange:this.handleChange}))),l({className:"form-group row"},l({className:"col-xs-12"},p(null,h({className:"required-asterisk"},"*"),h(null,"Test Contents"),React.createElement(i,{text:"Complete test file contents (see below for example)."})),m({className:"form-control custom-height",value:this.state.contents,name:"contents",onChange:this.handleChange}))),l({className:"form-group row"},l({className:"col-xs-12"},p(null,"Test Example"),d({className:"calculated-pre"},a(null,"from bs4 import BeautifulSoup\n","\n","with open('index.html', 'r') as file:\n","    soup = BeautifulSoup(file.read(), 'html.parser')\n","\n","    # Use at least one assertion\n","    assert(len(soup.find_all('a')) == 3)\n")),f(null,h(null,"For the full BeautifulSoup (v4) documentation, click ",s({href:"https://www.crummy.com/software/BeautifulSoup/bs4/doc/",target:"_blank"},"here."))))))}}),e.exports=r},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h;n(15),({HelpCircle:i}=n(13)),({a:s,div:a,h2:l,i:u,img:c,input:p,label:f,p:d,span:h}=ReactDOMFactories),o=n(101),r=reactCreateClass({displayName:"ImageTests",mixins:[mixins.AjaxMixin,mixins.ContentEditorFormMixin,mixins.FormMixin,mixins.StringMixin,o],propTypes:{access_token:PropTypes.string.isRequired,onFormClose:PropTypes.func.isRequired},getInitialState:function(){return{active_item:null,description:"",file:null,filepath:"",form_state:"",image_url:"",tolerance:0}},componentWillUpdate:function(e,t){if(!t.form_shown)return this.props.onFormClose()},componentDidUpdate:function(e,t){if(!t.form_state&&"update"===this.state.form_state)return this.loadImage()},formFields:function(){return["description","file","filepath","tolerance"]},onCreate:function(){return this.closeForm(),this.ajaxPost(routes.projects.image_tests.create({access_token:this.props.access_token}),{data:{image_test:{description:this.state.description,file:this.state.file,filepath:this.state.filepath,tolerance:this.state.tolerance}},success:e=>this.createTest("image_test",e)})},onUpdate:function(){var e;return e=this.state.active_item,this.closeForm(),this.ajaxPatch(routes.projects.image_tests.update({access_token:this.props.access_token,id:e.id}),{data:{image_test:{description:this.state.description,file:this.state.file,filepath:this.state.filepath,tolerance:this.state.tolerance}},success:t=>this.updateTest("image_test",e,t)})},onDelete:function(){var e;return e=this.state.active_item,this.closeForm(),this.ajaxDelete(routes.projects.image_tests.destroy({access_token:this.props.access_token,id:e.id}),{success:()=>this.deleteTest("image_test",e)})},valid:function(){return this.state.description.length&&this.state.filepath.length&&(this.state.file||this.state.active_item)},setFile:function(){var e,t;return e=document.querySelector("#image-test-upload").files[0],null,(t=new FileReader).readAsDataURL(e),t.onload=(()=>this.setState({file:t.result}))},loadImage:function(){return this.setState({loading:!0},()=>this.ajaxGet(routes.projects.image_tests.load_image({access_token:this.props.access_token,id:this.state.active_item.id}),{success:e=>{if(this.setState({loading:!1}),e.url)return this.setState({image_url:e.url})},error:()=>(this.setState({loading:!1}),$.alert("Could not load screenshot.","danger"))}))},render:function(){return this.form()},fields:function(){var e;return e=this.state.file||this.state.image_url,a({id:"image-tests"},a({className:"row form-group"},a({className:"col-xs-12"},f(null,h({className:"required-asterisk"},"*"),h(null,"Description"),React.createElement(i,{text:"Image test description (shown to users)."})),p({className:"form-control",value:this.state.description,name:"description",onChange:this.handleChange}))),a({className:"row form-group"},a({className:"col-xs-12"},f(null,h({className:"required-asterisk"},"*"),h(null,"Relative File Path (PNG)"),React.createElement(i,{text:"The relative path for the image to be compared. (e.g., 'image.png', 'images/image.png', etc.). Only .png files are supported."})),p({className:"form-control",value:this.state.filepath,name:"filepath",onChange:this.handleChange}))),a({className:"row form-group"},a({className:"col-xs-12"},f({className:"bottom-margin-10"},h({className:"required-asterisk"},"*"),h(null,"Solution Image (PNG)"),React.createElement(i,{text:"Solution file (shown to users). Must be same dimensions as result."})),this.state.loading?a({className:"text-blue text-center"},u({className:"fal fa-spinner-third fa-spin"})):e?c({id:"image-test-img",className:"image-test-img no-link",src:e}):void 0,this.state.loading?void 0:a({className:"text-center top-margin-10"},f({id:"image-test-upload-input",htmlFor:"image-test-upload",className:"btn btn-sm btn-text btn-blue bold"},h(null,u({className:"fas fa-upload"}),` Upload ${e?"new":""} Image`)),p({id:"image-test-upload",className:"input--hidden",multiple:!1,type:"file",accept:"image/x-png",onChange:this.setFile})))),a({className:"row form-group"},a({className:"col-xs-3"},f(null,h(null,"Tolerance %"),React.createElement(i,{text:"Percent difference that must be met for test to pass."})),a(null,p({className:"form-control",min:0,max:100,name:"tolerance",onChange:this.handleChange,type:"number",value:this.state.tolerance,step:1})))))}}),e.exports=r},function(e,t,n){var i,r,o,s,a,l,u,c,p,f;({HelpCircle:i}=n(13)),({a:s,div:a,h2:l,input:u,label:c,p:p,span:f}=ReactDOMFactories),o=n(101),r=reactCreateClass({displayName:"IssueTests",mixins:[mixins.AjaxMixin,mixins.ContentEditorFormMixin,mixins.FormMixin,mixins.StringMixin,o],propTypes:{access_token:PropTypes.string.isRequired,onFormClose:PropTypes.func.isRequired},getInitialState:function(){return{active_item:null,description:"",form_state:"",matches:[],pattern:"",present:!0}},componentWillUpdate:function(e,t){if(!t.form_shown)return this.props.onFormClose()},formFields:function(){return["description","pattern","present"]},onCreate:function(){return this.closeForm(),this.ajaxPost(routes.projects.issue_tests.create({access_token:this.props.access_token}),{data:{issue_test:{description:this.state.description,pattern:this.state.pattern,present:this.state.present}},success:e=>this.createTest("issue_test",e)})},onUpdate:function(){var e;return e=this.state.active_item,this.closeForm(),this.ajaxPatch(routes.projects.issue_tests.update({access_token:this.props.access_token,id:e.id}),{data:{issue_test:{description:this.state.description,pattern:this.state.pattern,present:this.state.present}},success:t=>this.updateTest("issue_test",e,t)})},onDelete:function(){var e;return e=this.state.active_item,this.closeForm(),this.ajaxDelete(routes.projects.issue_tests.destroy({access_token:this.props.access_token,id:e.id}),{success:()=>this.deleteTest("issue_test",e)})},togglePresent:function(){return this.setState({present:!this.state.present})},valid:function(){return this.state.description.length&&this.state.pattern.length},render:function(){return this.form()},fields:function(){return a(null,a({className:"form-group"},c(null,f({className:"required-asterisk"},"*"),f(null,"Description"),React.createElement(i,{text:"Error pattern description (shown to users)."})),u({className:"form-control",value:this.state.description,name:"description",onChange:this.handleChange})),a({className:"form-group row"},a({className:"col-xs-12"},c(null,f({className:"required-asterisk"},"*"),f(null,"Error Pattern"),React.createElement(i,{text:"Regular expression used to detect patterns in error messages."})),u({className:"form-control",value:this.state.pattern,name:"pattern",onChange:this.handleChange}))),a({className:"row form-group"},a({className:"col-xs-3"},c(null,f(null,"Present"),React.createElement(i,{text:"If issue should or should not be present for test to pass."})),a(null,React.createElement(Toggle,{checked:this.state.present,onChange:this.togglePresent})))))}}),e.exports=r},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h,m,g,b,y;r=n(15),o=n(537),({HelpCircle:i}=n(13)),({a:l,button:u,canvas:c,code:p,div:f,h2:d,input:h,label:m,pre:g,span:b,textarea:y}=ReactDOMFactories),a=n(101),s=reactCreateClass({displayName:"PythonGuiTests",mixins:[o,mixins.AjaxMixin,mixins.ContentEditorFormMixin,mixins.FormMixin,mixins.StringMixin,a,Reflux.connectFilter(r,"color",function(e){return e.python_gui_color})],propTypes:{access_token:PropTypes.string.isRequired,onFormClose:PropTypes.func.isRequired},getInitialState:function(){return{active_item:null,code:"",description:"",height:400,form_state:"",loaded:!1,tolerance:0,width:400}},componentWillUpdate:function(e,t){if(!t.form_shown)return this.props.onFormClose()},componentDidUpdate:function(e,t){if(!this.state.loaded&&this.state.id&&this.setState({loaded:!0},()=>{if(this.state.code)return this.runCode()}),autosize($("textarea.custom-height")),t.height!==this.state.height||t.width!==this.state.width)return(c=$("#skulpt-test-canvas")).css("max-height",""),c.css("max-width",""),Sk.TurtleGraphics?(Sk.TurtleGraphics.height=this.state.height,Sk.TurtleGraphics.width=this.state.width):void 0},formFields:function(){return["id","code","description","height","tolerance","width"]},onCreate:function(){return this.closeForm(),this.ajaxPost(routes.projects.python_gui_tests.create({access_token:this.props.access_token}),{data:{python_gui_test:{code:this.state.code,description:this.state.description,height:this.state.height,tolerance:this.state.tolerance,width:this.state.width}},success:e=>this.createTest("python_gui_test",e)})},onUpdate:function(){var e;return e=this.state.active_item,this.closeForm(),this.ajaxPatch(routes.projects.python_gui_tests.update({access_token:this.props.access_token,id:e.id}),{data:{python_gui_test:{code:this.state.code,description:this.state.description,height:this.state.height,tolerance:this.state.tolerance,width:this.state.width}},success:t=>this.updateTest("python_gui_test",e,t)})},onDelete:function(){var e;return e=this.state.active_item,this.closeForm(),this.ajaxDelete(routes.projects.python_gui_tests.destroy({access_token:this.props.access_token,id:e.id}),{success:()=>this.deleteTest("python_gui_test",e)})},valid:function(){return this.state.code.length&&this.state.description.length},runCode:function(){return this.setupSkulpt("skulpt-test-canvas",!0),$("#skulpt-test-output").html(""),Sk.misceval.asyncToPromise(()=>Sk.importMainWithBody("<stdin>",!1,this.state.code,!0)).then(()=>console.info("Solution image updated."),e=>{throw $.alert(e.toString(),"danger"),e})},handleSizeChange:function(e){if(!e.target.value.length||!(e.target.value<1||e.target.value>500))return this.handleChange(e)},render:function(){return this.form()},fields:function(){return f({id:"python-gui-tests"},f({className:"form-group"},m(null,b({className:"required-asterisk"},"*"),b(null,"Description"),React.createElement(i,{text:"GUI test description (shown to users)."})),h({className:"form-control",value:this.state.description,name:"description",onChange:this.handleChange})),f({className:"form-group row"},f({className:"col-xs-12"},m(null,b({className:"required-asterisk"},"*"),b(null,"Solution Code"),React.createElement(i,{text:"Write Python code to generate solution file with."})),y({className:"form-control custom-height",name:"code",value:this.state.code,onChange:this.handleChange}))),f({className:"row"},f({className:"col-xs-12"},l({className:"btn btn-sm btn-action btn-green pull-right bold",onClick:this.runCode},"Run"))),f({className:"row bottom-margin-20"},f({className:"col-xs-12"},m(null,b(null,"Solution Output"),React.createElement(i,{text:"The image generated by the solution code."})),f({id:"skulpt-test-canvas",style:{background:this.state.color,height:`${this.state.height}px`,width:`${this.state.width}px`}}))),f({className:"row form-group"},f({className:"col-xs-3"},m(null,b(null,"Height"),React.createElement(i,{text:"Height of test canvas (smaller results in higher accuracy image comparison)."})),f(null,h({className:"form-control",min:1,max:500,name:"height",onChange:this.handleSizeChange,type:"number",value:this.state.height}))),f({className:"col-xs-3"},m(null,b(null,"Width"),React.createElement(i,{text:"Width of test canvas (smaller results in higher accuracy image comparison)."})),f(null,h({className:"form-control",min:1,max:500,name:"width",onChange:this.handleSizeChange,type:"number",value:this.state.width}))),f({className:"col-xs-3"},m(null,b(null,"Tolerance %"),React.createElement(i,{text:"Percent difference that must be met for test to pass."})),f(null,h({className:"form-control",min:0,max:100,name:"tolerance",onChange:this.handleChange,type:"number",value:this.state.tolerance,step:1})))))}}),e.exports=s},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h,m,g,b,y;r=n(43),s=n(15),a=n(362),({HelpCircle:o}=n(13)),({a:p,div:f,h2:d,input:h,label:m,p:g,span:b,textarea:y}=ReactDOMFactories),l=n(57).default,c=n(101),i=n(100),u=reactCreateClass({displayName:"SqlTests",mixins:[mixins.AjaxMixin,mixins.ContentEditorFormMixin,mixins.FormMixin,mixins.StringMixin,c,i,Reflux.connect(r,"container"),Reflux.connectFilter(s,"default_database",function(e){return e.sql_database}),Reflux.connectFilter(s,"default_database_type",function(e){return e.sql_database_type})],propTypes:{access_token:PropTypes.string.isRequired,onFormClose:PropTypes.func.isRequired},getInitialState:function(){return{active_item:null,count:0,database:"{{database}}",database_type:"{{database_type}}",description:"",error:null,form_state:"",ordered:!1,expected_results:[],statement:"",use_statement:!0}},componentWillUpdate:function(e,t){if(!t.form_shown)return this.props.onFormClose()},componentDidUpdate:function(){return autosize($("textarea.custom-height"))},formFields:function(){return["database","database_type","description","expected_results","ordered","statement","use_statement"]},onCreate:function(){return this.closeForm(),this.ajaxPost(routes.projects.sql_tests.create({access_token:this.props.access_token}),{data:{sql_test:{database:this.state.database,database_type:this.state.database_type,description:this.state.description,expected_results:this.state.expected_results,ordered:this.state.ordered,statement:this.state.statement,use_statement:this.state.use_statement}},success:e=>this.createTest("sql_test",e)})},onUpdate:function(){var e;return e=this.state.active_item,this.closeForm(),this.ajaxPatch(routes.projects.sql_tests.update({access_token:this.props.access_token,id:e.id}),{data:{sql_test:{database:this.state.database,database_type:this.state.database_type,description:this.state.description,expected_results:this.state.expected_results,ordered:this.state.ordered,statement:this.state.statement,use_statement:this.state.use_statement}},success:t=>this.updateTest("sql_test",e,t)})},onDelete:function(){var e;return e=this.state.active_item,this.closeForm(),this.ajaxDelete(routes.projects.sql_tests.destroy({access_token:this.props.access_token,id:e.id}),{success:()=>this.deleteTest("sql_test",e)})},valid:function(){return this.state.description.trim()&&this.state.statement.trim()&&this.state.database.trim()},getResults:function(){var e;if(this.state.container.token){if(this.state.statement.trim())return e="mysql"===this.databaseType()?["mysql","-D",this.database(),"-e",this.state.statement]:["psql","-d",this.database(),"-AF","\t","--no-align","-c",this.state.statement],this.exec(this.state.container.root_hostname,this.state.container.token,e,{cb:e=>this.processResponse(e)});$.alert("Please enter a SQL statement")}},processResponse:function(e){return 101,this.setState({expected_results:[],error:null},()=>{var t,n;return 0===e.status&&e.stdout.length?(n=(t=e.stdout.split(/\n/)).length,t=(t||[]).slice(0,101),t=_.reject(t,function(e){return!e.trim().length}),t=_.map(t,function(e){return e.split(/\t/)}),n>101&&$.alert(`${n-1} rows have been limited to 100 rows.`),this.setState({expected_results:t})):e.stderr.length?this.setState({error:e.stderr.trim()}):void 0})},database:function(){var e;return(e=this.state.database)&&e.trim()&&"{{database}}"!==e.trim()?e:this.state.default_database},databaseType:function(){var e;return(e=this.state.database_type)&&e.trim()&&"{{database_type}}"!==e.trim()?e:this.state.default_database_type},headers:function(){return this.state.expected_results[0]||[]},data:function(){return this.state.expected_results.slice(1,101)},render:function(){return this.form()},fields:function(){return f({className:"sql-tests-editor"},f({className:"row form-group"},f({className:"col-xs-12"},m(null,b({className:"required-asterisk"},"*"),b(null,"Description"),React.createElement(o,{text:"SQL test description (shown to users)."})),h({className:"form-control",value:this.state.description,name:"description",onChange:this.handleChange}))),f({className:"row form-group"},f({className:"col-xs-12"},m(null,b({className:"required-asterisk"},"*"),b(null,"SQL Statement"),React.createElement(o,{text:`SQL statement to generate test results with. ${this.state.use_statement?"Will be used during test running to check if test has passed.":""}`})),y({className:"form-control custom-height",value:this.state.statement,name:"statement",onChange:this.handleChange,placeholder:"SELECT * FROM people;"}),g(null,"Visible to users, so you may want to use ",p({href:"http://www.dpriver.com/pp/sqlformat.htm",target:"_blank"},"this")," formatter."))),f({className:"row form-group"},f({className:"col-xs-12"},m(null,b(null,"Results"),React.createElement(o,{text:"The database result data to use during testing."})),this.state.error?f({className:"callout danger"},this.state.error):this.state.expected_results.length?React.createElement(a,{headers:this.headers(),data:this.data()}):f({className:"callout info"},"Results are empty."))),f({className:"row bottom-margin-20"},f({className:"col-xs-12"},p({className:"btn btn-sm btn-action btn-green pull-right bold",onClick:this.getResults},"Query"))),f({className:"row form-group"},f({className:"col-xs-3"},m(null,b({className:"required-asterisk"},"*"),b(null,"Database"),React.createElement(o,{text:"Name of the database to query. Leave as {{database}} to use the database set in the SQL results viewer settings."})),h({className:"form-control",value:this.state.database,name:"database",onChange:this.handleChange,placeholder:"people_database"})),f({className:"col-xs-3"},m(null,b({className:"required-asterisk"},"*"),b(null,"Database Type"),React.createElement(o,{text:"Type of database to query. Leave as {{database_type}} to use the database type set in the SQL results viewer settings."})),React.createElement(l,{value:this.state.database_type,options:[{label:"{{database_type}}",value:"{{database_type}}"},{label:"MySQL",value:"mysql"},{label:"PostgreSQL",value:"postgresql"}],clearable:!1,onChange:e=>this.setState({database_type:e.value})})),f({className:"col-xs-3"},m(null,b(null,"SELECT Query"),React.createElement(o,{text:"User will write a SELECT query that should be run to generate results during testing. If disabled, the above statement will be run instead."})),f(null,React.createElement(Toggle,{checked:!this.state.use_statement,onChange:this.toggle.bind(null,"use_statement")}))),f({className:"col-xs-3"},m(null,b(null,"Enforce Order"),React.createElement(o,{text:"Require the results to be returned in the same order."})),f(null,React.createElement(Toggle,{checked:this.state.ordered,onChange:this.toggle.bind(null,"ordered")})))))}}),e.exports=u},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d;({HelpCircle:i}=n(13)),({a:s,div:a,h2:l,i:u,input:c,label:p,p:f,span:d}=ReactDOMFactories),o=n(101),r=reactCreateClass({displayName:"TestCases",mixins:[mixins.AjaxMixin,mixins.ContentEditorFormMixin,mixins.FormMixin,mixins.ItemMixin,o],propTypes:{access_token:PropTypes.string.isRequired,onFormClose:PropTypes.func.isRequired},getInitialState:function(){return{active_item:null,advanced:!1,case_sensitive:!1,description:"",inputs_prompt:"",inputs:[],form_state:"",option:null,ordered:!1,expected_results_prompt:"",expected_results:[],not_expected_results_prompt:"",not_expected_results:[],regex:!1,strict:!1,timeout:5}},componentWillUpdate:function(e,t){if(!t.form_shown)return this.props.onFormClose()},formFields:function(){return["case_sensitive","cloned","description","input","inputs_prompt","inputs","ordered","option","output","expected_results_prompt","expected_results","not_expected_results_prompt","not_expected_results","regex","strict","timeout"]},safeInput:function(){return this.state.inputs.length>0?`${_.map(this.state.inputs,"text").join("\n")}\n`:""},onCreate:function(){return this.closeForm(),this.ajaxPost(routes.projects.test_cases.create({access_token:this.props.access_token}),{data:{test_case:{case_sensitive:this.state.case_sensitive,description:this.state.description,option:this.state.option,ordered:this.state.ordered,output:"",expected_results:_.map(this.state.expected_results,"text"),not_expected_results:_.map(this.state.not_expected_results,"text"),regex:this.state.regex,strict:this.state.strict,test_input:this.safeInput(),timeout:this.state.timeout}},success:e=>this.createTest("test_case",e)})},onUpdate:function(){var e;return e=this.state.active_item,this.closeForm(),this.ajaxPatch(routes.projects.test_cases.update({access_token:this.props.access_token,id:e.id}),{data:{test_case:{case_sensitive:this.state.case_sensitive,description:this.state.description,expected_results:_.map(this.state.expected_results,"text"),not_expected_results:_.map(this.state.not_expected_results,"text"),option:this.state.option,ordered:this.state.ordered,regex:this.state.regex,strict:this.state.strict,test_input:this.safeInput(),timeout:this.state.timeout}},success:t=>this.updateTest("test_case",e,t)})},onDelete:function(){var e;return e=this.state.active_item,this.closeForm(),this.ajaxDelete(routes.projects.test_cases.destroy({access_token:this.props.access_token,id:e.id}),{success:()=>this.deleteTest("test_case",e)})},valid:function(){return this.state.description.trim()&&this.state.timeout>0&&this.state.timeout<31},render:function(){return this.form()},fields:function(){var e,t,n;return a(null,a({className:"form-group"},p(null,d({className:"required-asterisk"},"*"),d(null,"Description"),React.createElement(i,{text:"Test case description (shown to users)."})),c({className:"form-control",value:this.state.description,name:"description",onChange:this.handleChange})),a(null,a({className:"form-group"},p(null,d(null,"Input / STDIN"),React.createElement(i,{text:'Input is read into the program at runtime (shown to users). Press "Enter" after each input.'})),c({className:"form-control",type:"text",name:"inputs_prompt",autoComplete:"off",defaultValue:this.state.inputs_prompt,onChange:this.handleChange,onKeyDown:this.checkSavedItem.bind(null,"inputs")}),function(){var t,n,i,r;for(r=[],t=0,n=(i=this.state.inputs).length;t<n;t++)e=i[t],r.push(a({key:e.key,className:"input-item"},s({className:"delete-input",onClick:this.removeItem.bind(null,"inputs",e.key)},u({className:"fal fa-times"})),a({className:"input-text",key:e.key},e.text)));return r}.call(this)),a({className:"form-group"},p(null,d(null,"Expected Output"),React.createElement(i,{text:'Keywords searched for in program output (shown to users). Press "Enter" after each keyword.'})),c({className:"form-control",type:"text",name:"expected_results_prompt",autoComplete:"off",defaultValue:this.state.expected_results_prompt,onChange:this.handleChange,onKeyDown:this.checkSavedItem.bind(null,"expected_results")}),function(){var e,n,i,r;for(r=[],e=0,n=(i=this.state.expected_results).length;e<n;e++)t=i[e],r.push(a({key:t.key,className:"output-item"},s({className:"delete-input",onClick:this.removeItem.bind(null,"expected_results",t.key)},u({className:"fal fa-times"})),a({className:"input-text",key:t.key},t.text)));return r}.call(this)),a({className:"form-group"},p(null,d(null,"Not Expected Output"),React.createElement(i,{text:'Keywords that should not be present in program output (shown to users). Press "Enter" after each keyword.'})),c({className:"form-control",type:"text",name:"not_expected_results_prompt",autoComplete:"off",defaultValue:this.state.not_expected_results_prompt,onChange:this.handleChange,onKeyDown:this.checkSavedItem.bind(null,"not_expected_results")}),function(){var e,t,i,r;for(r=[],e=0,t=(i=this.state.not_expected_results).length;e<t;e++)n=i[e],r.push(a({key:n.key,className:"output-item"},s({className:"delete-input",onClick:this.removeItem.bind(null,"not_expected_results",n.key)},u({className:"fal fa-times"})),a({className:"input-text",key:n.key},n.text)));return r}.call(this)),a({className:"row form-group"},a({className:"col-xs-3"},p(null,d(null,"Ordered"),React.createElement(i,{text:"Enforce order in output"})),a(null,React.createElement(Toggle,{checked:this.state.ordered,onChange:this.toggle.bind(null,"ordered")}))),a({className:"col-xs-3"},p(null,d(null,"Case Sensitive"),React.createElement(i,{text:"Enforce case sensitivity in output."})),a(null,React.createElement(Toggle,{checked:this.state.case_sensitive,onChange:this.toggle.bind(null,"case_sensitive")}))),a({className:"col-xs-3"},p(null,d(null,"Strict"),React.createElement(i,{text:"Require exact matching in output (whitespace, special characters, no trailing characters, etc.)."})),a(null,React.createElement(Toggle,{checked:this.state.strict||this.state.regex,disabled:this.state.regex,onChange:this.toggle.bind(null,"strict")}))),a({className:"col-xs-3"},p(null,d(null,"Regex"),React.createElement(i,{text:"Treat expected keywords as a regular expressions instead of plain text."})),a(null,React.createElement(Toggle,{checked:this.state.regex,onChange:this.toggle.bind(null,"regex")})))),a({className:"row form-group"},this.state.advanced?a(null,a({className:"col-xs-6"},p(null,d(null,"Entry Point"),React.createElement(i,{text:"Override the file used to run this test case."})),c({className:"form-control",value:this.state.option||"",name:"option",onChange:this.handleChange})),a({className:"col-xs-3"},p(null,d(null,"Timeout"),React.createElement(i,{text:"Number of seconds to run test case for (30 seconds maximum)."})),a(null,c({className:"form-control",max:30,min:0,name:"timeout",onChange:this.handleChange,type:"number",value:this.state.timeout})))):a({className:"col-xs-12"},s({onClick:()=>this.setState({advanced:!0})},"Show Advanced Settings")))))}}),e.exports=r},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h,m,g,b,y,v,x,w;r=n(15),s=n(552),({HelpCircle:i}=n(13)),({a:u,button:c,code:p,div:f,h2:d,hr:h,i:m,input:g,label:b,p:y,pre:v,span:x,textarea:w}=ReactDOMFactories),o=n(57).default,a=n(101),l=reactCreateClass({displayName:"UnitTests",mixins:[mixins.AjaxMixin,mixins.ContentEditorFormMixin,mixins.FormMixin,mixins.ItemMixin,mixins.StringMixin,a,Reflux.connect(r,"project"),Reflux.connect(s,"stacks")],propTypes:{access_token:PropTypes.string.isRequired,onFormClose:PropTypes.func.isRequired},getInitialState:function(){return{active_item:null,advanced:!1,class_name:"",class_params_prompt:"",class_params:[],command:"",description:"",imports:"",function:"",form_state:"",operator:"==",operators:_.map(["==","!=",">",">=","<","<="],function(e){return{value:e,label:e}}),param:"",params_prompt:"",params:[],test_contents:"",value:""}},componentWillUpdate:function(e,t){if(!t.form_shown)return this.props.onFormClose()},componentDidUpdate:function(){return autosize($("textarea.custom-height"))},formFields:function(){return["advanced","class_name","class_params_prompt","class_params","command","description","function","imports","operator","param","params_prompt","params","test_contents","value"]},toggleAdvanced:function(){return this.setState({advanced:!this.state.advanced})},updateOperator:function(e){return this.setState({operator:e.value})},onCreate:function(){return this.closeForm(),this.ajaxPost(routes.projects.unit_tests.create({access_token:this.props.access_token}),{data:{unit_test:{advanced:this.advanced(),class_name:this.state.class_name,class_params:_.map(this.state.class_params,"text"),command:this.state.command,description:this.state.description,function:this.state.function,imports:this.imports(),operator:this.state.operator,params:_.map(this.state.params,"text"),test_contents:this.state.test_contents,value:this.state.value}},success:e=>this.createTest("unit_test",e)})},onUpdate:function(){var e;return e=this.state.active_item,this.closeForm(),this.ajaxPatch(routes.projects.unit_tests.update({access_token:this.props.access_token,id:e.id}),{data:{unit_test:{advanced:this.advanced(),class_name:this.state.class_name,class_params:_.map(this.state.class_params,"text"),command:this.state.command,description:this.state.description,function:this.state.function,imports:this.imports(),operator:this.state.operator,params:_.map(this.state.params,"text"),test_contents:this.state.test_contents,value:this.state.value}},success:t=>this.updateTest("unit_test",e,t)})},onDelete:function(){var e;return e=this.state.active_item,this.closeForm(),this.ajaxDelete(routes.projects.unit_tests.destroy({access_token:this.props.access_token,id:e.id}),{success:()=>this.deleteTest("unit_test",e)})},imports:function(){return _.map(_.filter(this.state.imports.split(/\n/),function(e){return e.trim()}),function(e){return e.trim()})},advanced:function(){return this.state.advanced||this.state.project.stack.only_advanced_unit_tests||!1},valid:function(){return this.advanced()?this.state.test_contents.trim()&&this.state.description.trim():this.state.description.trim()&&this.state.function.trim()&&this.state.value.trim()},render:function(){return this.form()},fields:function(){var e;return e=this.state.project.stack.only_advanced_unit_tests,f(null,f({className:"row form-group"},f({className:`col-xs-${e?12:9}`},b(null,x({className:"required-asterisk"},"*"),x(null,"Description"),React.createElement(i,{text:"Unit test description (shown to users)."})),g({className:"form-control",value:this.state.description,name:"description",onChange:this.handleChange})),e?void 0:f({className:"col-xs-3"},b({className:"pull-right"},x(null,"Advanced"),React.createElement(i,{text:"Write the unit test yourself."})),f({className:"text-right"},React.createElement(Toggle,{checked:this.state.advanced,onChange:this.toggleAdvanced})))),this.state.project.stack.unit_test_instructions?f({className:"form-group"},b(null,x(null,"Imports"),React.createElement(i,{text:`Provide ${this.state.project.stack.unit_test_instructions} required, separated by new lines.`})),w({className:"form-control custom-height",name:"imports",value:this.state.imports,onChange:this.handleChange})):void 0,this.advanced()?this.advancedForm():this.basicForm())},advancedForm:function(){return f(null,"swift"===this.state.project.stack.identifier?f({className:"form-group"},b(null,x({className:"required-asterisk"},"*"),"Class Name",React.createElement(i,{text:"Name of the class to create an instance of to test."})),g({className:"form-control",value:this.state.class_name,name:"class_name",onChange:this.handleChange})):void 0,f({className:"form-group"},b(null,x({className:"required-asterisk"},"*"),"Test Contents",React.createElement(i,{text:"Write custom logic for your test here. Be sure to include some form of assert statement."})),w({className:"form-control custom-height",name:"test_contents",onChange:this.handleChange,placeholder:"Write custom logic for your test here (see example below).",value:this.state.test_contents})),f({className:"form-group"},b(null,"Unit Test Example"),v({className:"calculated-pre"},p(null,this.state.project.stack.unit_test_example))),f({className:"form-group row"},this.state.project.default_unit_test_command?f({className:"col-xs-7"},b(null,"Command",React.createElement(i,{text:"Optional override command to run unit tests with. Use {{pwd}} and {{test}} templates if necessary."})),g({className:"form-control",value:this.state.command,name:"command",onChange:this.handleChange,placeholder:this.state.project.default_unit_test_command})):void 0))},basicForm:function(){var e;return f(null,"frontend"!==this.state.project.stack.identifier?f(null,f({className:"form-group"},b(null,"Class Name",React.createElement(i,{text:"(optional) Name of the class to create an instance of to test."})),g({className:"form-control",value:this.state.class_name,name:"class_name",onChange:this.handleChange})),f({className:"form-group"},b(null,"Class Parameters",React.createElement(i,{text:'(optional) Enter parameters to pass to the new class instance. Press "Enter" to save.'})),g({className:"form-control stdin unit-test-form-function-parens",type:"text",name:"class_params_prompt",autoComplete:"off",defaultValue:this.state.class_params_prompt,onChange:this.handleChange,onKeyDown:this.checkSavedItem.bind(null,"class_params")}),function(){var t,n,i,r;for(r=[],t=0,n=(i=this.state.class_params).length;t<n;t++)e=i[t],r.push(f({key:e.key,className:"output-item"},u({className:"delete-input",onClick:this.removeItem.bind(null,"class_params",e.key)},m({className:"far fa-times"})),f({className:"input-text",key:e.key},e.text)));return r}.call(this))):void 0,f({className:"form-group"},b(null,x({className:"required-asterisk"},"*"),x(null,"Function"),React.createElement(i,{text:"Name of the function to test (case sensitive)."})),g({className:"form-control",value:this.state.function,name:"function",onChange:this.handleChange})),f({className:"form-group"},b(null,x(null,"Parameters"),React.createElement(i,{text:'Enter parameters to pass to the function. Press "Enter" to save.'})),g({className:"form-control stdin unit-test-form-function-parens",type:"text",name:"params_prompt",autoComplete:"off",defaultValue:this.state.params_prompt,onChange:this.handleChange,onKeyDown:this.checkSavedItem.bind(null,"params")}),function(){var t,n,i,r;for(r=[],t=0,n=(i=this.state.params).length;t<n;t++)e=i[t],r.push(f({key:e.key,className:"output-item"},u({className:"delete-input",onClick:this.removeItem.bind(null,"params",e.key)},m({className:"far fa-times"})),f({className:"input-text",key:e.key},e.text)));return r}.call(this)),f({className:"row form-group"},f({className:"col-xs-4"},b(null,x({className:"required-asterisk"},"*"),x(null,"Operator"),React.createElement(i,{text:"Operator used to check value returned from function."})),React.createElement(o,{value:this.state.operator,options:this.state.operators,onChange:this.updateOperator,clearable:!1})),f({className:"col-xs-8"},b(null,x({className:"required-asterisk"},"*"),x(null,"Value"),React.createElement(i,{text:"Value that should be returned from function (use quotes around strings)."})),g({className:"form-control",value:this.state.value,name:"value",onChange:this.handleChange}))))}}),e.exports=l},function(e,t,n){var i,r,o,s,a,l,u,c,p,f,d,h,m,g,b,y;n(15),r=n(43),i=n(100),({HelpCircle:o}=n(13)),({a:l,button:u,div:c,h2:p,i:f,img:d,input:h,label:m,p:g,pre:b,span:y}=ReactDOMFactories),s=n(101),a=reactCreateClass({displayName:"WebpageTests",mixins:[i,mixins.AjaxMixin,mixins.ContentEditorFormMixin,mixins.FormMixin,mixins.StringMixin,s,Reflux.connect(r,"container")],propTypes:{access_token:PropTypes.string.isRequired,onFormClose:PropTypes.func.isRequired},getInitialState:function(){return{active_item:null,advanced:!1,description:"",element:"",form_state:"",height:768,image_filename:null,image_url:null,loading:!1,partial:!1,precondition:"",screenshotting:!1,tolerance:0,url:"{{localhost}}",width:1028}},componentWillUpdate:function(e,t){if(!t.form_shown)return this.props.onFormClose()},componentDidUpdate:function(e,t){if(!t.form_state&&"update"===this.state.form_state)return this.loadImage()},formFields:function(){return["code","description","element","height","partial","precondition","tolerance","url","width"]},onCreate:function(){return this.closeForm(),this.ajaxPost(routes.projects.webpage_tests.create({access_token:this.props.access_token}),{data:{webpage_test:{description:this.state.description,element:this.state.element,height:this.state.height,partial:this.state.partial,precondition:this.state.precondition,tolerance:this.state.tolerance,url:this.state.url,width:this.state.width},image_filename:this.state.image_filename},success:e=>this.createTest("webpage_test",e)})},onUpdate:function(){var e;return e=this.state.active_item,this.closeForm(),this.ajaxPatch(routes.projects.webpage_tests.update({access_token:this.props.access_token,id:e.id}),{data:{webpage_test:{description:this.state.description,element:this.state.element,height:this.state.height,partial:this.state.partial,precondition:this.state.precondition,tolerance:this.state.tolerance,url:this.state.url,width:this.state.width},image_filename:this.state.image_filename},success:t=>this.updateTest("webpage_test",e,t)})},onDelete:function(){var e;return e=this.state.active_item,this.closeForm(),this.ajaxDelete(routes.projects.webpage_tests.destroy({access_token:this.props.access_token,id:e.id}),{success:()=>this.deleteTest("webpage_test",e)})},valid:function(){return this.state.url.length&&this.state.description.length&&this.state.image_filename},getScreenshot:function(){return this.setState({screenshotting:!0},()=>this.ajaxPost(routes.projects.screenshot({access_token:this.props.access_token}),{data:{element:this.state.element,height:this.state.height,precondition:this.state.precondition,route:this.state.url,width:this.state.width},success:e=>this.setState({image_filename:e.filename,image_url:e.url,screenshotting:!1},function(){return $("#webpage-test-img").attr("src",e.url)}),error:()=>(this.setState({screenshotting:!1}),$.alert("Could not generate screenshot.","danger"))}))},loadImage:function(){return this.setState({loading:!0},()=>this.ajaxGet(routes.projects.webpage_tests.load_image({access_token:this.props.access_token,id:this.state.active_item.id}),{success:e=>this.setState({loading:!1},()=>{if(e.url)return this.setState({image_url:e.url},function(){return $("#webpage-test-img").attr("src",e.url)})}),error:()=>(this.setState({loading:!1}),$.alert("Could not load screenshot.","danger"))}))},render:function(){return this.form()},fields:function(){return c({id:"webpage-tests"},c({className:"form-group"},m(null,y({className:"required-asterisk"},"*"),y(null,"Description"),React.createElement(o,{text:"Webpage test description (shown to users)."})),h({className:"form-control",value:this.state.description,name:"description",onChange:this.handleChange})),c({className:"form-group row"},c({className:"col-xs-12"},m(null,y({className:"required-asterisk"},"*"),y(null,"URL"),React.createElement(o,{text:"URL to request image from."})),h({className:"form-control",name:"url",value:this.state.url,onChange:this.handleChange,type:"test"}))),c({className:"row"},c({className:"col-xs-12"},l({className:"btn btn-sm btn-action btn-green pull-right bold",onClick:this.getScreenshot,disabled:this.state.screenshotting},this.state.screenshotting?f({className:"fas fa-cog fa-spin"}):"Screenshot"))),c({className:"row bottom-margin-20"},c({className:"col-xs-12"},m(null,y(null,"Screenshot"),React.createElement(o,{text:"The image currently shown at this URL."})),this.state.loading?c({className:"text-blue text-center"},f({className:"fal fa-spinner-third fa-spin"})):this.state.image_url?d({id:"webpage-test-img"}):c({className:"callout info"},g(null,"Click the Screenshot button to save the solution screenshot.")))),c({className:"row form-group"},c({className:"col-xs-12"},m(null,y(null,"Element"),React.createElement(o,{text:"Element selector to limit screenshot to. If multiple elements match, all will be included in the screenshot. If none do, screenshot will be of the entire page."})),c(null,h({placeholder:"e.g. #my-div or .my-class",className:"form-control",name:"element",onChange:this.handleChange,value:this.state.element})))),this.state.advanced?c(null,c({className:"row form-group"},c({className:"col-xs-3"},m(null,y(null,"Height"),React.createElement(o,{text:"Height of screenshot (smaller results in higher accuracy comparison)."})),c(null,h({className:"form-control",min:1,max:1536,name:"height",onChange:this.handleChange,type:"number",value:this.state.height}))),c({className:"col-xs-3"},m(null,y(null,"Width"),React.createElement(o,{text:"Width of screenshot (smaller results in higher accuracy comparison)."})),c(null,h({className:"form-control",min:1,max:2048,name:"width",onChange:this.handleChange,type:"number",value:this.state.width}))),c({className:"col-xs-3"},m(null,y(null,"Tolerance %"),React.createElement(o,{text:"Percent difference that must be met for test to pass (5% grace will be given because the web is a scary place)."})),c(null,h({className:"form-control",min:0,max:100,name:"tolerance",onChange:this.handleChange,type:"number",value:this.state.tolerance,step:1}))),c({className:"col-xs-3"},m(null,y(null,"Partial"),React.createElement(o,{text:"Allow partial grading instead of pass / fail."})),c(null,React.createElement(Toggle,{checked:this.state.partial,onChange:this.toggle.bind(null,"partial")})))),c({className:"row form-group bottom-margin"},c({className:"col-xs-12"},m(null,y(null,"Precondition"),React.createElement(o,{text:"Condition that must be true for the screenshot to be taken. Must result in a truthy value. Use vanilla JavaScript unless you have loaded other libraries (e.g. jQuery) in the webpage."})),c(null,h({placeholder:'e.g. document.getElementsByClassName("my-class").length',className:"form-control",name:"precondition",onChange:this.handleChange,value:this.state.precondition}))))):c({className:"col-xs-12"},l({onClick:()=>this.setState({advanced:!0})},"Show Advanced Settings")))}}),e.exports=a},function(e,t,n){var i,r,o,s,a,l,u;i=n(23),s=n(15),({div:a,h2:l,img:u}=ReactDOMFactories),o=n(57).default,r=reactCreateClass({displayName:"InterfaceTheme",mixins:[mixins.AjaxMixin,mixins.ImageMixin,Reflux.connect(s,"project")],updateTheme:function(e){return this.ajaxPatch(iRoutes.contents.update({id:this.state.project.content.id}),{internal:!0,data:{project:{color_scheme:e.value}},success:function(e){return window.project_theme=e.project.color_scheme,i.setProperty("color_scheme",e.project.color_scheme)}})},render:function(){return a({id:"theme",className:"settings-screen-section"},a({className:"header-container"},l({className:"header"},"Starting Theme"),a({className:"description"},"Customize the color theme of your content.")),a({className:"contents"},React.createElement(o,{value:this.state.project.color_scheme,options:[{label:"Light",value:"light"},{label:"Dark",value:"dark"},{label:"Dev",value:"dev"}],onChange:this.updateTheme,clearable:!1})))}}),e.exports=r},function(e,t,n){var i,r,o,s,a,l,u;i=n(23),s=n(15),({div:a,h2:l,input:u}=ReactDOMFactories),({HelpCircle:o}=n(13)),r=reactCreateClass({displayName:"ComponentsWebBrowser",mixins:[mixins.AjaxMixin,mixins.FormMixin,Reflux.connect(s,"project")],propTypes:{access_token:PropTypes.string.isRequired},render:function(){return a({id:"web-browser-settings",className:"settings-screen-section"},a({className:"header-container"},l({className:"header"},"Web Browser Settings"),a({className:"description"},"Configure the lightweight web browser to fit your use case.")),a({className:"contents"},a({className:"option-container"},a({className:"row top-margin-20"},a({className:"col-xs-12"},a({className:"option-header"},"File Proxy Port",React.createElement(o,{text:"Port to start the built-in file proxy on (reload the page after changing this value to see it take effect)."})),a({className:"option-field pull-right"},a(null,u({className:"form-control",name:"default_port",defaultValue:this.state.project.default_port,type:"number",onChange:this.handleAutosavedChange.bind(null,this.saveScript.bind(null,"default_port",function(e){return i.setProperty("default_port",e.project.default_port)}))})))))),a({className:"option-container"},a({className:"row top-margin-20"},a({className:"col-xs-12"},a({className:"option-header"},"Starting Browser URL",React.createElement(o,{text:"URL to load in web preview initially."})),u({className:"form-control",name:"website_url",defaultValue:this.state.project.website_url,onChange:this.handleAutosavedChange.bind(null,this.saveScript.bind(null,"website_url",function(e){return i.setProperty("website_url",e.project.website_url)}))}))))))}}),e.exports=r}]);
//# sourceMappingURL=project-bundle-e6e67e53cf90db17d2a1.js.map